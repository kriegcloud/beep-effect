module.exports=[422598,969005,853076,138099,453912,226468,735967,e=>{"use strict";var t,r,i=e.i(411237);e.i(83996);var n=e.i(350097),n=n;let o=n.make("account",{brand:"AccountId",annotations:{description:"A unique identifier for an account",schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/AccountId")}}),a=n.make("apikey",{brand:"ApiKeyId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/ApiKey"),description:"A unique identifier for an api key"}}),s=n.make("invitation",{brand:"InvitationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/InvitationId"),description:"A unique identifier for an invitation"}}),l=n.make("jwks",{brand:"JwksId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/JwksId"),description:"A unique identifier for a jwks"}}),u=n.make("member",{brand:"MemberId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/MemberId"),description:"A unique identifier for a member"}}),c=n.make("oauth_access_token",{brand:"OAuthAccessTokenId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthAccessTokenId"),description:"A unique identifier for an oauth access token"}}),d=n.make("oauth_application",{brand:"OAuthApplicationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthApplicationId"),description:"A unique identifier for an oauth application"}}),p=n.make("oauth_consent",{brand:"OAuthConsentId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthConsentId"),description:"A unique identifier for an oauth consent"}}),f=n.make("passkey",{brand:"Passkey",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/PasskeyId"),description:"A unique identifier for a passkey"}}),h=n.make("rate_limit",{brand:"RateLimitId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/RateLimitId"),description:"A unique identifier for a rate limit"}}),m=n.make("session",{brand:"SessionId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SessionId"),description:"A unique identifier for a session"}}),g=n.make("sso_provider",{brand:"SsoProviderId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SsoProviderId"),description:"A unique identifier for an sso provider"}}),y=n.make("subscription",{brand:"SubscriptionId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SubscriptionId"),description:"A unique identifier for a subscription"}}),v=n.make("team_member",{brand:"TeamMemberId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/TeamMemberId"),description:"A unique identifier for a team member"}}),b=n.make("two_factor",{brand:"TwoFactorId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/TwoFactorId"),description:"A unique identifier for a two factor"}}),A=n.make("verification",{brand:"VerificationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/VerificationId"),description:"A unique identifier for a verification"}}),w=n.make("wallet_address",{brand:"WalletAddressId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/WalletAddressId"),description:"A unique identifier for a wallet address"}}),_=n.make("organization_role",{brand:"OrganizationRoleId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OrganizationRoleId"),description:"A unique identifier for an organization role"}}),S=n.make("device_code",{brand:"OrganizationRoleId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/DeviceCodeId"),description:"A unique identifier for a device code"}});e.s(["AccountId",0,o,"ApiKeyId",0,a,"DeviceCodeId",0,S,"InvitationId",0,s,"JwksId",0,l,"MemberId",0,u,"OAuthAccessTokenId",0,c,"OAuthApplicationId",0,d,"OAuthConsentId",0,p,"OrganizationRoleId",0,_,"PasskeyId",0,f,"RateLimitId",0,h,"SessionId",0,m,"SsoProviderId",0,g,"SubscriptionId",0,y,"TeamMemberId",0,v,"TwoFactorId",0,b,"VerificationId",0,A,"WalletAddressId",0,w],969005);var n=n;let E=n.make("organization",{brand:"OrganizationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/OrganizationId"),description:"A unique identifier for an organization"}}),T=n.make("team",{brand:"TeamId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/TeamId"),description:"A unique identifier for a team"}}),I=n.make("file",{brand:"FileId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/FileId"),description:"A unique identifier for a file"}}),x=n.make("audit_log",{brand:"AuditLogId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/AuditLogId"),description:"A unique identifier for an audit log"}}),O=n.make("user",{brand:"UserId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/UserId"),description:"A unique identifier for a user"}});e.s(["AuditLogId",0,x,"FileId",0,I,"OrganizationId",0,E,"TeamId",0,T,"UserId",0,O],853076);class C extends i.Union(o,a,s,u,d,c,p,f,m,g,y,y,v,b,A,w,_,S,E,T,O).annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/AnyEntityId"),description:"Any entity id",title:"Any Entity Id",identifier:"AnyEntityId"}){}e.s(["AnyEntityId",()=>C],422598),e.i(548383);var k=e.i(945545);!function(e){e.SharedTableNameKit=k.BS.stringLiteralKit(I.tableName,T.tableName,E.tableName,O.tableName,x.tableName);class t extends e.SharedTableNameKit.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SharedTableName"),description:"The set of table_names for entityIds within the shared-kernel",identifier:"SharedTableName",title:"Shared Table Name"}){static Tagged=e.SharedTableNameKit.toTagged("tableName");static Enum=e.SharedTableNameKit.Enum;static Options=e.SharedTableNameKit.Options;static is=e.SharedTableNameKit.is}e.SharedTableName=t}(t||(t={})),function(e){e.IamTableNameKit=k.BS.stringLiteralKit(o.tableName,a.tableName,s.tableName,l.tableName,u.tableName,c.tableName,d.tableName,p.tableName,f.tableName,h.tableName,m.tableName,g.tableName,y.tableName,v.tableName,b.tableName,A.tableName,w.tableName,_.tableName,S.tableName);class t extends e.IamTableNameKit.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/IamTableName"),description:"The set of table_names for entityIds within the iam domain slice",identifier:"IamTableName",title:"Iam Table Name"}){static Tagged=e.IamTableNameKit.toTagged("tableName");static Enum=e.IamTableNameKit.Enum;static Options=e.IamTableNameKit.Options;static is=e.IamTableNameKit.is}e.IamTableName=t}(r||(r={}));let N=k.BS.stringLiteralKit(...r.IamTableNameKit.Options,...t.SharedTableNameKit.Options);class R extends N.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/AnyTableName"),description:"The set of table_names for entityIds within the shared-kernel and iam domain slices",identifier:"AnyTableName",title:"Any Table Name"}){static Tagged=N.toTagged("tableName");static Enum=N.Enum;static Options=N.Options}e.s(["AnyTableName",()=>R,"AnyTableNameKit",0,N,"IamTableNames",()=>r,"SharedTableNames",()=>t],138099);let P=k.BS.stringLiteralKit(...r.IamTableNameKit.Options,...t.SharedTableNameKit.Options);class D extends P.Schema.annotations({schemaId:Symbol.for("@beep/shared-domain/EntityKind"),description:"The set of entity_kinds for entityIds within the shared-kernel",title:"Entity Kind",identifier:"EntityKind"}){static Tagged=P.toTagged("__entityKind");static Options=P.Options;static Enum=P.Enum;static is=P.is}e.s(["EntityKind",()=>D,"EntityKindKit",0,P],453912);var n=n;let U=n.make("inventory",{brand:"InventoryId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/InventoryId"),description:"A unique identifier for an inventory"}}),L=n.make("item",{brand:"ItemId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/ItemId"),description:"A unique identifier for an item"}}),K=n.make("location",{brand:"LocationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/LocationId"),description:"A unique identifier for a location"}}),M=n.make("order",{brand:"OrderId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/OrderId"),description:"A unique identifier for an order"}}),B=n.make("uom",{brand:"UomId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/UomId"),description:"A unique identifier for a uom"}}),j=n.make("warehouse",{brand:"WarehouseId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/WarehouseId"),description:"A unique identifier for a warehouse"}}),$=n.make("work",{brand:"WorkId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/WorkId"),description:"A unique identifier for a work"}});e.s(["InventoryId",0,U,"ItemId",0,L,"LocationId",0,K,"OrderId",0,M,"UomId",0,B,"WarehouseId",0,j,"WorkId",0,$],713591),e.s([],226468),e.i(226468),e.i(422598),e.i(453912);var z=e.i(969005),F=e.i(853076);e.i(138099),e.i(713591),e.s(["IamEntityIds",0,z,"SharedEntityIds",0,F],735967)},581994,198565,27909,356733,899508,422896,341010,42799,241552,691896,267182,621260,126459,198765,892469,789526,177148,329665,937731,811532,944936,450826,612442,e=>{"use strict";e.i(548383);var t=e.i(945545),r=e.i(301925),i=e.i(411237),n=t,o=r,a=i;let s={createdAt:n.BS.DateTimeInsertFromDateOmittable({description:"The date and time the record was created"}),updatedAt:n.BS.DateTimeUpdateFromDateOmittable({description:"The date and time the record was last updated"}),deletedAt:n.BS.FieldOptionOmittable(n.BS.DateTimeFromDate({description:"If not null, the date and time the record was deleted"}))},l={...{createdBy:n.BS.FieldOptionOmittable(a.String),updatedBy:n.BS.FieldOptionOmittable(a.String),deletedBy:n.BS.FieldOptionOmittable(a.String)},...s,version:o.Generated(a.Int.pipe(a.greaterThanOrEqualTo(1))),source:n.BS.FieldOptionOmittable(a.String)},u=(e,t)=>({...{...{id:e.modelIdSchema,_rowId:e.modelRowIdSchema},...l},...t});e.s(["makeFields",0,u],198565);var c=e.i(422598),d=e.i(969005),p=e.i(853076),f=e.i(138099);class h extends r.Class("AuditLogModel")(u(p.AuditLogId,{entityKind:f.AnyTableName,entityId:c.AnyEntityId,action:i.String,userSessionId:t.BS.FieldOptionOmittable(d.SessionId),userId:p.UserId,userEmail:r.Sensitive(t.BS.Email.annotations({description:"The user's email address"})),userIp:t.BS.FieldOptionOmittable(t.BS.IP),oldValues:t.BS.FieldOptionOmittable(t.BS.Json),oldValuesJson:t.BS.FieldOptionOmittable(t.BS.Json),newValues:t.BS.FieldOptionOmittable(t.BS.Json),newValuesJson:t.BS.FieldOptionOmittable(t.BS.Json),metadataJson:t.BS.FieldOptionOmittable(t.BS.Json),metadata:t.BS.FieldOptionOmittable(t.BS.Json)})){}e.s(["Model",()=>h],27909),e.s([],356733);var m=r;e.i(226468),e.s([],899508);var g=e.i(735967);class y extends m.Class("FileModel")(u(g.SharedEntityIds.FileId,{organizationId:g.SharedEntityIds.OrganizationId})){}e.s(["Model",()=>y],422896),e.i(983651);var v=e.i(840841),b=t,A=e.i(772767),w=e.i(405614),_=e.i(408043),S=e.i(862396),E=i,T=c,I=e.i(453912),x=g,O=t;e.i(177132);var C=e.i(562808),k=e.i(963305),N=r,R=i,P=g;let D=t.BS.stringLiteralKit("individual","team","enterprise"),U=D.toPgEnum,L=D.Enum,K=D.Options;class M extends D.Schema.annotations({schemaId:Symbol.for("@beep/shared-domain/Organization/schemas/OrganizationType"),identifier:"OrganizationType",title:"Organization Type",description:"The type of organization (individual, team, enterprise)"}){static Options=D.Options;static Enum=D.Enum}e.s(["OrganizationType",()=>M,"OrganizationTypeEnum",0,L,"OrganizationTypeOptions",0,K,"makeOrganizationTypePgEnum",0,U,"organizationTypeKit",0,D],341010);let B=t.BS.stringLiteralKit("active","canceled"),j=B.toPgEnum,$=B.Enum,z=B.Options;class F extends B.Schema{static Options=B.Options;static Enum=B.Enum}e.s(["SubscriptionStatus",()=>F,"SubscriptionStatusEnum",0,$,"SubscriptionStatusOptions",0,z,"makeSubscriptionStatusPgEnum",0,j],42799);let q=t.BS.stringLiteralKit("free","plus","pro","enterprise"),V=q.toPgEnum,H=q.Enum,G=q.Options;class W extends q.Schema{static Options=q.Options;static Enum=q.Enum}e.s(["SubscriptionTier",()=>W,"SubscriptionTierEnum",0,H,"SubscriptionTierOptions",0,G,"makeSubscriptionTierPgEnum",0,V],241552),e.s([],691896);let Z=Symbol.for("@beep/shared-domain/OrganizationModel");class J extends N.Class("OrganizationModel")(u(P.SharedEntityIds.OrganizationId,{name:R.NonEmptyString.annotations({description:"The organization's display name"}),slug:C.Slug.pipe(R.pattern(/^[a-z0-9]+(?:-[a-z0-9]+)*$/),R.minLength(2),R.maxLength(50)).annotations({description:"URL-friendly identifier for the organization"}),logo:O.BS.FieldOptionOmittable(k.Url.annotations({description:"URL to the organization's logo"})),metadata:O.BS.FieldOptionOmittable(R.String.annotations({description:"JSON metadata for additional organization data"})),type:O.BS.toOptionalWithDefault(M)(L.individual).annotations({description:"The type of the organization"}),ownerUserId:P.SharedEntityIds.UserId.annotations({description:"The owner of the organization"}),isPersonal:O.BS.BoolFalse.annotations({description:"Whether this organization is auto-created for a user"}),maxMembers:O.BS.FieldOptionOmittable(R.NonNegativeInt.annotations({description:"The maximum number of members allowed in the organization"})),features:O.BS.FieldOptionOmittable(O.BS.Json),settings:O.BS.FieldOptionOmittable(O.BS.Json),subscriptionTier:O.BS.toOptionalWithDefault(W)(W.Enum.free).annotations({description:"The subscription tier of the organization"}),subscriptionStatus:O.BS.toOptionalWithDefault(F)(F.Enum.active).annotations({description:"The subscription status of the organization"})}),{title:"Organization Model",description:"Organization model representing organizations.",schemaId:Z}){}e.s(["Model",()=>J,"OrganizationModelSchemaId",0,Z],267182),e.s([],621260);class Q extends E.String.annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefixEncoded"),identifier:"ShardPrefixEncoded",title:"Shard Prefix Encoded",description:"Raw string representation of a two-character hexadecimal shard prefix for S3 load distribution. Used to distribute files across S3 prefixes to prevent hotspotting.",examples:["a1","f3","00","ff","2b"]}){}class Y extends E.NonEmptyTrimmedString.pipe(E.pattern(b.BS.Regex.make(/^[0-9a-f]{2}$/i)),E.brand("ShardPrefixDecoded")).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefixDecoded"),identifier:"ShardPrefixDecoded",title:"Shard Prefix Decoded",description:"Validated two-character hexadecimal shard prefix with branded type safety. Ensures proper format (exactly 2 hex characters) for consistent S3 load distribution.",examples:[b.BS.makeBranded("a1"),b.BS.makeBranded("F3"),b.BS.makeBranded("00"),b.BS.makeBranded("ff"),b.BS.makeBranded("2B")]}){}class X extends E.transformOrFail(Q,Y,{strict:!0,decode:(e,t,r)=>S.try({try:()=>S.decodeUnknownSync(Y)(e),catch:()=>new S.Type(r,e,"Invalid shard prefix format: must be exactly 2 hexadecimal characters")}),encode:(e,t,r)=>S.try({try:()=>S.decodeUnknownSync(Q)(e),catch:()=>new S.Type(r,e,"Failed to encode shard prefix to string representation")})}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefix"),identifier:"ShardPrefix",title:"Shard Prefix Transformation",description:"Bidirectional transformation for shard prefixes with validation. Converts between raw strings and validated branded types while ensuring proper hexadecimal format for S3 load distribution."}){static fromFileId=e=>{let t=Math.abs(_.string(e)).toString(16).slice(0,2).padStart(2,"0");return S.decodeSync(X)(t)}}let ee=["/",v.EnvValue,"/","tenants","/",Q,"/",M,"/",E.encodedSchema(x.SharedEntityIds.OrganizationId),"/",E.String,"/",E.String,"/",E.String,"/",b.BS.YearEncoded,"/",b.BS.MonthNumber,"/",E.encodedSchema(x.SharedEntityIds.FileId),".",E.String];class et extends E.TemplateLiteral(...ee).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathEncoded"),identifier:"UploadPathEncoded",title:"Upload Path Encoded",description:"Complete S3 object key as a string following the standardized upload path format: /{env}/tenants/{shard}/{orgType}/{orgId}/{entityKind}/{entityId}/{attribute}/{year}/{month}/{fileId}.{ext}"}){}let er=E.TemplateLiteralParser(...ee).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathParser"),identifier:"UploadPathParser",title:"Upload Path Parser",description:"Bidirectional parser for upload path strings. Converts between string paths and typed component arrays, validating each segment according to its schema definition."}),ei=b.BS.Struct({env:v.EnvValue,fileId:x.SharedEntityIds.FileId,organizationType:M,organizationId:x.SharedEntityIds.OrganizationId,entityKind:I.EntityKind,entityIdentifier:T.AnyEntityId,entityAttribute:E.String,fileItemExtension:b.BS.FileExtension}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathDecoded"),identifier:"UploadPathDecoded",title:"Upload Path Decoded Structure",description:"Structured data representation for upload paths. Contains all user-provided components needed to generate S3 paths. System automatically injects timestamp and shard prefix during encoding.",examples:[{env:"dev",fileId:x.SharedEntityIds.FileId.make("file__12345678-1234-1234-1234-123456789012"),organizationType:"individual",organizationId:x.SharedEntityIds.OrganizationId.make("organization__87654321-4321-4321-4321-210987654321"),entityKind:"user",entityIdentifier:x.SharedEntityIds.UserId.make("user__12345678-1234-1234-1234-123456789012"),entityAttribute:"avatar",fileItemExtension:"jpg"}]});class en extends E.transformOrFail(ei,et,{strict:!0,decode:(e,t,r)=>{let i=A.now.pipe(w.flatMap(t=>w.flatMap(w.all([w.succeed(t),w.succeed(X.fromFileId(e.fileId)),E.encode(b.BS.FileExtension)(e.fileItemExtension),E.decode(b.BS.MonthNumberFromMonthInt)(A.getPartUtc(t,"month"))]),([t,r,i,n])=>w.flatMap(E.encode(er)(["/",e.env,"/","tenants","/",r,"/",e.organizationType,"/",e.organizationId,"/",e.entityKind,"/",e.entityIdentifier,"/",e.entityAttribute,"/",A.getPartUtc(t,"year"),"/",n,"/",e.fileId,".",i]),e=>E.decode(et)(e)))));return w.try({try:()=>w.runSync(i),catch:t=>new S.Type(r,e,`Invalid upload path: ${t}`)})},encode:(e,t,r)=>{let i=w.flatMap(E.decode(er)(e),e=>w.flatMap(w.all([w.succeed(e[1]),w.succeed(e[7]),E.decodeUnknown(x.SharedEntityIds.OrganizationId)(e[9]),E.decodeUnknown(I.EntityKind)(e[11]),E.decodeUnknown(T.AnyEntityId)(e[13]),w.succeed(e[15]),E.decodeUnknown(x.SharedEntityIds.FileId)(e[21]),E.decodeUnknown(b.BS.FileExtension)(e[23])]),([e,t,r,i,n,o,a,s])=>E.decode(ei)({env:e,fileId:a,organizationType:t,organizationId:r,entityKind:i,entityIdentifier:n,entityAttribute:o,fileItemExtension:s})));return w.try({try:()=>w.runSync(i),catch:t=>new S.Type(r,e,`Failed to parse upload path: ${t}`)})}}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPath"),identifier:"UploadPath",title:"Upload Path Transformation",description:"Complete bidirectional transformation system for S3 upload paths. Handles conversion between structured upload data and S3 object keys with automatic timestamp injection, shard generation, and comprehensive validation. Ensures consistent path format across all file operations.",documentation:"Automatic shard prefix generation using fileId hash for load distribution\n- Current timestamp injection (year/month) for temporal organization\n- Comprehensive validation of all path components and format\n- Type-safe transformations with Effect-based error handling\n- Supports all entity types: organization, user, team\n- Compatible with all environments: dev, staging, prod"}){}e.s(["ShardPrefix",()=>X,"ShardPrefixDecoded",()=>Y,"ShardPrefixEncoded",()=>Q,"UploadPath",()=>en,"UploadPathDecoded",0,ei,"UploadPathEncoded",()=>et,"UploadPathParser",0,er],126459),e.s([],198765),e.s([],892469);var eo=t,ea=r,es=i,el=g;let eu=Symbol.for("@beep/shared-domain/TeamModel");class ec extends ea.Class("TeamModel")(u(el.SharedEntityIds.TeamId,{name:es.NonEmptyString.annotations({description:"The team's name"}),description:eo.BS.FieldOptionOmittable(es.String.annotations({description:"Description of the team's purpose"})),slug:eo.BS.Slug.annotations({description:"URL-friendly team identifier"}),metadata:eo.BS.FieldOptionOmittable(es.String.annotations({description:"JSON metadata for additional team data"}))}),{title:"Team Model",description:"Team model representing teams within organizations.",schemaId:eu}){}e.s(["Model",()=>ec,"TeamModelSchemaId",0,eu],789526),e.s([],177148);let ed=t.BS.stringLiteralKit("male","female"),ep=ed.Enum,ef=ed.toPgEnum,eh=ed.Options;class em extends ed.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/User/UserGender"),identifier:"UserGender",title:"User Gender",description:"The user's role in the system"}){static Options=ed.Options;static Enum=ed.Enum;static DropDownOptions=ed.Options.map(e=>({label:e,value:e}))}e.s(["UserGender",()=>em,"UserGenderEnum",0,ep,"UserGenderKit",0,ed,"UserGenderOptions",0,eh,"makeUserGenderPgEnum",0,ef],329665);let eg=t.BS.stringLiteralKit("admin","super_admin","user","tenant","guest"),ey=eg.Enum,ev=eg.toPgEnum,eb=eg.Options;class eA extends eg.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/User/UserRole"),identifier:"UserRole",title:"User Role",description:"The user's role in the system"}){static Options=eg.Options;static Enum=eg.Enum}e.s(["UserRole",()=>eA,"UserRoleEnum",0,ey,"UserRoleKit",0,eg,"UserRoleOptions",0,eb,"makeUserRolePgEnum",0,ev],937731),e.s([],811532);var ew=t,e_=r,eS=i,eE=g;class eT extends e_.Class("UserModel")(u(eE.SharedEntityIds.UserId,{name:eS.NonEmptyString.annotations({description:"The user's display name"}),email:ew.BS.Email.annotations({description:"The user's email address"}),emailVerified:ew.BS.BoolWithDefault(!1),image:ew.BS.FieldOptionOmittable(eS.String.pipe(eS.pattern(/^https?:\/\/.+/)).annotations({description:"URL to the user's profile image"})),role:ew.BS.toOptionalWithDefault(eA)(eA.Enum.user).annotations({description:"The user's role in the system"}),gender:ew.BS.toOptionalWithDefault(em)(em.Enum.male).annotations({description:"The user's gender"}),banned:ew.BS.BoolWithDefault(!1).annotations({description:"Whether the user is currently banned"}),banReason:ew.BS.FieldOptionOmittable(eS.NonEmptyString.annotations({description:"Reason why the user was banned"})),banExpires:ew.BS.FieldOptionOmittable(ew.BS.DateTimeFromDate({description:"When the user's ban expires"})),isAnonymous:ew.BS.BoolWithDefault(!1).annotations({description:"Whether this user is anonymous (guest user)"}),phoneNumber:ew.BS.FieldOptionOmittable(ew.BS.Phone.annotations({description:"The user's phone number"})),phoneNumberVerified:ew.BS.BoolWithDefault(!1).annotations({description:"Whether the user's phone number has been verified"}),twoFactorEnabled:ew.BS.BoolWithDefault(!1).annotations({description:"Whether two-factor authentication is enabled for this user"}),username:ew.BS.FieldOptionOmittable(eS.NonEmptyTrimmedString.pipe(eS.lowercased()).annotations({description:"The user's username"})),displayUsername:ew.BS.FieldOptionOmittable(eS.NonEmptyTrimmedString.annotations({description:"The user's display name"})),stripeCustomerId:ew.BS.FieldOptionOmittable(eS.NonEmptyString.annotations({description:"Stripe customer ID for billing integration"})),lastLoginMethod:ew.BS.FieldOptionOmittable(eS.NonEmptyString.annotations({description:"The user's last login method"}))}),{title:"User Model",description:"User model representing application users with authentication and profile data.",schemaId:Symbol.for("@beep/iam-domain/UserModel")}){}e.s(["Model",()=>eT],944936);var eI=t,ex=e.i(65632);class eO extends eI.BS.Class("NewUser")(eT.insert.pick("email","name","username","phoneNumber","gender","displayUsername"),{schemaId:Symbol.for("@beep/iam-domain/User/NewUser"),title:"New User",description:"The shape of a new user"}){static create=e=>eT.insert.make({email:e.email,name:e.name,username:e.username,phoneNumber:e.phoneNumber,gender:e.gender,displayUsername:e.displayUsername,emailVerified:!1,phoneNumberVerified:!1,banned:!1,createdBy:ex.some("system"),updatedBy:ex.some("system"),source:ex.some("sign-up")})}e.s(["NewUser",()=>eO],450826),e.s([],612442),e.s([],581994)},822676,e=>{"use strict";e.i(581994),e.s([])},489878,e=>{"use strict";e.i(581994),e.i(356733);var t=e.i(27909);e.s(["Model",()=>t.Model],504685),e.i(504685),e.i(892469);var r=e.i(422896);e.i(198765);var i=e.i(126459);e.s(["ShardPrefix",()=>i.ShardPrefix,"ShardPrefixDecoded",()=>i.ShardPrefixDecoded,"ShardPrefixEncoded",()=>i.ShardPrefixEncoded,"UploadPath",()=>i.UploadPath,"UploadPathDecoded",()=>i.UploadPathDecoded,"UploadPathEncoded",()=>i.UploadPathEncoded,"UploadPathParser",()=>i.UploadPathParser],40472),e.i(40472),e.s(["Model",()=>r.Model,"ShardPrefix",()=>i.ShardPrefix,"ShardPrefixDecoded",()=>i.ShardPrefixDecoded,"ShardPrefixEncoded",()=>i.ShardPrefixEncoded,"UploadPath",()=>i.UploadPath,"UploadPathDecoded",()=>i.UploadPathDecoded,"UploadPathEncoded",()=>i.UploadPathEncoded,"UploadPathParser",()=>i.UploadPathParser],604107);var n=e.i(604107);e.i(621260);var o=e.i(267182);e.i(691896);var a=e.i(341010),s=e.i(42799),l=e.i(241552);e.s(["OrganizationType",()=>a.OrganizationType,"OrganizationTypeEnum",()=>a.OrganizationTypeEnum,"OrganizationTypeOptions",()=>a.OrganizationTypeOptions,"SubscriptionStatus",()=>s.SubscriptionStatus,"SubscriptionStatusEnum",()=>s.SubscriptionStatusEnum,"SubscriptionStatusOptions",()=>s.SubscriptionStatusOptions,"SubscriptionTier",()=>l.SubscriptionTier,"SubscriptionTierEnum",()=>l.SubscriptionTierEnum,"SubscriptionTierOptions",()=>l.SubscriptionTierOptions,"makeOrganizationTypePgEnum",()=>a.makeOrganizationTypePgEnum,"makeSubscriptionStatusPgEnum",()=>s.makeSubscriptionStatusPgEnum,"makeSubscriptionTierPgEnum",()=>l.makeSubscriptionTierPgEnum,"organizationTypeKit",()=>a.organizationTypeKit],811914),e.i(811914),e.s(["Model",()=>o.Model,"OrganizationModelSchemaId",()=>o.OrganizationModelSchemaId,"OrganizationType",()=>a.OrganizationType,"OrganizationTypeEnum",()=>a.OrganizationTypeEnum,"OrganizationTypeOptions",()=>a.OrganizationTypeOptions,"SubscriptionStatus",()=>s.SubscriptionStatus,"SubscriptionStatusEnum",()=>s.SubscriptionStatusEnum,"SubscriptionStatusOptions",()=>s.SubscriptionStatusOptions,"SubscriptionTier",()=>l.SubscriptionTier,"SubscriptionTierEnum",()=>l.SubscriptionTierEnum,"SubscriptionTierOptions",()=>l.SubscriptionTierOptions,"makeOrganizationTypePgEnum",()=>a.makeOrganizationTypePgEnum,"makeSubscriptionStatusPgEnum",()=>s.makeSubscriptionStatusPgEnum,"makeSubscriptionTierPgEnum",()=>l.makeSubscriptionTierPgEnum,"organizationTypeKit",()=>a.organizationTypeKit],280420);var u=e.i(280420);e.i(177148);var c=e.i(789526);e.s(["Model",()=>c.Model,"TeamModelSchemaId",()=>c.TeamModelSchemaId],445189);var d=e.i(445189);e.i(612442),e.i(811532);var p=e.i(329665),f=e.i(937731);e.s(["UserGender",()=>p.UserGender,"UserGenderEnum",()=>p.UserGenderEnum,"UserGenderKit",()=>p.UserGenderKit,"UserGenderOptions",()=>p.UserGenderOptions,"UserRole",()=>f.UserRole,"UserRoleEnum",()=>f.UserRoleEnum,"UserRoleKit",()=>f.UserRoleKit,"UserRoleOptions",()=>f.UserRoleOptions,"makeUserGenderPgEnum",()=>p.makeUserGenderPgEnum,"makeUserRolePgEnum",()=>f.makeUserRolePgEnum],408119),e.i(408119);var h=e.i(944936),m=e.i(450826);e.s(["Model",()=>h.Model,"NewUser",()=>m.NewUser,"UserGender",()=>p.UserGender,"UserGenderEnum",()=>p.UserGenderEnum,"UserGenderKit",()=>p.UserGenderKit,"UserGenderOptions",()=>p.UserGenderOptions,"UserRole",()=>f.UserRole,"UserRoleEnum",()=>f.UserRoleEnum,"UserRoleKit",()=>f.UserRoleKit,"UserRoleOptions",()=>f.UserRoleOptions,"makeUserGenderPgEnum",()=>p.makeUserGenderPgEnum,"makeUserRolePgEnum",()=>f.makeUserRolePgEnum],925301);var g=e.i(925301);e.s(["File",0,n,"Organization",0,u,"Team",0,d,"User",0,g],489878)},127147,e=>{"use strict";e.i(715966);var t=e.i(323531),r=e.i(842862);let i=t.PathBuilder.createRoot("/auth"),n=i.child("sign-in"),o=i.child("sign-up"),a=i.child("update-password"),s=i.child("request-reset-password"),l=i.child("reset-password"),u=i.child("verify-email"),c=i.child("verify-phone"),d=c.child("resend"),p=i.child("accept-invitation"),f=i.child("passkey"),h=f.child("manage"),m=f.child("register"),g=i.child("anonymous"),y=g.child("upgrade"),v=i.child("sign-out"),b=i.child("one-time-token"),A=b.child("generate"),w=b.child("verify"),_=i.child("siwe"),S=_.child("connect"),E=_.child("verify"),T=i.child("oauth"),I=T.child("callback"),x=T.child("success"),O=T.child("error"),C=T.child("complete"),k=T.child("link"),N=e=>T.child(e),R=i.child("callback"),P=i.child("status"),D=i.child("success"),U=i.child("failure"),L=i.child("two-factor"),K=L.child("challenge"),M=L.child("otp"),B=L.child("totp"),j=L.child("recovery"),$=L.child("backup-codes"),z=L.child("devices"),F=i.child("device"),q=F.child("start"),V=F.child("poll"),H=F.child("verify"),G=F.child("status"),W=e=>t.PathBuilder.createRoot("/account").child(e),Z=t.PathBuilder.createRoot("/dashboard"),J=Z.child("billing"),Q=J.child("subscribe"),Y=J.child("portal"),X=J.child("success"),ee=J.child("cancel"),et=J.child("history"),er=Z.child("security"),ei=er.child("sessions"),en=er.child("devices"),eo=er.child("passkeys"),ea=er.child("two-factor"),es=er.child("recovery-codes"),el=er.child("jwt"),eu=Z.child("api-keys"),ec=eu.child("new"),ed=e=>eu.child(e),ep=Z.child("admin"),ef=ep.child("users"),eh=e=>ef.child(e),em=ep.child("sso"),eg=e=>em.child(e),ey=ep.child("oidc"),ev=e=>ey.child(e),eb=ep.child("permissions"),eA=ep.child("oauth-clients"),ew=e=>eA.child(e),e_=Z.child("user"),eS=Z.child("file-manager"),eE=e=>t.PathBuilder.createRoot("/organizations").child(e),eT=t.PathBuilder.createRoot("/oauth2"),eI=eT.child("authorize"),ex=eT.child("consent"),eO=eT.child("register"),eC=eT.child("userinfo"),ek=eT.child("clients"),eN=e=>ek.child(e),eR=t.PathBuilder.createRoot("/api"),eP=eR.child("auth"),eD=eP.child("jwks"),eU=eP.child("device"),eL=eR.child("oauth2"),eK=eL.child("authorize"),eM=eL.child("token"),eB=eL.child("userinfo"),ej=eL.child("register"),e$=eL.child("client"),ez=e=>e$.child(e),eF=t.PathBuilder.collection({root:"/",comingSoon:"/coming-soon",maintenance:"/maintenance",pricing:"/pricing",payment:"/payment",about:"/about-us",contact:"/contact-us",faqs:"/faqs",terms:"/terms",privacy:"/privacy-policy",auth:{signIn:n.root,signUp:o.root,signOut:v.root,updatePassword:a.root,requestResetPassword:s.root,resetPassword:l.root,status:P.root,success:D.root,failure:U.root,callback:R.root,verification:{email:r.pipe(u,e=>({root:e.root,verify:r=>t.PathBuilder.dynamicQueries(e.root)({token:r}),callback:(r,i)=>t.PathBuilder.dynamicQueries(e.root)({token:r,callbackURL:i}),error:r=>t.PathBuilder.dynamicQueries(e.root)({error:r}),status:r=>t.PathBuilder.dynamicQueries(e.root)({status:r})})),phone:r.pipe(c,e=>({root:e.root,verify:r=>t.PathBuilder.dynamicQueries(e.root)({code:r}),withStatus:r=>t.PathBuilder.dynamicQueries(e.root)({status:r}),error:r=>t.PathBuilder.dynamicQueries(e.root)({error:r}),resend:d.root}))},twoFactor:r.pipe(L,e=>({root:e.root,challenge:r.pipe(K,e=>({root:e.root,withToken:r=>t.PathBuilder.dynamicQueries(e.root)({token:r}),trustedDevice:r=>t.PathBuilder.dynamicQueries(e.root)({token:r,trustDevice:"true"})})),otp:r.pipe(M,e=>({root:e.root,withStatus:r=>t.PathBuilder.dynamicQueries(e.root)({status:r}),error:r=>t.PathBuilder.dynamicQueries(e.root)({error:r})})),totp:r.pipe(B,e=>({root:e.root,withState:r=>t.PathBuilder.dynamicQueries(e.root)({state:r}),error:r=>t.PathBuilder.dynamicQueries(e.root)({error:r})})),recovery:r.pipe(j,e=>({root:e.root,verify:e("verify"),withToken:r=>t.PathBuilder.dynamicQueries(e.root)({token:r})})),backupCodes:{root:$.root},devices:{root:z.root}})),acceptInvitation:p.root,device:{root:F.root,start:q.root,poll:V.root,status:G.root,verify:H.root,approve:F("approve"),denied:F("denied"),success:F("success"),withUserCode:e=>t.PathBuilder.dynamicQueries(F.root)({userCode:e})},passkey:f.root,anonymous:g.root,oauth:T.root,oneTimeToken:b.root,siwe:_.root,routes:{signIn:r.pipe(n,e=>({root:e.root,withCallback:r=>t.PathBuilder.dynamicQueries(e.root)({callbackURL:r}),withMethod:r=>t.PathBuilder.dynamicQueries(e.root)({method:r}),withCallbackAndMethod:(r,i)=>t.PathBuilder.dynamicQueries(e.root)({callbackURL:r,method:i}),withError:r=>t.PathBuilder.dynamicQueries(e.root)({error:r}),withState:r=>t.PathBuilder.dynamicQueries(e.root)({state:r})})),signUp:r.pipe(o,e=>({root:e.root,withCallback:r=>t.PathBuilder.dynamicQueries(e.root)({callbackURL:r}),withMethod:r=>t.PathBuilder.dynamicQueries(e.root)({method:r}),withPlan:r=>t.PathBuilder.dynamicQueries(e.root)({plan:r}),withSource:r=>t.PathBuilder.dynamicQueries(e.root)({source:r})})),requestResetPassword:r.pipe(s,e=>({root:e.root,withStatus:r=>t.PathBuilder.dynamicQueries(e.root)({status:r}),withEmail:r=>t.PathBuilder.dynamicQueries(e.root)({email:r})})),resetPassword:r.pipe(l,e=>({root:e.root,withToken:r=>t.PathBuilder.dynamicQueries(e.root)({token:r}),withTokenAndStatus:(r,i)=>t.PathBuilder.dynamicQueries(e.root)({token:r,status:i}),withTokenAndError:(r,i)=>t.PathBuilder.dynamicQueries(e.root)({token:r,error:i}),withTokenAndCallback:(r,i)=>t.PathBuilder.dynamicQueries(e.root)({token:r,callbackURL:i})})),acceptInvitation:r.pipe(p,e=>({root:e.root,token:t.PathBuilder.dynamicPath(e.root),withStatus:r=>t.PathBuilder.dynamicQueries(e.root)({status:r})})),oauth:{root:T.root,callback:I.root,success:x.root,error:O.root,complete:C.root,link:k.root,withState:e=>t.PathBuilder.dynamicQueries(T.root)({state:e}),provider:r.flow(N,e=>({root:e.root,callback:e("callback"),link:e("link"),complete:e("complete"),error:e("error")}))},passkey:r.pipe(f,e=>({root:e.root,manage:h.root,register:m.root,withState:r=>t.PathBuilder.dynamicQueries(e.root)({state:r}),withError:r=>t.PathBuilder.dynamicQueries(e.root)({error:r})})),anonymous:r.pipe(g,e=>({root:e.root,upgrade:y.root,withCallback:r=>t.PathBuilder.dynamicQueries(e.root)({callbackURL:r})})),oneTimeToken:r.pipe(b,e=>({root:e.root,generate:A.root,verify:w.root,withToken:e=>t.PathBuilder.dynamicQueries(w.root)({token:e}),withStatus:r=>t.PathBuilder.dynamicQueries(e.root)({status:r})})),siwe:r.pipe(_,e=>({root:e.root,connect:S.root,verify:E.root,withRedirect:r=>t.PathBuilder.dynamicQueries(e.root)({redirect:r})}))}},settings:{root:"/settings"},admin:{root:"/admin"},organizations:{root:"/organizations",...r.flow(eE,e=>({root:e.root,edit:e("edit"),members:e("members"),settings:e("settings"),billing:e("billing"),invitations:e("invitations"),security:e("security")}))},account:r.flow(W,e=>({root:e.root,edit:e("edit"),security:e("security"),preferences:e("preferences"),notifications:e("notifications"),sessions:e("sessions"),devices:e("devices"),apiKeys:e("api-keys"),passkeys:e("passkeys"),twoFactor:e("two-factor"),recoveryCodes:e("recovery-codes"),jwt:e("jwt")})),fileManager:{root:eS.root},dashboard:{root:Z.root,user:{root:e_.root,account:e_("account"),edit:e=>e_.child(e)("edit")},security:{root:er.root,sessions:ei.root,devices:en.root,passkeys:eo.root,twoFactor:ea.root,recoveryCodes:es.root,jwt:el.root},billing:{root:J.root,subscribe:Q.root,portal:Y.root,success:X.root,cancel:ee.root,history:et.root},apiKeys:{root:eu.root,create:ec.root,detail:r.flow(ed,e=>({root:e.root,edit:e("edit"),rotate:e("rotate")}))},admin:{root:ep.root,permissions:eb.root,users:{root:ef.root,create:ef("create"),detail:r.flow(eh,e=>({root:e.root,edit:e("edit"),sessions:e("sessions"),impersonate:e("impersonate"),revokeSession:e("revoke-session"),revokeSessions:e("revoke-sessions"),ban:e("ban"),unban:e("unban"),permissions:e("permissions")}))},sso:{root:em.root,create:em("new"),provider:r.flow(eg,e=>({root:e.root,settings:e("settings"),delete:e("delete")}))},oidc:{root:ey.root,register:ey("register"),client:r.flow(ev,e=>({root:e.root,edit:e("edit"),secrets:e("secrets")}))},oauthClients:{root:eA.root,client:r.flow(ew,e=>({root:e.root,revoke:e("revoke")}))}}},oauth2:{root:eT.root,authorize:eI.root,consent:ex.root,register:eO.root,userinfo:eC.root,clients:{root:ek.root,client:r.flow(eN,e=>({root:e.root,edit:e("edit"),secrets:e("secrets")}))}},api:{root:eR.root,auth:{root:eP.root,jwks:eD.root,device:{root:eU.root}},oauth2:{root:eL.root,authorize:eK.root,token:eM.root,userinfo:eB.root,register:ej.root,client:r.flow(ez,e=>({root:e.root}))}}});e.s(["paths",0,eF])},944824,e=>{"use strict";e.i(198565),e.i(822676),e.i(899508),e.i(453912),e.i(127147),e.s([],944824)},538075,597270,954895,960129,372027,146459,400190,418793,950321,809781,530552,964777,5940,805533,166450,694864,165972,585046,96866,959763,838602,176151,839854,426663,358375,220961,27857,667776,617793,262437,326848,23895,679445,858384,667241,821272,586624,759111,783390,763567,324648,350573,854268,596945,832946,942099,e=>{"use strict";e.i(822676),e.i(489878),e.i(548383);var t=e.i(945545);e.i(944824);var r=e.i(735967),i=e.i(198565),n=e.i(301925),o=e.i(411237);let a=Symbol.for("@beep/iam-domain/AccountModel");class s extends n.Class("AccountModel")((0,i.makeFields)(r.IamEntityIds.AccountId,{accountId:o.NonEmptyString.annotations({description:"The account identifier from the OAuth provider"}),providerId:o.NonEmptyString.annotations({description:"The OAuth provider identifier"}),userId:r.SharedEntityIds.UserId.annotations({description:"The userId of the user this account belongs to"}),accessToken:t.BS.FieldSensitiveOptionOmittable(o.NonEmptyString.annotations({description:"OAuth access token for API calls"})),refreshToken:t.BS.FieldSensitiveOptionOmittable(o.NonEmptyString.annotations({description:"OAuth refresh token for token renewal"})),idToken:t.BS.FieldSensitiveOptionOmittable(o.NonEmptyString.annotations({description:"OpenID Connect ID token"})),accessTokenExpiresAt:t.BS.FieldOptionOmittable(t.BS.DateTimeFromDate({description:"When the access token expires"})),refreshTokenExpiresAt:t.BS.FieldOptionOmittable(t.BS.DateTimeFromDate({description:"When the refresh token expires"})),scope:t.BS.FieldOptionOmittable(o.NonEmptyString.annotations({description:"OAuth scope permissions"})),password:t.BS.FieldOptionOmittable(t.BS.Password.annotations({description:"Hashed password for credential providers"}))}),{identifier:"AccountModel",title:"Account Model",description:"Account model representing external OAuth provider accounts linked to users.",schemaId:a}){}e.s(["AccountModelSchemaId",0,a,"Model",()=>s],597270),e.s([],954895);var l=t,u=r,c=i,d=n,p=o;let f=Symbol.for("@beep/iam-domain/ApikeyModel");class h extends d.Class("ApikeyModel")((0,c.makeFields)(u.IamEntityIds.ApiKeyId,{name:l.BS.FieldOptionOmittable(p.NonEmptyString.annotations({description:"Human-readable name for the API key",examples:["Production API","Development Key","Mobile App"]})),start:l.BS.FieldOptionOmittable(p.NonEmptyString.annotations({description:"First few characters of the API key for identification"})),prefix:l.BS.FieldOptionOmittable(p.NonEmptyString.annotations({description:"Prefix to categorize API keys",examples:["pk_","sk_","test_","live_"]})),key:l.BS.FieldOptionOmittable(p.NonEmptyString.annotations({description:"The encrypted API key value"})),userId:u.SharedEntityIds.UserId.annotations({description:"ID of the user who owns this API key"}),refillInterval:l.BS.FieldOptionOmittable(p.Int.pipe(p.positive()).annotations({description:"Rate limit refill interval in milliseconds"})),refillAmount:l.BS.FieldOptionOmittable(p.Int.pipe(p.positive()).annotations({description:"Number of requests to add during each refill cycle"})),lastRefillAt:l.BS.FieldOptionOmittable(l.BS.DateTimeFromDate({description:"When the rate limit was last refilled"})),enabled:p.Boolean.pipe(p.optional,p.withDefaults({decoding:()=>!0,constructor:()=>!0})).annotations({description:"Whether the API key is currently enabled"}),rateLimitEnabled:p.Boolean.pipe(p.optional,p.withDefaults({decoding:()=>!0,constructor:()=>!0})).annotations({description:"Whether rate limiting is enabled for this key"}),rateLimitTimeWindow:p.Int.pipe(p.positive(),p.optional,p.withDefaults({constructor:()=>864e5,decoding:()=>864e5})).annotations({description:"Rate limit time window in milliseconds (default: 24 hours)"}),rateLimitMax:l.BS.toOptionalWithDefault(p.Int.pipe(p.positive()))(10).annotations({description:"Maximum number of requests allowed in the time window"}),requestCount:l.BS.FieldOptionOmittable(p.Int.pipe(p.nonNegative()).annotations({description:"Total number of requests made with this key"})),remaining:l.BS.FieldOptionOmittable(p.Int.pipe(p.nonNegative()).annotations({description:"Remaining requests in the current rate limit window"})),lastRequest:l.BS.FieldOptionOmittable(l.BS.DateTimeFromDate({description:"When the last request was made with this key"})),expiresAt:l.BS.FieldOptionOmittable(l.BS.DateTimeFromDate({description:"When this API key expires"})),permissions:l.BS.FieldOptionOmittable(p.String.annotations({description:"JSON string of permissions granted to this API key"})),metadata:l.BS.FieldOptionOmittable(p.String.annotations({description:"JSON metadata for additional API key configuration"})),organizationId:l.BS.FieldOptionOmittable(u.SharedEntityIds.OrganizationId)}),{title:"API Key Model",description:"API Key model representing user API keys with rate limiting and security features.",schemaId:f}){}e.s(["ApikeyModelSchemaId",0,f,"Model",()=>h],960129),e.s([],372027);var m=t,g=r,y=i,v=n,b=o;let A=t.BS.stringLiteralKit("pending","approved","denied"),w=A.toPgEnum;class _ extends A.Schema{static Options=A.Options;static Enum=A.Enum}e.s(["DeviceCodeStatus",()=>_,"makeDeviceCodeStatusPgEnum",0,w],146459),e.s([],400190);let S=Symbol.for("@beep/iam-domain/DeviceCodeModel");class E extends v.Class("DeviceCodeModel")((0,y.makeFields)(g.IamEntityIds.DeviceCodeId,{userCode:v.Sensitive(b.NonEmptyTrimmedString),userId:m.BS.FieldOptionOmittable(g.SharedEntityIds.UserId),deviceCode:v.Sensitive(b.NonEmptyTrimmedString),expiresAt:m.BS.DateTimeFromDate(),status:m.BS.toOptionalWithDefault(_)(_.Enum.pending),lastPolledAt:m.BS.FieldOptionOmittable(m.BS.DateTimeFromDate()),pollingInterval:m.BS.FieldOptionOmittable(b.NonNegativeInt),clientId:m.BS.FieldOptionOmittable(b.NonEmptyTrimmedString),scope:m.BS.FieldOptionOmittable(b.NonEmptyTrimmedString)}),{identifier:"DeviceCodeModel",title:"Device Code Model",description:"Device code model representing organization and team invitations.",schemaId:S}){}e.s(["DeviceCodeModelSchemaId",0,S,"Model",()=>E],418793),e.s([],950321);var T=t,I=r,x=i,O=n,C=o;let k=t.BS.stringLiteralKit("pending","rejected","cancelled","accepted"),N=k.toPgEnum,R=k.Enum,P=k.Options;class D extends k.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/Invitation/schemas/InvitationStatus"),identifier:"InvitationStatus",title:"Invitation Status",description:"The status of the invitation"}){}e.s(["InvitationStatus",()=>D,"InvitationStatusEnum",0,R,"InvitationStatusKit",0,k,"InvitationStatusOptions",0,P,"makeInvitationStatusPgEnum",0,N],809781),e.s([],530552);let U=Symbol.for("@beep/iam-domain/InvitationModel");class L extends O.Class("InvitationModel")((0,x.makeFields)(I.IamEntityIds.InvitationId,{email:O.Sensitive(T.BS.EmailBase.annotations({description:"Email address of the person being invited",examples:[T.BS.EmailBase.make("newuser@example.com")]})),role:T.BS.FieldOptionOmittable(C.NonEmptyString.annotations({description:"Role to be assigned when invitation is accepted",examples:["admin","member","viewer"]})),teamId:T.BS.FieldOptionOmittable(I.SharedEntityIds.TeamId.annotations({description:"ID of the team this invitation is for (if team-specific)"})),status:T.BS.toOptionalWithDefault(D)(R.pending).annotations({description:"Current status of the invitation"}),expiresAt:T.BS.DateTimeFromDate({description:"When this invitation expires"}),inviterId:I.SharedEntityIds.UserId.annotations({description:"ID of the user who sent this invitation"}),organizationId:T.BS.FieldOptionOmittable(I.SharedEntityIds.OrganizationId)}),{title:"Invitation Model",description:"Invitation model representing organization and team invitations.",schemaId:U}){}e.s(["InvitationModelSchemaId",0,U,"Model",()=>L],964777),e.s([],5940);var K=t,M=r,B=i,j=n,$=o;let z=Symbol.for("@beep/iam-domain/JwksModel");class F extends j.Class("JwksModel")((0,B.makeFields)(M.IamEntityIds.JwksId,{publicKey:K.BS.FieldSensitiveOptionOmittable($.String),privateKey:K.BS.FieldSensitiveOptionOmittable($.String)}),{title:"JWKS Model",description:"JWKS model representing JSON Web Key Sets for JWT signature verification.",schemaId:z}){}e.s(["JwksModelSchemaId",0,z,"Model",()=>F],805533),e.s([],166450);var q=t,V=r,H=i,G=n,W=o;let Z=t.BS.stringLiteralKit("admin","member","viewer","owner"),J=Z.Enum,Q=Z.Options,Y=Z.toPgEnum;class X extends Z.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/MemberRole"),description:"The role of the member in the organization",title:"Member Role",identifier:"MemberRole"}){static Enum=J;static Options=Q}e.s(["MemberRole",()=>X,"MemberRoleEnum",0,J,"MemberRoleKit",0,Z,"MemberRoleOptions",0,Q,"makeMemberRolePgEnum",0,Y],694864);let ee=t.BS.stringLiteralKit("active","inactive","offline","suspended","deleted","invited"),et=ee.Enum,er=ee.Options,ei=ee.toPgEnum;class en extends ee.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/MemberStatus"),description:"The status of the member in the organization",title:"Member Status",identifier:"MemberStatus"}){static Enum=et;static Options=er}e.s(["MemberStatus",()=>en,"MemberStatusEnum",0,et,"MemberStatusKit",0,ee,"MemberStatusOptions",0,er,"makeMemberStatusPgEnum",0,ei],165972),e.s([],585046);class eo extends G.Class("MemberModel")((0,H.makeFields)(V.IamEntityIds.MemberId,{userId:V.SharedEntityIds.UserId.annotations({description:"ID of the user who is a member"}),status:q.BS.toOptionalWithDefault(en)(en.Enum.inactive),role:q.BS.toOptionalWithDefault(X)(J.member).annotations({description:"The member's role within the organization"}),lastActiveAt:q.BS.FieldOptionOmittable(q.BS.DateTimeFromDate({description:"The last time the user was active."})),permissions:q.BS.FieldOptionOmittable(W.String),organizationId:V.SharedEntityIds.OrganizationId}),{title:"Member Model",description:"Member model representing user membership in organizations.\nMaps to the `member` table in the database.",schemaId:Symbol.for("@beep/iam-domain/MemberModel")}){}e.s(["Model",()=>eo],96866),e.s([],959763);var ea=t,es=r,el=i,eu=n,ec=o;let ed=Symbol.for("@beep/iam-domain/OAuthAccessTokenModel");class ep extends eu.Class("OAuthAccessTokenModel")((0,el.makeFields)(es.IamEntityIds.OAuthAccessTokenId,{accessToken:ea.BS.FieldSensitiveOptionOmittable(ec.NonEmptyString.annotations({description:"The OAuth 2.0 access token"})),refreshToken:ea.BS.FieldSensitiveOptionOmittable(ec.NonEmptyString.annotations({description:"The OAuth 2.0 refresh token"})),accessTokenExpiresAt:ea.BS.FieldOptionOmittable(ea.BS.DateTimeFromDate({description:"When the access token expires"})),refreshTokenExpiresAt:ea.BS.FieldOptionOmittable(ea.BS.DateTimeFromDate({description:"When the refresh token expires"})),clientId:ea.BS.FieldOptionOmittable(ec.NonEmptyString.annotations({description:"The OAuth client identifier"})),userId:ea.BS.FieldOptionOmittable(es.SharedEntityIds.UserId.annotations({description:"ID of the user this token belongs to"})),scopes:ea.BS.FieldOptionOmittable(ec.NonEmptyString.annotations({description:"Space-separated list of OAuth scopes",examples:["read write","profile email","admin"]})),organizationId:es.SharedEntityIds.OrganizationId}),{title:"OAuth Access Token Model",description:"OAuth Access Token model representing OAuth 2.0 access tokens.",schemaId:ed}){}e.s(["Model",()=>ep,"OAuthAccessTokenModelSchemaId",0,ed],838602),e.s([],176151);var ef=t,eh=r,em=i,eg=n,ey=o;let ev=Symbol.for("@beep/iam-domain/OAuthApplicationModel");class eb extends eg.Class("OAuthApplicationModel")((0,em.makeFields)(eh.IamEntityIds.OAuthApplicationId,{name:ef.BS.FieldOptionOmittable(ey.NonEmptyString.annotations({description:"The OAuth application name"})),icon:ef.BS.FieldOptionOmittable(ey.String.pipe(ey.pattern(/^https?:\/\/.+/)).annotations({description:"URL to the application's icon"})),metadata:ef.BS.FieldOptionOmittable(ey.String.annotations({description:"JSON metadata for the OAuth application"})),clientId:ef.BS.FieldOptionOmittable(ey.NonEmptyString.annotations({description:"The OAuth client identifier"})),clientSecret:ef.BS.FieldSensitiveOptionOmittable(ey.NonEmptyString.annotations({description:"The OAuth client secret"})),redirectURLs:ef.BS.FieldOptionOmittable(ey.String.annotations({description:"JSON array of allowed redirect URLs"})),type:ef.BS.FieldOptionOmittable(ey.String.annotations({description:"Type of OAuth application"})),disabled:ef.BS.BoolWithDefault(!1).annotations({description:"Whether the OAuth application is disabled"}),userId:ef.BS.FieldOptionOmittable(eh.SharedEntityIds.UserId.annotations({description:"ID of the user who owns this OAuth application"})),organizationId:eh.SharedEntityIds.OrganizationId}),{title:"OAuth Application Model",description:"OAuth Application model representing registered OAuth applications.",schemaId:ev}){}e.s(["Model",()=>eb,"OAuthApplicationModelSchemaId",0,ev],839854),e.s([],426663);var eA=t,ew=r,e_=i,eS=n,eE=o;let eT=Symbol.for("@beep/iam-domain/OAuthConsentModel");class eI extends eS.Class("OAuthConsentModel")((0,e_.makeFields)(ew.IamEntityIds.OAuthConsentId,{userId:eA.BS.FieldOptionOmittable(ew.SharedEntityIds.UserId.annotations({description:"ID of the user who gave consent"})),clientId:eE.NonEmptyString.annotations({description:"OAuth client ID that received consent"}),scopes:eE.NonEmptyString.annotations({description:"Space-separated list of granted OAuth scopes"}),consentGiven:eA.BS.BoolWithDefault(!1).annotations({description:"Whether the user gave consent for the requested scopes"}),organizationId:ew.SharedEntityIds.OrganizationId}),{title:"OAuth Consent Model",description:"OAuth Consent model representing user consent for OAuth applications.",schemaId:eT}){}e.s(["Model",()=>eI,"OAuthConsentModelSchemaId",0,eT],358375),e.s([],220961);var ex=r,eO=i,eC=n,ek=o;let eN=Symbol.for("@beep/iam-domain/OrganizationRoleModel");class eR extends eC.Class("OrganizationRoleModel")((0,eO.makeFields)(ex.IamEntityIds.OrganizationRoleId,{role:ek.NonEmptyString,permission:ek.NonEmptyString,organizationId:ex.SharedEntityIds.OrganizationId}),{title:"OAuth Consent Model",description:"OAuth Consent model representing user consent for OAuth applications.",schemaId:eN}){}e.s(["Model",()=>eR,"OrganizationRoleModelSchemaId",0,eN],27857),e.s([],667776);var eP=t,eD=r,eU=i,eL=n,eK=o;let eM=Symbol.for("@beep/iam-domain/PasskeyModel");class eB extends eL.Class("PasskeyModel")((0,eU.makeFields)(eD.IamEntityIds.PasskeyId,{name:eP.BS.FieldOptionOmittable(eK.NonEmptyString.annotations({description:"User-friendly name for the passkey device",examples:["iPhone","YubiKey","Windows Hello"]})),userId:eD.SharedEntityIds.UserId.annotations({description:"ID of the user this passkey belongs to"}),credentialID:eL.Sensitive(eK.NonEmptyString.annotations({description:"WebAuthn credential identifier"})),publicKey:eL.Sensitive(eK.NonEmptyString.annotations({description:"WebAuthn public key for verification"})),counter:eK.Int.pipe(eK.nonNegative()).annotations({description:"WebAuthn counter for replay protection"}),deviceType:eK.NonEmptyString.annotations({description:"The type of device the passkey is stored on"}),transports:eP.BS.FieldOptionOmittable(eK.NonEmptyString.annotations({description:"Transport types (e.g. 'usb' or 'nfc')",examples:["usb","nfc","ble","internal"]})),backedUp:eP.BS.BoolWithDefault(!1).annotations({description:"Indicates if the passkey has been backed up"}),aaguid:eP.BS.FieldOptionOmittable(eK.NonEmptyString.annotations({description:"Authenticator Attestation GUID (AAGUID)"})),organizationId:eD.SharedEntityIds.OrganizationId}),{title:"Passkey Model",description:"Passkey model representing WebAuthn credentials for passwordless authentication.",schemaId:eM}){}e.s(["Model",()=>eB,"PasskeyModelSchemaId",0,eM],617793),e.s([],262437);var ej=t,e$=r,ez=i,eF=n,eq=o;let eV=Symbol.for("@beep/iam-domain/RateLimitModel");class eH extends eF.Class("RateLimitModel")((0,ez.makeFields)(e$.IamEntityIds.RateLimitId,{key:ej.BS.FieldOptionOmittable(eq.NonEmptyString.annotations({description:"The rate limit key identifier"})),count:ej.BS.FieldOptionOmittable(eq.Int.annotations({description:"Current count of requests within the rate limit window"})),lastRequest:ej.BS.FieldOptionOmittable(eq.BigIntFromNumber.annotations({description:"Timestamp of the last request in milliseconds"}))}),{title:"Rate Limit Model",description:"Rate limit model for tracking API usage and rate limiting.",schemaId:eV}){}e.s(["Model",()=>eH,"RateLimitModelSchemaId",0,eV],326848),e.s([],23895);var eG=t,eW=r,eZ=i,eJ=n,eQ=o;let eY=Symbol.for("@beep/iam-domain/SessionModel");class eX extends eJ.Class("SessionModel")((0,eZ.makeFields)(eW.IamEntityIds.SessionId,{expiresAt:eG.BS.DateTimeFromDate({description:"When this session expires"}),token:eQ.NonEmptyString.annotations({description:"Unique session token for authentication"}),ipAddress:eG.BS.FieldOptionOmittable(eQ.String.pipe(eQ.pattern(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$|^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/)).annotations({description:"IP address where the session was created",examples:["192.168.1.1","2001:db8::1"]})),userAgent:eG.BS.FieldOptionOmittable(eQ.String.annotations({description:"User agent string from the client"})),userId:eW.SharedEntityIds.UserId.annotations({description:"ID of the user this session belongs to"}),activeOrganizationId:eG.BS.FieldOptionOmittable(eW.SharedEntityIds.OrganizationId.annotations({description:"ID of the currently active organization"})),activeTeamId:eG.BS.FieldOptionOmittable(eW.SharedEntityIds.TeamId.annotations({description:"ID of the currently active team"})),impersonatedBy:eG.BS.FieldOptionOmittable(eW.SharedEntityIds.UserId.annotations({description:"ID of the user performing impersonation (if applicable)"}))}),{title:"Session Model",description:"Session model representing user authentication sessions.",schemaId:eY}){}e.s(["Model",()=>eX,"SessionModelSchemaId",0,eY],679445),e.s([],858384);var e0=t,e1=r,e2=i,e4=n,e3=o;let e5=Symbol.for("@beep/iam-domain/SsoProviderModel");class e6 extends e4.Class("SsoProviderModel")((0,e2.makeFields)(e1.IamEntityIds.SsoProviderId,{issuer:e3.String,domain:e3.String,oidcConfig:e0.BS.FieldOptionOmittable(e3.String),samlConfig:e0.BS.FieldOptionOmittable(e3.String),userId:e0.BS.FieldOptionOmittable(e1.SharedEntityIds.UserId),providerId:e3.String,organizationId:e0.BS.FieldOptionOmittable(e1.SharedEntityIds.OrganizationId)}),{title:"SSO Provider Model",description:"SSO Provider model representing Single Sign-On provider configurations.",schemaId:e5}){}e.s(["Model",()=>e6,"SsoProviderModelSchemaId",0,e5],667241),e.s([],821272);var e8=t,e9=r,e7=i,te=n,tt=o;let tr=Symbol.for("@beep/iam-domain/SubscriptionModel");class ti extends te.Class("SubscriptionModel")((0,e7.makeFields)(e9.IamEntityIds.SubscriptionId,{plan:tt.String.annotations({description:"The subscription plan level"}),status:e8.BS.toOptionalWithDefault(tt.String)("incomplete").annotations({description:"Current status of the subscription"}),stripeSubscriptionId:e8.BS.FieldOptionOmittable(tt.NonEmptyString.annotations({description:"Stripe subscription identifier"})),periodStart:e8.BS.FieldOptionOmittable(e8.BS.DateTimeFromDate({description:"Start of the current billing period"})),periodEnd:e8.BS.FieldOptionOmittable(e8.BS.DateTimeFromDate({description:"End of the current billing period"})),cancelAtPeriodEnd:e8.BS.BoolWithDefault(!1).annotations({description:"When the subscription was canceled"}),organizationId:e9.SharedEntityIds.OrganizationId}),{title:"Subscription Model",description:"Subscription model representing user billing subscriptions.",schemaId:tr}){}e.s(["Model",()=>ti,"SubscriptionModelSchemaId",0,tr],586624),e.s([],759111);var tn=r,to=i,ta=n;let ts=Symbol.for("@beep/iam-domain/TeamMemberModel");class tl extends ta.Class("TeamMemberModel")((0,to.makeFields)(tn.IamEntityIds.TeamMemberId,{teamId:tn.SharedEntityIds.TeamId.annotations({description:"ID of the team this membership belongs to"}),userId:tn.SharedEntityIds.UserId.annotations({description:"ID of the user who is a team member"}),organizationId:tn.SharedEntityIds.OrganizationId}),{title:"Team Member Model",description:"Team Member model representing user membership in teams.",schemaId:ts}){}e.s(["Model",()=>tl,"TeamMemberModelSchemaId",0,ts],783390),e.s([],763567);var tu=r,tc=i,td=n,tp=o;let tf=Symbol.for("@beep/iam-domain/TwoFactorModel");class th extends td.Class("TwoFactorModel")((0,tc.makeFields)(tu.IamEntityIds.TwoFactorId,{secret:td.Sensitive(tp.NonEmptyString.annotations({description:"Encrypted secret key for TOTP generation"})),backupCodes:td.Sensitive(tp.String.annotations({description:"Encrypted backup codes for account recovery"})),userId:tu.SharedEntityIds.UserId.annotations({description:"ID of the user this 2FA setup belongs to"})}),{title:"TwoFactor Model",description:"TwoFactor model representing two-factor authentication settings.",schemaId:tf}){}e.s(["Model",()=>th,"TwoFactorModelSchemaId",0,tf],324648),e.s([],350573);var tm=t,tg=r,ty=i,tv=n,tb=o;let tA=Symbol.for("@beep/iam-domain/VerificationModel");class tw extends tv.Class("VerificationModel")((0,ty.makeFields)(tg.IamEntityIds.VerificationId,{identifier:tb.NonEmptyString.annotations({description:"The identifier being verified (email address, phone number, etc.)"}),value:tb.NonEmptyString.annotations({description:"The verification code or token"}),expiresAt:tm.BS.FieldOptionOmittable(tm.BS.DateTimeFromDate({description:"When this verification code expires"}))}),{title:"Verification Model",description:"Verification model representing email verification codes and tokens.",schemaId:tA}){}e.s(["Model",()=>tw,"VerificationModelSchemaId",0,tA],854268),e.s([],596945);var t_=t,tS=r,tE=i,tT=n,tI=o;let tx=Symbol.for("@beep/iam-domain/WalletAddressModel");class tO extends tT.Class("WalletAddressModel")((0,tE.makeFields)(tS.IamEntityIds.WalletAddressId,{userId:tS.SharedEntityIds.UserId.annotations({description:"The userId of the user this wallet address belongs to"}),address:tI.NonEmptyString.annotations({description:"The blockchain wallet address"}),chainId:tI.Int.annotations({description:"The blockchain network chain ID"}),isPrimary:t_.BS.BoolWithDefault(!1).annotations({description:"Whether this is the user's primary wallet address"})}),{schemaId:tx,title:"Wallet Address Model",description:"Wallet address model representing blockchain wallet addresses linked to users."}){}e.s(["Model",()=>tO,"WalletAddressModelSchemaId",0,tx],832946),e.s([],942099),e.s([],538075)},360645,e=>{"use strict";e.i(538075),e.s([])},31654,e=>{"use strict";e.i(538075);var t=e.i(489878);e.i(954895);var r=e.i(597270);e.s(["AccountModelSchemaId",()=>r.AccountModelSchemaId,"Model",()=>r.Model],138723);var i=e.i(138723);e.i(372027);var n=e.i(960129);e.s(["ApikeyModelSchemaId",()=>n.ApikeyModelSchemaId,"Model",()=>n.Model],901347);var o=e.i(901347);e.i(950321);var a=e.i(418793);e.i(400190);var s=e.i(146459);e.s(["DeviceCodeStatus",()=>s.DeviceCodeStatus,"makeDeviceCodeStatusPgEnum",()=>s.makeDeviceCodeStatusPgEnum],521509),e.i(521509),e.s(["DeviceCodeModelSchemaId",()=>a.DeviceCodeModelSchemaId,"DeviceCodeStatus",()=>s.DeviceCodeStatus,"Model",()=>a.Model,"makeDeviceCodeStatusPgEnum",()=>s.makeDeviceCodeStatusPgEnum],390432);var l=e.i(390432);e.i(5940);var u=e.i(964777);e.i(530552);var c=e.i(809781);e.s(["InvitationStatus",()=>c.InvitationStatus,"InvitationStatusEnum",()=>c.InvitationStatusEnum,"InvitationStatusKit",()=>c.InvitationStatusKit,"InvitationStatusOptions",()=>c.InvitationStatusOptions,"makeInvitationStatusPgEnum",()=>c.makeInvitationStatusPgEnum],603054),e.i(603054),e.s(["InvitationModelSchemaId",()=>u.InvitationModelSchemaId,"InvitationStatus",()=>c.InvitationStatus,"InvitationStatusEnum",()=>c.InvitationStatusEnum,"InvitationStatusKit",()=>c.InvitationStatusKit,"InvitationStatusOptions",()=>c.InvitationStatusOptions,"Model",()=>u.Model,"makeInvitationStatusPgEnum",()=>c.makeInvitationStatusPgEnum],362354);var d=e.i(362354);e.i(166450);var p=e.i(805533);e.s(["JwksModelSchemaId",()=>p.JwksModelSchemaId,"Model",()=>p.Model],101612);var f=e.i(101612);e.i(959763);var h=e.i(96866);e.i(585046);var m=e.i(694864),g=e.i(165972);e.s(["MemberRole",()=>m.MemberRole,"MemberRoleEnum",()=>m.MemberRoleEnum,"MemberRoleKit",()=>m.MemberRoleKit,"MemberRoleOptions",()=>m.MemberRoleOptions,"MemberStatus",()=>g.MemberStatus,"MemberStatusEnum",()=>g.MemberStatusEnum,"MemberStatusKit",()=>g.MemberStatusKit,"MemberStatusOptions",()=>g.MemberStatusOptions,"makeMemberRolePgEnum",()=>m.makeMemberRolePgEnum,"makeMemberStatusPgEnum",()=>g.makeMemberStatusPgEnum],959230),e.i(959230),e.s(["MemberRole",()=>m.MemberRole,"MemberRoleEnum",()=>m.MemberRoleEnum,"MemberRoleKit",()=>m.MemberRoleKit,"MemberRoleOptions",()=>m.MemberRoleOptions,"MemberStatus",()=>g.MemberStatus,"MemberStatusEnum",()=>g.MemberStatusEnum,"MemberStatusKit",()=>g.MemberStatusKit,"MemberStatusOptions",()=>g.MemberStatusOptions,"Model",()=>h.Model,"makeMemberRolePgEnum",()=>m.makeMemberRolePgEnum,"makeMemberStatusPgEnum",()=>g.makeMemberStatusPgEnum],371533);var y=e.i(371533);e.i(176151);var v=e.i(838602);e.s(["Model",()=>v.Model,"OAuthAccessTokenModelSchemaId",()=>v.OAuthAccessTokenModelSchemaId],752254);var b=e.i(752254);e.i(426663);var A=e.i(839854);e.s(["Model",()=>A.Model,"OAuthApplicationModelSchemaId",()=>A.OAuthApplicationModelSchemaId],221060);var w=e.i(221060);e.i(220961);var _=e.i(358375);e.s(["Model",()=>_.Model,"OAuthConsentModelSchemaId",()=>_.OAuthConsentModelSchemaId],832169);var S=e.i(832169);e.i(667776);var E=e.i(27857);e.s(["Model",()=>E.Model,"OrganizationRoleModelSchemaId",()=>E.OrganizationRoleModelSchemaId],982346);var T=e.i(982346);e.i(262437);var I=e.i(617793);e.s(["Model",()=>I.Model,"PasskeyModelSchemaId",()=>I.PasskeyModelSchemaId],255520);var x=e.i(255520);e.i(23895);var O=e.i(326848);e.s(["Model",()=>O.Model,"RateLimitModelSchemaId",()=>O.RateLimitModelSchemaId],759133);var C=e.i(759133);e.i(858384);var k=e.i(679445);e.s(["Model",()=>k.Model,"SessionModelSchemaId",()=>k.SessionModelSchemaId],810683);var N=e.i(810683);e.i(821272);var R=e.i(667241);e.s(["Model",()=>R.Model,"SsoProviderModelSchemaId",()=>R.SsoProviderModelSchemaId],33268);var P=e.i(33268);e.i(759111);var D=e.i(586624);e.s(["Model",()=>D.Model,"SubscriptionModelSchemaId",()=>D.SubscriptionModelSchemaId],249073);var U=e.i(249073);e.i(763567);var L=e.i(783390);e.s(["Model",()=>L.Model,"TeamMemberModelSchemaId",()=>L.TeamMemberModelSchemaId],575028);var K=e.i(575028);e.i(350573);var M=e.i(324648);e.s(["Model",()=>M.Model,"TwoFactorModelSchemaId",()=>M.TwoFactorModelSchemaId],927763);var B=e.i(927763);e.i(596945);var j=e.i(854268);e.s(["Model",()=>j.Model,"VerificationModelSchemaId",()=>j.VerificationModelSchemaId],875741);var $=e.i(875741);e.i(942099);var z=e.i(832946);e.s(["Model",()=>z.Model,"WalletAddressModelSchemaId",()=>z.WalletAddressModelSchemaId],971306);var F=e.i(971306);e.s(["Account",0,i,"ApiKey",0,o,"DeviceCode",0,l,"Invitation",0,d,"Jwks",0,f,"Member",0,y,"OAuthAccessToken",0,b,"OAuthApplication",0,w,"OAuthConsent",0,S,"Organization",()=>t.Organization,"OrganizationRole",0,T,"Passkey",0,x,"RateLimit",0,C,"Session",0,N,"SsoProvider",0,P,"Subscription",0,U,"Team",()=>t.Team,"TeamMember",0,K,"TwoFactor",0,B,"User",()=>t.User,"Verification",0,$,"WalletAddress",0,F],31654)},590643,e=>{"use strict";e.i(983651);var t=e.i(61071),r=e.i(840841),i=e.i(134397),n=e.i(538232),o=e.i(290813),a=e.i(937710),s=e.i(963305);e.i(944824);var l=e.i(735967),u=e.i(293889),c=e.i(436518);c.ConfigProviderTypeId,c.FlatConfigProviderTypeId,c.configProviderTag,c.make,c.makeFlat;let d=c.fromEnv;c.fromFlat,c.fromJson,c.fromMap;let p=c.constantCase;c.mapInputPath,c.kebabCase,c.lowerCase,c.nested,c.orElse,c.unnested,c.snakeCase,c.upperCase,c.within;var f=e.i(405614),h=e.i(842862),m=e.i(321172),g=e.i(933448),y=e.i(65632),v=e.i(392353),b=e.i(411237),A=e.i(923928),w=u,_=h;_.flow(e=>e,w.url,w.map(e=>e.toString()));let S=_.flow(e=>w.array(w.hashSet(w.url()),e).pipe(w.map(e=>e.map(e=>e.toString())))),E="PLACE_HOLDER",T=e=>e.pipe(u.withDefault(v.make(E))),I=u.zipWith(u.nested("APP")(u.all({protocol:b.Config("ENV",r.EnvValue).pipe(u.map(e=>g.value(e).pipe(g.when("dev",()=>"http"),g.whenOr("staging","prod",()=>"https"),g.exhaustive))),name:u.string("NAME"),env:b.Config("ENV",r.EnvValue).pipe(u.withDefault(r.EnvValue.Enum.dev)),rootDomain:u.string("DOMAIN").pipe(u.map(e=>A.split(":")(e)[0])),domain:u.string("DOMAIN").pipe(u.withDefault("localhost")),adminUserIds:u.array(b.Config("ADMIN_USER_IDS",l.SharedEntityIds.UserId)),logFormat:b.Config("LOG_FORMAT",i.LogFormat).pipe(u.withDefault(i.LogFormat.Enum.pretty)),logLevel:u.logLevel("LOG_LEVEL").pipe(u.withDefault(m.None)),mcpUrl:u.url("MCP_URL"),authUrl:u.url("AUTH_URL"),apiUrl:u.url("API_URL"),clientUrl:u.url("CLIENT_URL")})),u.nested("VERCEL")(u.all({projectProductionUrl:u.option(b.Config("PROJECT_PRODUCTION_URL",o.DomainName)),vercelEnv:u.option(u.literal("production","preview","development","staging")("ENV")),vercelUrl:u.option(b.Config("URL",o.DomainName))})),(e,t)=>{let r=s.Url.make(`https://${e.clientUrl}`),i=h.pipe(t.projectProductionUrl,y.match({onNone:()=>r,onSome:e=>s.Url.make(`https://${e}`)})),n=y.all([t.vercelUrl,t.vercelEnv]).pipe(y.match({onNone:()=>s.Url.make(`http://${e.clientUrl}`),onSome:([e,t])=>"production"===t?i:"preview"===t?s.Url.make(`https://${e}`):r}));return{...e,baseUrl:n,projectProductionUrl:i,vercelEnv:h.pipe(t.vercelEnv,y.match({onNone:()=>"development",onSome:e=>e}))}}),x=u.all({nodeEnv:u.literal("development","production","test")("NODE_ENV"),baseUrl:u.nested("VERCEL")(u.all({url:u.option(b.Config("URL",o.DomainName)),env:u.option(u.literal("production","preview","development","staging")("ENV")),projectProductionUrl:u.option(b.Config("PROJECT_PRODUCTION_URL",o.DomainName))})).pipe(u.map(({env:e,url:t,projectProductionUrl:r})=>(y.isSome(e)&&"production"===e.value&&y.isSome(r)?s.Url.make(`https://${r.value}`):y.isSome(t)?s.Url.make(`https://${t}`):s.Url.make("http://localhost:3000")).toString())),productionUrl:u.option(b.Config("VERCEL_PROJECT_PRODUCTION_URL",o.DomainName)),app:I,auth:u.all({secret:u.redacted(u.nonEmptyString("BETTER_AUTH_SECRET"))}),cloud:u.nested("CLOUD")(u.all({aws:u.nested("AWS")(u.all({region:u.nonEmptyString("REGION").pipe(u.withDefault("us-east-1")),accessKeyId:u.redacted(u.nonEmptyString("ACCESS_KEY_ID")).pipe(T),secretAccessKey:u.redacted(u.nonEmptyString("SECRET_ACCESS_KEY")).pipe(T),s3:u.nested("S3")(u.all({bucketName:u.nonEmptyString("BUCKET_NAME")}))})),google:u.nested("GOOGLE")(u.all({captcha:u.nested("CAPTCHA")(u.all({siteKey:u.redacted(u.nonEmptyString("SITE_KEY")).pipe(T),secretKey:u.redacted(u.nonEmptyString("SECRET_KEY")).pipe(T)}))}))})),db:u.nested("DB")(u.all({pg:u.nested("PG")(u.all({url:u.redacted(u.nonEmptyString("URL")),ssl:u.boolean("SSL").pipe(u.withDefault(!1)),port:u.port("PORT").pipe(u.withDefault(5432)),user:u.nonEmptyString("USER").pipe(u.withDefault("postgres")),password:u.redacted(u.nonEmptyString("PASSWORD")),host:u.nonEmptyString("HOST").pipe(u.withDefault("localhost")),database:u.nonEmptyString("DATABASE").pipe(u.withDefault("postgres"))}))})),payment:u.nested("PAYMENT")(u.all({stripe:u.nested("STRIPE")(u.all({key:u.redacted(u.nonEmptyString("KEY")).pipe(T),webhookSecret:u.redacted(u.nonEmptyString("WEBHOOK_SECRET")).pipe(T)}))})),email:u.nested("EMAIL")(u.all({from:u.succeed(a.Email.make("beep@codedank.com")),test:u.succeed(a.Email.make("beep@codank.com")),resend:u.nested("RESEND")(u.all({apiKey:u.redacted(u.nonEmptyString("API_KEY")).pipe(T)}))})),kv:u.nested("KV")(u.all({redis:u.nested("REDIS")(u.all({url:u.nonEmptyString("URL"),port:u.port("PORT").pipe(u.withDefault(6379)),password:u.redacted(u.nonEmptyString("PASSWORD"))}))})),marketing:u.nested("MARKETING")(u.all({dub:u.nested("DUB")(u.all({token:u.redacted(u.nonEmptyString("TOKEN")).pipe(T)}))})),oauth:u.nested("OAUTH")(u.all({authProviderNames:u.array(b.Config("PROVIDER_NAMES",t.AuthProviderNameValue)),provider:u.nested("PROVIDER")(u.all({microsoft:u.nested("MICROSOFT")(u.all({clientId:u.redacted(u.nonEmptyString("CLIENT_ID")).pipe(u.option),clientSecret:u.redacted(u.nonEmptyString("CLIENT_SECRET")).pipe(u.option),tenantId:u.redacted(u.nonEmptyString("TENANT_ID")).pipe(u.option)})),google:u.nested("GOOGLE")(u.all({clientId:u.redacted(u.nonEmptyString("CLIENT_ID")).pipe(u.option),clientSecret:u.redacted(u.nonEmptyString("CLIENT_SECRET")).pipe(u.option)})),discord:u.nested("DISCORD")(u.all({clientId:u.redacted(u.nonEmptyString("CLIENT_ID")).pipe(u.option),clientSecret:u.redacted(u.nonEmptyString("CLIENT_SECRET")).pipe(u.option)})),github:u.nested("GITHUB")(u.all({clientId:u.redacted(u.nonEmptyString("CLIENT_ID")).pipe(u.option),clientSecret:u.redacted(u.nonEmptyString("CLIENT_SECRET")).pipe(u.option)})),linkedin:u.nested("LINKEDIN")(u.all({clientId:u.redacted(u.nonEmptyString("CLIENT_ID")).pipe(u.option),clientSecret:u.redacted(u.nonEmptyString("CLIENT_SECRET")).pipe(u.option)})),twitter:u.nested("TWITTER")(u.all({clientId:u.redacted(u.nonEmptyString("CLIENT_ID")).pipe(u.option),clientSecret:u.redacted(u.nonEmptyString("CLIENT_SECRET")).pipe(u.option)}))}))})),otlp:u.nested("OTLP")(u.all({traceExporterUrl:u.url("TRACE_EXPORTER_URL"),logExporterUrl:u.url("LOG_EXPORTER_URL"),metricExporterUrl:u.url("METRIC_EXPORTER_URL")})),security:u.nested("SECURITY")(u.all({trustedOrigins:S("TRUSTED_ORIGINS"),csp:n.Csp.Config("CSP").pipe(u.map(n.Csp.toHeader))})),ai:u.nested("AI")(u.all({openai:u.nested("OPENAI")(u.all({apiKey:u.redacted(u.nonEmptyString("API_KEY")).pipe(T)})),anthropic:u.nested("ANTHROPIC")(u.all({apiKey:u.redacted(u.nonEmptyString("API_KEY")).pipe(T)}))}))}),O=d().pipe(p).load(x),C=f.runSync(O);e.s(["serverEnv",0,C],590643)},853053,e=>{"use strict";var t=e.i(590643),r=e.i(777865),i=e.i(347064);class n extends r.Tag("@beep/iam-infra/IamConfig")(){static fromServerEnv(e){return{app:{env:e.app.env,name:e.app.name,domain:e.app.domain,clientUrl:e.app.clientUrl,authUrl:e.app.authUrl,logLevel:e.app.logLevel,logFormat:e.app.logFormat},auth:e.auth,security:e.security,oauth:e.oauth,marketing:e.marketing,payment:e.payment,email:e.email,cloud:{google:e.cloud.google}}}static Live=i.succeed(this,this.of(this.fromServerEnv(t.serverEnv)));static layerFrom(e){return i.succeed(this,this.of(this.fromServerEnv(e)))}}e.s(["IamConfig",()=>n])},875225,e=>{"use strict";var t=e.i(156325),r=e.i(844988),i=e.i(369e3),n=e.i(518899);function o(e,o){return!(0,n.isDriverValueEncoder)(o)||(0,n.isSQLWrapper)(e)||(0,r.is)(e,n.Param)||(0,r.is)(e,n.Placeholder)||(0,r.is)(e,t.Column)||(0,r.is)(e,i.Table)||(0,r.is)(e,n.View)?e:new n.Param(e,o)}let a=(e,t)=>n.sql`${e} = ${o(t,e)}`,s=(e,t)=>n.sql`${e} <> ${o(t,e)}`;function l(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new n.SQL(1===t.length?t:[new n.StringChunk("("),n.sql.join(t,new n.StringChunk(" and ")),new n.StringChunk(")")])}function u(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new n.SQL(1===t.length?t:[new n.StringChunk("("),n.sql.join(t,new n.StringChunk(" or ")),new n.StringChunk(")")])}function c(e){return n.sql`not ${e}`}let d=(e,t)=>n.sql`${e} > ${o(t,e)}`,p=(e,t)=>n.sql`${e} >= ${o(t,e)}`,f=(e,t)=>n.sql`${e} < ${o(t,e)}`,h=(e,t)=>n.sql`${e} <= ${o(t,e)}`;function m(e,t){return Array.isArray(t)?0===t.length?n.sql`false`:n.sql`${e} in ${t.map(t=>o(t,e))}`:n.sql`${e} in ${o(t,e)}`}function g(e,t){return Array.isArray(t)?0===t.length?n.sql`true`:n.sql`${e} not in ${t.map(t=>o(t,e))}`:n.sql`${e} not in ${o(t,e)}`}function y(e){return n.sql`${e} is null`}function v(e){return n.sql`${e} is not null`}function b(e){return n.sql`exists ${e}`}function A(e){return n.sql`not exists ${e}`}function w(e,t,r){return n.sql`${e} between ${o(t,e)} and ${o(r,e)}`}function _(e,t,r){return n.sql`${e} not between ${o(t,e)} and ${o(r,e)}`}function S(e,t){return n.sql`${e} like ${t}`}function E(e,t){return n.sql`${e} not like ${t}`}function T(e,t){return n.sql`${e} ilike ${t}`}function I(e,t){return n.sql`${e} not ilike ${t}`}e.s(["and",()=>l,"between",()=>w,"eq",()=>a,"exists",()=>b,"gt",()=>d,"gte",()=>p,"ilike",()=>T,"inArray",()=>m,"isNotNull",()=>v,"isNull",()=>y,"like",()=>S,"lt",()=>f,"lte",()=>h,"ne",()=>s,"not",()=>c,"notBetween",()=>_,"notExists",()=>A,"notIlike",()=>I,"notInArray",()=>g,"notLike",()=>E,"or",()=>u])},349129,e=>{"use strict";var t=e.i(518899);function r(e){return t.sql`${e} asc`}function i(e){return t.sql`${e} desc`}e.s(["asc",()=>r,"desc",()=>i])},794093,690429,802847,556923,870988,501727,438257,848209,593486,303090,467751,923624,58081,420776,144902,479822,e=>{"use strict";var t=e.i(844988),r=e.i(369e3),i=t,n=e.i(704313),o=e.i(304775),a=t,s=o;class l extends s.PgColumnBuilder{static [a.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class u extends l{static [i.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new c(e,this.config)}}class c extends o.PgColumn{static [i.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class d extends l{static [i.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new p(e,this.config)}}class p extends o.PgColumn{static [i.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function f(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return"number"===i.mode?new u(r):new d(r)}e.s(["bigint",()=>f],690429);var h=t,m=n,g=o;class y extends g.PgColumnBuilder{static [h.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new v(e,this.config)}}class v extends g.PgColumn{static [h.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class b extends g.PgColumnBuilder{static [h.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new A(e,this.config)}}class A extends g.PgColumn{static [h.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function w(e,t){let{name:r,config:i}=(0,m.getColumnNameAndConfig)(e,t);return"number"===i.mode?new y(r):new b(r)}var _=t,S=o;class E extends S.PgColumnBuilder{static [_.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new T(e,this.config)}}class T extends S.PgColumn{static [_.entityKind]="PgBoolean";getSQLType(){return"boolean"}}function I(e){return new E(e??"")}e.s(["boolean",()=>I],802847);var x=t,O=n,C=o;class k extends C.PgColumnBuilder{static [x.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new N(e,this.config)}}class N extends C.PgColumn{static [x.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function R(e,t={}){let{name:r,config:i}=(0,O.getColumnNameAndConfig)(e,t);return new k(r,i)}var P=t,D=o;class U extends D.PgColumnBuilder{static [P.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new L(e,this.config)}}class L extends D.PgColumn{static [P.entityKind]="PgCidr";getSQLType(){return"cidr"}}function K(e){return new U(e??"")}var M=t,B=n,j=o;class $ extends j.PgColumnBuilder{static [M.entityKind]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new z(e,this.config)}}class z extends j.PgColumn{static [M.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function F(e){return(t,r)=>{let{name:i,config:n}=(0,B.getColumnNameAndConfig)(t,r);return new $(i,n,e)}}var q=t,V=n,H=o,G=t,W=e.i(518899),Z=o;class J extends Z.PgColumnBuilder{static [G.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(W.sql`now()`)}}class Q extends J{static [q.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new Y(e,this.config)}}class Y extends H.PgColumn{static [q.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class X extends J{static [q.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new ee(e,this.config)}}class ee extends H.PgColumn{static [q.entityKind]="PgDateString";getSQLType(){return"date"}}function et(e,t){let{name:r,config:i}=(0,V.getColumnNameAndConfig)(e,t);return i?.mode==="date"?new Q(r):new X(r)}e.s(["PgDate",()=>Y,"PgDateString",()=>ee,"date",()=>et],556923);var er=t,ei=o;class en extends ei.PgColumnBuilder{static [er.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new eo(e,this.config)}}class eo extends ei.PgColumn{static [er.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function ea(e){return new en(e??"")}var es=t,el=o;class eu extends el.PgColumnBuilder{static [es.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new ec(e,this.config)}}class ec extends el.PgColumn{static [es.entityKind]="PgInet";getSQLType(){return"inet"}}function ed(e){return new eu(e??"")}var ep=t,ef=o;class eh extends l{static [ep.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new em(e,this.config)}}class em extends ef.PgColumn{static [ep.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function eg(e){return new eh(e??"")}e.s(["integer",()=>eg],870988);var ey=t,ev=n,eb=o;class eA extends eb.PgColumnBuilder{static [ey.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new ew(e,this.config)}}class ew extends eb.PgColumn{static [ey.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function e_(e,t={}){let{name:r,config:i}=(0,ev.getColumnNameAndConfig)(e,t);return new eA(r,i)}var eS=t,eE=o;class eT extends eE.PgColumnBuilder{static [eS.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new eI(e,this.config)}}class eI extends eE.PgColumn{static [eS.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function ex(e){return new eT(e??"")}e.s(["PgJson",()=>eI,"json",()=>ex],501727);var eO=t,eC=o;class ek extends eC.PgColumnBuilder{static [eO.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new eN(e,this.config)}}class eN extends eC.PgColumn{static [eO.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function eR(e){return new ek(e??"")}e.s(["PgJsonb",()=>eN,"jsonb",()=>eR],438257);var eP=t,eD=n,eU=o;class eL extends eU.PgColumnBuilder{static [eP.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new eK(e,this.config)}}class eK extends eU.PgColumn{static [eP.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class eM extends eU.PgColumnBuilder{static [eP.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new eB(e,this.config)}}class eB extends eU.PgColumn{static [eP.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function ej(e,t){let{name:r,config:i}=(0,eD.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new eM(r):new eL(r)}var e$=t,ez=o;class eF extends ez.PgColumnBuilder{static [e$.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new eq(e,this.config)}}class eq extends ez.PgColumn{static [e$.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}function eV(e){return new eF(e??"")}var eH=t,eG=o;class eW extends eG.PgColumnBuilder{static [eH.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new eZ(e,this.config)}}class eZ extends eG.PgColumn{static [eH.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}function eJ(e){return new eW(e??"")}var eQ=t,eY=n,eX=o;class e0 extends eX.PgColumnBuilder{static [eQ.entityKind]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new e1(e,this.config)}}class e1 extends eX.PgColumn{static [eQ.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class e2 extends eX.PgColumnBuilder{static [eQ.entityKind]="PgNumericNumberBuilder";constructor(e,t,r){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=r}build(e){return new e4(e,this.config)}}class e4 extends eX.PgColumn{static [eQ.entityKind]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class e3 extends eX.PgColumnBuilder{static [eQ.entityKind]="PgNumericBigIntBuilder";constructor(e,t,r){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=r}build(e){return new e5(e,this.config)}}class e5 extends eX.PgColumn{static [eQ.entityKind]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function e6(e,t){let{name:r,config:i}=(0,eY.getColumnNameAndConfig)(e,t),n=i?.mode;return"number"===n?new e2(r,i?.precision,i?.scale):"bigint"===n?new e3(r,i?.precision,i?.scale):new e0(r,i?.precision,i?.scale)}e.s(["PgNumeric",()=>e1,"numeric",()=>e6],848209);var e8=t,e9=n,e7=o;class te extends e7.PgColumnBuilder{static [e8.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new tt(e,this.config)}}class tt extends e7.PgColumn{static [e8.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class tr extends e7.PgColumnBuilder{static [e8.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new ti(e,this.config)}}class ti extends e7.PgColumn{static [e8.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function tn(e,t){let{name:r,config:i}=(0,e9.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new tr(r):new te(r)}var to=t,ta=n,ts=o;function tl(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function tu(e,t){let r=new DataView(new ArrayBuffer(8));for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function tc(e){let t,r=tl(e),i=0,n=r[0];i+=1;let o=new DataView(r.buffer),a=o.getUint32(i,1===n);if(i+=4,0x20000000&a&&(t=o.getUint32(i,1===n),i+=4),(65535&a)==1){let e=tu(r,i),t=tu(r,i+=8);return i+=8,[e,t]}throw Error("Unsupported geometry type")}class td extends ts.PgColumnBuilder{static [to.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new tp(e,this.config)}}class tp extends ts.PgColumn{static [to.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return tc(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class tf extends ts.PgColumnBuilder{static [to.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new th(e,this.config)}}class th extends ts.PgColumn{static [to.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=tc(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function tm(e,t){let{name:r,config:i}=(0,ta.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new tf(r):new td(r)}var tg=t,ty=o;class tv extends ty.PgColumnBuilder{static [tg.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new tb(e,this.config)}}class tb extends ty.PgColumn{static [tg.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function tA(e){return new tv(e??"")}var tw=e.i(405694),t_=t,tS=o;class tE extends l{static [t_.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new tT(e,this.config)}}class tT extends tS.PgColumn{static [t_.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function tI(e){return new tE(e??"")}var tx=t,tO=o;class tC extends tO.PgColumnBuilder{static [tx.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tk(e,this.config)}}class tk extends tO.PgColumn{static [tx.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}function tN(e){return new tC(e??"")}var tR=e.i(484259),tP=t,tD=n,tU=o;class tL extends J{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [tP.entityKind]="PgTimeBuilder";build(e){return new tK(e,this.config)}}class tK extends tU.PgColumn{static [tP.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function tM(e,t={}){let{name:r,config:i}=(0,tD.getColumnNameAndConfig)(e,t);return new tL(r,i.withTimezone??!1,i.precision)}e.s(["PgTime",()=>tK,"time",()=>tM],593486);var tB=t,tj=n,t$=o;class tz extends J{static [tB.entityKind]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new tF(e,this.config)}}class tF extends t$.PgColumn{static [tB.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class tq extends J{static [tB.entityKind]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new tV(e,this.config)}}class tV extends t$.PgColumn{static [tB.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function tH(e,t={}){let{name:r,config:i}=(0,tj.getColumnNameAndConfig)(e,t);return i?.mode==="string"?new tq(r,i.withTimezone??!1,i.precision):new tz(r,i?.withTimezone??!1,i?.precision)}e.s(["PgTimestamp",()=>tF,"PgTimestampString",()=>tV,"timestamp",()=>tH],303090);var tG=t,tW=W,tZ=o;class tJ extends tZ.PgColumnBuilder{static [tG.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(tW.sql`gen_random_uuid()`)}build(e){return new tQ(e,this.config)}}class tQ extends tZ.PgColumn{static [tG.entityKind]="PgUUID";getSQLType(){return"uuid"}}function tY(e){return new tJ(e??"")}e.s(["PgUUID",()=>tQ,"uuid",()=>tY],467751);var tX=t,t0=n,t1=o;class t2 extends t1.PgColumnBuilder{static [tX.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new t4(e,this.config)}}class t4 extends t1.PgColumn{static [tX.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function t3(e,t={}){let{name:r,config:i}=(0,t0.getColumnNameAndConfig)(e,t);return new t2(r,i)}e.s(["varchar",()=>t3],923624);var t5=t,t6=n,t8=o;class t9 extends t8.PgColumnBuilder{static [t5.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new t7(e,this.config)}}class t7 extends t8.PgColumn{static [t5.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function re(e,t){let{name:r,config:i}=(0,t6.getColumnNameAndConfig)(e,t);return new t9(r,i)}var rt=t,rr=n,ri=o;class rn extends ri.PgColumnBuilder{static [rt.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new ro(e,this.config)}}class ro extends ri.PgColumn{static [rt.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function ra(e,t){let{name:r,config:i}=(0,rr.getColumnNameAndConfig)(e,t);return new rn(r,i)}var rs=t,rl=n,ru=o;class rc extends ru.PgColumnBuilder{static [rs.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new rd(e,this.config)}}class rd extends ru.PgColumn{static [rs.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function rp(e,t){let{name:r,config:i}=(0,rl.getColumnNameAndConfig)(e,t);return new rc(r,i)}var rf=t,rh=n,rm=o;class rg extends rm.PgColumnBuilder{static [rf.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new ry(e,this.config)}}class ry extends rm.PgColumn{static [rf.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function rv(e,t){let{name:r,config:i}=(0,rh.getColumnNameAndConfig)(e,t);return new rg(r,i)}function rb(){return{bigint:f,bigserial:w,boolean:I,char:R,cidr:K,customType:F,date:et,doublePrecision:ea,inet:ed,integer:eg,interval:e_,json:ex,jsonb:eR,line:ej,macaddr:eV,macaddr8:eJ,numeric:e6,point:tn,geometry:tm,real:tA,serial:tw.serial,smallint:tI,smallserial:tN,text:tR.text,time:tM,timestamp:tH,uuid:tY,varchar:t3,bit:re,halfvec:ra,sparsevec:rp,vector:rv}}let rA=Symbol.for("drizzle:PgInlineForeignKeys"),rw=Symbol.for("drizzle:EnableRLS");class r_ extends r.Table{static [t.entityKind]="PgTable";static Symbol=Object.assign({},r.Table.Symbol,{InlineForeignKeys:rA,EnableRLS:rw});[rA]=[];[rw]=!1;[r.Table.Symbol.ExtraConfigBuilder]=void 0;[r.Table.Symbol.ExtraConfigColumns]={}}function rS(e,t,i,n,o=e){let a=new r_(e,n,o),s="function"==typeof t?t(rb()):t,l=Object.fromEntries(Object.entries(s).map(([e,t])=>{let r=t;r.setName(e);let i=r.build(a);return a[rA].push(...r.buildForeignKeys(i,a)),[e,i]})),u=Object.fromEntries(Object.entries(s).map(([e,t])=>{let r=t;return r.setName(e),[e,r.buildExtraConfigColumn(a)]})),c=Object.assign(a,l);return c[r.Table.Symbol.Columns]=l,c[r.Table.Symbol.ExtraConfigColumns]=u,i&&(c[r_.Symbol.ExtraConfigBuilder]=i),Object.assign(c,{enableRLS:()=>(c[r_.Symbol.EnableRLS]=!0,c)})}let rE=(e,t,r)=>rS(e,t,r,void 0);e.s(["PgTable",()=>r_,"pgTable",()=>rE],794093);var rT=t;class rI{constructor(e,t){this.name=e,this.value=t}static [rT.entityKind]="PgCheckBuilder";brand;build(e){return new rx(e,this)}}class rx{constructor(e,t){this.table=e,this.name=t.name,this.value=t.value}static [rT.entityKind]="PgCheck";name;value}function rO(e,t){return new rI(e,t)}e.s(["CheckBuilder",()=>rI,"check",()=>rO],58081);var rC=W,rk=t,rN=o;class rR{constructor(e,t){this.unique=e,this.name=t}static [rk.entityKind]="PgIndexBuilderOn";on(...e){return new rP(e.map(e=>{if((0,rk.is)(e,rC.SQL))return e;let t=new rN.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!1,this.name)}onOnly(...e){return new rP(e.map(e=>{if((0,rk.is)(e,rC.SQL))return e;let t=new rN.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,t}),this.unique,!0,this.name)}using(e,...t){return new rP(t.map(e=>{if((0,rk.is)(e,rC.SQL))return e;let t=new rN.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!0,this.name,e)}}class rP{static [rk.entityKind]="PgIndexBuilder";config;constructor(e,t,r,i,n="btree"){this.config={name:i,columns:e,unique:t,only:r,method:n}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new rD(this.config,e)}}class rD{static [rk.entityKind]="PgIndex";config;constructor(e,t){this.config={...e,table:t}}}function rU(e){return new rR(!1,e)}function rL(e){return new rR(!0,e)}e.s(["IndexBuilder",()=>rP,"index",()=>rU,"uniqueIndex",()=>rL],420776);var rK=t;class rM{static [rK.entityKind]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new rB(e,this.columns,this.name)}}class rB{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [rK.entityKind]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[r_.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}e.s(["PrimaryKeyBuilder",()=>rM],144902);var rj=r,r$=e.i(156325),rz=t,rF=e.i(875225),rq=e.i(349129),rV=W;class rH{constructor(e,t,r){this.sourceTable=e,this.referencedTable=t,this.relationName=r,this.referencedTableName=t[rj.Table.Symbol.Name]}static [rz.entityKind]="Relation";referencedTableName;fieldName}class rG{constructor(e,t){this.table=e,this.config=t}static [rz.entityKind]="Relations"}class rW extends rH{constructor(e,t,r,i){super(e,t,r?.relationName),this.config=r,this.isNullable=i}static [rz.entityKind]="One";withFieldName(e){let t=new rW(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class rZ extends rH{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [rz.entityKind]="Many";withFieldName(e){let t=new rZ(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function rJ(){return{and:rF.and,between:rF.between,eq:rF.eq,exists:rF.exists,gt:rF.gt,gte:rF.gte,ilike:rF.ilike,inArray:rF.inArray,isNull:rF.isNull,isNotNull:rF.isNotNull,like:rF.like,lt:rF.lt,lte:rF.lte,ne:rF.ne,not:rF.not,notBetween:rF.notBetween,notExists:rF.notExists,notLike:rF.notLike,notIlike:rF.notIlike,notInArray:rF.notInArray,or:rF.or,sql:rV.sql}}function rQ(){return{sql:rV.sql,asc:rq.asc,desc:rq.desc}}function rY(e,t){1===Object.keys(e).length&&"default"in e&&!(0,rz.is)(e.default,rj.Table)&&(e=e.default);let r={},i={},n={};for(let[o,a]of Object.entries(e))if((0,rz.is)(a,rj.Table)){let e=(0,rj.getTableUniqueName)(a),t=i[e];for(let i of(r[e]=o,n[o]={tsName:o,dbName:a[rj.Table.Symbol.Name],schema:a[rj.Table.Symbol.Schema],columns:a[rj.Table.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(a[rj.Table.Symbol.Columns])))i.primary&&n[o].primaryKey.push(i);let s=a[rj.Table.Symbol.ExtraConfigBuilder]?.(a[rj.Table.Symbol.ExtraConfigColumns]);if(s)for(let e of Object.values(s))(0,rz.is)(e,rM)&&n[o].primaryKey.push(...e.columns)}else if((0,rz.is)(a,rG)){let e,o=(0,rj.getTableUniqueName)(a.table),s=r[o];for(let[r,l]of Object.entries(a.config(t(a.table))))if(s){let t=n[s];t.relations[r]=l,e&&t.primaryKey.push(...e)}else o in i||(i[o]={relations:{},primaryKey:e}),i[o].relations[r]=l}return{tables:n,tableNamesMap:r}}function rX(e,t){return new rG(e,e=>Object.fromEntries(Object.entries(t(e)).map(([e,t])=>[e,t.withFieldName(e)])))}function r0(e){return function(t,r){return new rW(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)}}function r1(e){return function(t,r){return new rZ(e,t,r)}}function r2(e,t,r){if((0,rz.is)(r,rW)&&r.config)return{fields:r.config.fields,references:r.config.references};let i=t[(0,rj.getTableUniqueName)(r.referencedTable)];if(!i)throw Error(`Table "${r.referencedTable[rj.Table.Symbol.Name]}" not found in schema`);let n=e[i];if(!n)throw Error(`Table "${i}" not found in schema`);let o=r.sourceTable,a=t[(0,rj.getTableUniqueName)(o)];if(!a)throw Error(`Table "${o[rj.Table.Symbol.Name]}" not found in schema`);let s=[];for(let e of Object.values(n.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&s.push(e);if(s.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${i}"`):Error(`There are multiple relations between "${i}" and "${r.sourceTable[rj.Table.Symbol.Name]}". Please specify relation name`);if(s[0]&&(0,rz.is)(s[0],rW)&&s[0].config)return{fields:s[0].config.references,references:s[0].config.fields};throw Error(`There is not enough information to infer relation "${a}.${r.fieldName}"`)}function r4(e){return{one:r0(e),many:r1(e)}}function r3(e,t,r,i,n=e=>e){let o={};for(let[a,s]of i.entries())if(s.isJson){let i=t.relations[s.tsKey],l=r[a],u="string"==typeof l?JSON.parse(l):l;o[s.tsKey]=(0,rz.is)(i,rW)?u&&r3(e,e[s.relationTableTsKey],u,s.selection,n):u.map(t=>r3(e,e[s.relationTableTsKey],t,s.selection,n))}else{let e,t=n(r[a]),i=s.field;e=(0,rz.is)(i,r$.Column)?i:(0,rz.is)(i,rV.SQL)?i.decoder:i.sql.decoder,o[s.tsKey]=null===t?null:e.mapFromDriverValue(t)}return o}e.s(["Many",()=>rZ,"One",()=>rW,"createTableRelationsHelpers",()=>r4,"extractTablesRelationalConfig",()=>rY,"getOperators",()=>rJ,"getOrderByOperators",()=>rQ,"mapRelationalRow",()=>r3,"normalizeRelation",()=>r2,"relations",()=>rX],479822)},78244,258872,e=>{"use strict";let t;var r,i=e.i(590643),n=e.i(844988),o=n,a=e.i(518899);class s extends a.View{static [o.entityKind]="PgViewBase"}var l=n;class u{static [l.entityKind]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}var c=n;class d{static [c.entityKind]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}var p=e.i(156325),f=n,h=a,m=e.i(369e3),g=e.i(88274);class y{constructor(e){this.table=e}static [f.entityKind]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class v{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [f.entityKind]="TableAliasProxyHandler";get(e,t){if(t===m.Table.Symbol.IsAlias)return!0;if(t===m.Table.Symbol.Name||this.replaceOriginalName&&t===m.Table.Symbol.OriginalName)return this.alias;if(t===g.ViewBaseConfig)return{...e[g.ViewBaseConfig],name:this.alias,isAlias:!0};if(t===m.Table.Symbol.Columns){let t=e[m.Table.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(i=>{r[i]=new Proxy(t[i],new y(new Proxy(e,this)))}),r}let r=e[t];return(0,f.is)(r,p.Column)?new Proxy(r,new y(new Proxy(e,this))):r}}class b{constructor(e){this.alias=e}static [f.entityKind]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?A(e.sourceTable,this.alias):e[t]}}function A(e,t){return new Proxy(e,new v(t,!1))}function w(e,t){return new Proxy(e,new y(new Proxy(e.table,new v(t,!1))))}function _(e,t){return new h.SQL.Aliased(S(e.sql,t),e.fieldAlias)}function S(e,t){return h.sql.join(e.queryChunks.map(e=>(0,f.is)(e,p.Column)?w(e,t):(0,f.is)(e,h.SQL)?S(e,t):(0,f.is)(e,h.SQL.Aliased)?_(e,t):e))}var E=p,T=n,I=a,x=e.i(792352),O=g;class C{static [T.entityKind]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===O.ViewBaseConfig)return{...e[O.ViewBaseConfig],selectedFields:new Proxy(e[O.ViewBaseConfig].selectedFields,this)};if("symbol"==typeof t)return e[t];let r=((0,T.is)(e,x.Subquery)?e._.selectedFields:(0,T.is)(e,I.View)?e[O.ViewBaseConfig].selectedFields:e)[t];if((0,T.is)(r,I.SQL.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!r.isSelectionField)return r.sql;let e=r.clone();return e.isSelectionField=!0,e}if((0,T.is)(r,I.SQL)){if("sql"===this.config.sqlBehavior)return r;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,T.is)(r,E.Column)?this.config.alias?new Proxy(r,new y(new Proxy(r.table,new v(this.config.alias,this.config.replaceOriginalName??!1)))):r:"object"!=typeof r||null===r?r:new Proxy(r,new C(this.config))}}var k=a,N=x,R=m,P=e.i(722360),D=e.i(704313),U=g,L=n,K=e.i(794093),M=a,B=x,j=m;e.i(58081),e.i(463411),e.i(420776);var $=n;class z{constructor(e,t){this.name=e,t&&(this.as=t.as,this.for=t.for,this.to=t.to,this.using=t.using,this.withCheck=t.withCheck)}static [$.entityKind]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}e.i(144902),e.i(543233);let F=Symbol.for("drizzle:PgViewConfig");var q=n,V=D,H=n,G=n,W=m;function Z(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function J(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function Q(e){return e}class Y{static [G.entityKind]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?Z:"camelCase"===e?J:Q}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[W.Table.Symbol.Schema]??"public",r=e.table[W.Table.Symbol.OriginalName],i=`${t}.${r}.${e.name}`;return this.cache[i]||this.cacheTable(e.table),this.cache[i]}cacheTable(e){let t=e[W.Table.Symbol.Schema]??"public",r=e[W.Table.Symbol.OriginalName],i=`${t}.${r}`;if(!this.cachedTables[i]){for(let t of Object.values(e[W.Table.Symbol.Columns])){let e=`${i}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[i]=!0}}clearCache(){this.cache={},this.cachedTables={}}}var X=p,ee=n,et=n;class er extends Error{static [et.entityKind]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class ei extends Error{constructor(e,t,r){super(`Failed query: ${e}
params: ${t}`),this.query=e,this.params=t,this.cause=r,Error.captureStackTrace(this,ei),r&&(this.cause=r)}}class en extends er{static [et.entityKind]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}var eo=e.i(304775),ea=e.i(556923),es=e.i(501727),el=e.i(438257),eu=e.i(848209),ec=e.i(593486),ed=e.i(303090),ep=e.i(467751),ef=K,eh=e.i(479822),em=e.i(875225),eg=a,ey=x,ev=m,eb=D,eA=g;class ew{static [ee.entityKind]="PgDialect";casing;constructor(e){this.casing=new Y(e?.casing)}async migrate(e,t,r){let i="string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",n="string"==typeof r?"drizzle":r.migrationsSchema??"drizzle",o=eg.sql`
			CREATE TABLE IF NOT EXISTS ${eg.sql.identifier(n)}.${eg.sql.identifier(i)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(eg.sql`CREATE SCHEMA IF NOT EXISTS ${eg.sql.identifier(n)}`),await t.execute(o);let a=(await t.all(eg.sql`select id, hash, created_at from ${eg.sql.identifier(n)}.${eg.sql.identifier(i)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let r of e)if(!a||Number(a.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(eg.sql.raw(e));await t.execute(eg.sql`insert into ${eg.sql.identifier(n)}.${eg.sql.identifier(i)} ("hash", "created_at") values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[eg.sql`with `];for(let[r,i]of e.entries())t.push(eg.sql`${eg.sql.identifier(i._.alias)} as (${i._.sql})`),r<e.length-1&&t.push(eg.sql`, `);return t.push(eg.sql` `),eg.sql.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:i}){let n=this.buildWithCTE(i),o=r?eg.sql` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,a=t?eg.sql` where ${t}`:void 0;return eg.sql`${n}delete from ${e}${a}${o}`}buildUpdateSet(e,t){let r=e[ev.Table.Symbol.Columns],i=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),n=i.length;return eg.sql.join(i.flatMap((e,i)=>{let o=r[e],a=t[e]??eg.sql.param(o.onUpdateFn(),o),s=eg.sql`${eg.sql.identifier(this.casing.getColumnCasing(o))} = ${a}`;return i<n-1?[s,eg.sql.raw(", ")]:[s]}))}buildUpdateQuery({table:e,set:t,where:r,returning:i,withList:n,from:o,joins:a}){let s=this.buildWithCTE(n),l=e[ef.PgTable.Symbol.Name],u=e[ef.PgTable.Symbol.Schema],c=e[ef.PgTable.Symbol.OriginalName],d=l===c?void 0:l,p=eg.sql`${u?eg.sql`${eg.sql.identifier(u)}.`:void 0}${eg.sql.identifier(c)}${d&&eg.sql` ${eg.sql.identifier(d)}`}`,f=this.buildUpdateSet(e,t),h=o&&eg.sql.join([eg.sql.raw(" from "),this.buildFromTable(o)]),m=this.buildJoins(a),g=i?eg.sql` returning ${this.buildSelection(i,{isSingleTable:!o})}`:void 0,y=r?eg.sql` where ${r}`:void 0;return eg.sql`${s}update ${p} set ${f}${h}${m}${y}${g}`}buildSelection(e,{isSingleTable:t=!1}={}){let r=e.length,i=e.flatMap(({field:e},i)=>{let n=[];if((0,ee.is)(e,eg.SQL.Aliased)&&e.isSelectionField)n.push(eg.sql.identifier(e.fieldAlias));else if((0,ee.is)(e,eg.SQL.Aliased)||(0,ee.is)(e,eg.SQL)){let r=(0,ee.is)(e,eg.SQL.Aliased)?e.sql:e;t?n.push(new eg.SQL(r.queryChunks.map(e=>(0,ee.is)(e,eo.PgColumn)?eg.sql.identifier(this.casing.getColumnCasing(e)):e))):n.push(r),(0,ee.is)(e,eg.SQL.Aliased)&&n.push(eg.sql` as ${eg.sql.identifier(e.fieldAlias)}`)}else(0,ee.is)(e,X.Column)&&(t?n.push(eg.sql.identifier(this.casing.getColumnCasing(e))):n.push(e));return i<r-1&&n.push(eg.sql`, `),n});return eg.sql.join(i)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[r,i]of e.entries()){0===r&&t.push(eg.sql` `);let n=i.table,o=i.lateral?eg.sql` lateral`:void 0,a=i.on?eg.sql` on ${i.on}`:void 0;if((0,ee.is)(n,ef.PgTable)){let e=n[ef.PgTable.Symbol.Name],r=n[ef.PgTable.Symbol.Schema],s=n[ef.PgTable.Symbol.OriginalName],l=e===s?void 0:i.alias;t.push(eg.sql`${eg.sql.raw(i.joinType)} join${o} ${r?eg.sql`${eg.sql.identifier(r)}.`:void 0}${eg.sql.identifier(s)}${l&&eg.sql` ${eg.sql.identifier(l)}`}${a}`)}else if((0,ee.is)(n,eg.View)){let e=n[eA.ViewBaseConfig].name,r=n[eA.ViewBaseConfig].schema,s=n[eA.ViewBaseConfig].originalName,l=e===s?void 0:i.alias;t.push(eg.sql`${eg.sql.raw(i.joinType)} join${o} ${r?eg.sql`${eg.sql.identifier(r)}.`:void 0}${eg.sql.identifier(s)}${l&&eg.sql` ${eg.sql.identifier(l)}`}${a}`)}else t.push(eg.sql`${eg.sql.raw(i.joinType)} join${o} ${n}${a}`);r<e.length-1&&t.push(eg.sql` `)}return eg.sql.join(t)}buildFromTable(e){if((0,ee.is)(e,ev.Table)&&e[ev.Table.Symbol.IsAlias]){let t=eg.sql`${eg.sql.identifier(e[ev.Table.Symbol.OriginalName])}`;return e[ev.Table.Symbol.Schema]&&(t=eg.sql`${eg.sql.identifier(e[ev.Table.Symbol.Schema])}.${t}`),eg.sql`${t} ${eg.sql.identifier(e[ev.Table.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:t,fieldsFlat:r,where:i,having:n,table:o,joins:a,orderBy:l,groupBy:u,limit:c,offset:d,lockingClause:p,distinct:f,setOperators:h}){let m,g,y,v=r??(0,eb.orderSelectedFields)(t);for(let e of v){let t;if((0,ee.is)(e.field,X.Column)&&(0,ev.getTableName)(e.field.table)!==((0,ee.is)(o,ey.Subquery)?o._.alias:(0,ee.is)(o,s)?o[eA.ViewBaseConfig].name:(0,ee.is)(o,eg.SQL)?void 0:(0,ev.getTableName)(o))&&(t=e.field.table,!a?.some(({alias:e})=>e===(t[ev.Table.Symbol.IsAlias]?(0,ev.getTableName)(t):t[ev.Table.Symbol.BaseName])))){let t=(0,ev.getTableName)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let b=!a||0===a.length,A=this.buildWithCTE(e);f&&(m=!0===f?eg.sql` distinct`:eg.sql` distinct on (${eg.sql.join(f.on,eg.sql`, `)})`);let w=this.buildSelection(v,{isSingleTable:b}),_=this.buildFromTable(o),S=this.buildJoins(a),E=i?eg.sql` where ${i}`:void 0,T=n?eg.sql` having ${n}`:void 0;l&&l.length>0&&(g=eg.sql` order by ${eg.sql.join(l,eg.sql`, `)}`),u&&u.length>0&&(y=eg.sql` group by ${eg.sql.join(u,eg.sql`, `)}`);let I="object"==typeof c||"number"==typeof c&&c>=0?eg.sql` limit ${c}`:void 0,x=d?eg.sql` offset ${d}`:void 0,O=eg.sql.empty();if(p){let e=eg.sql` for ${eg.sql.raw(p.strength)}`;p.config.of&&e.append(eg.sql` of ${eg.sql.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],eg.sql`, `)}`),p.config.noWait?e.append(eg.sql` nowait`):p.config.skipLocked&&e.append(eg.sql` skip locked`),O.append(e)}let C=eg.sql`${A}select${m} ${w} from ${_}${S}${E}${y}${T}${g}${I}${x}${O}`;return h.length>0?this.buildSetOperations(C,h):C}buildSetOperations(e,t){let[r,...i]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===i.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:r,rightSelect:i,limit:n,orderBy:o,offset:a}}){let s,l=eg.sql`(${e.getSQL()}) `,u=eg.sql`(${i.getSQL()})`;if(o&&o.length>0){let e=[];for(let t of o)if((0,ee.is)(t,eo.PgColumn))e.push(eg.sql.identifier(t.name));else if((0,ee.is)(t,eg.SQL)){for(let e=0;e<t.queryChunks.length;e++){let r=t.queryChunks[e];(0,ee.is)(r,eo.PgColumn)&&(t.queryChunks[e]=eg.sql.identifier(r.name))}e.push(eg.sql`${t}`)}else e.push(eg.sql`${t}`);s=eg.sql` order by ${eg.sql.join(e,eg.sql`, `)} `}let c="object"==typeof n||"number"==typeof n&&n>=0?eg.sql` limit ${n}`:void 0,d=eg.sql.raw(`${t} ${r?"all ":""}`),p=a?eg.sql` offset ${a}`:void 0;return eg.sql`${l}${d}${u}${s}${c}${p}`}buildInsertQuery({table:e,values:t,onConflict:r,returning:i,withList:n,select:o,overridingSystemValue_:a}){let s=[],l=Object.entries(e[ev.Table.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),u=l.map(([,e])=>eg.sql.identifier(this.casing.getColumnCasing(e)));if(o){let e=t;(0,ee.is)(e,eg.SQL)?s.push(e):s.push(e.getSQL())}else{let e=t;for(let[t,r]of(s.push(eg.sql.raw("values ")),e.entries())){let i=[];for(let[e,t]of l){let n=r[e];if(void 0===n||(0,ee.is)(n,eg.Param)&&void 0===n.value)if(void 0!==t.defaultFn){let e=t.defaultFn(),r=(0,ee.is)(e,eg.SQL)?e:eg.sql.param(e,t);i.push(r)}else if(t.default||void 0===t.onUpdateFn)i.push(eg.sql`default`);else{let e=t.onUpdateFn(),r=(0,ee.is)(e,eg.SQL)?e:eg.sql.param(e,t);i.push(r)}else i.push(n)}s.push(i),t<e.length-1&&s.push(eg.sql`, `)}}let c=this.buildWithCTE(n),d=eg.sql.join(s),p=i?eg.sql` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,f=r?eg.sql` on conflict ${r}`:void 0,h=!0===a?eg.sql`overriding system value `:void 0;return eg.sql`${c}insert into ${e} ${u} ${h}${d}${f}${p}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:r}){let i=t?eg.sql` concurrently`:void 0,n=r?eg.sql` with no data`:void 0;return eg.sql`refresh materialized view${i} ${e}${n}`}prepareTyping(e){if((0,ee.is)(e,el.PgJsonb)||(0,ee.is)(e,es.PgJson))return"json";if((0,ee.is)(e,eu.PgNumeric))return"decimal";if((0,ee.is)(e,ec.PgTime))return"time";if((0,ee.is)(e,ed.PgTimestamp)||(0,ee.is)(e,ed.PgTimestampString))return"timestamp";if((0,ee.is)(e,ea.PgDate)||(0,ee.is)(e,ea.PgDateString))return"date";else if((0,ee.is)(e,ep.PgUUID))return"uuid";else return"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:i,tableConfig:n,queryConfig:o,tableAlias:a,nestedQueryRelation:s,joinOn:l}){let u,c=[],d,p,f=[],h,m=[];if(!0===o)c=Object.entries(n.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:w(t,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let i=Object.fromEntries(Object.entries(n.columns).map(([e,t])=>[e,w(t,a)]));if(o.where){let e="function"==typeof o.where?o.where(i,(0,eh.getOperators)()):o.where;h=e&&S(e,a)}let s=[],l=[];if(o.columns){let e=!1;for(let[t,r]of Object.entries(o.columns))void 0!==r&&t in n.columns&&(e||!0!==r||(e=!0),l.push(t));l.length>0&&(l=e?l.filter(e=>o.columns?.[e]===!0):Object.keys(n.columns).filter(e=>!l.includes(e)))}else l=Object.keys(n.columns);for(let e of l){let t=n.columns[e];s.push({tsKey:e,value:t})}let u=[];if(o.with&&(u=Object.entries(o.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:n.relations[e]}))),o.extras)for(let[e,t]of Object.entries("function"==typeof o.extras?o.extras(i,{sql:eg.sql}):o.extras))s.push({tsKey:e,value:_(t,a)});for(let{tsKey:e,value:t}of s)c.push({dbKey:(0,ee.is)(t,eg.SQL.Aliased)?t.fieldAlias:n.columns[e].name,tsKey:e,field:(0,ee.is)(t,X.Column)?w(t,a):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let g="function"==typeof o.orderBy?o.orderBy(i,(0,eh.getOrderByOperators)()):o.orderBy??[];for(let{tsKey:i,queryConfig:n,relation:s}of(Array.isArray(g)||(g=[g]),f=g.map(e=>(0,ee.is)(e,X.Column)?w(e,a):S(e,a)),d=o.limit,p=o.offset,u)){let o=(0,eh.normalizeRelation)(t,r,s),l=r[(0,ev.getTableUniqueName)(s.referencedTable)],u=`${a}_${i}`,d=(0,em.and)(...o.fields.map((e,t)=>(0,em.eq)(w(o.references[t],u),w(e,a)))),p=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:e[l],tableConfig:t[l],queryConfig:(0,ee.is)(s,eh.One)?!0===n?{limit:1}:{...n,limit:1}:n,tableAlias:u,joinOn:d,nestedQueryRelation:s}),f=eg.sql`${eg.sql.identifier(u)}.${eg.sql.identifier("data")}`.as(i);m.push({on:eg.sql`true`,table:new ey.Subquery(p.sql,{},u),alias:u,joinType:"left",lateral:!0}),c.push({dbKey:i,tsKey:i,field:f,relationTableTsKey:l,isJson:!0,selection:p.selection})}}if(0===c.length)throw new er({message:`No fields selected for table "${n.tsName}" ("${a}")`});if(h=(0,em.and)(l,h),s){let e=eg.sql`json_build_array(${eg.sql.join(c.map(({field:e,tsKey:t,isJson:r})=>r?eg.sql`${eg.sql.identifier(`${a}_${t}`)}.${eg.sql.identifier("data")}`:(0,ee.is)(e,eg.SQL.Aliased)?e.sql:e),eg.sql`, `)})`;(0,ee.is)(s,eh.Many)&&(e=eg.sql`coalesce(json_agg(${e}${f.length>0?eg.sql` order by ${eg.sql.join(f,eg.sql`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:n.tsName,selection:c}];void 0!==d||void 0!==p||f.length>0?(u=this.buildSelectQuery({table:A(i,a),fields:{},fieldsFlat:[{path:[],field:eg.sql.raw("*")}],where:h,limit:d,offset:p,orderBy:f,setOperators:[]}),h=void 0,d=void 0,p=void 0,f=[]):u=A(i,a),u=this.buildSelectQuery({table:(0,ee.is)(u,ef.PgTable)?u:new ey.Subquery(u,{},a),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:(0,ee.is)(e,X.Column)?w(e,a):e})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]})}else u=this.buildSelectQuery({table:A(i,a),fields:{},fieldsFlat:c.map(({field:e})=>({path:[],field:(0,ee.is)(e,X.Column)?w(e,a):e})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]});return{tableTsKey:n.tsName,sql:u,selection:c}}}var e_=x;class eS{static [H.entityKind]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,H.is)(e,ew)?e:void 0,this.dialectConfig=(0,H.is)(e,ew)?void 0:e}$with=(e,t)=>{let r=this;return{as:i=>("function"==typeof i&&(i=i(r)),new Proxy(new e_.WithSubquery(i.getSQL(),t??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new C({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new eU({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new eU({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,r){return new eU({fields:r??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new eU({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new eU({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new eU({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new ew(this.dialectConfig)),this.dialect}}var eE=K;class eT{constructor(e,t){this.name=e,this.schema=t}static [q.entityKind]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}}class eI extends eT{static [q.entityKind]="PgViewBuilder";as(e){"function"==typeof e&&(e=e(new eS));let t=new C({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),t);return new Proxy(new eN({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),t)}}class ex extends eT{static [q.entityKind]="PgManualViewBuilder";columns;constructor(e,t,r){super(e,r),this.columns=(0,V.getTableColumns)((0,eE.pgTable)(e,t))}existing(){return new Proxy(new eN({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new C({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new eN({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new C({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class eO{constructor(e,t){this.name=e,this.schema=t}static [q.entityKind]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}}class eC extends eO{static [q.entityKind]="PgMaterializedViewBuilder";as(e){"function"==typeof e&&(e=e(new eS));let t=new C({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),t);return new Proxy(new eP({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),t)}}class ek extends eO{static [q.entityKind]="PgManualMaterializedViewBuilder";columns;constructor(e,t,r){super(e,r),this.columns=(0,V.getTableColumns)((0,eE.pgTable)(e,t))}existing(){return new Proxy(new eP({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new C({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new eP({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new C({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class eN extends s{static [q.entityKind]="PgView";[F];constructor({pgConfig:e,config:t}){super(t),e&&(this[F]={with:e.with})}}let eR=Symbol.for("drizzle:PgMaterializedViewConfig");class eP extends s{static [q.entityKind]="PgMaterializedView";[eR];constructor({pgConfig:e,config:t}){super(t),this[eR]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}function eD(e){return(0,L.is)(e,K.PgTable)?[e[j.Schema]?`${e[j.Schema]}.${e[j.Table.Symbol.BaseName]}`:e[j.Table.Symbol.BaseName]]:(0,L.is)(e,B.Subquery)?e._.usedTables??[]:(0,L.is)(e,M.SQL)?e.usedTables??[]:[]}class eU{static [n.entityKind]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let t,r=!!this.fields,i=e;return t=this.fields?this.fields:(0,n.is)(i,N.Subquery)?Object.fromEntries(Object.keys(i._.selectedFields).map(e=>[e,i[e]])):(0,n.is)(i,s)?i[U.ViewBaseConfig].selectedFields:(0,n.is)(i,k.SQL)?{}:(0,D.getTableColumns)(i),new eK({table:i,fields:t,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class eL extends u{static [n.entityKind]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:t,isPartialSelect:r,session:i,dialect:n,withList:o,distinct:a}){for(const s of(super(),this.config={withList:o,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=i,this.dialect=n,this._={selectedFields:t,config:this.config},this.tableName=(0,D.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},eD(e)))this.usedTables.add(s)}getUsedTables(){return[...this.usedTables]}createJoin(e,t){return(r,i)=>{let o=this.tableName,a=(0,D.getTableLikeName)(r);for(let e of eD(r))this.usedTables.add(e);if("string"==typeof a&&this.config.joins?.some(e=>e.alias===a))throw Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof o&&(this.config.fields={[o]:this.config.fields}),"string"==typeof a&&!(0,n.is)(r,k.SQL))){let e=(0,n.is)(r,N.Subquery)?r._.selectedFields:(0,n.is)(r,k.View)?r[U.ViewBaseConfig].selectedFields:r[R.Table.Symbol.Columns];this.config.fields[a]=e}if("function"==typeof i&&(i=i(new Proxy(this.config.fields,new C({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:r,joinType:e,alias:a,lateral:t}),"string"==typeof a)switch(e){case"left":this.joinsNotNullableMap[a]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[a]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[a]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[a]=!1}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,t){return r=>{let i="function"==typeof r?r(eB()):r;if(!(0,D.haveSameKeys)(this.getSelectedFields(),i.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new C({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new C({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new C({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new C({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else{let t=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=t:this.config.orderBy=t}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){let t=[];if(t.push(...eD(this.config.table)),this.config.joins)for(let e of this.config.joins)t.push(...eD(e.table));return new Proxy(new N.Subquery(this.getSQL(),this.config.fields,e,!1,[...new Set(t)]),new C({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new C({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=void 0===e?{config:{},enable:!0,autoInvalidate:!0}:!1===e?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}}class eK extends eL{static [n.entityKind]="PgSelect";_prepare(e){let{session:t,config:r,dialect:i,joinsNotNullableMap:n,authToken:o,cacheConfig:a,usedTables:s}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:l}=r;return P.tracer.startActiveSpan("drizzle.prepareQuery",()=>{let r=(0,D.orderSelectedFields)(l),u=t.prepareQuery(i.sqlToQuery(this.getSQL()),r,e,!0,void 0,{type:"select",tables:[...s]},a);return u.joinsNotNullableMap=n,u.setToken(o)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>P.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}function eM(e,t){return(r,i,...n)=>{let o=[i,...n].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of o)if(!(0,D.haveSameKeys)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(o)}}(0,D.applyMixins)(eK,[d]);let eB=()=>({union:ej,unionAll:e$,intersect:ez,intersectAll:eF,except:eq,exceptAll:eV}),ej=eM("union",!1),e$=eM("union",!0),ez=eM("intersect",!1),eF=eM("intersect",!0),eq=eM("except",!1),eV=eM("except",!0);var eH=n,eG=n;class eW{static [eG.entityKind]="ConsoleLogWriter";write(e){console.log(e)}}class eZ{static [eG.entityKind]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new eW}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),i=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${i}`)}}class eJ{static [eG.entityKind]="NoopLogger";logQuery(){}}var eQ=n,eY=n,eX=m,e0=P,e1=D;class e2 extends d{constructor(e,t,r,i){super(),this.session=t,this.dialect=r,this.config={table:e,withList:i}}static [eY.entityKind]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[eX.Table.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=(0,e1.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return e0.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:eD(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>e0.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new C({alias:(0,eX.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var e4=n,e3=a,e5=m,e6=P,e8=D;class e9{constructor(e,t,r,i,n){this.table=e,this.session=t,this.dialect=r,this.withList=i,this.overridingSystemValue_=n}static [e4.entityKind]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},r=this.table[e5.Table.Symbol.Columns];for(let i of Object.keys(e)){let n=e[i];t[i]=(0,e4.is)(n,e3.SQL)?n:new e3.Param(n,r[i])}return t});return new e7(this.table,t,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let t="function"==typeof e?e(new eS):e;if(!(0,e4.is)(t,e3.SQL)&&!(0,e8.haveSameKeys)(this.table[e5.Columns],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new e7(this.table,t,this.session,this.dialect,this.withList,!0)}}class e7 extends d{constructor(e,t,r,i,n,o,a){super(),this.session=r,this.dialect=i,this.config={table:e,values:t,withList:n,select:o,overridingSystemValue_:a}}static [e4.entityKind]="PgInsert";config;cacheConfig;returning(e=this.config.table[e5.Table.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=(0,e8.orderSelectedFields)(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=e3.sql`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?e3.sql` where ${e.where}`:void 0;this.config.onConflict=e3.sql`(${e3.sql.raw(t)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?e3.sql` where ${e.where}`:void 0,r=e.targetWhere?e3.sql` where ${e.targetWhere}`:void 0,i=e.setWhere?e3.sql` where ${e.setWhere}`:void 0,n=this.dialect.buildUpdateSet(this.config.table,(0,e8.mapUpdateSet)(this.config.table,e.set)),o="";return o=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=e3.sql`(${e3.sql.raw(o)})${r} do update set ${n}${t}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return e6.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:eD(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>e6.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new C({alias:(0,e5.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var te=n,tt=K,tr=a,ti=x,tn=m,to=D,ta=g;class ts{constructor(e,t,r,i){this.table=e,this.session=t,this.dialect=r,this.withList=i}static [te.entityKind]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new tl(this.table,(0,to.mapUpdateSet)(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class tl extends d{constructor(e,t,r,i,n){super(),this.session=r,this.dialect=i,this.config={set:t,table:e,withList:n,joins:[]},this.tableName=(0,to.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [te.entityKind]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let t=e,r=(0,to.getTableLikeName)(t);return"string"==typeof r&&(this.joinsNotNullableMap[r]=!0),this.config.from=t,this}getTableLikeFields(e){return(0,te.is)(e,tt.PgTable)?e[tn.Table.Symbol.Columns]:(0,te.is)(e,ti.Subquery)?e._.selectedFields:e[ta.ViewBaseConfig].selectedFields}createJoin(e){return(t,r)=>{let i=(0,to.getTableLikeName)(t);if("string"==typeof i&&this.config.joins.some(e=>e.alias===i))throw Error(`Alias "${i}" is already used in this query`);if("function"==typeof r){let e=this.config.from&&!(0,te.is)(this.config.from,tr.SQL)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[tn.Table.Symbol.Columns],new C({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new C({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:t,joinType:e,alias:i}),"string"==typeof i)switch(e){case"left":this.joinsNotNullableMap[i]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[i]=!0;break;case"inner":this.joinsNotNullableMap[i]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[i]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[tn.Table.Symbol.Columns]),this.config.from)){let t=(0,to.getTableLikeName)(this.config.from);if("string"==typeof t&&this.config.from&&!(0,te.is)(this.config.from,tr.SQL)){let r=this.getTableLikeFields(this.config.from);e[t]=r}for(let t of this.config.joins){let r=(0,to.getTableLikeName)(t.table);if("string"==typeof r&&!(0,te.is)(t.table,tr.SQL)){let i=this.getTableLikeFields(t.table);e[r]=i}}}return this.config.returningFields=e,this.config.returning=(0,to.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:eD(this.config.table)},this.cacheConfig);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new C({alias:(0,tn.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var tu=a,tc=x,td=n,tp=a;class tf extends tp.SQL{constructor(e){super(tf.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=tf.buildCount(e.source,e.filters)}sql;token;static [td.entityKind]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return tp.sql`(select count(*) from ${e}${tp.sql.raw(" where ").if(t)}${t})`}static buildCount(e,t){return tp.sql`select count(*) as count from ${e}${tp.sql.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}var th=n,tm=eh,tg=P;class ty{constructor(e,t,r,i,n,o,a){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=o,this.session=a}static [th.entityKind]="PgRelationalQueryBuilder";findMany(e){return new tv(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new tv(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class tv extends d{constructor(e,t,r,i,n,o,a,s,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=o,this.session=a,this.config=s,this.mode=l}static [th.entityKind]="PgRelationalQuery";_prepare(e){return tg.tracer.startActiveSpan("drizzle.prepareQuery",()=>{let{query:t,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(e,r)=>{let i=e.map(e=>(0,tm.mapRelationalRow)(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?i[0]:i})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return tg.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}var tb=n;class tA extends d{constructor(e,t,r,i){super(),this.execute=e,this.sql=t,this.query=r,this.mapBatchResult=i}static [tb.entityKind]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}var tw=n,t_=P;class tS extends d{constructor(e,t,r){super(),this.session=t,this.dialect=r,this.config={view:e}}static [tw.entityKind]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return t_.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>t_.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class tE{constructor(e,t,r){if(this.dialect=e,this.session=t,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(const[i,n]of Object.entries(this._.schema))this.query[i]=new ty(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[i],n,e,t);this.$cache={invalidate:async e=>{}}}static [eQ.entityKind]="PgDatabase";query;$with=(e,t)=>{let r=this;return{as:i=>("function"==typeof i&&(i=i(new eS(r.dialect))),new Proxy(new tc.WithSubquery(i.getSQL(),t??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new C({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new tf({source:e,filters:t,session:this.session})}$cache;with(...e){let t=this;return{select:function(r){return new eU({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new eU({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(r,i){return new eU({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:r}})},update:function(r){return new ts(r,t.session,t.dialect,e)},insert:function(r){return new e9(r,t.session,t.dialect,e)},delete:function(r){return new e2(r,t.session,t.dialect,e)}}}select(e){return new eU({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new eU({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new eU({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new ts(e,this.session,this.dialect)}insert(e){return new e9(e,this.session,this.dialect)}delete(e){return new e2(e,this.session,this.dialect)}refreshMaterializedView(e){return new tS(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?tu.sql.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(t),i=this.session.prepareQuery(r,void 0,void 0,!1);return new tA(()=>i.execute(void 0,this.authToken),t,r,e=>i.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}var tT=eh,tI=n;class tx{static [tI.entityKind]="Cache"}class tO extends tx{strategy(){return"all"}static [tI.entityKind]="NoopCache";async get(e){}async put(e,t,r,i){}async onMutate(e){}}async function tC(e,t){let r=`${e}-${JSON.stringify(t)}`,i=new TextEncoder().encode(r);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",i))].map(e=>e.toString(16).padStart(2,"0")).join("")}var tk=n,tN=n,tR=a,tP=P;class tD{constructor(e,t,r,i){this.query=e,this.cache=t,this.queryMetadata=r,this.cacheConfig=i,t&&"all"===t.strategy()&&void 0===i&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [tN.entityKind]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,t,r){if(void 0===this.cache||(0,tN.is)(this.cache,tO)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(r){throw new ei(e,t,r)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[e]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return e}catch(r){throw new ei(e,t,r)}if(!this.cacheConfig)try{return await r()}catch(r){throw new ei(e,t,r)}if("select"===this.queryMetadata.type){let i=await this.cache.get(this.cacheConfig.tag??await tC(e,t),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===i){let i;try{i=await r()}catch(r){throw new ei(e,t,r)}return await this.cache.put(this.cacheConfig.tag??await tC(e,t),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),i}return i}try{return await r()}catch(r){throw new ei(e,t,r)}}}class tU{constructor(e){this.dialect=e}static [tN.entityKind]="PgSession";execute(e,t){return tP.tracer.startActiveSpan("drizzle.operation",()=>tP.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class tL extends tE{constructor(e,t,r,i=0){super(e,t,r),this.schema=r,this.nestedIndex=i}static [tN.entityKind]="PgTransaction";rollback(){throw new en}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),tR.sql.raw(t.join(" "))}setTransaction(e){return this.session.execute(tR.sql`set transaction ${this.getTransactionConfigSQL(e)}`)}}var tK=a,tM=P,tB=D;class tj extends tU{constructor(e,t,r,i={}){super(t),this.client=e,this.schema=r,this.logger=i.logger??new eJ,this.cache=i.cache??new tO}static [tk.entityKind]="PgRemoteSession";logger;cache;prepareQuery(e,t,r,i,n,o,a){return new tz(this.client,e.sql,e.params,e.typings,this.logger,this.cache,o,a,t,i,n)}async transaction(e,t){throw Error("Transactions are not supported by the Postgres Proxy driver")}}class t$ extends tL{static [tk.entityKind]="PgProxyTransaction";async transaction(e){throw Error("Transactions are not supported by the Postgres Proxy driver")}}class tz extends tD{constructor(e,t,r,i,n,o,a,s,l,u,c){super({sql:t,params:r},o,a,s),this.client=e,this.queryString=t,this.params=r,this.typings=i,this.logger=n,this.fields=l,this._isResponseInArrayMode=u,this.customResultMapper=c}static [tk.entityKind]="PgProxyPreparedQuery";async execute(e={}){return tM.tracer.startActiveSpan("drizzle.execute",async t=>{let r=(0,tK.fillPlaceholders)(this.params,e),{fields:i,client:n,queryString:o,joinsNotNullableMap:a,customResultMapper:s,logger:l,typings:u}=this;if(t?.setAttributes({"drizzle.query.text":o,"drizzle.query.params":JSON.stringify(r)}),l.logQuery(o,r),!i&&!s)return tM.tracer.startActiveSpan("drizzle.driver.execute",async()=>{let{rows:e}=await this.queryWithCache(o,r,async()=>await n(o,r,"execute",u));return e});let c=await tM.tracer.startActiveSpan("drizzle.driver.execute",async()=>{t?.setAttributes({"drizzle.query.text":o,"drizzle.query.params":JSON.stringify(r)});let{rows:e}=await this.queryWithCache(o,r,async()=>await n(o,r,"all",u));return e});return tM.tracer.startActiveSpan("drizzle.mapResponse",()=>s?s(c):c.map(e=>(0,tB.mapResultRow)(i,e,a)))})}async all(){}isResponseInArrayMode(){return this._isResponseInArrayMode}}class tF extends tE{static [eH.entityKind]="PgRemoteDatabase"}function tq(e,t={},r=()=>new ew({casing:t.casing})){let i,n,o=r();if(!0===t.logger?i=new eZ:!1!==t.logger&&(i=t.logger),t.schema){let e=(0,tT.extractTablesRelationalConfig)(t.schema,tT.createTableRelationsHelpers);n={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let a=new tj(e,o,n,{logger:i,cache:t.cache}),s=new tF(o,a,n);return s.$cache=t.cache,s.$cache&&(s.$cache.invalidate=t.cache?.onMutate),s}var tV=e.i(777865),tH=e.i(405614),tG=e.i(347064),tW=e.i(449826),tZ=e.i(636085),tJ=tH,tQ=e.i(680465),tY=e.i(847279);let tX={...tQ.CommitPrototype,commit(){return tJ.runtime().pipe(tJ.flatMap(e=>tJ.tryPromise({try:()=>{let r=t;t=e;let i=this.execute();return t=r,i},catch:e=>new tZ.SqlError({cause:e,message:"Failed to execute QueryPromise"})})))}},t0=e=>{tJ.EffectTypeId in e||Object.assign(e,tX)},t1=tJ.gen(function*(){let e=yield*tW.SqlClient,r=yield*tJ.runtime();return(i,n,o)=>{let a=tY.runPromise(t||r),s=e.unsafe(i,n);if("execute"===o)return a(tJ.either(tJ.map(s.raw,e=>({rows:[e]})))).then(e=>{if("Left"===e._tag)throw e.left.cause;return e.right});let l="all"===o||"values"===o?s.values:s.withoutTransform;return"get"===o&&(l=tJ.map(l,e=>e[0]??[])),a(tJ.either(tJ.map(l,e=>({rows:e})))).then(e=>{if("Left"===e._tag)throw e.left.cause;return e.right})}}),t2=e=>tH.gen(function*(){return tq((yield*t1),e)});t0(d.prototype),t0(eK.prototype);var t4=e.i(520584),t3=tW,t5=tZ,t6=e.i(393546),t8=e.i(526886),t9=e.i(293889),t7=tV,re=e.i(649488),rt=tH,rr=tG,ri=e.i(392353),rn=e.i(724880),ro=e.i(446786),ra=e.i(522734);let rs=new Map,rl=new Map,ru=Symbol("OriginError"),rc={};class rd extends Promise{constructor(e,t,r,i,n={}){let o,a;super((e,t)=>{o=e,a=t}),this.tagged=Array.isArray(e.raw),this.strings=e,this.args=t,this.handler=r,this.canceller=i,this.options=n,this.state=null,this.statement=null,this.resolve=e=>(this.active=!1,o(e)),this.reject=e=>(this.active=!1,a(e)),this.active=!1,this.cancelled=null,this.executed=!1,this.signature="",this[ru]=this.handler.debug?Error():this.tagged&&rp(this.strings)}get origin(){return(this.handler.debug?this[ru].stack:this.tagged&&rl.has(this.strings)?rl.get(this.strings):rl.set(this.strings,this[ru].stack).get(this.strings))||""}static get[Symbol.species](){return Promise}cancel(){return this.canceller&&(this.canceller(this),this.canceller=null)}simple(){return this.options.simple=!0,this.options.prepare=!1,this}async readable(){return this.simple(),this.streaming=!0,this}async writable(){return this.simple(),this.streaming=!0,this}cursor(e=1,t){let r;return(this.options.simple=!1,"function"==typeof e&&(t=e,e=1),this.cursorRows=e,"function"==typeof t)?(this.cursorFn=t,this):{[Symbol.asyncIterator]:()=>({next:()=>{if(this.executed&&!this.active)return{done:!0};r&&r();let e=new Promise((e,t)=>{this.cursorFn=t=>(e({value:t,done:!1}),new Promise(e=>r=e)),this.resolve=()=>(this.active=!1,e({done:!0})),this.reject=e=>(this.active=!1,t(e))});return this.execute(),e},return:()=>(r&&r(rc),{done:!0})})}}describe(){return this.options.simple=!1,this.onlyDescribe=this.options.prepare=!0,this}stream(){throw Error(".stream has been renamed to .forEach")}forEach(e){return this.forEachFn=e,this.handle(),this}raw(){return this.isRaw=!0,this}values(){return this.isRaw="values",this}async handle(){!this.executed&&(this.executed=!0)&&await 1&&this.handler(this)}execute(){return this.handle(),this}then(){return this.handle(),super.then.apply(this,arguments)}catch(){return this.handle(),super.catch.apply(this,arguments)}finally(){return this.handle(),super.finally.apply(this,arguments)}}function rp(e){if(rs.has(e))return rs.get(e);let t=Error.stackTraceLimit;return Error.stackTraceLimit=4,rs.set(e,Error()),Error.stackTraceLimit=t,rs.get(e)}class rf extends Error{constructor(e){super(e.message),this.name=this.constructor.name,Object.assign(this,e)}}let rh=rv,rm=rb,rg=rA,ry=rw;function rv(e,t,r){let{host:i,port:n}=r||t,o=Object.assign(Error("write "+e+" "+(t.path||i+":"+n)),{code:e,errno:e,address:t.path||i},t.path?{}:{port:n});return Error.captureStackTrace(o,rv),o}function rb(e){let t=new rf(e);return Error.captureStackTrace(t,rb),t}function rA(e,t){let r=Object.assign(Error(e+": "+t),{code:e});return Error.captureStackTrace(r,rA),r}function rw(e){let t=Object.assign(Error(e+" (B) is not supported"),{code:"MESSAGE_NOT_SUPPORTED",name:e});return Error.captureStackTrace(t,rw),t}let r_={string:{to:25,from:null,serialize:e=>""+e},number:{to:0,from:[21,23,26,700,701],serialize:e=>""+e,parse:e=>+e},json:{to:114,from:[114,3802],serialize:e=>JSON.stringify(e),parse:e=>JSON.parse(e)},boolean:{to:16,from:16,serialize:e=>!0===e?"t":"f",parse:e=>"t"===e},date:{to:1184,from:[1082,1114,1184],serialize:e=>(e instanceof Date?e:new Date(e)).toISOString(),parse:e=>new Date(e)},bytea:{to:17,from:17,serialize:e=>"\\x"+Buffer.from(e).toString("hex"),parse:e=>Buffer.from(e.slice(2),"hex")}};class rS{then(){rL()}catch(){rL()}finally(){rL()}}class rE extends rS{constructor(e){super(),this.value=rF(e)}}class rT extends rS{constructor(e,t,r){super(),this.value=e,this.type=t,this.array=r}}class rI extends rS{constructor(e,t){super(),this.first=e,this.rest=t}build(e,t,r,i){let n=rU.map(([t,r])=>({fn:r,i:e.search(t)})).sort((e,t)=>e.i-t.i).pop();return -1===n.i?rz(this.first,i):n.fn(this.first,this.rest,t,r,i)}}function rx(e,t,r,i){let n=e instanceof rT?e.value:e;if(void 0===n&&(e instanceof rT?e.value=i.transform.undefined:n=e=i.transform.undefined,void 0===n))throw rg("UNDEFINED_VALUE","Undefined values are not allowed");return"$"+r.push(e instanceof rT?(t.push(e.value),e.array?e.array[e.type||rq(e.value)]||e.type||rB(e.value):e.type):(t.push(e),rq(e)))}let rO=r$(r_);function rC(e,t,r,i,n,o){for(let a=1;a<e.strings.length;a++)t+=rk(t,r,i,n,o)+e.strings[a],r=e.args[a];return t}function rk(e,t,r,i,n){return t instanceof rI?t.build(e,r,i,n):t instanceof rd?rN(t,r,i,n):t instanceof rE?t.value:t&&t[0]instanceof rd?t.reduce((e,t)=>e+" "+rN(t,r,i,n),""):rx(t,r,i,n)}function rN(e,t,r,i){return e.fragment=!0,rC(e,e.strings[0],e.args[0],t,r,i)}function rR(e,t,r,i,n){return e.map(e=>"("+i.map(i=>rk("values",e[i],t,r,n)).join(",")+")").join(",")}function rP(e,t,r,i,n){let o=Array.isArray(e[0]),a=t.length?t.flat():Object.keys(o?e[0]:e);return rR(o?e:[e],r,i,a,n)}function rD(e,t,r,i,n){let o;return("string"==typeof e&&(e=[e].concat(t)),Array.isArray(e))?rz(e,n):(t.length?t.flat():Object.keys(e)).map(t=>((o=e[t])instanceof rd?rN(o,r,i,n):o instanceof rE?o.value:rx(o,r,i,n))+" as "+rF(n.transform.column.to?n.transform.column.to(t):t)).join(",")}let rU=Object.entries({values:rP,in:(...e)=>{let t=rP(...e);return"()"===t?"(null)":t},select:rD,as:rD,returning:rD,"\\(":rD,update:(e,t,r,i,n)=>(t.length?t.flat():Object.keys(e)).map(t=>rF(n.transform.column.to?n.transform.column.to(t):t)+"="+rk("values",e[t],r,i,n)),insert(e,t,r,i,n){let o=t.length?t.flat():Object.keys(Array.isArray(e)?e[0]:e);return"("+rz(o,n)+")values"+rR(Array.isArray(e)?e:[e],r,i,o,n)}}).map(([e,t])=>[RegExp("((?:^|[\\s(])"+e+"(?:$|[\\s(]))(?![\\s\\S]*\\1)","i"),t]);function rL(){throw rg("NOT_TAGGED_CALL","Query not called as a tagged template literal")}let rK=rO.serializers,rM=rO.parsers;function rB(e){return Array.isArray(e)?rB(e[0]):1009*("string"==typeof e)}let rj=function(e){let t=r$(e||{});return{serializers:Object.assign({},rK,t.serializers),parsers:Object.assign({},rM,t.parsers)}};function r$(e){return Object.keys(e).reduce((t,r)=>(e[r].from&&[].concat(e[r].from).forEach(i=>t.parsers[i]=e[r].parse),e[r].serialize&&(t.serializers[e[r].to]=e[r].serialize,e[r].from&&[].concat(e[r].from).forEach(i=>t.serializers[i]=e[r].serialize)),t),{parsers:{},serializers:{}})}function rz(e,{transform:{column:t}}){return e.map(e=>rF(t.to?t.to(e):e)).join(",")}let rF=function(e){return'"'+e.replace(/"/g,'""').replace(/\./g,'"."')+'"'},rq=function e(t){return t instanceof rT?t.type:t instanceof Date?1184:t instanceof Uint8Array?17:!0===t||!1===t?16:"bigint"==typeof t?20:Array.isArray(t)?e(t[0]):0},rV=/\\/g,rH=/"/g;function rG(e){return e.replace(rV,"\\\\").replace(rH,'\\"')}let rW=function e(t,r,i,n){if(!1===Array.isArray(t))return t;if(!t.length)return"{}";let o=t[0],a=1020===n?";":",";return Array.isArray(o)&&!o.type?"{"+t.map(t=>e(t,r,i,n)).join(a)+"}":"{"+t.map(e=>{if(void 0===e&&void 0===(e=i.transform.undefined))throw rg("UNDEFINED_VALUE","Undefined values are not allowed");return null===e?"null":'"'+rG(r?r(e.type?e.value:e):""+e)+'"'}).join(a)+"}"},rZ={i:0,char:null,str:"",quoted:!1,last:0},rJ=function(e,t,r){return rZ.i=rZ.last=0,rQ(rZ,e,t,r)};function rQ(e,t,r,i){let n=[],o=1020===i?";":",";for(;e.i<t.length;e.i++){if(e.char=t[e.i],e.quoted)"\\"===e.char?e.str+=t[++e.i]:'"'===e.char?(n.push(r?r(e.str):e.str),e.str="",e.quoted='"'===t[e.i+1],e.last=e.i+2):e.str+=e.char;else if('"'===e.char)e.quoted=!0;else if("{"===e.char)e.last=++e.i,n.push(rQ(e,t,r,i));else if("}"===e.char){e.quoted=!1,e.last<e.i&&n.push(r?r(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1;break}else e.char===o&&"}"!==e.p&&'"'!==e.p&&(n.push(r?r(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1);e.p=e.char}return e.last<e.i&&n.push(r?r(t.slice(e.last,e.i+1)):t.slice(e.last,e.i+1)),n}let rY=e=>{let t=e[0];for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},rX=e=>{let t=e[0].toUpperCase();for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},r0=e=>e.replace(/_/g,"-"),r1=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),r2=e=>(e.slice(0,1)+e.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),r4=e=>e.replace(/-/g,"_");function r3(e){return function t(r,i){return"object"==typeof r&&null!==r&&(114===i.type||3802===i.type)?Array.isArray(r)?r.map(e=>t(e,i)):Object.entries(r).reduce((r,[n,o])=>Object.assign(r,{[e(n)]:t(o,i)}),{}):r}}rY.column={from:rY},rY.value={from:r3(rY)},r1.column={to:r1};let r5={...rY};r5.column.to=r1,rX.column={from:rX},rX.value={from:r3(rX)},r2.column={to:r2};let r6={...rX};r6.column.to=r2,r0.column={from:r0},r0.value={from:r3(r0)},r4.column={to:r4};let r8={...r0};r8.column.to=r4;var r9=e.i(504446),r7=e.i(755004),ie=e.i(254799),it=e.i(688947),ir=e.i(60438);class ii extends Array{constructor(){super(),Object.defineProperties(this,{count:{value:null,writable:!0},state:{value:null,writable:!0},command:{value:null,writable:!0},columns:{value:null,writable:!0},statement:{value:null,writable:!0}})}static get[Symbol.species](){return Array}}let io=ia;function ia(e=[]){let t=e.slice(),r=0;return{get length(){return t.length-r},remove:e=>{let r=t.indexOf(e);return -1===r?null:(t.splice(r,1),e)},push:e=>(t.push(e),e),shift:()=>{let e=t[r++];return r===t.length?(r=0,t=[]):t[r-1]=void 0,e}}}let is=256,il=Buffer.allocUnsafe(is),iu=Object.assign(ip,"BCcDdEFfHPpQSX".split("").reduce((e,t)=>{let r=t.charCodeAt(0);return e[t]=()=>(il[0]=r,iu.i=5,iu),e},{}),{N:"\0",i:0,inc:e=>(iu.i+=e,iu),str(e){let t=Buffer.byteLength(e);return id(t),iu.i+=il.write(e,iu.i,t,"utf8"),iu},i16:e=>(id(2),il.writeUInt16BE(e,iu.i),iu.i+=2,iu),i32:(e,t)=>(t||0===t?il.writeUInt32BE(e,t):(id(4),il.writeUInt32BE(e,iu.i),iu.i+=4),iu),z:e=>(id(e),il.fill(0,iu.i,iu.i+e),iu.i+=e,iu),raw:e=>(il=Buffer.concat([il.subarray(0,iu.i),e]),iu.i=il.length,iu),end(e=1){il.writeUInt32BE(iu.i-e,e);let t=il.subarray(0,iu.i);return iu.i=0,il=Buffer.allocUnsafe(is),t}}),ic=iu;function id(e){if(il.length-iu.i<e){let t=il,r=t.length;il=Buffer.allocUnsafe(r+(r>>1)+e),t.copy(il)}}function ip(){return iu.i=0,iu}let ih=iE,im=1,ig=ic().S().end(),iy=ic().H().end(),iv=ic().i32(8).i32(0x4d2162f).end(8),ib=Buffer.concat([ic().E().str(ic.N).i32(0).end(),ig]),iA=ic().D().str("S").str(ic.N).end(),iw=()=>{},i_=new Set(["FetchPreparedStatement","RevalidateCachedQuery","transformAssignedExpr"]),iS={83:"severity_local",86:"severity",67:"code",77:"message",68:"detail",72:"hint",80:"position",112:"internal_position",113:"internal_query",87:"where",115:"schema_name",116:"table_name",99:"column_name",100:"data type_name",110:"constraint_name",70:"file",76:"line",82:"routine"};function iE(e,t={},{onopen:r=iw,onend:i=iw,onclose:n=iw}={}){let{ssl:o,max:a,user:s,host:l,port:u,database:c,parsers:d,transform:p,onnotice:f,onnotify:h,onparameter:m,max_pipeline:g,keep_alive:y,backoff:v,target_session_attrs:b}=e,A=io(),w=im++,_={pid:null,secret:null},S=ik(e_,e.idle_timeout),E=ik(e_,e.max_lifetime),T=ik(ep,e.connect_timeout),I=null,x,O=new ii,C=Buffer.alloc(0),k=e.fetch_types,N={},R={},P=Math.random().toString(36).slice(2),D=1,U=0,L=0,K=0,M=0,B=0,j=0,$=0,z=null,F=null,q=!1,V=null,H=null,G=null,W=null,Z=null,J=null,Q=null,Y=null,X=null,ee=null,et={queue:t.closed,idleTimer:S,connect(e){G=e,ey()},terminate:eS,execute:en,cancel:ei,end:e_,count:0,id:w};return t.closed&&t.closed.push(et),et;async function er(){let t;try{t=e.socket?await Promise.resolve(e.socket(e)):new r9.default.Socket}catch(e){eb(e);return}return t.on("error",eb),t.on("close",eE),t.on("drain",eh),t}async function ei({pid:e,secret:t},r,i){try{x=ic().i32(16).i32(0x4d2162e).i32(e).i32(t).end(16),await eg(),I.once("error",i),I.once("close",r)}catch(e){i(e)}}function en(t){if(q)return ew(t,rh("CONNECTION_DESTROYED",e));if(!t.cancelled)try{return t.state=_,X?A.push(t):(X=t).active=!0,eu(t),ec(eo(t))&&!t.describeFirst&&!t.cursorFn&&A.length<g&&(!t.options.onexecute||t.options.onexecute(et))}catch(e){return 0===A.length&&ec(ig),eA(e),!0}}function eo(e){if(e.parameters.length>=65534)throw rg("MAX_PARAMETERS_EXCEEDED","Max number of parameters (65534) exceeded");return e.options.simple?ic().Q().str(e.statement.string+ic.N).end():e.describeFirst?Buffer.concat([ea(e),iy]):e.prepare?e.prepared?es(e):Buffer.concat([ea(e),es(e)]):el(e)}function ea(e){return Buffer.concat([te(e.statement.string,e.parameters,e.statement.types,e.statement.name),tt("S",e.statement.name)])}function es(e){return Buffer.concat([e7(e.parameters,e.statement.types,e.statement.name,e.cursorName),e.cursorFn?tr("",e.cursorRows):ib])}function el(e){return Buffer.concat([te(e.statement.string,e.parameters,e.statement.types),iA,es(e)])}function eu(t){let r=[],i=[],n=rC(t,t.strings[0],t.args[0],r,i,e);t.tagged||t.args.forEach(t=>rx(t,r,i,e)),t.prepare=e.prepare&&(!("prepare"in t.options)||t.options.prepare),t.string=n,t.signature=t.prepare&&i+n,t.onlyDescribe&&delete R[t.signature],t.parameters=t.parameters||r,t.prepared=t.prepare&&t.signature in R,t.describeFirst=t.onlyDescribe||r.length&&!t.prepared,t.statement=t.prepared?R[t.signature]:{string:n,types:i,name:t.prepare?P+D++:""},"function"==typeof e.debug&&e.debug(w,n,r,i)}function ec(e,t){return(J=J?Buffer.concat([J,e]):Buffer.from(e),t||J.length>=1024)?ed(t):(null===F&&(F=setImmediate(ed)),!0)}function ed(e){let t=I.write(J,e);return null!==F&&clearImmediate(F),J=F=null,t}function ep(){eA(rh("CONNECT_TIMEOUT",e,I)),I.destroy()}async function ef(){if(ec(iv),!await new Promise(e=>I.once("data",t=>e(83===t[0])))&&"prefer"===o)return ev();I.removeAllListeners(),(I=r7.default.connect({socket:I,servername:r9.default.isIP(I.host)?void 0:I.host,..."require"===o||"allow"===o||"prefer"===o?{rejectUnauthorized:!1}:"verify-full"===o?{}:"object"==typeof o?o:{}})).on("secureConnect",ev),I.on("error",eb),I.on("close",eE),I.on("drain",eh)}function eh(){X||r(et)}function em(e){if(!V||(V.push(e),!((L-=e.length)>0)))for(C=V?Buffer.concat(V,B-L):0===C.length?e:Buffer.concat([C,e],C.length+e.length);C.length>4;){if((B=C.readUInt32BE(1))>=C.length){L=B-C.length,V=[C];break}try{eT(C.subarray(0,B+1))}catch(e){X&&(X.cursorFn||X.describeFirst)&&ec(ig),eA(e)}C=C.subarray(B+1),L=0,V=null}}async function eg(){if(q=!1,N={},I||(I=await er()),I){if(T.start(),e.socket)return o?ef():ev();if(I.on("connect",o?ef:ev),e.path)return I.connect(e.path);I.ssl=o,I.connect(u[K],l[K]),I.host=l[K],I.port=u[K],K=(K+1)%u.length}}function ey(){setTimeout(eg,U?U+j-ir.performance.now():0)}function ev(){try{R={},k=e.fetch_types,P=Math.random().toString(36).slice(2),D=1,E.start(),I.on("data",em),y&&I.setKeepAlive&&I.setKeepAlive(!0,1e3*y);let t=tn();ec(t)}catch(e){eb(e)}}function eb(r){if(et.queue!==t.connecting||!e.host[M+1])for(eA(r);A.length;)ew(A.shift(),r)}function eA(e){Z&&(Z.destroy(e),Z=null),X&&ew(X,e),G&&(ew(G,e),G=null)}function ew(t,r){if(t.reserve)return t.reject(r);r&&"object"==typeof r||(r=Error(r)),"query"in r||"parameters"in r||Object.defineProperties(r,{stack:{value:r.stack+t.origin.replace(/.*\n/,"\n"),enumerable:e.debug},query:{value:t.string,enumerable:e.debug},parameters:{value:t.parameters,enumerable:e.debug},args:{value:t.args,enumerable:e.debug},types:{value:t.statement&&t.statement.types,enumerable:e.debug}}),t.reject(r)}function e_(){return W||(et.reserved||i(et),et.reserved||G||X||0!==A.length?W=new Promise(e=>Q=e):(eS(),new Promise(e=>I&&"closed"!==I.readyState?I.once("close",e):e())))}function eS(){q=!0,(Z||X||G||A.length)&&eb(rh("CONNECTION_DESTROYED",e)),clearImmediate(F),I&&(I.removeListener("data",em),I.removeListener("connect",ev),"open"===I.readyState&&I.end(ic().X().end())),Q&&(Q(),W=Q=null)}async function eE(t){if(C=Buffer.alloc(0),L=0,V=null,clearImmediate(F),I.removeListener("data",em),I.removeListener("connect",ev),S.cancel(),E.cancel(),T.cancel(),I.removeAllListeners(),I=null,G)return ey();!t&&(X||A.length)&&eb(rh("CONNECTION_CLOSED",e,I)),U=ir.performance.now(),t&&e.shared.retries++,j=("function"==typeof v?v(e.shared.retries):v)*1e3,n(et,rh("CONNECTION_CLOSED",e,I))}function eT(e,t=e[0]){(68===t?eI:100===t?e1:65===t?eZ:83===t?ex:90===t?eO:67===t?eC:50===t?eN:49===t?ek:116===t?eR:84===t?eP:82===t?eD:110===t?e$:75===t?ez:69===t?eG:115===t?eJ:51===t?eQ:71===t?eY:78===t?e4:72===t?eX:99===t?e2:73===t?e3:86===t?e5:118===t?e6:87===t?e0:e8)(e)}function eI(e){let t,r,i,n=7,o=X.isRaw?Array(X.statement.columns.length):{};for(let a=0;a<X.statement.columns.length;a++)r=X.statement.columns[a],t=e.readInt32BE(n),n+=4,i=-1===t?null:!0===X.isRaw?e.subarray(n,n+=t):void 0===r.parser?e.toString("utf8",n,n+=t):!0===r.parser.array?r.parser(e.toString("utf8",n+1,n+=t)):r.parser(e.toString("utf8",n,n+=t)),X.isRaw?o[a]=!0===X.isRaw?i:p.value.from?p.value.from(i,r):i:o[r.name]=p.value.from?p.value.from(i,r):i;X.forEachFn?X.forEachFn(p.row.from?p.row.from(o):o,O):O[$++]=p.row.from?p.row.from(o):o}function ex(t){let[r,i]=t.toString("utf8",5,t.length-1).split(ic.N);N[r]=i,e.parameters[r]!==i&&(e.parameters[r]=i,m&&m(r,i))}function eO(t){if(X&&X.options.simple&&X.resolve(H||O),X=H=null,O=new ii,T.cancel(),G){if(b){if(!N.in_hot_standby||!N.default_transaction_read_only)return eH();else if(eV(b,N))return eS()}return k?(G.reserve&&(G=null),eF()):(G&&!G.reserve&&en(G),e.shared.retries=M=0,void(G=null))}for(;A.length&&(X=A.shift())&&(X.active=!0,X.cancelled);)iE(e).cancel(X.state,X.cancelled.resolve,X.cancelled.reject);X||(et.reserved?et.reserved.release||73!==t[5]?et.reserved():W?eS():(et.reserved=null,r(et)):W?eS():r(et))}function eC(e){$=0;for(let t=e.length-1;t>0;t--)if(32===e[t]&&e[t+1]<58&&null===O.count&&(O.count=+e.toString("utf8",t+1,e.length-1)),e[t-1]>=65){O.command=e.toString("utf8",5,t),O.state=_;break}return(ee&&(ee(),ee=null),"BEGIN"!==O.command||1===a||et.reserved)?X.options.simple?eN():void(X.cursorFn&&(O.count&&X.cursorFn(O),ec(ig)),X.resolve(O)):eA(rg("UNSAFE_TRANSACTION","Only use sql.begin, sql.reserved or max: 1"))}function ek(){X.parsing=!1}function eN(){O.statement||(O.statement=X.statement),O.columns=X.statement.columns}function eR(e){let t=e.readUInt16BE(5);for(let r=0;r<t;++r)X.statement.types[r]||(X.statement.types[r]=e.readUInt32BE(7+4*r));X.prepare&&(R[X.signature]=X.statement),X.describeFirst&&!X.onlyDescribe&&(ec(es(X)),X.describeFirst=!1)}function eP(e){let t;O.command&&((H=H||[O]).push(O=new ii),O.count=null,X.statement.columns=null);let r=e.readUInt16BE(5),i=7;X.statement.columns=Array(r);for(let n=0;n<r;++n){for(t=i;0!==e[i++];);let r=e.readUInt32BE(i),o=e.readUInt16BE(i+4),a=e.readUInt32BE(i+6);X.statement.columns[n]={name:p.column.from?p.column.from(e.toString("utf8",t,i-1)):e.toString("utf8",t,i-1),parser:d[a],table:r,number:o,type:a},i+=18}if(O.statement=X.statement,X.onlyDescribe)return X.resolve(X.statement),ec(ig)}async function eD(e,t=e.readUInt32BE(5)){(3===t?eU:5===t?eL:10===t?eK:11===t?eM:12===t?eB:0!==t?e9:iw)(e,t)}async function eU(){let e=await ej();ec(ic().p().str(e).z(1).end())}async function eL(e){let t="md5"+await iI(Buffer.concat([Buffer.from(await iI(await ej()+s)),e.subarray(9)]));ec(ic().p().str(t).z(1).end())}async function eK(){Y=(await ie.default.randomBytes(18)).toString("base64"),ic().p().str("SCRAM-SHA-256"+ic.N);let e=ic.i;ec(ic.inc(4).str("n,,n=*,r="+Y).i32(ic.i-e-4,e).end())}async function eM(e){let t=e.toString("utf8",9).split(",").reduce((e,t)=>(e[t[0]]=t.slice(2),e),{}),r=await ie.default.pbkdf2Sync(await ej(),Buffer.from(t.s,"base64"),parseInt(t.i),32,"sha256"),i=await ix(r,"Client Key"),n="n=*,r="+Y+",r="+t.r+",s="+t.s+",i="+t.i+",c=biws,r="+t.r;z=(await ix(await ix(r,"Server Key"),n)).toString("base64");let o="c=biws,r="+t.r+",p="+iC(i,Buffer.from(await ix(await iO(i),n))).toString("base64");ec(ic().p().str(o).end())}function eB(e){e.toString("utf8",9).split(ic.N,1)[0].slice(2)!==z&&(eA(rg("SASL_SIGNATURE_MISMATCH","The server did not return the correct signature")),I.destroy())}function ej(){return Promise.resolve("function"==typeof e.pass?e.pass():e.pass)}function e$(){if(O.statement=X.statement,O.statement.columns=[],X.onlyDescribe)return X.resolve(X.statement),ec(ig)}function ez(e){_.pid=e.readUInt32BE(5),_.secret=e.readUInt32BE(9)}async function eF(){k=!1,(await new rd([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `],[],en)).forEach(({oid:e,typarray:t})=>eq(e,t))}function eq(t,r){if(e.parsers[r]&&e.serializers[r])return;let i=e.parsers[t];e.shared.typeArrayMap[t]=r,e.parsers[r]=e=>rJ(e,i,r),e.parsers[r].array=!0,e.serializers[r]=i=>rW(i,e.serializers[t],e,r)}function eV(t,r){return"read-write"===t&&"on"===r.default_transaction_read_only||"read-only"===t&&"off"===r.default_transaction_read_only||"primary"===t&&"on"===r.in_hot_standby||"standby"===t&&"off"===r.in_hot_standby||"prefer-standby"===t&&"off"===r.in_hot_standby&&e.host[M]}function eH(){let e=new rd([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `],[],en,null,{simple:!0});e.resolve=([[e],[t]])=>{N.default_transaction_read_only=e.transaction_read_only,N.in_hot_standby=t.pg_is_in_recovery?"on":"off"},e.execute()}function eG(e){X&&(X.cursorFn||X.describeFirst)&&ec(ig);let t=rm(iT(e));X&&X.retried?eA(X.retried):X&&X.prepared&&i_.has(t.routine)?eW(X,t):eA(t)}function eW(e,t){delete R[e.signature],e.retried=t,en(e)}function eZ(e){if(!h)return;let t=9;for(;0!==e[t++];);h(e.toString("utf8",9,t-1),e.toString("utf8",t,e.length-1))}async function eJ(){try{let e=await Promise.resolve(X.cursorFn(O));$=0,e===rc?ec(ti(X.portal)):(O=new ii,ec(tr("",X.cursorRows)))}catch(e){ec(ig),X.reject(e)}}function eQ(){O.count&&X.cursorFn(O),X.resolve(O)}function eY(){Z=new it.default.Writable({autoDestroy:!0,write(e,t,r){I.write(ic().d().raw(e).end(),r)},destroy(e,t){t(e),I.write(ic().f().str(e+ic.N).end()),Z=null},final(e){I.write(ic().c().end()),ee=e}}),X.resolve(Z)}function eX(){Z=new it.default.Readable({read(){I.resume()}}),X.resolve(Z)}function e0(){Z=new it.default.Duplex({autoDestroy:!0,read(){I.resume()},write(e,t,r){I.write(ic().d().raw(e).end(),r)},destroy(e,t){t(e),I.write(ic().f().str(e+ic.N).end()),Z=null},final(e){I.write(ic().c().end()),ee=e}}),X.resolve(Z)}function e1(e){Z&&(Z.push(e.subarray(5))||I.pause())}function e2(){Z&&Z.push(null),Z=null}function e4(e){f?f(iT(e)):console.log(iT(e))}function e3(){}function e5(){eA(ry("FunctionCallResponse"))}function e6(){eA(ry("NegotiateProtocolVersion"))}function e8(e){console.error("Postgres.js : Unknown Message:",e[0])}function e9(e,t){console.error("Postgres.js : Unknown Auth:",t)}function e7(t,r,i="",n=""){let o,a;return ic().B().str(n+ic.N).str(i+ic.N).i16(0).i16(t.length),t.forEach((i,n)=>{if(null===i)return ic.i32(0xffffffff);a=r[n],t[n]=i=a in e.serializers?e.serializers[a](i):""+i,o=ic.i,ic.inc(4).str(i).i32(ic.i-o-4,o)}),ic.i16(0),ic.end()}function te(e,t,r,i=""){return ic().P().str(i+ic.N).str(e+ic.N).i16(t.length),t.forEach((e,t)=>ic.i32(r[t]||0)),ic.end()}function tt(e,t=""){return ic().D().str(e).str(t+ic.N).end()}function tr(e="",t=0){return Buffer.concat([ic().E().str(e+ic.N).i32(t).end(),iy])}function ti(e=""){return Buffer.concat([ic().C().str("P").str(e+ic.N).end(),ic().S().end()])}function tn(){return x||ic().inc(4).i16(3).z(2).str(Object.entries(Object.assign({user:s,database:c,client_encoding:"UTF8"},e.connection)).filter(([,e])=>e).map(([e,t])=>e+ic.N+t).join(ic.N)).z(2).end(0)}}function iT(e){let t={},r=5;for(let i=5;i<e.length-1;i++)0===e[i]&&(t[iS[e[r]]]=e.toString("utf8",r+1,i),r=i+1);return t}function iI(e){return ie.default.createHash("md5").update(e).digest("hex")}function ix(e,t){return ie.default.createHmac("sha256",e).update(t).digest()}function iO(e){return ie.default.createHash("sha256").update(e).digest()}function iC(e,t){let r=Math.max(e.length,t.length),i=Buffer.allocUnsafe(r);for(let n=0;n<r;n++)i[n]=e[n]^t[n];return i}function ik(e,t){let r;if(!(t="function"==typeof t?t():t))return{cancel:iw,start:iw};return{cancel(){r&&(clearTimeout(r),r=null)},start(){r&&clearTimeout(r),r=setTimeout(i,1e3*t,arguments)}};function i(t){e.apply(null,t),r=null}}let iN=()=>{};function iR(e,t){let r=new Map,i="postgresjs_"+Math.random().toString(36).slice(2),n={},o,a,s=!1,l=d.sql=e({...t,transform:{column:{},value:{},row:{}},max:1,fetch_types:!1,idle_timeout:null,max_lifetime:null,connection:{...t.connection,replication:"database"},onclose:async function(){s||(a=null,n.pid=n.secret=void 0,p(await f(l,i,t.publications)),r.forEach(e=>e.forEach(({onsubscribe:e})=>e())))},no_subscribe:!0}),u=l.end,c=l.close;return l.end=async()=>(s=!0,a&&await new Promise(e=>(a.once("close",e),a.end())),u()),l.close=async()=>(a&&await new Promise(e=>(a.once("close",e),a.end())),c()),d;async function d(e,s,u=iN,c=iN){e=iL(e),o||(o=f(l,i,t.publications));let h={fn:s,onsubscribe:u},m=r.has(e)?r.get(e).add(h):r.set(e,new Set([h])).get(e),g=()=>{m.delete(h),0===m.size&&r.delete(e)};return o.then(e=>(p(e),u(),a&&a.on("error",c),{unsubscribe:g,state:n,sql:l}))}function p(e){a=e.stream,n.pid=e.state.pid,n.secret=e.state.secret}async function f(e,r,i){if(!i)throw Error("Missing publication names");let n=await e.unsafe(`CREATE_REPLICATION_SLOT ${r} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`),[o]=n,a=await e.unsafe(`START_REPLICATION SLOT ${r} LOGICAL ${o.consistent_point} (proto_version '1', publication_names '${i}')`).writable(),s={lsn:Buffer.concat(o.consistent_point.split("/").map(e=>Buffer.from(("00000000"+e).slice(-8),"hex")))};return a.on("data",u),a.on("error",l),a.on("close",e.close),{stream:a,state:n.state};function l(e){console.error("Unexpected error during logical streaming - reconnecting",e)}function u(r){119===r[0]?iD(r.subarray(25),s,e.options.parsers,c,t.transform):107===r[0]&&r[17]&&(s.lsn=r.subarray(1,9),d())}function c(e,t){let r=t.relation.schema+"."+t.relation.table;h("*",e,t),h("*:"+r,e,t),t.relation.keys.length&&h("*:"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t),h(t.command,e,t),h(t.command+":"+r,e,t),t.relation.keys.length&&h(t.command+":"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t)}function d(){let e=Buffer.alloc(34);e[0]=114,e.fill(s.lsn,1),e.writeBigInt64BE(BigInt(Date.now()-Date.UTC(2e3,0,1))*BigInt(1e3),25),a.write(e)}}function h(e,t,i){r.has(e)&&r.get(e).forEach(({fn:r})=>r(t,i,e))}}function iP(e){return new Date(Date.UTC(2e3,0,1)+Number(e/BigInt(1e3)))}function iD(e,t,r,i,n){let o=(e,[t,r])=>(e[t.charCodeAt(0)]=r,e);Object.entries({R:e=>{let i=1,o=t[e.readUInt32BE(i)]={schema:e.toString("utf8",i+=4,i=e.indexOf(0,i))||"pg_catalog",table:e.toString("utf8",i+1,i=e.indexOf(0,i+1)),columns:Array(e.readUInt16BE(i+=2)),keys:[]};i+=2;let a=0,s;for(;i<e.length;)(s=o.columns[a++]={key:e[i++],name:n.column.from?n.column.from(e.toString("utf8",i,i=e.indexOf(0,i))):e.toString("utf8",i,i=e.indexOf(0,i)),type:e.readUInt32BE(i+=1),parser:r[e.readUInt32BE(i)],atttypmod:e.readUInt32BE(i+=4)}).key&&o.keys.push(s),i+=4},Y:()=>{},O:()=>{},B:e=>{t.date=iP(e.readBigInt64BE(9)),t.lsn=e.subarray(1,9)},I:e=>{let r=1,o=t[e.readUInt32BE(r)],{row:a}=iU(e,o.columns,r+=7,n);i(a,{command:"insert",relation:o})},D:e=>{let r=1,o=t[e.readUInt32BE(r)],a=75===e[r+=4];i(a||79===e[r]?iU(e,o.columns,r+=3,n).row:null,{command:"delete",relation:o,key:a})},U:e=>{let r=1,o=t[e.readUInt32BE(r)],a=75===e[r+=4],s=a||79===e[r]?iU(e,o.columns,r+=3,n):null;s&&(r=s.i);let{row:l}=iU(e,o.columns,r+3,n);i(l,{command:"update",relation:o,key:a,old:s&&s.row})},T:()=>{},C:()=>{}}).reduce(o,{})[e[0]](e)}function iU(e,t,r,i){let n,o,a,s=i.raw?Array(t.length):{};for(let l=0;l<t.length;l++)n=e[r++],o=t[l],a=110===n?null:117===n?void 0:void 0===o.parser?e.toString("utf8",r+4,r+=4+e.readUInt32BE(r)):!0===o.parser.array?o.parser(e.toString("utf8",r+5,r+=4+e.readUInt32BE(r))):o.parser(e.toString("utf8",r+4,r+=4+e.readUInt32BE(r))),i.raw?s[l]=!0===i.raw?a:i.value.from?i.value.from(a,o):a:s[o.name]=i.value.from?i.value.from(a,o):a;return{i:r,row:i.row.from?i.row.from(s):s}}function iL(e){let[,t,r,i]=e.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i)||[];return(t||"*")+(r?":"+(-1===r.indexOf(".")?"public."+r:r):"")+(i?"="+i:"")}var iK=it;function iM(e,t,r=393216){return new Promise(async(i,n)=>{await e.begin(async e=>{let n;t||([{oid:t}]=await e`select lo_creat(-1) as oid`);let[{fd:o}]=await e`select lo_open(${t}, ${r}) as fd`,a={writable:l,readable:s,close:()=>e`select lo_close(${o})`.then(n),tell:()=>e`select lo_tell64(${o})`,read:t=>e`select loread(${o}, ${t}) as data`,write:t=>e`select lowrite(${o}, ${t})`,truncate:t=>e`select lo_truncate64(${o}, ${t})`,seek:(t,r=0)=>e`select lo_lseek64(${o}, ${t}, ${r})`,size:()=>e`
          select
            lo_lseek64(${o}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `};return i(a),new Promise(async e=>n=e);async function s({highWaterMark:e=16384,start:t=0,end:r=1/0}={}){let i=r-t;return t&&await a.seek(t),new iK.default.Readable({highWaterMark:e,async read(e){let t=e>i?e-i:e;i-=e;let[{data:r}]=await a.read(t);this.push(r),r.length<e&&this.push(null)}})}async function l({highWaterMark:e=16384,start:t=0}={}){return t&&await a.seek(t),new iK.default.Writable({highWaterMark:e,write(e,t,r){a.write(e).then(()=>r(),r)}})}}).catch(n)})}Object.assign(ij,{PostgresError:rf,toPascal:rX,pascal:r6,toCamel:rY,camel:r5,toKebab:r0,kebab:r8,fromPascal:r2,fromCamel:r1,fromKebab:r4,BigInt:{to:20,from:[20],parse:e=>BigInt(e),serialize:e=>e.toString()}});let iB=ij;function ij(e,t){let r=i$(e,t),i=r.no_subscribe||iR(ij,{...r}),n=!1,o=io(),a=io(),s=io(),l=io(),u=io(),c=io(),d=io(),p=io(),f={connecting:a,reserved:s,closed:l,ended:u,open:c,busy:d,full:p},h=[...Array(r.max)].map(()=>ih(r,f,{onopen:R,onend:N,onclose:P})),m=g(E);return Object.assign(m,{get parameters(){return r.parameters},largeObject:iM.bind(null,m),subscribe:i,CLOSE:rc,END:rc,PostgresError:rf,options:r,reserve:b,listen:y,begin:A,close:O,end:x}),m;function g(e){return e.debug=r.debug,Object.entries(r.types).reduce((e,[t,r])=>(e[t]=e=>new rT(e,r.to),e),t),Object.assign(i,{types:t,typed:t,unsafe:n,notify:v,array:S,json:_,file:o}),i;function t(e,t){return new rT(e,t)}function i(t,...n){return t&&Array.isArray(t.raw)?new rd(t,n,e,I):"string"!=typeof t||n.length?new rI(t,n):new rE(r.transform.column.to?r.transform.column.to(t):t)}function n(t,r=[],i={}){return 2!=arguments.length||Array.isArray(r)||(i=r,r=[]),new rd([t],r,e,I,{prepare:!1,...i,simple:"simple"in i?i.simple:0===r.length})}function o(t,r=[],i={}){return 2!=arguments.length||Array.isArray(r)||(i=r,r=[]),new rd([],r,r=>{ra.default.readFile(t,"utf8",(t,i)=>{if(t)return r.reject(t);r.strings=[i],e(r)})},I,{...i,simple:"simple"in i?i.simple:0===r.length})}}async function y(e,t,i){let n={fn:t,onlisten:i},o=y.sql||(y.sql=ij({...r,max:1,idle_timeout:null,max_lifetime:null,fetch_types:!1,onclose(){Object.entries(y.channels).forEach(([e,{listeners:t}])=>{delete y.channels[e],Promise.all(t.map(t=>y(e,t.fn,t.onlisten).catch(()=>{})))})},onnotify(e,t){e in y.channels&&y.channels[e].listeners.forEach(e=>e.fn(t))}})),a=y.channels||(y.channels={});if(e in a){a[e].listeners.push(n);let t=await a[e].result;return n.onlisten&&n.onlisten(),{state:t.state,unlisten:l}}a[e]={result:o`listen ${o.unsafe('"'+e.replace(/"/g,'""')+'"')}`,listeners:[n]};let s=await a[e].result;return n.onlisten&&n.onlisten(),{state:s.state,unlisten:l};async function l(){if(e in a!=!1&&(a[e].listeners=a[e].listeners.filter(e=>e!==n),!a[e].listeners.length))return delete a[e],o`unlisten ${o.unsafe('"'+e.replace(/"/g,'""')+'"')}`}}async function v(e,t){return await m`select pg_notify(${e}, ${""+t})`}async function b(){let e=io(),t=c.length?c.shift():await new Promise((e,t)=>{let r={reserve:e,reject:t};o.push(r),l.length&&k(l.shift(),r)});w(t,s),t.reserved=()=>e.length?t.execute(e.shift()):w(t,s),t.reserved.release=!0;let r=g(i);return r.release=()=>{t.reserved=null,R(t)},r;function i(r){t.queue===p?e.push(r):t.execute(r)||w(t,p)}}async function A(e,t){t||(t=e,e="");let r=io(),i=0,n,o=null;try{return await m.unsafe("begin "+e.replace(/[^a-z ]/ig,""),[],{onexecute:l}).execute(),await Promise.race([a(n,t),new Promise((e,t)=>n.onclose=t)])}catch(e){throw e}async function a(e,t,n){let s,l,u=g(d);u.savepoint=c,u.prepare=e=>o=e.replace(/[^a-z0-9$-_. ]/gi),n&&await u`savepoint ${u(n)}`;try{if(l=await new Promise((e,r)=>{let i=t(u);Promise.resolve(Array.isArray(i)?Promise.all(i):i).then(e,r)}),s)throw s}catch(e){throw await (n?u`rollback to ${u(n)}`:u`rollback`),e instanceof rf&&"25P02"===e.code&&s||e}return n||(o?await u`prepare transaction '${u.unsafe(o)}'`:await u`commit`),l;function c(t,r){return t&&Array.isArray(t.raw)?c(e=>e.apply(e,arguments)):(1==arguments.length&&(r=t,t=null),a(e,r,"s"+i+++(t?"_"+t:"")))}function d(t){t.catch(e=>s||(s=e)),e.queue===p?r.push(t):e.execute(t)||w(e,p)}}function l(e){n=e,w(e,s),e.reserved=()=>r.length?e.execute(r.shift()):w(e,s)}}function w(e,t){return e.queue.remove(e),t.push(e),e.queue=t,t===c?e.idleTimer.start():e.idleTimer.cancel(),e}function _(e){return new rT(e,3802)}function S(e,t){return Array.isArray(e)?new rT(e,t||(e.length?rq(e)||25:0),r.shared.typeArrayMap):S(Array.from(arguments))}function E(e){return n?e.reject(rh("CONNECTION_ENDED",r,r)):c.length?T(c.shift(),e):l.length?k(l.shift(),e):void(d.length?T(d.shift(),e):o.push(e))}function T(e,t){return e.execute(t)?w(e,d):w(e,p)}function I(e){return new Promise((t,i)=>{e.state?e.active?ih(r).cancel(e.state,t,i):e.cancelled={resolve:t,reject:i}:(o.remove(e),e.cancelled=!0,e.reject(rg("57014","canceling statement due to user request")),t())})}async function x({timeout:e=null}={}){let t;return n||(await 1,n=Promise.race([new Promise(r=>null!==e&&(t=setTimeout(C,1e3*e,r))),Promise.all(h.map(e=>e.end()).concat(y.sql?y.sql.end({timeout:0}):[],i.sql?i.sql.end({timeout:0}):[]))]).then(()=>clearTimeout(t)))}async function O(){await Promise.all(h.map(e=>e.end()))}async function C(e){for(await Promise.all(h.map(e=>e.terminate()));o.length;)o.shift().reject(rh("CONNECTION_DESTROYED",r));e()}function k(e,t){return w(e,a),e.connect(t),e}function N(e){w(e,u)}function R(e){if(0===o.length)return w(e,c);let t=Math.ceil(o.length/(a.length+1)),r=!0;for(;r&&o.length&&t-- >0;){let t=o.shift();if(t.reserve)return t.reserve(e);r=e.execute(t)}r?w(e,d):w(e,p)}function P(e,t){w(e,l),e.reserved=null,e.onclose&&(e.onclose(t),e.onclose=null),r.onclose&&r.onclose(e.id),o.length&&k(e,o.shift())}}function i$(e,t){if(e&&e.shared)return e;let r=process.env,i=(e&&"string"!=typeof e?e:t)||{},{url:n,multihost:o}=iH(e),a=[...n.searchParams].reduce((e,[t,r])=>(e[t]=r,e),{}),s=i.hostname||i.host||o||n.hostname||r.PGHOST||"localhost",l=i.port||n.port||r.PGPORT||5432,u=i.user||i.username||n.username||r.PGUSERNAME||r.PGUSER||iG();i.no_prepare&&(i.prepare=!1),a.sslmode&&(a.ssl=a.sslmode,delete a.sslmode),"timeout"in i&&(console.log("The timeout option is deprecated, use idle_timeout instead"),i.idle_timeout=i.timeout),"system"===a.sslrootcert&&(a.ssl="verify-full");let c=["idle_timeout","connect_timeout","max_lifetime","max_pipeline","backoff","keep_alive"],d={max:10,ssl:!1,idle_timeout:null,connect_timeout:30,max_lifetime:iq,max_pipeline:100,backoff:iF,keep_alive:60,prepare:!0,debug:!1,fetch_types:!0,publications:"alltables",target_session_attrs:null};return{host:Array.isArray(s)?s:s.split(",").map(e=>e.split(":")[0]),port:Array.isArray(l)?l:s.split(",").map(e=>parseInt(e.split(":")[1]||l)),path:i.path||s.indexOf("/")>-1&&s+"/.s.PGSQL."+l,database:i.database||i.db||(n.pathname||"").slice(1)||r.PGDATABASE||u,user:u,pass:i.pass||i.password||n.password||r.PGPASSWORD||"",...Object.entries(d).reduce((e,[t,n])=>{let o=t in i?i[t]:t in a?"disable"!==a[t]&&"false"!==a[t]&&a[t]:r["PG"+t.toUpperCase()]||n;return e[t]="string"==typeof o&&c.includes(t)?+o:o,e},{}),connection:{application_name:r.PGAPPNAME||"postgres.js",...i.connection,...Object.entries(a).reduce((e,[t,r])=>(t in d||(e[t]=r),e),{})},types:i.types||{},target_session_attrs:iz(i,n,r),onnotice:i.onnotice,onnotify:i.onnotify,onclose:i.onclose,onparameter:i.onparameter,socket:i.socket,transform:iV(i.transform||{undefined:void 0}),parameters:{},shared:{retries:0,typeArrayMap:{}},...rj(i.types)}}function iz(e,t,r){let i=e.target_session_attrs||t.searchParams.get("target_session_attrs")||r.PGTARGETSESSIONATTRS;if(!i||["read-write","read-only","primary","standby","prefer-standby"].includes(i))return i;throw Error("target_session_attrs "+i+" is not supported")}function iF(e){return(.5+Math.random()/2)*Math.min(3**e/100,20)}function iq(){return 60*(30+30*Math.random())}function iV(e){return{undefined:e.undefined,column:{from:"function"==typeof e.column?e.column:e.column&&e.column.from,to:e.column&&e.column.to},value:{from:"function"==typeof e.value?e.value:e.value&&e.value.from,to:e.value&&e.value.to},row:{from:"function"==typeof e.row?e.row:e.row&&e.row.from,to:e.row&&e.row.to}}}function iH(e){if(!e||"string"!=typeof e)return{url:{searchParams:new Map}};let t=e;t=decodeURIComponent((t=t.slice(t.indexOf("://")+3).split(/[?/]/)[0]).slice(t.indexOf("@")+1));let r=new URL(e.replace(t,t.split(",")[0]));return{url:{username:decodeURIComponent(r.username),password:decodeURIComponent(r.password),host:r.host,hostname:r.hostname,port:r.port,pathname:r.pathname,searchParams:r.searchParams},multihost:t.indexOf(",")>-1&&t}}function iG(){try{return ro.default.userInfo().username}catch(e){return process.env.USERNAME||process.env.USER||process.env.LOGNAME}}let iW="db.system.name",iZ="db.namespace",iJ="server.address",iQ="server.port",iY=Symbol.for("@effect/sql-pg/PgClient"),iX=t7.GenericTag("@effect/sql-pg/PgClient"),i0=e=>rt.gen(function*(){let t=i2(e.transformQueryNames,e.transformJson),r=e.transformResultNames?t6.defaultTransforms(e.transformResultNames,e.transformJson).array:void 0,i={max:e.maxConnections??10,max_lifetime:e.connectionTTL?Math.round(re.toMillis(re.decode(e.connectionTTL))/1e3):void 0,idle_timeout:e.idleTimeout?Math.round(re.toMillis(re.decode(e.idleTimeout))/1e3):void 0,connect_timeout:e.connectTimeout?Math.round(re.toMillis(re.decode(e.connectTimeout))/1e3):void 0,host:e.host,port:e.port,ssl:e.ssl,path:e.path,database:e.database,username:e.username,password:e.password?ri.value(e.password):void 0,fetch_types:e.fetchTypes??!0,prepare:e.prepare??!0,onnotice:e.onnotice,types:e.types,debug:e.debug,connection:{application_name:e.applicationName??"@effect/sql-pg"},socket:e.socket},n=e.url?iB(ri.value(e.url),i):iB(i);yield*rt.acquireRelease(rt.tryPromise({try:()=>n`select 1`,catch:e=>new t5.SqlError({cause:e,message:"PgClient: Failed to connect"})}),()=>rt.promise(()=>n.end()).pipe(rt.interruptible,rt.timeoutOption(1e3))).pipe(rt.timeoutFail({duration:e.connectTimeout??re.seconds(5),onTimeout:()=>new t5.SqlError({cause:Error("Connection timed out"),message:"PgClient: Connection timed out"})}));class o{pg;constructor(e){this.pg=e}run(e){return rt.async(t=>(e.then(e=>t(rt.succeed(e)),e=>t(new t5.SqlError({cause:e,message:"Failed to execute statement"}))),rt.sync(()=>e.cancel())))}execute(e,t,r){return r?rt.map(this.run(this.pg.unsafe(e,t)),r):this.run(this.pg.unsafe(e,t))}executeRaw(e,t){return this.run(this.pg.unsafe(e,t))}executeWithoutTransform(e,t){return this.run(this.pg.unsafe(e,t))}executeValues(e,t){return this.run(this.pg.unsafe(e,t).values())}executeUnprepared(e,t,r){return this.execute(e,t,r)}executeStream(e,t,r){return rn.mapChunks(rn.fromAsyncIterable(this.pg.unsafe(e,t).cursor(16),e=>new t5.SqlError({cause:e,message:"Failed to execute statement"})),t8.flatMap(e=>t8.unsafeFromArray(r?r(e):e)))}}return Object.assign((yield*t3.make({acquirer:rt.succeed(new o(n)),transactionAcquirer:rt.map(rt.acquireRelease(rt.tryPromise({try:()=>n.reserve(),catch:e=>new t5.SqlError({cause:e,message:"Failed to reserve connection"})}),e=>rt.sync(()=>e.release())),e=>new o(e)),compiler:t,spanAttributes:[...e.spanAttributes?Object.entries(e.spanAttributes):[],[iW,"postgresql"],[iZ,i.database??e.username??"postgres"],[iJ,i.host??"localhost"],[iQ,i.port??5432]],transformRows:r})),{[iY]:iY,config:{...e,host:n.options.host[0]??void 0,port:n.options.port[0]??void 0,username:n.options.user,password:n.options.pass?ri.make(n.options.pass):void 0,database:n.options.database},json:e=>i3(e),array:e=>i5(e),listen:e=>rn.asyncPush(t=>rt.acquireRelease(rt.tryPromise({try:()=>n.listen(e,e=>t.single(e)),catch:e=>new t5.SqlError({cause:e,message:"Failed to listen"})}),({unlisten:e})=>rt.promise(()=>e()))),notify:(e,t)=>rt.tryPromise({try:()=>n.notify(e,t),catch:e=>new t5.SqlError({cause:e,message:"Failed to notify"})})})}),i1=e=>rr.scopedContext(rt.map(i0(e),e=>t7.make(iX,e).pipe(t7.add(t3.SqlClient,e)))).pipe(rr.provide(t4.layer)),i2=(e,t=!0)=>{let r=iB({max:0}),i=t&&e?t6.defaultTransforms(e).value:void 0;return t6.makeCompiler({dialect:"pg",placeholder:e=>`$${e}`,onIdentifier:e?function(t,r){return r?i4(t):i4(e(t))}:i4,onRecordUpdate:(e,t,r,i,n)=>[`(values ${e}) AS ${t}${r}${n?` RETURNING ${n[0]}`:""}`,n?i.flat().concat(n[1]):i.flat()],onCustom(e,t,n){switch(e.kind){case"PgJson":return[t(void 0),[r.json(n||void 0===i?e.i0:i(e.i0))]];case"PgArray":{let i=r.array(e.i0);switch(typeof e.i0[0]){case"boolean":i.type=1e3;break;case"number":i.type=1022;break;default:i.type=1009}return[t(void 0),[i]]}}}})},i4=t6.defaultEscape('"'),i3=t6.custom("PgJson"),i5=t6.custom("PgArray");var i6=n,i8=eh,i9=D,i7=n,ne=a,nt=P,nr=D;class ni extends tD{constructor(e,t,r,i,n,o,a,s,l,u){super({sql:t,params:r},n,o,a),this.client=e,this.queryString=t,this.params=r,this.logger=i,this.fields=s,this._isResponseInArrayMode=l,this.customResultMapper=u}static [i7.entityKind]="PostgresJsPreparedQuery";async execute(e={}){return nt.tracer.startActiveSpan("drizzle.execute",async t=>{let r=(0,ne.fillPlaceholders)(this.params,e);t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.logger.logQuery(this.queryString,r);let{fields:i,queryString:n,client:o,joinsNotNullableMap:a,customResultMapper:s}=this;if(!i&&!s)return nt.tracer.startActiveSpan("drizzle.driver.execute",()=>this.queryWithCache(n,r,async()=>await o.unsafe(n,r)));let l=await nt.tracer.startActiveSpan("drizzle.driver.execute",()=>(t?.setAttributes({"drizzle.query.text":n,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(n,r,async()=>await o.unsafe(n,r).values())));return nt.tracer.startActiveSpan("drizzle.mapResponse",()=>s?s(l):l.map(e=>(0,nr.mapResultRow)(i,e,a)))})}all(e={}){return nt.tracer.startActiveSpan("drizzle.execute",async t=>{let r=(0,ne.fillPlaceholders)(this.params,e);return t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.logger.logQuery(this.queryString,r),nt.tracer.startActiveSpan("drizzle.driver.execute",()=>(t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(this.queryString,r,async()=>this.client.unsafe(this.queryString,r))))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class nn extends tU{constructor(e,t,r,i={}){super(t),this.client=e,this.schema=r,this.options=i,this.logger=i.logger??new eJ,this.cache=i.cache??new tO}static [i7.entityKind]="PostgresJsSession";logger;cache;prepareQuery(e,t,r,i,n,o,a){return new ni(this.client,e.sql,e.params,this.logger,this.cache,o,a,t,i,n)}query(e,t){return this.logger.logQuery(e,t),this.client.unsafe(e,t).values()}queryObjects(e,t){return this.client.unsafe(e,t)}transaction(e,t){return this.client.begin(async r=>{let i=new nn(r,this.dialect,this.schema,this.options),n=new no(this.dialect,i,this.schema);return t&&await n.setTransaction(t),e(n)})}}class no extends tL{constructor(e,t,r,i=0){super(e,t,r,i),this.session=t}static [i7.entityKind]="PostgresJsTransaction";transaction(e){return this.session.client.savepoint(t=>{let r=new nn(t,this.dialect,this.schema,this.session.options);return e(new no(this.dialect,r,this.schema))})}}class na extends tE{static [i6.entityKind]="PostgresJsDatabase"}function ns(e,t={}){let r,i,n=e=>e;for(let t of["1184","1082","1083","1114","1182","1185","1115","1231"])e.options.parsers[t]=n,e.options.serializers[t]=n;e.options.serializers["114"]=n,e.options.serializers["3802"]=n;let o=new ew({casing:t.casing});if(!0===t.logger?r=new eZ:!1!==t.logger&&(r=t.logger),t.schema){let e=(0,i8.extractTablesRelationalConfig)(t.schema,i8.createTableRelationsHelpers);i={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let a=new nn(e,o,i,{logger:r,cache:t.cache}),s=new na(o,a,i);return s.$client=e,s.$cache=t.cache,s.$cache&&(s.$cache.invalidate=t.cache?.onMutate),s}function nl(...e){if("string"==typeof e[0])return ns(iB(e[0]),e[1]);if((0,i9.isConfig)(e[0])){let{connection:t,client:r,...i}=e[0];if(r)return ns(r,i);if("object"==typeof t&&void 0!==t.url){let{url:e,...r}=t;return ns(iB(e,r),i)}return ns(iB(t),i)}return ns(e[0],e[1])}(e=>{e.mock=function(e){return ns({options:{parsers:{},serializers:{}}},e)}})(nl||(nl={}));var nu=e.i(710284),nu=nu,nc=tH,nd=e.i(368171),nd=nd,np=e.i(65632),np=np,nf=tY,nh=t9,nm=tV,ng=re,ny=tG,nv=ri,nb=e.i(56786),nA=e.i(923928),nw=tZ,n_=nu,nS=e.i(64317),nE=e.i(842862),nT=e.i(411237),nI=e.i(862396);e.i(642771);var nx=e.i(98282),nO=nT;let nC={SUCCESSFUL_COMPLETION:"00000",WARNING:"01000",WARNING_DYNAMIC_RESULT_SETS_RETURNED:"0100C",WARNING_IMPLICIT_ZERO_BIT_PADDING:"01008",WARNING_NULL_VALUE_ELIMINATED_IN_SET_FUNCTION:"01003",WARNING_PRIVILEGE_NOT_GRANTED:"01007",WARNING_PRIVILEGE_NOT_REVOKED:"01006",WARNING_STRING_DATA_RIGHT_TRUNCATION:"01004",WARNING_DEPRECATED_FEATURE:"01P01",NO_DATA:"02000",NO_ADDITIONAL_DYNAMIC_RESULT_SETS_RETURNED:"02001",SQL_STATEMENT_NOT_YET_COMPLETE:"03000",CONNECTION_EXCEPTION:"08000",CONNECTION_DOES_NOT_EXIST:"08003",CONNECTION_FAILURE:"08006",SQLCLIENT_UNABLE_TO_ESTABLISH_SQLCONNECTION:"08001",SQLSERVER_REJECTED_ESTABLISHMENT_OF_SQLCONNECTION:"08004",TRANSACTION_RESOLUTION_UNKNOWN:"08007",PROTOCOL_VIOLATION:"08P01",TRIGGERED_ACTION_EXCEPTION:"09000",FEATURE_NOT_SUPPORTED:"0A000",INVALID_TRANSACTION_INITIATION:"0B000",LOCATOR_EXCEPTION:"0F000",L_E_INVALID_SPECIFICATION:"0F001",INVALID_GRANTOR:"0L000",INVALID_GRANT_OPERATION:"0LP01",INVALID_ROLE_SPECIFICATION:"0P000",DIAGNOSTICS_EXCEPTION:"0Z000",STACKED_DIAGNOSTICS_ACCESSED_WITHOUT_ACTIVE_HANDLER:"0Z002",CASE_NOT_FOUND:"20000",CARDINALITY_VIOLATION:"21000",DATA_EXCEPTION:"22000",ARRAY_ELEMENT_ERROR:"2202E",ARRAY_SUBSCRIPT_ERROR:"2202E",CHARACTER_NOT_IN_REPERTOIRE:"22021",DATETIME_FIELD_OVERFLOW:"22008",DATETIME_VALUE_OUT_OF_RANGE:"22008",DIVISION_BY_ZERO:"22012",ERROR_IN_ASSIGNMENT:"22005",ESCAPE_CHARACTER_CONFLICT:"2200B",INDICATOR_OVERFLOW:"22022",INTERVAL_FIELD_OVERFLOW:"22015",INVALID_ARGUMENT_FOR_LOG:"2201E",INVALID_ARGUMENT_FOR_NTILE:"22014",INVALID_ARGUMENT_FOR_NTH_VALUE:"22016",INVALID_ARGUMENT_FOR_POWER_FUNCTION:"2201F",INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION:"2201G",INVALID_CHARACTER_VALUE_FOR_CAST:"22018",INVALID_DATETIME_FORMAT:"22007",INVALID_ESCAPE_CHARACTER:"22019",INVALID_ESCAPE_OCTET:"2200D",INVALID_ESCAPE_SEQUENCE:"22025",NONSTANDARD_USE_OF_ESCAPE_CHARACTER:"22P06",INVALID_INDICATOR_PARAMETER_VALUE:"22010",INVALID_PARAMETER_VALUE:"22023",INVALID_PRECEDING_OR_FOLLOWING_SIZE:"22013",INVALID_REGULAR_EXPRESSION:"2201B",INVALID_ROW_COUNT_IN_LIMIT_CLAUSE:"2201W",INVALID_ROW_COUNT_IN_RESULT_OFFSET_CLAUSE:"2201X",INVALID_TABLESAMPLE_ARGUMENT:"2202H",INVALID_TABLESAMPLE_REPEAT:"2202G",INVALID_TIME_ZONE_DISPLACEMENT_VALUE:"22009",INVALID_USE_OF_ESCAPE_CHARACTER:"2200C",MOST_SPECIFIC_TYPE_MISMATCH:"2200G",NULL_VALUE_NOT_ALLOWED:"22004",NULL_VALUE_NO_INDICATOR_PARAMETER:"22002",NUMERIC_VALUE_OUT_OF_RANGE:"22003",SEQUENCE_GENERATOR_LIMIT_EXCEEDED:"2200H",STRING_DATA_LENGTH_MISMATCH:"22026",STRING_DATA_RIGHT_TRUNCATION:"22001",SUBSTRING_ERROR:"22011",TRIM_ERROR:"22027",UNTERMINATED_C_STRING:"22024",ZERO_LENGTH_CHARACTER_STRING:"2200F",FLOATING_POINT_EXCEPTION:"22P01",INVALID_TEXT_REPRESENTATION:"22P02",INVALID_BINARY_REPRESENTATION:"22P03",BAD_COPY_FILE_FORMAT:"22P04",UNTRANSLATABLE_CHARACTER:"22P05",NOT_AN_XML_DOCUMENT:"2200L",INVALID_XML_DOCUMENT:"2200M",INVALID_XML_CONTENT:"2200N",INVALID_XML_COMMENT:"2200S",INVALID_XML_PROCESSING_INSTRUCTION:"2200T",DUPLICATE_JSON_OBJECT_KEY_VALUE:"22030",INVALID_ARGUMENT_FOR_SQL_JSON_DATETIME_FUNCTION:"22031",INVALID_JSON_TEXT:"22032",INVALID_SQL_JSON_SUBSCRIPT:"22033",MORE_THAN_ONE_SQL_JSON_ITEM:"22034",NO_SQL_JSON_ITEM:"22035",NON_NUMERIC_SQL_JSON_ITEM:"22036",NON_UNIQUE_KEYS_IN_A_JSON_OBJECT:"22037",SINGLETON_SQL_JSON_ITEM_REQUIRED:"22038",SQL_JSON_ARRAY_NOT_FOUND:"22039",SQL_JSON_MEMBER_NOT_FOUND:"2203A",SQL_JSON_NUMBER_NOT_FOUND:"2203B",SQL_JSON_OBJECT_NOT_FOUND:"2203C",TOO_MANY_JSON_ARRAY_ELEMENTS:"2203D",TOO_MANY_JSON_OBJECT_MEMBERS:"2203E",SQL_JSON_SCALAR_REQUIRED:"2203F",SQL_JSON_ITEM_CANNOT_BE_CAST_TO_TARGET_TYPE:"2203G",INTEGRITY_CONSTRAINT_VIOLATION:"23000",RESTRICT_VIOLATION:"23001",NOT_NULL_VIOLATION:"23502",FOREIGN_KEY_VIOLATION:"23503",UNIQUE_VIOLATION:"23505",CHECK_VIOLATION:"23514",EXCLUSION_VIOLATION:"23P01",INVALID_CURSOR_STATE:"24000",INVALID_TRANSACTION_STATE:"25000",ACTIVE_SQL_TRANSACTION:"25001",BRANCH_TRANSACTION_ALREADY_ACTIVE:"25002",HELD_CURSOR_REQUIRES_SAME_ISOLATION_LEVEL:"25008",INAPPROPRIATE_ACCESS_MODE_FOR_BRANCH_TRANSACTION:"25003",INAPPROPRIATE_ISOLATION_LEVEL_FOR_BRANCH_TRANSACTION:"25004",NO_ACTIVE_SQL_TRANSACTION_FOR_BRANCH_TRANSACTION:"25005",READ_ONLY_SQL_TRANSACTION:"25006",SCHEMA_AND_DATA_STATEMENT_MIXING_NOT_SUPPORTED:"25007",NO_ACTIVE_SQL_TRANSACTION:"25P01",IN_FAILED_SQL_TRANSACTION:"25P02",IDLE_IN_TRANSACTION_SESSION_TIMEOUT:"25P03",INVALID_SQL_STATEMENT_NAME:"26000",TRIGGERED_DATA_CHANGE_VIOLATION:"27000",INVALID_AUTHORIZATION_SPECIFICATION:"28000",INVALID_PASSWORD:"28P01",DEPENDENT_PRIVILEGE_DESCRIPTORS_STILL_EXIST:"2B000",DEPENDENT_OBJECTS_STILL_EXIST:"2BP01",INVALID_TRANSACTION_TERMINATION:"2D000",SQL_ROUTINE_EXCEPTION:"2F000",S_R_E_FUNCTION_EXECUTED_NO_RETURN_STATEMENT:"2F005",S_R_E_MODIFYING_SQL_DATA_NOT_PERMITTED:"2F002",S_R_E_PROHIBITED_SQL_STATEMENT_ATTEMPTED:"2F003",S_R_E_READING_SQL_DATA_NOT_PERMITTED:"2F004",INVALID_CURSOR_NAME:"34000",EXTERNAL_ROUTINE_EXCEPTION:"38000",E_R_E_CONTAINING_SQL_NOT_PERMITTED:"38001",E_R_E_MODIFYING_SQL_DATA_NOT_PERMITTED:"38002",E_R_E_PROHIBITED_SQL_STATEMENT_ATTEMPTED:"38003",E_R_E_READING_SQL_DATA_NOT_PERMITTED:"38004",EXTERNAL_ROUTINE_INVOCATION_EXCEPTION:"39000",E_R_I_E_INVALID_SQLSTATE_RETURNED:"39001",E_R_I_E_NULL_VALUE_NOT_ALLOWED:"39004",E_R_I_E_TRIGGER_PROTOCOL_VIOLATED:"39P01",E_R_I_E_SRF_PROTOCOL_VIOLATED:"39P02",E_R_I_E_EVENT_TRIGGER_PROTOCOL_VIOLATED:"39P03",SAVEPOINT_EXCEPTION:"3B000",S_E_INVALID_SPECIFICATION:"3B001",INVALID_CATALOG_NAME:"3D000",INVALID_SCHEMA_NAME:"3F000",TRANSACTION_ROLLBACK:"40000",T_R_INTEGRITY_CONSTRAINT_VIOLATION:"40002",T_R_SERIALIZATION_FAILURE:"40001",T_R_STATEMENT_COMPLETION_UNKNOWN:"40003",T_R_DEADLOCK_DETECTED:"40P01",SYNTAX_ERROR_OR_ACCESS_RULE_VIOLATION:"42000",SYNTAX_ERROR:"42601",INSUFFICIENT_PRIVILEGE:"42501",CANNOT_COERCE:"42846",GROUPING_ERROR:"42803",WINDOWING_ERROR:"42P20",INVALID_RECURSION:"42P19",INVALID_FOREIGN_KEY:"42830",INVALID_NAME:"42602",NAME_TOO_LONG:"42622",RESERVED_NAME:"42939",DATATYPE_MISMATCH:"42804",INDETERMINATE_DATATYPE:"42P18",COLLATION_MISMATCH:"42P21",INDETERMINATE_COLLATION:"42P22",WRONG_OBJECT_TYPE:"42809",GENERATED_ALWAYS:"428C9",UNDEFINED_COLUMN:"42703",UNDEFINED_CURSOR:"34000",UNDEFINED_DATABASE:"3D000",UNDEFINED_FUNCTION:"42883",UNDEFINED_PSTATEMENT:"26000",UNDEFINED_SCHEMA:"3F000",UNDEFINED_TABLE:"42P01",UNDEFINED_PARAMETER:"42P02",UNDEFINED_OBJECT:"42704",DUPLICATE_COLUMN:"42701",DUPLICATE_CURSOR:"42P03",DUPLICATE_DATABASE:"42P04",DUPLICATE_FUNCTION:"42723",DUPLICATE_PSTATEMENT:"42P05",DUPLICATE_SCHEMA:"42P06",DUPLICATE_TABLE:"42P07",DUPLICATE_ALIAS:"42712",DUPLICATE_OBJECT:"42710",AMBIGUOUS_COLUMN:"42702",AMBIGUOUS_FUNCTION:"42725",AMBIGUOUS_PARAMETER:"42P08",AMBIGUOUS_ALIAS:"42P09",INVALID_COLUMN_REFERENCE:"42P10",INVALID_COLUMN_DEFINITION:"42611",INVALID_CURSOR_DEFINITION:"42P11",INVALID_DATABASE_DEFINITION:"42P12",INVALID_FUNCTION_DEFINITION:"42P13",INVALID_PSTATEMENT_DEFINITION:"42P14",INVALID_SCHEMA_DEFINITION:"42P15",INVALID_TABLE_DEFINITION:"42P16",INVALID_OBJECT_DEFINITION:"42P17",WITH_CHECK_OPTION_VIOLATION:"44000",INSUFFICIENT_RESOURCES:"53000",DISK_FULL:"53100",OUT_OF_MEMORY:"53200",TOO_MANY_CONNECTIONS:"53300",CONFIGURATION_LIMIT_EXCEEDED:"53400",PROGRAM_LIMIT_EXCEEDED:"54000",STATEMENT_TOO_COMPLEX:"54001",TOO_MANY_COLUMNS:"54011",TOO_MANY_ARGUMENTS:"54023",OBJECT_NOT_IN_PREREQUISITE_STATE:"55000",OBJECT_IN_USE:"55006",CANT_CHANGE_RUNTIME_PARAM:"55P02",LOCK_NOT_AVAILABLE:"55P03",UNSAFE_NEW_ENUM_VALUE_USAGE:"55P04",OPERATOR_INTERVENTION:"57000",QUERY_CANCELED:"57014",ADMIN_SHUTDOWN:"57P01",CRASH_SHUTDOWN:"57P02",CANNOT_CONNECT_NOW:"57P03",DATABASE_DROPPED:"57P04",IDLE_SESSION_TIMEOUT:"57P05",SYSTEM_ERROR:"58000",IO_ERROR:"58030",UNDEFINED_FILE:"58P01",DUPLICATE_FILE:"58P02",CONFIG_FILE_ERROR:"F0000",LOCK_FILE_EXISTS:"F0001",FDW_ERROR:"HV000",FDW_COLUMN_NAME_NOT_FOUND:"HV005",FDW_DYNAMIC_PARAMETER_VALUE_NEEDED:"HV002",FDW_FUNCTION_SEQUENCE_ERROR:"HV010",FDW_INCONSISTENT_DESCRIPTOR_INFORMATION:"HV021",FDW_INVALID_ATTRIBUTE_VALUE:"HV024",FDW_INVALID_COLUMN_NAME:"HV007",FDW_INVALID_COLUMN_NUMBER:"HV008",FDW_INVALID_DATA_TYPE:"HV004",FDW_INVALID_DATA_TYPE_DESCRIPTORS:"HV006",FDW_INVALID_DESCRIPTOR_FIELD_IDENTIFIER:"HV091",FDW_INVALID_HANDLE:"HV00B",FDW_INVALID_OPTION_INDEX:"HV00C",FDW_INVALID_OPTION_NAME:"HV00D",FDW_INVALID_STRING_LENGTH_OR_BUFFER_LENGTH:"HV090",FDW_INVALID_STRING_FORMAT:"HV00A",FDW_INVALID_USE_OF_NULL_POINTER:"HV009",FDW_TOO_MANY_HANDLES:"HV014",FDW_OUT_OF_MEMORY:"HV001",FDW_NO_SCHEMAS:"HV00P",FDW_OPTION_NAME_NOT_FOUND:"HV00J",FDW_REPLY_HANDLE:"HV00K",FDW_SCHEMA_NOT_FOUND:"HV00Q",FDW_TABLE_NOT_FOUND:"HV00R",FDW_UNABLE_TO_CREATE_EXECUTION:"HV00L",FDW_UNABLE_TO_CREATE_REPLY:"HV00M",FDW_UNABLE_TO_ESTABLISH_CONNECTION:"HV00N",PLPGSQL_ERROR:"P0000",RAISE_EXCEPTION:"P0001",NO_DATA_FOUND:"P0002",TOO_MANY_ROWS:"P0003",ASSERT_FAILURE:"P0004",INTERNAL_ERROR:"XX000",DATA_CORRUPTED:"XX001",INDEX_CORRUPTED:"XX002",UNKNOWN:"UNKNOWN"};nO.Literal(...nx.RecordUtils.recordStringValues(nC)),nO.Literal(...nx.RecordUtils.recordKeys(nC),"UNKNOWN");let nk=nx.RecordUtils.reverseRecord(nC),nN=nT.instanceOf(iB.PostgresError),nR=e=>"object"==typeof e&&null!==e,nP=nI.is(nN),nD=e=>nR(e)&&"PostgresError"===e.name&&"string"==typeof e.code,nU=nI.is(nT.instanceOf(nw.SqlError)),nL=e=>nU(e)||nR(e)&&"SqlError"===e._tag&&"cause"in e,nK=e=>nR(e)&&"DbError"===e._tag&&"cause"in e,nM=e=>nR(e)&&"FiberFailure"===e._id&&"cause"in e,nB=e=>n_.match(e,{onEmpty:null,onFail:e=>n$(e),onDie:e=>n$(e),onInterrupt:()=>null,onSequential:(e,t)=>e??t,onParallel:(e,t)=>e??t}),nj=e=>n$(e),n$=e=>{let t=new Set,r=[e];for(;r.length>0;){let e=r.shift();if(!(null==e||t.has(e))){if(t.add(e),nP(e)||nD(e))return e;if(e instanceof nF)return e.cause;if(nK(e)){r.push(e.cause);continue}if(e instanceof nw.SqlError&&r.push(e.cause),nL(e)&&r.push(e.cause),nM(e)&&r.push(e.cause),n_.isCause(e)){let t=nB(e);if(t)return t}if(nR(e))for(let t of[e.cause,e.failure,e.error,e.defect,e.value])void 0!==t&&r.push(t);Array.isArray(e)&&r.push(...e)}}return null};class nz extends nS.Error{}class nF extends nS.TaggedError("DbError"){toString(){return`DbError: ${this.cause.message}`}get message(){return this.cause.message}static match=e=>{if(e instanceof nF)return e;if(e instanceof ei){let t=e.query,r=e.params,i=nE.pipe(e,JSON.stringify,JSON.parse,e=>new nz({...e?.cause?.cause?.failure?.cause,parameters:r,query:t}));return new nF({type:nk[i.code],cause:i})}if(e instanceof nw.SqlError&&e.cause instanceof ei){let t=e?.cause?.query,r=e?.cause?.params,i=nE.pipe(e?.cause,JSON.stringify,JSON.parse,e=>new nz({...JSON.parse(JSON.stringify(e?.cause)).cause?.failure?.cause,query:t,parameters:r}));return new nF({type:nk[i.code],cause:i})}let t=nj(e);if(!t)throw Error(`Unknown error: ${e}`);return nq(t)}}let nq=e=>new nF({type:nk[e.code],cause:e});e.s(["DbError",()=>nF],258872),function(e){e.config={transformQueryNames:nA.camelToSnake,transformResultNames:nA.snakeToCamel},e.layer=e=>i1({url:e.url,ssl:e.ssl,transformQueryNames:nA.camelToSnake,transformResultNames:nA.snakeToCamel}),e.Live=ny.unwrapEffect(nc.gen(function*(){return i1({url:yield*nh.redacted("DB_PG_URL"),ssl:yield*nh.boolean("DB_PG_SSL"),...e.config})})).pipe(e=>ny.retry(e,nb.identity().pipe(nb.check(e=>"SqlError"===e._tag),nb.intersect(nb.exponential("1 second")),nb.intersect(nb.recurs(2)),nb.onDecision(([[e,t],r],i)=>"Continue"===i._tag?nc.logInfo(`Retrying database connection in ${ng.format(t)} (attempt #${++r})`):nc.void)))),e.make=e=>{let t=nm.GenericTag("DbScope/TransactionContext");return{serviceEffect:nc.gen(function*(){let r=yield*t2({schema:e}),n=nl(nv.value(i.serverEnv.db.pg.url),{schema:e}),o=nc.fn(e=>nc.tryPromise({try:()=>e(n),catch:e=>{let t=nF.match(e);if(null!==t)return t;throw e}})),a=nc.fn("Database.transaction")(e=>nc.runtime().pipe(nc.map(e=>nf.runPromiseExit(e)),nc.flatMap(r=>nc.async(i=>{n.transaction(async n=>{let o=e=>nc.tryPromise({try:()=>e(n),catch:e=>{let t=nF.match(e);if(null!==t)return t;throw e}}),a=nc.provideService(t,o)(e(o)),s=await r(a);nd.match(s,{onSuccess:e=>{i(nc.succeed(e))},onFailure:e=>{nu.isFailure(e)?i(nc.fail(nu.originalError(e))):i(nc.die(e))}})}).catch(e=>{let t=nF.match(e);i(null!==t?nc.fail(t):nc.die(e))})})))),s=e=>(...r)=>{let i=r[0];return nc.serviceOption(t).pipe(nc.map(np.getOrNull),nc.flatMap(t=>e(t??o,i)))};return{db:r,drizzle:n,execute:o,transaction:a,makeQuery:s}}),TransactionContext:t}}}(r||(r={})),e.s(["Db",()=>r],78244)},876091,733447,969588,642622,341500,595138,426710,429238,276985,e=>{"use strict";e.i(944824);var t,r,i=e.i(735967),n=e.i(479822),o=e.i(923624),a=e.i(690429),s=e.i(484259),l=s,u=e.i(794093),c=e.i(518899),d=e.i(303090),p=s,f=e.i(870988),h=e.i(772767);let m=e.i(842862).constant(h.toDateUtc(h.unsafeNow())),g={createdAt:d.timestamp("created_at",{withTimezone:!0}).notNull().$defaultFn(m),updatedAt:d.timestamp("updated_at",{withTimezone:!0}).notNull().$onUpdateFn(m),deletedAt:d.timestamp("deleted_at",{withTimezone:!0})},y={createdBy:p.text("created_by"),updatedBy:p.text("updated_by"),deletedBy:p.text("deleted_by")},v={...g,...y,version:f.integer("version").notNull().default(1).$onUpdateFn(()=>c.sql`version + 1`),source:p.text("source")};e.s(["globalColumns",0,v],733447);var b=i;e.i(822676);var A=e.i(489878),w=i,_=A,S=u;!function(e){e.make=e=>{let t;return t={id:e.publicId(),_rowId:e.privateId(),...v},(r,i)=>{let n={...t,...r};return S.pgTable(e.tableName,n,i)}}}(t||(t={})),e.s(["Table",()=>t],969588);var E=c,T=s,I=e.i(802847),x=d,O=e.i(420776);let C=_.User.makeUserRolePgEnum("user_role_enum"),k=_.User.makeUserGenderPgEnum("user_gender_enum"),N=t.make(w.SharedEntityIds.UserId)({name:T.text("name").notNull(),email:T.text("email").notNull().unique(),emailVerified:I.boolean("email_verified").default(!1).notNull(),image:T.text("image"),role:C("role").notNull().default(_.User.UserRole.Enum.user),gender:k("gender").notNull().default(_.User.UserGender.Enum.male),banned:I.boolean("banned").notNull().default(!1),banReason:T.text("ban_reason"),banExpires:x.timestamp("ban_expires"),isAnonymous:I.boolean("is_anonymous").notNull().default(!1),phoneNumber:T.text("phone_number").unique(),phoneNumberVerified:I.boolean("phone_number_verified").notNull().default(!1),twoFactorEnabled:I.boolean("two_factor_enabled").notNull().default(!1),username:T.text("username").unique(),displayUsername:T.text("display_username"),stripeCustomerId:T.text("stripe_customer_id"),lastLoginMethod:T.text("last_login_method")},e=>[O.index("user_email_idx").on(e.email),O.index("user_active_idx").on(e.id,e.emailVerified).where(E.sql`${e.banned} IS NOT TRUE AND ${e.emailVerified} = true`),O.index("user_role_idx").on(e.role).where(E.sql`${e.role} IS NOT NULL`),O.index("user_banned_expires_idx").on(e.banExpires).where(E.sql`${e.banned} = true AND ${e.banExpires} IS NOT NULL`),O.index("user_2fa_enabled_idx").on(e.twoFactorEnabled).where(E.sql`${e.twoFactorEnabled} = true`)]);e.s(["user",0,N,"userGenderPgEnum",0,k,"userRolePgEnum",0,C],642622);var R=c,P=s,D=I,U=f,L=e.i(438257),K=O;let M=A.Organization.makeOrganizationTypePgEnum("organization_type_enum"),B=A.Organization.makeSubscriptionTierPgEnum("subscription_tier_enum"),j=A.Organization.makeSubscriptionStatusPgEnum("subscription_status_enum"),$=t.make(b.SharedEntityIds.OrganizationId)({name:P.text("name").notNull(),slug:P.text("slug").notNull().unique(),logo:P.text("logo"),metadata:P.text("metadata"),type:M("type").notNull().default(A.Organization.OrganizationTypeEnum.individual),ownerUserId:P.text("owner_user_id").$type().notNull().references(()=>N.id,{onDelete:"cascade",onUpdate:"cascade"}),isPersonal:D.boolean("is_personal").notNull().default(!1),maxMembers:U.integer("max_members"),features:L.jsonb("features").$type(),settings:L.jsonb("settings").$type(),subscriptionTier:B("subscription_tier").notNull().default(A.Organization.SubscriptionTierEnum.free),subscriptionStatus:j("subscription_status").notNull().default(A.Organization.SubscriptionStatusEnum.active)},e=>[K.index("organization_name_idx").on(e.name),K.index("organization_slug_idx").on(e.slug),K.index("organization_type_idx").on(e.type),K.index("organization_owner_idx").on(e.ownerUserId),K.index("organization_personal_idx").on(e.isPersonal).where(R.sql`${e.isPersonal} = true`),K.index("organization_subscription_idx").on(e.subscriptionTier,e.subscriptionStatus)]);e.s(["organization",0,$,"organizationTypePgEnum",0,M,"subscriptionStatusPgEnum",0,j,"subscriptionTierPgEnum",0,B],341500),function(e){e.make=e=>{let t;return t={id:e.publicId(),_rowId:e.privateId(),organizationId:l.text("organization_id").notNull().references(()=>$.id,{onDelete:"cascade",onUpdate:"cascade"}).notNull().$type(),...v},(r,i)=>{let n={...t,...r};return u.pgTable(e.tableName,n,i)}}}(r||(r={})),e.s(["OrgTable",()=>r],595138);let z=r.make(i.SharedEntityIds.FileId)({url:o.varchar("url",{length:512}).notNull(),size:a.bigint({mode:"number"}).notNull(),formattedSize:s.text("formatted_size").notNull(),filename:s.text("filename").notNull(),originalFilename:s.text("original_filename").notNull(),basePath:s.text("base_path").notNull(),path:s.text("path").notNull(),ext:s.text("ext").notNull().$type(),mimeType:s.text("mime_type").notNull().$type(),platform:s.text("platform").notNull(),entityKind:s.text("entity_kind").notNull(),entityIdentifier:s.text("entity_identifier").notNull(),entityAttribute:s.text("entity_attribute").notNull()}),F=n.relations(z,({one:e})=>({organization:e($,{fields:[z.organizationId],references:[$.id]})}));e.s(["file",0,z,"fileRelations",0,F],426710);var q=i,V=s,H=O;let G=r.make(q.SharedEntityIds.TeamId)({name:V.text("name").notNull(),description:V.text("description"),slug:V.text("slug").notNull().unique(),metadata:V.text("metadata"),logo:V.text("logo")},e=>[H.index("team_organization_id_idx").on(e.organizationId),H.uniqueIndex("team_org_name_unique_idx").on(e.organizationId,e.name),H.index("team_name_idx").on(e.name)]);e.s(["team",0,G],429238),e.s([],276985),e.s([],876091)},30932,446429,52153,277113,238966,189409,53784,398941,411772,398427,536240,64237,724462,259187,1029,415255,601464,196699,679402,818223,355721,422010,e=>{"use strict";e.i(876091);var t=e.i(341500),r=e.i(429238),i=e.i(642622),n=e.i(479822);e.i(899508);var o=e.i(735967),a=i,s=e.i(969588),l=e.i(518899),u=e.i(484259),c=e.i(303090),d=e.i(420776);let p=s.Table.make(o.IamEntityIds.AccountId)({accountId:u.text("account_id").notNull(),providerId:u.text("provider_id").notNull(),userId:u.text("user_id").notNull().$type().references(()=>a.user.id,{onDelete:"cascade",onUpdate:"cascade"}),accessToken:u.text("access_token"),refreshToken:u.text("refresh_token"),idToken:u.text("id_token"),accessTokenExpiresAt:c.timestamp("access_token_expires_at"),refreshTokenExpiresAt:c.timestamp("refresh_token_expires_at"),scope:u.text("scope"),password:u.text("password")},e=>[d.index("account_user_id_idx").on(e.userId),d.uniqueIndex("account_provider_account_unique_idx").on(e.providerId,e.accountId),d.index("account_provider_id_idx").on(e.providerId),d.index("account_user_provider_idx").on(e.userId,e.providerId),d.index("account_access_token_expires_idx").on(e.accessTokenExpiresAt).where(l.sql`${e.accessTokenExpiresAt} IS NOT NULL`),d.index("account_refresh_token_expires_idx").on(e.refreshTokenExpiresAt).where(l.sql`${e.refreshTokenExpiresAt} IS NOT NULL`)]);e.s(["account",0,p],446429),e.i(944824);var f=o;e.i(733447);var h=e.i(595138);e.i(276985);var m=h,g=i,y=l,v=u,b=e.i(870988),A=c,w=e.i(802847),_=e.i(58081);let S=m.OrgTable.make(f.IamEntityIds.ApiKeyId)({name:v.text("name"),start:v.text("start"),prefix:v.text("prefix"),key:v.text("key").notNull(),userId:v.text("user_id").notNull().$type().references(()=>g.user.id,{onDelete:"cascade"}),refillInterval:b.integer("refill_interval"),refillAmount:b.integer("refill_amount"),lastRefillAt:A.timestamp("last_refill_at"),enabled:w.boolean("enabled").notNull().default(!0),rateLimitEnabled:w.boolean("rate_limit_enabled").notNull().default(!0),rateLimitTimeWindow:b.integer("rate_limit_time_window").notNull().default(864e5),rateLimitMax:b.integer("rate_limit_max").notNull().default(10),requestCount:b.integer("request_count"),remaining:b.integer("remaining"),lastRequest:A.timestamp("last_request"),expiresAt:A.timestamp("expires_at"),permissions:v.text("permissions"),metadata:v.text("metadata")},e=>[_.check("apikey_request_count_non_negative_check",y.sql`${e.requestCount} IS NULL OR ${e.requestCount} >= 0`),_.check("apikey_refill_amount_non_negative_check",y.sql`${e.refillAmount} IS NULL OR ${e.refillAmount} >= 0`),_.check("apikey_rate_limit_time_window_positive_check",y.sql`${e.rateLimitTimeWindow} IS NULL OR ${e.rateLimitTimeWindow} > 0`),_.check("apikey_rate_limit_max_positive_check",y.sql`${e.rateLimitMax} IS NULL OR ${e.rateLimitMax} > 0`),_.check("apikey_remaining_non_negative_check",y.sql`${e.remaining} IS NULL OR ${e.remaining} >= 0`)]);e.s(["apiKey",0,S],52153),e.i(360645);var E=e.i(31654),T=o,I=s,x=i,O=u,C=c,k=b;let N=E.DeviceCode.makeDeviceCodeStatusPgEnum("device_code_status_enum"),R=I.Table.make(T.IamEntityIds.DeviceCodeId)({deviceCode:O.text("device_code").notNull(),userCode:O.text("user_code").notNull(),userId:O.text("user_id").references(()=>x.user.id,{onDelete:"cascade",onUpdate:"cascade"}),expiresAt:C.timestamp("expires_at").notNull(),status:N("status").notNull().default(E.DeviceCode.DeviceCodeStatus.Enum.pending),lastPolledAt:C.timestamp("last_polled_at"),pollingInterval:k.integer("polling_interval"),clientId:O.text("client_id"),scope:O.text("scope")});e.s(["deviceCode",0,R,"deviceCodeStatusPgEnum",0,N],277113);var P=E,D=o,U=t,L=s,K=r,M=i,B=l,j=u,$=c,z=d;let F=P.Invitation.makeInvitationStatusPgEnum("invitation_status_enum"),q=L.Table.make(D.IamEntityIds.InvitationId)({email:j.text("email").notNull(),role:j.text("role"),teamId:j.text("team_id").$type().references(()=>K.team.id,{onDelete:"cascade",onUpdate:"cascade"}),status:F("status").notNull().default(P.Invitation.InvitationStatusEnum.pending),expiresAt:$.timestamp("expires_at").notNull(),inviterId:j.text("inviter_id").notNull().$type().references(()=>M.user.id,{onDelete:"cascade",onUpdate:"cascade"}),organizationId:j.text("organization_id").$type().references(()=>U.organization.id,{onDelete:"cascade"})},e=>[z.index("invitation_organization_id_idx").on(e.organizationId),z.index("invitation_inviter_id_idx").on(e.inviterId),z.index("invitation_email_idx").on(e.email),z.uniqueIndex("invitation_org_email_unique_idx").on(e.organizationId,e.email).where(B.sql`${e.status} = 'pending'`),z.index("invitation_status_idx").on(e.status),z.index("invitation_expires_at_idx").on(e.expiresAt),z.index("invitation_pending_idx").on(e.organizationId,e.status,e.expiresAt).where(B.sql`${e.status} = 'pending'`),z.index("invitation_team_id_idx").on(e.teamId).where(B.sql`${e.teamId} IS NOT NULL`)]);e.s(["invitation",0,q,"invitationStatusEnum",0,F],238966);var V=o,H=u;let G=s.Table.make(V.IamEntityIds.JwksId)({publicKey:H.text("public_key").notNull(),privateKey:H.text("private_key").notNull()});e.s(["jwks",0,G],189409);var W=E,Z=o,J=h,Q=u,Y=c,X=d;let ee=W.Member.makeMemberRolePgEnum("member_role_enum"),et=W.Member.makeMemberStatusPgEnum("member_status_enum"),er=J.OrgTable.make(Z.IamEntityIds.MemberId)({userId:Q.text("user_id").$type().notNull(),role:ee("role").notNull().default(W.Member.MemberRoleEnum.member),status:et("status").notNull().default("active"),invitedBy:Q.text("invited_by"),invitedAt:Y.timestamp("invited_at",{withTimezone:!0}),joinedAt:Y.timestamp("joined_at",{withTimezone:!0}),lastActiveAt:Y.timestamp("last_active_at",{withTimezone:!0}),permissions:Q.text("permissions")},e=>[X.index("member_organization_id_idx").on(e.organizationId),X.index("member_user_id_idx").on(e.userId),X.uniqueIndex("member_org_user_unique_idx").on(e.organizationId,e.userId),X.index("member_org_role_idx").on(e.organizationId,e.role),X.index("member_role_idx").on(e.role),X.index("member_status_idx").on(e.status),X.index("member_org_status_idx").on(e.organizationId,e.status),X.index("member_invited_by_idx").on(e.invitedBy),X.index("member_last_active_idx").on(e.lastActiveAt)]);e.s(["member",0,er,"memberRoleEnum",0,ee,"memberStatusEnum",0,et],53784);var ei=o,en=i,eo=u,ea=c;let es=h.OrgTable.make(ei.IamEntityIds.OAuthAccessTokenId)({accessToken:eo.text("access_token").unique(),refreshToken:eo.text("refresh_token").unique(),accessTokenExpiresAt:ea.timestamp("access_token_expires_at"),refreshTokenExpiresAt:ea.timestamp("refresh_token_expires_at"),clientId:eo.text("client_id"),userId:eo.text("user_id").$type().references(()=>en.user.id,{onDelete:"cascade"}),scopes:eo.text("scopes")});e.s(["oauthAccessToken",0,es],398941);var el=o,eu=i,ec=u,ed=w;let ep=h.OrgTable.make(el.IamEntityIds.OAuthApplicationId)({name:ec.text("name"),icon:ec.text("icon"),metadata:ec.text("metadata"),clientId:ec.text("client_id").unique(),clientSecret:ec.text("client_secret"),redirectURLs:ec.text("redirect_u_r_ls"),type:ec.text("type"),disabled:ed.boolean("disabled").notNull().default(!1),userId:ec.text("user_id").$type().references(()=>eu.user.id,{onDelete:"cascade"})});e.s(["oauthApplication",0,ep],411772);var ef=o,eh=i,em=u,eg=w;let ey=h.OrgTable.make(ef.IamEntityIds.OAuthConsentId)({clientId:em.text("client_id").notNull(),userId:em.text("user_id").$type().references(()=>eh.user.id),scopes:em.text("scopes").notNull(),consentGiven:eg.boolean("consent_given").notNull().default(!1)});e.s(["oauthConsent",0,ey],398427);var ev=o,eb=u;let eA=h.OrgTable.make(ev.IamEntityIds.OrganizationRoleId)({role:eb.text("role").notNull(),permission:eb.text("permission").notNull()});e.s(["organizationRole",0,eA],536240);var ew=o,e_=i,eS=l,eE=u,eT=b,eI=w,ex=_;let eO=h.OrgTable.make(ew.IamEntityIds.PasskeyId)({name:eE.text("name"),publicKey:eE.text("public_key").notNull(),userId:eE.text("user_id").notNull().$type().references(()=>e_.user.id,{onDelete:"cascade"}),credentialID:eE.text("credential_i_d").notNull(),counter:eT.integer("counter").notNull(),deviceType:eE.text("device_type").notNull(),backedUp:eI.boolean("backed_up").notNull().default(!1),transports:eE.text("transports"),aaguid:eE.text("aaguid")},e=>[ex.check("passkey_counter_non_negative_check",eS.sql`${e.counter} >= 0`)]);e.s(["passkey",0,eO],64237);var eC=o,ek=s,eN=u,eR=b,eP=e.i(690429);let eD=ek.Table.make(eC.IamEntityIds.RateLimitId)({key:eN.text("key"),count:eR.integer("count"),lastRequest:eP.bigint("last_request",{mode:"number"})});e.s(["rateLimit",0,eD],724462);var eU=o,eL=t,eK=r,eM=i,eB=l,ej=c,e$=u,ez=_,eF=d;let eq=s.Table.make(eU.IamEntityIds.SessionId)({expiresAt:ej.timestamp("expires_at").notNull(),token:e$.text("token").notNull().unique(),ipAddress:e$.text("ip_address"),userAgent:e$.text("user_agent"),userId:e$.text("user_id").$type().notNull().references(()=>eM.user.id,{onDelete:"cascade",onUpdate:"cascade"}),impersonatedBy:e$.text("impersonated_by").$type().references(()=>eM.user.id,{onDelete:"set null",onUpdate:"cascade"}),activeOrganizationId:e$.text("active_organization_id").$type().references(()=>eL.organization.id,{onDelete:"set null",onUpdate:"cascade"}),activeTeamId:e$.text("active_team_id").$type().references(()=>eK.team.id,{onDelete:"set null",onUpdate:"cascade"})},e=>[ez.check("session_expires_after_created_check",eB.sql`${e.expiresAt} > ${e.createdAt}`),eF.index("session_token_idx").on(e.token),eF.index("session_user_id_idx").on(e.userId),eF.index("session_expires_at_idx").on(e.expiresAt),eF.index("session_user_expires_idx").on(e.userId,e.expiresAt),eF.index("session_active_org_idx").on(e.activeOrganizationId),eF.index("session_active_team_idx").on(e.activeTeamId),eF.index("session_impersonated_by_idx").on(e.impersonatedBy),eF.index("session_user_org_active_idx").on(e.userId,e.activeOrganizationId,e.expiresAt)]);e.s(["session",0,eq],259187);var eV=o,eH=t,eG=i,eW=u;let eZ=s.Table.make(eV.IamEntityIds.SsoProviderId)({issuer:eW.text("issuer").notNull(),oidcConfig:eW.text("oidc_config"),samlConfig:eW.text("saml_config"),userId:eW.text("user_id").$type().references(()=>eG.user.id,{onDelete:"cascade"}),providerId:eW.text("provider_id").notNull().unique(),organizationId:eW.text("organization_id").$type().references(()=>eH.organization.id,{onDelete:"cascade"}),domain:eW.text("domain").notNull()});e.s(["ssoProvider",0,eZ],1029);var eJ=o,eQ=u,eY=c,eX=w,e0=b;let e1=h.OrgTable.make(eJ.IamEntityIds.SubscriptionId)({plan:eQ.text("plan").notNull(),referenceId:eQ.text("reference_id").notNull(),stripeCustomerId:eQ.text("stripe_customer_id"),stripeSubscriptionId:eQ.text("stripe_subscription_id"),status:eQ.text("status").notNull().default("incomplete"),periodStart:eY.timestamp("period_start"),periodEnd:eY.timestamp("period_end"),cancelAtPeriodEnd:eX.boolean("cancel_at_period_end").notNull().default(!1),seats:e0.integer("seats")});e.s(["subscription",0,e1],415255);var e2=o,e4=r,e3=i,e5=u,e6=d;let e8=h.OrgTable.make(e2.IamEntityIds.TeamMemberId)({teamId:e5.text("team_id").notNull().$type().references(()=>e4.team.id,{onDelete:"cascade",onUpdate:"cascade"}),userId:e5.text("user_id").notNull().$type().references(()=>e3.user.id,{onDelete:"cascade",onUpdate:"cascade"})},e=>[e6.index("team_member_team_id_idx").on(e.teamId),e6.index("team_member_user_id_idx").on(e.userId),e6.uniqueIndex("team_member_team_user_unique_idx").on(e.teamId,e.userId),e6.index("team_member_team_user_idx").on(e.teamId,e.userId)]);e.s(["teamMember",0,e8],601464);var e9=o,e7=i,te=u;let tt=h.OrgTable.make(e9.IamEntityIds.TwoFactorId)({secret:te.text("secret").notNull(),backupCodes:te.text("backup_codes").notNull(),userId:te.text("user_id").notNull().$type().references(()=>e7.user.id,{onDelete:"cascade"})});e.s(["twoFactor",0,tt],196699);var tr=o,ti=u,tn=c,to=d;let ta=s.Table.make(tr.IamEntityIds.VerificationId)({identifier:ti.text("identifier").notNull(),value:ti.text("value").notNull(),expiresAt:tn.timestamp("expires_at").notNull()},e=>[to.index("verification_identifier_idx").on(e.identifier),to.index("verification_identifier_value_idx").on(e.identifier,e.value),to.index("verification_expires_at_idx").on(e.expiresAt),to.index("verification_active_idx").on(e.identifier,e.expiresAt)]);e.s(["verification",0,ta],679402);var ts=o,tl=i,tu=u,tc=b,td=w,tp=d;let tf=s.Table.make(ts.IamEntityIds.WalletAddressId)({userId:tu.text("user_id").notNull().$type().references(()=>tl.user.id,{onDelete:"cascade"}),address:tu.text("address").notNull(),chainId:tc.integer("chain_id").notNull(),isPrimary:td.boolean("is_primary").notNull().default(!1)},e=>[tp.uniqueIndex("wallet_address_user_chain_id_unique_idx").on(e.userId,e.address,e.chainId)]);e.s(["walletAddress",0,tf],818223),e.s([],355721);let th=n.relations(er,({one:e})=>({organization:e(t.organization,{fields:[er.organizationId],references:[t.organization.id]}),user:e(i.user,{fields:[er.userId],references:[i.user.id],relationName:"memberUser"}),invitedByUser:e(i.user,{fields:[er.invitedBy],references:[i.user.id],relationName:"invitedByUser"})})),tm=n.relations(R,({one:e})=>({user:e(i.user,{fields:[R.userId],references:[i.user.id]})})),tg=n.relations(e1,({one:e})=>({organization:e(t.organization,{fields:[e1.organizationId],references:[t.organization.id]})})),ty=n.relations(r.team,({one:e,many:i})=>({organization:e(t.organization,{fields:[r.team.organizationId],references:[t.organization.id]}),members:i(e8)})),tv=n.relations(e8,({one:e})=>({team:e(r.team,{fields:[e8.teamId],references:[r.team.id]}),user:e(i.user,{fields:[e8.userId],references:[i.user.id]})})),tb=n.relations(es,({one:e})=>({user:e(i.user,{fields:[es.userId],references:[i.user.id]})})),tA=n.relations(ep,({one:e})=>({user:e(i.user,{fields:[ep.userId],references:[i.user.id]})})),tw=n.relations(ey,({one:e})=>({user:e(i.user,{fields:[ey.userId],references:[i.user.id]})})),t_=n.relations(eZ,({one:e})=>({user:e(i.user,{fields:[eZ.userId],references:[i.user.id]}),organization:e(t.organization,{fields:[eZ.organizationId],references:[t.organization.id]})})),tS=n.relations(p,({one:e})=>({user:e(i.user,{fields:[p.userId],references:[i.user.id]})})),tE=n.relations(S,({one:e})=>({user:e(i.user,{fields:[S.userId],references:[i.user.id]})})),tT=n.relations(q,({one:e})=>({organization:e(t.organization,{fields:[q.organizationId],references:[t.organization.id]}),inviter:e(i.user,{fields:[q.inviterId],references:[i.user.id]})})),tI=n.relations(eO,({one:e})=>({user:e(i.user,{fields:[eO.userId],references:[i.user.id]})})),tx=n.relations(eq,({one:e})=>({user:e(i.user,{fields:[eq.userId],references:[i.user.id]}),activeOrganization:e(t.organization,{fields:[eq.activeOrganizationId],references:[t.organization.id]}),impersonator:e(i.user,{fields:[eq.impersonatedBy],references:[i.user.id],relationName:"impersonatedSessions"})})),tO=n.relations(tt,({one:e})=>({user:e(i.user,{fields:[tt.userId],references:[i.user.id]})})),tC=n.relations(i.user,({many:e})=>({memberships:e(er,{relationName:"memberUser"}),ownedOrganizations:e(t.organization),teamMemberships:e(e8),invitationsSent:e(er,{relationName:"invitedByUser"}),wallets:e(tf),accounts:e(p),sessions:e(eq),passkeys:e(eO),oauthApplications:e(ep),impersonatedSessions:e(eq,{relationName:"impersonatedSessions"})})),tk=n.relations(t.organization,({many:e,one:n})=>({owner:n(i.user,{fields:[t.organization.ownerUserId],references:[i.user.id]}),members:e(er),teams:e(r.team),subscriptions:e(e1)})),tN=n.relations(tf,({one:e})=>({user:e(i.user,{fields:[tf.userId],references:[i.user.id]})})),tR=n.relations(eA,({one:e})=>({organization:e(t.organization,{fields:[eA.organizationId],references:[t.organization.id]})}));e.s(["accountRelations",0,tS,"apiKeyRelations",0,tE,"deviceCodeRelations",0,tm,"invitationRelations",0,tT,"memberRelations",0,th,"oauthAccessTokenRelations",0,tb,"oauthApplicationRelations",0,tA,"oauthConsentRelations",0,tw,"organizationRelations",0,tk,"organizationRoleRelations",0,tR,"passkeyRelations",0,tI,"sessionRelations",0,tx,"ssoProviderRelations",0,t_,"subscriptionRelations",0,tg,"teamMemberRelations",0,tv,"teamRelations",0,ty,"twoFactorRelations",0,tO,"userRelations",0,tC,"walletAddressRelations",0,tN],422010),e.s([],30932)},145890,e=>{"use strict";e.i(30932);var t=e.i(422010);e.i(355721);var r=e.i(341500),i=e.i(429238),n=e.i(642622),o=e.i(446429),a=e.i(52153),s=e.i(277113),l=e.i(238966),u=e.i(189409),c=e.i(53784),d=e.i(398941),p=e.i(411772),f=e.i(398427),h=e.i(536240),m=e.i(64237),g=e.i(724462),y=e.i(259187),v=e.i(1029),b=e.i(415255),A=e.i(601464),w=e.i(196699),_=e.i(679402),S=e.i(818223);e.s(["account",()=>o.account,"apiKey",()=>a.apiKey,"deviceCode",()=>s.deviceCode,"deviceCodeStatusPgEnum",()=>s.deviceCodeStatusPgEnum,"invitation",()=>l.invitation,"invitationStatusEnum",()=>l.invitationStatusEnum,"jwks",()=>u.jwks,"member",()=>c.member,"memberRoleEnum",()=>c.memberRoleEnum,"memberStatusEnum",()=>c.memberStatusEnum,"oauthAccessToken",()=>d.oauthAccessToken,"oauthApplication",()=>p.oauthApplication,"oauthConsent",()=>f.oauthConsent,"organization",()=>r.organization,"organizationRole",()=>h.organizationRole,"organizationTypePgEnum",()=>r.organizationTypePgEnum,"passkey",()=>m.passkey,"rateLimit",()=>g.rateLimit,"session",()=>y.session,"ssoProvider",()=>v.ssoProvider,"subscription",()=>b.subscription,"subscriptionStatusPgEnum",()=>r.subscriptionStatusPgEnum,"subscriptionTierPgEnum",()=>r.subscriptionTierPgEnum,"team",()=>i.team,"teamMember",()=>A.teamMember,"twoFactor",()=>w.twoFactor,"user",()=>n.user,"userGenderPgEnum",()=>n.userGenderPgEnum,"userRolePgEnum",()=>n.userRolePgEnum,"verification",()=>_.verification,"walletAddress",()=>S.walletAddress],247808),e.i(247808),e.s(["account",()=>o.account,"accountRelations",()=>t.accountRelations,"apiKey",()=>a.apiKey,"apiKeyRelations",()=>t.apiKeyRelations,"deviceCode",()=>s.deviceCode,"deviceCodeRelations",()=>t.deviceCodeRelations,"deviceCodeStatusPgEnum",()=>s.deviceCodeStatusPgEnum,"invitation",()=>l.invitation,"invitationRelations",()=>t.invitationRelations,"invitationStatusEnum",()=>l.invitationStatusEnum,"jwks",()=>u.jwks,"member",()=>c.member,"memberRelations",()=>t.memberRelations,"memberRoleEnum",()=>c.memberRoleEnum,"memberStatusEnum",()=>c.memberStatusEnum,"oauthAccessToken",()=>d.oauthAccessToken,"oauthAccessTokenRelations",()=>t.oauthAccessTokenRelations,"oauthApplication",()=>p.oauthApplication,"oauthApplicationRelations",()=>t.oauthApplicationRelations,"oauthConsent",()=>f.oauthConsent,"oauthConsentRelations",()=>t.oauthConsentRelations,"organization",()=>r.organization,"organizationRelations",()=>t.organizationRelations,"organizationRole",()=>h.organizationRole,"organizationRoleRelations",()=>t.organizationRoleRelations,"organizationTypePgEnum",()=>r.organizationTypePgEnum,"passkey",()=>m.passkey,"passkeyRelations",()=>t.passkeyRelations,"rateLimit",()=>g.rateLimit,"session",()=>y.session,"sessionRelations",()=>t.sessionRelations,"ssoProvider",()=>v.ssoProvider,"ssoProviderRelations",()=>t.ssoProviderRelations,"subscription",()=>b.subscription,"subscriptionRelations",()=>t.subscriptionRelations,"subscriptionStatusPgEnum",()=>r.subscriptionStatusPgEnum,"subscriptionTierPgEnum",()=>r.subscriptionTierPgEnum,"team",()=>i.team,"teamMember",()=>A.teamMember,"teamMemberRelations",()=>t.teamMemberRelations,"teamRelations",()=>t.teamRelations,"twoFactor",()=>w.twoFactor,"twoFactorRelations",()=>t.twoFactorRelations,"user",()=>n.user,"userGenderPgEnum",()=>n.userGenderPgEnum,"userRelations",()=>t.userRelations,"userRolePgEnum",()=>n.userRolePgEnum,"verification",()=>_.verification,"walletAddress",()=>S.walletAddress,"walletAddressRelations",()=>t.walletAddressRelations],145890)},886899,e=>{"use strict";var t,r=e.i(78244);e.i(30932);var i=e.i(145890),n=e.i(777865),o=e.i(405614),a=e.i(347064);!function(e){let{serviceEffect:t}=r.Db.make(i);class s extends n.Tag("@beep/files-infra/IamDb")(){static Live=a.scoped(this,t.pipe(o.orDie))}e.IamDb=s}(t||(t={})),e.s(["IamDb",()=>t])},140104,e=>{"use strict";e.i(30932),e.s([])},602999,e=>{"use strict";var t=e.i(145890);e.s(["IamDbSchema",0,t])},154456,896101,408972,338270,530501,172381,464589,130717,282318,339127,362160,e=>{"use strict";function t(){let e="undefined"!=typeof globalThis&&globalThis.crypto;if(e&&"object"==typeof e.subtle&&null!=e.subtle)return e.subtle;throw Error("crypto.subtle must be defined")}e.s(["getWebcryptoSubtle",()=>t],896101);let r=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function i(){return{root:{key:""},static:new r}}function n(e){return e.split("/").filter(Boolean)}function o(e,t){let i=new r;for(let[r,n]of t){let t=r<0?e.slice(-1*r).join("/"):e[r];if("string"==typeof n)i[n]=t;else{let e=t.match(n);if(e)for(let t in e.groups)i[t]=e.groups[t]}}return i}function a(e,t="",i,o){let l=n(i),u=e.root,c=0,d=[];for(let e=0;e<l.length;e++){let t=l[e];if(t.startsWith("**")){u.wildcard||(u.wildcard={key:"**"}),u=u.wildcard,d.push([-e,t.split(":")[1]||"_",2===t.length]);break}if("*"===t||t.includes(":")){u.param||(u.param={key:"*"}),u=u.param;let r="*"===t;d.push([e,r?`_${c++}`:s(t),r]);continue}let i=u.static?.[t];if(i)u=i;else{let e={key:t};u.static||(u.static=new r),u.static[t]=e,u=e}}let p=d.length>0;u.methods||(u.methods=new r),u.methods[t]||(u.methods[t]=[]),u.methods[t].push({data:o||null,paramsMap:p?d:void 0}),p||(e.static[i]=u)}function s(e){if(!e.includes(":",1))return e.slice(1);let t=e.replace(/:(\w+)/g,(e,t)=>`(?<${t}>\\w+)`);return RegExp(`^${t}$`)}function l(e,t="",r,i){"/"===r[r.length-1]&&(r=r.slice(0,-1));let a=e.static[r];if(a&&a.methods){let e=a.methods[t]||a.methods[""];if(void 0!==e)return e[0]}let s=n(r),c=u(e,e.root,t,s,0)?.[0];if(void 0!==c)return i?.params===!1?c:{data:c.data,params:c.paramsMap?o(s,c.paramsMap):void 0}}function u(e,t,r,i,n){if(n===i.length){if(t.methods){let e=t.methods[r]||t.methods[""];if(e)return e}if(t.param&&t.param.methods){let e=t.param.methods[r]||t.param.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}if(t.wildcard&&t.wildcard.methods){let e=t.wildcard.methods[r]||t.wildcard.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}return}let o=i[n];if(t.static){let a=t.static[o];if(a){let t=u(e,a,r,i,n+1);if(t)return t}}if(t.param){let o=u(e,t.param,r,i,n+1);if(o)return o}if(t.wildcard&&t.wildcard.methods)return t.wildcard.methods[r]||t.wildcard.methods[""]}function c(e,t="",r,i){"/"===r[r.length-1]&&(r=r.slice(0,-1));let a=n(r),s=d(e,e.root,t,a,0);return i?.params===!1?s:s.map(e=>({data:e.data,params:e.paramsMap?o(a,e.paramsMap):void 0}))}function d(e,t,r,i,n,o=[]){let a=i[n];if(t.wildcard&&t.wildcard.methods){let e=t.wildcard.methods[r]||t.wildcard.methods[""];e&&o.push(...e)}if(t.param&&(d(e,t.param,r,i,n+1,o),n===i.length&&t.param.methods)){let e=t.param.methods[r]||t.param.methods[""];e&&o.push(...e)}let s=t.static?.[a];if(s&&d(e,s,r,i,n+1,o),n===i.length&&t.methods){let e=t.methods[r]||t.methods[""];e&&o.push(...e)}return o}var p=Object.defineProperty,f=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})};function h(){let e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===e?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(e,"writable")?e.writable:void 0!==e.set}function m(e){let t=e.split("\n    at ");return t.length<=1?e:(t.splice(1,1),t.join("\n    at "))}var g={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511},y=function(e,t){class r extends e{#e;constructor(...e){if(h()){const t=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...e),Error.stackTraceLimit=t}else super(...e);const t=Error().stack;t&&(this.#e=m(t.replace(/^Error/,this.name)))}get errorStack(){return this.#e}}return Object.defineProperty(r.prototype,"constructor",{get:()=>t,enumerable:!1,configurable:!0}),r}(class extends Error{constructor(e="INTERNAL_SERVER_ERROR",t,r={},i="number"==typeof e?e:g[e]){super(t?.message,t?.cause?{cause:t.cause}:void 0),this.status=e,this.body=t,this.headers=r,this.statusCode=i,this.name="APIError",this.status=e,this.headers=r,this.statusCode=i,this.body=t?{code:t?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...t}:void 0}},Error);async function v(e){let t=e.headers.get("content-type")||"";if(e.body){if(t.includes("application/json"))return await e.json();if(t.includes("application/x-www-form-urlencoded")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e.toString()}),r}if(t.includes("multipart/form-data")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e}),r}return t.includes("text/plain")?await e.text():t.includes("application/octet-stream")?await e.arrayBuffer():t.includes("application/pdf")||t.includes("image/")||t.includes("video/")?await e.blob():t.includes("application/stream")||e.body instanceof ReadableStream?e.body:await e.text()}}function b(e){return e instanceof y||e?.name==="APIError"}function A(e){try{return e.includes("%")?decodeURIComponent(e):e}catch{return e}}function w(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function _(e,t,r){let i=0,n=new WeakMap;return JSON.stringify(e,(e,r)=>{if("bigint"==typeof r)return r.toString();if("object"==typeof r&&null!==r){if(n.has(r))return`[Circular ref-${n.get(r)}]`;n.set(r,i++)}return t?t(e,r):r},r)}function S(e){return!!e&&"object"==typeof e&&"_flag"in e&&"json"===e._flag}function E(e,t){if(e instanceof Response)return t?.headers instanceof Headers&&t.headers.forEach((t,r)=>{e.headers.set(r,t)}),e;if(S(e)){let r=e.body,i=e.routerResponse;if(i instanceof Response)return i;let n=new Headers({...i?.headers,...e.headers,...t?.headers,"Content-Type":"application/json"});return new Response(JSON.stringify(r),{...i,headers:n,status:e.status??t?.status??i?.status,statusText:t?.statusText??i?.statusText})}if(b(e))return E(e.body,{status:t?.status??e.statusCode,statusText:e.status.toString(),headers:t?.headers||e.headers});let r=e,i=new Headers(t?.headers);return e?"string"==typeof e?(r=e,i.set("Content-Type","text/plain")):e instanceof ArrayBuffer||ArrayBuffer.isView(e)?(r=e,i.set("Content-Type","application/octet-stream")):e instanceof Blob?(r=e,i.set("Content-Type",e.type||"application/octet-stream")):e instanceof FormData?r=e:e instanceof URLSearchParams?(r=e,i.set("Content-Type","application/x-www-form-urlencoded")):e instanceof ReadableStream?(r=e,i.set("Content-Type","application/octet-stream")):w(e)&&(r=_(e),i.set("Content-Type","application/json")):(null===e&&(r=JSON.stringify(null)),i.set("content-type","application/json")),new Response(r,{...t,headers:i})}async function T(e,t={}){let r={body:t.body,query:t.query};if(e.body){let i=await e.body["~standard"].validate(t.body);if(i.issues)return{data:null,error:I(i.issues,"body")};r.body=i.value}if(e.query){let i=await e.query["~standard"].validate(t.query);if(i.issues)return{data:null,error:I(i.issues,"query")};r.query=i.value}return e.requireHeaders&&!t.headers?{data:null,error:{message:"Headers is required"}}:e.requireRequest&&!t.request?{data:null,error:{message:"Request is required"}}:{data:r,error:null}}function I(e,t){let r=[];for(let t of e){let e=t.message;r.push(e)}return{message:`Invalid ${t} parameters`}}var x={name:"HMAC",hash:"SHA-256"},O=async e=>{let r="string"==typeof e?new TextEncoder().encode(e):e;return await t().importKey("raw",r,x,!1,["sign","verify"])},C=async(e,r,i)=>{try{let n=atob(e),o=new Uint8Array(n.length);for(let e=0,t=n.length;e<t;e++)o[e]=n.charCodeAt(e);return await t().verify(x,i,o,new TextEncoder().encode(r))}catch(e){return!1}},k=async(e,r)=>{let i=await O(r);return btoa(String.fromCharCode(...new Uint8Array(await t().sign(x.name,i,new TextEncoder().encode(e)))))},N=async(e,t)=>{let r=await k(e,t);return encodeURIComponent(e=`${e}.${r}`)},R=(e,t)=>{let r=e;if(t)if("secure"===t)r="__Secure-"+e;else{if("host"!==t)return;r="__Host-"+e}return r};function P(e){if("string"!=typeof e)throw TypeError("argument str must be a string");let t=new Map,r=0;for(;r<e.length;){let i=e.indexOf("=",r);if(-1===i)break;let n=e.indexOf(";",r);if(-1===n)n=e.length;else if(n<i){r=e.lastIndexOf(";",i-1)+1;continue}let o=e.slice(r,i).trim();if(!t.has(o)){let r=e.slice(i+1,n).trim();34===r.codePointAt(0)&&(r=r.slice(1,-1)),t.set(o,A(r))}r=n+1}return t}var D=(e,t,r={})=>{let i;if(i=r?.prefix==="secure"?`__Secure-${e}=${t}`:r?.prefix==="host"?`__Host-${e}=${t}`:`${e}=${t}`,e.startsWith("__Secure-")&&!r.secure&&(r.secure=!0),e.startsWith("__Host-")&&(r.secure||(r.secure=!0),"/"!==r.path&&(r.path="/"),r.domain&&(r.domain=void 0)),r&&"number"==typeof r.maxAge&&r.maxAge>=0){if(r.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");i+=`; Max-Age=${Math.floor(r.maxAge)}`}if(r.domain&&"host"!==r.prefix&&(i+=`; Domain=${r.domain}`),r.path&&(i+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");i+=`; Expires=${r.expires.toUTCString()}`}return r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite&&(i+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.partitioned&&(r.secure||(r.secure=!0),i+="; Partitioned"),i},U=(e,t,r)=>D(e,t=encodeURIComponent(t),r),L=async(e,t,r,i)=>D(e,t=await N(t,r),i),K=async(e,{options:t,path:r})=>{let i=new Headers,{data:n,error:o}=await T(t,e);if(o)throw new y(400,{message:o.message,code:"VALIDATION_ERROR"});let a="headers"in e?e.headers instanceof Headers?e.headers:new Headers(e.headers):"request"in e&&e.request instanceof Request?e.request.headers:null,s=a?.get("cookie"),l=s?P(s):void 0,u={...e,body:n.body,query:n.query,path:e.path||r,context:"context"in e&&e.context?e.context:{},returned:void 0,headers:e?.headers,request:e?.request,params:"params"in e?e.params:void 0,method:e.method,setHeader:(e,t)=>{i.set(e,t)},getHeader:e=>a?a.get(e):null,getCookie:(e,t)=>{let r=R(e,t);return r&&l?.get(r)||null},getSignedCookie:async(e,t,r)=>{let i=R(e,r);if(!i)return null;let n=l?.get(i);if(!n)return null;let o=n.lastIndexOf(".");if(o<1)return null;let a=n.substring(0,o),s=n.substring(o+1);if(44!==s.length||!s.endsWith("="))return null;let u=await O(t);return!!await C(s,a,u)&&a},setCookie:(e,t,r)=>{let n=U(e,t,r);return i.append("set-cookie",n),n},setSignedCookie:async(e,t,r,n)=>{let o=await L(e,t,r,n);return i.append("set-cookie",o),o},redirect:e=>(i.set("location",e),new y("FOUND",void 0,i)),error:(e,t,r)=>new y(e,t,r),json:(t,r)=>e.asResponse?{body:r?.body||t,routerResponse:r,_flag:"json"}:t,responseHeaders:i};for(let e of t.use||[]){let t=await e({...u,returnHeaders:!0,asResponse:!1});t.response&&Object.assign(u.context,t.response),t.headers&&t.headers.forEach((e,t)=>{u.responseHeaders.set(t,e)})}return u};function M(e,t){let r=async r=>{let i=r,n="function"==typeof e?e:t,o="function"==typeof e?{}:e,a=await K(i,{options:o,path:"/"});if(!n)throw Error("handler must be defined");let s=await n(a),l=a.responseHeaders;return i.returnHeaders?{headers:l,response:s}:s};return r.options="function"==typeof e?{}:e,r}M.create=e=>function(t,r){if("function"==typeof t)return M({use:e?.use},t);if(!r)throw Error("Middleware handler is required");return M({...t,method:"*",use:[...e?.use||[],...t.use||[]]},r)};var B=(e,t,r)=>{let i=async(...i)=>{let n=i[0]||{},o=await K(n,{options:t,path:e}),a=await r(o).catch(async e=>{if(b(e)){let r=t.onAPIError;if(r&&await r(e),n.asResponse)return e}throw e}),s=o.responseHeaders;return n.asResponse?E(a,{headers:s}):n.returnHeaders?{headers:s,response:a}:a};return i.options=t,i.path=e,i};function j(e,t,r){function i(r,i){var n;for(let o in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(n=r._zod).traits??(n.traits=new Set),r._zod.traits.add(e),t(r,i),a.prototype)o in r||Object.defineProperty(r,o,{value:a.prototype[o].bind(r)});r._zod.constr=a,r._zod.def=i}let n=r?.Parent??Object;class o extends n{}function a(e){var t;let n=r?.Parent?new o:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}B.create=e=>(t,r,i)=>B(t,{...r,use:[...r?.use||[],...e?.use||[]]},i),Object.freeze({status:"aborted"}),Symbol("zod_brand");var $=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},z={};function F(e){return e&&Object.assign(z,e),z}var q={};function V(e){return e}function H(e){return e}function G(e){}function W(e){throw Error()}function Z(e){}function J(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function Q(e,t="|"){return e.map(e=>ew(e)).join(t)}function Y(e,t){return"bigint"==typeof t?t.toString():t}function X(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ee(e){return null==e}function et(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function er(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}function ei(e,t,r){Object.defineProperty(e,t,{get(){{let i=r();return e[t]=i,i}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function en(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function eo(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function ea(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function es(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function el(e){return JSON.stringify(e)}f(q,{BIGINT_FORMAT_RANGES:()=>eE,Class:()=>eB,NUMBER_FORMAT_RANGES:()=>eS,aborted:()=>eN,allowsEval:()=>ed,assert:()=>Z,assertEqual:()=>V,assertIs:()=>G,assertNever:()=>W,assertNotEqual:()=>H,assignProp:()=>en,cached:()=>X,captureStackTrace:()=>eu,cleanEnum:()=>eM,cleanRegex:()=>et,clone:()=>ev,createTransparentProxy:()=>eA,defineLazy:()=>ei,esc:()=>el,escapeRegex:()=>ey,extend:()=>ex,finalizeIssue:()=>eD,floatSafeRemainder:()=>er,getElementAtPath:()=>eo,getEnumValues:()=>J,getLengthableOrigin:()=>eL,getParsedType:()=>eh,getSizableOrigin:()=>eU,isObject:()=>ec,isPlainObject:()=>ep,issue:()=>eK,joinValues:()=>Q,jsonStringifyReplacer:()=>Y,merge:()=>eO,normalizeParams:()=>eb,nullish:()=>ee,numKeys:()=>ef,omit:()=>eI,optionalKeys:()=>e_,partial:()=>eC,pick:()=>eT,prefixIssues:()=>eR,primitiveTypes:()=>eg,promiseAllObject:()=>ea,propertyKeyTypes:()=>em,randomString:()=>es,required:()=>ek,stringifyPrimitive:()=>ew,unwrapMessage:()=>eP});var eu=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ec(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}var ed=X(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function ep(e){if(!1===ec(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==ec(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function ef(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var eh=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},em=new Set(["string","number","symbol"]),eg=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ey(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ev(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function eb(e){let t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return(delete t.message,"string"==typeof t.error)?{...t,error:()=>t.error}:t}function eA(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,o)=>(t??(t=e()),Reflect.set(t,i,n,o)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function ew(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function e_(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}var eS={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},eE={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function eT(e,t){let r={},i=e._zod.def;for(let e in t){if(!(e in i.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&(r[e]=i.shape[e])}return ev(e,{...e._zod.def,shape:r,checks:[]})}function eI(e,t){let r={...e._zod.def.shape},i=e._zod.def;for(let e in t){if(!(e in i.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return ev(e,{...e._zod.def,shape:r,checks:[]})}function ex(e,t){if(!ep(t))throw Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return en(this,"shape",r),r},checks:[]};return ev(e,r)}function eO(e,t){return ev(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return en(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function eC(e,t,r){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return ev(t,{...t._zod.def,shape:n,checks:[]})}function ek(e,t,r){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return ev(t,{...t._zod.def,shape:n,checks:[]})}function eN(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function eR(e,t){return t.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(e),t})}function eP(e){return"string"==typeof e?e:e?.message}function eD(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=eP(e.inst?._zod.def?.error?.(e))??eP(t?.error?.(e))??eP(r.customError?.(e))??eP(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function eU(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function eL(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function eK(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function eM(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var eB=class{constructor(...e){}},ej=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,Y,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},e$=j("$ZodError",ej),ez=j("$ZodError",ej,{Parent:Error});function eF(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}function eq(e,t){let r=t||function(e){return e.message},i={_errors:[]},n=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>n({issues:e}));else if("invalid_key"===t.code)n({issues:t.issues});else if("invalid_element"===t.code)n({issues:t.issues});else if(0===t.path.length)i._errors.push(r(t));else{let e=i,n=0;for(;n<t.path.length;){let i=t.path[n];n===t.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(r(t))):e[i]=e[i]||{_errors:[]},e=e[i],n++}}};return n(e),i}var eV=e=>(t,r,i,n)=>{let o=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new $;if(a.issues.length){let t=new(n?.Err??e)(a.issues.map(e=>eD(e,o,F())));throw eu(t,n?.callee),t}return a.value},eH=e=>async(t,r,i,n)=>{let o=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){let t=new(n?.Err??e)(a.issues.map(e=>eD(e,o,F())));throw eu(t,n?.callee),t}return a.value},eG=e=>(t,r,i)=>{let n=i?{...i,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},n);if(o instanceof Promise)throw new $;return o.issues.length?{success:!1,error:new(e??e$)(o.issues.map(e=>eD(e,n,F())))}:{success:!0,data:o.value}},eW=eG(ez),eZ=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},n);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>eD(e,n,F())))}:{success:!0,data:o.value}},eJ=eZ(ez),eQ=j("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),eY=j("$ZodCheckMaxLength",(e,t)=>{var r;eQ.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ee(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=eL(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),eX=j("$ZodCheckMinLength",(e,t)=>{var r;eQ.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ee(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=eL(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),e0=j("$ZodCheckLengthEquals",(e,t)=>{var r;eQ.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ee(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let o=eL(i),a=n>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),e1=j("$ZodCheckOverwrite",(e,t)=>{eQ.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}),e2=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}},e4={major:4,minor:0,patch:0},e3=j("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=e4;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,n=eN(e);for(let o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(n)continue;let t=e.issues.length,a=o._zod.check(e);if(a instanceof Promise&&r?.async===!1)throw new $;if(i||a instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(n||(n=eN(e,t)))});else{if(e.issues.length===t)continue;n||(n=eN(e,t))}}return i?i.then(()=>e):e};e._zod.run=(r,n)=>{let o=e._zod.parse(r,n);if(o instanceof Promise){if(!1===n.async)throw new $;return o.then(e=>t(e,i,n))}return t(o,i,n)}}e["~standard"]={validate:t=>{try{let r=eW(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return eJ(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),e5=j("$ZodUnknown",(e,t)=>{e3.init(e,t),e._zod.parse=e=>e}),e6=j("$ZodNever",(e,t)=>{e3.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function e8(e,t,r){e.issues.length&&t.issues.push(...eR(r,e.issues)),t.value[r]=e.value}var e9=j("$ZodArray",(e,t)=>{e3.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let o=[];for(let e=0;e<n.length;e++){let a=n[e],s=t.element._zod.run({value:a,issues:[]},i);s instanceof Promise?o.push(s.then(t=>e8(t,r,e))):e8(s,r,e)}return o.length?Promise.all(o).then(()=>r):r}});function e7(e,t,r){e.issues.length&&t.issues.push(...eR(r,e.issues)),t.value[r]=e.value}function te(e,t,r,i){e.issues.length?void 0===i[r]?r in i?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...eR(r,e.issues)):void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}var tt=j("$ZodObject",(e,t)=>{let r,i;e3.init(e,t);let n=X(()=>{let e=Object.keys(t.shape);for(let r of e)if(!(t.shape[r]instanceof e3))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=e_(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});ei(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let o=e=>{let t=new e2(["shape","payload","ctx"]),r=n.value,i=e=>{let t=el(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let o=Object.create(null),a=0;for(let e of r.keys)o[e]=`key_${a++}`;for(let e of(t.write("const newResult = {}"),r.keys))if(r.optionalKeys.has(e)){let r=o[e];t.write(`const ${r} = ${i(e)};`);let n=el(e);t.write(`
        if (${r}.issues.length) {
          if (input[${n}] === undefined) {
            if (${n} in input) {
              newResult[${n}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${r}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${n}, ...iss.path] : [${n}],
              }))
            );
          }
        } else if (${r}.value === undefined) {
          if (${n} in input) newResult[${n}] = undefined;
        } else {
          newResult[${n}] = ${r}.value;
        }
        `)}else{let r=o[e];t.write(`const ${r} = ${i(e)};`),t.write(`
          if (${r}.issues.length) payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${el(e)}, ...iss.path] : [${el(e)}]
          })));`),t.write(`newResult[${el(e)}] = ${r}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)},a=ec,s=!z.jitless,l=ed,u=s&&l.value,c=t.catchall;e._zod.parse=(l,d)=>{i??(i=n.value);let p=l.value;if(!a(p))return l.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),l;let f=[];if(s&&u&&d?.async===!1&&!0!==d.jitless)r||(r=o(t.shape)),l=r(l,d);else{l.value={};let e=i.shape;for(let t of i.keys){let r=e[t],i=r._zod.run({value:p[t],issues:[]},d),n="optional"===r._zod.optin&&"optional"===r._zod.optout;i instanceof Promise?f.push(i.then(e=>n?te(e,l,t,p):e7(e,l,t))):n?te(i,l,t,p):e7(i,l,t)}}if(!c)return f.length?Promise.all(f).then(()=>l):l;let h=[],m=i.keySet,g=c._zod,y=g.def.type;for(let e of Object.keys(p)){if(m.has(e))continue;if("never"===y){h.push(e);continue}let t=g.run({value:p[e],issues:[]},d);t instanceof Promise?f.push(t.then(t=>e7(t,l,e))):e7(t,l,e)}return(h.length&&l.issues.push({code:"unrecognized_keys",keys:h,input:p,inst:e}),f.length)?Promise.all(f).then(()=>l):l}});function tr(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>eD(e,i,F())))}),t}var ti=j("$ZodUnion",(e,t)=>{e3.init(e,t),ei(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ei(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ei(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ei(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>et(e.source)).join("|")})$`)}}),e._zod.parse=(r,i)=>{let n=!1,o=[];for(let e of t.options){let t=e._zod.run({value:r.value,issues:[]},i);if(t instanceof Promise)o.push(t),n=!0;else{if(0===t.issues.length)return t;o.push(t)}}return n?Promise.all(o).then(t=>tr(t,r,e,i)):tr(o,r,e,i)}}),tn=j("$ZodIntersection",(e,t)=>{e3.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),o=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||o instanceof Promise?Promise.all([n,o]).then(([t,r])=>ta(e,t,r)):ta(e,n,o)}});function to(e,t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ep(e)&&ep(t)){let r=Object.keys(t),i=Object.keys(e).filter(e=>-1!==r.indexOf(e)),n={...e,...t};for(let r of i){let i=to(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n[r]=i.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let i=0;i<e.length;i++){let n=to(e[i],t[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};r.push(n.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function ta(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),eN(e))return e;let i=to(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}var ts=j("$ZodEnum",(e,t)=>{e3.init(e,t);let r=J(t.entries);e._zod.values=new Set(r),e._zod.pattern=RegExp(`^(${r.filter(e=>em.has(typeof e)).map(e=>"string"==typeof e?ey(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let n=t.value;return e._zod.values.has(n)||t.issues.push({code:"invalid_value",values:r,input:n,inst:e}),t}}),tl=j("$ZodTransform",(e,t)=>{e3.init(e,t),e._zod.parse=(e,r)=>{let i=t.transform(e.value,e);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(t=>(e.value=t,e));if(i instanceof Promise)throw new $;return e.value=i,e}}),tu=j("$ZodOptional",(e,t)=>{e3.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ei(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ei(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${et(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,r):void 0===e.value?e:t.innerType._zod.run(e,r)}),tc=j("$ZodNullable",(e,t)=>{e3.init(e,t),ei(e._zod,"optin",()=>t.innerType._zod.optin),ei(e._zod,"optout",()=>t.innerType._zod.optout),ei(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${et(e.source)}|null)$`):void 0}),ei(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),td=j("$ZodDefault",(e,t)=>{e3.init(e,t),e._zod.optin="optional",ei(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>tp(e,t)):tp(i,t)}});function tp(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}var tf=j("$ZodPrefault",(e,t)=>{e3.init(e,t),e._zod.optin="optional",ei(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),th=j("$ZodNonOptional",(e,t)=>{e3.init(e,t),ei(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>tm(t,e)):tm(n,e)}});function tm(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var tg=j("$ZodCatch",(e,t)=>{e3.init(e,t),e._zod.optin="optional",ei(e._zod,"optout",()=>t.innerType._zod.optout),ei(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>eD(e,r,F()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>eD(e,r,F()))},input:e.value}),e.issues=[]),e)}}),ty=j("$ZodPipe",(e,t)=>{e3.init(e,t),ei(e._zod,"values",()=>t.in._zod.values),ei(e._zod,"optin",()=>t.in._zod.optin),ei(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(e,r)=>{let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>tv(e,t,r)):tv(i,t,r)}});function tv(e,t,r){return eN(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}var tb=j("$ZodReadonly",(e,t)=>{e3.init(e,t),ei(e._zod,"propValues",()=>t.innerType._zod.propValues),ei(e._zod,"values",()=>t.innerType._zod.values),ei(e._zod,"optin",()=>t.innerType._zod.optin),ei(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(tA):tA(i)}});function tA(e){return e.value=Object.freeze(e.value),e}var tw=j("$ZodCustom",(e,t)=>{eQ.init(e,t),e3.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>t_(t,r,i,e));t_(n,r,i,e)}});function t_(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(eK(e))}}Symbol("ZodOutput"),Symbol("ZodInput");var tS=class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}},tE=function(){return new tS}();function tT(e){return new e({type:"unknown"})}function tI(e,t){return new e({type:"never",...eb(t)})}function tx(e,t){return new eY({check:"max_length",...eb(t),maximum:e})}function tO(e,t){return new eX({check:"min_length",...eb(t),minimum:e})}function tC(e,t){return new e0({check:"length_equals",...eb(t),length:e})}function tk(e){return new e1({check:"overwrite",tx:e})}function tN(e,t,r){return new e({type:"array",element:t,...eb(r)})}function tR(e,t,r){return new e({type:"custom",check:"custom",fn:t,...eb(r)})}var tP=(e,t)=>{e$.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>eq(e,t)},flatten:{value:t=>eF(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})};j("ZodError",tP);var tD=j("ZodError",tP,{Parent:Error}),tU=eV(tD),tL=eH(tD),tK=eG(tD),tM=eZ(tD),tB=j("ZodType",(e,t)=>(e3.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>ev(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>tU(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>tK(e,t,r),e.parseAsync=async(t,r)=>tL(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>tM(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(ru(t,r)),e.superRefine=t=>e.check(rc(t)),e.overwrite=t=>e.check(tk(t)),e.optional=()=>t2(e),e.nullable=()=>t3(e),e.nullish=()=>t2(t3(e)),e.nonoptional=t=>re(e,t),e.array=()=>tV(e),e.or=t=>tW([e,t]),e.and=t=>tJ(e,t),e.transform=t=>rn(e,t0(t)),e.default=t=>t6(e,t),e.prefault=t=>t9(e,t),e.catch=t=>rr(e,t),e.pipe=t=>rn(e,t),e.readonly=()=>ra(e),e.describe=t=>{let r=e.clone();return tE.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>tE.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return tE.get(e);let r=e.clone();return tE.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),tj=j("ZodUnknown",(e,t)=>{e5.init(e,t),tB.init(e,t)});function t$(){return tT(tj)}var tz=j("ZodNever",(e,t)=>{e6.init(e,t),tB.init(e,t)});function tF(e){return tI(tz,e)}var tq=j("ZodArray",(e,t)=>{e9.init(e,t),tB.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(tO(t,r)),e.nonempty=t=>e.check(tO(1,t)),e.max=(t,r)=>e.check(tx(t,r)),e.length=(t,r)=>e.check(tC(t,r)),e.unwrap=()=>e.element});function tV(e,t){return tN(tq,e,t)}var tH=j("ZodObject",(e,t)=>{tt.init(e,t),tB.init(e,t),q.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>tY(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:t$()}),e.loose=()=>e.clone({...e._zod.def,catchall:t$()}),e.strict=()=>e.clone({...e._zod.def,catchall:tF()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>q.extend(e,t),e.merge=t=>q.merge(e,t),e.pick=t=>q.pick(e,t),e.omit=t=>q.omit(e,t),e.partial=(...t)=>q.partial(t1,e,t[0]),e.required=(...t)=>q.required(t7,e,t[0])}),tG=j("ZodUnion",(e,t)=>{ti.init(e,t),tB.init(e,t),e.options=t.options});function tW(e,t){return new tG({type:"union",options:e,...q.normalizeParams(t)})}var tZ=j("ZodIntersection",(e,t)=>{tn.init(e,t),tB.init(e,t)});function tJ(e,t){return new tZ({type:"intersection",left:e,right:t})}var tQ=j("ZodEnum",(e,t)=>{ts.init(e,t),tB.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new tQ({...t,checks:[],...q.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new tQ({...t,checks:[],...q.normalizeParams(i),entries:n})}});function tY(e,t){return new tQ({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...q.normalizeParams(t)})}var tX=j("ZodTransform",(e,t)=>{tl.init(e,t),tB.init(e,t),e._zod.parse=(r,i)=>{r.addIssue=i=>{if("string"==typeof i)r.issues.push(q.issue(i,r.value,t));else{let t=i;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=r.value),t.inst??(t.inst=e),t.continue??(t.continue=!0),r.issues.push(q.issue(t))}};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}});function t0(e){return new tX({type:"transform",transform:e})}var t1=j("ZodOptional",(e,t)=>{tu.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType});function t2(e){return new t1({type:"optional",innerType:e})}var t4=j("ZodNullable",(e,t)=>{tc.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType});function t3(e){return new t4({type:"nullable",innerType:e})}var t5=j("ZodDefault",(e,t)=>{td.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function t6(e,t){return new t5({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})}var t8=j("ZodPrefault",(e,t)=>{tf.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType});function t9(e,t){return new t8({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})}var t7=j("ZodNonOptional",(e,t)=>{th.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType});function re(e,t){return new t7({type:"nonoptional",innerType:e,...q.normalizeParams(t)})}var rt=j("ZodCatch",(e,t)=>{tg.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function rr(e,t){return new rt({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}var ri=j("ZodPipe",(e,t)=>{ty.init(e,t),tB.init(e,t),e.in=t.in,e.out=t.out});function rn(e,t){return new ri({type:"pipe",in:e,out:t})}var ro=j("ZodReadonly",(e,t)=>{tb.init(e,t),tB.init(e,t)});function ra(e){return new ro({type:"readonly",innerType:e})}var rs=j("ZodCustom",(e,t)=>{tw.init(e,t),tB.init(e,t)});function rl(e){let t=new eQ({check:"custom"});return t._zod.check=e,t}function ru(e,t={}){return tR(rs,e,t)}function rc(e){let t=rl(r=>(r.addIssue=e=>{if("string"==typeof e)r.issues.push(q.issue(e,r.value,t._zod.def));else{let i=e;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(q.issue(i))}},e(r.value,r)));return t}var rd={};function rp(e){switch(e.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function rf(e){let t=[];return e.metadata?.openapi?.parameters?t.push(...e.metadata.openapi.parameters):e.query instanceof tH&&Object.entries(e.query.shape).forEach(([e,r])=>{r instanceof tH&&t.push({name:e,in:"query",schema:{type:rp(r),..."minLength"in r&&r.minLength?{minLength:r.minLength}:{},description:r.description}})}),t}function rh(e){if(e.metadata?.openapi?.requestBody)return e.metadata.openapi.requestBody;if(e.body&&(e.body instanceof tH||e.body instanceof t1)){let t=e.body.shape;if(!t)return;let r={},i=[];return Object.entries(t).forEach(([e,t])=>{t instanceof tH&&(r[e]={type:rp(t),description:t.description},t instanceof t1||i.push(e))}),{required:!(e.body instanceof t1)&&!!e.body,content:{"application/json":{schema:{type:"object",properties:r,required:i}}}}}}function rm(e){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...e}}async function rg(e,t){let r={schemas:{}};return Object.entries(e).forEach(([e,t])=>{let r=t.options;if(!r.metadata?.SERVER_ONLY&&("GET"===r.method&&(rd[t.path]={get:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:rf(r),responses:rm(r.metadata?.openapi?.responses)}}),"POST"===r.method)){let e=rh(r);rd[t.path]={post:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:rf(r),...e?{requestBody:e}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:rm(r.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:r,security:[{apiKeyCookie:[]}],servers:[{url:t?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:rd}}var ry=(e,t)=>`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(e)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${t?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(t.logo)}`:void 0} ,
	   	theme: ${t?.theme||"saturn"},
        metaData: {
			title: ${t?.title||"Open API Reference"},
			description: ${t?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`,rv=(e,t)=>{if(!t?.openapi?.disabled){let r={path:"/api/reference",...t?.openapi};e.openapi=B(r.path,{method:"GET"},async t=>new Response(ry(await rg(e),r.scalar),{headers:{"Content-Type":"text/html"}}))}let r=i(),n=i();for(let t of Object.values(e))if(!(!t.options||t.options?.metadata?.SERVER_ONLY))for(let e of Array.isArray(t.options?.method)?t.options.method:[t.options?.method])a(r,e,t.path,t);if(t?.routerMiddleware?.length)for(let{path:e,middleware:r}of t.routerMiddleware)a(n,"*",e,r);let o=async e=>{let i=new URL(e.url),o=t?.basePath?i.pathname.split(t.basePath).reduce((e,r,i)=>(0!==i&&(i>1?e.push(`${t.basePath}${r}`):e.push(r)),e),[]).join(""):i.pathname;if(!o?.length)return new Response(null,{status:404,statusText:"Not Found"});let a=l(r,e.method,o);if(!a?.data)return new Response(null,{status:404,statusText:"Not Found"});let s={};i.searchParams.forEach((e,t)=>{t in s?Array.isArray(s[t])?s[t].push(e):s[t]=[s[t],e]:s[t]=e});let u=a.data,d={path:o,method:e.method,headers:e.headers,params:a.params?JSON.parse(JSON.stringify(a.params)):{},request:e,body:u.options.disableBody?void 0:await v(u.options.cloneRequest?e.clone():e),query:s,_flag:"router",asResponse:!0,context:t?.routerContext};try{let e=c(n,"*",o);if(e?.length)for(let{data:t,params:r}of e){let e=await t({...d,params:r,asResponse:!1});if(e instanceof Response)return e}return await u(d)}catch(e){if(t?.onError)try{let r=await t.onError(e);if(r instanceof Response)return E(r)}catch(e){if(b(e))return E(e);throw e}if(t?.throwError)throw e;if(b(e))return E(e);return console.error("# SERVER_ERROR: ",e),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async e=>{let r=await t?.onRequest?.(e);if(r instanceof Response)return r;let i=r instanceof Request?r:e,n=await o(i),a=await t?.onResponse?.(n);return a instanceof Response?a:n},endpoints:e}};e.s(["APIError",()=>y,"createEndpoint",()=>B,"createMiddleware",()=>M,"createRouter",()=>rv,"serializeSignedCookie",()=>L,"toResponse",()=>E],154456);class rb extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}}e.s(["B",()=>rb],408972);let rA=Object.create(null),rw=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?rA:globalThis),r_=new Proxy(rA,{get:(e,t)=>rw()[t]??rA[t],has:(e,t)=>t in rw()||t in rA,set:(e,t,r)=>(rw(!0)[t]=r,!0),deleteProperty(e,t){if(!t)return!1;let r=rw(!0);return delete r[t],!0},ownKeys:()=>Object.keys(rw(!0))});function rS(e){return!!e&&"false"!==e}let rE="undefined"!=typeof process&&process.env&&"production"||"",rT="production"===rE,rI="dev"===rE||"development"===rE,rx=()=>"test"===rE||rS(r_.TEST);function rO(e,t){return"undefined"!=typeof process&&process.env?process.env[e]??t:"undefined"!=typeof Deno?Deno.env.get(e)??t:"undefined"!=typeof Bun?Bun.env[e]??t:t}function rC(e,t=!0){let r=rO(e);return r?"0"!==r&&"false"!==r.toLowerCase()&&""!==r:t}let rk={get BETTER_AUTH_TELEMETRY_ENDPOINT(){return rO("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}};function rN(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function rR(e,t,r){let i="",n=0,o=0;for(let r of e)for(n=n<<8|r,o+=8;o>=6;)o-=6,i+=t[n>>o&63];if(o>0&&(i+=t[n<<6-o&63]),r){let e=(4-i.length%4)%4;i+="=".repeat(e)}return i}function rP(e,t){let r=new Map;for(let e=0;e<t.length;e++)r.set(t[e],e);let i=[],n=0,o=0;for(let t of e){if("="===t)break;let e=r.get(t);if(void 0===e)throw Error(`Invalid Base64 character: ${t}`);n=n<<6|e,(o+=6)>=8&&(o-=8,i.push(n>>o&255))}return Uint8Array.from(i)}e.s(["E",()=>rk,"a",()=>rI,"b",()=>rT,"c",()=>rC,"e",()=>r_,"g",()=>rO,"i",()=>rx],338270);let rD={encode(e,t={}){let r=rN(!1);return rR("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){"string"!=typeof e&&(e=new TextDecoder().decode(e));let t=rN(e.includes("-")||e.includes("_"));return rP(e,t)}},rU={encode(e,t={}){let r=rN(!0);return rR("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){let t=rN(e.includes("-")||e.includes("_"));return rP(e,t)}};e.s(["base64",()=>rD,"base64Url",()=>rU],530501);let rL="0123456789abcdef",rK={encode:e=>{if("string"==typeof e&&(e=new TextEncoder().encode(e)),0===e.byteLength)return"";let t=new Uint8Array(e),r="";for(let e of t)r+=e.toString(16).padStart(2,"0");return r},decode:e=>{if(!e)return"";if("string"==typeof e){if(e.length%2!=0||!RegExp(`^[${rL}]+$`).test(e))throw Error("Invalid hexadecimal string");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return new TextDecoder().decode(t)}return new TextDecoder().decode(e)}};e.s(["hex",()=>rK],172381);let rM=1,rB=4,rj=8,r$=24,rz={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},rF=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),rq=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function rV(){if(void 0!==rO("FORCE_COLOR"))switch(rO("FORCE_COLOR")){case"":case"1":case"true":return rB;case"2":return rj;case"3":return r$;default:return rM}if(void 0!==rO("NODE_DISABLE_COLORS")&&""!==rO("NODE_DISABLE_COLORS")||void 0!==rO("NO_COLOR")&&""!==rO("NO_COLOR")||"dumb"===rO("TERM"))return rM;if(rO("TMUX"))return r$;if("TF_BUILD"in r_&&"AGENT_NAME"in r_)return rB;if("CI"in r_){for(let{0:e,1:t}of rF)if(e in r_)return t;return"codeship"===rO("CI_NAME")?rj:rM}if("TEAMCITY_VERSION"in r_)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(rO("TEAMCITY_VERSION"))?rB:rM;switch(rO("TERM_PROGRAM")){case"iTerm.app":if(!rO("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(rO("TERM_PROGRAM_VERSION")))return rj;return r$;case"HyperTerm":case"MacTerm":return r$;case"Apple_Terminal":return rj}if("truecolor"===rO("COLORTERM")||"24bit"===rO("COLORTERM"))return r$;if(rO("TERM")){if(null!==/truecolor/.exec(rO("TERM")))return r$;if(null!==/^xterm-256/.exec(rO("TERM")))return rj;let e=rO("TERM").toLowerCase();if(rz[e])return rz[e];if(rq.some(t=>null!==t.exec(e)))return rB}return rO("COLORTERM")?rB:rM}let rH={reset:"\x1b[0m",bright:"\x1b[1m",dim:"\x1b[2m",fg:{red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m"},bg:{black:"\x1b[40m"}},rG=["info","success","warn","error","debug"];function rW(e,t){return rG.indexOf(t)<=rG.indexOf(e)}let rZ={info:rH.fg.blue,success:rH.fg.green,warn:rH.fg.yellow,error:rH.fg.red,debug:rH.fg.magenta},rJ=(e,t,r)=>{let i=new Date().toISOString();return r?`${rH.dim}${i}${rH.reset} ${rZ[e]}${e.toUpperCase()}${rH.reset} ${rH.bright}[Better Auth]:${rH.reset} ${t}`:`${i} ${e.toUpperCase()} [Better Auth]: ${t}`},rQ=e=>{let t=e?.disabled!==!0,r=e?.level??"error",i=e?.disableColors!==void 0?!e.disableColors:1!==rV(),n=(n,o,a=[])=>{if(!t||!rW(r,n))return;let s=rJ(n,o,i);e&&"function"==typeof e.log?e.log("success"===n?"info":n,o,...a):"error"===n?console.error(s,...a):"warn"===n?console.warn(s,...a):console.log(s,...a)};return{...Object.fromEntries(rG.map(e=>[e,(...[t,...r])=>n(e,t,r)])),get level(){return r}}},rY=rQ();function rX(e){function t(e,t){if("string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$/.test(t)){let e=new Date(t);if(!isNaN(e.getTime()))return e}return t}try{if("string"!=typeof e)return e;return JSON.parse(e,t)}catch(e){return rY.error("Error parsing JSON",{error:e}),null}}function r0(e,r){return{digest:async i=>{let n=new TextEncoder,o="string"==typeof i?n.encode(i):i,a=await t().digest(e,o);return"hex"===r?Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join(""):"base64"===r||"base64url"===r||"base64urlnopad"===r?r.includes("url")?rU.encode(a,{padding:"base64urlnopad"!==r}):rD.encode(a):a}}}function r1(e){switch(e){case"a-z":return"abcdefghijklmnopqrstuvwxyz";case"A-Z":return"ABCDEFGHIJKLMNOPQRSTUVWXYZ";case"0-9":return"0123456789";case"-_":return"-_";default:throw Error(`Unsupported alphabet: ${e}`)}}function r2(...e){let t=e.map(r1).join("");if(0===t.length)throw Error("No valid characters provided for random string generation.");let r=t.length;return(e,...i)=>{let n;if(e<=0)throw Error("Length must be a positive integer.");let o=t,a=r;i.length>0&&(a=(o=i.map(r1).join("")).length);let s=Math.floor(256/a)*a,l=new Uint8Array(2*e),u=l.length,c="",d=u;for(;c.length<e;)d>=u&&(crypto.getRandomValues(l),d=0),(n=l[d++])<s&&(c+=o[n%a]);return c}}e.s(["a",()=>rY,"b",()=>rH,"c",()=>rQ,"s",()=>rW],464589),e.s(["s",()=>rX],130717),e.s(["createHash",()=>r0],282318),e.s(["createRandomStringGenerator",()=>r2],339127);let r4=r2("a-z","0-9","A-Z","-_");e.s(["g",()=>r4],362160)},649330,e=>{"use strict";var t=e.i(339127);let r=e=>(0,t.createRandomStringGenerator)("a-z","A-Z","0-9")(e||32);e.s(["g",()=>r])},654048,907855,562810,973088,35972,181984,323770,681393,795080,909879,537430,e=>{"use strict";let t=Object.freeze({status:"aborted"});function r(e,t,r){function i(r,i){var n;for(let o in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(n=r._zod).traits??(n.traits=new Set),r._zod.traits.add(e),t(r,i),a.prototype)o in r||Object.defineProperty(r,o,{value:a.prototype[o].bind(r)});r._zod.constr=a,r._zod.def=i}let n=r?.Parent??Object;class o extends n{}function a(e){var t;let n=r?.Parent?new o:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}let i=Symbol("zod_brand");class n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class o extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let a={};function s(e){return e&&Object.assign(a,e),a}function l(e){return e}function u(e){return e}function c(e){}function d(e){throw Error()}function p(e){}function f(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function h(e,t="|"){return e.map(e=>F(e)).join(t)}function m(e,t){return"bigint"==typeof t?t.toString():t}function g(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function y(e){return null==e}function v(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function b(e,t){let r=(e.toString().split(".")[1]||"").length,i=t.toString(),n=(i.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(i)){let e=i.match(/\d?e-(\d?)/);e?.[1]&&(n=Number.parseInt(e[1]))}let o=r>n?r:n;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}e.s(["$ZodAsyncError",()=>n,"$ZodEncodeError",()=>o,"$brand",0,i,"$constructor",()=>r,"NEVER",0,t,"config",()=>s,"globalConfig",0,a],127438);let A=Symbol("evaluating");function w(e,t,r){let i;Object.defineProperty(e,t,{get(){if(i!==A)return void 0===i&&(i=A,i=r()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function _(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function S(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function E(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function T(e){return E(e._zod.def)}function I(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function x(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function O(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function C(e){return JSON.stringify(e)}let k="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function N(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let R=g(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function P(e){if(!1===N(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==N(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function D(e){return P(e)?{...e}:Array.isArray(e)?[...e]:e}function U(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let L=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},K=new Set(["string","number","symbol"]),M=new Set(["string","number","bigint","boolean","symbol","undefined"]);function B(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function $(e){let t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return(delete t.message,"string"==typeof t.error)?{...t,error:()=>t.error}:t}function z(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,o)=>(t??(t=e()),Reflect.set(t,i,n,o)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function F(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function q(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let V={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},H={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function G(e,t){let r=e._zod.def,i=E(e._zod.def,{get shape(){let e={};for(let i in t){if(!(i in r.shape))throw Error(`Unrecognized key: "${i}"`);t[i]&&(e[i]=r.shape[i])}return S(this,"shape",e),e},checks:[]});return j(e,i)}function W(e,t){let r=e._zod.def,i=E(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete i[e]}return S(this,"shape",i),i},checks:[]});return j(e,i)}function Z(e,t){if(!P(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=E(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return S(this,"shape",r),r},checks:[]});return j(e,i)}function J(e,t){if(!P(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return S(this,"shape",r),r},checks:e._zod.def.checks};return j(e,r)}function Q(e,t){let r=E(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return S(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return j(e,r)}function Y(e,t,r){let i=E(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return S(this,"shape",n),n},checks:[]});return j(t,i)}function X(e,t,r){let i=E(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return S(this,"shape",n),n},checks:[]});return j(t,i)}function ee(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function et(e,t){return t.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(e),t})}function er(e){return"string"==typeof e?e:e?.message}function ei(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=er(e.inst?._zod.def?.error?.(e))??er(t?.error?.(e))??er(r.customError?.(e))??er(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function en(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function eo(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function ea(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function es(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function el(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function eu(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function ec(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return el(t+r)}function ed(e){return eu(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ep(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function ef(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class eh{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,H,"Class",()=>eh,"NUMBER_FORMAT_RANGES",0,V,"aborted",()=>ee,"allowsEval",0,R,"assert",()=>p,"assertEqual",()=>l,"assertIs",()=>c,"assertNever",()=>d,"assertNotEqual",()=>u,"assignProp",()=>S,"base64ToUint8Array",()=>el,"base64urlToUint8Array",()=>ec,"cached",()=>g,"captureStackTrace",0,k,"cleanEnum",()=>es,"cleanRegex",()=>v,"clone",()=>j,"cloneDef",()=>T,"createTransparentProxy",()=>z,"defineLazy",()=>w,"esc",()=>C,"escapeRegex",()=>B,"extend",()=>Z,"finalizeIssue",()=>ei,"floatSafeRemainder",()=>b,"getElementAtPath",()=>I,"getEnumValues",()=>f,"getLengthableOrigin",()=>eo,"getParsedType",0,L,"getSizableOrigin",()=>en,"hexToUint8Array",()=>ep,"isObject",()=>N,"isPlainObject",()=>P,"issue",()=>ea,"joinValues",()=>h,"jsonStringifyReplacer",()=>m,"merge",()=>Q,"mergeDefs",()=>E,"normalizeParams",()=>$,"nullish",()=>y,"numKeys",()=>U,"objectClone",()=>_,"omit",()=>W,"optionalKeys",()=>q,"partial",()=>Y,"pick",()=>G,"prefixIssues",()=>et,"primitiveTypes",0,M,"promiseAllObject",()=>x,"propertyKeyTypes",0,K,"randomString",()=>O,"required",()=>X,"safeExtend",()=>J,"shallowClone",()=>D,"stringifyPrimitive",()=>F,"uint8ArrayToBase64",()=>eu,"uint8ArrayToBase64url",()=>ed,"uint8ArrayToHex",()=>ef,"unwrapMessage",()=>er],486618);let em=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,m,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},eg=r("$ZodError",em),ey=r("$ZodError",em,{Parent:Error});function ev(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}function eb(e,t=e=>e.message){let r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code&&n.errors.length)n.errors.map(e=>i({issues:e}));else if("invalid_key"===n.code)i({issues:n.issues});else if("invalid_element"===n.code)i({issues:n.issues});else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function eA(e,t=e=>e.message){let r={errors:[]},i=(e,n=[])=>{var o,a;for(let s of e.issues)if("invalid_union"===s.code&&s.errors.length)s.errors.map(e=>i({issues:e},s.path));else if("invalid_key"===s.code)i({issues:s.issues},s.path);else if("invalid_element"===s.code)i({issues:s.issues},s.path);else{let e=[...n,...s.path];if(0===e.length){r.errors.push(t(s));continue}let i=r,l=0;for(;l<e.length;){let r=e[l],n=l===e.length-1;"string"==typeof r?(i.properties??(i.properties={}),(o=i.properties)[r]??(o[r]={errors:[]}),i=i.properties[r]):(i.items??(i.items=[]),(a=i.items)[r]??(a[r]={errors:[]}),i=i.items[r]),n&&i.errors.push(t(s)),l++}}};return i(e),r}function ew(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function e_(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${ew(r.path)}`);return t.join("\n")}e.s(["$ZodError",0,eg,"$ZodRealError",0,ey,"flattenError",()=>ev,"formatError",()=>eb,"prettifyError",()=>e_,"toDotPath",()=>ew,"treeifyError",()=>eA],67021);let eS=e=>(t,r,i,o)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},a);if(l instanceof Promise)throw new n;if(l.issues.length){let t=new(o?.Err??e)(l.issues.map(e=>ei(e,a,s())));throw k(t,o?.callee),t}return l.value},eE=eS(ey),eT=e=>async(t,r,i,n)=>{let o=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){let t=new(n?.Err??e)(a.issues.map(e=>ei(e,o,s())));throw k(t,n?.callee),t}return a.value},eI=eT(ey),ex=e=>(t,r,i)=>{let o=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new n;return a.issues.length?{success:!1,error:new(e??eg)(a.issues.map(e=>ei(e,o,s())))}:{success:!0,data:a.value}},eO=ex(ey),eC=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},n);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>ei(e,n,s())))}:{success:!0,data:o.value}},ek=eC(ey),eN=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eS(e)(t,r,n)},eR=eN(ey),eP=e=>(t,r,i)=>eS(e)(t,r,i),eD=eP(ey),eU=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eT(e)(t,r,n)},eL=eU(ey),eK=e=>async(t,r,i)=>eT(e)(t,r,i),eM=eK(ey),eB=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ex(e)(t,r,n)},ej=eB(ey),e$=e=>(t,r,i)=>ex(e)(t,r,i),ez=e$(ey),eF=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return eC(e)(t,r,n)},eq=eF(ey),eV=e=>async(t,r,i)=>eC(e)(t,r,i),eH=eV(ey);e.s(["_decode",0,eP,"_decodeAsync",0,eK,"_encode",0,eN,"_encodeAsync",0,eU,"_parse",0,eS,"_parseAsync",0,eT,"_safeDecode",0,e$,"_safeDecodeAsync",0,eV,"_safeEncode",0,eB,"_safeEncodeAsync",0,eF,"_safeParse",0,ex,"_safeParseAsync",0,eC,"decode",0,eD,"decodeAsync",0,eM,"encode",0,eR,"encodeAsync",0,eL,"parse",0,eE,"parseAsync",0,eI,"safeDecode",0,ez,"safeDecodeAsync",0,eH,"safeEncode",0,ej,"safeEncodeAsync",0,eq,"safeParse",0,eO,"safeParseAsync",0,ek],715143);let eG=/^[cC][^\s-]{8,}$/,eW=/^[0-9a-z]+$/,eZ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,eJ=/^[0-9a-vA-V]{20}$/,eQ=/^[A-Za-z0-9]{27}$/,eY=/^[a-zA-Z0-9_-]{21}$/,eX=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,e0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,e2=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,e4=e2(4),e3=e2(6),e5=e2(7),e6=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,e8=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e9=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e7=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,te=e7,tt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ti(){return RegExp(tr,"u")}let tn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,to=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ta=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ts=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tl=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,tu=/^[A-Za-z0-9_-]*$/,tc=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,td=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,tp=/^\+(?:[0-9]){6,14}[0-9]$/,tf="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",th=RegExp(`^${tf}$`);function tm(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tg(e){return RegExp(`^${tm(e)}$`)}function ty(e){let t=tm({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${t}(?:${r.join("|")})`;return RegExp(`^${tf}T(?:${i})$`)}let tv=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},tb=/^-?\d+n?$/,tA=/^-?\d+$/,tw=/^-?\d+(?:\.\d+)?/,t_=/^(?:true|false)$/i,tS=/^null$/i,tE=/^undefined$/i,tT=/^[^A-Z]*$/,tI=/^[^a-z]*$/,tx=/^[0-9a-fA-F]*$/;function tO(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function tC(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let tk=/^[0-9a-fA-F]{32}$/,tN=tO(22,"=="),tR=tC(22),tP=/^[0-9a-fA-F]{40}$/,tD=tO(27,"="),tU=tC(27),tL=/^[0-9a-fA-F]{64}$/,tK=tO(43,"="),tM=tC(43),tB=/^[0-9a-fA-F]{96}$/,tj=tO(64,""),t$=tC(64),tz=/^[0-9a-fA-F]{128}$/,tF=tO(86,"=="),tq=tC(86);e.s(["base64",0,tl,"base64url",0,tu,"bigint",0,tb,"boolean",0,t_,"browserEmail",0,tt,"cidrv4",0,ta,"cidrv6",0,ts,"cuid",0,eG,"cuid2",0,eW,"date",0,th,"datetime",()=>ty,"domain",0,td,"duration",0,eX,"e164",0,tp,"email",0,e6,"emoji",()=>ti,"extendedDuration",0,e0,"guid",0,e1,"hex",0,tx,"hostname",0,tc,"html5Email",0,e8,"idnEmail",0,te,"integer",0,tA,"ipv4",0,tn,"ipv6",0,to,"ksuid",0,eQ,"lowercase",0,tT,"md5_base64",0,tN,"md5_base64url",0,tR,"md5_hex",0,tk,"nanoid",0,eY,"null",()=>tS,"number",0,tw,"rfc5322Email",0,e9,"sha1_base64",0,tD,"sha1_base64url",0,tU,"sha1_hex",0,tP,"sha256_base64",0,tK,"sha256_base64url",0,tM,"sha256_hex",0,tL,"sha384_base64",0,tj,"sha384_base64url",0,t$,"sha384_hex",0,tB,"sha512_base64",0,tF,"sha512_base64url",0,tq,"sha512_hex",0,tz,"string",0,tv,"time",()=>tg,"ulid",0,eZ,"undefined",()=>tE,"unicodeEmail",0,e7,"uppercase",0,tI,"uuid",0,e2,"uuid4",0,e4,"uuid6",0,e3,"uuid7",0,e5,"xid",0,eJ],421131);let tV=r("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),tH={number:"number",bigint:"bigint",object:"date"},tG=r("$ZodCheckLessThan",(e,t)=>{tV.init(e,t);let r=tH[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tW=r("$ZodCheckGreaterThan",(e,t)=>{tV.init(e,t);let r=tH[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tZ=r("$ZodCheckMultipleOf",(e,t)=>{tV.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===b(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),tJ=r("$ZodCheckNumberFormat",(e,t)=>{tV.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),i=r?"int":"number",[n,o]=V[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=o,r&&(i.pattern=tA)}),e._zod.check=a=>{let s=a.value;if(r){if(!Number.isInteger(s))return void a.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}s<n&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),s>o&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),tQ=r("$ZodCheckBigIntFormat",(e,t)=>{tV.init(e,t);let[r,i]=H[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=r,n.maximum=i}),e._zod.check=n=>{let o=n.value;o<r&&n.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),o>i&&n.issues.push({origin:"bigint",input:o,code:"too_big",maximum:i,inst:e})}}),tY=r("$ZodCheckMaxSize",(e,t)=>{var r;tV.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!y(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;i.size<=t.maximum||r.issues.push({origin:en(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tX=r("$ZodCheckMinSize",(e,t)=>{var r;tV.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!y(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;i.size>=t.minimum||r.issues.push({origin:en(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),t0=r("$ZodCheckSizeEquals",(e,t)=>{var r;tV.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!y(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let i=r.value,n=i.size;if(n===t.size)return;let o=n>t.size;r.issues.push({origin:en(i),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),t1=r("$ZodCheckMaxLength",(e,t)=>{var r;tV.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!y(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=eo(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),t2=r("$ZodCheckMinLength",(e,t)=>{var r;tV.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!y(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=eo(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),t4=r("$ZodCheckLengthEquals",(e,t)=>{var r;tV.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!y(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let o=eo(i),a=n>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),t3=r("$ZodCheckStringFormat",(e,t)=>{var r,i;tV.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),t5=r("$ZodCheckRegex",(e,t)=>{t3.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),t6=r("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tT),t3.init(e,t)}),t8=r("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tI),t3.init(e,t)}),t9=r("$ZodCheckIncludes",(e,t)=>{tV.init(e,t);let r=B(t.includes),i=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),t7=r("$ZodCheckStartsWith",(e,t)=>{tV.init(e,t);let r=RegExp(`^${B(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),re=r("$ZodCheckEndsWith",(e,t)=>{tV.init(e,t);let r=RegExp(`.*${B(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function rt(e,t,r){e.issues.length&&t.issues.push(...et(r,e.issues))}let rr=r("$ZodCheckProperty",(e,t)=>{tV.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>rt(r,e,t.property));rt(r,e,t.property)}}),ri=r("$ZodCheckMimeType",(e,t)=>{tV.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:t.mime,input:i.value.type,inst:e,continue:!t.abort})}}),rn=r("$ZodCheckOverwrite",(e,t)=>{tV.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,tV,"$ZodCheckBigIntFormat",0,tQ,"$ZodCheckEndsWith",0,re,"$ZodCheckGreaterThan",0,tW,"$ZodCheckIncludes",0,t9,"$ZodCheckLengthEquals",0,t4,"$ZodCheckLessThan",0,tG,"$ZodCheckLowerCase",0,t6,"$ZodCheckMaxLength",0,t1,"$ZodCheckMaxSize",0,tY,"$ZodCheckMimeType",0,ri,"$ZodCheckMinLength",0,t2,"$ZodCheckMinSize",0,tX,"$ZodCheckMultipleOf",0,tZ,"$ZodCheckNumberFormat",0,tJ,"$ZodCheckOverwrite",0,rn,"$ZodCheckProperty",0,rr,"$ZodCheckRegex",0,t5,"$ZodCheckSizeEquals",0,t0,"$ZodCheckStartsWith",0,t7,"$ZodCheckStringFormat",0,t3,"$ZodCheckUpperCase",0,t8],236608);class ro{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>ro],173911);let ra={major:4,minor:1,patch:12};e.s(["version",0,ra],622824);let rs=r("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ra;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,o=ee(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(o)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new n;if(i||s instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(o||(o=ee(e,t)))});else{if(e.issues.length===t)continue;o||(o=ee(e,t))}}return i?i.then(()=>e):e},r=(r,o,a)=>{if(ee(r))return r.aborted=!0,r;let s=t(o,i,a);if(s instanceof Promise){if(!1===a.async)throw new n;return s.then(t=>e._zod.parse(t,a))}return e._zod.parse(s,a)};e._zod.run=(o,a)=>{if(a.skipChecks)return e._zod.parse(o,a);if("backward"===a.direction){let t=e._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,o,a)):r(t,o,a)}let s=e._zod.parse(o,a);if(s instanceof Promise){if(!1===a.async)throw new n;return s.then(e=>t(e,i,a))}return t(s,i,a)}}e["~standard"]={validate:t=>{try{let r=eO(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return ek(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),rl=r("$ZodString",(e,t)=>{rs.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??tv(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ru=r("$ZodStringFormat",(e,t)=>{t3.init(e,t),rl.init(e,t)}),rc=r("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=e1),ru.init(e,t)}),rd=r("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=e2(e))}else t.pattern??(t.pattern=e2());ru.init(e,t)}),rp=r("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=e6),ru.init(e,t)}),rf=r("$ZodURL",(e,t)=>{ru.init(e,t),e._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tc.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=n.href:r.value=i;return}catch(i){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),rh=r("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ti()),ru.init(e,t)}),rm=r("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=eY),ru.init(e,t)}),rg=r("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=eG),ru.init(e,t)}),ry=r("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=eW),ru.init(e,t)}),rv=r("$ZodULID",(e,t)=>{t.pattern??(t.pattern=eZ),ru.init(e,t)}),rb=r("$ZodXID",(e,t)=>{t.pattern??(t.pattern=eJ),ru.init(e,t)}),rA=r("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=eQ),ru.init(e,t)}),rw=r("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ty(t)),ru.init(e,t)}),r_=r("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=th),ru.init(e,t)}),rS=r("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=tg(t)),ru.init(e,t)}),rE=r("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=eX),ru.init(e,t)}),rT=r("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=tn),ru.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),rI=r("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=to),ru.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),rx=r("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ta),ru.init(e,t)}),rO=r("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=ts),ru.init(e,t),e._zod.check=r=>{let i=r.value.split("/");try{if(2!==i.length)throw Error();let[e,t]=i;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function rC(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let rk=r("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=tl),ru.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{rC(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function rN(e){if(!tu.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return rC(t.padEnd(4*Math.ceil(t.length/4),"="))}let rR=r("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=tu),ru.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{rN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),rP=r("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tp),ru.init(e,t)});function rD(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[i]=r;if(!i)return!1;let n=JSON.parse(atob(i));if("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))return!1;return!0}catch{return!1}}let rU=r("$ZodJWT",(e,t)=>{ru.init(e,t),e._zod.check=r=>{rD(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),rL=r("$ZodCustomStringFormat",(e,t)=>{ru.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),rK=r("$ZodNumber",(e,t)=>{rs.init(e,t),e._zod.pattern=e._zod.bag.pattern??tw,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let n=r.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return r;let o="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...o?{received:o}:{}}),r}}),rM=r("$ZodNumber",(e,t)=>{tJ.init(e,t),rK.init(e,t)}),rB=r("$ZodBoolean",(e,t)=>{rs.init(e,t),e._zod.pattern=t_,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let n=r.value;return"boolean"==typeof n||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),r}}),rj=r("$ZodBigInt",(e,t)=>{rs.init(e,t),e._zod.pattern=tb,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),r$=r("$ZodBigInt",(e,t)=>{tQ.init(e,t),rj.init(e,t)}),rz=r("$ZodSymbol",(e,t)=>{rs.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return"symbol"==typeof i||t.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),t}}),rF=r("$ZodUndefined",(e,t)=>{rs.init(e,t),e._zod.pattern=tE,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),t}}),rq=r("$ZodNull",(e,t)=>{rs.init(e,t),e._zod.pattern=tS,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let i=t.value;return null===i||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),t}}),rV=r("$ZodAny",(e,t)=>{rs.init(e,t),e._zod.parse=e=>e}),rH=r("$ZodUnknown",(e,t)=>{rs.init(e,t),e._zod.parse=e=>e}),rG=r("$ZodNever",(e,t)=>{rs.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),rW=r("$ZodVoid",(e,t)=>{rs.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),t}}),rZ=r("$ZodDate",(e,t)=>{rs.init(e,t),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let n=r.value,o=n instanceof Date;return o&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...o?{received:"Invalid Date"}:{},inst:e}),r}});function rJ(e,t,r){e.issues.length&&t.issues.push(...et(r,e.issues)),t.value[r]=e.value}let rQ=r("$ZodArray",(e,t)=>{rs.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let o=[];for(let e=0;e<n.length;e++){let a=n[e],s=t.element._zod.run({value:a,issues:[]},i);s instanceof Promise?o.push(s.then(t=>rJ(t,r,e))):rJ(s,r,e)}return o.length?Promise.all(o).then(()=>r):r}});function rY(e,t,r,i){e.issues.length&&t.issues.push(...et(r,e.issues)),void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}function rX(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=q(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function r0(e,t,r,i,n,o){let a=[],s=n.keySet,l=n.catchall._zod,u=l.def.type;for(let n of Object.keys(t)){if(s.has(n))continue;if("never"===u){a.push(n);continue}let o=l.run({value:t[n],issues:[]},i);o instanceof Promise?e.push(o.then(e=>rY(e,r,n,t))):rY(o,r,n,t)}return(a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:o}),e.length)?Promise.all(e).then(()=>r):r}let r1=r("$ZodObject",(e,t)=>{let r;rs.init(e,t);let i=Object.getOwnPropertyDescriptor(t,"shape");if(!i?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let n=g(()=>rX(t));w(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let o=N,a=t.catchall;e._zod.parse=(t,i)=>{r??(r=n.value);let s=t.value;if(!o(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};let l=[],u=r.shape;for(let e of r.keys){let r=u[e]._zod.run({value:s[e],issues:[]},i);r instanceof Promise?l.push(r.then(r=>rY(r,t,e,s))):rY(r,t,e,s)}return a?r0(l,s,t,i,n.value,e):l.length?Promise.all(l).then(()=>t):t}}),r2=r("$ZodObjectJIT",(e,t)=>{let r,i;r1.init(e,t);let n=e._zod.parse,o=g(()=>rX(t)),s=e=>{let t=new ro(["shape","payload","ctx"]),r=o.value,i=e=>{let t=C(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let n=Object.create(null),a=0;for(let e of r.keys)n[e]=`key_${a++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=n[e],o=C(e);t.write(`const ${r} = ${i(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${o}, ...iss.path] : [${o}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${o} in input) {
            newResult[${o}] = undefined;
          }
        } else {
          newResult[${o}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)},l=N,u=!a.jitless,c=R,d=u&&c.value,p=t.catchall;e._zod.parse=(a,c)=>{i??(i=o.value);let f=a.value;return l(f)?u&&d&&c?.async===!1&&!0!==c.jitless?(r||(r=s(t.shape)),a=r(a,c),p)?r0([],f,a,c,i,e):a:n(a,c):(a.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),a)}});function r4(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let n=e.filter(e=>!ee(e));return 1===n.length?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>ei(e,i,s())))}),t)}let r3=r("$ZodUnion",(e,t)=>{rs.init(e,t),w(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),w(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),w(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),w(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>v(e.source)).join("|")})$`)}});let r=1===t.options.length,i=t.options[0]._zod.run;e._zod.parse=(n,o)=>{if(r)return i(n,o);let a=!1,s=[];for(let e of t.options){let t=e._zod.run({value:n.value,issues:[]},o);if(t instanceof Promise)s.push(t),a=!0;else{if(0===t.issues.length)return t;s.push(t)}}return a?Promise.all(s).then(t=>r4(t,n,e,o)):r4(s,n,e,o)}}),r5=r("$ZodDiscriminatedUnion",(e,t)=>{r3.init(e,t);let r=e._zod.parse;w(e._zod,"propValues",()=>{let e={};for(let r of t.options){let i=r._zod.propValues;if(!i||0===Object.keys(i).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(i))for(let i of(e[t]||(e[t]=new Set),r))e[t].add(i)}return e});let i=g(()=>{let e=t.options,r=new Map;for(let i of e){let e=i._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,i)}}return r});e._zod.parse=(n,o)=>{let a=n.value;if(!N(a))return n.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),n;let s=i.value.get(a?.[t.discriminator]);return s?s._zod.run(n,o):t.unionFallback?r(n,o):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),n)}}),r6=r("$ZodIntersection",(e,t)=>{rs.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),o=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||o instanceof Promise?Promise.all([n,o]).then(([t,r])=>r9(e,t,r)):r9(e,n,o)}});function r8(e,t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(P(e)&&P(t)){let r=Object.keys(t),i=Object.keys(e).filter(e=>-1!==r.indexOf(e)),n={...e,...t};for(let r of i){let i=r8(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n[r]=i.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let i=0;i<e.length;i++){let n=r8(e[i],t[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};r.push(n.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function r9(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),ee(e))return e;let i=r8(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}let r7=r("$ZodTuple",(e,t)=>{rs.init(e,t);let r=t.items,i=r.length-[...r].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(n,o)=>{let a=n.value;if(!Array.isArray(a))return n.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[];if(!t.rest){let t=a.length>r.length,o=a.length<i-1;if(t||o)return n.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),n}let l=-1;for(let e of r){if(++l>=a.length&&l>=i)continue;let t=e._zod.run({value:a[l],issues:[]},o);t instanceof Promise?s.push(t.then(e=>ie(e,n,l))):ie(t,n,l)}if(t.rest)for(let e of a.slice(r.length)){l++;let r=t.rest._zod.run({value:e,issues:[]},o);r instanceof Promise?s.push(r.then(e=>ie(e,n,l))):ie(r,n,l)}return s.length?Promise.all(s).then(()=>n):n}});function ie(e,t,r){e.issues.length&&t.issues.push(...et(r,e.issues)),t.value[r]=e.value}let it=r("$ZodRecord",(e,t)=>{rs.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!P(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),r;let o=[];if(t.keyType._zod.values){let a,s=t.keyType._zod.values;for(let e of(r.value={},s))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let a=t.valueType._zod.run({value:n[e],issues:[]},i);a instanceof Promise?o.push(a.then(t=>{t.issues.length&&r.issues.push(...et(e,t.issues)),r.value[e]=t.value})):(a.issues.length&&r.issues.push(...et(e,a.issues)),r.value[e]=a.value)}for(let e in n)s.has(e)||(a=a??[]).push(e);a&&a.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:a})}else for(let a of(r.value={},Reflect.ownKeys(n))){if("__proto__"===a)continue;let l=t.keyType._zod.run({value:a,issues:[]},i);if(l instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(e=>ei(e,i,s())),input:a,path:[a],inst:e}),r.value[l.value]=l.value;continue}let u=t.valueType._zod.run({value:n[a],issues:[]},i);u instanceof Promise?o.push(u.then(e=>{e.issues.length&&r.issues.push(...et(a,e.issues)),r.value[l.value]=e.value})):(u.issues.length&&r.issues.push(...et(a,u.issues)),r.value[l.value]=u.value)}return o.length?Promise.all(o).then(()=>r):r}}),ir=r("$ZodMap",(e,t)=>{rs.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),r;let o=[];for(let[a,s]of(r.value=new Map,n)){let l=t.keyType._zod.run({value:a,issues:[]},i),u=t.valueType._zod.run({value:s,issues:[]},i);l instanceof Promise||u instanceof Promise?o.push(Promise.all([l,u]).then(([t,o])=>{ii(t,o,r,a,n,e,i)})):ii(l,u,r,a,n,e,i)}return o.length?Promise.all(o).then(()=>r):r}});function ii(e,t,r,i,n,o,a){e.issues.length&&(K.has(typeof i)?r.issues.push(...et(i,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:o,issues:e.issues.map(e=>ei(e,a,s()))})),t.issues.length&&(K.has(typeof i)?r.issues.push(...et(i,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:o,key:i,issues:t.issues.map(e=>ei(e,a,s()))})),r.value.set(e.value,t.value)}let io=r("$ZodSet",(e,t)=>{rs.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),r;let o=[];for(let e of(r.value=new Set,n)){let n=t.valueType._zod.run({value:e,issues:[]},i);n instanceof Promise?o.push(n.then(e=>ia(e,r))):ia(n,r)}return o.length?Promise.all(o).then(()=>r):r}});function ia(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let is=r("$ZodEnum",(e,t)=>{rs.init(e,t);let r=f(t.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=RegExp(`^(${r.filter(e=>K.has(typeof e)).map(e=>"string"==typeof e?B(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let o=t.value;return i.has(o)||t.issues.push({code:"invalid_value",values:r,input:o,inst:e}),t}}),il=r("$ZodLiteral",(e,t)=>{if(rs.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?B(e):e?B(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,i)=>{let n=r.value;return e._zod.values.has(n)||r.issues.push({code:"invalid_value",values:t.values,input:n,inst:e}),r}}),iu=r("$ZodFile",(e,t)=>{rs.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return i instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),t}}),ic=r("$ZodTransform",(e,t)=>{rs.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new o(e.constructor.name);let a=t.transform(r.value,r);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(e=>(r.value=e,r));if(a instanceof Promise)throw new n;return r.value=a,r}});function id(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let ip=r("$ZodOptional",(e,t)=>{rs.init(e,t),e._zod.optin="optional",e._zod.optout="optional",w(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),w(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${v(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>id(t,e.value)):id(i,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),ih=r("$ZodNullable",(e,t)=>{rs.init(e,t),w(e._zod,"optin",()=>t.innerType._zod.optin),w(e._zod,"optout",()=>t.innerType._zod.optout),w(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${v(e.source)}|null)$`):void 0}),w(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),im=r("$ZodDefault",(e,t)=>{rs.init(e,t),e._zod.optin="optional",w(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>ig(e,t)):ig(i,t)}});function ig(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let iy=r("$ZodPrefault",(e,t)=>{rs.init(e,t),e._zod.optin="optional",w(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),iv=r("$ZodNonOptional",(e,t)=>{rs.init(e,t),w(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>ib(t,e)):ib(n,e)}});function ib(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let iA=r("$ZodSuccess",(e,t)=>{rs.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new o("ZodSuccess");let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===i.issues.length,e)}}),iw=r("$ZodCatch",(e,t)=>{rs.init(e,t),w(e._zod,"optin",()=>t.innerType._zod.optin),w(e._zod,"optout",()=>t.innerType._zod.optout),w(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>ei(e,r,s()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>ei(e,r,s()))},input:e.value}),e.issues=[]),e)}}),i_=r("$ZodNaN",(e,t)=>{rs.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),iS=r("$ZodPipe",(e,t)=>{rs.init(e,t),w(e._zod,"values",()=>t.in._zod.values),w(e._zod,"optin",()=>t.in._zod.optin),w(e._zod,"optout",()=>t.out._zod.optout),w(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>iE(e,t.in,r)):iE(i,t.in,r)}let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>iE(e,t.out,r)):iE(i,t.out,r)}});function iE(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let iT=r("$ZodCodec",(e,t)=>{rs.init(e,t),w(e._zod,"values",()=>t.in._zod.values),w(e._zod,"optin",()=>t.in._zod.optin),w(e._zod,"optout",()=>t.out._zod.optout),w(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>iI(e,t,r)):iI(i,t,r)}{let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>iI(e,t,r)):iI(i,t,r)}}});function iI(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let i=t.transform(e.value,e);return i instanceof Promise?i.then(i=>ix(e,i,t.out,r)):ix(e,i,t.out,r)}{let i=t.reverseTransform(e.value,e);return i instanceof Promise?i.then(i=>ix(e,i,t.in,r)):ix(e,i,t.in,r)}}function ix(e,t,r,i){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},i)}let iO=r("$ZodReadonly",(e,t)=>{rs.init(e,t),w(e._zod,"propValues",()=>t.innerType._zod.propValues),w(e._zod,"values",()=>t.innerType._zod.values),w(e._zod,"optin",()=>t.innerType._zod.optin),w(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(iC):iC(i)}});function iC(e){return e.value=Object.freeze(e.value),e}let ik=r("$ZodTemplateLiteral",(e,t)=>{rs.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let i=+!!t.startsWith("^"),n=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(i,n))}else if(null===e||M.has(typeof e))r.push(B(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,i)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),iN=r("$ZodFunction",(e,t)=>(rs.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let i=Reflect.apply(t,this,e._def.input?eE(e._def.input,r):r);return e._def.output?eE(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let i=e._def.input?await eI(e._def.input,r):r,n=await Reflect.apply(t,this,i);return e._def.output?await eI(e._def.output,n):n}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new r7({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),iR=r("$ZodPromise",(e,t)=>{rs.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),iP=r("$ZodLazy",(e,t)=>{rs.init(e,t),w(e._zod,"innerType",()=>t.getter()),w(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),w(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),w(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),w(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),iD=r("$ZodCustom",(e,t)=>{tV.init(e,t),rs.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>iU(t,r,i,e));iU(n,r,i,e)}});function iU(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(ea(e))}}e.s(["$ZodAny",0,rV,"$ZodArray",0,rQ,"$ZodBase64",0,rk,"$ZodBase64URL",0,rR,"$ZodBigInt",0,rj,"$ZodBigIntFormat",0,r$,"$ZodBoolean",0,rB,"$ZodCIDRv4",0,rx,"$ZodCIDRv6",0,rO,"$ZodCUID",0,rg,"$ZodCUID2",0,ry,"$ZodCatch",0,iw,"$ZodCodec",0,iT,"$ZodCustom",0,iD,"$ZodCustomStringFormat",0,rL,"$ZodDate",0,rZ,"$ZodDefault",0,im,"$ZodDiscriminatedUnion",0,r5,"$ZodE164",0,rP,"$ZodEmail",0,rp,"$ZodEmoji",0,rh,"$ZodEnum",0,is,"$ZodFile",0,iu,"$ZodFunction",0,iN,"$ZodGUID",0,rc,"$ZodIPv4",0,rT,"$ZodIPv6",0,rI,"$ZodISODate",0,r_,"$ZodISODateTime",0,rw,"$ZodISODuration",0,rE,"$ZodISOTime",0,rS,"$ZodIntersection",0,r6,"$ZodJWT",0,rU,"$ZodKSUID",0,rA,"$ZodLazy",0,iP,"$ZodLiteral",0,il,"$ZodMap",0,ir,"$ZodNaN",0,i_,"$ZodNanoID",0,rm,"$ZodNever",0,rG,"$ZodNonOptional",0,iv,"$ZodNull",0,rq,"$ZodNullable",0,ih,"$ZodNumber",0,rK,"$ZodNumberFormat",0,rM,"$ZodObject",0,r1,"$ZodObjectJIT",0,r2,"$ZodOptional",0,ip,"$ZodPipe",0,iS,"$ZodPrefault",0,iy,"$ZodPromise",0,iR,"$ZodReadonly",0,iO,"$ZodRecord",0,it,"$ZodSet",0,io,"$ZodString",0,rl,"$ZodStringFormat",0,ru,"$ZodSuccess",0,iA,"$ZodSymbol",0,rz,"$ZodTemplateLiteral",0,ik,"$ZodTransform",0,ic,"$ZodTuple",0,r7,"$ZodType",0,rs,"$ZodULID",0,rv,"$ZodURL",0,rf,"$ZodUUID",0,rd,"$ZodUndefined",0,rF,"$ZodUnion",0,r3,"$ZodUnknown",0,rH,"$ZodVoid",0,rW,"$ZodXID",0,rb,"isValidBase64",()=>rC,"isValidBase64URL",()=>rN,"isValidJWT",()=>rD],639510);let iL=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`  :   ${e.expected}    ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`  :   ${F(e.values[0])}`;return`  :     : ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`   :    ${e.origin??""} ${r} ${e.maximum.toString()} ${i.unit??""}`;return`  :    ${e.origin??""} ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`  :   ${e.origin}   ${r} ${e.minimum.toString()} ${i.unit}`;return`  :   ${e.origin}   ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`  :     "${e.prefix}"`;if("ends_with"===t.format)return`  :     "${t.suffix}"`;if("includes"===t.format)return`  :    "${t.includes}"`;if("regex"===t.format)return`  :     ${t.pattern}`;return`${i[t.format]??e.format}  `}case"not_multiple_of":return`  :      ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""} ${e.keys.length>1?"":""}: ${h(e.keys," ")}`;case"invalid_key":return`    ${e.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${e.origin}`}}};function iK(){return{localeError:iL()}}let iM=()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${e.expected}, daxil olan ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Yanl dyr: g\xf6zlniln ${F(e.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${e.origin??"dyr"} ${r}${e.maximum.toString()} ${i.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${e.origin??"dyr"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`\xc7ox ki\xe7ik: g\xf6zlniln ${e.origin} ${r}${e.minimum.toString()} ${i.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Yanl mtn: "${t.prefix}" il balamaldr`;if("ends_with"===t.format)return`Yanl mtn: "${t.suffix}" il bitmlidir`;if("includes"===t.format)return`Yanl mtn: "${t.includes}" daxil olmaldr`;if("regex"===t.format)return`Yanl mtn: ${t.pattern} ablonuna uyun olmaldr`;return`Yanl ${i[t.format]??e.format}`}case"not_multiple_of":return`Yanl dd: ${e.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${e.keys.length>1?"lar":""}: ${h(e.keys,", ")}`;case"invalid_key":return`${e.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${e.origin} daxilind yanl dyr`;default:return`Yanl dyr`}}};function iB(){return{localeError:iM()}}function ij(e,t,r,i){let n=Math.abs(e),o=n%10,a=n%100;return a>=11&&a<=19?i:1===o?t:o>=2&&o<=4?r:i}let i$=()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])}`;return` :    ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i){let t=ij(Number(e.maximum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${e.origin??""}  ${i.verb} ${r}${e.maximum.toString()} ${t}`}return` : ,  ${e.origin??""}   ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i){let t=ij(Number(e.minimum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${e.origin}  ${i.verb} ${r}${e.minimum.toString()} ${t}`}return` : ,  ${e.origin}   ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :    "${t.prefix}"`;if("ends_with"===t.format)return` :    "${t.suffix}"`;if("includes"===t.format)return` :   "${t.includes}"`;if("regex"===t.format)return` :    ${t.pattern}`;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` :    ${e.divisor}`;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${e.origin}`;default:return` `}}};function iz(){return{localeError:i$()}}let iF=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},iq=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}let r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${iF(e.input)}`;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])}`;return` :    ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` :   ${e.origin??""}   ${r}${e.maximum.toString()} ${i.unit??""}`;return` :   ${e.origin??""}   ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` :   ${e.origin}   ${r}${e.minimum.toString()} ${i.unit}`;return` :   ${e.origin}   ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :     "${t.prefix}"`;if("ends_with"===t.format)return` :     "${t.suffix}"`;if("includes"===t.format)return` :    "${t.includes}"`;if("regex"===t.format)return` :     ${t.pattern}`;let i="";return"emoji"===t.format&&(i=""),"datetime"===t.format&&(i=""),"date"===t.format&&(i=""),"time"===t.format&&(i=""),"duration"===t.format&&(i=""),`${i} ${r[t.format]??e.format}`}case"not_multiple_of":return` :      ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""} ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${e.origin}`;default:return` `}}};function iV(){return{localeError:iq()}}let iH=()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${e.expected}, s'ha rebut ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Valor inv\xe0lid: s'esperava ${F(e.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${h(e.values," o ")}`;case"too_big":{let r=e.inclusive?"com a mxim":"menys de",i=t(e.origin);if(i)return`Massa gran: s'esperava que ${e.origin??"el valor"} contingu\xe9s ${r} ${e.maximum.toString()} ${i.unit??"elements"}`;return`Massa gran: s'esperava que ${e.origin??"el valor"} fos ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?"com a mnim":"ms de",i=t(e.origin);if(i)return`Massa petit: s'esperava que ${e.origin} contingu\xe9s ${r} ${e.minimum.toString()} ${i.unit}`;return`Massa petit: s'esperava que ${e.origin} fos ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${t.prefix}"`;if("ends_with"===t.format)return`Format inv\xe0lid: ha d'acabar amb "${t.suffix}"`;if("includes"===t.format)return`Format inv\xe0lid: ha d'incloure "${t.includes}"`;if("regex"===t.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${t.pattern}`;return`Format inv\xe0lid per a ${i[t.format]??e.format}`}case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${e.divisor}`;case"unrecognized_keys":return`Clau${e.keys.length>1?"s":""} no reconeguda${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${e.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${e.origin}`;default:return`Entrada inv\xe0lida`}}};function iG(){return{localeError:iH()}}let iW=()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return e=>{switch(e.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${e.expected}, obdreno ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${F(e.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Hodnota je p\xedli velk\xe1: ${e.origin??"hodnota"} mus\xed m\xedt ${r}${e.maximum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${e.origin??"hodnota"} mus\xed b\xfdt ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Hodnota je p\xedli mal\xe1: ${e.origin??"hodnota"} mus\xed m\xedt ${r}${e.minimum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${e.origin??"hodnota"} mus\xed b\xfdt ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${t.prefix}"`;if("ends_with"===t.format)return`Neplatn\xfd etzec: mus\xed konit na "${t.suffix}"`;if("includes"===t.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${t.includes}"`;if("regex"===t.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${t.pattern}`;return`Neplatn\xfd form\xe1t ${i[t.format]??e.format}`}case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${e.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${h(e.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${e.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${e.origin}`;default:return`Neplatn\xfd vstup`}}};function iZ(){return{localeError:iW()}}let iJ=()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function r(t){return e[t]??null}function i(e){return t[e]??e}let n=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t},o={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldigt input: forventede ${i(e.expected)}, fik ${i(n(e.input))}`;case"invalid_value":if(1===e.values.length)return`Ugyldig v\xe6rdi: forventede ${F(e.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${h(e.values,"|")}`;case"too_big":{let t=e.inclusive?"<=":"<",n=r(e.origin),o=i(e.origin);if(n)return`For stor: forventede ${o??"value"} ${n.verb} ${t} ${e.maximum.toString()} ${n.unit??"elementer"}`;return`For stor: forventede ${o??"value"} havde ${t} ${e.maximum.toString()}`}case"too_small":{let t=e.inclusive?">=":">",n=r(e.origin),o=i(e.origin);if(n)return`For lille: forventede ${o} ${n.verb} ${t} ${e.minimum.toString()} ${n.unit}`;return`For lille: forventede ${o} havde ${t} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ugyldig streng: skal starte med "${t.prefix}"`;if("ends_with"===t.format)return`Ugyldig streng: skal ende med "${t.suffix}"`;if("includes"===t.format)return`Ugyldig streng: skal indeholde "${t.includes}"`;if("regex"===t.format)return`Ugyldig streng: skal matche m\xf8nsteret ${t.pattern}`;return`Ugyldig ${o[t.format]??e.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${h(e.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${e.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${e.origin}`;default:return"Ugyldigt input"}}};function iQ(){return{localeError:iJ()}}let iY=()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return e=>{switch(e.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${e.expected}, erhalten ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ung\xfcltige Eingabe: erwartet ${F(e.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Zu gro\xdf: erwartet, dass ${e.origin??"Wert"} ${r}${e.maximum.toString()} ${i.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${e.origin??"Wert"} ${r}${e.maximum.toString()} ist`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Zu klein: erwartet, dass ${e.origin} ${r}${e.minimum.toString()} ${i.unit} hat`;return`Zu klein: erwartet, dass ${e.origin} ${r}${e.minimum.toString()} ist`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ung\xfcltiger String: muss mit "${t.prefix}" beginnen`;if("ends_with"===t.format)return`Ung\xfcltiger String: muss mit "${t.suffix}" enden`;if("includes"===t.format)return`Ung\xfcltiger String: muss "${t.includes}" enthalten`;if("regex"===t.format)return`Ung\xfcltiger String: muss dem Muster ${t.pattern} entsprechen`;return`Ung\xfcltig: ${i[t.format]??e.format}`}case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${e.divisor} sein`;case"unrecognized_keys":return`${e.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${h(e.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${e.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${e.origin}`;default:return`Ung\xfcltige Eingabe`}}};function iX(){return{localeError:iY()}}let i0=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i1=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){return e[t]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Invalid input: expected ${e.expected}, received ${i0(e.input)}`;case"invalid_value":if(1===e.values.length)return`Invalid input: expected ${F(e.values[0])}`;return`Invalid option: expected one of ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Too big: expected ${e.origin??"value"} to have ${r}${e.maximum.toString()} ${i.unit??"elements"}`;return`Too big: expected ${e.origin??"value"} to be ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Too small: expected ${e.origin} to have ${r}${e.minimum.toString()} ${i.unit}`;return`Too small: expected ${e.origin} to be ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Invalid string: must start with "${t.prefix}"`;if("ends_with"===t.format)return`Invalid string: must end with "${t.suffix}"`;if("includes"===t.format)return`Invalid string: must include "${t.includes}"`;if("regex"===t.format)return`Invalid string: must match pattern ${t.pattern}`;return`Invalid ${r[t.format]??e.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${e.divisor}`;case"unrecognized_keys":return`Unrecognized key${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Invalid key in ${e.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${e.origin}`}}};function i2(){return{localeError:i1()}}let i4=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i3=()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(t){return e[t]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return e=>{switch(e.code){case"invalid_type":return`Nevalida enigo: atendiis ${e.expected}, riceviis ${i4(e.input)}`;case"invalid_value":if(1===e.values.length)return`Nevalida enigo: atendiis ${F(e.values[0])}`;return`Nevalida opcio: atendiis unu el ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Tro granda: atendiis ke ${e.origin??"valoro"} havu ${r}${e.maximum.toString()} ${i.unit??"elementojn"}`;return`Tro granda: atendiis ke ${e.origin??"valoro"} havu ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Tro malgranda: atendiis ke ${e.origin} havu ${r}${e.minimum.toString()} ${i.unit}`;return`Tro malgranda: atendiis ke ${e.origin} estu ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Nevalida karaktraro: devas komencii per "${t.prefix}"`;if("ends_with"===t.format)return`Nevalida karaktraro: devas finii per "${t.suffix}"`;if("includes"===t.format)return`Nevalida karaktraro: devas inkluzivi "${t.includes}"`;if("regex"===t.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${t.pattern}`;return`Nevalida ${r[t.format]??e.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${e.divisor}`;case"unrecognized_keys":return`Nekonata${e.keys.length>1?"j":""} losilo${e.keys.length>1?"j":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${e.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${e.origin}`}}};function i5(){return{localeError:i3()}}let i6=()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(t){return e[t]??null}function i(e){return t[e]??e}let n=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t},o={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${i(e.expected)}, recibido ${i(n(e.input))}`;case"invalid_value":if(1===e.values.length)return`Entrada inv\xe1lida: se esperaba ${F(e.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${h(e.values,"|")}`;case"too_big":{let t=e.inclusive?"<=":"<",n=r(e.origin),o=i(e.origin);if(n)return`Demasiado grande: se esperaba que ${o??"valor"} tuviera ${t}${e.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${o??"valor"} fuera ${t}${e.maximum.toString()}`}case"too_small":{let t=e.inclusive?">=":">",n=r(e.origin),o=i(e.origin);if(n)return`Demasiado peque\xf1o: se esperaba que ${o} tuviera ${t}${e.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${o} fuera ${t}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${o[t.format]??e.format}`}case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${e.divisor}`;case"unrecognized_keys":return`Llave${e.keys.length>1?"s":""} desconocida${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${i(e.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${i(e.origin)}`;default:return`Entrada inv\xe1lida`}}};function i8(){return{localeError:i6()}}let i9=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected}  ${r(e.input)}  `;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])} `;return` :    ${h(e.values,"|")} `;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` : ${e.origin??""}  ${r}${e.maximum.toString()} ${i.unit??""} `;return` : ${e.origin??""}  ${r}${e.maximum.toString()} `}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` : ${e.origin}  ${r}${e.minimum.toString()} ${i.unit} `;return` : ${e.origin}  ${r}${e.minimum.toString()} `}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :   "${t.prefix}"  `;if("ends_with"===t.format)return` :   "${t.suffix}"  `;if("includes"===t.format)return` :   "${t.includes}" `;if("regex"===t.format)return` :    ${t.pattern}   `;return`${i[t.format]??e.format} `}case"not_multiple_of":return` :   ${e.divisor} `;case"unrecognized_keys":return`${e.keys.length>1?"":""} : ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${e.origin}`}}};function i7(){return{localeError:i9()}}let ne=()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return e=>{switch(e.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${e.expected}, oli ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${F(e.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Liian suuri: ${i.subject} t\xe4ytyy olla ${r}${e.maximum.toString()} ${i.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Liian pieni: ${i.subject} t\xe4ytyy olla ${r}${e.minimum.toString()} ${i.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${t.prefix}"`;if("ends_with"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${t.suffix}"`;if("includes"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${t.includes}"`;if("regex"===t.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${t.pattern}`;return`Virheellinen ${i[t.format]??e.format}`}case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${e.divisor} monikerta`;case"unrecognized_keys":return`${e.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${h(e.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}}};function nt(){return{localeError:ne()}}let nr=()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return e=>{switch(e.code){case"invalid_type":return`Entr\xe9e invalide : ${e.expected} attendu, ${r(e.input)} re\xe7u`;case"invalid_value":if(1===e.values.length)return`Entr\xe9e invalide : ${F(e.values[0])} attendu`;return`Option invalide : une valeur parmi ${h(e.values,"|")} attendue`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Trop grand : ${e.origin??"valeur"} doit ${i.verb} ${r}${e.maximum.toString()} ${i.unit??"lment(s)"}`;return`Trop grand : ${e.origin??"valeur"} doit \xeatre ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Trop petit : ${e.origin} doit ${i.verb} ${r}${e.minimum.toString()} ${i.unit}`;return`Trop petit : ${e.origin} doit \xeatre ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Cha\xeene invalide : doit commencer par "${t.prefix}"`;if("ends_with"===t.format)return`Cha\xeene invalide : doit se terminer par "${t.suffix}"`;if("includes"===t.format)return`Cha\xeene invalide : doit inclure "${t.includes}"`;if("regex"===t.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${t.pattern}`;return`${i[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xe9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${h(e.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${e.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return`Entr\xe9e invalide`}}};function ni(){return{localeError:nr()}}let nn=()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return e=>{switch(e.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${e.expected}, re\xe7u ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Entr\xe9e invalide : attendu ${F(e.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"":"<",i=t(e.origin);if(i)return`Trop grand : attendu que ${e.origin??"la valeur"} ait ${r}${e.maximum.toString()} ${i.unit}`;return`Trop grand : attendu que ${e.origin??"la valeur"} soit ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?"":">",i=t(e.origin);if(i)return`Trop petit : attendu que ${e.origin} ait ${r}${e.minimum.toString()} ${i.unit}`;return`Trop petit : attendu que ${e.origin} soit ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Cha\xeene invalide : doit commencer par "${t.prefix}"`;if("ends_with"===t.format)return`Cha\xeene invalide : doit se terminer par "${t.suffix}"`;if("includes"===t.format)return`Cha\xeene invalide : doit inclure "${t.includes}"`;if("regex"===t.format)return`Cha\xeene invalide : doit correspondre au motif ${t.pattern}`;return`${i[t.format]??e.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${e.divisor}`;case"unrecognized_keys":return`Cl\xe9${e.keys.length>1?"s":""} non reconnue${e.keys.length>1?"s":""} : ${h(e.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${e.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${e.origin}`;default:return`Entr\xe9e invalide`}}};function no(){return{localeError:nn()}}let na=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`  :  ${e.expected},  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`  :  ${F(e.values[0])}`;return`  :     ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` : ${e.origin??"value"}   ${r}${e.maximum.toString()} ${i.unit??"elements"}`;return` : ${e.origin??"value"}   ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` : ${e.origin}   ${r}${e.minimum.toString()} ${i.unit}`;return` : ${e.origin}   ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`  :   "${t.prefix}"`;if("ends_with"===t.format)return`  :    "${t.suffix}"`;if("includes"===t.format)return`  :   "${t.includes}"`;if("regex"===t.format)return`  :    ${t.pattern}`;return`${i[t.format]??e.format}  `}case"not_multiple_of":return`  :     ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""}  ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${e.origin}`;default:return`  `}}};function ns(){return{localeError:na()}}let nl=()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return e=>{switch(e.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${e.expected}, a kapott \xe9rt\xe9k ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${F(e.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`T\xfal nagy: ${e.origin??"rtk"} m\xe9rete t\xfal nagy ${r}${e.maximum.toString()} ${i.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${e.origin??"rtk"} t\xfal nagy: ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${e.origin} m\xe9rete t\xfal kicsi ${r}${e.minimum.toString()} ${i.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${e.origin} t\xfal kicsi ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`\xc9rv\xe9nytelen string: "${t.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===t.format)return`\xc9rv\xe9nytelen string: "${t.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===t.format)return`\xc9rv\xe9nytelen string: "${t.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===t.format)return`\xc9rv\xe9nytelen string: ${t.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${i[t.format]??e.format}`}case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${e.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${e.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${e.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}}};function nu(){return{localeError:nl()}}let nc=()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak valid: diharapkan ${e.expected}, diterima ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Input tidak valid: diharapkan ${F(e.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Terlalu besar: diharapkan ${e.origin??"value"} memiliki ${r}${e.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: diharapkan ${e.origin??"value"} menjadi ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Terlalu kecil: diharapkan ${e.origin} memiliki ${r}${e.minimum.toString()} ${i.unit}`;return`Terlalu kecil: diharapkan ${e.origin} menjadi ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`String tidak valid: harus dimulai dengan "${t.prefix}"`;if("ends_with"===t.format)return`String tidak valid: harus berakhir dengan "${t.suffix}"`;if("includes"===t.format)return`String tidak valid: harus menyertakan "${t.includes}"`;if("regex"===t.format)return`String tidak valid: harus sesuai pola ${t.pattern}`;return`${i[t.format]??e.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${e.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${e.origin}`}}};function nd(){return{localeError:nc()}}let np=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},nf=()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(t){return e[t]??null}let r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return e=>{switch(e.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${np(e.input)} \xfear sem \xe1 a\xf0 vera ${e.expected}`;case"invalid_value":if(1===e.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${F(e.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${e.origin??"gildi"} hafi ${r}${e.maximum.toString()} ${i.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${e.origin??"gildi"} s\xe9 ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${e.origin} hafi ${r}${e.minimum.toString()} ${i.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${e.origin} s\xe9 ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${t.prefix}"`;if("ends_with"===t.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${t.suffix}"`;if("includes"===t.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${t.includes}"`;if("regex"===t.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${t.pattern}`;return`Rangt ${r[t.format]??e.format}`}case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${e.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${e.keys.length>1?"ir lyklar":"ur lykill"}: ${h(e.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${e.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${e.origin}`}}};function nh(){return{localeError:nf()}}let nm=()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input non valido: atteso ${e.expected}, ricevuto ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Input non valido: atteso ${F(e.values[0])}`;return`Opzione non valida: atteso uno tra ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Troppo grande: ${e.origin??"valore"} deve avere ${r}${e.maximum.toString()} ${i.unit??"elementi"}`;return`Troppo grande: ${e.origin??"valore"} deve essere ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Troppo piccolo: ${e.origin} deve avere ${r}${e.minimum.toString()} ${i.unit}`;return`Troppo piccolo: ${e.origin} deve essere ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Stringa non valida: deve iniziare con "${t.prefix}"`;if("ends_with"===t.format)return`Stringa non valida: deve terminare con "${t.suffix}"`;if("includes"===t.format)return`Stringa non valida: deve includere "${t.includes}"`;if("regex"===t.format)return`Stringa non valida: deve corrispondere al pattern ${t.pattern}`;return`Invalid ${i[t.format]??e.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${e.divisor}`;case"unrecognized_keys":return`Chiav${e.keys.length>1?"i":"e"} non riconosciut${e.keys.length>1?"e":"a"}: ${h(e.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${e.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${e.origin}`}}};function ng(){return{localeError:nm()}}let ny=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`: ${e.expected}${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`: ${F(e.values[0])}`;return`: ${h(e.values,"")}`;case"too_big":{let r=e.inclusive?"":"",i=t(e.origin);if(i)return`: ${e.origin??""}${e.maximum.toString()}${i.unit??""}${r}`;return`: ${e.origin??""}${e.maximum.toString()}${r}`}case"too_small":{let r=e.inclusive?"":"",i=t(e.origin);if(i)return`: ${e.origin}${e.minimum.toString()}${i.unit}${r}`;return`: ${e.origin}${e.minimum.toString()}${r}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`: "${t.prefix}"`;if("ends_with"===t.format)return`: "${t.suffix}"`;if("includes"===t.format)return`: "${t.includes}"`;if("regex"===t.format)return`: ${t.pattern}`;return`${i[t.format]??e.format}`}case"not_multiple_of":return`: ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""}: ${h(e.keys,"")}`;case"invalid_key":return`${e.origin}`;case"invalid_union":return"";case"invalid_element":return`${e.origin}`;default:return``}}};function nv(){return{localeError:ny()}}let nb=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t},nA=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}let r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${nb(e.input)}`;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])}`;return` :  - ${h(e.values,"|")}-`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` :  ${e.origin??""} ${i.verb} ${r}${e.maximum.toString()} ${i.unit}`;return` :  ${e.origin??""}  ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` :  ${e.origin} ${i.verb} ${r}${e.minimum.toString()} ${i.unit}`;return` :  ${e.origin}  ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :   "${t.prefix}"-`;if("ends_with"===t.format)return` :   "${t.suffix}"-`;if("includes"===t.format)return` :   "${t.includes}"-`;if("regex"===t.format)return` :    ${t.pattern}`;return` ${r[t.format]??e.format}`}case"not_multiple_of":return` :   ${e.divisor}- `;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`  ${e.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${e.origin}-`;default:return` `}}};function nw(){return{localeError:nA()}}let n_=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`  ${e.expected}  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`  ${F(e.values[0])}`;return`  ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`  ${e.origin??""} ${r} ${e.maximum.toString()} ${i.unit??""}`;return`  ${e.origin??""} ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`  ${e.origin} ${r} ${e.minimum.toString()} ${i.unit}`;return`  ${e.origin} ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`  "${t.prefix}"`;if("ends_with"===t.format)return`  "${t.suffix}"`;if("includes"===t.format)return`  "${t.includes}"`;if("regex"===t.format)return`  ${t.pattern}`;return` ${i[t.format]??e.format}`}case"not_multiple_of":return`  ${e.divisor}`;case"unrecognized_keys":return` ${h(e.keys,", ")}`;case"invalid_key":return` ${e.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${e.origin}`}}};function nS(){return{localeError:n_()}}function nE(){return nS()}let nT=()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :   ${e.expected},   ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])}  `;return` : ${h(e.values," ")}   `;case"too_big":{let r=e.inclusive?"":"",i=""===r?" ":" ",n=t(e.origin),o=n?.unit??"";if(n)return`${e.origin??""}  : ${e.maximum.toString()}${o} ${r}${i}`;return`${e.origin??""}  : ${e.maximum.toString()} ${r}${i}`}case"too_small":{let r=e.inclusive?"":"",i=""===r?" ":" ",n=t(e.origin),o=n?.unit??"";if(n)return`${e.origin??""}  : ${e.minimum.toString()}${o} ${r}${i}`;return`${e.origin??""}  : ${e.minimum.toString()} ${r}${i}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` : "${t.prefix}"()  `;if("ends_with"===t.format)return` : "${t.suffix}"()  `;if("includes"===t.format)return` : "${t.includes}"()  `;if("regex"===t.format)return` :  ${t.pattern}   `;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` : ${e.divisor}  `;case"unrecognized_keys":return`   : ${h(e.keys,", ")}`;case"invalid_key":return` : ${e.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${e.origin}`}}};function nI(){return{localeError:nT()}}let nx=e=>nO(typeof e,e),nO=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},nC=e=>e.charAt(0).toUpperCase()+e.slice(1);function nk(e){let t=Math.abs(e),r=t%10,i=t%100;return i>=11&&i<=19||0===r?"many":1===r?"one":"few"}let nN=()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,i,n){let o=e[t]??null;return null===o?o:{unit:o.unit[r],verb:o.verb[n][i?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":return`Gautas tipas ${nx(e.input)}, o tiktasi - ${nO(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${F(e.values[0])}`;return`Privalo bti vienas i ${h(e.values,"|")} pasirinkim`;case"too_big":{let r=nO(e.origin),i=t(e.origin,nk(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${nC(r??e.origin??"reikm")} ${i.verb} ${e.maximum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${nC(r??e.origin??"reikm")} turi bti ${n} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let r=nO(e.origin),i=t(e.origin,nk(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${nC(r??e.origin??"reikm")} ${i.verb} ${e.minimum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${nC(r??e.origin??"reikm")} turi bti ${n} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Eilut privalo prasidti "${t.prefix}"`;if("ends_with"===t.format)return`Eilut privalo pasibaigti "${t.suffix}"`;if("includes"===t.format)return`Eilut privalo traukti "${t.includes}"`;if("regex"===t.format)return`Eilut privalo atitikti ${t.pattern}`;return`Neteisingas ${r[t.format]??e.format}`}case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${h(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=nO(e.origin);return`${nC(t??e.origin??"reikm")} turi klaiding vest`}}}};function nR(){return{localeError:nN()}}let nP=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :   ${e.expected},  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Invalid input: expected ${F(e.values[0])}`;return` :    ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` :   ${e.origin??""}   ${r}${e.maximum.toString()} ${i.unit??""}`;return` :   ${e.origin??""}   ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` :   ${e.origin}   ${r}${e.minimum.toString()} ${i.unit}`;return` :   ${e.origin}   ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :     "${t.prefix}"`;if("ends_with"===t.format)return` :     "${t.suffix}"`;if("includes"===t.format)return` :    "${t.includes}"`;if("regex"===t.format)return` :      ${t.pattern}`;return`Invalid ${i[t.format]??e.format}`}case"not_multiple_of":return` :      ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?" ":" "}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${e.origin}`;default:return` `}}};function nD(){return{localeError:nP()}}let nU=()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Input tidak sah: dijangka ${e.expected}, diterima ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Input tidak sah: dijangka ${F(e.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Terlalu besar: dijangka ${e.origin??"nilai"} ${i.verb} ${r}${e.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: dijangka ${e.origin??"nilai"} adalah ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Terlalu kecil: dijangka ${e.origin} ${i.verb} ${r}${e.minimum.toString()} ${i.unit}`;return`Terlalu kecil: dijangka ${e.origin} adalah ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`String tidak sah: mesti bermula dengan "${t.prefix}"`;if("ends_with"===t.format)return`String tidak sah: mesti berakhir dengan "${t.suffix}"`;if("includes"===t.format)return`String tidak sah: mesti mengandungi "${t.includes}"`;if("regex"===t.format)return`String tidak sah: mesti sepadan dengan corak ${t.pattern}`;return`${i[t.format]??e.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${e.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${h(e.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${e.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${e.origin}`}}};function nL(){return{localeError:nU()}}let nK=()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return e=>{switch(e.code){case"invalid_type":return`Ongeldige invoer: verwacht ${e.expected}, ontving ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ongeldige invoer: verwacht ${F(e.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Te lang: verwacht dat ${e.origin??"waarde"} ${r}${e.maximum.toString()} ${i.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${e.origin??"waarde"} ${r}${e.maximum.toString()} is`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Te kort: verwacht dat ${e.origin} ${r}${e.minimum.toString()} ${i.unit} bevat`;return`Te kort: verwacht dat ${e.origin} ${r}${e.minimum.toString()} is`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ongeldige tekst: moet met "${t.prefix}" beginnen`;if("ends_with"===t.format)return`Ongeldige tekst: moet op "${t.suffix}" eindigen`;if("includes"===t.format)return`Ongeldige tekst: moet "${t.includes}" bevatten`;if("regex"===t.format)return`Ongeldige tekst: moet overeenkomen met patroon ${t.pattern}`;return`Ongeldig: ${i[t.format]??e.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${e.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${e.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${e.origin}`}}};function nM(){return{localeError:nK()}}let nB=()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return`Ugyldig input: forventet ${e.expected}, fikk ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ugyldig verdi: forventet ${F(e.values[0])}`;return`Ugyldig valg: forventet en av ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`For stor(t): forventet ${e.origin??"value"} til \xe5 ha ${r}${e.maximum.toString()} ${i.unit??"elementer"}`;return`For stor(t): forventet ${e.origin??"value"} til \xe5 ha ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`For lite(n): forventet ${e.origin} til \xe5 ha ${r}${e.minimum.toString()} ${i.unit}`;return`For lite(n): forventet ${e.origin} til \xe5 ha ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ugyldig streng: m\xe5 starte med "${t.prefix}"`;if("ends_with"===t.format)return`Ugyldig streng: m\xe5 ende med "${t.suffix}"`;if("includes"===t.format)return`Ugyldig streng: m\xe5 inneholde "${t.includes}"`;if("regex"===t.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${t.pattern}`;return`Ugyldig ${i[t.format]??e.format}`}case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${h(e.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${e.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${e.origin}`}}};function nj(){return{localeError:nB()}}let n$=()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return e=>{switch(e.code){case"invalid_type":return`F\xe2sit giren: umulan ${e.expected}, alnan ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`F\xe2sit giren: umulan ${F(e.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Fazla b\xfcy\xfck: ${e.origin??"value"}, ${r}${e.maximum.toString()} ${i.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${e.origin??"value"}, ${r}${e.maximum.toString()} olmalyd.`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Fazla k\xfc\xe7\xfck: ${e.origin}, ${r}${e.minimum.toString()} ${i.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${e.origin}, ${r}${e.minimum.toString()} olmalyd.`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`F\xe2sit metin: "${t.prefix}" ile balamal.`;if("ends_with"===t.format)return`F\xe2sit metin: "${t.suffix}" ile bitmeli.`;if("includes"===t.format)return`F\xe2sit metin: "${t.includes}" ihtiv\xe2 etmeli.`;if("regex"===t.format)return`F\xe2sit metin: ${t.pattern} nakna uymal.`;return`F\xe2sit ${i[t.format]??e.format}`}case"not_multiple_of":return`F\xe2sit say: ${e.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${e.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}}};function nz(){return{localeError:n$()}}let nF=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected} ,  ${r(e.input)}  `;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])} `;return` :    ${h(e.values,"|")}  `;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` : ${e.origin??""}  ${r}${e.maximum.toString()} ${i.unit??""} `;return` : ${e.origin??""}  ${r}${e.maximum.toString()} `}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` : ${e.origin}  ${r}${e.minimum.toString()} ${i.unit} `;return` : ${e.origin}  ${r}${e.minimum.toString()} `}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :   "${t.prefix}"   `;if("ends_with"===t.format)return` :   "${t.suffix}"    `;if("includes"===t.format)return` :  "${t.includes}" `;if("regex"===t.format)return` :   ${t.pattern}   `;return`${i[t.format]??e.format}  `}case"not_multiple_of":return` :   ${e.divisor}  `;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${e.origin} `}}};function nq(){return{localeError:nF()}}let nV=()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return e=>{switch(e.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${e.expected}, otrzymano ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${F(e.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Za dua warto: oczekiwano, e ${e.origin??"warto"} bdzie mie ${r}${e.maximum.toString()} ${i.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${e.origin??"warto"} bdzie wynosi ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Za maa warto: oczekiwano, e ${e.origin??"warto"} bdzie mie ${r}${e.minimum.toString()} ${i.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${e.origin??"warto"} bdzie wynosi ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${t.prefix}"`;if("ends_with"===t.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${t.suffix}"`;if("includes"===t.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${t.includes}"`;if("regex"===t.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${t.pattern}`;return`Nieprawidow(y/a/e) ${i[t.format]??e.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${e.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${e.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${e.origin}`;default:return`Nieprawidowe dane wejciowe`}}};function nH(){return{localeError:nV()}}let nG=()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return e=>{switch(e.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${e.expected}, recebido ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Entrada inv\xe1lida: esperado ${F(e.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Muito grande: esperado que ${e.origin??"valor"} tivesse ${r}${e.maximum.toString()} ${i.unit??"elementos"}`;return`Muito grande: esperado que ${e.origin??"valor"} fosse ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Muito pequeno: esperado que ${e.origin} tivesse ${r}${e.minimum.toString()} ${i.unit}`;return`Muito pequeno: esperado que ${e.origin} fosse ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Texto inv\xe1lido: deve come\xe7ar com "${t.prefix}"`;if("ends_with"===t.format)return`Texto inv\xe1lido: deve terminar com "${t.suffix}"`;if("includes"===t.format)return`Texto inv\xe1lido: deve incluir "${t.includes}"`;if("regex"===t.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${t.pattern}`;return`${i[t.format]??e.format} inv\xe1lido`}case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${e.divisor}`;case"unrecognized_keys":return`Chave${e.keys.length>1?"s":""} desconhecida${e.keys.length>1?"s":""}: ${h(e.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${e.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${e.origin}`;default:return`Campo inv\xe1lido`}}};function nW(){return{localeError:nG()}}function nZ(e,t,r,i){let n=Math.abs(e),o=n%10,a=n%100;return a>=11&&a<=19?i:1===o?t:o>=2&&o<=4?r:i}let nJ=()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])}`;return` :    ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i){let t=nZ(Number(e.maximum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${e.origin??""}   ${r}${e.maximum.toString()} ${t}`}return`  : ,  ${e.origin??""}  ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i){let t=nZ(Number(e.minimum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${e.origin}   ${r}${e.minimum.toString()} ${t}`}return`  : ,  ${e.origin}  ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :    "${t.prefix}"`;if("ends_with"===t.format)return` :    "${t.suffix}"`;if("includes"===t.format)return` :   "${t.includes}"`;if("regex"===t.format)return` :    ${t.pattern}`;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` :    ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"":""} ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${e.origin}`;default:return`  `}}};function nQ(){return{localeError:nJ()}}let nY=()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return e=>{switch(e.code){case"invalid_type":return`Neveljaven vnos: priakovano ${e.expected}, prejeto ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Neveljaven vnos: priakovano ${F(e.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Preveliko: priakovano, da bo ${e.origin??"vrednost"} imelo ${r}${e.maximum.toString()} ${i.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${e.origin??"vrednost"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Premajhno: priakovano, da bo ${e.origin} imelo ${r}${e.minimum.toString()} ${i.unit}`;return`Premajhno: priakovano, da bo ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Neveljaven niz: mora se zaeti z "${t.prefix}"`;if("ends_with"===t.format)return`Neveljaven niz: mora se konati z "${t.suffix}"`;if("includes"===t.format)return`Neveljaven niz: mora vsebovati "${t.includes}"`;if("regex"===t.format)return`Neveljaven niz: mora ustrezati vzorcu ${t.pattern}`;return`Neveljaven ${i[t.format]??e.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${e.divisor}`;case"unrecognized_keys":return`Neprepoznan${e.keys.length>1?"i kljui":" klju"}: ${h(e.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${e.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${e.origin}`}}};function nX(){return{localeError:nY()}}let n0=()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return e=>{switch(e.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${e.expected}, fick ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${F(e.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${e.origin??"vrdet"} att ha ${r}${e.maximum.toString()} ${i.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${e.origin??"vrdet"} att ha ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${e.origin??"vrdet"} att ha ${r}${e.minimum.toString()} ${i.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${e.origin??"vrdet"} att ha ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${t.prefix}"`;if("ends_with"===t.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${t.suffix}"`;if("includes"===t.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${t.includes}"`;if("regex"===t.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${t.pattern}"`;return`Ogiltig(t) ${i[t.format]??e.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${e.divisor}`;case"unrecognized_keys":return`${e.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${h(e.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${e.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${e.origin??"vrdet"}`}}};function n1(){return{localeError:n0()}}let n2=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return` :  ${e.expected},  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return` :  ${F(e.values[0])}`;return` :  ${h(e.values,"|")}  `;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` :  ${e.origin??""} ${r}${e.maximum.toString()} ${i.unit??""}   `;return` :  ${e.origin??""} ${r}${e.maximum.toString()}   `}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` :  ${e.origin} ${r}${e.minimum.toString()} ${i.unit}   `;return` :  ${e.origin} ${r}${e.minimum.toString()}   `}case"invalid_format":{let t=e;if("starts_with"===t.format)return` : "${t.prefix}"   `;if("ends_with"===t.format)return` : "${t.suffix}"   `;if("includes"===t.format)return` : "${t.includes}"   `;if("regex"===t.format)return` : ${t.pattern}   `;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` : ${e.divisor}    `;case"unrecognized_keys":return`  ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`${e.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${e.origin}   `;default:return` `}}};function n4(){return{localeError:n2()}}let n3=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return`:  ${e.expected}  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`:  ${F(e.values[0])}`;return`:  ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"":"",i=t(e.origin);if(i)return`: ${e.origin??""} ${r} ${e.maximum.toString()} ${i.unit??""}`;return`: ${e.origin??""} ${r} ${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?"":"",i=t(e.origin);if(i)return`: ${e.origin} ${r} ${e.minimum.toString()} ${i.unit}`;return`: ${e.origin} ${r} ${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`:  "${t.prefix}"`;if("ends_with"===t.format)return`:  "${t.suffix}"`;if("includes"===t.format)return`:  "${t.includes}" `;if("regex"===t.format)return`:  ${t.pattern}`;return`: ${i[t.format]??e.format}`}case"not_multiple_of":return`:  ${e.divisor} `;case"unrecognized_keys":return`: ${h(e.keys,", ")}`;case"invalid_key":return` ${e.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${e.origin}`;default:return``}}};function n5(){return{localeError:n3()}}let n6=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},n8=()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(t){return e[t]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return e=>{switch(e.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${e.expected}, alnan ${n6(e.input)}`;case"invalid_value":if(1===e.values.length)return`Ge\xe7ersiz deer: beklenen ${F(e.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`\xc7ok b\xfcy\xfck: beklenen ${e.origin??"deer"} ${r}${e.maximum.toString()} ${i.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${e.origin??"deer"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`\xc7ok k\xfc\xe7\xfck: beklenen ${e.origin} ${r}${e.minimum.toString()} ${i.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Ge\xe7ersiz metin: "${t.prefix}" ile balamal`;if("ends_with"===t.format)return`Ge\xe7ersiz metin: "${t.suffix}" ile bitmeli`;if("includes"===t.format)return`Ge\xe7ersiz metin: "${t.includes}" i\xe7ermeli`;if("regex"===t.format)return`Ge\xe7ersiz metin: ${t.pattern} desenine uymal`;return`Ge\xe7ersiz ${r[t.format]??e.format}`}case"not_multiple_of":return`Ge\xe7ersiz say: ${e.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${e.keys.length>1?"lar":""}: ${h(e.keys,", ")}`;case"invalid_key":return`${e.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${e.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}}};function n9(){return{localeError:n8()}}let n7=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return e=>{switch(e.code){case"invalid_type":return`  :  ${e.expected},  ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`  :  ${F(e.values[0])}`;return` :    ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` : ,  ${e.origin??""} ${i.verb} ${r}${e.maximum.toString()} ${i.unit??""}`;return` : ,  ${e.origin??""}  ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` : ,  ${e.origin} ${i.verb} ${r}${e.minimum.toString()} ${i.unit}`;return` : ,  ${e.origin}  ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` :    "${t.prefix}"`;if("ends_with"===t.format)return` :    "${t.suffix}"`;if("includes"===t.format)return` :   "${t.includes}"`;if("regex"===t.format)return` :    ${t.pattern}`;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` :    ${e.divisor}`;case"unrecognized_keys":return` ${e.keys.length>1?"":""}: ${h(e.keys,", ")}`;case"invalid_key":return`   ${e.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${e.origin}`;default:return`  `}}};function oe(){return{localeError:n7()}}function ot(){return oe()}let or=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return e=>{switch(e.code){case"invalid_type":return`  : ${e.expected}   ${r(e.input)}  `;case"invalid_value":if(1===e.values.length)return`  : ${F(e.values[0])}  `;return` : ${h(e.values,"|")}     `;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` : ${e.origin??""}  ${r}${e.maximum.toString()} ${i.unit??""}   `;return` : ${e.origin??""}  ${r}${e.maximum.toString()}   `}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` : ${e.origin}  ${r}${e.minimum.toString()} ${i.unit}   `;return` : ${e.origin}  ${r}${e.minimum.toString()}   `}case"invalid_format":{let t=e;if("starts_with"===t.format)return` : "${t.prefix}"    `;if("ends_with"===t.format)return` : "${t.suffix}"    `;if("includes"===t.format)return` : "${t.includes}"   `;if("regex"===t.format)return` :  ${t.pattern}    `;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` : ${e.divisor}    `;case"unrecognized_keys":return`   ${e.keys.length>1?"":""}: ${h(e.keys," ")}`;case"invalid_key":return`${e.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${e.origin}   `;default:return`  `}}};function oi(){return{localeError:or()}}let on=()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return e=>{switch(e.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${e.expected}, nhn c ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${F(e.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`Qu\xe1 ln: mong i ${e.origin??"gi tr"} ${i.verb} ${r}${e.maximum.toString()} ${i.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${e.origin??"gi tr"} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`Qu\xe1 nh: mong i ${e.origin} ${i.verb} ${r}${e.minimum.toString()} ${i.unit}`;return`Qu\xe1 nh: mong i ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`Chui kh\xf4ng hp l: phi bt u bng "${t.prefix}"`;if("ends_with"===t.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${t.suffix}"`;if("includes"===t.format)return`Chui kh\xf4ng hp l: phi bao gm "${t.includes}"`;if("regex"===t.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${t.pattern}`;return`${i[t.format]??e.format} kh\xf4ng hp l`}case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${e.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${h(e.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${e.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${e.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}}};function oo(){return{localeError:on()}}let oa=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` ${e.expected} ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return` ${F(e.values[0])}`;return` ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` ${e.origin??""} ${r}${e.maximum.toString()} ${i.unit??""}`;return` ${e.origin??""} ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` ${e.origin} ${r}${e.minimum.toString()} ${i.unit}`;return` ${e.origin} ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` "${t.prefix}" `;if("ends_with"===t.format)return` "${t.suffix}" `;if("includes"===t.format)return` "${t.includes}"`;if("regex"===t.format)return` ${t.pattern}`;return`${i[t.format]??e.format}`}case"not_multiple_of":return` ${e.divisor} `;case"unrecognized_keys":return`(key): ${h(e.keys,", ")}`;case"invalid_key":return`${e.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${e.origin} (value)`;default:return``}}};function os(){return{localeError:oa()}}let ol=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return e=>{switch(e.code){case"invalid_type":return` ${e.expected} ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return` ${F(e.values[0])}`;return` ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return` ${e.origin??""}  ${r}${e.maximum.toString()} ${i.unit??""}`;return` ${e.origin??""}  ${r}${e.maximum.toString()}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return` ${e.origin}  ${r}${e.minimum.toString()} ${i.unit}`;return` ${e.origin}  ${r}${e.minimum.toString()}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return` "${t.prefix}" `;if("ends_with"===t.format)return` "${t.suffix}" `;if("includes"===t.format)return` "${t.includes}"`;if("regex"===t.format)return` ${t.pattern}`;return` ${i[t.format]??e.format}`}case"not_multiple_of":return` ${e.divisor} `;case"unrecognized_keys":return`${e.keys.length>1?"":""}${h(e.keys,"")}`;case"invalid_key":return`${e.origin} `;case"invalid_union":return"";case"invalid_element":return`${e.origin} `;default:return``}}};function ou(){return{localeError:ol()}}let oc=()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(t){return e[t]??null}let r=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t},i={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return e=>{switch(e.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${e.expected}, \xe0m a r\xed ${r(e.input)}`;case"invalid_value":if(1===e.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${F(e.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${h(e.values,"|")}`;case"too_big":{let r=e.inclusive?"<=":"<",i=t(e.origin);if(i)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${e.origin??"iye"} ${i.verb} ${r}${e.maximum} ${i.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${r}${e.maximum}`}case"too_small":{let r=e.inclusive?">=":">",i=t(e.origin);if(i)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${e.origin} ${i.verb} ${r}${e.minimum} ${i.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${r}${e.minimum}`}case"invalid_format":{let t=e;if("starts_with"===t.format)return`r a\xece: gbd br pl\xfa "${t.prefix}"`;if("ends_with"===t.format)return`r a\xece: gbd par\xed pl\xfa "${t.suffix}"`;if("includes"===t.format)return`r a\xece: gbd n\xed "${t.includes}"`;if("regex"===t.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${t.pattern}`;return`A\xece: ${i[t.format]??e.format}`}case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${e.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${h(e.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${e.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${e.origin}`}}};function od(){return{localeError:oc()}}e.s([],879113);let op=Symbol("ZodOutput"),of=Symbol("ZodInput");class oh{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function om(){return new oh}let og=om();function oy(e,t){return new e({type:"string",...$(t)})}function ov(e,t){return new e({type:"string",coerce:!0,...$(t)})}function ob(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function oA(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function ow(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function o_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function oS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function oE(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function oT(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function oI(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function ox(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function oO(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function oC(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function ok(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function oN(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function oR(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function oP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function oD(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function oU(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function oL(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function oK(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function oM(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function oB(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function oj(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}e.s(["$ZodRegistry",()=>oh,"$input",0,of,"$output",0,op,"globalRegistry",0,og,"registry",()=>om],52637);let o$={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function oz(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function oF(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function oq(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function oV(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function oH(e,t){return new e({type:"number",checks:[],...$(t)})}function oG(e,t){return new e({type:"number",coerce:!0,checks:[],...$(t)})}function oW(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function oZ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...$(t)})}function oJ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...$(t)})}function oQ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...$(t)})}function oY(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...$(t)})}function oX(e,t){return new e({type:"boolean",...$(t)})}function o0(e,t){return new e({type:"boolean",coerce:!0,...$(t)})}function o1(e,t){return new e({type:"bigint",...$(t)})}function o2(e,t){return new e({type:"bigint",coerce:!0,...$(t)})}function o4(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...$(t)})}function o3(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...$(t)})}function o5(e,t){return new e({type:"symbol",...$(t)})}function o6(e,t){return new e({type:"undefined",...$(t)})}function o8(e,t){return new e({type:"null",...$(t)})}function o9(e){return new e({type:"any"})}function o7(e){return new e({type:"unknown"})}function ae(e,t){return new e({type:"never",...$(t)})}function at(e,t){return new e({type:"void",...$(t)})}function ar(e,t){return new e({type:"date",...$(t)})}function ai(e,t){return new e({type:"date",coerce:!0,...$(t)})}function an(e,t){return new e({type:"nan",...$(t)})}function ao(e,t){return new tG({check:"less_than",...$(t),value:e,inclusive:!1})}function aa(e,t){return new tG({check:"less_than",...$(t),value:e,inclusive:!0})}function as(e,t){return new tW({check:"greater_than",...$(t),value:e,inclusive:!1})}function al(e,t){return new tW({check:"greater_than",...$(t),value:e,inclusive:!0})}function au(e){return as(0,e)}function ac(e){return ao(0,e)}function ad(e){return aa(0,e)}function ap(e){return al(0,e)}function af(e,t){return new tZ({check:"multiple_of",...$(t),value:e})}function ah(e,t){return new tY({check:"max_size",...$(t),maximum:e})}function am(e,t){return new tX({check:"min_size",...$(t),minimum:e})}function ag(e,t){return new t0({check:"size_equals",...$(t),size:e})}function ay(e,t){return new t1({check:"max_length",...$(t),maximum:e})}function av(e,t){return new t2({check:"min_length",...$(t),minimum:e})}function ab(e,t){return new t4({check:"length_equals",...$(t),length:e})}function aA(e,t){return new t5({check:"string_format",format:"regex",...$(t),pattern:e})}function aw(e){return new t6({check:"string_format",format:"lowercase",...$(e)})}function a_(e){return new t8({check:"string_format",format:"uppercase",...$(e)})}function aS(e,t){return new t9({check:"string_format",format:"includes",...$(t),includes:e})}function aE(e,t){return new t7({check:"string_format",format:"starts_with",...$(t),prefix:e})}function aT(e,t){return new re({check:"string_format",format:"ends_with",...$(t),suffix:e})}function aI(e,t,r){return new rr({check:"property",property:e,schema:t,...$(r)})}function ax(e,t){return new ri({check:"mime_type",mime:e,...$(t)})}function aO(e){return new rn({check:"overwrite",tx:e})}function aC(e){return aO(t=>t.normalize(e))}function ak(){return aO(e=>e.trim())}function aN(){return aO(e=>e.toLowerCase())}function aR(){return aO(e=>e.toUpperCase())}function aP(e,t,r){return new e({type:"array",element:t,...$(r)})}function aD(e,t,r){return new e({type:"union",options:t,...$(r)})}function aU(e,t,r,i){return new e({type:"union",options:r,discriminator:t,...$(i)})}function aL(e,t,r){return new e({type:"intersection",left:t,right:r})}function aK(e,t,r,i){let n=r instanceof rs,o=n?i:r;return new e({type:"tuple",items:t,rest:n?r:null,...$(o)})}function aM(e,t,r,i){return new e({type:"record",keyType:t,valueType:r,...$(i)})}function aB(e,t,r,i){return new e({type:"map",keyType:t,valueType:r,...$(i)})}function aj(e,t,r){return new e({type:"set",valueType:t,...$(r)})}function a$(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...$(r)})}function az(e,t,r){return new e({type:"enum",entries:t,...$(r)})}function aF(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...$(r)})}function aq(e,t){return new e({type:"file",...$(t)})}function aV(e,t){return new e({type:"transform",transform:t})}function aH(e,t){return new e({type:"optional",innerType:t})}function aG(e,t){return new e({type:"nullable",innerType:t})}function aW(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():D(r)}})}function aZ(e,t,r){return new e({type:"nonoptional",innerType:t,...$(r)})}function aJ(e,t){return new e({type:"success",innerType:t})}function aQ(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function aY(e,t,r){return new e({type:"pipe",in:t,out:r})}function aX(e,t){return new e({type:"readonly",innerType:t})}function a0(e,t,r){return new e({type:"template_literal",parts:t,...$(r)})}function a1(e,t){return new e({type:"lazy",getter:t})}function a2(e,t){return new e({type:"promise",innerType:t})}function a4(e,t,r){let i=$(r);return i.abort??(i.abort=!0),new e({type:"custom",check:"custom",fn:t,...i})}function a3(e,t,r){return new e({type:"custom",check:"custom",fn:t,...$(r)})}function a5(e){let t=a6(r=>(r.addIssue=e=>{if("string"==typeof e)r.issues.push(ea(e,r.value,t._zod.def));else{let i=e;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(ea(i))}},e(r.value,r)));return t}function a6(e,t){let r=new tV({check:"custom",...$(t)});return r._zod.check=e,r}function a8(e,t){let r=$(t),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(i=i.map(e=>"string"==typeof e?e.toLowerCase():e),n=n.map(e=>"string"==typeof e?e.toLowerCase():e));let o=new Set(i),a=new Set(n),s=e.Codec??iT,l=e.Boolean??rB,u=new s({type:"pipe",in:new(e.String??rl)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let i=e;return"sensitive"!==r.case&&(i=i.toLowerCase()),!!o.has(i)||!a.has(i)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...a],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?i[0]||"true":n[0]||"false",error:r.error});return u}function a9(e,t,r,i={}){let n=$(i),o={...$(i),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...n};return r instanceof RegExp&&(o.pattern=r),new e(o)}e.s(["TimePrecision",0,o$,"_any",()=>o9,"_array",()=>aP,"_base64",()=>oK,"_base64url",()=>oM,"_bigint",()=>o1,"_boolean",()=>oX,"_catch",()=>aQ,"_check",()=>a6,"_cidrv4",()=>oU,"_cidrv6",()=>oL,"_coercedBigint",()=>o2,"_coercedBoolean",()=>o0,"_coercedDate",()=>ai,"_coercedNumber",()=>oG,"_coercedString",()=>ov,"_cuid",()=>oO,"_cuid2",()=>oC,"_custom",()=>a4,"_date",()=>ar,"_default",()=>aW,"_discriminatedUnion",()=>aU,"_e164",()=>oB,"_email",()=>ob,"_emoji",()=>oI,"_endsWith",()=>aT,"_enum",()=>a$,"_file",()=>aq,"_float32",()=>oZ,"_float64",()=>oJ,"_gt",()=>as,"_gte",()=>al,"_guid",()=>oA,"_includes",()=>aS,"_int",()=>oW,"_int32",()=>oQ,"_int64",()=>o4,"_intersection",()=>aL,"_ipv4",()=>oP,"_ipv6",()=>oD,"_isoDate",()=>oF,"_isoDateTime",()=>oz,"_isoDuration",()=>oV,"_isoTime",()=>oq,"_jwt",()=>oj,"_ksuid",()=>oR,"_lazy",()=>a1,"_length",()=>ab,"_literal",()=>aF,"_lowercase",()=>aw,"_lt",()=>ao,"_lte",()=>aa,"_map",()=>aB,"_max",()=>aa,"_maxLength",()=>ay,"_maxSize",()=>ah,"_mime",()=>ax,"_min",()=>al,"_minLength",()=>av,"_minSize",()=>am,"_multipleOf",()=>af,"_nan",()=>an,"_nanoid",()=>ox,"_nativeEnum",()=>az,"_negative",()=>ac,"_never",()=>ae,"_nonnegative",()=>ap,"_nonoptional",()=>aZ,"_nonpositive",()=>ad,"_normalize",()=>aC,"_null",()=>o8,"_nullable",()=>aG,"_number",()=>oH,"_optional",()=>aH,"_overwrite",()=>aO,"_pipe",()=>aY,"_positive",()=>au,"_promise",()=>a2,"_property",()=>aI,"_readonly",()=>aX,"_record",()=>aM,"_refine",()=>a3,"_regex",()=>aA,"_set",()=>aj,"_size",()=>ag,"_startsWith",()=>aE,"_string",()=>oy,"_stringFormat",()=>a9,"_stringbool",()=>a8,"_success",()=>aJ,"_superRefine",()=>a5,"_symbol",()=>o5,"_templateLiteral",()=>a0,"_toLowerCase",()=>aN,"_toUpperCase",()=>aR,"_transform",()=>aV,"_trim",()=>ak,"_tuple",()=>aK,"_uint32",()=>oY,"_uint64",()=>o3,"_ulid",()=>ok,"_undefined",()=>o6,"_union",()=>aD,"_unknown",()=>o7,"_uppercase",()=>a_,"_url",()=>oT,"_uuid",()=>ow,"_uuidv4",()=>o_,"_uuidv6",()=>oS,"_uuidv7",()=>oE,"_void",()=>at,"_xid",()=>oN],862061);class a7{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??og,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let i=e._zod.def,n={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let s=e._zod.toJSONSchema?.();if(s)a.schema=s;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},o=e._zod.parent;if(o)a.ref=o,this.process(o,r),this.seen.get(o).isParent=!0;else{let t=a.schema;switch(i.type){case"string":{let r=t;r.type="string";let{minimum:i,maximum:o,format:s,patterns:l,contentEncoding:u}=e._zod.bag;if("number"==typeof i&&(r.minLength=i),"number"==typeof o&&(r.maxLength=o),s&&(r.format=n[s]??s,""===r.format&&delete r.format),u&&(r.contentEncoding=u),l&&l.size>0){let e=[...l];1===e.length?r.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let r=t,{minimum:i,maximum:n,format:o,multipleOf:a,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"==typeof o&&o.includes("int")?r.type="integer":r.type="number","number"==typeof l&&("draft-4"===this.target||"openapi-3.0"===this.target?(r.minimum=l,r.exclusiveMinimum=!0):r.exclusiveMinimum=l),"number"==typeof i&&(r.minimum=i,"number"==typeof l&&"draft-4"!==this.target&&(l>=i?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(r.maximum=s,r.exclusiveMaximum=!0):r.exclusiveMaximum=s),"number"==typeof n&&(r.maximum=n,"number"==typeof s&&"draft-4"!==this.target&&(s<=n?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof a&&(r.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let n=t,{minimum:o,maximum:a}=e._zod.bag;"number"==typeof o&&(n.minItems=o),"number"==typeof a&&(n.maxItems=a),n.type="array",n.items=this.process(i.element,{...r,path:[...r.path,"items"]});break}case"object":{let e=t;e.type="object",e.properties={};let n=i.shape;for(let t in n)e.properties[t]=this.process(n[t],{...r,path:[...r.path,"properties",t]});let o=new Set([...new Set(Object.keys(n))].filter(e=>{let t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));o.size>0&&(e.required=Array.from(o)),i.catchall?._zod.def.type==="never"?e.additionalProperties=!1:i.catchall?i.catchall&&(e.additionalProperties=this.process(i.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(e.additionalProperties=!1);break}case"union":t.anyOf=i.options.map((e,t)=>this.process(e,{...r,path:[...r.path,"anyOf",t]}));break;case"intersection":{let e=t,n=this.process(i.left,{...r,path:[...r.path,"allOf",0]}),o=this.process(i.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;e.allOf=[...a(n)?n.allOf:[n],...a(o)?o.allOf:[o]];break}case"tuple":{let n=t;n.type="array";let o="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=i.items.map((e,t)=>this.process(e,{...r,path:[...r.path,o,t]})),l=i.rest?this.process(i.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[i.items.length]:[]]}):null;"draft-2020-12"===this.target?(n.prefixItems=s,l&&(n.items=l)):"openapi-3.0"===this.target?(n.items={anyOf:s},l&&n.items.anyOf.push(l),n.minItems=s.length,l||(n.maxItems=s.length)):(n.items=s,l&&(n.additionalItems=l));let{minimum:u,maximum:c}=e._zod.bag;"number"==typeof u&&(n.minItems=u),"number"==typeof c&&(n.maxItems=c);break}case"record":{let e=t;e.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(e.propertyNames=this.process(i.keyType,{...r,path:[...r.path,"propertyNames"]})),e.additionalProperties=this.process(i.valueType,{...r,path:[...r.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=t,r=f(i.entries);r.every(e=>"number"==typeof e)&&(e.type="number"),r.every(e=>"string"==typeof e)&&(e.type="string"),e.enum=r;break}case"literal":{let e=t,r=[];for(let e of i.values)if(void 0===e){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else r.push(Number(e));else r.push(e);if(0===r.length);else if(1===r.length){let t=r[0];e.type=null===t?"null":typeof t,"draft-4"===this.target||"openapi-3.0"===this.target?e.enum=[t]:e.const=t}else r.every(e=>"number"==typeof e)&&(e.type="number"),r.every(e=>"string"==typeof e)&&(e.type="string"),r.every(e=>"boolean"==typeof e)&&(e.type="string"),r.every(e=>null===e)&&(e.type="null"),e.enum=r;break}case"file":{let r=t,i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:n,maximum:o,mime:a}=e._zod.bag;void 0!==n&&(i.minLength=n),void 0!==o&&(i.maxLength=o),a?1===a.length?(i.contentMediaType=a[0],Object.assign(r,i)):r.anyOf=a.map(e=>({...i,contentMediaType:e})):Object.assign(r,i);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(i.innerType,r);"openapi-3.0"===this.target?(a.ref=i.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,r),a.ref=i.innerType;break;case"default":this.process(i.innerType,r),a.ref=i.innerType,t.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,r),a.ref=i.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,r),a.ref=i.innerType;try{e=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=t,i=e._zod.pattern;if(!i)throw Error("Pattern not found in template literal");r.type="string",r.pattern=i.source;break}case"pipe":{let e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(i.innerType,r),a.ref=i.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let l=this.metadataRegistry.get(e);return l&&Object.assign(a.schema,l),"input"===this.io&&st(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let n=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let i=r.external.registry.get(e[0])?.id,n=r.external.uri??(e=>e);if(i)return{ref:n(i)};let o=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=o,{defId:o,ref:`${n("__shared")}#/${t}/${o}`}}if(e[1]===i)return{ref:"#"};let n="#",o=`${n}/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:o+a}},o=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:i}=n(e);t.def={...t.schema},i&&(t.defId=i);let o=t.schema;for(let e in o)delete o[e];o.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let i=t[1];if(e===t[0]){o(t);continue}if(r.external){let i=r.external.registry.get(t[0])?.id;if(e!==t[0]&&i){o(t);continue}}if(this.metadataRegistry.get(t[0])?.id||i.cycle||i.count>1&&"ref"===r.reused){o(t);continue}}let a=(e,t)=>{let r=this.seen.get(e),i=r.def??r.schema,n={...i};if(null===r.ref)return;let o=r.ref;if(r.ref=null,o){a(o,t);let e=this.seen.get(o).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(i.allOf=i.allOf??[],i.allOf.push(e)):(Object.assign(i,e),Object.assign(i,n))}r.isParent||this.override({zodSchema:e,jsonSchema:i,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())a(e[0],{target:this.target});let s={};if("draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?s.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");s.$id=r.external.uri(t)}Object.assign(s,i.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch(e){throw Error("Error converting schema to JSON.")}}}function se(e,t){if(e instanceof oh){let r=new a7(t),i={};for(let t of e._idmap.entries()){let[e,i]=t;r.process(i)}let n={},o={registry:e,uri:t?.uri,defs:i};for(let i of e._idmap.entries()){let[e,a]=i;n[e]=r.emit(a,{...t,external:o})}return Object.keys(i).length>0&&(n.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:i}),{schemas:n}}let r=new a7(t);return r.process(e),r.emit(e,t)}function st(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let i=e._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return st(i.element,r);case"object":for(let e in i.shape)if(st(i.shape[e],r))return!0;return!1;case"union":for(let e of i.options)if(st(e,r))return!0;return!1;case"intersection":return st(i.left,r)||st(i.right,r);case"tuple":for(let e of i.items)if(st(e,r))return!0;if(i.rest&&st(i.rest,r))return!0;return!1;case"record":case"map":return st(i.keyType,r)||st(i.valueType,r);case"set":return st(i.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return st(i.innerType,r);case"lazy":return st(i.getter(),r);case"transform":return!0;case"pipe":return st(i.in,r)||st(i.out,r)}throw Error(`Unknown schema type: ${i.type}`)}e.s(["JSONSchemaGenerator",()=>a7,"toJSONSchema",()=>se],207159),e.s([],233145),e.s([],482811),e.s(["ZodAny",()=>lK,"ZodArray",()=>lG,"ZodBase64",()=>li,"ZodBase64URL",()=>lo,"ZodBigInt",()=>lI,"ZodBigIntFormat",()=>lO,"ZodBoolean",()=>lE,"ZodCIDRv4",()=>s7,"ZodCIDRv6",()=>lt,"ZodCUID",()=>sZ,"ZodCUID2",()=>sQ,"ZodCatch",()=>ux,"ZodCodec",()=>uP,"ZodCustom",()=>uV,"ZodCustomStringFormat",()=>ld,"ZodDate",()=>lV,"ZodDefault",()=>ub,"ZodDiscriminatedUnion",()=>l2,"ZodE164",()=>ls,"ZodEmail",()=>sP,"ZodEmoji",()=>sV,"ZodEnum",()=>uo,"ZodFile",()=>uc,"ZodFunction",()=>uF,"ZodGUID",()=>sU,"ZodIPv4",()=>s5,"ZodIPv6",()=>s8,"ZodIntersection",()=>l3,"ZodJWT",()=>lu,"ZodKSUID",()=>s4,"ZodLazy",()=>uB,"ZodLiteral",()=>ul,"ZodMap",()=>ut,"ZodNaN",()=>uC,"ZodNanoID",()=>sG,"ZodNever",()=>l$,"ZodNonOptional",()=>uS,"ZodNull",()=>lU,"ZodNullable",()=>ug,"ZodNumber",()=>lg,"ZodNumberFormat",()=>lv,"ZodObject",()=>lJ,"ZodOptional",()=>uh,"ZodPipe",()=>uN,"ZodPrefault",()=>uw,"ZodPromise",()=>u$,"ZodReadonly",()=>uU,"ZodRecord",()=>l9,"ZodSet",()=>ui,"ZodString",()=>sk,"ZodStringFormat",()=>sR,"ZodSuccess",()=>uT,"ZodSymbol",()=>lN,"ZodTemplateLiteral",()=>uK,"ZodTransform",()=>up,"ZodTuple",()=>l6,"ZodType",()=>sO,"ZodULID",()=>sX,"ZodURL",()=>sz,"ZodUUID",()=>sK,"ZodUndefined",()=>lP,"ZodUnion",()=>l0,"ZodUnknown",()=>lB,"ZodVoid",()=>lF,"ZodXID",()=>s1,"_ZodString",()=>sC,"_default",()=>uA,"_function",()=>uq,"any",()=>lM,"array",()=>lW,"base64",()=>ln,"base64url",()=>la,"bigint",()=>lx,"boolean",()=>lT,"catch",()=>uO,"check",()=>uH,"cidrv4",()=>le,"cidrv6",()=>lr,"codec",()=>uD,"cuid",()=>sJ,"cuid2",()=>sY,"custom",()=>uG,"date",()=>lH,"discriminatedUnion",()=>l4,"e164",()=>ll,"email",()=>sD,"emoji",()=>sH,"enum",()=>ua,"file",()=>ud,"float32",()=>lA,"float64",()=>lw,"function",()=>uq,"guid",()=>sL,"hash",()=>lm,"hex",()=>lh,"hostname",()=>lf,"httpUrl",()=>sq,"instanceof",()=>uJ,"int",()=>lb,"int32",()=>l_,"int64",()=>lC,"intersection",()=>l5,"ipv4",()=>s6,"ipv6",()=>s9,"json",()=>uY,"jwt",()=>lc,"keyof",()=>lZ,"ksuid",()=>s3,"lazy",()=>uj,"literal",()=>uu,"looseObject",()=>lX,"map",()=>ur,"nan",()=>uk,"nanoid",()=>sW,"nativeEnum",()=>us,"never",()=>lz,"nonoptional",()=>uE,"null",()=>lL,"nullable",()=>uy,"nullish",()=>uv,"number",()=>ly,"object",()=>lQ,"optional",()=>um,"partialRecord",()=>ue,"pipe",()=>uR,"prefault",()=>u_,"preprocess",()=>uX,"promise",()=>uz,"readonly",()=>uL,"record",()=>l7,"refine",()=>uW,"set",()=>un,"strictObject",()=>lY,"string",()=>sN,"stringFormat",()=>lp,"stringbool",()=>uQ,"success",()=>uI,"superRefine",()=>uZ,"symbol",()=>lR,"templateLiteral",()=>uM,"transform",()=>uf,"tuple",()=>l8,"uint32",()=>lS,"uint64",()=>lk,"ulid",()=>s0,"undefined",()=>lD,"union",()=>l1,"unknown",()=>lj,"url",()=>sF,"uuid",()=>sM,"uuidv4",()=>sB,"uuidv6",()=>sj,"uuidv7",()=>s$,"void",()=>lq,"xid",()=>s2],907855),e.i(639510),e.s(["$ZodAny",0,rV,"$ZodArray",0,rQ,"$ZodBase64",0,rk,"$ZodBase64URL",0,rR,"$ZodBigInt",0,rj,"$ZodBigIntFormat",0,r$,"$ZodBoolean",0,rB,"$ZodCIDRv4",0,rx,"$ZodCIDRv6",0,rO,"$ZodCUID",0,rg,"$ZodCUID2",0,ry,"$ZodCatch",0,iw,"$ZodCodec",0,iT,"$ZodCustom",0,iD,"$ZodCustomStringFormat",0,rL,"$ZodDate",0,rZ,"$ZodDefault",0,im,"$ZodDiscriminatedUnion",0,r5,"$ZodE164",0,rP,"$ZodEmail",0,rp,"$ZodEmoji",0,rh,"$ZodEnum",0,is,"$ZodFile",0,iu,"$ZodFunction",0,iN,"$ZodGUID",0,rc,"$ZodIPv4",0,rT,"$ZodIPv6",0,rI,"$ZodISODate",0,r_,"$ZodISODateTime",0,rw,"$ZodISODuration",0,rE,"$ZodISOTime",0,rS,"$ZodIntersection",0,r6,"$ZodJWT",0,rU,"$ZodKSUID",0,rA,"$ZodLazy",0,iP,"$ZodLiteral",0,il,"$ZodMap",0,ir,"$ZodNaN",0,i_,"$ZodNanoID",0,rm,"$ZodNever",0,rG,"$ZodNonOptional",0,iv,"$ZodNull",0,rq,"$ZodNullable",0,ih,"$ZodNumber",0,rK,"$ZodNumberFormat",0,rM,"$ZodObject",0,r1,"$ZodObjectJIT",0,r2,"$ZodOptional",0,ip,"$ZodPipe",0,iS,"$ZodPrefault",0,iy,"$ZodPromise",0,iR,"$ZodReadonly",0,iO,"$ZodRecord",0,it,"$ZodSet",0,io,"$ZodString",0,rl,"$ZodStringFormat",0,ru,"$ZodSuccess",0,iA,"$ZodSymbol",0,rz,"$ZodTemplateLiteral",0,ik,"$ZodTransform",0,ic,"$ZodTuple",0,r7,"$ZodType",0,rs,"$ZodULID",0,rv,"$ZodURL",0,rf,"$ZodUUID",0,rd,"$ZodUndefined",0,rF,"$ZodUnion",0,r3,"$ZodUnknown",0,rH,"$ZodVoid",0,rW,"$ZodXID",0,rb,"clone",()=>j,"isValidBase64",()=>rC,"isValidBase64URL",()=>rN,"isValidJWT",()=>rD],662429);var sr,si=e.i(421131),si=si,sn=e.i(486618),sn=sn;e.s([],664328),e.s(["ZodISODate",()=>ss,"ZodISODateTime",()=>so,"ZodISODuration",()=>sd,"ZodISOTime",()=>su,"date",()=>sl,"datetime",()=>sa,"duration",()=>sp,"time",()=>sc],551047);let so=r("ZodISODateTime",(e,t)=>{rw.init(e,t),sR.init(e,t)});function sa(e){return oz(so,e)}let ss=r("ZodISODate",(e,t)=>{r_.init(e,t),sR.init(e,t)});function sl(e){return oF(ss,e)}let su=r("ZodISOTime",(e,t)=>{rS.init(e,t),sR.init(e,t)});function sc(e){return oq(su,e)}let sd=r("ZodISODuration",(e,t)=>{rE.init(e,t),sR.init(e,t)});function sp(e){return oV(sd,e)}let sf=(e,t)=>{eg.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>eb(e,t)},flatten:{value:t=>ev(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,m,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,m,2)}},isEmpty:{get:()=>0===e.issues.length}})},sh=r("ZodError",sf),sm=r("ZodError",sf,{Parent:Error});e.s(["ZodError",0,sh,"ZodRealError",0,sm],963585);let sg=eS(sm),sy=eT(sm),sv=ex(sm),sb=eC(sm),sA=eN(sm),sw=eP(sm),s_=eU(sm),sS=eK(sm),sE=eB(sm),sT=e$(sm),sI=eF(sm),sx=eV(sm);e.s(["decode",0,sw,"decodeAsync",0,sS,"encode",0,sA,"encodeAsync",0,s_,"parse",0,sg,"parseAsync",0,sy,"safeDecode",0,sT,"safeDecodeAsync",0,sx,"safeEncode",0,sE,"safeEncodeAsync",0,sI,"safeParse",0,sv,"safeParseAsync",0,sb],248804);let sO=r("ZodType",(e,t)=>(rs.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(sn.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>j(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>sg(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>sv(e,t,r),e.parseAsync=async(t,r)=>sy(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>sb(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>sA(e,t,r),e.decode=(t,r)=>sw(e,t,r),e.encodeAsync=async(t,r)=>s_(e,t,r),e.decodeAsync=async(t,r)=>sS(e,t,r),e.safeEncode=(t,r)=>sE(e,t,r),e.safeDecode=(t,r)=>sT(e,t,r),e.safeEncodeAsync=async(t,r)=>sI(e,t,r),e.safeDecodeAsync=async(t,r)=>sx(e,t,r),e.refine=(t,r)=>e.check(uW(t,r)),e.superRefine=t=>e.check(uZ(t)),e.overwrite=t=>e.check(aO(t)),e.optional=()=>um(e),e.nullable=()=>uy(e),e.nullish=()=>um(uy(e)),e.nonoptional=t=>uE(e,t),e.array=()=>lW(e),e.or=t=>l1([e,t]),e.and=t=>l5(e,t),e.transform=t=>uR(e,uf(t)),e.default=t=>uA(e,t),e.prefault=t=>u_(e,t),e.catch=t=>uO(e,t),e.pipe=t=>uR(e,t),e.readonly=()=>uL(e),e.describe=t=>{let r=e.clone();return og.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>og.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return og.get(e);let r=e.clone();return og.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),sC=r("_ZodString",(e,t)=>{rl.init(e,t),sO.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(aA(...t)),e.includes=(...t)=>e.check(aS(...t)),e.startsWith=(...t)=>e.check(aE(...t)),e.endsWith=(...t)=>e.check(aT(...t)),e.min=(...t)=>e.check(av(...t)),e.max=(...t)=>e.check(ay(...t)),e.length=(...t)=>e.check(ab(...t)),e.nonempty=(...t)=>e.check(av(1,...t)),e.lowercase=t=>e.check(aw(t)),e.uppercase=t=>e.check(a_(t)),e.trim=()=>e.check(ak()),e.normalize=(...t)=>e.check(aC(...t)),e.toLowerCase=()=>e.check(aN()),e.toUpperCase=()=>e.check(aR())}),sk=r("ZodString",(e,t)=>{rl.init(e,t),sC.init(e,t),e.email=t=>e.check(ob(sP,t)),e.url=t=>e.check(oT(sz,t)),e.jwt=t=>e.check(oj(lu,t)),e.emoji=t=>e.check(oI(sV,t)),e.guid=t=>e.check(oA(sU,t)),e.uuid=t=>e.check(ow(sK,t)),e.uuidv4=t=>e.check(o_(sK,t)),e.uuidv6=t=>e.check(oS(sK,t)),e.uuidv7=t=>e.check(oE(sK,t)),e.nanoid=t=>e.check(ox(sG,t)),e.guid=t=>e.check(oA(sU,t)),e.cuid=t=>e.check(oO(sZ,t)),e.cuid2=t=>e.check(oC(sQ,t)),e.ulid=t=>e.check(ok(sX,t)),e.base64=t=>e.check(oK(li,t)),e.base64url=t=>e.check(oM(lo,t)),e.xid=t=>e.check(oN(s1,t)),e.ksuid=t=>e.check(oR(s4,t)),e.ipv4=t=>e.check(oP(s5,t)),e.ipv6=t=>e.check(oD(s8,t)),e.cidrv4=t=>e.check(oU(s7,t)),e.cidrv6=t=>e.check(oL(lt,t)),e.e164=t=>e.check(oB(ls,t)),e.datetime=t=>e.check(sa(t)),e.date=t=>e.check(sl(t)),e.time=t=>e.check(sc(t)),e.duration=t=>e.check(sp(t))});function sN(e){return oy(sk,e)}let sR=r("ZodStringFormat",(e,t)=>{ru.init(e,t),sC.init(e,t)}),sP=r("ZodEmail",(e,t)=>{rp.init(e,t),sR.init(e,t)});function sD(e){return ob(sP,e)}let sU=r("ZodGUID",(e,t)=>{rc.init(e,t),sR.init(e,t)});function sL(e){return oA(sU,e)}let sK=r("ZodUUID",(e,t)=>{rd.init(e,t),sR.init(e,t)});function sM(e){return ow(sK,e)}function sB(e){return o_(sK,e)}function sj(e){return oS(sK,e)}function s$(e){return oE(sK,e)}let sz=r("ZodURL",(e,t)=>{rf.init(e,t),sR.init(e,t)});function sF(e){return oT(sz,e)}function sq(e){return oT(sz,{protocol:/^https?$/,hostname:si.domain,...sn.normalizeParams(e)})}let sV=r("ZodEmoji",(e,t)=>{rh.init(e,t),sR.init(e,t)});function sH(e){return oI(sV,e)}let sG=r("ZodNanoID",(e,t)=>{rm.init(e,t),sR.init(e,t)});function sW(e){return ox(sG,e)}let sZ=r("ZodCUID",(e,t)=>{rg.init(e,t),sR.init(e,t)});function sJ(e){return oO(sZ,e)}let sQ=r("ZodCUID2",(e,t)=>{ry.init(e,t),sR.init(e,t)});function sY(e){return oC(sQ,e)}let sX=r("ZodULID",(e,t)=>{rv.init(e,t),sR.init(e,t)});function s0(e){return ok(sX,e)}let s1=r("ZodXID",(e,t)=>{rb.init(e,t),sR.init(e,t)});function s2(e){return oN(s1,e)}let s4=r("ZodKSUID",(e,t)=>{rA.init(e,t),sR.init(e,t)});function s3(e){return oR(s4,e)}let s5=r("ZodIPv4",(e,t)=>{rT.init(e,t),sR.init(e,t)});function s6(e){return oP(s5,e)}let s8=r("ZodIPv6",(e,t)=>{rI.init(e,t),sR.init(e,t)});function s9(e){return oD(s8,e)}let s7=r("ZodCIDRv4",(e,t)=>{rx.init(e,t),sR.init(e,t)});function le(e){return oU(s7,e)}let lt=r("ZodCIDRv6",(e,t)=>{rO.init(e,t),sR.init(e,t)});function lr(e){return oL(lt,e)}let li=r("ZodBase64",(e,t)=>{rk.init(e,t),sR.init(e,t)});function ln(e){return oK(li,e)}let lo=r("ZodBase64URL",(e,t)=>{rR.init(e,t),sR.init(e,t)});function la(e){return oM(lo,e)}let ls=r("ZodE164",(e,t)=>{rP.init(e,t),sR.init(e,t)});function ll(e){return oB(ls,e)}let lu=r("ZodJWT",(e,t)=>{rU.init(e,t),sR.init(e,t)});function lc(e){return oj(lu,e)}let ld=r("ZodCustomStringFormat",(e,t)=>{rL.init(e,t),sR.init(e,t)});function lp(e,t,r={}){return a9(ld,e,t,r)}function lf(e){return a9(ld,"hostname",si.hostname,e)}function lh(e){return a9(ld,"hex",si.hex,e)}function lm(e,t){let r=t?.enc??"hex",i=`${e}_${r}`,n=si[i];if(!n)throw Error(`Unrecognized hash format: ${i}`);return a9(ld,i,n,t)}let lg=r("ZodNumber",(e,t)=>{rK.init(e,t),sO.init(e,t),e.gt=(t,r)=>e.check(as(t,r)),e.gte=(t,r)=>e.check(al(t,r)),e.min=(t,r)=>e.check(al(t,r)),e.lt=(t,r)=>e.check(ao(t,r)),e.lte=(t,r)=>e.check(aa(t,r)),e.max=(t,r)=>e.check(aa(t,r)),e.int=t=>e.check(lb(t)),e.safe=t=>e.check(lb(t)),e.positive=t=>e.check(as(0,t)),e.nonnegative=t=>e.check(al(0,t)),e.negative=t=>e.check(ao(0,t)),e.nonpositive=t=>e.check(aa(0,t)),e.multipleOf=(t,r)=>e.check(af(t,r)),e.step=(t,r)=>e.check(af(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function ly(e){return oH(lg,e)}let lv=r("ZodNumberFormat",(e,t)=>{rM.init(e,t),lg.init(e,t)});function lb(e){return oW(lv,e)}function lA(e){return oZ(lv,e)}function lw(e){return oJ(lv,e)}function l_(e){return oQ(lv,e)}function lS(e){return oY(lv,e)}let lE=r("ZodBoolean",(e,t)=>{rB.init(e,t),sO.init(e,t)});function lT(e){return oX(lE,e)}let lI=r("ZodBigInt",(e,t)=>{rj.init(e,t),sO.init(e,t),e.gte=(t,r)=>e.check(al(t,r)),e.min=(t,r)=>e.check(al(t,r)),e.gt=(t,r)=>e.check(as(t,r)),e.gte=(t,r)=>e.check(al(t,r)),e.min=(t,r)=>e.check(al(t,r)),e.lt=(t,r)=>e.check(ao(t,r)),e.lte=(t,r)=>e.check(aa(t,r)),e.max=(t,r)=>e.check(aa(t,r)),e.positive=t=>e.check(as(BigInt(0),t)),e.negative=t=>e.check(ao(BigInt(0),t)),e.nonpositive=t=>e.check(aa(BigInt(0),t)),e.nonnegative=t=>e.check(al(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(af(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function lx(e){return o1(lI,e)}let lO=r("ZodBigIntFormat",(e,t)=>{r$.init(e,t),lI.init(e,t)});function lC(e){return o4(lO,e)}function lk(e){return o3(lO,e)}let lN=r("ZodSymbol",(e,t)=>{rz.init(e,t),sO.init(e,t)});function lR(e){return o5(lN,e)}let lP=r("ZodUndefined",(e,t)=>{rF.init(e,t),sO.init(e,t)});function lD(e){return o6(lP,e)}let lU=r("ZodNull",(e,t)=>{rq.init(e,t),sO.init(e,t)});function lL(e){return o8(lU,e)}let lK=r("ZodAny",(e,t)=>{rV.init(e,t),sO.init(e,t)});function lM(){return o9(lK)}let lB=r("ZodUnknown",(e,t)=>{rH.init(e,t),sO.init(e,t)});function lj(){return o7(lB)}let l$=r("ZodNever",(e,t)=>{rG.init(e,t),sO.init(e,t)});function lz(e){return ae(l$,e)}let lF=r("ZodVoid",(e,t)=>{rW.init(e,t),sO.init(e,t)});function lq(e){return at(lF,e)}let lV=r("ZodDate",(e,t)=>{rZ.init(e,t),sO.init(e,t),e.min=(t,r)=>e.check(al(t,r)),e.max=(t,r)=>e.check(aa(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function lH(e){return ar(lV,e)}let lG=r("ZodArray",(e,t)=>{rQ.init(e,t),sO.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(av(t,r)),e.nonempty=t=>e.check(av(1,t)),e.max=(t,r)=>e.check(ay(t,r)),e.length=(t,r)=>e.check(ab(t,r)),e.unwrap=()=>e.element});function lW(e,t){return aP(lG,e,t)}function lZ(e){return ua(Object.keys(e._zod.def.shape))}let lJ=r("ZodObject",(e,t)=>{r2.init(e,t),sO.init(e,t),sn.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>ua(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:lj()}),e.loose=()=>e.clone({...e._zod.def,catchall:lj()}),e.strict=()=>e.clone({...e._zod.def,catchall:lz()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>sn.extend(e,t),e.safeExtend=t=>sn.safeExtend(e,t),e.merge=t=>sn.merge(e,t),e.pick=t=>sn.pick(e,t),e.omit=t=>sn.omit(e,t),e.partial=(...t)=>sn.partial(uh,e,t[0]),e.required=(...t)=>sn.required(uS,e,t[0])});function lQ(e,t){return new lJ({type:"object",shape:e??{},...sn.normalizeParams(t)})}function lY(e,t){return new lJ({type:"object",shape:e,catchall:lz(),...sn.normalizeParams(t)})}function lX(e,t){return new lJ({type:"object",shape:e,catchall:lj(),...sn.normalizeParams(t)})}let l0=r("ZodUnion",(e,t)=>{r3.init(e,t),sO.init(e,t),e.options=t.options});function l1(e,t){return new l0({type:"union",options:e,...sn.normalizeParams(t)})}let l2=r("ZodDiscriminatedUnion",(e,t)=>{l0.init(e,t),r5.init(e,t)});function l4(e,t,r){return new l2({type:"union",options:t,discriminator:e,...sn.normalizeParams(r)})}let l3=r("ZodIntersection",(e,t)=>{r6.init(e,t),sO.init(e,t)});function l5(e,t){return new l3({type:"intersection",left:e,right:t})}let l6=r("ZodTuple",(e,t)=>{r7.init(e,t),sO.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function l8(e,t,r){let i=t instanceof rs,n=i?r:t;return new l6({type:"tuple",items:e,rest:i?t:null,...sn.normalizeParams(n)})}let l9=r("ZodRecord",(e,t)=>{it.init(e,t),sO.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function l7(e,t,r){return new l9({type:"record",keyType:e,valueType:t,...sn.normalizeParams(r)})}function ue(e,t,r){let i=j(e);return i._zod.values=void 0,new l9({type:"record",keyType:i,valueType:t,...sn.normalizeParams(r)})}let ut=r("ZodMap",(e,t)=>{ir.init(e,t),sO.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function ur(e,t,r){return new ut({type:"map",keyType:e,valueType:t,...sn.normalizeParams(r)})}let ui=r("ZodSet",(e,t)=>{io.init(e,t),sO.init(e,t),e.min=(...t)=>e.check(am(...t)),e.nonempty=t=>e.check(am(1,t)),e.max=(...t)=>e.check(ah(...t)),e.size=(...t)=>e.check(ag(...t))});function un(e,t){return new ui({type:"set",valueType:e,...sn.normalizeParams(t)})}let uo=r("ZodEnum",(e,t)=>{is.init(e,t),sO.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new uo({...t,checks:[],...sn.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new uo({...t,checks:[],...sn.normalizeParams(i),entries:n})}});function ua(e,t){return new uo({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...sn.normalizeParams(t)})}function us(e,t){return new uo({type:"enum",entries:e,...sn.normalizeParams(t)})}let ul=r("ZodLiteral",(e,t)=>{il.init(e,t),sO.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function uu(e,t){return new ul({type:"literal",values:Array.isArray(e)?e:[e],...sn.normalizeParams(t)})}let uc=r("ZodFile",(e,t)=>{iu.init(e,t),sO.init(e,t),e.min=(t,r)=>e.check(am(t,r)),e.max=(t,r)=>e.check(ah(t,r)),e.mime=(t,r)=>e.check(ax(Array.isArray(t)?t:[t],r))});function ud(e){return aq(uc,e)}let up=r("ZodTransform",(e,t)=>{ic.init(e,t),sO.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new o(e.constructor.name);r.addIssue=i=>{if("string"==typeof i)r.issues.push(sn.issue(i,r.value,t));else{let t=i;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=r.value),t.inst??(t.inst=e),r.issues.push(sn.issue(t))}};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}});function uf(e){return new up({type:"transform",transform:e})}let uh=r("ZodOptional",(e,t)=>{ip.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function um(e){return new uh({type:"optional",innerType:e})}let ug=r("ZodNullable",(e,t)=>{ih.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uy(e){return new ug({type:"nullable",innerType:e})}function uv(e){return um(uy(e))}let ub=r("ZodDefault",(e,t)=>{im.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function uA(e,t){return new ub({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():sn.shallowClone(t)}})}let uw=r("ZodPrefault",(e,t)=>{iy.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function u_(e,t){return new uw({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():sn.shallowClone(t)}})}let uS=r("ZodNonOptional",(e,t)=>{iv.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uE(e,t){return new uS({type:"nonoptional",innerType:e,...sn.normalizeParams(t)})}let uT=r("ZodSuccess",(e,t)=>{iA.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uI(e){return new uT({type:"success",innerType:e})}let ux=r("ZodCatch",(e,t)=>{iw.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function uO(e,t){return new ux({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let uC=r("ZodNaN",(e,t)=>{i_.init(e,t),sO.init(e,t)});function uk(e){return an(uC,e)}let uN=r("ZodPipe",(e,t)=>{iS.init(e,t),sO.init(e,t),e.in=t.in,e.out=t.out});function uR(e,t){return new uN({type:"pipe",in:e,out:t})}let uP=r("ZodCodec",(e,t)=>{uN.init(e,t),iT.init(e,t)});function uD(e,t,r){return new uP({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let uU=r("ZodReadonly",(e,t)=>{iO.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uL(e){return new uU({type:"readonly",innerType:e})}let uK=r("ZodTemplateLiteral",(e,t)=>{ik.init(e,t),sO.init(e,t)});function uM(e,t){return new uK({type:"template_literal",parts:e,...sn.normalizeParams(t)})}let uB=r("ZodLazy",(e,t)=>{iP.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.getter()});function uj(e){return new uB({type:"lazy",getter:e})}let u$=r("ZodPromise",(e,t)=>{iR.init(e,t),sO.init(e,t),e.unwrap=()=>e._zod.def.innerType});function uz(e){return new u$({type:"promise",innerType:e})}let uF=r("ZodFunction",(e,t)=>{iN.init(e,t),sO.init(e,t)});function uq(e){return new uF({type:"function",input:Array.isArray(e?.input)?l8(e?.input):e?.input??lW(lj()),output:e?.output??lj()})}let uV=r("ZodCustom",(e,t)=>{iD.init(e,t),sO.init(e,t)});function uH(e){let t=new tV({check:"custom"});return t._zod.check=e,t}function uG(e,t){return a4(uV,e??(()=>!0),t)}function uW(e,t={}){return a3(uV,e,t)}function uZ(e){return a5(e)}function uJ(e,t={error:`Input not instance of ${e.name}`}){let r=new uV({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...sn.normalizeParams(t)});return r._zod.bag.Class=e,r}let uQ=(...e)=>a8({Codec:uP,Boolean:lE,String:sk},...e);function uY(e){let t=uj(()=>l1([sN(e),ly(),lT(),lL(),lW(t),l7(sN(),t)]));return t}function uX(e,t){return uR(uf(e),t)}let u0={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function u1(e){s({customError:e})}function u2(){return s().customError}function u4(e){return ov(sk,e)}function u3(e){return oG(lg,e)}function u5(e){return o0(lE,e)}function u6(e){return o2(lI,e)}function u8(e){return ai(lV,e)}sr||(sr={}),e.s(["ZodFirstPartyTypeKind",()=>sr,"ZodIssueCode",0,u0,"getErrorMap",()=>u2,"setErrorMap",()=>u1],733137),e.s(["bigint",()=>u6,"boolean",()=>u5,"date",()=>u8,"number",()=>u3,"string",()=>u4],513286),s(i2()),e.s([],654048),e.i(654048),e.i(482811),e.i(127438),e.i(715143),e.i(67021),e.i(662429),e.i(236608),e.i(622824);var u9=sn,u7=si;e.i(879113),e.s(["ar",0,iK,"az",0,iB,"be",0,iz,"bg",0,iV,"ca",0,iG,"cs",0,iZ,"da",0,iQ,"de",0,iX,"en",0,i2,"eo",0,i5,"es",0,i8,"fa",0,i7,"fi",0,nt,"fr",0,ni,"frCA",0,no,"he",0,ns,"hu",0,nu,"id",0,nd,"is",0,nh,"it",0,ng,"ja",0,nv,"ka",0,nw,"kh",0,nE,"km",0,nS,"ko",0,nI,"lt",0,nR,"mk",0,nD,"ms",0,nL,"nl",0,nM,"no",0,nj,"ota",0,nz,"pl",0,nH,"ps",0,nq,"pt",0,nW,"ru",0,nQ,"sl",0,nX,"sv",0,n1,"ta",0,n4,"th",0,n5,"tr",0,n9,"ua",0,ot,"uk",0,oe,"ur",0,oi,"vi",0,oo,"yo",0,od,"zhCN",0,os,"zhTW",0,ou],860544);var ce=e.i(860544);e.i(52637),e.i(173911),e.i(862061),e.i(207159);var ct=e.i(233145);e.s(["$ZodAny",0,rV,"$ZodArray",0,rQ,"$ZodAsyncError",()=>n,"$ZodBase64",0,rk,"$ZodBase64URL",0,rR,"$ZodBigInt",0,rj,"$ZodBigIntFormat",0,r$,"$ZodBoolean",0,rB,"$ZodCIDRv4",0,rx,"$ZodCIDRv6",0,rO,"$ZodCUID",0,rg,"$ZodCUID2",0,ry,"$ZodCatch",0,iw,"$ZodCheck",0,tV,"$ZodCheckBigIntFormat",0,tQ,"$ZodCheckEndsWith",0,re,"$ZodCheckGreaterThan",0,tW,"$ZodCheckIncludes",0,t9,"$ZodCheckLengthEquals",0,t4,"$ZodCheckLessThan",0,tG,"$ZodCheckLowerCase",0,t6,"$ZodCheckMaxLength",0,t1,"$ZodCheckMaxSize",0,tY,"$ZodCheckMimeType",0,ri,"$ZodCheckMinLength",0,t2,"$ZodCheckMinSize",0,tX,"$ZodCheckMultipleOf",0,tZ,"$ZodCheckNumberFormat",0,tJ,"$ZodCheckOverwrite",0,rn,"$ZodCheckProperty",0,rr,"$ZodCheckRegex",0,t5,"$ZodCheckSizeEquals",0,t0,"$ZodCheckStartsWith",0,t7,"$ZodCheckStringFormat",0,t3,"$ZodCheckUpperCase",0,t8,"$ZodCodec",0,iT,"$ZodCustom",0,iD,"$ZodCustomStringFormat",0,rL,"$ZodDate",0,rZ,"$ZodDefault",0,im,"$ZodDiscriminatedUnion",0,r5,"$ZodE164",0,rP,"$ZodEmail",0,rp,"$ZodEmoji",0,rh,"$ZodEncodeError",()=>o,"$ZodEnum",0,is,"$ZodError",0,eg,"$ZodFile",0,iu,"$ZodFunction",0,iN,"$ZodGUID",0,rc,"$ZodIPv4",0,rT,"$ZodIPv6",0,rI,"$ZodISODate",0,r_,"$ZodISODateTime",0,rw,"$ZodISODuration",0,rE,"$ZodISOTime",0,rS,"$ZodIntersection",0,r6,"$ZodJWT",0,rU,"$ZodKSUID",0,rA,"$ZodLazy",0,iP,"$ZodLiteral",0,il,"$ZodMap",0,ir,"$ZodNaN",0,i_,"$ZodNanoID",0,rm,"$ZodNever",0,rG,"$ZodNonOptional",0,iv,"$ZodNull",0,rq,"$ZodNullable",0,ih,"$ZodNumber",0,rK,"$ZodNumberFormat",0,rM,"$ZodObject",0,r1,"$ZodObjectJIT",0,r2,"$ZodOptional",0,ip,"$ZodPipe",0,iS,"$ZodPrefault",0,iy,"$ZodPromise",0,iR,"$ZodReadonly",0,iO,"$ZodRealError",0,ey,"$ZodRecord",0,it,"$ZodRegistry",()=>oh,"$ZodSet",0,io,"$ZodString",0,rl,"$ZodStringFormat",0,ru,"$ZodSuccess",0,iA,"$ZodSymbol",0,rz,"$ZodTemplateLiteral",0,ik,"$ZodTransform",0,ic,"$ZodTuple",0,r7,"$ZodType",0,rs,"$ZodULID",0,rv,"$ZodURL",0,rf,"$ZodUUID",0,rd,"$ZodUndefined",0,rF,"$ZodUnion",0,r3,"$ZodUnknown",0,rH,"$ZodVoid",0,rW,"$ZodXID",0,rb,"$brand",0,i,"$constructor",()=>r,"$input",0,of,"$output",0,op,"Doc",()=>ro,"JSONSchema",0,ct,"JSONSchemaGenerator",()=>a7,"NEVER",0,t,"TimePrecision",0,o$,"_any",()=>o9,"_array",()=>aP,"_base64",()=>oK,"_base64url",()=>oM,"_bigint",()=>o1,"_boolean",()=>oX,"_catch",()=>aQ,"_check",()=>a6,"_cidrv4",()=>oU,"_cidrv6",()=>oL,"_coercedBigint",()=>o2,"_coercedBoolean",()=>o0,"_coercedDate",()=>ai,"_coercedNumber",()=>oG,"_coercedString",()=>ov,"_cuid",()=>oO,"_cuid2",()=>oC,"_custom",()=>a4,"_date",()=>ar,"_decode",0,eP,"_decodeAsync",0,eK,"_default",()=>aW,"_discriminatedUnion",()=>aU,"_e164",()=>oB,"_email",()=>ob,"_emoji",()=>oI,"_encode",0,eN,"_encodeAsync",0,eU,"_endsWith",()=>aT,"_enum",()=>a$,"_file",()=>aq,"_float32",()=>oZ,"_float64",()=>oJ,"_gt",()=>as,"_gte",()=>al,"_guid",()=>oA,"_includes",()=>aS,"_int",()=>oW,"_int32",()=>oQ,"_int64",()=>o4,"_intersection",()=>aL,"_ipv4",()=>oP,"_ipv6",()=>oD,"_isoDate",()=>oF,"_isoDateTime",()=>oz,"_isoDuration",()=>oV,"_isoTime",()=>oq,"_jwt",()=>oj,"_ksuid",()=>oR,"_lazy",()=>a1,"_length",()=>ab,"_literal",()=>aF,"_lowercase",()=>aw,"_lt",()=>ao,"_lte",()=>aa,"_map",()=>aB,"_max",()=>aa,"_maxLength",()=>ay,"_maxSize",()=>ah,"_mime",()=>ax,"_min",()=>al,"_minLength",()=>av,"_minSize",()=>am,"_multipleOf",()=>af,"_nan",()=>an,"_nanoid",()=>ox,"_nativeEnum",()=>az,"_negative",()=>ac,"_never",()=>ae,"_nonnegative",()=>ap,"_nonoptional",()=>aZ,"_nonpositive",()=>ad,"_normalize",()=>aC,"_null",()=>o8,"_nullable",()=>aG,"_number",()=>oH,"_optional",()=>aH,"_overwrite",()=>aO,"_parse",0,eS,"_parseAsync",0,eT,"_pipe",()=>aY,"_positive",()=>au,"_promise",()=>a2,"_property",()=>aI,"_readonly",()=>aX,"_record",()=>aM,"_refine",()=>a3,"_regex",()=>aA,"_safeDecode",0,e$,"_safeDecodeAsync",0,eV,"_safeEncode",0,eB,"_safeEncodeAsync",0,eF,"_safeParse",0,ex,"_safeParseAsync",0,eC,"_set",()=>aj,"_size",()=>ag,"_startsWith",()=>aE,"_string",()=>oy,"_stringFormat",()=>a9,"_stringbool",()=>a8,"_success",()=>aJ,"_superRefine",()=>a5,"_symbol",()=>o5,"_templateLiteral",()=>a0,"_toLowerCase",()=>aN,"_toUpperCase",()=>aR,"_transform",()=>aV,"_trim",()=>ak,"_tuple",()=>aK,"_uint32",()=>oY,"_uint64",()=>o3,"_ulid",()=>ok,"_undefined",()=>o6,"_union",()=>aD,"_unknown",()=>o7,"_uppercase",()=>a_,"_url",()=>oT,"_uuid",()=>ow,"_uuidv4",()=>o_,"_uuidv6",()=>oS,"_uuidv7",()=>oE,"_void",()=>at,"_xid",()=>oN,"clone",()=>j,"config",()=>s,"decode",0,eD,"decodeAsync",0,eM,"encode",0,eR,"encodeAsync",0,eL,"flattenError",()=>ev,"formatError",()=>eb,"globalConfig",0,a,"globalRegistry",0,og,"isValidBase64",()=>rC,"isValidBase64URL",()=>rN,"isValidJWT",()=>rD,"locales",0,ce,"parse",0,eE,"parseAsync",0,eI,"prettifyError",()=>e_,"regexes",0,u7,"registry",()=>om,"safeDecode",0,ez,"safeDecodeAsync",0,eH,"safeEncode",0,ej,"safeEncodeAsync",0,eq,"safeParse",0,eO,"safeParseAsync",0,ek,"toDotPath",()=>ew,"toJSONSchema",()=>se,"treeifyError",()=>eA,"util",0,u9,"version",0,ra],113007);var cr=e.i(113007);e.i(907855),e.i(664328),e.s(["endsWith",()=>aT,"gt",()=>as,"gte",()=>al,"includes",()=>aS,"length",()=>ab,"lowercase",()=>aw,"lt",()=>ao,"lte",()=>aa,"maxLength",()=>ay,"maxSize",()=>ah,"mime",()=>ax,"minLength",()=>av,"minSize",()=>am,"multipleOf",()=>af,"negative",()=>ac,"nonnegative",()=>ap,"nonpositive",()=>ad,"normalize",()=>aC,"overwrite",()=>aO,"positive",()=>au,"property",()=>aI,"regex",()=>aA,"size",()=>ag,"startsWith",()=>aE,"toLowerCase",()=>aN,"toUpperCase",()=>aR,"trim",()=>ak,"uppercase",()=>a_],185648),e.i(185648),e.i(963585),e.i(248804),e.i(733137),e.s(["$brand",0,i,"ZodFirstPartyTypeKind",()=>sr,"ZodIssueCode",0,u0,"config",()=>s,"getErrorMap",()=>u2,"setErrorMap",()=>u1],863203),e.i(863203);var si=si,sn=sn,ci=ce,cn=e.i(551047),co=e.i(513286);e.s(["$brand",0,i,"$input",0,of,"$output",0,op,"NEVER",0,t,"TimePrecision",0,o$,"ZodAny",0,lK,"ZodArray",0,lG,"ZodBase64",0,li,"ZodBase64URL",0,lo,"ZodBigInt",0,lI,"ZodBigIntFormat",0,lO,"ZodBoolean",0,lE,"ZodCIDRv4",0,s7,"ZodCIDRv6",0,lt,"ZodCUID",0,sZ,"ZodCUID2",0,sQ,"ZodCatch",0,ux,"ZodCodec",0,uP,"ZodCustom",0,uV,"ZodCustomStringFormat",0,ld,"ZodDate",0,lV,"ZodDefault",0,ub,"ZodDiscriminatedUnion",0,l2,"ZodE164",0,ls,"ZodEmail",0,sP,"ZodEmoji",0,sV,"ZodEnum",0,uo,"ZodError",0,sh,"ZodFile",0,uc,"ZodFirstPartyTypeKind",()=>sr,"ZodFunction",0,uF,"ZodGUID",0,sU,"ZodIPv4",0,s5,"ZodIPv6",0,s8,"ZodISODate",0,ss,"ZodISODateTime",0,so,"ZodISODuration",0,sd,"ZodISOTime",0,su,"ZodIntersection",0,l3,"ZodIssueCode",0,u0,"ZodJWT",0,lu,"ZodKSUID",0,s4,"ZodLazy",0,uB,"ZodLiteral",0,ul,"ZodMap",0,ut,"ZodNaN",0,uC,"ZodNanoID",0,sG,"ZodNever",0,l$,"ZodNonOptional",0,uS,"ZodNull",0,lU,"ZodNullable",0,ug,"ZodNumber",0,lg,"ZodNumberFormat",0,lv,"ZodObject",0,lJ,"ZodOptional",0,uh,"ZodPipe",0,uN,"ZodPrefault",0,uw,"ZodPromise",0,u$,"ZodReadonly",0,uU,"ZodRealError",0,sm,"ZodRecord",0,l9,"ZodSet",0,ui,"ZodString",0,sk,"ZodStringFormat",0,sR,"ZodSuccess",0,uT,"ZodSymbol",0,lN,"ZodTemplateLiteral",0,uK,"ZodTransform",0,up,"ZodTuple",0,l6,"ZodType",0,sO,"ZodULID",0,sX,"ZodURL",0,sz,"ZodUUID",0,sK,"ZodUndefined",0,lP,"ZodUnion",0,l0,"ZodUnknown",0,lB,"ZodVoid",0,lF,"ZodXID",0,s1,"_ZodString",0,sC,"_default",()=>uA,"_function",()=>uq,"any",()=>lM,"array",()=>lW,"base64",()=>ln,"base64url",()=>la,"bigint",()=>lx,"boolean",()=>lT,"catch",()=>uO,"check",()=>uH,"cidrv4",()=>le,"cidrv6",()=>lr,"clone",()=>j,"codec",()=>uD,"coerce",0,co,"config",()=>s,"core",0,cr,"cuid",()=>sJ,"cuid2",()=>sY,"custom",()=>uG,"date",()=>lH,"decode",0,sw,"decodeAsync",0,sS,"discriminatedUnion",()=>l4,"e164",()=>ll,"email",()=>sD,"emoji",()=>sH,"encode",0,sA,"encodeAsync",0,s_,"endsWith",()=>aT,"enum",()=>ua,"file",()=>ud,"flattenError",()=>ev,"float32",()=>lA,"float64",()=>lw,"formatError",()=>eb,"function",()=>uq,"getErrorMap",()=>u2,"globalRegistry",0,og,"gt",()=>as,"gte",()=>al,"guid",()=>sL,"hash",()=>lm,"hex",()=>lh,"hostname",()=>lf,"httpUrl",()=>sq,"includes",()=>aS,"instanceof",()=>uJ,"int",()=>lb,"int32",()=>l_,"int64",()=>lC,"intersection",()=>l5,"ipv4",()=>s6,"ipv6",()=>s9,"iso",0,cn,"json",()=>uY,"jwt",()=>lc,"keyof",()=>lZ,"ksuid",()=>s3,"lazy",()=>uj,"length",()=>ab,"literal",()=>uu,"locales",0,ci,"looseObject",()=>lX,"lowercase",()=>aw,"lt",()=>ao,"lte",()=>aa,"map",()=>ur,"maxLength",()=>ay,"maxSize",()=>ah,"mime",()=>ax,"minLength",()=>av,"minSize",()=>am,"multipleOf",()=>af,"nan",()=>uk,"nanoid",()=>sW,"nativeEnum",()=>us,"negative",()=>ac,"never",()=>lz,"nonnegative",()=>ap,"nonoptional",()=>uE,"nonpositive",()=>ad,"normalize",()=>aC,"null",()=>lL,"nullable",()=>uy,"nullish",()=>uv,"number",()=>ly,"object",()=>lQ,"optional",()=>um,"overwrite",()=>aO,"parse",0,sg,"parseAsync",0,sy,"partialRecord",()=>ue,"pipe",()=>uR,"positive",()=>au,"prefault",()=>u_,"preprocess",()=>uX,"prettifyError",()=>e_,"promise",()=>uz,"property",()=>aI,"readonly",()=>uL,"record",()=>l7,"refine",()=>uW,"regex",()=>aA,"regexes",()=>si,"registry",()=>om,"safeDecode",0,sT,"safeDecodeAsync",0,sx,"safeEncode",0,sE,"safeEncodeAsync",0,sI,"safeParse",0,sv,"safeParseAsync",0,sb,"set",()=>un,"setErrorMap",()=>u1,"size",()=>ag,"startsWith",()=>aE,"strictObject",()=>lY,"string",()=>sN,"stringFormat",()=>lp,"stringbool",0,uQ,"success",()=>uI,"superRefine",()=>uZ,"symbol",()=>lR,"templateLiteral",()=>uM,"toJSONSchema",()=>se,"toLowerCase",()=>aN,"toUpperCase",()=>aR,"transform",()=>uf,"treeifyError",()=>eA,"trim",()=>ak,"tuple",()=>l8,"uint32",()=>lS,"uint64",()=>lk,"ulid",()=>s0,"undefined",()=>lD,"union",()=>l1,"unknown",()=>lj,"uppercase",()=>a_,"url",()=>sF,"util",()=>sn,"uuid",()=>sM,"uuidv4",()=>sB,"uuidv6",()=>sj,"uuidv7",()=>s$,"void",()=>lq,"xid",()=>s2],562810);var ca=e.i(154456);let cs=(e,t="ms")=>new Date(Date.now()+("sec"===t?1e3*e:e));e.s(["g",()=>cs],973088);var cl=e.i(408972),cu=e.i(338270),cc=e.i(530501),cd=e.i(172381),cp=cc,cf=e.i(896101);let ch=(e="SHA-256",t="none")=>{let r={importKey:async(t,r)=>(0,cf.getWebcryptoSubtle)().importKey("raw","string"==typeof t?new TextEncoder().encode(t):t,{name:"HMAC",hash:{name:e}},!1,[r]),sign:async(e,i)=>{"string"==typeof e&&(e=await r.importKey(e,"sign"));let n=await (0,cf.getWebcryptoSubtle)().sign("HMAC",e,"string"==typeof i?new TextEncoder().encode(i):i);return"hex"===t?cd.hex.encode(n):"base64"===t||"base64url"===t||"base64urlnopad"===t?cp.base64Url.encode(n,{padding:"base64urlnopad"!==t}):n},verify:async(e,i,n)=>("string"==typeof e&&(e=await r.importKey(e,"verify")),"hex"===t&&(n=cd.hex.decode(n)),("base64"===t||"base64url"===t||"base64urlnopad"===t)&&(n=await cp.base64.decode(n)),(0,cf.getWebcryptoSubtle)().verify("HMAC",e,"string"==typeof n?new TextEncoder().encode(n):n,"string"==typeof i?new TextEncoder().encode(i):i))};return r};e.s(["createHMAC",()=>ch],35972);var cm=e.i(130717),cg=cu,cy=cl;function cv(e){try{let t=new URL(e).pathname.replace(/\/+$/,"")||"/";return"/"!==t}catch(t){throw new cy.B(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}function cb(e,t="/api/auth"){if(cv(e))return e;let r=e.replace(/\/+$/,"");return t&&"/"!==t?(t=t.startsWith("/")?t:`/${t}`,`${r}${t}`):r}function cA(e,t,r,i){if(e)return cb(e,t);if(!1!==i){let e=cg.e.BETTER_AUTH_URL||cg.e.NEXT_PUBLIC_BETTER_AUTH_URL||cg.e.PUBLIC_BETTER_AUTH_URL||cg.e.NUXT_PUBLIC_BETTER_AUTH_URL||cg.e.NUXT_PUBLIC_AUTH_URL||("/"!==cg.e.BASE_URL?cg.e.BASE_URL:void 0);if(e)return cb(e,t)}let n=r?.headers.get("x-forwarded-host"),o=r?.headers.get("x-forwarded-proto");if(n&&o)return cb(`${o}://${n}`,t);if(r){let e=cw(r.url);if(!e)throw new cy.B("Could not get origin from request. Please provide a valid base URL.");return cb(e,t)}}function cw(e){try{return new URL(e).origin}catch(e){return null}}function c_(e){try{return new URL(e).protocol}catch(e){return null}}function cS(e){try{return new URL(e).host}catch(t){return e}}e.s(["a",()=>cA,"b",()=>cS,"c",()=>c_,"g",()=>cw],181984);let cE=new Map,cT={decode:(e,t="utf-8")=>(cE.has(t)||cE.set(t,new TextDecoder(t)),cE.get(t).decode(e)),encode:new TextEncoder().encode};e.s(["binary",()=>cT],323770);let cI=1e3,cx=6e4,cO=36e5,cC=864e5,ck=6048e5,cN=315576e5,cR=26298e5;function cP(e,t){if("string"==typeof e)return cD(e);if("number"==typeof e)return cL(e);throw Error(`Value provided to ms() must be a string or number. value=${JSON.stringify(e)}`)}function cD(e){if("string"!=typeof e||0===e.length||e.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(e)}`);let t=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(e);if(!t?.groups)return NaN;let{value:r,unit:i="ms"}=t.groups,n=parseFloat(r),o=i.toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return n*cN;case"months":case"month":case"mo":return n*cR;case"weeks":case"week":case"w":return n*ck;case"days":case"day":case"d":return n*cC;case"hours":case"hour":case"hrs":case"hr":case"h":return n*cO;case"minutes":case"minute":case"mins":case"min":case"m":return n*cx;case"seconds":case"second":case"secs":case"sec":case"s":return n*cI;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:throw Error(`Unknown unit "${o}" provided to ms.parse(). value=${JSON.stringify(e)}`)}}function cU(e){let t=Math.abs(e);return t>=cN?`${Math.round(e/cN)}y`:t>=cR?`${Math.round(e/cR)}mo`:t>=ck?`${Math.round(e/ck)}w`:t>=cC?`${Math.round(e/cC)}d`:t>=cO?`${Math.round(e/cO)}h`:t>=cx?`${Math.round(e/cx)}m`:t>=cI?`${Math.round(e/cI)}s`:`${e}ms`}function cL(e,t){if("number"!=typeof e||!Number.isFinite(e))throw Error("Value provided to ms.format() must be of type number.");return cU(e)}function cK(e){let t=new Map;return e.split(", ").forEach(e=>{let[r,...i]=e.split(";").map(e=>e.trim()),[n,...o]=(r||"").split("="),a=o.join("=");if(!n||void 0===a)return;let s={value:a};i.forEach(e=>{let[t,...r]=e.split("="),i=r.join("="),n=t.trim().toLowerCase();switch(n){case"max-age":s["max-age"]=i?parseInt(i.trim(),10):void 0;break;case"expires":s.expires=i?new Date(i.trim()):void 0;break;case"domain":s.domain=i?i.trim():void 0;break;case"path":s.path=i?i.trim():void 0;break;case"secure":s.secure=!0;break;case"httponly":s.httponly=!0;break;case"samesite":s.samesite=i?i.trim().toLowerCase():void 0;break;default:s[n]=!i||i.trim()}}),t.set(n,s)}),t}function cM(e){let t=(e.advanced?.useSecureCookies!==void 0?e.advanced?.useSecureCookies:void 0!==e.baseURL?!!e.baseURL.startsWith("https://"):cu.b)?"__Secure-":"",r=!!e.advanced?.crossSubDomainCookies?.enabled,i=r?e.advanced?.crossSubDomainCookies?.domain||(e.baseURL?new URL(e.baseURL).hostname:void 0):void 0;if(r&&!i)throw new cl.B("baseURL is required when crossSubdomainCookies are enabled");return function(n,o={}){let a=e.advanced?.cookiePrefix||"better-auth",s=e.advanced?.cookies?.[n]?.name||`${a}.${n}`,l=e.advanced?.cookies?.[n]?.attributes;return{name:`${t}${s}`,attributes:{secure:!!t,sameSite:"lax",path:"/",httpOnly:!0,...r?{domain:i}:{},...e.advanced?.defaultCookieAttributes,...o,...l}}}}function cB(e){let t=cM(e),r=t("session_token",{maxAge:e.session?.expiresIn||cP("7d")/1e3}),i=t("session_data",{maxAge:e.session?.cookieCache?.maxAge||300}),n=t("dont_remember");return{sessionToken:{name:r.name,options:r.attributes},sessionData:{name:i.name,options:i.attributes},dontRememberToken:{name:n.name,options:n.attributes}}}async function cj(e,t,r){if(e.context.options.session?.cookieCache?.enabled){let i={session:Object.entries(t.session).reduce((t,[r,i])=>{let n=e.context.options.session?.additionalFields?.[r];return n&&!1===n.returned||(t[r]=i),t},{}),user:t.user},n={...e.context.authCookies.sessionData.options,maxAge:r?void 0:e.context.authCookies.sessionData.options.maxAge},o=cs(n.maxAge||60,"sec").getTime(),a=cc.base64Url.encode(JSON.stringify({session:i,expiresAt:o,signature:await ch("SHA-256","base64urlnopad").sign(e.context.secret,JSON.stringify({...i,expiresAt:o}))}),{padding:!1});if(a.length>4093)return void e.context?.logger?.error(`Session data exceeds cookie size limit (${a.length} bytes > 4093 bytes). Consider reducing session data size or disabling cookie cache. Session will not be cached in cookie.`);e.setCookie(e.context.authCookies.sessionData.name,a,n)}}async function c$(e,t,r,i){let n=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);r=void 0!==r?r:!!n;let o=e.context.authCookies.sessionToken.options,a=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.token,e.context.secret,{...o,maxAge:a,...i}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,"true",e.context.secret,e.context.authCookies.dontRememberToken.options),await cj(e,t,r),e.context.setNewSession(t),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(t.session.token,JSON.stringify({user:t.user,session:t.session}),Math.floor((new Date(t.session.expiresAt).getTime()-Date.now())/1e3))}function cz(e,t){e.setCookie(e.context.authCookies.sessionToken.name,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,"",{...e.context.authCookies.sessionData.options,maxAge:0}),t||e.setCookie(e.context.authCookies.dontRememberToken.name,"",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}function cF(e){let t=e.split("; "),r=new Map;return t.forEach(e=>{let[t,i]=e.split("=");r.set(t,i)}),r}e.s(["a",()=>cF,"b",()=>cj,"c",()=>cM,"d",()=>cz,"g",()=>cB,"m",()=>cP,"p",()=>cK,"s",()=>c$],681393);var co=co,cq=cm;function cV(e){return e}e.s(["d",()=>cV],795080);var cH=cc;let cG=(0,ca.createMiddleware)(async()=>({})),cW=ca.createMiddleware.create({use:[cG,(0,ca.createMiddleware)(async()=>({}))]}),cZ=ca.createEndpoint.create({use:[cG]}),cJ=cV({USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found",USER_ALREADY_HAS_PASSWORD:"User already has a password. Provide that to delete the account."}),cQ=um(lQ({disableCookieCache:co.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:co.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),cY=()=>cZ("/get-session",{method:"GET",query:cQ,requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async e=>{try{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)return null;let r=e.getCookie(e.context.authCookies.sessionData.name),i=r?(0,cq.s)(cT.decode(cH.base64Url.decode(r))):null;if(i&&!await ch("SHA-256","base64urlnopad").verify(e.context.secret,JSON.stringify({...i.session,expiresAt:i.expiresAt}),i.signature)){let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}let n=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(i?.session&&e.context.options.session?.cookieCache?.enabled&&!e.query?.disableCookieCache){let t=i.session;if(!(i.expiresAt<Date.now()||t.session.expiresAt<new Date))return e.context.session=t,e.json(t);{let t=e.context.authCookies.sessionData.name;e.setCookie(t,"",{maxAge:0})}}let o=await e.context.internalAdapter.findSession(t);if(e.context.session=o,!o||o.session.expiresAt<new Date)return cz(e),o&&await e.context.internalAdapter.deleteSession(o.session.token),e.json(null);if(n||e.query?.disableRefresh)return e.json(o);let a=e.context.sessionConfig.expiresIn,s=e.context.sessionConfig.updateAge;if(o.session.expiresAt.valueOf()-1e3*a+1e3*s<=Date.now()&&(!e.query?.disableRefresh||!e.context.options.session?.disableSessionRefresh)){let t=await e.context.internalAdapter.updateSession(o.session.token,{expiresAt:cs(e.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!t)return cz(e),e.json(null,{status:401});let r=(t.expiresAt.valueOf()-Date.now())/1e3;return await c$(e,{session:t,user:o.user},!1,{maxAge:r}),e.json({session:t,user:o.user})}return await cj(e,o,!!n),e.json(o)}catch(t){throw e.context.logger.error("INTERNAL_SERVER_ERROR",t),new ca.APIError("INTERNAL_SERVER_ERROR",{message:cJ.FAILED_TO_GET_SESSION})}}),cX=async(e,t)=>{if(e.context.session)return e.context.session;let r=await cY()({...e,asResponse:!1,headers:e.headers,returnHeaders:!1,query:{...t,...e.query}}).catch(e=>null);return e.context.session=r,r},c0=cW(async e=>{let t=await cX(e);if(!t?.session)throw new ca.APIError("UNAUTHORIZED");return{session:t}}),c1=cW(async e=>{let t=await cX(e,{disableCookieCache:!0});if(!t?.session)throw new ca.APIError("UNAUTHORIZED");return{session:t}}),c2=cW(async e=>{let t=await cX(e);if(!t?.session&&(e.request||e.headers))throw new ca.APIError("UNAUTHORIZED");return{session:t}}),c4=cW(async e=>{let t=await cX(e);if(!t?.session)throw new ca.APIError("UNAUTHORIZED");if(0===e.context.sessionConfig.freshAge)return{session:t};let r=e.context.sessionConfig.freshAge,i=t.session.updatedAt?.valueOf()||t.session.createdAt.valueOf();if(!(Date.now()-i<1e3*r))throw new ca.APIError("FORBIDDEN",{message:"Session is not fresh"});return{session:t}}),c3=()=>cZ("/list-sessions",{method:"GET",use:[c0],requireHeaders:!0,metadata:{openapi:{description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async e=>{try{let t=(await e.context.internalAdapter.listSessions(e.context.session.user.id)).filter(e=>e.expiresAt>new Date);return e.json(t)}catch(t){throw e.context.logger.error(t),e.error("INTERNAL_SERVER_ERROR")}}),c5=cZ("/revoke-session",{method:"POST",body:lQ({token:sN().meta({description:"The token to revoke"})}),use:[c1],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.body.token,r=await e.context.internalAdapter.findSession(t);if(!r)throw new ca.APIError("BAD_REQUEST",{message:"Session not found"});if(r.session.userId!==e.context.session.user.id)throw new ca.APIError("UNAUTHORIZED");try{await e.context.internalAdapter.deleteSession(t)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new ca.APIError("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),c6=cZ("/revoke-sessions",{method:"POST",use:[c1],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new ca.APIError("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),c8=cZ("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[c1],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.context.session;if(!t.user)throw new ca.APIError("UNAUTHORIZED");let r=(await e.context.internalAdapter.listSessions(t.user.id)).filter(e=>e.expiresAt>new Date).filter(t=>t.token!==e.context.session.session.token);return await Promise.all(r.map(t=>e.context.internalAdapter.deleteSession(t.token))),e.json({status:!0})});e.s(["B",()=>cJ,"a",()=>cZ,"b",()=>cY,"c",()=>cW,"d",()=>c6,"e",()=>c5,"f",()=>c4,"g",()=>cX,"i",()=>c1,"j",()=>c2,"l",()=>c3,"r",()=>c8,"s",()=>c0],909879);var co=co;let c9=lQ({id:sN(),createdAt:lH().default(()=>new Date),updatedAt:lH().default(()=>new Date)});c9.extend({email:sN().transform(e=>e.toLowerCase()),emailVerified:lT().default(!1),name:sN(),image:sN().nullish()}),c9.extend({providerId:sN(),accountId:sN(),userId:co.string(),accessToken:sN().nullish(),refreshToken:sN().nullish(),idToken:sN().nullish(),accessTokenExpiresAt:lH().nullish(),refreshTokenExpiresAt:lH().nullish(),scope:sN().nullish(),password:sN().nullish()}),c9.extend({userId:co.string(),expiresAt:lH(),token:sN(),ipAddress:sN().nullish(),userAgent:sN().nullish()}),c9.extend({value:sN(),expiresAt:lH(),identifier:sN()}),e.s([],537430)},446610,290544,663370,865466,14184,196821,827957,697858,791236,805650,533078,709939,878175,108456,397554,550064,129776,e=>{"use strict";let t,r;e.i(654048);var i=e.i(562810);let n=i;e.s(["default",0,n],861166),e.i(861166);var o=i;e.s(["$brand",()=>o.$brand,"$input",()=>o.$input,"$output",()=>o.$output,"NEVER",()=>o.NEVER,"TimePrecision",()=>o.TimePrecision,"ZodAny",()=>o.ZodAny,"ZodArray",()=>o.ZodArray,"ZodBase64",()=>o.ZodBase64,"ZodBase64URL",()=>o.ZodBase64URL,"ZodBigInt",()=>o.ZodBigInt,"ZodBigIntFormat",()=>o.ZodBigIntFormat,"ZodBoolean",()=>o.ZodBoolean,"ZodCIDRv4",()=>o.ZodCIDRv4,"ZodCIDRv6",()=>o.ZodCIDRv6,"ZodCUID",()=>o.ZodCUID,"ZodCUID2",()=>o.ZodCUID2,"ZodCatch",()=>o.ZodCatch,"ZodCodec",()=>o.ZodCodec,"ZodCustom",()=>o.ZodCustom,"ZodCustomStringFormat",()=>o.ZodCustomStringFormat,"ZodDate",()=>o.ZodDate,"ZodDefault",()=>o.ZodDefault,"ZodDiscriminatedUnion",()=>o.ZodDiscriminatedUnion,"ZodE164",()=>o.ZodE164,"ZodEmail",()=>o.ZodEmail,"ZodEmoji",()=>o.ZodEmoji,"ZodEnum",()=>o.ZodEnum,"ZodError",()=>o.ZodError,"ZodFile",()=>o.ZodFile,"ZodFirstPartyTypeKind",()=>o.ZodFirstPartyTypeKind,"ZodFunction",()=>o.ZodFunction,"ZodGUID",()=>o.ZodGUID,"ZodIPv4",()=>o.ZodIPv4,"ZodIPv6",()=>o.ZodIPv6,"ZodISODate",()=>o.ZodISODate,"ZodISODateTime",()=>o.ZodISODateTime,"ZodISODuration",()=>o.ZodISODuration,"ZodISOTime",()=>o.ZodISOTime,"ZodIntersection",()=>o.ZodIntersection,"ZodIssueCode",()=>o.ZodIssueCode,"ZodJWT",()=>o.ZodJWT,"ZodKSUID",()=>o.ZodKSUID,"ZodLazy",()=>o.ZodLazy,"ZodLiteral",()=>o.ZodLiteral,"ZodMap",()=>o.ZodMap,"ZodNaN",()=>o.ZodNaN,"ZodNanoID",()=>o.ZodNanoID,"ZodNever",()=>o.ZodNever,"ZodNonOptional",()=>o.ZodNonOptional,"ZodNull",()=>o.ZodNull,"ZodNullable",()=>o.ZodNullable,"ZodNumber",()=>o.ZodNumber,"ZodNumberFormat",()=>o.ZodNumberFormat,"ZodObject",()=>o.ZodObject,"ZodOptional",()=>o.ZodOptional,"ZodPipe",()=>o.ZodPipe,"ZodPrefault",()=>o.ZodPrefault,"ZodPromise",()=>o.ZodPromise,"ZodReadonly",()=>o.ZodReadonly,"ZodRealError",()=>o.ZodRealError,"ZodRecord",()=>o.ZodRecord,"ZodSet",()=>o.ZodSet,"ZodString",()=>o.ZodString,"ZodStringFormat",()=>o.ZodStringFormat,"ZodSuccess",()=>o.ZodSuccess,"ZodSymbol",()=>o.ZodSymbol,"ZodTemplateLiteral",()=>o.ZodTemplateLiteral,"ZodTransform",()=>o.ZodTransform,"ZodTuple",()=>o.ZodTuple,"ZodType",()=>o.ZodType,"ZodULID",()=>o.ZodULID,"ZodURL",()=>o.ZodURL,"ZodUUID",()=>o.ZodUUID,"ZodUndefined",()=>o.ZodUndefined,"ZodUnion",()=>o.ZodUnion,"ZodUnknown",()=>o.ZodUnknown,"ZodVoid",()=>o.ZodVoid,"ZodXID",()=>o.ZodXID,"_ZodString",()=>o._ZodString,"_default",()=>o._default,"_function",()=>o._function,"any",()=>o.any,"array",()=>o.array,"base64",()=>o.base64,"base64url",()=>o.base64url,"bigint",()=>o.bigint,"boolean",()=>o.boolean,"catch",()=>o.catch,"check",()=>o.check,"cidrv4",()=>o.cidrv4,"cidrv6",()=>o.cidrv6,"clone",()=>o.clone,"codec",()=>o.codec,"coerce",()=>o.coerce,"config",()=>o.config,"core",()=>o.core,"cuid",()=>o.cuid,"cuid2",()=>o.cuid2,"custom",()=>o.custom,"date",()=>o.date,"decode",()=>o.decode,"decodeAsync",()=>o.decodeAsync,"default",0,n,"discriminatedUnion",()=>o.discriminatedUnion,"e164",()=>o.e164,"email",()=>o.email,"emoji",()=>o.emoji,"encode",()=>o.encode,"encodeAsync",()=>o.encodeAsync,"endsWith",()=>o.endsWith,"enum",()=>o.enum,"file",()=>o.file,"flattenError",()=>o.flattenError,"float32",()=>o.float32,"float64",()=>o.float64,"formatError",()=>o.formatError,"function",()=>o.function,"getErrorMap",()=>o.getErrorMap,"globalRegistry",()=>o.globalRegistry,"gt",()=>o.gt,"gte",()=>o.gte,"guid",()=>o.guid,"hash",()=>o.hash,"hex",()=>o.hex,"hostname",()=>o.hostname,"httpUrl",()=>o.httpUrl,"includes",()=>o.includes,"instanceof",()=>o.instanceof,"int",()=>o.int,"int32",()=>o.int32,"int64",()=>o.int64,"intersection",()=>o.intersection,"ipv4",()=>o.ipv4,"ipv6",()=>o.ipv6,"iso",()=>o.iso,"json",()=>o.json,"jwt",()=>o.jwt,"keyof",()=>o.keyof,"ksuid",()=>o.ksuid,"lazy",()=>o.lazy,"length",()=>o.length,"literal",()=>o.literal,"locales",()=>o.locales,"looseObject",()=>o.looseObject,"lowercase",()=>o.lowercase,"lt",()=>o.lt,"lte",()=>o.lte,"map",()=>o.map,"maxLength",()=>o.maxLength,"maxSize",()=>o.maxSize,"mime",()=>o.mime,"minLength",()=>o.minLength,"minSize",()=>o.minSize,"multipleOf",()=>o.multipleOf,"nan",()=>o.nan,"nanoid",()=>o.nanoid,"nativeEnum",()=>o.nativeEnum,"negative",()=>o.negative,"never",()=>o.never,"nonnegative",()=>o.nonnegative,"nonoptional",()=>o.nonoptional,"nonpositive",()=>o.nonpositive,"normalize",()=>o.normalize,"null",()=>o.null,"nullable",()=>o.nullable,"nullish",()=>o.nullish,"number",()=>o.number,"object",()=>o.object,"optional",()=>o.optional,"overwrite",()=>o.overwrite,"parse",()=>o.parse,"parseAsync",()=>o.parseAsync,"partialRecord",()=>o.partialRecord,"pipe",()=>o.pipe,"positive",()=>o.positive,"prefault",()=>o.prefault,"preprocess",()=>o.preprocess,"prettifyError",()=>o.prettifyError,"promise",()=>o.promise,"property",()=>o.property,"readonly",()=>o.readonly,"record",()=>o.record,"refine",()=>o.refine,"regex",()=>o.regex,"regexes",()=>o.regexes,"registry",()=>o.registry,"safeDecode",()=>o.safeDecode,"safeDecodeAsync",()=>o.safeDecodeAsync,"safeEncode",()=>o.safeEncode,"safeEncodeAsync",()=>o.safeEncodeAsync,"safeParse",()=>o.safeParse,"safeParseAsync",()=>o.safeParseAsync,"set",()=>o.set,"setErrorMap",()=>o.setErrorMap,"size",()=>o.size,"startsWith",()=>o.startsWith,"strictObject",()=>o.strictObject,"string",()=>o.string,"stringFormat",()=>o.stringFormat,"stringbool",()=>o.stringbool,"success",()=>o.success,"superRefine",()=>o.superRefine,"symbol",()=>o.symbol,"templateLiteral",()=>o.templateLiteral,"toJSONSchema",()=>o.toJSONSchema,"toLowerCase",()=>o.toLowerCase,"toUpperCase",()=>o.toUpperCase,"transform",()=>o.transform,"treeifyError",()=>o.treeifyError,"trim",()=>o.trim,"tuple",()=>o.tuple,"uint32",()=>o.uint32,"uint64",()=>o.uint64,"ulid",()=>o.ulid,"undefined",()=>o.undefined,"union",()=>o.union,"unknown",()=>o.unknown,"uppercase",()=>o.uppercase,"url",()=>o.url,"util",()=>o.util,"uuid",()=>o.uuid,"uuidv4",()=>o.uuidv4,"uuidv6",()=>o.uuidv6,"uuidv7",()=>o.uuidv7,"void",()=>o.void,"xid",()=>o.xid,"z",0,o],290544),e.i(290544);var a=e.i(907855),s=i,l=e.i(909879),u=e.i(154456),c=e.i(973088),d=e.i(282318),p=e.i(530501),f=d;function h(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function m(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function g(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function y(e,t,r=""){let i=h(e),n=e?.length,o=void 0!==t;if(!i||o&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function v(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function b(e,t){y(e,void 0,"output");let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function A(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function w(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function _(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}let S=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],E="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,T=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function I(e){if(y(e),E)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=T[e[r]];return t}let x=48,O=57,C=65,k=70,N=97,R=102;function P(e){return e>=x&&e<=O?e-x:e>=C&&e<=k?e-(C-10):e>=N&&e<=R?e-(N-10):void 0}function D(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(E)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=P(e.charCodeAt(n)),o=P(e.charCodeAt(n+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+o}return i}function U(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function L(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];y(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}function K(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}function M(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}let B=(e,t)=>{function r(i,...n){if(y(i,void 0,"key"),!S)throw Error("Non little-endian hardware is not yet supported");void 0!==e.nonceLength&&y(n[0],e.varSizeNonce?void 0:e.nonceLength,"nonce");let o=e.tagLength;o&&void 0!==n[1]&&y(n[1],void 0,"AAD");let a=t(i,...n),s=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");y(t,void 0,"output")}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,y(e),s(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(y(e),o&&e.length<o)throw Error('"ciphertext" expected length bigger than tagLength='+o);return s(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r};function j(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(r&&!z(t))throw Error("invalid output, must be aligned");return t}function $(e,t,r){m(r);let i=new Uint8Array(16),n=_(i);return n.setBigUint64(0,BigInt(t),r),n.setBigUint64(8,BigInt(e),r),i}function z(e){return e.byteOffset%4==0}function F(e){return Uint8Array.from(e)}function q(e=32){let t="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof t?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}function V(e,t=q){let{nonceLength:r}=e;g(r);let i=(e,t)=>{let r=L(e,t);return t.fill(0),r};return(n,...o)=>({encrypt(a){y(a);let s=t(r),l=e(n,s,...o).encrypt(a);return l instanceof Promise?l.then(e=>i(s,e)):i(s,l)},decrypt(t){y(t);let i=t.subarray(0,r),a=t.subarray(r);return e(n,i,...o).decrypt(a)}})}let H=e=>Uint8Array.from(e.split(""),e=>e.charCodeAt(0)),G=H("expand 16-byte k"),W=H("expand 32-byte k"),Z=A(G),J=A(W);function Q(e,t){return e<<t|e>>>32-t}function Y(e){return e.byteOffset%4==0}let X=64,ee=16,et=0x100000000-1,er=Uint32Array.of();function ei(e,t,r,i,n,o,a,s){let l=n.length,u=new Uint8Array(X),c=A(u),d=Y(n)&&Y(o),p=d?A(n):er,f=d?A(o):er;for(let h=0;h<l;a++){if(e(t,r,i,c,a,s),a>=et)throw Error("arx: counter overflow");let m=Math.min(X,l-h);if(d&&m===X){let e=h/4;if(h%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<ee;t++)f[r=e+t]=p[r]^c[t];h+=X;continue}for(let e=0,t;e<m;e++)o[t=h+e]=n[t]^u[e];h+=m}}function en(e,t){let{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:o,rounds:a}=K({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return g(n),g(a),m(o),m(r),(t,s,l,u,c=0)=>{let d,p;y(t,void 0,"key"),y(s,void 0,"nonce"),y(l,void 0,"data");let f=l.length;if(void 0===u&&(u=new Uint8Array(f)),y(u,void 0,"output"),g(c),c<0||c>=et)throw Error("arx: counter overflow");if(u.length<f)throw Error(`arx: output (${u.length}) is shorter than data (${f})`);let h=[],m=t.length;if(32===m)h.push(d=F(t)),p=J;else if(16===m&&r)(d=new Uint8Array(32)).set(t),d.set(t,16),p=Z,h.push(d);else throw y(t,32,"arx key"),Error("invalid key size");Y(s)||h.push(s=F(s));let v=A(d);if(i){if(24!==s.length)throw Error("arx: extended nonce must be 24 bytes");i(p,v,A(s.subarray(0,16)),v),s=s.subarray(16)}let b=16-n;if(b!==s.length)throw Error(`arx: nonce must be ${b} or 16 bytes`);if(12!==b){let e=new Uint8Array(12);e.set(s,o?0:12-s.length),s=e,h.push(s)}return ei(e,p,v,A(s),l,u,c,a),w(...h),u}}function eo(e,t){return 255&e[t++]|(255&e[t++])<<8}class ea{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(e){const t=eo(e=F(y(e,32,"key")),0),r=eo(e,2),i=eo(e,4),n=eo(e,6),o=eo(e,8),a=eo(e,10),s=eo(e,12),l=eo(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|n<<9)&8191,this.r[4]=(n>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|s<<5)&8065,this.r[8]=(s>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=eo(e,16+2*t)}process(e,t,r=!1){let i=2048*!r,{h:n,r:o}=this,a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],d=o[5],p=o[6],f=o[7],h=o[8],m=o[9],g=eo(e,t+0),y=eo(e,t+2),v=eo(e,t+4),b=eo(e,t+6),A=eo(e,t+8),w=eo(e,t+10),_=eo(e,t+12),S=eo(e,t+14),E=n[0]+(8191&g),T=n[1]+((g>>>13|y<<3)&8191),I=n[2]+((y>>>10|v<<6)&8191),x=n[3]+((v>>>7|b<<9)&8191),O=n[4]+((b>>>4|A<<12)&8191),C=n[5]+(A>>>1&8191),k=n[6]+((A>>>14|w<<2)&8191),N=n[7]+((w>>>11|_<<5)&8191),R=n[8]+((_>>>8|S<<8)&8191),P=n[9]+(S>>>5|i),D=0,U=0+E*a+5*m*T+5*h*I+5*f*x+5*p*O;D=U>>>13,U&=8191,U+=5*d*C+5*c*k+5*u*N+5*l*R+5*s*P,D+=U>>>13,U&=8191;let L=D+E*s+T*a+5*m*I+5*h*x+5*f*O;D=L>>>13,L&=8191,L+=5*p*C+5*d*k+5*c*N+5*u*R+5*l*P,D+=L>>>13,L&=8191;let K=D+E*l+T*s+I*a+5*m*x+5*h*O;D=K>>>13,K&=8191,K+=5*f*C+5*p*k+5*d*N+5*c*R+5*u*P,D+=K>>>13,K&=8191;let M=D+E*u+T*l+I*s+x*a+5*m*O;D=M>>>13,M&=8191,M+=5*h*C+5*f*k+5*p*N+5*d*R+5*c*P,D+=M>>>13,M&=8191;let B=D+E*c+T*u+I*l+x*s+O*a;D=B>>>13,B&=8191,B+=5*m*C+5*h*k+5*f*N+5*p*R+5*d*P,D+=B>>>13,B&=8191;let j=D+E*d+T*c+I*u+x*l+O*s;D=j>>>13,j&=8191,j+=C*a+5*m*k+5*h*N+5*f*R+5*p*P,D+=j>>>13,j&=8191;let $=D+E*p+T*d+I*c+x*u+O*l;D=$>>>13,$&=8191,$+=C*s+k*a+5*m*N+5*h*R+5*f*P,D+=$>>>13,$&=8191;let z=D+E*f+T*p+I*d+x*c+O*u;D=z>>>13,z&=8191,z+=C*l+k*s+N*a+5*m*R+5*h*P,D+=z>>>13,z&=8191;let F=D+E*h+T*f+I*p+x*d+O*c;D=F>>>13,F&=8191,F+=C*u+k*l+N*s+R*a+5*m*P,D+=F>>>13,F&=8191;let q=D+E*m+T*h+I*f+x*p+O*d;D=q>>>13,q&=8191,q+=C*c+k*u+N*l+R*s+P*a,D+=q>>>13,q&=8191,U=8191&(D=(D=(D<<2)+D|0)+U|0),D>>>=13,L+=D,n[0]=U,n[1]=L,n[2]=K,n[3]=M,n[4]=B,n[5]=j,n[6]=$,n[7]=z,n[8]=F,n[9]=q}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o;w(r)}update(e){v(this),y(e);let{buffer:t,blockLen:r}=this,i=(e=F(e)).length;for(let n=0;n<i;){let o=Math.min(r-this.pos,i-n);if(o===r){for(;r<=i-n;n+=r)this.process(e,n);continue}t.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){w(this.h,this.r,this.buffer,this.pad)}digestInto(e){v(this),b(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let t=0;t<8;t++)e[n++]=r[t]>>>0,e[n++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let es=function e(e){let t=(t,r)=>e(r).update(t).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new ea(e));function el(e,t,r,i,n,o=20){let a=e[0],s=e[1],l=e[2],u=e[3],c=t[0],d=t[1],p=t[2],f=t[3],h=t[4],m=t[5],g=t[6],y=t[7],v=n,b=r[0],A=r[1],w=r[2],_=a,S=s,E=l,T=u,I=c,x=d,O=p,C=f,k=h,N=m,R=g,P=y,D=v,U=b,L=A,K=w;for(let e=0;e<o;e+=2)k=k+(D=Q(D^(_=_+I|0),16))|0,_=_+(I=Q(I^k,12))|0,k=k+(D=Q(D^_,8))|0,I=Q(I^k,7),N=N+(U=Q(U^(S=S+x|0),16))|0,S=S+(x=Q(x^N,12))|0,N=N+(U=Q(U^S,8))|0,x=Q(x^N,7),R=R+(L=Q(L^(E=E+O|0),16))|0,E=E+(O=Q(O^R,12))|0,R=R+(L=Q(L^E,8))|0,O=Q(O^R,7),P=P+(K=Q(K^(T=T+C|0),16))|0,T=T+(C=Q(C^P,12))|0,P=P+(K=Q(K^T,8))|0,C=Q(C^P,7),R=R+(K=Q(K^(_=_+x|0),16))|0,_=_+(x=Q(x^R,12))|0,R=R+(K=Q(K^_,8))|0,x=Q(x^R,7),P=P+(D=Q(D^(S=S+O|0),16))|0,S=S+(O=Q(O^P,12))|0,P=P+(D=Q(D^S,8))|0,O=Q(O^P,7),k=k+(U=Q(U^(E=E+C|0),16))|0,E=E+(C=Q(C^k,12))|0,k=k+(U=Q(U^E,8))|0,C=Q(C^k,7),N=N+(L=Q(L^(T=T+I|0),16))|0,T=T+(I=Q(I^N,12))|0,N=N+(L=Q(L^T,8))|0,I=Q(I^N,7);let M=0;i[M++]=a+_|0,i[M++]=s+S|0,i[M++]=l+E|0,i[M++]=u+T|0,i[M++]=c+I|0,i[M++]=d+x|0,i[M++]=p+O|0,i[M++]=f+C|0,i[M++]=h+k|0,i[M++]=m+N|0,i[M++]=g+R|0,i[M++]=y+P|0,i[M++]=v+D|0,i[M++]=b+U|0,i[M++]=A+L|0,i[M++]=w+K|0}function eu(e,t,r,i){let n=e[0],o=e[1],a=e[2],s=e[3],l=t[0],u=t[1],c=t[2],d=t[3],p=t[4],f=t[5],h=t[6],m=t[7],g=r[0],y=r[1],v=r[2],b=r[3];for(let e=0;e<20;e+=2)p=p+(g=Q(g^(n=n+l|0),16))|0,n=n+(l=Q(l^p,12))|0,p=p+(g=Q(g^n,8))|0,l=Q(l^p,7),f=f+(y=Q(y^(o=o+u|0),16))|0,o=o+(u=Q(u^f,12))|0,f=f+(y=Q(y^o,8))|0,u=Q(u^f,7),h=h+(v=Q(v^(a=a+c|0),16))|0,a=a+(c=Q(c^h,12))|0,h=h+(v=Q(v^a,8))|0,c=Q(c^h,7),m=m+(b=Q(b^(s=s+d|0),16))|0,s=s+(d=Q(d^m,12))|0,m=m+(b=Q(b^s,8))|0,d=Q(d^m,7),h=h+(b=Q(b^(n=n+u|0),16))|0,n=n+(u=Q(u^h,12))|0,h=h+(b=Q(b^n,8))|0,u=Q(u^h,7),m=m+(g=Q(g^(o=o+c|0),16))|0,o=o+(c=Q(c^m,12))|0,m=m+(g=Q(g^o,8))|0,c=Q(c^m,7),p=p+(y=Q(y^(a=a+d|0),16))|0,a=a+(d=Q(d^p,12))|0,p=p+(y=Q(y^a,8))|0,d=Q(d^p,7),f=f+(v=Q(v^(s=s+l|0),16))|0,s=s+(l=Q(l^f,12))|0,f=f+(v=Q(v^s,8))|0,l=Q(l^f,7);let A=0;i[A++]=n,i[A++]=o,i[A++]=a,i[A++]=s,i[A++]=g,i[A++]=y,i[A++]=v,i[A++]=b}let ec=en(el,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ed=en(el,{counterRight:!1,counterLength:8,extendNonceFn:eu,allowShortKeys:!1}),ep=new Uint8Array(16),ef=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(ep.subarray(r))},eh=new Uint8Array(32);function em(e,t,r,i,n){void 0!==n&&y(n,void 0,"AAD");let o=e(t,r,eh),a=$(i.length,n?n.length:0,!0),s=es.create(o);n&&ef(s,n),ef(s,i),s.update(a);let l=s.digest();return w(o,a),l}let eg=e=>(t,r,i)=>{let n=16;return{encrypt(o,a){let s=o.length;(a=j(s+n,a,!1)).set(o);let l=a.subarray(0,-n);e(t,r,l,l,1);let u=em(e,t,r,l,i);return a.set(u,s),w(u),a},decrypt(o,a){a=j(o.length-n,a,!1);let s=o.subarray(0,-n),l=o.subarray(-n),u=em(e,t,r,s,i);if(!M(l,u))throw Error("invalid tag");return a.set(o.subarray(0,-n)),e(t,r,a,a,1),w(u),a}}};eg(ec);let ey=B({blockSize:64,nonceLength:24,tagLength:16},eg(ed));var ev=p;let eb=new TextEncoder,eA=new TextDecoder;function ew(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}function e_(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=32768,r=[];for(let i=0;i<e.length;i+=t)r.push(String.fromCharCode.apply(null,e.subarray(i,i+t)));return btoa(r.join(""))}function eS(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function eE(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:eA.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=eA.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return eS(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function eT(e){let t=e;return("string"==typeof t&&(t=eb.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):e_(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}e.s(["decode",()=>eE,"encode",()=>eT],663370);class eI extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ex extends eI{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class eO extends eI{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class eC extends eI{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class ek extends eI{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eN extends eI{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class eR extends eI{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eP extends eI{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class eD extends eI{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class eU extends eI{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class eL extends eI{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class eK extends eI{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}e.s(["JOSEAlgNotAllowed",()=>eC,"JOSEError",()=>eI,"JOSENotSupported",()=>ek,"JWKSInvalid",()=>eP,"JWKSMultipleMatchingKeys",()=>eU,"JWKSNoMatchingKey",()=>eD,"JWKSTimeout",()=>eL,"JWSInvalid",()=>eN,"JWSSignatureVerificationFailed",()=>eK,"JWTClaimValidationFailed",()=>ex,"JWTExpired",()=>eO,"JWTInvalid",()=>eR],865466);let eM=(e,t)=>{let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:e};default:throw new ek(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},eB=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function ej(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function e$(e,t){return e.name===t}function ez(e){return parseInt(e.name.slice(4),10)}function eF(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function eq(e,t){if(t&&!e.usages.includes(t))throw TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function eV(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if(!e$(e.algorithm,"HMAC"))throw ej("HMAC");let r=parseInt(t.slice(2),10);if(ez(e.algorithm.hash)!==r)throw ej(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!e$(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ej("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(ez(e.algorithm.hash)!==r)throw ej(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!e$(e.algorithm,"RSA-PSS"))throw ej("RSA-PSS");let r=parseInt(t.slice(2),10);if(ez(e.algorithm.hash)!==r)throw ej(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!e$(e.algorithm,"Ed25519"))throw ej("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!e$(e.algorithm,t))throw ej(t);break;case"ES256":case"ES384":case"ES512":{if(!e$(e.algorithm,"ECDSA"))throw ej("ECDSA");let r=eF(t);if(e.algorithm.namedCurve!==r)throw ej(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}eq(e,r)}function eH(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eG=(e,...t)=>eH("Key must be ",e,...t);function eW(e,t,...r){return eH(`Key for the ${e} algorithm must be `,t,...r)}e.s(["default",0,eG,"withAlg",()=>eW],14184);let eZ=async(e,t,r)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(eG(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return eV(t,e,r),t},eJ=async(e,t,r)=>{let i=await eZ(e,t,"sign");return eB(e,i),new Uint8Array(await crypto.subtle.sign(eM(e,i.algorithm),i,r))},eQ=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function eY(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function eX(e){return e?.[Symbol.toStringTag]==="KeyObject"}let e0=e=>eY(e)||eX(e);function e1(e){return"object"==typeof e&&null!==e}e.s(["default",0,e0,"isCryptoKey",()=>eY,"isKeyObject",()=>eX],196821);let e2=e=>{if(!e1(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function e4(e){return e2(e)&&"string"==typeof e.kty}function e3(e){return"oct"!==e.kty&&("AKP"===e.kty&&"string"==typeof e.priv||"string"==typeof e.d)}function e5(e){return"oct"!==e.kty&&void 0===e.d&&void 0===e.priv}function e6(e){return"oct"===e.kty&&"string"==typeof e.k}let e8=e=>e?.[Symbol.toStringTag],e9=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let i;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):i=r;break;case e.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):i=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):i="wrapKey";break;case"decrypt"===r:i=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(i&&t.key_ops?.includes?.(i)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0},e7=(e,t,r)=>{if(!(t instanceof Uint8Array)){if(e4(t)){if(e6(t)&&e9(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!e0(t))throw TypeError(eW(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${e8(t)} instances for symmetric algorithms must be of type "secret"`)}},te=(e,t,r)=>{if(e4(t))switch(r){case"decrypt":case"sign":if(e3(t)&&e9(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(e5(t)&&e9(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!e0(t))throw TypeError(eW(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${e8(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${e8(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${e8(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${e8(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${e8(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},tt=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?e7(e,t,r):te(e,t,r)},tr=(e,t,r,i,n)=>{let o;if(void 0!==n.crit&&i?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!o.has(a))throw new ek(`Extension Header Parameter "${a}" is not recognized`);if(void 0===n[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===i[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(i.crit)};function ti(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new ek('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}let tn=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=ti(e),i={...e};return"AKP"!==i.kty&&delete i.alg,delete i.use,crypto.subtle.importKey("jwk",i,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)},to=async(e,r,i,n=!1)=>{let o=(t||=new WeakMap).get(e);if(o?.[i])return o[i];let a=await tn({...r,alg:i});return n&&Object.freeze(e),o?o[i]=a:t.set(e,{[i]:a}),a},ta=(e,r)=>{let i,n=(t||=new WeakMap).get(e);if(n?.[r])return n[r];let o="public"===e.type,a=!!o;if("x25519"===e.asymmetricKeyType){switch(r){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}i=e.toCryptoKey(e.asymmetricKeyType,a,o?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==r&&"Ed25519"!==r)throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,a,[o?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(r!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,a,[o?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let t;switch(r){case"RSA-OAEP":t="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":t="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":t="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":t="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(r.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:t},a,o?["encrypt"]:["decrypt"]);i=e.toCryptoKey({name:r.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:t},a,[o?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let t=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!t)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===r&&"P-256"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},a,[o?"verify":"sign"])),"ES384"===r&&"P-384"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},a,[o?"verify":"sign"])),"ES512"===r&&"P-521"===t&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:t},a,[o?"verify":"sign"])),r.startsWith("ECDH-ES")&&(i=e.toCryptoKey({name:"ECDH",namedCurve:t},a,o?[]:["deriveBits"]))}if(!i)throw TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[r]=i:t.set(e,{[r]:i}),i},ts=async(e,t)=>{if(e instanceof Uint8Array||eY(e))return e;if(eX(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return ta(e,t)}catch(e){if(e instanceof TypeError)throw e}let r=e.export({format:"jwk"});return to(e,r,t)}if(e4(e))return e.k?eE(e.k):to(e,e,t,!0);throw Error("unreachable")};class tl{#t;#r;#i;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#t=e}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setUnprotectedHeader(e){if(this.#i)throw TypeError("setUnprotectedHeader can only be called once");return this.#i=e,this}async sign(e,t){let r;if(!this.#r&&!this.#i)throw new eN("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!eQ(this.#r,this.#i))throw new eN("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let i={...this.#r,...this.#i},n=tr(eN,new Map([["b64",!0]]),t?.crit,this.#r,i),o=!0;if(n.has("b64")&&"boolean"!=typeof(o=this.#r.b64))throw new eN('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=i;if("string"!=typeof a||!a)throw new eN('JWS "alg" (Algorithm) Header Parameter missing or invalid');tt(a,e,"sign");let s=this.#t;o&&(s=eb.encode(eT(s)));let l=ew(r=this.#r?eb.encode(eT(JSON.stringify(this.#r))):eb.encode(""),eb.encode("."),s),u=await ts(e,a),c={signature:eT(await eJ(a,u,l)),payload:""};return o&&(c.payload=eA.decode(s)),this.#i&&(c.header=this.#i),this.#r&&(c.protected=eA.decode(r)),c}}class tu{#n;constructor(e){this.#n=new tl(e)}setProtectedHeader(e){return this.#n.setProtectedHeader(e),this}async sign(e,t){let r=await this.#n.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}let tc=e=>Math.floor(e.getTime()/1e3),td=60,tp=3600,tf=86400,th=604800,tm=0x1e187e0,tg=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,ty=e=>{let t,r=tg.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(i*td);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(i*tp);break;case"day":case"days":case"d":t=Math.round(i*tf);break;case"week":case"weeks":case"w":t=Math.round(i*th);break;default:t=Math.round(i*tm)}return"-"===r[1]||"ago"===r[4]?-t:t};function tv(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let tb=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`,tA=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));function tw(e,t,r={}){let i,n;try{i=JSON.parse(eA.decode(t))}catch{}if(!e2(i))throw new eR("JWT Claims Set must be a top-level JSON object");let{typ:o}=r;if(o&&("string"!=typeof e.typ||tb(e.typ)!==tb(o)))throw new ex('unexpected "typ" JWT header value',i,"typ","check_failed");let{requiredClaims:a=[],issuer:s,subject:l,audience:u,maxTokenAge:c}=r,d=[...a];for(let e of(void 0!==c&&d.push("iat"),void 0!==u&&d.push("aud"),void 0!==l&&d.push("sub"),void 0!==s&&d.push("iss"),new Set(d.reverse())))if(!(e in i))throw new ex(`missing required "${e}" claim`,i,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(i.iss))throw new ex('unexpected "iss" claim value',i,"iss","check_failed");if(l&&i.sub!==l)throw new ex('unexpected "sub" claim value',i,"sub","check_failed");if(u&&!tA(i.aud,"string"==typeof u?[u]:u))throw new ex('unexpected "aud" claim value',i,"aud","check_failed");switch(typeof r.clockTolerance){case"string":n=ty(r.clockTolerance);break;case"number":n=r.clockTolerance;break;case"undefined":n=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,f=tc(p||new Date);if((void 0!==i.iat||c)&&"number"!=typeof i.iat)throw new ex('"iat" claim must be a number',i,"iat","invalid");if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new ex('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>f+n)throw new ex('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new ex('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=f-n)throw new eO('"exp" claim timestamp check failed',i,"exp","check_failed")}if(c){let e=f-i.iat;if(e-n>("number"==typeof c?c:ty(c)))throw new eO('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(e<0-n)throw new ex('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i}class t_{#t;constructor(e){if(!e2(e))throw TypeError("JWT Claims Set MUST be an object");this.#t=structuredClone(e)}data(){return eb.encode(JSON.stringify(this.#t))}get iss(){return this.#t.iss}set iss(e){this.#t.iss=e}get sub(){return this.#t.sub}set sub(e){this.#t.sub=e}get aud(){return this.#t.aud}set aud(e){this.#t.aud=e}set jti(e){this.#t.jti=e}set nbf(e){"number"==typeof e?this.#t.nbf=tv("setNotBefore",e):e instanceof Date?this.#t.nbf=tv("setNotBefore",tc(e)):this.#t.nbf=tc(new Date)+ty(e)}set exp(e){"number"==typeof e?this.#t.exp=tv("setExpirationTime",e):e instanceof Date?this.#t.exp=tv("setExpirationTime",tc(e)):this.#t.exp=tc(new Date)+ty(e)}set iat(e){void 0===e?this.#t.iat=tc(new Date):e instanceof Date?this.#t.iat=tv("setIssuedAt",tc(e)):"string"==typeof e?this.#t.iat=tv("setIssuedAt",tc(new Date)+ty(e)):this.#t.iat=tv("setIssuedAt",e)}}class tS{#r;#o;constructor(e={}){this.#o=new t_(e)}setIssuer(e){return this.#o.iss=e,this}setSubject(e){return this.#o.sub=e,this}setAudience(e){return this.#o.aud=e,this}setJti(e){return this.#o.jti=e,this}setNotBefore(e){return this.#o.nbf=e,this}setExpirationTime(e){return this.#o.exp=e,this}setIssuedAt(e){return this.#o.iat=e,this}setProtectedHeader(e){return this.#r=e,this}async sign(e,t){let r=new tu(this.#o.data());if(r.setProtectedHeader(this.#r),Array.isArray(this.#r?.crit)&&this.#r.crit.includes("b64")&&!1===this.#r.b64)throw new eR("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}function tE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tT(e,t=""){if(!Number.isSafeInteger(e)||e<0){let r=t&&`"${t}" `;throw Error(`${r}expected integer >= 0, got ${e}`)}}function tI(e,t,r=""){let i=tE(e),n=e?.length,o=void 0!==t;if(!i||o&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function tx(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash must wrapped by utils.createHasher");tT(e.outputLen),tT(e.blockLen)}function tO(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tC(e,t){tI(e,void 0,"digestInto() output");let r=t.outputLen;if(e.length<r)throw Error('"digestInto() output" expected to be of length >='+r)}function tk(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function tN(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function tR(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tP(e,t){return e<<32-t|e>>>t}function tD(e,t){return e<<t|e>>>32-t>>>0}function tU(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function tL(e){for(let t=0;t<e.length;t++)e[t]=tU(e[t]);return e}e.s(["SignJWT",()=>tS],827957);let tK=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:tL,tM="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,tB=48,tj=57,t$=65,tz=70,tF=97,tq=102;function tV(e){return e>=tB&&e<=tj?e-tB:e>=t$&&e<=tz?e-(t$-10):e>=tF&&e<=tq?e-(tF-10):void 0}function tH(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(tM)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=tV(e.charCodeAt(n)),o=tV(e.charCodeAt(n+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+o}return i}let tG=async()=>{};async function tW(e,t,r){let i=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-i;e>=0&&e<t||(await tG(),i+=e)}}function tZ(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function tJ(e,t=""){return"string"==typeof e?tZ(e):tI(e,void 0,t)}function tQ(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options must be object or undefined");return Object.assign(e,t)}function tY(e,t={}){let r=(t,r)=>e(r).update(t).digest(),i=e(void 0);return r.outputLen=i.outputLen,r.blockLen=i.blockLen,r.create=t=>e(t),Object.assign(r,t),Object.freeze(r)}let tX=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])});e.s(["abytes",()=>tI,"aexists",()=>tO,"ahash",()=>tx,"anumber",()=>tT,"aoutput",()=>tC,"asyncLoop",()=>tW,"checkOpts",()=>tQ,"clean",()=>tN,"createHasher",()=>tY,"createView",()=>tR,"hexToBytes",()=>tH,"kdfInputToBytes",()=>tJ,"oidNist",0,tX,"rotl",()=>tD,"rotr",()=>tP,"swap32IfBE",0,tK,"u32",()=>tk,"utf8ToBytes",()=>tZ],697858);class t0{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,t){if(tx(e),tI(t,void 0,"key"),this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),tN(i)}update(e){return tO(this),this.iHash.update(e),this}digestInto(e){tO(this),tI(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:o,outputLen:a}=this;return e.finished=i,e.destroyed=n,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let t1=(e,t,r)=>new t0(e,t).update(r).digest();function t2(e,t,r,i){tx(e);let{c:n,dkLen:o,asyncTick:a}=tQ({dkLen:32,asyncTick:10},i);if(tT(n,"c"),tT(o,"dkLen"),tT(a,"asyncTick"),n<1)throw Error("iterations (c) must be >= 1");let s=tJ(t,"password"),l=tJ(r,"salt"),u=new Uint8Array(o),c=t1.create(e,s),d=c._cloneInto().update(l);return{c:n,dkLen:o,asyncTick:a,DK:u,PRF:c,PRFSalt:d}}function t4(e,t,r,i,n){return e.destroy(),t.destroy(),i&&i.destroy(),tN(n),r}function t3(e,t,r,i){let n,{c:o,dkLen:a,DK:s,PRF:l,PRFSalt:u}=t2(e,t,r,i),c=new Uint8Array(4),d=tR(c),p=new Uint8Array(l.outputLen);for(let e=1,t=0;t<a;e++,t+=l.outputLen){let r=s.subarray(t,t+l.outputLen);d.setInt32(0,e,!1),(n=u._cloneInto(n)).update(c).digestInto(p),r.set(p.subarray(0,r.length));for(let e=1;e<o;e++){l._cloneInto(n).update(p).digestInto(p);for(let e=0;e<r.length;e++)r[e]^=p[e]}}return t4(l,u,s,n,p)}function t5(e,t,r){return e&t^~e&r}function t6(e,t,r){return e&t^e&r^t&r}t1.create=(e,t)=>new t0(e,t);class t8{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,t,r,i){this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=tR(this.buffer)}update(e){tO(this),tI(e);let{view:t,buffer:r,blockLen:i}=this,n=e.length;for(let o=0;o<n;){let a=Math.min(i-this.pos,n-o);if(a===i){let t=tR(e);for(;i<=n-o;o+=i)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tO(this),tC(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:o}=this;t[o++]=128,tN(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;r.setBigUint64(i-8,BigInt(8*this.length),n),this.process(r,0);let a=tR(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen must be aligned to 32bit");let l=s/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e||=new this.constructor).set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=n,e.length=i,e.pos=a,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let t9=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),t7=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),re=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),rt=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),rr=BigInt(0x100000000-1),ri=BigInt(32);function rn(e,t=!1){return t?{h:Number(e&rr),l:Number(e>>ri&rr)}:{h:0|Number(e>>ri&rr),l:0|Number(e&rr)}}function ro(e,t=!1){let r=e.length,i=new Uint32Array(r),n=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:a}=rn(e[o],t);[i[o],n[o]]=[r,a]}return[i,n]}let ra=(e,t,r)=>e>>>r,rs=(e,t,r)=>e<<32-r|t>>>r,rl=(e,t,r)=>e>>>r|t<<32-r,ru=(e,t,r)=>e<<32-r|t>>>r,rc=(e,t,r)=>e<<64-r|t>>>r-32,rd=(e,t,r)=>e>>>r-32|t<<64-r,rp=(e,t,r)=>e<<r|t>>>32-r,rf=(e,t,r)=>t<<r|e>>>32-r,rh=(e,t,r)=>t<<r-32|e>>>64-r,rm=(e,t,r)=>e<<r-32|t>>>64-r;function rg(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}}let ry=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),rv=(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,rb=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),rA=(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,rw=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),r_=(e,t,r,i,n,o)=>t+r+i+n+o+(e/0x100000000|0)|0;e.s(["add",()=>rg,"add3H",()=>rv,"add3L",()=>ry,"add4H",()=>rA,"add4L",()=>rb,"add5H",()=>r_,"add5L",()=>rw,"rotlBH",()=>rh,"rotlBL",()=>rm,"rotlSH",()=>rp,"rotlSL",()=>rf,"rotrBH",()=>rc,"rotrBL",()=>rd,"rotrSH",()=>rl,"rotrSL",()=>ru,"shrSH",()=>ra,"shrSL",()=>rs,"split",()=>ro],791236);let rS=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rE=new Uint32Array(64);class rT extends t8{constructor(e){super(64,e,8,!1)}get(){let{A:e,B:t,C:r,D:i,E:n,F:o,G:a,H:s}=this;return[e,t,r,i,n,o,a,s]}set(e,t,r,i,n,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)rE[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=rE[e-15],r=rE[e-2],i=tP(t,7)^tP(t,18)^t>>>3,n=tP(r,17)^tP(r,19)^r>>>10;rE[e]=n+rE[e-7]+i+rE[e-16]|0}let{A:r,B:i,C:n,D:o,E:a,F:s,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(tP(a,6)^tP(a,11)^tP(a,25))+t5(a,s,l)+rS[e]+rE[e]|0,c=(tP(r,2)^tP(r,13)^tP(r,22))+t6(r,i,n)|0;u=l,l=s,s=a,a=o+t|0,o=n,n=i,i=r,r=t+c|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,n,o,a,s,l,u)}roundClean(){tN(rE)}destroy(){this.set(0,0,0,0,0,0,0,0),tN(this.buffer)}}class rI extends rT{A=0|t9[0];B=0|t9[1];C=0|t9[2];D=0|t9[3];E=0|t9[4];F=0|t9[5];G=0|t9[6];H=0|t9[7];constructor(){super(32)}}let rx=ro(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),rO=rx[0],rC=rx[1],rk=new Uint32Array(80),rN=new Uint32Array(80),rR=tY(()=>new rI,tX(1));function rP(e,t,r,i,n,o){let a=e[t++]^r[i++],s=e[t++]^r[i++],l=e[t++]^r[i++],u=e[t++]^r[i++],c=e[t++]^r[i++],d=e[t++]^r[i++],p=e[t++]^r[i++],f=e[t++]^r[i++],h=e[t++]^r[i++],m=e[t++]^r[i++],g=e[t++]^r[i++],y=e[t++]^r[i++],v=e[t++]^r[i++],b=e[t++]^r[i++],A=e[t++]^r[i++],w=e[t++]^r[i++],_=a,S=s,E=l,T=u,I=c,x=d,O=p,C=f,k=h,N=m,R=g,P=y,D=v,U=b,L=A,K=w;for(let e=0;e<8;e+=2)I^=tD(_+D|0,7),k^=tD(I+_|0,9),D^=tD(k+I|0,13),_^=tD(D+k|0,18),N^=tD(x+S|0,7),U^=tD(N+x|0,9),S^=tD(U+N|0,13),x^=tD(S+U|0,18),L^=tD(R+O|0,7),E^=tD(L+R|0,9),O^=tD(E+L|0,13),R^=tD(O+E|0,18),T^=tD(K+P|0,7),C^=tD(T+K|0,9),P^=tD(C+T|0,13),K^=tD(P+C|0,18),S^=tD(_+T|0,7),E^=tD(S+_|0,9),T^=tD(E+S|0,13),_^=tD(T+E|0,18),O^=tD(x+I|0,7),C^=tD(O+x|0,9),I^=tD(C+O|0,13),x^=tD(I+C|0,18),P^=tD(R+N|0,7),k^=tD(P+R|0,9),N^=tD(k+P|0,13),R^=tD(N+k|0,18),D^=tD(K+L|0,7),U^=tD(D+K|0,9),L^=tD(U+D|0,13),K^=tD(L+U|0,18);n[o++]=a+_|0,n[o++]=s+S|0,n[o++]=l+E|0,n[o++]=u+T|0,n[o++]=c+I|0,n[o++]=d+x|0,n[o++]=p+O|0,n[o++]=f+C|0,n[o++]=h+k|0,n[o++]=m+N|0,n[o++]=g+R|0,n[o++]=y+P|0,n[o++]=v+D|0,n[o++]=b+U|0,n[o++]=A+L|0,n[o++]=w+K|0}function rD(e,t,r,i,n){let o=i+0,a=i+16*n;for(let i=0;i<16;i++)r[a+i]=e[t+(2*n-1)*16+i];for(let i=0;i<n;i++,o+=16,t+=16)rP(r,a,e,t,r,o),i>0&&(a+=16),rP(r,o,e,t+=16,r,a)}function rU(e,t,r){let{N:i,r:n,p:o,dkLen:a,asyncTick:s,maxmem:l,onProgress:u}=tQ({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(tT(i,"N"),tT(n,"r"),tT(o,"p"),tT(a,"dkLen"),tT(s,"asyncTick"),tT(l,"maxmem"),void 0!==u&&"function"!=typeof u)throw Error("progressCb must be a function");let c=128*n,d=c/4,p=0x100000000;if(i<=1||(i&i-1)!=0||i>p)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(o<1||o>(p-1)*32/c)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(a<1||a>(p-1)*32)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(c*(i+o)>l)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+l);let f=t3(rR,e,t,{c:1,dkLen:c*o}),h=tk(f),m=tk(new Uint8Array(c*i)),g=tk(new Uint8Array(c)),y=()=>{};if(u){let e=2*i*o,t=Math.max(Math.floor(e/1e4),1),r=0;y=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:i,r:n,p:o,dkLen:a,blockSize32:d,V:m,B32:h,B:f,tmp:g,blockMixCb:y,asyncTick:s}}function rL(e,t,r,i,n){let o=t3(rR,e,r,{c:1,dkLen:t});return tN(r,i,n),o}async function rK(e,t,r){let{N:i,r:n,p:o,dkLen:a,blockSize32:s,V:l,B32:u,B:c,tmp:d,blockMixCb:p,asyncTick:f}=rU(e,t,r);tK(u);for(let e=0;e<o;e++){let t=s*e;for(let e=0;e<s;e++)l[e]=u[t+e];let r=0;await tW(i-1,f,()=>{rD(l,r,l,r+=s,n),p()}),rD(l,(i-1)*s,u,t,n),p(),await tW(i,f,()=>{let e=(u[t+s-16]&i-1)>>>0;for(let r=0;r<s;r++)d[r]=u[t+r]^l[e*s+r];rD(d,0,u,t,n),p()})}return tK(u),rL(e,a,c,l,d)}var rM=e.i(172381),rB=e.i(408972),rj=e.i(362160);async function r$(e,t,r=3600){return await new tS(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+r).sign(new TextEncoder().encode(t))}function rz(e,t){let r=new Uint8Array(e),i=new Uint8Array(t),n=r.length^i.length,o=Math.max(r.length,i.length);for(let e=0;e<o;e++)n|=(e<r.length?r[e]:0)^(e<i.length?i[e]:0);return 0===n}async function rF(e){let t=await (0,f.createHash)("SHA-256").digest(e);return ev.base64.encode(t)}e.i(339127);let rq=16384,rV=16,rH=1,rG=64;async function rW(e,t){return await rK(e.normalize("NFKC"),t,{N:rq,p:rH,r:rV,dkLen:rG,maxmem:128*rq*rV*2})}let rZ=async e=>{let t=rM.hex.encode(crypto.getRandomValues(new Uint8Array(16))),r=await rW(e,t);return`${t}:${rM.hex.encode(r)}`},rJ=async({hash:e,password:t})=>{let[r,i]=e.split(":");if(!r||!i)throw new rB.B("Invalid password hash");return rz(await rW(t,r),tH(i))},rQ=async({key:e,data:t})=>{let r=await (0,f.createHash)("SHA-256").digest(e),i=U(t);return I(V(ey)(new Uint8Array(r)).encrypt(i))},rY=async({key:e,data:t})=>{let r=await (0,f.createHash)("SHA-256").digest(e),i=D(t),n=V(ey)(new Uint8Array(r));return new TextDecoder().decode(n.decrypt(i))};e.s(["hashPassword",()=>rZ,"hashToBase64",()=>rF,"signJWT",()=>r$,"symmetricDecrypt",()=>rY,"symmetricEncrypt",()=>rQ,"verifyPassword",()=>rJ],805650);var rX=Object.defineProperty,r0=Object.defineProperties,r1=Object.getOwnPropertyDescriptors,r2=Object.getOwnPropertySymbols,r4=Object.prototype.hasOwnProperty,r3=Object.prototype.propertyIsEnumerable,r5=(e,t,r)=>t in e?rX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r6=(e,t)=>{for(var r in t||(t={}))r4.call(t,r)&&r5(e,r,t[r]);if(r2)for(var r of r2(t))r3.call(t,r)&&r5(e,r,t[r]);return e},r8=(e,t)=>r0(e,r1(t)),r9=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},r7=async(e,t)=>{var r,i,n,o,a,s;let l=t||{},u={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:l,hooks:u};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let i=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));l=i.options||l,e=i.url}u.onRequest.push(null==(i=c.hooks)?void 0:i.onRequest),u.onResponse.push(null==(n=c.hooks)?void 0:n.onResponse),u.onSuccess.push(null==(o=c.hooks)?void 0:o.onSuccess),u.onError.push(null==(a=c.hooks)?void 0:a.onError),u.onRetry.push(null==(s=c.hooks)?void 0:s.onRetry)}return{url:e,options:l,hooks:u}},ie=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},it=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}};function ir(e){if("number"==typeof e)return new ie({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new ie(e);case"exponential":return new it(e);default:throw Error("Invalid retry strategy")}}var ii=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let i=await r(e.auth.token);if(!i)return t;t.authorization=`Bearer ${i}`}else if("Basic"===e.auth.type){let i=r(e.auth.username),n=r(e.auth.password);if(!i||!n)return t;t.authorization=`Basic ${btoa(`${i}:${n}`)}`}else if("Custom"===e.auth.type){let i=r(e.auth.value);if(!i)return t;t.authorization=`${r(e.auth.prefix)} ${i}`}}return t},io=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ia(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let i=t.split(";").shift()||"";return io.test(i)?"json":r.has(i)||i.startsWith("text/")?"text":"blob"}function is(e){try{return JSON.parse(e),!0}catch(e){return!1}}function il(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function iu(e){try{return JSON.parse(e)}catch(t){return e}}function ic(e){return"function"==typeof e}function id(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&ic(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")}async function ip(e){let t=new Headers(null==e?void 0:e.headers);for(let[r,i]of Object.entries(await ii(e)||{}))t.set(r,i);if(!t.has("content-type")){let r=ih(null==e?void 0:e.body);r&&t.set("content-type",r)}return t}function ih(e){return il(e)?"application/json":null}function im(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(il(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}function ig(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let i=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return iA.includes(i)?i.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}function iy(e,t){let r;return!(null==e?void 0:e.signal)&&(null==e?void 0:e.timeout)&&(r=setTimeout(()=>null==t?void 0:t.abort(),null==e?void 0:e.timeout)),{abortTimeout:r,clearTimeout:()=>{r&&clearTimeout(r)}}}var iv=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function ib(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new iv(r.issues);return r.value}var iA=["get","post","put","patch","delete"];function iw(e,t){let{baseURL:r,params:i,query:n}=t||{query:{},params:{},baseURL:""},o=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];iA.includes(t)&&(e=e.replace(`@${t}/`,"/"))}o.endsWith("/")||(o+="/");let[a,s]=e.replace(o,"").split("?"),l=new URLSearchParams(s);for(let[e,t]of Object.entries(n||{}))null!=t&&l.set(e,String(t));if(i)if(Array.isArray(i))for(let[e,t]of a.split("/").filter(e=>e.startsWith(":")).entries()){let r=i[e];a=a.replace(t,r)}else for(let[e,t]of Object.entries(i))a=a.replace(`:${e}`,String(t));(a=a.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(a=a.slice(1));let u=l.toString();return(u=u.length>0?`?${u}`.replace(/\+/g,"%20"):"",o.startsWith("http"))?new URL(`${a}${u}`,o):`${o}${a}${u}`}var i_=async(e,t)=>{var r,i,n,o,a,s,l,u;let{hooks:c,url:d,options:p}=await r7(e,t),f=id(p),h=new AbortController,m=null!=(r=p.signal)?r:h.signal,g=iw(d,p),y=im(p),v=await ip(p),b=ig(d,p),A=r8(r6({},p),{url:g,headers:v,body:y,method:b,signal:m});for(let e of c.onRequest)if(e){let t=await e(A);t instanceof Object&&(A=t)}("pipeTo"in A&&"function"==typeof A.pipeTo||"function"==typeof(null==(i=null==t?void 0:t.body)?void 0:i.pipe))&&!("duplex"in A)&&(A.duplex="half");let{clearTimeout:w}=iy(p,h),_=await f(A.url,A);w();let S={response:_,request:A};for(let e of c.onResponse)if(e){let r=await e(r8(r6({},S),{response:(null==(n=null==t?void 0:t.hookOptions)?void 0:n.cloneResponse)?_.clone():_}));r instanceof Response?_=r:r instanceof Object&&(_=r.response)}if(_.ok){if("HEAD"===A.method)return{data:"",error:null};let e=ia(_),r={data:"",response:_,request:A};if("json"===e||"text"===e){let e=await _.text(),t=null!=(o=A.jsonParser)?o:iu;r.data=await t(e)}else r.data=await _[e]();for(let e of((null==A?void 0:A.output)&&A.output&&!A.disableValidation&&(r.data=await ib(A.output,r.data)),c.onSuccess))e&&await e(r8(r6({},r),{response:(null==(a=null==t?void 0:t.hookOptions)?void 0:a.cloneResponse)?_.clone():_}));return(null==t?void 0:t.throw)?r.data:{data:r.data,error:null}}let E=null!=(s=null==t?void 0:t.jsonParser)?s:iu,T=await _.text(),I=is(T),x=I?await E(T):null,O={response:_,responseText:T,request:A,error:r8(r6({},x),{status:_.status,statusText:_.statusText})};for(let e of c.onError)e&&await e(r8(r6({},O),{response:(null==(l=null==t?void 0:t.hookOptions)?void 0:l.cloneResponse)?_.clone():_}));if(null==t?void 0:t.retry){let r=ir(t.retry),i=null!=(u=t.retryAttempt)?u:0;if(await r.shouldAttemptRetry(i,_)){for(let e of c.onRetry)e&&await e(S);let n=r.getDelay(i);return await new Promise(e=>setTimeout(e,n)),await i_(e,r8(r6({},t),{retryAttempt:i+1}))}}if(null==t?void 0:t.throw)throw new r9(_.status,_.statusText,I?x:T);return{data:null,error:r8(r6({},x),{status:_.status,statusText:_.statusText})}};e.s(["BetterFetchError",()=>r9,"betterFetch",()=>i_],533078);let iS=async(e,t,r,i)=>{let n=await eZ(e,t,"verify");eB(e,n);let o=eM(e,n.algorithm);try{return await crypto.subtle.verify(o,n,r,i)}catch{return!1}},iE=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function iT(e,t,r){let i,n;if(!e2(e))throw new eN("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new eN('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eN("JWS Protected Header incorrect type");if(void 0===e.payload)throw new eN("JWS Payload missing");if("string"!=typeof e.signature)throw new eN("JWS Signature missing or incorrect type");if(void 0!==e.header&&!e2(e.header))throw new eN("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let t=eE(e.protected);o=JSON.parse(eA.decode(t))}catch{throw new eN("JWS Protected Header is invalid")}if(!eQ(o,e.header))throw new eN("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...o,...e.header},s=tr(eN,new Map([["b64",!0]]),r?.crit,o,a),l=!0;if(s.has("b64")&&"boolean"!=typeof(l=o.b64))throw new eN('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=a;if("string"!=typeof u||!u)throw new eN('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&iE("algorithms",r.algorithms);if(c&&!c.has(u))throw new eC('"alg" (Algorithm) Header Parameter value not allowed');if(l){if("string"!=typeof e.payload)throw new eN("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new eN("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(o,e),d=!0),tt(u,t,"verify");let p=ew(eb.encode(e.protected??""),eb.encode("."),"string"==typeof e.payload?eb.encode(e.payload):e.payload);try{i=eE(e.signature)}catch{throw new eN("Failed to base64url decode the signature")}let f=await ts(t,u);if(!await iS(u,f,i,p))throw new eK;if(l)try{n=eE(e.payload)}catch{throw new eN("Failed to base64url decode the payload")}else n="string"==typeof e.payload?eb.encode(e.payload):e.payload;let h={payload:n};return(void 0!==e.protected&&(h.protectedHeader=o),void 0!==e.header&&(h.unprotectedHeader=e.header),d)?{...h,key:f}:h}async function iI(e,t,r){if(e instanceof Uint8Array&&(e=eA.decode(e)),"string"!=typeof e)throw new eN("Compact JWS must be a string or Uint8Array");let{0:i,1:n,2:o,length:a}=e.split(".");if(3!==a)throw new eN("Invalid Compact JWS");let s=await iT({payload:n,protected:i,signature:o},t,r),l={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}async function ix(e,t,r){let i=await iI(e,t,r);if(i.protectedHeader.crit?.includes("b64")&&!1===i.protectedHeader.b64)throw new eR("JWTs MUST NOT use unencoded payload");let n={payload:tw(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...n,key:i.key}:n}function iO(e){let t,r;if("string"!=typeof e)throw new eR("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new eR("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new eR("Invalid JWT");if(!i)throw new eR("JWTs must contain a payload");try{t=eE(i)}catch{throw new eR("Failed to base64url decode the payload")}try{r=JSON.parse(eA.decode(t))}catch{throw new eR("Failed to parse the decoded payload as JSON")}if(!e2(r))throw new eR("Invalid JWT Claims Set");return r}function iC(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(eA.decode(eE(t)));if(!e2(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}e.s(["jwtVerify",()=>ix],709939),e.s(["decodeJwt",()=>iO],878175);let ik=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`},iN=async(e,t,r)=>{if(eX(r)){if(r.type!==e)throw TypeError(`key is not a ${e} key`);return r.export({format:"pem",type:t})}if(!eY(r))throw TypeError(eG(r,"CryptoKey","KeyObject"));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return ik(e_(new Uint8Array(await crypto.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},iR=e=>iN("public","spki",e),iP=e=>iN("private","pkcs8",e),iD=(e,t)=>{if(e.byteLength!==t.length)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},iU=e=>({data:e,pos:0}),iL=e=>{let t=e.data[e.pos++];if(128&t){let r=127&t,i=0;for(let t=0;t<r;t++)i=i<<8|e.data[e.pos++];return i}return t},iK=(e,t=1)=>{if(t<=0)return;e.pos++;let r=iL(e);e.pos+=r,t>1&&iK(e,t-1)},iM=(e,t,r)=>{if(e.data[e.pos++]!==t)throw Error(r)},iB=(e,t)=>{let r=e.data.subarray(e.pos,e.pos+t);return e.pos+=t,r},ij=e=>{iM(e,6,"Expected algorithm OID");let t=iL(e);return iB(e,t)};function i$(e){iM(e,48,"Invalid PKCS#8 structure"),iL(e),iM(e,2,"Expected version field");let t=iL(e);e.pos+=t,iM(e,48,"Expected algorithm identifier");let r=iL(e);return{algIdStart:e.pos,algIdLength:r}}function iz(e){iM(e,48,"Invalid SPKI structure"),iL(e),iM(e,48,"Expected algorithm identifier");let t=iL(e);return{algIdStart:e.pos,algIdLength:t}}let iF=e=>{let t=ij(e);if(iD(t,[43,101,110]))return"X25519";if(!iD(t,[42,134,72,206,61,2,1]))throw Error("Unsupported key algorithm");iM(e,6,"Expected curve OID");let r=iL(e),i=iB(e,r);for(let{name:e,oid:t}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if(iD(i,t))return e;throw Error("Unsupported named curve")},iq=async(e,t,r,i)=>{let n,o,a="spki"===e,s=()=>a?["verify"]:["sign"],l=()=>a?["encrypt","wrapKey"]:["decrypt","unwrapKey"];switch(r){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},o=s();break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},o=s();break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},o=l();break;case"ES256":case"ES384":case"ES512":n={name:"ECDSA",namedCurve:({ES256:"P-256",ES384:"P-384",ES512:"P-521"})[r]},o=s();break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":try{let e=i.getNamedCurve(t);n="X25519"===e?{name:"X25519"}:{name:"ECDH",namedCurve:e}}catch(e){throw new ek("Invalid or unsupported key format")}o=a?[]:["deriveBits"];break;case"Ed25519":case"EdDSA":n={name:"Ed25519"},o=s();break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":n={name:r},o=s();break;default:throw new ek('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(e,t,n,i?.extractable??!!a,o)},iV=(e,t)=>eS(e.replace(t,"")),iH=(e,t,r)=>{let i=iV(e,/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g),n=r;return t?.startsWith?.("ECDH-ES")&&((n||={}).getNamedCurve=e=>{let t=iU(e);return i$(t),iF(t)}),iq("pkcs8",i,t,n)},iG=(e,t,r)=>{let i=iV(e,/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g),n=r;return t?.startsWith?.("ECDH-ES")&&((n||={}).getNamedCurve=e=>{let t=iU(e);return iz(t),iF(t)}),iq("spki",i,t,n)};function iW(e){let t=iU(e);iM(t,48,"Invalid certificate structure"),iL(t),iM(t,48,"Invalid tbsCertificate structure"),iL(t),160===e[t.pos]?iK(t,6):iK(t,5);let r=t.pos;iM(t,48,"Invalid SPKI structure");let i=iL(t);return e.subarray(r,r+i+(t.pos-r))}function iZ(e){return iW(iV(e,/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g))}let iJ=(e,t,r)=>{let i;try{i=iZ(e)}catch(e){throw TypeError("Failed to parse the X.509 certificate",{cause:e})}return iG(ik(e_(i),"PUBLIC KEY"),t,r)};async function iQ(e,t,r){let i;if(!e2(e))throw TypeError("JWK must be an object");switch(t??=e.alg,i??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return eE(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new ek('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return tn({...e,alg:t,ext:i});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return tn({...e,ext:i});case"EC":case"OKP":return tn({...e,alg:t,ext:i});default:throw new ek('Unsupported "kty" (Key Type) Parameter value')}}function iY(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new ek('Unsupported "alg" value for a JSON Web Key Set')}}function iX(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(i0)}function i0(e){return e2(e)}e.s(["fromPKCS8",0,iH,"fromSPKI",0,iG,"fromX509",0,iJ,"toPKCS8",0,iP,"toSPKI",0,iR],108456),e.s(["importJWK",()=>iQ],397554);class i1{#a;#s=new WeakMap;constructor(e){if(!iX(e))throw new eP("JSON Web Key Set malformed");this.#a=structuredClone(e)}jwks(){return this.#a}async getKey(e,t){let{alg:r,kid:i}={...e,...t?.header},n=iY(r),o=this.#a.keys.filter(e=>{let t=n===e.kty;if(t&&"string"==typeof i&&(t=i===e.kid),t&&("string"==typeof e.alg||"AKP"===n)&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":case"EdDSA":t="Ed25519"===e.crv}return t}),{0:a,length:s}=o;if(0===s)throw new eD;if(1!==s){let e=new eU,t=this.#s;throw e[Symbol.asyncIterator]=async function*(){for(let e of o)try{yield await i2(t,e,r)}catch{}},e}return i2(this.#s,a,r)}}async function i2(e,t,r){let i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[r]){let e=await iQ({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new eP("JSON Web Key Set members must be public keys");i[r]=e}return i[r]}function i4(e){let t=new i1(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),r}function i3(){return"undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime}if("undefined"==typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 ")){let e="jose",t="v6.1.0";r=`${e}/${t}`}let i5=Symbol();async function i6(e,t,r,i=fetch){let n=await i(e,{method:"GET",signal:r,redirect:"manual",headers:t}).catch(e=>{if("TimeoutError"===e.name)throw new eL;throw e});if(200!==n.status)throw new eI("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await n.json()}catch{throw new eI("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let i8=Symbol();function i9(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!e2(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,e2)}class i7{#l;#u;#c;#d;#p;#f;#h;#m;#g;#y;constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this.#l=new URL(e.href),this.#u="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this.#c="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this.#d="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,this.#h=new Headers(t?.headers),r&&!this.#h.has("User-Agent")&&this.#h.set("User-Agent",r),this.#h.has("accept")||(this.#h.set("accept","application/json"),this.#h.append("accept","application/jwk-set+json")),this.#m=t?.[i5],t?.[i8]!==void 0&&(this.#y=t?.[i8],i9(t?.[i8],this.#d)&&(this.#p=this.#y.uat,this.#g=i4(this.#y.jwks)))}pendingFetch(){return!!this.#f}coolingDown(){return"number"==typeof this.#p&&Date.now()<this.#p+this.#c}fresh(){return"number"==typeof this.#p&&Date.now()<this.#p+this.#d}jwks(){return this.#g?.jwks()}async getKey(e,t){this.#g&&this.fresh()||await this.reload();try{return await this.#g(e,t)}catch(r){if(r instanceof eD&&!1===this.coolingDown())return await this.reload(),this.#g(e,t);throw r}}async reload(){this.#f&&i3()&&(this.#f=void 0),this.#f||=i6(this.#l.href,this.#h,AbortSignal.timeout(this.#u),this.#m).then(e=>{this.#g=i4(e),this.#y&&(this.#y.uat=Date.now(),this.#y.jwks=e),this.#p=Date.now(),this.#f=void 0}).catch(e=>{throw this.#f=void 0,e}),await this.#f}}function ne(e,t){let r=new i7(e,t),i=async(e,t)=>r.getKey(e,t);return Object.defineProperties(i,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>r.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>r.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}e.s(["createRemoteJWKSet",()=>ne],550064);var nt=rj,nr=e.i(181984),ni=e.i(681393),nn=e.i(464589),no=e.i(130717),na=e.i(649330),ns=e.i(338270);function nl(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e))}function nu(e,t,r=".",i){if(!nl(t))return nu(e,{},r,i);let n=Object.assign({},t);for(let t in e){if("__proto__"===t||"constructor"===t)continue;let o=e[t];null!=o&&(i&&i(n,t,o,r)||(Array.isArray(o)&&Array.isArray(n[t])?n[t]=[...o,...n[t]]:nl(o)&&nl(n[t])?n[t]=nu(o,n[t],(r?`${r}.`:"")+t.toString(),i):n[t]=o))}return n}function nc(e){return(...t)=>t.reduce((t,r)=>nu(t,r,"",e),{})}e.i(35972),e.i(323770),e.i(537430);let nd=nc();nc((e,t,r)=>{if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0}),nc((e,t,r)=>{if(Array.isArray(e[t])&&"function"==typeof r)return e[t]=r(e[t]),!0}),e.s(["createDefu",()=>nc,"defu",()=>nd],129776);var np=rB;function nf(e){return"-"===e||"^"===e||"$"===e||"+"===e||"."===e||"("===e||")"===e||"|"===e||"["===e||"]"===e||"{"===e||"}"===e||"*"===e||"?"===e||"\\"===e?`\\${e}`:e}function nh(e){let t="";for(let r=0;r<e.length;r++)t+=nf(e[r]);return t}function nm(e,t=!0){if(Array.isArray(e)){let r=e.map(e=>`^${nm(e,t)}$`);return`(?:${r.join("|")})`}let r="",i="",n=".";!0===t?(r="/",i="[/\\\\]",n="[^/\\\\]"):t&&((i=nh(r=t)).length>1?(i=`(?:${i})`,n=`((?!${i}).)`):n=`[^${i}]`);let o=t?`${i}+?`:"",a=t?`${i}*?`:"",s=t?e.split(r):[e],l="";for(let e=0;e<s.length;e++){let r=s[e],i=s[e+1],u="";if(r||!(e>0)){if(t&&(u=e===s.length-1?a:"**"!==i?o:""),t&&"**"===r){u&&(l+=0===e?"":u,l+=`(?:${n}*?${u})*?`);continue}for(let e=0;e<r.length;e++){let t=r[e];"\\"===t?e<r.length-1&&(l+=nf(r[e+1]),e++):"?"===t?l+=n:"*"===t?l+=`${n}*?`:l+=nf(t)}l+=u}}return l}function ng(e,t){if("string"!=typeof t)throw TypeError(`Sample must be a string, but ${typeof t} given`);return e.test(t)}function ny(e,t){if("string"!=typeof e&&!Array.isArray(e))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof e} given`);if(("string"==typeof t||"boolean"==typeof t)&&(t={separator:t}),2==arguments.length&&!(void 0===t||"object"==typeof t&&null!==t&&!Array.isArray(t)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof t} given`);if("\\"===(t=t||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let r=nm(e,t.separator),i=RegExp(`^${r}$`,t.flags),n=ng.bind(null,i);return n.options=t,n.pattern=e,n.regexp=i,n}let nv=(0,l.c)(async e=>{if(e.request?.method!=="POST"||!e.request)return;let{body:t,query:r,context:i}=e,n=e.headers?.get("origin")||e.headers?.get("referer")||"",o=t?.callbackURL||r?.callbackURL,a=t?.redirectTo,s=t?.errorCallbackURL,l=t?.newUserCallbackURL,c=Array.isArray(i.options.trustedOrigins)?i.trustedOrigins:[...i.trustedOrigins,...await i.options.trustedOrigins?.(e.request)||[]],d=e.headers?.has("cookie"),p=(e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*"))return t.includes("://")?ny(t)((0,nr.g)(e)||e):ny(t)((0,nr.b)(e));let r=(0,nr.c)(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===(0,nr.g)(e)},f=(t,r)=>{if(t&&!c.some(e=>p(t,e)||t?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(t)))throw e.context.logger.error(`Invalid ${r}: ${t}`),e.context.logger.info(`If it's a valid URL, please add ${t} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${c}`),new u.APIError("FORBIDDEN",{message:`Invalid ${r}`})};d&&!e.context.options.advanced?.disableCSRFCheck&&f(n,"origin"),o&&f(o,"callbackURL"),a&&f(a,"redirectURL"),s&&f(s,"errorCallbackURL"),l&&f(l,"newUserCallbackURL")}),nb=e=>(0,l.c)(async t=>{if(!t.request)return;let{context:r}=t,i=e(t),n=Array.isArray(r.options.trustedOrigins)?r.trustedOrigins:[...r.trustedOrigins,...await r.options.trustedOrigins?.(t.request)||[]],o=(e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*"))return t.includes("://")?ny(t)((0,nr.g)(e)||e):ny(t)((0,nr.b)(e));let r=(0,nr.c)(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===(0,nr.g)(e)},a=(e,r)=>{if(e&&!n.some(t=>o(e,t)||e?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(e)))throw t.context.logger.error(`Invalid ${r}: ${e}`),t.context.logger.info(`If it's a valid URL, please add ${e} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${n}`),new u.APIError("FORBIDDEN",{message:`Invalid ${r}`})};for(let e of Array.isArray(i)?i:[i])a(e,"callbackURL")});async function nA(e,t,r,i=3600){return await r$({email:t.toLowerCase(),updateTo:r},e,i)}async function nw(e,t){if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new u.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await nA(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:t,url:i,token:r},e.request)}let n_=(0,l.a)("/send-verification-email",{method:"POST",body:a.object({email:a.email().meta({description:"The email to send the verification email to"}),callbackURL:a.string().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async e=>{if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new u.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:t}=e.body,r=await (0,l.g)(e);if(!r){let r=await e.context.internalAdapter.findUserByEmail(t);return r&&await nw(e,r.user),e.json({status:!0})}if(r?.user.emailVerified)throw new u.APIError("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(r?.user.email!==t)throw new u.APIError("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await nw(e,r.user),e.json({status:!0})}),nS=(0,l.a)("/verify-email",{method:"GET",query:a.object({token:a.string().meta({description:"The token to verify the email"}),callbackURL:a.string().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[nb(e=>e.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"User ID"},email:{type:"string",description:"User email"},name:{type:"string",description:"User name"},image:{type:"string",description:"User image URL"},emailVerified:{type:"boolean",description:"Indicates if the user email is verified"},createdAt:{type:"string",description:"User creation date"},updatedAt:{type:"string",description:"User update date"}},required:["id","email","name","image","emailVerified","createdAt","updatedAt"]},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async e=>{let t;function r(t){if(e.query.callbackURL){if(e.query.callbackURL.includes("?"))throw e.redirect(`${e.query.callbackURL}&error=${t}`);throw e.redirect(`${e.query.callbackURL}?error=${t}`)}throw new u.APIError("UNAUTHORIZED",{message:t})}let{token:i}=e.query;try{t=await ix(i,new TextEncoder().encode(e.context.secret),{algorithms:["HS256"]})}catch(e){if(e instanceof eO)return r("token_expired");return r("invalid_token")}let n=a.object({email:a.string().email(),updateTo:a.string().optional()}).parse(t.payload),o=await e.context.internalAdapter.findUserByEmail(n.email);if(!o)return r("user_not_found");if(n.updateTo){let t=await (0,l.g)(e);if(!t||t.user.email!==n.email){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return r("unauthorized")}let i=await e.context.internalAdapter.updateUserByEmail(n.email,{email:n.updateTo,emailVerified:!1},e),o=await nA(e.context.secret,n.updateTo);if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:i,url:`${e.context.baseURL}/verify-email?token=${o}&callbackURL=${e.query.callbackURL||"/"}`,token:o},e.request),await (0,ni.s)(e,{session:t.session,user:{...t.user,email:n.updateTo,emailVerified:!1}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:{id:i.id,email:i.email,name:i.name,image:i.image,emailVerified:i.emailVerified,createdAt:i.createdAt,updatedAt:i.updatedAt}})}e.context.options.emailVerification?.onEmailVerification&&await e.context.options.emailVerification.onEmailVerification(o.user,e.request);let s=await e.context.internalAdapter.updateUserByEmail(n.email,{emailVerified:!0},e);if(e.context.options.emailVerification?.afterEmailVerification&&await e.context.options.emailVerification.afterEmailVerification(s,e.request),e.context.options.emailVerification?.autoSignInAfterVerification){let t=await (0,l.g)(e);if(t&&t.user.email===n.email)await (0,ni.s)(e,{session:t.session,user:{...t.user,emailVerified:!0}});else{let t=await e.context.internalAdapter.createSession(o.user.id,e);if(!t)throw new u.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await (0,ni.s)(e,{session:t,user:{...o.user,emailVerified:!0}})}}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})}),nE={isAction:!1};async function nT(e,t){let r=e.body?.callbackURL||e.context.options.baseURL;if(!r)throw new u.APIError("BAD_REQUEST",{message:"callbackURL is required"});let i=(0,nt.g)(128),n=(0,nt.g)(32),o=e.context.createAuthCookie("state",{maxAge:3e5});await e.setSignedCookie(o.name,n,e.context.secret,o.attributes);let a=JSON.stringify({callbackURL:r,codeVerifier:i,errorURL:e.body?.errorCallbackURL,newUserURL:e.body?.newUserCallbackURL,link:t,expiresAt:Date.now()+6e5,requestSignUp:e.body?.requestSignUp}),s=new Date;s.setMinutes(s.getMinutes()+10);let l=await e.context.internalAdapter.createVerificationValue({value:a,identifier:n,expiresAt:s},e);if(!l)throw e.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new u.APIError("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:l.identifier,codeVerifier:i}}async function nI(e){let t=e.query.state||e.body.state,r=await e.context.internalAdapter.findVerificationValue(t);if(!r){e.context.logger.error("State Mismatch. Verification not found",{state:t});let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=please_restart_the_process`)}let i=a.object({callbackURL:a.string(),codeVerifier:a.string(),errorURL:a.string().optional(),newUserURL:a.string().optional(),expiresAt:a.number(),link:a.object({email:a.string(),userId:s.coerce.string()}).optional(),requestSignUp:a.boolean().optional()}).parse(JSON.parse(r.value));i.errorURL||(i.errorURL=`${e.context.baseURL}/error`);let n=e.context.createAuthCookie("state"),o=await e.getSignedCookie(n.name,e.context.secret);if(!e.context.oauthConfig?.skipStateCookieCheck&&(!o||o!==t)){let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=state_mismatch`)}if(e.setCookie(n.name,"",{maxAge:0}),i.expiresAt<Date.now()){await e.context.internalAdapter.deleteVerificationValue(r.id);let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}return await e.context.internalAdapter.deleteVerificationValue(r.id),i}async function nx(e){let t=await (0,d.createHash)("SHA-256").digest(e);return p.base64Url.encode(new Uint8Array(t),{padding:!1})}function nO(e){return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?(0,c.g)(e.expires_in,"sec"):void 0,refreshTokenExpiresAt:e.refresh_token_expires_in?(0,c.g)(e.refresh_token_expires_in,"sec"):void 0,scopes:e?.scope?"string"==typeof e.scope?e.scope.split(" "):e.scope:[],idToken:e.id_token}}function nC(e,t){return e&&t.options.account?.encryptOAuthTokens?rY({key:t.secret,data:e}):e}function nk(e,t){return t.options.account?.encryptOAuthTokens&&e?rQ({key:t.secret,data:e}):e}async function nN(e,{userInfo:t,account:r,callbackURL:i,disableSignUp:n,overrideUserInfo:o}){let a=await e.context.internalAdapter.findOAuthUser(t.email.toLowerCase(),r.accountId,r.providerId).catch(t=>{nn.a.error("Better auth was unable to query your database.\nError: ",t);let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=internal_server_error`)}),s=a?.user,l=!s;if(a){let i=a.accounts.find(e=>e.providerId===r.providerId&&e.accountId===r.accountId);if(i){if(e.context.options.account?.updateAccountOnSignIn!==!1){let t=Object.fromEntries(Object.entries({idToken:r.idToken,accessToken:await nk(r.accessToken,e.context),refreshToken:await nk(r.refreshToken,e.context),accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope}).filter(([e,t])=>void 0!==t));Object.keys(t).length>0&&await e.context.internalAdapter.updateAccount(i.id,t,e)}t.emailVerified&&!a.user.emailVerified&&t.email.toLowerCase()===a.user.email&&await e.context.internalAdapter.updateUser(a.user.id,{emailVerified:!0})}else{let i=e.context.options.account?.accountLinking?.trustedProviders;if(!i?.includes(r.providerId)&&!t.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return ns.a&&nn.a.warn(`User already exist but account isn't linked to ${r.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await e.context.internalAdapter.linkAccount({providerId:r.providerId,accountId:t.id.toString(),userId:a.user.id,accessToken:await nk(r.accessToken,e.context),refreshToken:await nk(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope},e)}catch(e){return nn.a.error("Unable to link account",e),{error:"unable to link account",data:null}}t.emailVerified&&!a.user.emailVerified&&t.email.toLowerCase()===a.user.email&&await e.context.internalAdapter.updateUser(a.user.id,{emailVerified:!0})}if(o){let{id:r,...i}=t;await e.context.internalAdapter.updateUser(a.user.id,{...i,email:t.email.toLowerCase(),emailVerified:t.email.toLowerCase()===a.user.email&&a.user.emailVerified||t.emailVerified})}}else{if(n)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:n,...o}=t;if(s=await e.context.internalAdapter.createOAuthUser({...o,email:t.email.toLowerCase()},{accessToken:await nk(r.accessToken,e.context),refreshToken:await nk(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope,providerId:r.providerId,accountId:t.id.toString()},e).then(e=>e?.user),!t.emailVerified&&s&&e.context.options.emailVerification?.sendOnSignUp){let t=await nA(e.context.secret,s.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${i}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:s,url:r,token:t},e.request)}}catch(e){if(nn.a.error(e),e instanceof u.APIError)return{error:e.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!s)return{error:"unable to create user",data:null,isRegister:!1};let c=await e.context.internalAdapter.createSession(s.id,e);return c?{data:{session:c,user:s},error:null,isRegister:l}:{error:"unable to create session",data:null,isRegister:!1}}async function nR({id:e,options:t,authorizationEndpoint:r,state:i,codeVerifier:n,scopes:o,claims:a,redirectURI:s,duration:l,prompt:u,accessType:c,responseType:d,display:p,loginHint:f,hd:h,responseMode:m,additionalParams:g,scopeJoiner:y}){let v=new URL(r);v.searchParams.set("response_type",d||"code");let b=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;if(v.searchParams.set("client_id",b),v.searchParams.set("state",i),v.searchParams.set("scope",o.join(y||" ")),v.searchParams.set("redirect_uri",t.redirectURI||s),l&&v.searchParams.set("duration",l),p&&v.searchParams.set("display",p),f&&v.searchParams.set("login_hint",f),u&&v.searchParams.set("prompt",u),h&&v.searchParams.set("hd",h),c&&v.searchParams.set("access_type",c),m&&v.searchParams.set("response_mode",m),n){let e=await nx(n);v.searchParams.set("code_challenge_method","S256"),v.searchParams.set("code_challenge",e)}if(a){let e=a.reduce((e,t)=>(e[t]=null,e),{});v.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...e}}))}return g&&Object.entries(g).forEach(([e,t])=>{v.searchParams.set(e,t)}),v}function nP({code:e,codeVerifier:t,redirectURI:r,options:i,authentication:n,deviceId:o,headers:a,additionalParams:s={},resource:l}){let u=new URLSearchParams,c={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth",...a};if(u.set("grant_type","authorization_code"),u.set("code",e),t&&u.set("code_verifier",t),i.clientKey&&u.set("client_key",i.clientKey),o&&u.set("device_id",o),u.set("redirect_uri",i.redirectURI||r),l)if("string"==typeof l)u.append("resource",l);else for(let e of l)u.append("resource",e);if("basic"===n){let e=Array.isArray(i.clientId)?i.clientId[0]:i.clientId,t=p.base64.encode(`${e}:${i.clientSecret??""}`);c.authorization=`Basic ${t}`}else{let e=Array.isArray(i.clientId)?i.clientId[0]:i.clientId;u.set("client_id",e),i.clientSecret&&u.set("client_secret",i.clientSecret)}for(let[e,t]of Object.entries(s))u.has(e)||u.append(e,t);return{body:u,headers:c}}async function nD({code:e,codeVerifier:t,redirectURI:r,options:i,tokenEndpoint:n,authentication:o,deviceId:a,headers:s,additionalParams:l={},resource:u}){let{body:c,headers:d}=nP({code:e,codeVerifier:t,redirectURI:r,options:i,authentication:o,deviceId:a,headers:s,additionalParams:l,resource:u}),{data:p,error:f}=await i_(n,{method:"POST",body:c,headers:d});if(f)throw f;return nO(p)}async function nU(e,t){let{data:r,error:i}=await i_(t,{method:"GET",headers:{accept:"application/json","user-agent":"better-auth"}});if(i)throw i;let n=r.keys,o=JSON.parse(atob(e.split(".")[0])),a=n.find(e=>e.kid===o.kid);if(!a)throw Error("Key not found");return await ix(e,a)}function nL({refreshToken:e,options:t,authentication:r,extraParams:i,resource:n}){let o=new URLSearchParams,a={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(o.set("grant_type","refresh_token"),o.set("refresh_token",e),"basic"===r){let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;e?a.authorization="Basic "+p.base64.encode(`${e}:${t.clientSecret??""}`):a.authorization="Basic "+p.base64.encode(`:${t.clientSecret??""}`)}else{let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;o.set("client_id",e),t.clientSecret&&o.set("client_secret",t.clientSecret)}if(n)if("string"==typeof n)o.append("resource",n);else for(let e of n)o.append("resource",e);if(i)for(let[e,t]of Object.entries(i))o.set(e,t);return{body:o,headers:a}}async function nK({refreshToken:e,options:t,tokenEndpoint:r,authentication:i,extraParams:n}){let{body:o,headers:a}=nL({refreshToken:e,options:t,authentication:i,extraParams:n}),{data:s,error:l}=await i_(r,{method:"POST",body:o,headers:a});if(l)throw l;let u={accessToken:s.access_token,refreshToken:s.refresh_token,tokenType:s.token_type,scopes:s.scope?.split(" "),idToken:s.id_token};return s.expires_in&&(u.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*s.expires_in)),u}let nM=async e=>{let t="https://appleid.apple.com",r="/auth/keys",{data:i}=await i_(`${t}${r}`);if(!i?.keys)throw new u.APIError("BAD_REQUEST",{message:"Keys not found"});let n=i.keys.find(t=>t.kid===e);if(!n)throw Error(`JWK with kid ${e} not found`);return await iQ(n,n.alg)},nB=async(e,t,r)=>{let i=`https://cognito-idp.${t}.amazonaws.com/${r}/.well-known/jwks.json`;try{let{data:t}=await i_(i);if(!t?.keys)throw new u.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await iQ(r,r.alg)}catch(e){throw nn.a.error("Failed to fetch Cognito public key:",e),e}},nj=(e="")=>e.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),n$=e=>{let t=e||"https://gitlab.com";return{authorizationEndpoint:nj(`${t}/oauth/authorize`),tokenEndpoint:nj(`${t}/oauth/token`),userinfoEndpoint:nj(`${t}/api/v4/user`)}},nz={apple:e=>{let t="https://appleid.apple.com/auth/token";return{id:"apple",name:"Apple",async createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["email","name"];return e.scope&&n.push(...e.scope),r&&n.push(...r),await nR({id:"apple",options:e,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:n,state:t,redirectURI:i,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:r,codeVerifier:i,redirectURI:n})=>nD({code:r,codeVerifier:i,redirectURI:n,options:e,tokenEndpoint:t}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let{kid:i,alg:n}=iC(t);if(!i||!n)return!1;let o=await nM(i),{payload:a}=await ix(t,o,{algorithms:[n],issuer:"https://appleid.apple.com",audience:e.audience&&e.audience.length?e.audience:e.appBundleIdentifier?e.appBundleIdentifier:e.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(e=>{void 0!==a[e]&&(a[e]=!!a[e])}),(!r||a.nonce===r)&&!!a},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=iO(t.idToken);if(!r)return null;let i=t.user?`${t.user.name?.firstName} ${t.user.name?.lastName}`:r.name||r.email,n="boolean"==typeof r.email_verified?r.email_verified:"true"===r.email_verified,o={...r,name:i},a=await e.mapProfileToUser?.(o);return{user:{id:r.sub,name:o.name,emailVerified:n,email:r.email,...a},data:o}},options:e}},atlassian:e=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw nn.a.error("Client Id and Secret are required for Atlassian"),new np.B("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new np.B("codeVerifier is required for Atlassian");let o=e.disableDefaultScope?[]:["read:jira-user","offline_access"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"atlassian",options:e,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:o,state:t,codeVerifier:i,redirectURI:n,additionalParams:{audience:"api.atlassian.com"},prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;try{let{data:r}=await i_("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name,email:r.email,image:r.picture,emailVerified:!1,...i},data:r}}catch(e){return nn.a.error("Failed to fetch user info from Figma:",e),null}},options:e}),cognito:e=>{if(!e.domain||!e.region||!e.userPoolId)throw nn.a.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new np.B("DOMAIN_AND_REGION_REQUIRED");let t=e.domain.replace(/^https?:\/\//,""),r=`https://${t}/oauth2/authorize`,i=`https://${t}/oauth2/token`,n=`https://${t}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:o}){if(!e.clientId)throw nn.a.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new np.B("CLIENT_ID_AND_SECRET_REQUIRED");if(e.requireClientSecret&&!e.clientSecret)throw nn.a.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new np.B("CLIENT_SECRET_REQUIRED");let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),i&&a.push(...i),await nR({id:"cognito",options:{...e},authorizationEndpoint:r,scopes:a,state:t,codeVerifier:n,redirectURI:o,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>nD({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:i}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{let{kid:i,alg:n}=iC(t);if(!i||!n)return!1;let o=await nB(i,e.region,e.userPoolId),a=`https://cognito-idp.${e.region}.amazonaws.com/${e.userPoolId}`,{payload:s}=await ix(t,o,{algorithms:[n],issuer:a,audience:e.clientId,maxTokenAge:"1h"});if(r&&s.nonce!==r)return!1;return!0}catch(e){return nn.a.error("Failed to verify ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken)try{let r=iO(t.idToken);if(!r)return null;let i=r.name||r.given_name||r.username||r.email,n={...r,name:i},o=await e.mapProfileToUser?.(n);return{user:{id:r.sub,name:n.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...o},data:n}}catch(e){nn.a.error("Failed to decode ID token:",e)}if(t.accessToken)try{let{data:r}=await i_(n,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(r){let t=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.given_name||r.username,email:r.email,image:r.picture,emailVerified:r.email_verified,...t},data:r}}}catch(e){nn.a.error("Failed to fetch user info from Cognito:",e)}return null},options:e}},discord:e=>({id:"discord",name:"Discord",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["identify","email"];r&&n.push(...r),e.scope&&n.push(...e.scope);let o=n.includes("bot")&&void 0!==e.permissions?`&permissions=${e.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${n.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}&prompt=${e.prompt||"none"}${o}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;if(null===r.avatar){let e="0"===r.discriminator?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5;r.image_url=`https://cdn.discordapp.com/embed/avatars/${e}.png`}else{let e=r.avatar.startsWith("a_")?"gif":"png";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${e}`}let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.global_name||r.username||"",email:r.email,emailVerified:r.verified,image:r.image_url,...n},data:r}},options:e}),facebook:e=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:t,scopes:r,redirectURI:i,loginHint:n}){let o=e.disableDefaultScope?[]:["email","public_profile"];return e.scope&&o.push(...e.scope),r&&o.push(...r),await nR({id:"facebook",options:e,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:o,state:t,redirectURI:i,loginHint:n,additionalParams:e.configId?{config_id:e.configId}:{}})},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);if(3===t.split(".").length)try{let{payload:i}=await ix(t,ne(new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/")),{algorithms:["RS256"],audience:e.clientId,issuer:"https://www.facebook.com"});if(r&&i.nonce!==r)return!1;return!!i}catch(e){return!1}return!0},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken&&3===t.idToken.split(".").length){let r=iO(t.idToken),i={id:r.sub,name:r.name,email:r.email,picture:{data:{url:r.picture,height:100,width:100,is_silhouette:!1}}},n=await e.mapProfileToUser?.({...i,email_verified:!0});return{user:{...i,emailVerified:!0,...n},data:r}}let r=["id","name","email","picture",...e?.fields||[]],{data:i,error:n}=await i_("https://graph.facebook.com/me?fields="+r.join(","),{auth:{type:"Bearer",token:t.accessToken}});if(n)return null;let o=await e.mapProfileToUser?.(i);return{user:{id:i.id,name:i.name,email:i.email,image:i.picture.data.url,emailVerified:i.email_verified,...o},data:i}},options:e}),figma:e=>({id:"figma",name:"Figma",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw nn.a.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new np.B("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new np.B("codeVerifier is required for Figma");let o=e.disableDefaultScope?[]:["file_read"];return e.scope&&o.push(...e.scope),r&&o.push(...r),await nR({id:"figma",options:e,authorizationEndpoint:"https://www.figma.com/oauth",scopes:o,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await i_("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return nn.a.error("Failed to fetch user from Figma"),null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.handle,email:r.email,image:r.img_url,emailVerified:!!r.email,...i},data:r}}catch(e){return nn.a.error("Failed to fetch user info from Figma:",e),null}},options:e}),github:e=>{let t="https://github.com/login/oauth/access_token";return{id:"github",name:"GitHub",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let o=e.disableDefaultScope?[]:["read:user","user:email"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"github",options:e,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:o,state:t,redirectURI:n,loginHint:i,prompt:e.prompt})},validateAuthorizationCode:async({code:r,redirectURI:i})=>nD({code:r,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${t.accessToken}`}});if(i)return null;let{data:n}=await i_("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});!r.email&&n&&(r.email=(n.find(e=>e.primary)??n[0])?.email);let o=n?.find(e=>e.email===r.email)?.verified??!1,a=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name||r.login,email:r.email,image:r.avatar_url,emailVerified:o,...a},data:r}},options:e}},microsoft:e=>{let t=e.tenantId||"common",r=e.authority||"https://login.microsoftonline.com",i=`${r}/${t}/oauth2/v2.0/authorize`,n=`${r}/${t}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),nR({id:"microsoft",options:e,authorizationEndpoint:i,state:t.state,codeVerifier:t.codeVerifier,scopes:r,redirectURI:t.redirectURI,prompt:e.prompt,loginHint:t.loginHint})},validateAuthorizationCode:({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=iO(t.idToken),i=e.profilePhotoSize||48;await i_(`https://graph.microsoft.com/v1.0/me/photos/${i}x${i}/$value`,{headers:{Authorization:`Bearer ${t.accessToken}`},async onResponse(t){if(!e.disableProfilePhoto&&t.response.ok)try{let e=t.response.clone(),i=await e.arrayBuffer(),n=p.base64.encode(i);r.picture=`data:image/jpeg;base64, ${n}`}catch(e){nn.a.error(e&&"object"==typeof e&&"name"in e?e.name:"",e)}}});let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:!0,...n},data:r}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),nK({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},extraParams:{scope:r.join(" ")},tokenEndpoint:n})},options:e}},google:e=>({id:"google",name:"Google",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n,loginHint:o,display:a}){if(!e.clientId||!e.clientSecret)throw nn.a.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new np.B("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new np.B("codeVerifier is required for Google");let s=e.disableDefaultScope?[]:["email","profile","openid"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await nR({id:"google",options:e,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:s,state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt,accessType:e.accessType,display:a||e.display,loginHint:o,hd:e.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let i=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${t}`,{data:n}=await i_(i);return!!n&&n.aud===e.clientId&&("https://accounts.google.com"===n.iss||"accounts.google.com"===n.iss)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=iO(t.idToken),i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...i},data:r}},options:e}),huggingface:e=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let o=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"huggingface",options:e,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:o,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...n},data:r}},options:e}),slack:e=>({id:"slack",name:"Slack",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["openid","profile","email"];r&&n.push(...r),e.scope&&n.push(...e.scope);let o=new URL("https://slack.com/openid/connect/authorize");return o.searchParams.set("scope",n.join(" ")),o.searchParams.set("response_type","code"),o.searchParams.set("client_id",e.clientId),o.searchParams.set("redirect_uri",e.redirectURI||i),o.searchParams.set("state",t),o},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r["https://slack.com/user_id"],name:r.name||"",email:r.email,emailVerified:r.email_verified,image:r.picture||r["https://slack.com/user_image_512"],...n},data:r}},options:e}),spotify:e=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let o=e.disableDefaultScope?[]:["user-read-email"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"spotify",options:e,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:o,state:t,codeVerifier:i,redirectURI:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,email:r.email,image:r.images[0]?.url,emailVerified:!1,...n},data:r}},options:e}),twitch:e=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["user:read:email","openid"];return e.scope&&n.push(...e.scope),r&&n.push(...r),nR({id:"twitch",redirectURI:i,options:e,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:n,state:t,claims:e.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=t.idToken;if(!r)return nn.a.error("No idToken found in token"),null;let i=iO(r),n=await e.mapProfileToUser?.(i);return{user:{id:i.sub,name:i.preferred_username,email:i.email,image:i.picture,emailVerified:i.email_verified,...n},data:i}},options:e}),twitter:e=>({id:"twitter",name:"Twitter",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),nR({id:"twitter",options:e,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>nD({code:t,codeVerifier:r,authentication:"basic",redirectURI:i,options:e,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let{data:n,error:o}=await i_("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}}),a=!1;!o&&n?.data?.confirmed_email&&(r.data.email=n.data.confirmed_email,a=!0);let s=await e.mapProfileToUser?.(r);return{user:{id:r.data.id,name:r.data.name,email:r.data.email||r.data.username||null,image:r.data.profile_image_url,emailVerified:a,...s},data:r}},options:e}),dropbox:e=>{let t="https://api.dropboxapi.com/oauth2/token";return{id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:t,scopes:r,codeVerifier:i,redirectURI:n})=>{let o=e.disableDefaultScope?[]:["account_info.read"];e.scope&&o.push(...e.scope),r&&o.push(...r);let a={};return e.accessType&&(a.token_access_type=e.accessType),await nR({id:"dropbox",options:e,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:o,state:t,redirectURI:n,codeVerifier:i,additionalParams:a})},validateAuthorizationCode:async({code:r,codeVerifier:i,redirectURI:n})=>await nD({code:r,codeVerifier:i,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name?.display_name,email:r.email,emailVerified:r.email_verified||!1,image:r.profile_photo_url,...n},data:r}},options:e}},kick:e=>({id:"kick",name:"Kick",createAuthorizationURL({state:t,scopes:r,redirectURI:i,codeVerifier:n}){let o=e.disableDefaultScope?[]:["user:read"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"kick",redirectURI:i,options:e,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:o,codeVerifier:n,state:t})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:i})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=r.data[0],o=await e.mapProfileToUser?.(n);return{user:{id:n.user_id,name:n.name,email:n.email,image:n.profile_picture,emailVerified:!0,...o},data:n}},options:e}),linear:e=>{let t="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let o=e.disableDefaultScope?[]:["read"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"linear",options:e,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:o,state:t,redirectURI:n,loginHint:i})},validateAuthorizationCode:async({code:r,redirectURI:i})=>nD({code:r,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>nK({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(i||!r?.data?.viewer)return null;let n=r.data.viewer,o=await e.mapProfileToUser?.(n);return{user:{id:r.data.viewer.id,name:r.data.viewer.name,email:r.data.viewer.email,image:r.data.viewer.avatarUrl,emailVerified:!0,...o},data:n}},options:e}},linkedin:e=>{let t="https://www.linkedin.com/oauth/v2/authorization",r="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:r,scopes:i,redirectURI:n,loginHint:o})=>{let a=e.disableDefaultScope?[]:["profile","email","openid"];return e.scope&&a.push(...e.scope),i&&a.push(...i),await nR({id:"linkedin",options:e,authorizationEndpoint:t,scopes:a,state:r,loginHint:o,redirectURI:n})},validateAuthorizationCode:async({code:t,redirectURI:i})=>await nD({code:t,redirectURI:i,options:e,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:r}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,emailVerified:r.email_verified||!1,image:r.picture,...n},data:r}},options:e}},gitlab:e=>{let{authorizationEndpoint:t,tokenEndpoint:r,userinfoEndpoint:i}=n$(e.issuer),n="gitlab";return{id:n,name:"Gitlab",createAuthorizationURL:async({state:r,scopes:i,codeVerifier:o,loginHint:a,redirectURI:s})=>{let l=e.disableDefaultScope?[]:["read_user"];return e.scope&&l.push(...e.scope),i&&l.push(...i),await nR({id:n,options:e,authorizationEndpoint:t,scopes:l,state:r,redirectURI:s,codeVerifier:o,loginHint:a})},validateAuthorizationCode:async({code:t,redirectURI:i,codeVerifier:n})=>nD({code:t,redirectURI:i,options:e,codeVerifier:n,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://gitlab.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await i_(i,{headers:{authorization:`Bearer ${t.accessToken}`}});if(n||"active"!==r.state||r.locked)return null;let o=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name??r.username,email:r.email,image:r.avatar_url,emailVerified:!0,...o},data:r}},options:e}},tiktok:e=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["user.info.profile"];return e.scope&&n.push(...e.scope),r&&n.push(...r),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${n.join(",")}&response_type=code&client_key=${e.clientKey}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:e.redirectURI||r,options:{clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:e.clientKey}}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=["open_id","avatar_large_url","display_name","username"],{data:i,error:n}=await i_(`https://open.tiktokapis.com/v2/user/info/?fields=${r.join(",")}`,{headers:{authorization:`Bearer ${t.accessToken}`}});return n?null:{user:{email:i.data.user.email||i.data.user.username,id:i.data.user.open_id,name:i.data.user.display_name||i.data.user.username,image:i.data.user.avatar_large_url,emailVerified:!!i.data.user.email},data:i}},options:e}),reddit:e=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["identity"];return e.scope&&n.push(...e.scope),r&&n.push(...r),nR({id:"reddit",options:e,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:n,state:t,redirectURI:i,duration:e.duration})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let i=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e.redirectURI||r}),n={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${p.base64.encode(`${e.clientId}:${e.clientSecret}`)}`},{data:o,error:a}=await i_("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:n,body:i.toString()});if(a)throw a;return nO(o)},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name,email:r.oauth_client_id,emailVerified:r.has_verified_email,image:r.icon_img?.split("?")[0],...n},data:r}},options:e}),roblox:e=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["openid","profile"];return e.scope&&n.push(...e.scope),r&&n.push(...r),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${n.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||i)}&state=${t}&prompt=${e.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(i)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.nickname||r.preferred_username||"",image:r.picture,email:r.preferred_username||null,emailVerified:!0,...n},data:{...r}}},options:e}),salesforce:e=>{let t="sandbox"===(e.environment??"production"),r=e.loginUrl?`https://${e.loginUrl}/services/oauth2/authorize`:t?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",i=e.loginUrl?`https://${e.loginUrl}/services/oauth2/token`:t?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",n=e.loginUrl?`https://${e.loginUrl}/services/oauth2/userinfo`:t?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:t,scopes:i,codeVerifier:n,redirectURI:o}){if(!e.clientId||!e.clientSecret)throw nn.a.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new np.B("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new np.B("codeVerifier is required for Salesforce");let a=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&a.push(...e.scope),i&&a.push(...i),nR({id:"salesforce",options:e,authorizationEndpoint:r,scopes:a,state:t,codeVerifier:n,redirectURI:e.redirectURI||o})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>nD({code:t,codeVerifier:r,redirectURI:e.redirectURI||n,options:e,tokenEndpoint:i}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await i_(n,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return nn.a.error("Failed to fetch user info from Salesforce"),null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.user_id,name:r.name,email:r.email,image:r.photos?.picture||r.photos?.thumbnail,emailVerified:r.email_verified??!1,...i},data:r}}catch(e){return nn.a.error("Failed to fetch user info from Salesforce:",e),null}},options:e}},vk:e=>({id:"vk",name:"VK",async createAuthorizationURL({state:t,scopes:r,codeVerifier:i,redirectURI:n}){let o=e.disableDefaultScope?[]:["email","phone"];return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"vk",options:e,authorizationEndpoint:"https://id.vk.com/authorize",scopes:o,state:t,redirectURI:n,codeVerifier:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i,deviceId:n})=>nD({code:t,codeVerifier:r,redirectURI:e.redirectURI||i,options:e,deviceId:n,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;let r=new URLSearchParams({access_token:t.accessToken,client_id:e.clientId}).toString(),{data:i,error:n}=await i_("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(n||!i.user.email)return null;let o=await e.mapProfileToUser?.(i);return{user:{id:i.user.user_id,first_name:i.user.first_name,last_name:i.user.last_name,email:i.user.email,image:i.user.avatar,emailVerified:!!i.user.email,birthday:i.user.birthday,sex:i.user.sex,name:`${i.user.first_name} ${i.user.last_name}`,...o},data:i}},options:e}),zoom:e=>{let t={pkce:!0,...e};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:e,redirectURI:r,codeVerifier:i})=>{let n=new URLSearchParams({response_type:"code",redirect_uri:t.redirectURI?t.redirectURI:r,client_id:t.clientId,state:e});if(t.pkce){let e=await nx(i);n.set("code_challenge_method","S256"),n.set("code_challenge",e)}let o=new URL("https://zoom.us/oauth/authorize");return o.search=n.toString(),o},validateAuthorizationCode:async({code:e,redirectURI:r,codeVerifier:i})=>nD({code:e,redirectURI:t.redirectURI||r,codeVerifier:i,options:t,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),async getUserInfo(e){if(t.getUserInfo)return t.getUserInfo(e);let{data:r,error:i}=await i_("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${e.accessToken}`}});if(i)return null;let n=await t.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,image:r.pic_url,email:r.email,emailVerified:!!r.verified,...n},data:{...r}}}}},notion:e=>{let t="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:t,scopes:r,loginHint:i,redirectURI:n}){let o=(e.disableDefaultScope,[]);return e.scope&&o.push(...e.scope),r&&o.push(...r),nR({id:"notion",options:e,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:o,state:t,redirectURI:n,loginHint:i,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:r,redirectURI:i})=>nD({code:r,redirectURI:i,options:e,tokenEndpoint:t,authentication:"basic"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>nK({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"Notion-Version":"2022-06-28"}});if(i||!r)return null;let n=r.bot?.owner?.user;if(!n)return null;let o=await e.mapProfileToUser?.(n);return{user:{id:n.id,name:n.name||"Notion User",email:n.person?.email||null,image:n.avatar_url,emailVerified:!!n.person?.email,...o},data:n}},options:e}},kakao:e=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return e.scope&&n.push(...e.scope),r&&n.push(...r),nR({id:"kakao",options:e,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:n,state:t,redirectURI:i})},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r)return null;let n=await e.mapProfileToUser?.(r),o=r.kakao_account||{},a=o.profile||{};return{user:{id:String(r.id),name:a.nickname||o.name||void 0,email:o.email,image:a.profile_image_url||a.thumbnail_image_url,emailVerified:!!o.is_email_valid&&!!o.is_email_verified,...n},data:r}},options:e}),naver:e=>({id:"naver",name:"Naver",createAuthorizationURL({state:t,scopes:r,redirectURI:i}){let n=e.disableDefaultScope?[]:["profile","email"];return e.scope&&n.push(...e.scope),r&&n.push(...r),nR({id:"naver",options:e,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:n,state:t,redirectURI:i})},validateAuthorizationCode:async({code:t,redirectURI:r})=>nD({code:t,redirectURI:r,options:e,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await i_("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(i||!r||"00"!==r.resultcode)return null;let n=await e.mapProfileToUser?.(r),o=r.response||{};return{user:{id:o.id,name:o.name||o.nickname,email:o.email,image:o.profile_image,emailVerified:!1,...n},data:r}},options:e}),line:e=>{let t="https://access.line.me/oauth2/v2.1/authorize",r="https://api.line.me/oauth2/v2.1/token",i="https://api.line.me/oauth2/v2.1/userinfo",n="https://api.line.me/oauth2/v2.1/verify";return{id:"line",name:"LINE",async createAuthorizationURL({state:r,scopes:i,codeVerifier:n,redirectURI:o,loginHint:a}){let s=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&s.push(...e.scope),i&&s.push(...i),await nR({id:"line",options:e,authorizationEndpoint:t,scopes:s,state:r,codeVerifier:n,redirectURI:o,loginHint:a})},validateAuthorizationCode:async({code:t,codeVerifier:i,redirectURI:n})=>nD({code:t,codeVerifier:i,redirectURI:n,options:e,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>nK({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:r}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let i=new URLSearchParams;i.set("id_token",t),i.set("client_id",e.clientId),r&&i.set("nonce",r);let{data:o,error:a}=await i_(n,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:i});return!a&&!!o&&o.aud===e.clientId&&(!r||!o.nonce||o.nonce===r)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=null;if(t.idToken)try{r=iO(t.idToken)}catch{}if(!r){let{data:e}=await i_(i,{headers:{authorization:`Bearer ${t.accessToken}`}});r=e||null}if(!r)return null;let n=await e.mapProfileToUser?.(r),o=r.sub||r.userId,a=r.name||r.displayName,s=r.picture||r.pictureUrl||void 0;return{user:{id:o,name:a,email:r.email,image:s,emailVerified:!1,...n},data:r}},options:e}},paypal:e=>{let t="sandbox"===(e.environment||"sandbox"),r=t?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",i=t?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",n=t?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:t,codeVerifier:i,redirectURI:n}){if(!e.clientId||!e.clientSecret)throw nn.a.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new np.B("CLIENT_ID_AND_SECRET_REQUIRED");let o=[];return await nR({id:"paypal",options:e,authorizationEndpoint:r,scopes:o,state:t,codeVerifier:i,redirectURI:n,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let n=p.base64.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await i_(i,{method:"POST",headers:{Authorization:`Basic ${n}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:r}).toString()});if(!e.data)throw new np.B("FAILED_TO_GET_ACCESS_TOKEN");let o=e.data;return{accessToken:o.access_token,refreshToken:o.refresh_token,accessTokenExpiresAt:o.expires_in?new Date(Date.now()+1e3*o.expires_in):void 0,idToken:o.id_token}}catch(e){throw nn.a.error("PayPal token exchange failed:",e),new np.B("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=p.base64.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await i_(i,{method:"POST",headers:{Authorization:`Basic ${r}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t}).toString()});if(!e.data)throw new np.B("FAILED_TO_REFRESH_ACCESS_TOKEN");let n=e.data;return{accessToken:n.access_token,refreshToken:n.refresh_token,accessTokenExpiresAt:n.expires_in?new Date(Date.now()+1e3*n.expires_in):void 0}}catch(e){throw nn.a.error("PayPal token refresh failed:",e),new np.B("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{return!!iO(t).sub}catch(e){return nn.a.error("Failed to verify PayPal ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return nn.a.error("Access token is required to fetch PayPal user info"),null;try{let r=await i_(`${n}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${t.accessToken}`,Accept:"application/json"}});if(!r.data)return nn.a.error("Failed to fetch user info from PayPal"),null;let i=r.data,o=await e.mapProfileToUser?.(i);return{user:{id:i.user_id,name:i.name,email:i.email,image:i.picture,emailVerified:i.email_verified,...o},data:i}}catch(e){return nn.a.error("Failed to fetch user info from PayPal:",e),null}},options:e}}},nF=Object.keys(nz),nq=a.enum(nF).or(a.string()),nV=(0,l.a)("/sign-in/social",{method:"POST",body:a.object({callbackURL:a.string().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:a.string().optional(),errorCallbackURL:a.string().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:nq,disableRedirect:a.boolean().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:a.optional(a.object({token:a.string().meta({description:"ID token from the provider"}),nonce:a.string().meta({description:"Nonce used to generate the token"}).optional(),accessToken:a.string().meta({description:"Access token from the provider"}).optional(),refreshToken:a.string().meta({description:"Refresh token from the provider"}).optional(),expiresAt:a.number().meta({description:"Expiry date of the token"}).optional()})),scopes:a.array(a.string()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:a.boolean().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:a.string().meta({description:"The login hint to use for the authorization code request"}).optional()}),metadata:{openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token",url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}}},required:["redirect","token","user"]}}}}}}}},async e=>{let t=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!t)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new u.APIError("NOT_FOUND",{message:l.B.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new u.APIError("NOT_FOUND",{message:l.B.ID_TOKEN_NOT_SUPPORTED});let{token:r,nonce:i}=e.body.idToken;if(!await t.verifyIdToken(r,i))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new u.APIError("UNAUTHORIZED",{message:l.B.INVALID_TOKEN});let n=await t.getUserInfo({idToken:r,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!n||!n?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new u.APIError("UNAUTHORIZED",{message:l.B.FAILED_TO_GET_USER_INFO});if(!n.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new u.APIError("UNAUTHORIZED",{message:l.B.USER_EMAIL_NOT_FOUND});let o=await nN(e,{userInfo:{...n.user,email:n.user.email,id:String(n.user.id),name:n.user.name||"",image:n.user.image,emailVerified:n.user.emailVerified||!1},account:{providerId:t.id,accountId:String(n.user.id),accessToken:e.body.idToken.accessToken},callbackURL:e.body.callbackURL,disableSignUp:t.disableImplicitSignUp&&!e.body.requestSignUp||t.disableSignUp});if(o.error)throw new u.APIError("UNAUTHORIZED",{message:o.error});return await (0,ni.s)(e,o.data),e.json({redirect:!1,token:o.data.session.token,url:void 0,user:{id:o.data.user.id,email:o.data.user.email,name:o.data.user.name,image:o.data.user.image,emailVerified:o.data.user.emailVerified,createdAt:o.data.user.createdAt,updatedAt:o.data.user.updatedAt}})}let{codeVerifier:r,state:i}=await nT(e),n=await t.createAuthorizationURL({state:i,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`,scopes:e.body.scopes,loginHint:e.body.loginHint});return e.json({url:n.toString(),redirect:!e.body.disableRedirect})}),nH=(0,l.a)("/sign-in/email",{method:"POST",body:a.object({email:a.string().meta({description:"Email of the user"}),password:a.string().meta({description:"Password of the user"}),callbackURL:a.string().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:a.boolean().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}},required:["redirect","token","user"]}}}}}}}},async e=>{if(!e.context.options?.emailAndPassword?.enabled)throw e.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new u.APIError("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:t,password:r}=e.body;if(!a.string().email().safeParse(t).success)throw new u.APIError("BAD_REQUEST",{message:l.B.INVALID_EMAIL});let i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)throw await e.context.password.hash(r),e.context.logger.error("User not found",{email:t}),new u.APIError("UNAUTHORIZED",{message:l.B.INVALID_EMAIL_OR_PASSWORD});let n=i.accounts.find(e=>"credential"===e.providerId);if(!n)throw e.context.logger.error("Credential account not found",{email:t}),new u.APIError("UNAUTHORIZED",{message:l.B.INVALID_EMAIL_OR_PASSWORD});let o=n?.password;if(!o)throw e.context.logger.error("Password not found",{email:t}),new u.APIError("UNAUTHORIZED",{message:l.B.INVALID_EMAIL_OR_PASSWORD});if(!await e.context.password.verify({hash:o,password:r}))throw e.context.logger.error("Invalid password"),new u.APIError("UNAUTHORIZED",{message:l.B.INVALID_EMAIL_OR_PASSWORD});if(e.context.options?.emailAndPassword?.requireEmailVerification&&!i.user.emailVerified){if(!e.context.options?.emailVerification?.sendVerificationEmail)throw new u.APIError("FORBIDDEN",{message:l.B.EMAIL_NOT_VERIFIED});if(e.context.options?.emailVerification?.sendOnSignIn){let t=await nA(e.context.secret,i.user.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:i.user,url:r,token:t},e.request)}throw new u.APIError("FORBIDDEN",{message:l.B.EMAIL_NOT_VERIFIED})}let s=await e.context.internalAdapter.createSession(i.user.id,e,!1===e.body.rememberMe);if(!s)throw e.context.logger.error("Failed to create session"),new u.APIError("UNAUTHORIZED",{message:l.B.FAILED_TO_CREATE_SESSION});return await (0,ni.s)(e,{session:s,user:i.user},!1===e.body.rememberMe),e.json({redirect:!!e.body.callbackURL,token:s.token,url:e.body.callbackURL,user:{id:i.user.id,email:i.user.email,name:i.user.name,image:i.user.image,emailVerified:i.user.emailVerified,createdAt:i.user.createdAt,updatedAt:i.user.updatedAt}})}),nG=a.object({code:a.string().optional(),error:a.string().optional(),device_id:a.string().optional(),error_description:a.string().optional(),state:a.string().optional(),user:a.string().optional()}),nW=(0,l.a)("/callback/:id",{method:["GET","POST"],body:nG.optional(),query:nG.optional(),metadata:nE},async e=>{let t,r,i,n=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;try{if("GET"===e.method)t=nG.parse(e.query);else if("POST"===e.method)t=nG.parse(e.body);else throw Error("Unsupported method")}catch(t){throw e.context.logger.error("INVALID_CALLBACK_REQUEST",t),e.redirect(`${n}?error=invalid_callback_request`)}let{code:o,error:a,state:s,error_description:l,device_id:u}=t;if(!s){e.context.logger.error("State not found",a);let t=n.includes("?")?"&":"?",r=`${n}${t}state=state_not_found`;throw e.redirect(r)}let{codeVerifier:c,callbackURL:d,link:p,errorURL:f,newUserURL:h,requestSignUp:m}=await nI(e);function g(t,r){let i=f??n,o=new URLSearchParams({error:t});r&&o.set("error_description",r);let a=i.includes("?")?"&":"?",s=`${i}${a}${o.toString()}`;throw e.redirect(s)}if(a&&g(a,l),!o)throw e.context.logger.error("Code not found"),g("no_code");let y=e.context.socialProviders.find(t=>t.id===e.params.id);if(!y)throw e.context.logger.error("Oauth provider with id",e.params.id,"not found"),g("oauth_provider_not_found");try{r=await y.validateAuthorizationCode({code:o,codeVerifier:c,deviceId:u,redirectURI:`${e.context.baseURL}/callback/${y.id}`})}catch(t){throw e.context.logger.error("",t),g("invalid_code")}let v=await y.getUserInfo({...r,user:e.body?.user?(0,no.s)(e.body.user):void 0}).then(e=>e?.user);if(!v)return e.context.logger.error("Unable to get user info"),g("unable_to_get_user_info");if(!d)throw e.context.logger.error("No callback URL found"),g("no_callback_url");if(p){let t,i=e.context.options.account?.accountLinking?.trustedProviders;if(!i?.includes(y.id)&&!v.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return e.context.logger.error("Unable to link account - untrusted provider"),g("unable_to_link_account");if(v.email!==p.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return g("email_doesn't_match");let n=await e.context.internalAdapter.findAccount(String(v.id));if(n){if(n.userId.toString()!==p.userId.toString())return g("account_already_linked_to_different_user");let t=Object.fromEntries(Object.entries({accessToken:await nk(r.accessToken,e.context),refreshToken:await nk(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scopes?.join(",")}).filter(([e,t])=>void 0!==t));await e.context.internalAdapter.updateAccount(n.id,t)}else if(!await e.context.internalAdapter.createAccount({userId:p.userId,providerId:y.id,accountId:String(v.id),...r,accessToken:await nk(r.accessToken,e.context),refreshToken:await nk(r.refreshToken,e.context),scope:r.scopes?.join(",")},e))return g("unable_to_link_account");try{t=d.toString()}catch{t=d}throw e.redirect(t)}if(!v.email)return e.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),g("email_not_found");let b=await nN(e,{userInfo:{...v,id:String(v.id),email:v.email,name:v.name||v.email},account:{providerId:y.id,accountId:String(v.id),...r,scope:r.scopes?.join(",")},callbackURL:d,disableSignUp:y.disableImplicitSignUp&&!m||y.options?.disableSignUp,overrideUserInfo:y.options?.overrideUserInfoOnSignIn});if(b.error)return e.context.logger.error(b.error.split(" ").join("_")),g(b.error.split(" ").join("_"));let{session:A,user:w}=b.data;await (0,ni.s)(e,{session:A,user:w});try{i=(b.isRegister&&h||d).toString()}catch{i=b.isRegister&&h||d}throw e.redirect(i)}),nZ=(0,l.a)("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)throw(0,ni.d)(e),new u.APIError("BAD_REQUEST",{message:l.B.FAILED_TO_GET_SESSION});return await e.context.internalAdapter.deleteSession(t),(0,ni.d)(e),e.json({success:!0})});function nJ(e,t,r){let i=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([e,t])=>i.searchParams.set(e,t)),i.href}function nQ(e,t,r){let i=new URL(t,e.baseURL);return r&&Object.entries(r).forEach(([e,t])=>i.searchParams.set(e,t)),i.href}let nY=(0,l.a)("/request-password-reset",{method:"POST",body:a.object({email:a.email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:a.string().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new u.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let n=3600,o=(0,c.g)(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||n,"sec"),a=(0,na.g)(24);await e.context.internalAdapter.createVerificationValue({value:i.user.id,identifier:`reset-password:${a}`,expiresAt:o},e);let s=r?encodeURIComponent(r):"",l=`${e.context.baseURL}/reset-password/${a}?callbackURL=${s}`;return await e.context.options.emailAndPassword.sendResetPassword({user:i.user,url:l,token:a},e.request),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),nX=(0,l.a)("/forget-password",{method:"POST",body:a.object({email:a.string().email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:a.string().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new u.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let n=3600,o=(0,c.g)(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||n,"sec"),a=(0,na.g)(24);await e.context.internalAdapter.createVerificationValue({value:i.user.id,identifier:`reset-password:${a}`,expiresAt:o},e);let s=r?encodeURIComponent(r):"",l=`${e.context.baseURL}/reset-password/${a}?callbackURL=${s}`;return await e.context.options.emailAndPassword.sendResetPassword({user:i.user,url:l,token:a},e.request),e.json({status:!0})}),n0=(0,l.a)("/reset-password/:token",{method:"GET",query:a.object({callbackURL:a.string().meta({description:"The URL to redirect the user to reset their password"})}),use:[nb(e=>e.query.callbackURL)],metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async e=>{let{token:t}=e.params,{callbackURL:r}=e.query;if(!t||!r)throw e.redirect(nJ(e.context,r,{error:"INVALID_TOKEN"}));let i=await e.context.internalAdapter.findVerificationValue(`reset-password:${t}`);if(!i||i.expiresAt<new Date)throw e.redirect(nJ(e.context,r,{error:"INVALID_TOKEN"}));throw e.redirect(nQ(e.context,r,{token:t}))}),n1=n0,n2=(0,l.a)("/reset-password",{method:"POST",query:a.object({token:a.string().optional()}).optional(),body:a.object({newPassword:a.string().meta({description:"The new password to set"}),token:a.string().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.body.token||e.query?.token;if(!t)throw new u.APIError("BAD_REQUEST",{message:l.B.INVALID_TOKEN});let{newPassword:r}=e.body,i=e.context.password?.config.minPasswordLength,n=e.context.password?.config.maxPasswordLength;if(r.length<i)throw new u.APIError("BAD_REQUEST",{message:l.B.PASSWORD_TOO_SHORT});if(r.length>n)throw new u.APIError("BAD_REQUEST",{message:l.B.PASSWORD_TOO_LONG});let o=`reset-password:${t}`,a=await e.context.internalAdapter.findVerificationValue(o);if(!a||a.expiresAt<new Date)throw new u.APIError("BAD_REQUEST",{message:l.B.INVALID_TOKEN});let s=a.value,c=await e.context.password.hash(r);if((await e.context.internalAdapter.findAccounts(s)).find(e=>"credential"===e.providerId)?await e.context.internalAdapter.updatePassword(s,c,e):await e.context.internalAdapter.createAccount({userId:s,providerId:"credential",password:c,accountId:s},e),await e.context.internalAdapter.deleteVerificationValue(a.id),e.context.options.emailAndPassword?.onPasswordReset){let t=await e.context.internalAdapter.findUserById(s);t&&await e.context.options.emailAndPassword.onPasswordReset({user:t},e.request)}return e.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await e.context.internalAdapter.deleteSessions(s),e.json({status:!0})}),n4=()=>(0,l.a)("/update-user",{method:"POST",body:a.record(a.string().meta({description:"Field name must be a string"}),a.any()),use:[l.s],metadata:{$Infer:{body:{}},openapi:{description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the update was successful"}}}}}}}}}},async e=>{let t=e.body;if(t.email)throw new u.APIError("BAD_REQUEST",{message:l.B.EMAIL_CAN_NOT_BE_UPDATED});let{name:r,image:i,...n}=t,o=e.context.session;if(void 0===i&&void 0===r&&0===Object.keys(n).length)return e.json({status:!0});let a=await e.context.internalAdapter.updateUser(o.user.id,{name:r,image:i,...n},e);return await (0,ni.s)(e,{session:o.session,user:a}),e.json({status:!0})}),n3=(0,l.a)("/change-password",{method:"POST",body:a.object({newPassword:a.string().meta({description:"The new password to set"}),currentPassword:a.string().meta({description:"The current password is required"}),revokeOtherSessions:a.boolean().meta({description:"Must be a boolean value"}).optional()}),use:[l.i],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async e=>{let{newPassword:t,currentPassword:r,revokeOtherSessions:i}=e.body,n=e.context.session,o=e.context.password.config.minPasswordLength;if(t.length<o)throw e.context.logger.error("Password is too short"),new u.APIError("BAD_REQUEST",{message:l.B.PASSWORD_TOO_SHORT});let a=e.context.password.config.maxPasswordLength;if(t.length>a)throw e.context.logger.error("Password is too long"),new u.APIError("BAD_REQUEST",{message:l.B.PASSWORD_TOO_LONG});let s=(await e.context.internalAdapter.findAccounts(n.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!s||!s.password)throw new u.APIError("BAD_REQUEST",{message:l.B.CREDENTIAL_ACCOUNT_NOT_FOUND});let c=await e.context.password.hash(t);if(!await e.context.password.verify({hash:s.password,password:r}))throw new u.APIError("BAD_REQUEST",{message:l.B.INVALID_PASSWORD});await e.context.internalAdapter.updateAccount(s.id,{password:c});let d=null;if(i){await e.context.internalAdapter.deleteSessions(n.user.id);let t=await e.context.internalAdapter.createSession(n.user.id,e);if(!t)throw new u.APIError("INTERNAL_SERVER_ERROR",{message:l.B.FAILED_TO_GET_SESSION});await (0,ni.s)(e,{session:t,user:n.user}),d=t.token}return e.json({token:d,user:{id:n.user.id,email:n.user.email,name:n.user.name,image:n.user.image,emailVerified:n.user.emailVerified,createdAt:n.user.createdAt,updatedAt:n.user.updatedAt}})}),n5=(0,l.a)("/set-password",{method:"POST",body:a.object({newPassword:a.string().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[l.i]},async e=>{let{newPassword:t}=e.body,r=e.context.session,i=e.context.password.config.minPasswordLength;if(t.length<i)throw e.context.logger.error("Password is too short"),new u.APIError("BAD_REQUEST",{message:l.B.PASSWORD_TOO_SHORT});let n=e.context.password.config.maxPasswordLength;if(t.length>n)throw e.context.logger.error("Password is too long"),new u.APIError("BAD_REQUEST",{message:l.B.PASSWORD_TOO_LONG});let o=(await e.context.internalAdapter.findAccounts(r.user.id)).find(e=>"credential"===e.providerId&&e.password),a=await e.context.password.hash(t);if(!o)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:"credential",accountId:r.user.id,password:a},e),e.json({status:!0});throw new u.APIError("BAD_REQUEST",{message:"user already has a password"})}),n6=(0,l.a)("/delete-user",{method:"POST",use:[l.i],body:a.object({callbackURL:a.string().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:a.string().meta({description:"The password of the user is required to delete the user"}).optional(),token:a.string().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options",{session:e.context.session}),new u.APIError("NOT_FOUND");let t=e.context.session;if(e.body.password){let r=(await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!r||!r.password)throw new u.APIError("BAD_REQUEST",{message:l.B.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await e.context.password.verify({hash:r.password,password:e.body.password}))throw new u.APIError("BAD_REQUEST",{message:l.B.INVALID_PASSWORD})}if(e.body.token)return await n8({...e,query:{token:e.body.token}}),e.json({success:!0,message:"User deleted"});if(e.context.options.user.deleteUser?.sendDeleteAccountVerification){let r=(0,nt.g)(32,"0-9","a-z");await e.context.internalAdapter.createVerificationValue({value:t.user.id,identifier:`delete-account-${r}`,expiresAt:new Date(Date.now()+1e3*(e.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))},e);let i=`${e.context.baseURL}/delete-user/callback?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.deleteUser.sendDeleteAccountVerification({user:t.user,url:i,token:r},e.request),e.json({success:!0,message:"Verification email sent"})}if(!e.body.password&&0!==e.context.sessionConfig.freshAge){let r=new Date(t.session.createdAt).getTime(),i=1e3*e.context.sessionConfig.freshAge;if(Date.now()-r>1e3*i)throw new u.APIError("BAD_REQUEST",{message:l.B.SESSION_EXPIRED})}let r=e.context.options.user.deleteUser?.beforeDelete;r&&await r(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),(0,ni.d)(e);let i=e.context.options.user.deleteUser?.afterDelete;return i&&await i(t.user,e.request),e.json({success:!0,message:"User deleted"})}),n8=(0,l.a)("/delete-user/callback",{method:"GET",query:a.object({token:a.string().meta({description:"The token to verify the deletion request"}),callbackURL:a.string().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[nb(e=>e.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new u.APIError("NOT_FOUND");let t=await (0,l.g)(e);if(!t)throw new u.APIError("NOT_FOUND",{message:l.B.FAILED_TO_GET_USER_INFO});let r=await e.context.internalAdapter.findVerificationValue(`delete-account-${e.query.token}`);if(!r||r.expiresAt<new Date||r.value!==t.user.id)throw new u.APIError("NOT_FOUND",{message:l.B.INVALID_TOKEN});let i=e.context.options.user.deleteUser?.beforeDelete;i&&await i(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),await e.context.internalAdapter.deleteVerificationValue(r.id),(0,ni.d)(e);let n=e.context.options.user.deleteUser?.afterDelete;if(n&&await n(t.user,e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL||"/");return e.json({success:!0,message:"User deleted"})}),n9=(0,l.a)("/change-email",{method:"POST",body:a.object({newEmail:a.email().meta({description:"The new email address to set must be a valid email address"}),callbackURL:a.string().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[l.i],metadata:{openapi:{responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.user?.changeEmail?.enabled)throw e.context.logger.error("Change email is disabled."),new u.APIError("BAD_REQUEST",{message:"Change email is disabled"});let t=e.body.newEmail.toLowerCase();if(t===e.context.session.user.email)throw e.context.logger.error("Email is the same"),new u.APIError("BAD_REQUEST",{message:"Email is the same"});if(await e.context.internalAdapter.findUserByEmail(t))throw e.context.logger.error("Email already exists"),new u.APIError("BAD_REQUEST",{message:"Couldn't update your email"});if(!0!==e.context.session.user.emailVerified){if(await e.context.internalAdapter.findUserByEmail(t))throw new u.APIError("UNPROCESSABLE_ENTITY",{message:l.B.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:t},e),await (0,ni.s)(e,{session:e.context.session.session,user:{...e.context.session.user,email:t}}),e.context.options.emailVerification?.sendVerificationEmail){let r=await nA(e.context.secret,t,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:i,token:r},e.request)}return e.json({status:!0})}if(!e.context.options.user.changeEmail.sendChangeEmailVerification)throw e.context.logger.error("Verification email isn't enabled."),new u.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await nA(e.context.secret,e.context.session.user.email,t,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.changeEmail.sendChangeEmailVerification({user:e.context.session.user,newEmail:t,url:i,token:r},e.request),e.json({status:!0})});function n7(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}let oe=(e="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">\u26A0\uFE0F</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${n7(e)}</span></div>
    </div>
</body>
</html>`,ot=(0,l.a)("/error",{method:"GET",metadata:{...nE,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async e=>new Response(oe(new URL(e.request?.url||"").searchParams.get("error")||"Unknown"),{headers:{"Content-Type":"text/html"}})),or=(0,l.a)("/ok",{method:"GET",metadata:{...nE,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async e=>e.json({ok:!0})),oi=(0,l.a)("/list-accounts",{method:"GET",use:[l.s],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","scopes"]}}}}}}}}},async e=>{let t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(e=>({id:e.id,providerId:e.providerId,createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,scopes:e.scope?.split(",")||[]})))}),on=(0,l.a)("/link-social",{method:"POST",requireHeaders:!0,body:a.object({callbackURL:a.string().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:nq,idToken:a.object({token:a.string(),nonce:a.string().optional(),accessToken:a.string().optional(),refreshToken:a.string().optional(),scopes:a.array(a.string()).optional()}).optional(),requestSignUp:a.boolean().optional(),scopes:a.array(a.string()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:a.string().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:a.boolean().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional()}),use:[l.s],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async e=>{let t=e.context.session,r=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!r)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new u.APIError("NOT_FOUND",{message:l.B.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!r.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new u.APIError("NOT_FOUND",{message:l.B.ID_TOKEN_NOT_SUPPORTED});let{token:i,nonce:n}=e.body.idToken;if(!await r.verifyIdToken(i,n))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new u.APIError("UNAUTHORIZED",{message:l.B.INVALID_TOKEN});let o=await r.getUserInfo({idToken:i,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!o||!o?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new u.APIError("UNAUTHORIZED",{message:l.B.FAILED_TO_GET_USER_INFO});let a=String(o.user.id);if(!o.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new u.APIError("UNAUTHORIZED",{message:l.B.USER_EMAIL_NOT_FOUND});if((await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>e.providerId===r.id&&e.accountId===a))return e.json({url:"",status:!0,redirect:!1});let s=e.context.options.account?.accountLinking?.trustedProviders;if(!s?.includes(r.id)&&!o.user.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)throw new u.APIError("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(o.user.email!==t.user.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new u.APIError("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await e.context.internalAdapter.createAccount({userId:t.user.id,providerId:r.id,accountId:a,accessToken:e.body.idToken.accessToken,idToken:i,refreshToken:e.body.idToken.refreshToken,scope:e.body.idToken.scopes?.join(",")},e)}catch(e){throw new u.APIError("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(e.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await e.context.internalAdapter.updateUser(t.user.id,{name:o.user?.name,image:o.user?.image})}catch(e){console.warn("Could not update user - "+e.toString())}return e.json({url:"",status:!0,redirect:!1})}let i=await nT(e,{userId:t.user.id,email:t.user.email}),n=await r.createAuthorizationURL({state:i.state,codeVerifier:i.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${r.id}`,scopes:e.body.scopes});return e.json({url:n.toString(),redirect:!e.body.disableRedirect})}),oo=(0,l.a)("/unlink-account",{method:"POST",body:a.object({providerId:a.string(),accountId:a.string().optional()}),use:[l.f],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let{providerId:t,accountId:r}=e.body,i=await e.context.internalAdapter.findAccounts(e.context.session.user.id);if(1===i.length&&!e.context.options.account?.accountLinking?.allowUnlinkingAll)throw new u.APIError("BAD_REQUEST",{message:l.B.FAILED_TO_UNLINK_LAST_ACCOUNT});let n=i.find(e=>r?e.accountId===r&&e.providerId===t:e.providerId===t);if(!n)throw new u.APIError("BAD_REQUEST",{message:l.B.ACCOUNT_NOT_FOUND});return await e.context.internalAdapter.deleteAccount(n.id),e.json({status:!0})}),oa=(0,l.a)("/get-access-token",{method:"POST",body:a.object({providerId:a.string().meta({description:"The provider ID for the OAuth provider"}),accountId:a.string().meta({description:"The account ID associated with the refresh token"}).optional(),userId:a.string().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:i}=e.body,n=e.request,o=await (0,l.g)(e);if(n&&!o)throw e.error("UNAUTHORIZED");let a=o?.user?.id||i;if(!a)throw new u.APIError("BAD_REQUEST",{message:"Either userId or session is required"});if(!e.context.socialProviders.find(e=>e.id===t))throw new u.APIError("BAD_REQUEST",{message:`Provider ${t} is not supported.`});let s=(await e.context.internalAdapter.findAccounts(a)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!s)throw new u.APIError("BAD_REQUEST",{message:"Account not found"});let c=e.context.socialProviders.find(e=>e.id===t);if(!c)throw new u.APIError("BAD_REQUEST",{message:`Provider ${t} not found.`});try{let t=null,r=s.accessTokenExpiresAt&&new Date(s.accessTokenExpiresAt).getTime()-Date.now()<5e3;s.refreshToken&&r&&c.refreshAccessToken&&(t=await c.refreshAccessToken(s.refreshToken),await e.context.internalAdapter.updateAccount(s.id,{accessToken:await nk(t.accessToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshToken:await nk(t.refreshToken,e.context),refreshTokenExpiresAt:t.refreshTokenExpiresAt}));let i={accessToken:await nC(t?.accessToken??s.accessToken??"",e.context),accessTokenExpiresAt:t?.accessTokenExpiresAt??s.accessTokenExpiresAt??void 0,scopes:s.scope?.split(",")??[],idToken:t?.idToken??s.idToken??void 0};return e.json(i)}catch(e){throw new u.APIError("BAD_REQUEST",{message:"Failed to get a valid access token",cause:e})}}),os=(0,l.a)("/refresh-token",{method:"POST",body:a.object({providerId:a.string().meta({description:"The provider ID for the OAuth provider"}),accountId:a.string().meta({description:"The account ID associated with the refresh token"}).optional(),userId:a.string().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:i}=e.body,n=e.request,o=await (0,l.g)(e);if(n&&!o)throw e.error("UNAUTHORIZED");let a=o?.user?.id||i;if(!a)throw new u.APIError("BAD_REQUEST",{message:"Either userId or session is required"});let s=(await e.context.internalAdapter.findAccounts(a)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!s)throw new u.APIError("BAD_REQUEST",{message:"Account not found"});let c=e.context.socialProviders.find(e=>e.id===t);if(!c)throw new u.APIError("BAD_REQUEST",{message:`Provider ${t} not found.`});if(!c.refreshAccessToken)throw new u.APIError("BAD_REQUEST",{message:`Provider ${t} does not support token refreshing.`});try{let t=await c.refreshAccessToken(s.refreshToken);return await e.context.internalAdapter.updateAccount(s.id,{accessToken:await nk(t.accessToken,e.context),refreshToken:await nk(t.refreshToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshTokenExpiresAt:t.refreshTokenExpiresAt}),e.json(t)}catch(e){throw new u.APIError("BAD_REQUEST",{message:"Failed to refresh access token",cause:e})}}),ol=(0,l.a)("/account-info",{method:"POST",use:[l.s],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},body:a.object({accountId:a.string().meta({description:"The provider given account id for which to get the account info"})})},async e=>{let t=await e.context.internalAdapter.findAccount(e.body.accountId);if(!t||t.userId!==e.context.session.user.id)throw new u.APIError("BAD_REQUEST",{message:"Account not found"});let r=e.context.socialProviders.find(e=>e.id===t.providerId);if(!r)throw new u.APIError("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${t.providerId} but it is not configured`});let i=await oa({...e,body:{accountId:t.id,providerId:t.providerId},returnHeaders:!1});if(!i.accessToken)throw new u.APIError("BAD_REQUEST",{message:"Access token not found"});let n=await r.getUserInfo({...i,accessToken:i.accessToken});return e.json(n)}),ou=nc((e,t,r)=>{if(Array.isArray(e[t])&&Array.isArray(r))return e[t]=r,!0});function oc(e,t){let r={};for(let[i,n]of Object.entries(e))r[i]=async e=>{let r=await t,i={...e,context:{...r,returned:void 0,responseHeaders:void 0,session:null},path:n.path,headers:e?.headers?new Headers(e?.headers):void 0},{beforeHooks:o,afterHooks:a}=of(r),s=await od(i,o);if("context"in s&&s.context&&"object"==typeof s.context){let{headers:e,...t}=s.context;e&&e.forEach((e,t)=>{i.headers.set(t,e)}),i=ou(t,i)}else if(s)return e?.asResponse?(0,u.toResponse)(s,{headers:e?.headers}):e?.returnHeaders?{headers:e?.headers,response:s}:s;i.asResponse=!1,i.returnHeaders=!0;let l=await n(i).catch(e=>{if(e instanceof u.APIError)return{response:e,headers:e.headers?new Headers(e.headers):null};throw e});if(l&&l instanceof Response)return l;i.context.returned=l.response,i.context.responseHeaders=l.headers;let c=await op(i,a);if(c.response&&(l.response=c.response),l.response instanceof u.APIError&&(0,nn.s)(r.logger.level,"debug")&&(l.response.stack=l.response.errorStack),l.response instanceof u.APIError&&!e?.asResponse)throw l.response;return e?.asResponse?(0,u.toResponse)(l.response,{headers:l.headers}):e?.returnHeaders?{headers:l.headers,response:l.response}:l.response},r[i].path=n.path,r[i].options=n.options;return r}async function od(e,t){let r={};for(let i of t)if(i.matcher(e)){let t=await i.handler({...e,returnHeaders:!1}).catch(t=>{throw t instanceof u.APIError&&(0,nn.s)(e.context.logger.level,"debug")&&(t.stack=t.errorStack),t});if(t&&"object"==typeof t){if("context"in t&&"object"==typeof t.context){let{headers:e,...i}=t.context;e instanceof Headers&&(r.headers?e.forEach((e,t)=>{r.headers?.set(t,e)}):r.headers=e),r=ou(i,r);continue}return t}}return{context:r}}async function op(e,t){for(let r of t)if(r.matcher(e)){let t=await r.handler(e).catch(t=>{if(t instanceof u.APIError)return(0,nn.s)(e.context.logger.level,"debug")&&(t.stack=t.errorStack),{response:t,headers:t.headers?new Headers(t.headers):null};throw t});t.headers&&t.headers.forEach((t,r)=>{e.context.responseHeaders?"set-cookie"===r.toLowerCase()?e.context.responseHeaders.append(r,t):e.context.responseHeaders.set(r,t):e.context.responseHeaders=new Headers({[r]:t})}),t.response&&(e.context.returned=t.response)}return{response:e.context.returned,headers:e.context.responseHeaders}}function of(e){let t=e.options.plugins||[],r=[],i=[];e.options.hooks?.before&&r.push({matcher:()=>!0,handler:e.options.hooks.before}),e.options.hooks?.after&&i.push({matcher:()=>!0,handler:e.options.hooks.after});let n=t.map(e=>{if(e.hooks?.before)return e.hooks.before}).filter(e=>void 0!==e).flat(),o=t.map(e=>{if(e.hooks?.after)return e.hooks.after}).filter(e=>void 0!==e).flat();return n.length&&r.push(...n),o.length&&i.push(...o),{beforeHooks:r,afterHooks:i}}e.s(["A",()=>n8,"B",()=>oi,"C",()=>on,"D",()=>n0,"E",()=>nY,"F",()=>n1,"G",()=>n6,"I",()=>n5,"J",()=>n3,"K",()=>n9,"L",()=>n_,"M",()=>nS,"N",()=>n2,"O",()=>nX,"P",()=>nH,"Q",()=>nZ,"R",()=>nW,"S",()=>nV,"U",()=>nz,"b",()=>nU,"c",()=>nR,"g",()=>nT,"j",()=>nN,"k",()=>nA,"l",()=>nv,"m",()=>ot,"n",()=>or,"o",()=>nb,"p",()=>nI,"q",()=>ol,"r",()=>nK,"t",()=>oc,"u",()=>n4,"v",()=>nD,"w",()=>ny,"x",()=>oa,"y",()=>os,"z",()=>oo],446610)},66655,e=>{"use strict";var t=e.i(154456);let r=new WeakMap;function i(e,t){let r=t.fields,i={};for(let t in e){let n=r[t];if(!n){i[t]=e[t];continue}!1!==n.returned&&(i[t]=e[t])}return i}function n(e,t){r.has(e)||r.set(e,new Map);let i=r.get(e);if(i.has(t))return i.get(t);let n={..."user"===t?e.user?.additionalFields:{},..."session"===t?e.session?.additionalFields:{}};for(let r of e.plugins||[])r.schema&&r.schema[t]&&(n={...n,...r.schema[t].fields});return r.get(e).set(t,n),n}function o(e,t){return i(t,{fields:n(e,"user")})}function a(e,t){return i(t,{fields:n(e,"session")})}function s(e,r){let i=r.action||"create",n=r.fields,o=Object.assign(Object.create(null),null);for(let r in n){if(r in e){if(!1===n[r].input){if(n[r].defaultValue){o[r]=n[r].defaultValue;continue}if(o[r])throw new t.APIError("BAD_REQUEST",{message:`${r} is not allowed to be set`});continue}if(n[r].validator?.input&&void 0!==e[r]){o[r]=n[r].validator.input.parse(e[r]);continue}if(n[r].transform?.input&&void 0!==e[r]){o[r]=n[r].transform?.input(e[r]);continue}o[r]=e[r];continue}if(n[r].defaultValue&&"create"===i){o[r]=n[r].defaultValue;continue}if(n[r].required&&"create"===i)throw new t.APIError("BAD_REQUEST",{message:`${r} is required`})}return o}function l(e,t={},r){return s(t,{fields:n(e,"user"),action:r})}function u(e,t){if(!t)return e;for(let r in t){let i=t[r]?.modelName;for(let n in i&&(e[r].modelName=i),e[r].fields){let i=t[r]?.fields?.[n];i&&(e[r].fields[n].fieldName=i)}}return e}e.s(["b",()=>a,"d",()=>l,"m",()=>u,"p",()=>o])},744957,e=>{"use strict";var t=e.i(338270),r=e.i(562810),r=r;function i(e,r){if(r.advanced?.ipAddress?.disableIpTracking)return null;if((0,t.i)()||t.a)return"127.0.0.1";let i="headers"in e?e.headers:e,o=["x-forwarded-for"];for(let e of r.advanced?.ipAddress?.ipAddressHeaders||o){let t="get"in i?i.get(e):i[e];if("string"==typeof t){let e=t.split(",")[0].trim();if(n(e))return e}}return null}function n(e){return!!r.ipv4().safeParse(e).success||!!r.ipv6().safeParse(e).success}e.s(["g",()=>i],744957)},822381,e=>{"use strict";var t=e.i(154456),r=e.i(446610),i=e.i(909879),n=e.i(907855),o=e.i(681393),a=e.i(338270);e.i(537430);var s=e.i(66655),l=e.i(464589);e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(362160);var u=e.i(130717),c=e.i(744957);e.i(973088),e.i(805650),e.i(408972),e.i(533078),e.i(181984),e.i(649330),e.i(35972),e.i(323770),e.i(129776),e.i(795080);let d=()=>(0,i.a)("/sign-up/email",{method:"POST",body:n.record(n.string(),n.any()),metadata:{$Infer:{body:{}},openapi:{description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{let l;if(!e.context.options.emailAndPassword?.enabled||e.context.options.emailAndPassword?.disableSignUp)throw new t.APIError("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let u=e.body,{name:c,email:d,password:p,image:f,callbackURL:h,rememberMe:m,...g}=u;if(!n.email().safeParse(d).success)throw new t.APIError("BAD_REQUEST",{message:i.B.INVALID_EMAIL});let y=e.context.password.config.minPasswordLength;if(p.length<y)throw e.context.logger.error("Password is too short"),new t.APIError("BAD_REQUEST",{message:i.B.PASSWORD_TOO_SHORT});let v=e.context.password.config.maxPasswordLength;if(p.length>v)throw e.context.logger.error("Password is too long"),new t.APIError("BAD_REQUEST",{message:i.B.PASSWORD_TOO_LONG});let b=await e.context.internalAdapter.findUserByEmail(d);if(b?.user)throw e.context.logger.info(`Sign-up attempt for existing email: ${d}`),new t.APIError("UNPROCESSABLE_ENTITY",{message:i.B.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let A=await e.context.password.hash(p);try{let r=(0,s.d)(e.context.options,g,"create");if(!(l=await e.context.internalAdapter.createUser({email:d.toLowerCase(),name:c,image:f,...r,emailVerified:!1},e)))throw new t.APIError("BAD_REQUEST",{message:i.B.FAILED_TO_CREATE_USER})}catch(r){if(a.a&&e.context.logger.error("Failed to create user",r),r instanceof t.APIError)throw r;throw e.context.logger?.error("Failed to create user",r),new t.APIError("UNPROCESSABLE_ENTITY",{message:i.B.FAILED_TO_CREATE_USER,details:r})}if(!l)throw new t.APIError("UNPROCESSABLE_ENTITY",{message:i.B.FAILED_TO_CREATE_USER});if(await e.context.internalAdapter.linkAccount({userId:l.id,providerId:"credential",accountId:l.id,password:A},e),e.context.options.emailVerification?.sendOnSignUp||e.context.options.emailAndPassword.requireEmailVerification){let t=await (0,r.k)(e.context.secret,l.email,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${u.callbackURL||"/"}`,n=e.request?[{user:l,url:i,token:t},e.request]:[{user:l,url:i,token:t}];await e.context.options.emailVerification?.sendVerificationEmail?.(...n)}if(!1===e.context.options.emailAndPassword.autoSignIn||e.context.options.emailAndPassword.requireEmailVerification)return e.json({token:null,user:{id:l.id,email:l.email,name:l.name,image:l.image,emailVerified:l.emailVerified,createdAt:l.createdAt,updatedAt:l.updatedAt}});let w=await e.context.internalAdapter.createSession(l.id,e,!1===m);if(!w)throw new t.APIError("BAD_REQUEST",{message:i.B.FAILED_TO_CREATE_SESSION});return await (0,o.s)(e,{session:w,user:l},!1===m),e.json({token:w.token,user:{id:l.id,email:l.email,name:l.name,image:l.image,emailVerified:l.emailVerified,createdAt:l.createdAt,updatedAt:l.updatedAt}})});function p(e,t,r){let i=Date.now(),n=1e3*t;return i-r.lastRequest<n&&r.count>=e}function f(e){return new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":e.toString()}})}function h(e,t){return Math.ceil((e+1e3*t-Date.now())/1e3)}function m(e){let t="rateLimit",r=e.adapter;return{get:async e=>{let i=(await r.findMany({model:t,where:[{field:"key",value:e}]}))[0];return"bigint"==typeof i?.lastRequest&&(i.lastRequest=Number(i.lastRequest)),i},set:async(i,n,o)=>{try{o?await r.updateMany({model:t,where:[{field:"key",value:i}],update:{count:n.count,lastRequest:n.lastRequest}}):await r.create({model:t,data:{key:i,count:n.count,lastRequest:n.lastRequest}})}catch(t){e.logger.error("Error setting rate limit",t)}}}}let g=new Map;function y(e,t){if(e.options.rateLimit?.customStorage)return e.options.rateLimit.customStorage;let r=e.rateLimit.storage;return"secondary-storage"===r?{get:async t=>{let r=await e.options.secondaryStorage?.get(t);return r?(0,u.s)(r):void 0},set:async(r,i,n)=>{let o=t?.window??e.options.rateLimit?.window??10;await e.options.secondaryStorage?.set?.(r,JSON.stringify(i),o)}}:"memory"===r?{get:async e=>g.get(e),async set(e,t,r){g.set(e,t)}}:m(e)}async function v(e,t){if(!t.rateLimit.enabled)return;let i=new URL(e.url).pathname.replace(t.options.basePath||"/api/auth",""),n=t.rateLimit.window,o=t.rateLimit.max,a=(0,c.g)(e,t.options);if(!a)return;let s=a+i,l=b().find(e=>e.pathMatcher(i));for(let e of(l&&(n=l.window,o=l.max),t.options.plugins||[]))if(e.rateLimit){let t=e.rateLimit.find(e=>e.pathMatcher(i));if(t){n=t.window,o=t.max;break}}if(t.rateLimit.customRules){let a=Object.keys(t.rateLimit.customRules).find(e=>e.includes("*")?(0,r.w)(e)(i):e===i);if(a){let r=t.rateLimit.customRules[a],i="function"==typeof r?await r(e):r;if(i&&(n=i.window,o=i.max),!1===i)return}}let u=y(t,{window:n}),d=await u.get(s),m=Date.now();if(d){let e=m-d.lastRequest;if(p(o,n,d))return f(h(d.lastRequest,n));e>1e3*n?await u.set(s,{...d,count:1,lastRequest:m},!0):await u.set(s,{...d,count:d.count+1,lastRequest:m},!0)}else await u.set(s,{key:s,count:1,lastRequest:m})}function b(){return[{pathMatcher:e=>e.startsWith("/sign-in")||e.startsWith("/sign-up")||e.startsWith("/change-password")||e.startsWith("/change-email"),window:10,max:3}]}function A(e,t){let r=new Map;e.plugins?.forEach(e=>{if(e.endpoints){for(let[t,i]of Object.entries(e.endpoints))if(i&&"path"in i){let n=i.path,o=[];i.options&&"method"in i.options&&(Array.isArray(i.options.method)?o=i.options.method:"string"==typeof i.options.method&&(o=[i.options.method])),0===o.length&&(o=["*"]),r.has(n)||r.set(n,[]),r.get(n).push({pluginId:e.id,endpointKey:t,methods:o})}}});let i=[];for(let[e,t]of r.entries())if(t.length>1){let r=new Map,n=!1;for(let e of t)for(let i of e.methods)r.has(i)||r.set(i,[]),r.get(i).push(e.pluginId),r.get(i).length>1&&(n=!0),"*"===i&&t.length>1?n=!0:"*"!==i&&r.has("*")&&(n=!0);if(n){let n=[...new Set(t.map(e=>e.pluginId))],o=[];for(let[e,i]of r.entries())(i.length>1||"*"===e&&t.length>1||"*"!==e&&r.has("*"))&&o.push(e);i.push({path:e,plugins:n,conflictingMethods:o})}}if(i.length>0){let e=i.map(e=>`  - "${e.path}" [${e.conflictingMethods.join(", ")}] used by plugins: ${e.plugins.join(", ")}`).join("\n");t.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${e}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}function w(e,t){let n=t.plugins?.reduce((e,t)=>({...e,...t.endpoints}),{})??{},o=t.plugins?.map(t=>t.middlewares?.map(t=>{let r=async r=>{let i=await e;return t.middleware({...r,context:{...i,...r.context}})};return r.options=t.middleware.options,{path:t.path,middleware:r}})).filter(e=>void 0!==e).flat()||[],a={...{signInSocial:r.S,callbackOAuth:r.R,getSession:(0,i.b)(),signOut:r.Q,signUpEmail:d(),signInEmail:r.P,forgetPassword:r.O,resetPassword:r.N,verifyEmail:r.M,sendVerificationEmail:r.L,changeEmail:r.K,changePassword:r.J,setPassword:r.I,updateUser:(0,r.u)(),deleteUser:r.G,forgetPasswordCallback:r.F,requestPasswordReset:r.E,requestPasswordResetCallback:r.D,listSessions:(0,i.l)(),revokeSession:i.e,revokeSessions:i.d,revokeOtherSessions:i.r,linkSocialAccount:r.C,listUserAccounts:r.B,deleteUserCallback:r.A,unlinkAccount:r.z,refreshToken:r.y,getAccessToken:r.x,accountInfo:r.q},...n,ok:r.n,error:r.m};return{api:(0,r.t)(a,e),middlewares:o}}let _=(e,i)=>{let{api:n,middlewares:o}=w(e,i),a=new URL(e.baseURL).pathname;return(0,t.createRouter)(n,{routerContext:e,openapi:{disabled:!0},basePath:a,routerMiddleware:[{path:"/**",middleware:r.l},...o],async onRequest(t){let r=e.options.disabledPaths||[],i=new URL(t.url).pathname.replace(a,"");if(r.includes(i))return new Response("Not Found",{status:404});for(let r of e.options.plugins||[])if(r.onRequest){let i=await r.onRequest(t,e);if(i&&"response"in i)return i.response}return v(t,e)},async onResponse(t){for(let r of e.options.plugins||[])if(r.onResponse){let i=await r.onResponse(t,e);if(i)return i.response}return t},onError(r){if(r instanceof t.APIError&&"FOUND"===r.status)return;if(i.onAPIError?.throw)throw r;if(i.onAPIError?.onError)return void i.onAPIError.onError(r,e);let n=i.logger?.level,o="error"===n||"warn"===n||"debug"===n?l.a:void 0;if(i.logger?.disabled!==!0){if(r&&"object"==typeof r&&"message"in r&&"string"==typeof r.message&&(r.message.includes("no column")||r.message.includes("column")||r.message.includes("relation")||r.message.includes("table")||r.message.includes("does not exist")))return void e.logger?.error(r.message);r instanceof t.APIError?("INTERNAL_SERVER_ERROR"===r.status&&e.logger.error(r.status,r),o?.error(r.message)):e.logger?.error(r&&"object"==typeof r&&"name"in r?r.name:"",r)}}})};e.s(["checkEndpointConflicts",()=>A,"getEndpoints",()=>w,"router",()=>_])},468527,e=>{"use strict";let t=e=>{let t=(e.plugins??[]).reduce((e,t)=>{let r=t.schema;if(!r)return e;for(let[t,i]of Object.entries(r))e[t]={fields:{...e[t]?.fields,...i.fields},modelName:i.modelName||t};return e},{}),r=e.rateLimit?.storage==="database",i={rateLimit:{modelName:e.rateLimit?.modelName||"rateLimit",fields:{key:{type:"string",fieldName:e.rateLimit?.fields?.key||"key"},count:{type:"number",fieldName:e.rateLimit?.fields?.count||"count"},lastRequest:{type:"number",bigint:!0,fieldName:e.rateLimit?.fields?.lastRequest||"lastRequest"}}}},{user:n,session:o,account:a,...s}=t,l={session:{modelName:e.session?.modelName||"session",fields:{expiresAt:{type:"date",required:!0,fieldName:e.session?.fields?.expiresAt||"expiresAt"},token:{type:"string",required:!0,fieldName:e.session?.fields?.token||"token",unique:!0},createdAt:{type:"date",required:!0,fieldName:e.session?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.session?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},ipAddress:{type:"string",required:!1,fieldName:e.session?.fields?.ipAddress||"ipAddress"},userAgent:{type:"string",required:!1,fieldName:e.session?.fields?.userAgent||"userAgent"},userId:{type:"string",fieldName:e.session?.fields?.userId||"userId",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0},...o?.fields,...e.session?.additionalFields},order:2}};return{user:{modelName:e.user?.modelName||"user",fields:{name:{type:"string",required:!0,fieldName:e.user?.fields?.name||"name",sortable:!0},email:{type:"string",unique:!0,required:!0,fieldName:e.user?.fields?.email||"email",sortable:!0},emailVerified:{type:"boolean",defaultValue:!1,required:!0,fieldName:e.user?.fields?.emailVerified||"emailVerified"},image:{type:"string",required:!1,fieldName:e.user?.fields?.image||"image"},createdAt:{type:"date",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",defaultValue:()=>new Date,onUpdate:()=>new Date,required:!0,fieldName:e.user?.fields?.updatedAt||"updatedAt"},...n?.fields,...e.user?.additionalFields},order:1},...!e.secondaryStorage||e.session?.storeSessionInDatabase?l:{},account:{modelName:e.account?.modelName||"account",fields:{accountId:{type:"string",required:!0,fieldName:e.account?.fields?.accountId||"accountId"},providerId:{type:"string",required:!0,fieldName:e.account?.fields?.providerId||"providerId"},userId:{type:"string",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0,fieldName:e.account?.fields?.userId||"userId"},accessToken:{type:"string",required:!1,fieldName:e.account?.fields?.accessToken||"accessToken"},refreshToken:{type:"string",required:!1,fieldName:e.account?.fields?.refreshToken||"refreshToken"},idToken:{type:"string",required:!1,fieldName:e.account?.fields?.idToken||"idToken"},accessTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.accessTokenExpiresAt||"accessTokenExpiresAt"},refreshTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.refreshTokenExpiresAt||"refreshTokenExpiresAt"},scope:{type:"string",required:!1,fieldName:e.account?.fields?.scope||"scope"},password:{type:"string",required:!1,fieldName:e.account?.fields?.password||"password"},createdAt:{type:"date",required:!0,fieldName:e.account?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.account?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},...a?.fields,...e.account?.additionalFields},order:3},verification:{modelName:e.verification?.modelName||"verification",fields:{identifier:{type:"string",required:!0,fieldName:e.verification?.fields?.identifier||"identifier"},value:{type:"string",required:!0,fieldName:e.verification?.fields?.value||"value"},expiresAt:{type:"date",required:!0,fieldName:e.verification?.fields?.expiresAt||"expiresAt"},createdAt:{type:"date",required:!0,defaultValue:()=>new Date,fieldName:e.verification?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,defaultValue:()=>new Date,onUpdate:()=>new Date,fieldName:e.verification?.fields?.updatedAt||"updatedAt"}},order:4},...s,...r?i:{}}};e.s(["g",()=>t])},169066,e=>{"use strict";var t=e.i(130717),r=e.i(468527),i=e.i(649330);e.i(154456),e.i(282318),e.i(530501),e.i(172381),e.i(362160);var n=e.i(464589);function o(e,t,r){if("update"===r)return void 0===e&&void 0!==t.onUpdate?"function"==typeof t.onUpdate?t.onUpdate():t.onUpdate:e;return null==e&&void 0!==t.defaultValue?"function"==typeof t.defaultValue?t.defaultValue():t.defaultValue:e}let a=[],s=-1,l=e=>t=>t(e),u=({adapter:e,config:u})=>h=>{let m=Math.random().toString(36).substring(2,15),g={...u,supportsBooleans:u.supportsBooleans??!0,supportsDates:u.supportsDates??!0,supportsJSON:u.supportsJSON??!1,adapterName:u.adapterName??u.adapterId,supportsNumericIds:u.supportsNumericIds??!0,transaction:u.transaction??!1,disableTransformInput:u.disableTransformInput??!1,disableTransformOutput:u.disableTransformOutput??!1};if(h.advanced?.database?.useNumberId===!0&&!1===g.supportsNumericIds)throw Error(`[${g.adapterName}] Your database or database adapter does not support numeric ids. Please disable "useNumberId" in your config.`);let y=(0,r.g)(h),v=({field:e,model:t})=>{if("id"===e||"_id"===e)return"id";let r=b(t),i=y[r]?.fields[e];if(!i){let t=Object.entries(y[r].fields).find(([t,r])=>r.fieldName===e);t&&(i=t[1],e=t[0])}if(!i)throw _(`Field ${e} not found in model ${r}`),_("Schema:",y),Error(`Field ${e} not found in model ${r}`);return e},b=e=>{if(g.usePlural&&"s"===e.charAt(e.length-1)){let t=e.slice(0,-1),r=y[t]?t:void 0;if(r||(r=Object.entries(y).find(([e,r])=>r.modelName===t)?.[0]),r)return r}let t=y[e]?e:void 0;if(t||(t=Object.entries(y).find(([t,r])=>r.modelName===e)?.[0]),!t)throw _(`Model "${e}" not found in schema`),_("Schema:",y),Error(`Model "${e}" not found in schema`);return t},A=e=>{let t=b(e),r=g&&g.usePlural;return y&&y[t]&&y[t].modelName!==e?r?`${y[t].modelName}s`:y[t].modelName:r?`${e}s`:e};function w({model:e,field:t}){let r=b(e),i=v({model:r,field:t});return y[r]?.fields[i]?.fieldName||i}let _=(...e)=>{if(!0===g.debugLogs||"object"==typeof g.debugLogs){if("object"==typeof g.debugLogs&&"isRunningAdapterTests"in g.debugLogs){g.debugLogs.isRunningAdapterTests&&(e.shift(),a.push({instance:m,args:e}));return}if("object"!=typeof g.debugLogs||!g.debugLogs.logCondition||g.debugLogs.logCondition?.())if("object"==typeof e[0]&&"method"in e[0]){let t=e.shift().method;if("object"==typeof g.debugLogs){if("create"===t&&!g.debugLogs.create)return;else if("update"===t&&!g.debugLogs.update)return;else if("updateMany"===t&&!g.debugLogs.updateMany)return;else if("findOne"===t&&!g.debugLogs.findOne)return;else if("findMany"===t&&!g.debugLogs.findMany)return;else if("delete"===t&&!g.debugLogs.delete)return;else if("deleteMany"===t&&!g.debugLogs.deleteMany)return;else if("count"===t&&!g.debugLogs.count)return}n.a.info(`[${g.adapterName}]`,...e)}else n.a.info(`[${g.adapterName}]`,...e)}},S=({customModelName:e,forceAllowId:t})=>{let r=!g.disableIdGeneration&&!h.advanced?.database?.useNumberId&&!t,o=b(e??"id");return{type:h.advanced?.database?.useNumberId?"number":"string",required:!!r,...r?{defaultValue(){if(g.disableIdGeneration)return;let e=h.advanced?.database?.useNumberId,t=h.advanced?.database?.generateId;if(h.advanced?.generateId!==void 0&&(n.a.warn("Your Better Auth config includes advanced.generateId which is deprecated. Please use advanced.database.generateId instead. This will be removed in future releases."),t=h.advanced?.generateId),!1!==t&&!e)return t?t({model:o}):g.customIdGenerator?g.customIdGenerator({model:o}):(0,i.g)()}}:{}}},E=({model:e,field:t})=>{let r=b(e),i=v({field:t,model:r}),n=y[r].fields;return n.id=S({customModelName:r}),n[i]},T=async(e,t,r,i)=>{let n={},a=y[t].fields,s=g.mapKeysTransformInput??{};for(let l in g.disableIdGeneration||h.advanced?.database?.useNumberId||(a.id=S({customModelName:t,forceAllowId:i&&"id"in e})),a){let i=e[l],u=a[l],c=s[l]||a[l].fieldName||l;if(void 0===i&&(void 0===u.defaultValue&&!u.transform?.input&&!("update"===r&&u.onUpdate)||"update"===r&&!u.onUpdate))continue;let d=o(i,u,r);u.transform?.input&&(d=await u.transform.input(d)),u.references?.field==="id"&&h.advanced?.database?.useNumberId?d=Array.isArray(d)?d.map(e=>null!==e?Number(e):null):null!==d?Number(d):null:!1===g.supportsJSON&&"object"==typeof d&&"json"===u.type?d=JSON.stringify(d):!1===g.supportsDates&&d instanceof Date&&"date"===u.type?d=d.toISOString():!1===g.supportsBooleans&&"boolean"==typeof d&&(d=+!!d),g.customTransformInput&&(d=g.customTransformInput({data:d,action:r,field:c,fieldAttributes:u,model:t,schema:y,options:h})),void 0!==d&&(n[c]=d)}return n},I=async(e,r,i=[])=>{if(!e)return null;let n=g.mapKeysTransformOutput??{},o={},a=y[r].fields;for(let s in a[Object.entries(n).find(([e,t])=>"id"===t)?.[0]??"id"]={type:h.advanced?.database?.useNumberId?"number":"string"},a){if(i.length&&!i.includes(s))continue;let l=a[s];if(l){let a=l.fieldName||s,u=e[Object.entries(n).find(([e,t])=>t===a)?.[0]||a];l.transform?.output&&(u=await l.transform.output(u));let c=n[s]||s;"id"===a||l.references?.field==="id"?null!=u&&(u=String(u)):!1===g.supportsJSON&&"string"==typeof u&&"json"===l.type?u=(0,t.s)(u):!1===g.supportsDates&&"string"==typeof u&&"date"===l.type?u=new Date(u):!1===g.supportsBooleans&&"number"==typeof u&&"boolean"===l.type&&(u=1===u),g.customTransformOutput&&(u=g.customTransformOutput({data:u,field:c,fieldAttributes:l,select:i,model:r,schema:y,options:h})),o[c]=u}}return o},x=({model:e,where:t})=>{if(!t)return;let r=g.mapKeysTransformInput??{};return t.map(t=>{let{field:i,value:n,operator:o="eq",connector:a="AND"}=t;if("in"===o&&!Array.isArray(n))throw Error("Value must be an array");let s=b(e),l=v({field:i,model:e}),u=r[l]||w({field:l,model:s}),c=E({field:l,model:s});return("id"===l||c.references?.field==="id")&&h.advanced?.database?.useNumberId?Array.isArray(n)?{operator:o,connector:a,field:u,value:n.map(Number)}:{operator:o,connector:a,field:u,value:Number(n)}:{operator:o,connector:a,field:u,value:n}})},O=e({options:h,schema:y,debugLog:_,getFieldName:w,getModelName:A,getDefaultModelName:b,getDefaultFieldName:v,getFieldAttributes:E,transformInput:T,transformOutput:I,transformWhereClause:x}),C=null,k={transaction:async e=>(C||(g.transaction?(n.a.debug(`[${g.adapterName}] - Using provided transaction implementation.`),C=g.transaction):("object"==typeof g.debugLogs&&"isRunningAdapterTests"in g.debugLogs&&g.debugLogs.isRunningAdapterTests||n.a.warn(`[${g.adapterName}] - Transactions are not supported. Executing operations sequentially.`),C=l(k))),C(e)),create:async({data:e,model:t,select:r,forceAllowId:i=!1})=>{let o=++s,a=A(t);if(t=b(t),"id"in e&&!i){n.a.warn(`[${g.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \`forceAllowId\` parameter. The id will be ignored.`);let t=Error();console.log(t.stack?.split("\n").filter((e,t)=>1!==t).join("\n").replace("Error:","Create method with `id` being called at:")),e.id=void 0}_({method:"create"},`${c(o)} ${d(1,4)}`,`${p("create")} ${f("Unsafe Input")}:`,{model:a,data:e});let l=e;g.disableTransformInput||(l=await T(e,t,"create",i)),_({method:"create"},`${c(o)} ${d(2,4)}`,`${p("create")} ${f("Parsed Input")}:`,{model:a,data:l});let u=await O.create({data:l,model:a});_({method:"create"},`${c(o)} ${d(3,4)}`,`${p("create")} ${f("DB Result")}:`,{model:a,res:u});let h=u;return g.disableTransformOutput||(h=await I(u,t,r)),_({method:"create"},`${c(o)} ${d(4,4)}`,`${p("create")} ${f("Parsed Result")}:`,{model:a,data:h}),h},update:async({model:e,where:t,update:r})=>{let i=++s,n=A(e=b(e)),o=x({model:e,where:t});_({method:"update"},`${c(i)} ${d(1,4)}`,`${p("update")} ${f("Unsafe Input")}:`,{model:n,data:r});let a=r;g.disableTransformInput||(a=await T(r,e,"update")),_({method:"update"},`${c(i)} ${d(2,4)}`,`${p("update")} ${f("Parsed Input")}:`,{model:n,data:a});let l=await O.update({model:n,where:o,update:a});_({method:"update"},`${c(i)} ${d(3,4)}`,`${p("update")} ${f("DB Result")}:`,{model:n,data:l});let u=l;return g.disableTransformOutput||(u=await I(l,e)),_({method:"update"},`${c(i)} ${d(4,4)}`,`${p("update")} ${f("Parsed Result")}:`,{model:n,data:u}),u},updateMany:async({model:e,where:t,update:r})=>{let i=++s,n=A(e),o=x({model:e,where:t});e=b(e),_({method:"updateMany"},`${c(i)} ${d(1,4)}`,`${p("updateMany")} ${f("Unsafe Input")}:`,{model:n,data:r});let a=r;g.disableTransformInput||(a=await T(r,e,"update")),_({method:"updateMany"},`${c(i)} ${d(2,4)}`,`${p("updateMany")} ${f("Parsed Input")}:`,{model:n,data:a});let l=await O.updateMany({model:n,where:o,update:a});return _({method:"updateMany"},`${c(i)} ${d(3,4)}`,`${p("updateMany")} ${f("DB Result")}:`,{model:n,data:l}),_({method:"updateMany"},`${c(i)} ${d(4,4)}`,`${p("updateMany")} ${f("Parsed Result")}:`,{model:n,data:l}),l},findOne:async({model:e,where:t,select:r})=>{let i=++s,n=A(e),o=x({model:e,where:t});e=b(e),_({method:"findOne"},`${c(i)} ${d(1,3)}`,`${p("findOne")}:`,{model:n,where:o,select:r});let a=await O.findOne({model:n,where:o,select:r});_({method:"findOne"},`${c(i)} ${d(2,3)}`,`${p("findOne")} ${f("DB Result")}:`,{model:n,data:a});let l=a;return g.disableTransformOutput||(l=await I(a,e,r)),_({method:"findOne"},`${c(i)} ${d(3,3)}`,`${p("findOne")} ${f("Parsed Result")}:`,{model:n,data:l}),l},findMany:async({model:e,where:t,limit:r,sortBy:i,offset:n})=>{let o=++s,a=r??h.advanced?.database?.defaultFindManyLimit??100,l=A(e),u=x({model:e,where:t});e=b(e),_({method:"findMany"},`${c(o)} ${d(1,3)}`,`${p("findMany")}:`,{model:l,where:u,limit:a,sortBy:i,offset:n});let m=await O.findMany({model:l,where:u,limit:a,sortBy:i,offset:n});_({method:"findMany"},`${c(o)} ${d(2,3)}`,`${p("findMany")} ${f("DB Result")}:`,{model:l,data:m});let y=m;return g.disableTransformOutput||(y=await Promise.all(m.map(async t=>await I(t,e)))),_({method:"findMany"},`${c(o)} ${d(3,3)}`,`${p("findMany")} ${f("Parsed Result")}:`,{model:l,data:y}),y},delete:async({model:e,where:t})=>{let r=++s,i=A(e),n=x({model:e,where:t});e=b(e),_({method:"delete"},`${c(r)} ${d(1,2)}`,`${p("delete")}:`,{model:i,where:n}),await O.delete({model:i,where:n}),_({method:"delete"},`${c(r)} ${d(2,2)}`,`${p("delete")} ${f("DB Result")}:`,{model:i})},deleteMany:async({model:e,where:t})=>{let r=++s,i=A(e),n=x({model:e,where:t});e=b(e),_({method:"deleteMany"},`${c(r)} ${d(1,2)}`,`${p("deleteMany")} ${f("DeleteMany")}:`,{model:i,where:n});let o=await O.deleteMany({model:i,where:n});return _({method:"deleteMany"},`${c(r)} ${d(2,2)}`,`${p("deleteMany")} ${f("DB Result")}:`,{model:i,data:o}),o},count:async({model:e,where:t})=>{let r=++s,i=A(e),n=x({model:e,where:t});e=b(e),_({method:"count"},`${c(r)} ${d(1,2)}`,`${p("count")}:`,{model:i,where:n});let o=await O.count({model:i,where:n});return _({method:"count"},`${c(r)} ${d(2,2)}`,`${p("count")}:`,{model:i,data:o}),o},createSchema:O.createSchema?async(e,t)=>{let i=(0,r.g)(h);return h.secondaryStorage&&!h.session?.storeSessionInDatabase&&delete i.session,h.rateLimit&&"database"===h.rateLimit.storage&&(void 0===h.rateLimit.enabled||!0===h.rateLimit.enabled)&&(i.ratelimit={modelName:h.rateLimit.modelName??"ratelimit",fields:{key:{type:"string",unique:!0,required:!0,fieldName:h.rateLimit.fields?.key??"key"},count:{type:"number",required:!0,fieldName:h.rateLimit.fields?.count??"count"},lastRequest:{type:"number",required:!0,bigint:!0,defaultValue:()=>Date.now(),fieldName:h.rateLimit.fields?.lastRequest??"lastRequest"}}}),O.createSchema({file:t,tables:i})}:void 0,options:{adapterConfig:g,...O.options??{}},id:g.adapterId,...g.debugLogs?.isRunningAdapterTests?{adapterTestDebugLogs:{resetDebugLogs(){a=a.filter(e=>e.instance!==m)},printDebugLogs(){let e=`\u2500`.repeat(80),t=a.filter(e=>e.instance===m);0===t.length||console.log(...t.reverse().map(e=>(e.args[0]=`
${e.args[0]}`,[...e.args,"\n"])).reduce((e,t)=>[...t,...e],[`
${e}`]))}}}:{}};return k};function c(e){return`${n.b.fg.magenta}#${e}${n.b.reset}`}function d(e,t){return`${n.b.bg.black}${n.b.fg.yellow}[${e}/${t}]${n.b.reset}`}function p(e){return`${n.b.bright}${e}${n.b.reset}`}function f(e){return`${n.b.dim}(${e})${n.b.reset}`}e.s(["c",()=>u])},823390,e=>{"use strict";var t=e.i(154456);async function r(e,t){let r=await e.context.internalAdapter.findAccounts(t.userId),i=r?.find(e=>"credential"===e.providerId),n=i?.password;return!!i&&!!n&&await e.context.password.verify({hash:n,password:t.password})}async function i(e,r){let i=await r.context.internalAdapter.findAccounts(e),n=i?.find(e=>"credential"===e.providerId),o=n?.password;if(!n||!o||!r.body.password)throw new t.APIError("BAD_REQUEST",{message:"No password credential found"});if(!await r.context.password.verify({hash:o,password:r.body.password}))throw new t.APIError("BAD_REQUEST",{message:"Invalid password"});return!0}e.s(["c",()=>i,"v",()=>r])},844735,334773,767356,277074,e=>{"use strict";let t,r,i;var n=e.i(822381),o=e.i(129776),a=e.i(805650);e.i(537430);var s=e.i(973088),l=e.i(66655),u=e.i(744957),c=e.i(130717),d=e.i(649330);e.i(154456),e.i(282318),e.i(530501),e.i(172381),e.i(362160);var p=e.i(464589),f=e.i(338270);e.i(339127);var h=e.i(408972),m=e.i(468527),g=e.i(19254),y=e.i(361761),v=e.i(1765);function b(e,t){return v.RawNode.createWithChildren([v.RawNode.createWithSql(`${e} `),y.IdentifierNode.create(t)])}var A=e.i(390476),w=e.i(459094),_=e.i(726951);class S{#v;#b=new T;#A;#w;constructor(e){this.#v=(0,w.freeze)({...e})}async init(){this.#A=(0,w.isFunction)(this.#v.database)?await this.#v.database():this.#v.database,this.#w=new E(this.#A),this.#v.onCreateConnection&&await this.#v.onCreateConnection(this.#w)}async acquireConnection(){return await this.#b.lock(),this.#w}async beginTransaction(e){await e.executeQuery(A.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(A.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(A.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(b("savepoint",t),(0,_.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(b("rollback to",t),(0,_.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(b("release",t),(0,_.createQueryId)()))}async releaseConnection(){this.#b.unlock()}async destroy(){this.#A?.close()}}class E{#A;constructor(e){this.#A=e}executeQuery(e){let{sql:t,parameters:r}=e,i=this.#A.prepare(t);if(i.reader)return Promise.resolve({rows:i.all(r)});let{changes:n,lastInsertRowid:o}=i.run(r);return Promise.resolve({numAffectedRows:null!=n?BigInt(n):void 0,insertId:null!=o?BigInt(o):void 0,rows:[]})}async *streamQuery(e,t){let{sql:r,parameters:i,query:n}=e,o=this.#A.prepare(r);if(g.SelectQueryNode.is(n))for(let e of o.iterate(i))yield{rows:[e]};else throw Error("Sqlite driver only supports streaming of select queries")}}class T{#_;#S;async lock(){for(;this.#_;)await this.#_;this.#_=new Promise(e=>{this.#S=e})}unlock(){let e=this.#S;this.#_=void 0,this.#S=void 0,e?.()}}var I=e.i(736306);let x=/"/g;class O extends I.DefaultQueryCompiler{visitOrAction(e){this.append("or "),this.append(e.action)}getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(x,'""')}visitDefaultInsertValue(e){this.append("null")}}var C=e.i(77033),k=e.i(913031);class N{#A;constructor(e){this.#A=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){return await this.#E(e)}async getMetadata(e){return{tables:await this.getTables(e)}}#T(e,t){let r=e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select(["name","sql","type"]).orderBy("name");return t.withInternalKyselyTables||(r=r.where("name","!=",C.DEFAULT_MIGRATION_TABLE).where("name","!=",C.DEFAULT_MIGRATION_LOCK_TABLE)),r}async #E(e){let t=await this.#T(this.#A,e).execute(),r=await this.#A.with("table_list",t=>this.#T(t,e)).selectFrom(["table_list as tl",k.sql`pragma_table_info(tl.name)`.as("p")]).select(["tl.name as table","p.cid","p.name","p.type","p.notnull","p.dflt_value","p.pk"]).orderBy("tl.name").orderBy("p.cid").execute(),i={};for(let e of r)i[e.table]??=[],i[e.table].push(e);return t.map(({name:e,sql:t,type:r})=>{let n=t?.split(/[\(\),]/)?.find(e=>e.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),o=i[e]??[];if(!n){let e=o.filter(e=>e.pk>0);1===e.length&&"integer"===e[0].type.toLowerCase()&&(n=e[0].name)}return{name:e,isView:"view"===r,columns:o.map(e=>({name:e.name,dataType:e.type,isNullable:!e.notnull,isAutoIncrementing:e.name===n,hasDefaultValue:null!=e.dflt_value,comment:void 0}))}})}}class R{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}class P extends R{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,t){}async releaseMigrationLock(e,t){}}var D=w;class U{#v;constructor(e){this.#v=(0,D.freeze)({...e})}createDriver(){return new S(this.#v)}createQueryCompiler(){return new O}createAdapter(){return new P}createIntrospector(e){return new N(e)}}var L=A,K=w,M=_,B=w;function j(e,t){if($(e)&&t.stack){let r=t.stack.split("\n").slice(1).join("\n");e.stack+=`
${r}`}return e}function $(e){return(0,B.isObject)(e)&&(0,B.isString)(e.stack)}let z=Symbol();class F{#v;#I=new WeakMap;#x;constructor(e){this.#v=(0,K.freeze)({...e})}async init(){this.#x=(0,K.isFunction)(this.#v.pool)?await this.#v.pool():this.#v.pool}async acquireConnection(){let e=await this.#O(),t=this.#I.get(e);return!t&&(t=new V(e),this.#I.set(e,t),this.#v?.onCreateConnection&&await this.#v.onCreateConnection(t)),this.#v?.onReserveConnection&&await this.#v.onReserveConnection(t),t}async #O(){return new Promise((e,t)=>{this.#x.getConnection(async(r,i)=>{r?t(r):e(i)})})}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r=[];t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode);let i=`set transaction ${r.join(", ")}`;await e.executeQuery(L.CompiledQuery.raw(i))}await e.executeQuery(L.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(L.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(L.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(b("savepoint",t),(0,M.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(b("rollback to",t),(0,M.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(b("release savepoint",t),(0,M.createQueryId)()))}async releaseConnection(e){e[z]()}async destroy(){return new Promise((e,t)=>{this.#x.end(r=>{r?t(r):e()})})}}function q(e){return(0,K.isObject)(e)&&"insertId"in e&&"affectedRows"in e}class V{#C;constructor(e){this.#C=e}async executeQuery(e){try{let t=await this.#k(e);if(q(t)){let{insertId:e,affectedRows:r,changedRows:i}=t;return{insertId:null!=e&&"0"!==e.toString()?BigInt(e):void 0,numAffectedRows:null!=r?BigInt(r):void 0,numChangedRows:null!=i?BigInt(i):void 0,rows:[]}}if(Array.isArray(t))return{rows:t};return{rows:[]}}catch(e){throw j(e,Error())}}#k(e){return new Promise((t,r)=>{this.#C.query(e.sql,e.parameters,(e,i)=>{e?r(e):t(i)})})}async *streamQuery(e,t){let r=this.#C.query(e.sql,e.parameters).stream({objectMode:!0});try{for await(let e of r)yield{rows:[e]}}catch(e){if(e&&"object"==typeof e&&"code"in e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code)return;throw e}}[z](){this.#C.release()}}var H=I;let G=/`/g;class W extends H.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(e){return e.replace(G,"``")}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.using&&(this.append(" using "),this.visitNode(e.using)),e.table&&(this.append(" on "),this.visitNode(e.table)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.where&&(this.append(" "),this.visitNode(e.where))}}var Z=C,J=w,Q=k;class Y{#A;constructor(e){this.#A=e}async getSchemas(){return(await this.#A.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(e=>({name:e.SCHEMA_NAME}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#A.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",e=>e.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA","columns.COLUMN_COMMENT"]).where("columns.TABLE_SCHEMA","=",Q.sql`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();e.withInternalKyselyTables||(t=t.where("columns.TABLE_NAME","!=",Z.DEFAULT_MIGRATION_TABLE).where("columns.TABLE_NAME","!=",Z.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#N(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#N(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.TABLE_NAME);return r||(r=(0,J.freeze)({name:t.TABLE_NAME,isView:"VIEW"===t.TABLE_TYPE,schema:t.TABLE_SCHEMA,columns:[]}),e.push(r)),r.columns.push((0,J.freeze)({name:t.COLUMN_NAME,dataType:t.DATA_TYPE,isNullable:"YES"===t.IS_NULLABLE,isAutoIncrementing:t.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:null!==t.COLUMN_DEFAULT,comment:""===t.COLUMN_COMMENT?void 0:t.COLUMN_COMMENT})),e},[])}}var X=k;let ee="ea586330-2c93-47c8-908d-981d9d270f9d",et=3600;class er extends R{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(e,t){await X.sql`select get_lock(${X.sql.lit(ee)}, ${X.sql.lit(et)})`.execute(e)}async releaseMigrationLock(e,t){await X.sql`select release_lock(${X.sql.lit(ee)})`.execute(e)}}class ei{#v;constructor(e){this.#v=e}createDriver(){return new F(this.#v)}createQueryCompiler(){return new W}createAdapter(){return new er}createIntrospector(e){return new Y(e)}}var en=A,eo=w,ea=_;let es=Symbol();class el{#v;#I=new WeakMap;#x;constructor(e){this.#v=(0,eo.freeze)({...e})}async init(){this.#x=(0,eo.isFunction)(this.#v.pool)?await this.#v.pool():this.#v.pool}async acquireConnection(){let e=await this.#x.connect(),t=this.#I.get(e);return!t&&(t=new eu(e,{cursor:this.#v.cursor??null}),this.#I.set(e,t),this.#v.onCreateConnection&&await this.#v.onCreateConnection(t)),this.#v.onReserveConnection&&await this.#v.onReserveConnection(t),t}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r="start transaction";t.isolationLevel&&(r+=` isolation level ${t.isolationLevel}`),t.accessMode&&(r+=` ${t.accessMode}`),await e.executeQuery(en.CompiledQuery.raw(r))}else await e.executeQuery(en.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(en.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(en.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(b("savepoint",t),(0,ea.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(b("rollback to",t),(0,ea.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(b("release",t),(0,ea.createQueryId)()))}async releaseConnection(e){e[es]()}async destroy(){if(this.#x){let e=this.#x;this.#x=void 0,await e.end()}}}class eu{#R;#P;constructor(e,t){this.#R=e,this.#P=t}async executeQuery(e){try{let{command:t,rowCount:r,rows:i}=await this.#R.query(e.sql,[...e.parameters]);return{numAffectedRows:"INSERT"===t||"UPDATE"===t||"DELETE"===t||"MERGE"===t?BigInt(r):void 0,rows:i??[]}}catch(e){throw j(e,Error())}}async *streamQuery(e,t){if(!this.#P.cursor)throw Error("'cursor' is not present in your postgres dialect config. It's required to make streaming work in postgres.");if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=this.#R.query(new this.#P.cursor(e.sql,e.parameters.slice()));try{for(;;){let e=await r.read(t);if(0===e.length)break;yield{rows:e}}}finally{await r.close()}}[es](){this.#R.release()}}var ec=C,ed=w,ep=k;class ef{#A;constructor(e){this.#A=e}async getSchemas(){return(await this.#A.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(e=>({name:e.nspname}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#A.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",ep.sql`col_description(a.attrelid, a.attnum)`.as("column_description"),ep.sql`pg_get_serial_sequence(quote_ident(ns.nspname) || '.' || quote_ident(c.relname), a.attname)`.as("auto_incrementing")]).where("c.relkind","in",["r","v","p"]).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("ns.nspname","!=","crdb_internal").where(ep.sql`has_schema_privilege(ns.nspname, 'USAGE')`).where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();e.withInternalKyselyTables||(t=t.where("c.relname","!=",ec.DEFAULT_MIGRATION_TABLE).where("c.relname","!=",ec.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#N(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#N(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.table&&e.schema===t.schema);return r||(r=(0,ed.freeze)({name:t.table,isView:"v"===t.table_type,schema:t.schema,columns:[]}),e.push(r)),r.columns.push((0,ed.freeze)({name:t.column,dataType:t.type,dataTypeSchema:t.type_schema,isNullable:!t.not_null,isAutoIncrementing:null!==t.auto_incrementing,hasDefaultValue:t.has_default,comment:t.column_description??void 0})),e},[])}}var eh=I;let em=/"/g;class eg extends eh.DefaultQueryCompiler{sanitizeIdentifier(e){return e.replace(em,'""')}}var ey=k;let ev=BigInt("3853314791062309107");class eb extends R{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(e,t){await ey.sql`select pg_advisory_xact_lock(${ey.sql.lit(ev)})`.execute(e)}async releaseMigrationLock(e,t){}}class eA{#v;constructor(e){this.#v=e}createDriver(){return new el(this.#v)}createQueryCompiler(){return new eg}createAdapter(){return new eb}createIntrospector(e){return new ef(e)}}var ew=C,e_=k;class eS extends R{get supportsCreateIfNotExists(){return!1}get supportsTransactionalDdl(){return!0}get supportsOutput(){return!0}async acquireMigrationLock(e){await e_.sql`exec sp_getapplock @DbPrincipal = ${e_.sql.lit("dbo")}, @Resource = ${e_.sql.lit(ew.DEFAULT_MIGRATION_TABLE)}, @LockMode = ${e_.sql.lit("Exclusive")}`.execute(e)}async releaseMigrationLock(){}}var eE=w,eT=A,eI=e.i(818728),ex=e.i(286474);let eO=Symbol(),eC=Symbol(),ek=Symbol();class eN{#v;#x;constructor(e){this.#v=(0,eE.freeze)({...e});const{tarn:t,tedious:r,validateConnections:i}=this.#v,{validateConnections:n,...o}=t.options;this.#x=new t.Pool({...o,create:async()=>{let e=await r.connectionFactory();return await new eR(e,r).connect()},destroy:async e=>{await e[eC]()},validate:!1===i||!1===n?void 0:e=>e[ek]()})}async init(){}async acquireConnection(){return await this.#x.acquire().promise}async beginTransaction(e,t){await e.beginTransaction(t)}async commitTransaction(e){await e.commitTransaction()}async rollbackTransaction(e){await e.rollbackTransaction()}async savepoint(e,t){await e.savepoint(t)}async rollbackToSavepoint(e,t){await e.rollbackTransaction(t)}async releaseConnection(e){(this.#v.resetConnectionsOnRelease||this.#v.tedious.resetConnectionOnRelease)&&await e[eO](),this.#x.release(e)}async destroy(){await this.#x.destroy()}}class eR{#w;#D;#U;constructor(e,t){this.#w=e,this.#D=!1,this.#U=t}async beginTransaction(e){let{isolationLevel:t}=e;await new Promise((e,r)=>this.#w.beginTransaction(t=>{t?r(t):e(void 0)},t?(0,eI.randomString)(8):void 0,t?this.#L(t):void 0))}async commitTransaction(){await new Promise((e,t)=>this.#w.commitTransaction(r=>{r?t(r):e(void 0)}))}async connect(){let{promise:e,reject:t,resolve:r}=new ex.Deferred;function i(){t(Error("The connection ended without ever completing the connection"))}return this.#w.connect(e=>{if(e)return t(e);r()}),this.#w.on("error",e=>{e instanceof Error&&"code"in e&&"ESOCKET"===e.code&&(this.#D=!0),console.error(e),t(e)}),this.#w.once("end",i),await e,this.#w.off("end",i),this}async executeQuery(e){try{let t=new ex.Deferred,r=new eP({compiledQuery:e,tedious:this.#U,onDone:t});this.#w.execSql(r.request);let{rowCount:i,rows:n}=await t.promise;return{numAffectedRows:void 0!==i?BigInt(i):void 0,rows:n}}catch(e){throw j(e,Error())}}async rollbackTransaction(e){await new Promise((t,r)=>this.#w.rollbackTransaction(e=>{e?r(e):t(void 0)},e))}async savepoint(e){await new Promise((t,r)=>this.#w.saveTransaction(e=>{e?r(e):t(void 0)},e))}async *streamQuery(e,t){if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=new eP({compiledQuery:e,streamChunkSize:t,tedious:this.#U});this.#w.execSql(r.request);try{for(;;){let e=await r.readChunk();if(0===e.length||(yield{rows:e},e.length<t))break}}finally{await this.#K(r)}}#L(e){let{ISOLATION_LEVEL:t}=this.#U,r={"read committed":t.READ_COMMITTED,"read uncommitted":t.READ_UNCOMMITTED,"repeatable read":t.REPEATABLE_READ,serializable:t.SERIALIZABLE,snapshot:t.SNAPSHOT}[e];if(void 0===r)throw Error(`Unknown isolation level: ${e}`);return r}#K(e){return new Promise(t=>{e.request.once("requestCompleted",t),this.#w.cancel()||(e.request.off("requestCompleted",t),t())})}[eC](){return"closed"in this.#w&&this.#w.closed?Promise.resolve():new Promise(e=>{this.#w.once("end",e),this.#w.close()})}async [eO](){await new Promise((e,t)=>{this.#w.reset(r=>{if(r)return t(r);e()})})}async [ek](){if(this.#D||this.#M())return!1;try{let e=new ex.Deferred,t=new eP({compiledQuery:eT.CompiledQuery.raw("select 1"),onDone:e,tedious:this.#U});return this.#w.execSql(t.request),await e.promise,!0}catch{return!1}}#M(){return"closed"in this.#w&&!!this.#w.closed}}class eP{#B;#j;#$;#z;#U;#F;constructor(e){const{compiledQuery:t,onDone:r,streamChunkSize:i,tedious:n}=e;if(this.#j=[],this.#$=i,this.#z={},this.#U=n,r){const e="onDone";this.#z[e]=(t,i)=>{if("chunkReady"!==t){if(delete this.#z[e],"error"===t)return r.reject(i);r.resolve({rowCount:this.#F,rows:this.#j})}}}this.#B=new this.#U.Request(t.sql,(e,t)=>{if(e)return Object.values(this.#z).forEach(t=>t("error",e instanceof AggregateError?e.errors:e));this.#F=t}),this.#q(t.parameters),this.#V()}get request(){return this.#B}readChunk(){let e=this.readChunk.name;return new Promise((t,r)=>{this.#z[e]=(i,n)=>{if(delete this.#z[e],"error"===i)return r(n);t(this.#j.splice(0,this.#$))},this.#B.resume()})}#q(e){for(let t=0;t<e.length;t++){let r=e[t];this.#B.addParameter(String(t+1),this.#H(r),r)}}#V(){let e=this.#$?()=>{this.#$<=this.#j.length&&(this.#B.pause(),Object.values(this.#z).forEach(e=>e("chunkReady")))}:()=>{},t=t=>{let r={};for(let e of t)r[e.metadata.colName]=e.value;this.#j.push(r),e()};this.#B.on("row",t),this.#B.once("requestCompleted",()=>{Object.values(this.#z).forEach(e=>e("completed")),this.#B.off("row",t)})}#H(e){if((0,eE.isNull)(e)||(0,eE.isUndefined)(e)||(0,eE.isString)(e))return this.#U.TYPES.NVarChar;if((0,eE.isBigInt)(e)||(0,eE.isNumber)(e)&&e%1==0)if(e<-0x80000000||e>0x7fffffff)return this.#U.TYPES.BigInt;else return this.#U.TYPES.Int;return(0,eE.isNumber)(e)?this.#U.TYPES.Float:(0,eE.isBoolean)(e)?this.#U.TYPES.Bit:(0,eE.isDate)(e)?this.#U.TYPES.DateTime:(0,eE.isBuffer)(e)?this.#U.TYPES.VarBinary:this.#U.TYPES.NVarChar}}var eD=C,eU=w;class eL{#A;constructor(e){this.#A=e}async getSchemas(){return await this.#A.selectFrom("sys.schemas").select("name").execute()}async getTables(e={withInternalKyselyTables:!1}){let t=await this.#A.selectFrom("sys.tables as tables").leftJoin("sys.schemas as table_schemas","table_schemas.schema_id","tables.schema_id").innerJoin("sys.columns as columns","columns.object_id","tables.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","tables.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).$if(!e.withInternalKyselyTables,e=>e.where("tables.name","!=",eD.DEFAULT_MIGRATION_TABLE).where("tables.name","!=",eD.DEFAULT_MIGRATION_LOCK_TABLE)).select(["tables.name as table_name",e=>e.ref("tables.type").$castTo().as("table_type"),"table_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"]).unionAll(this.#A.selectFrom("sys.views as views").leftJoin("sys.schemas as view_schemas","view_schemas.schema_id","views.schema_id").innerJoin("sys.columns as columns","columns.object_id","views.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","views.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).select(["views.name as table_name","views.type as table_type","view_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"])).orderBy("table_schema_name").orderBy("table_name").orderBy("column_name").execute(),r={};for(let e of t){let t=`${e.table_schema_name}.${e.table_name}`;(r[t]=r[t]||(0,eU.freeze)({columns:[],isView:"V "===e.table_type,name:e.table_name,schema:e.table_schema_name??void 0})).columns.push((0,eU.freeze)({dataType:e.type_name,dataTypeSchema:e.type_schema_name??void 0,hasDefaultValue:e.column_default_object_id>0||"NOT_APPLICABLE"!==e.column_generated_always_type||e.column_is_identity||e.column_is_computed||e.column_is_rowguidcol,isAutoIncrementing:e.column_is_identity,isNullable:e.column_is_nullable&&e.type_is_nullable,name:e.column_name,comment:e.column_comment??void 0}))}return Object.values(r)}async getMetadata(e){return{tables:await this.getTables(e)}}}var eK=I;let eM=/^[a-z0-9_]$/i;class eB extends eK.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return`@${this.numParameters}`}visitOffset(e){super.visitOffset(e),this.append(" rows")}compileColumnAlterations(e){let t={};for(let r of e)t[r.kind]||(t[r.kind]=[]),t[r.kind].push(r);let r=!0;t.AddColumnNode&&(this.append("add "),this.compileList(t.AddColumnNode),r=!1),t.AlterColumnNode&&(r||this.append(", "),this.compileList(t.AlterColumnNode)),t.DropColumnNode&&(r||this.append(", "),this.append("drop column "),this.compileList(t.DropColumnNode)),t.ModifyColumnNode&&(r||this.append(", "),this.compileList(t.ModifyColumnNode)),t.RenameColumnNode&&(r||this.append(", "),this.compileList(t.RenameColumnNode))}visitAddColumn(e){this.visitNode(e.column)}visitDropColumn(e){this.visitNode(e.column)}visitMergeQuery(e){super.visitMergeQuery(e),this.append(";")}visitCollate(e){this.append("collate ");let{name:t}=e.collation;for(let e of t)if(!eM.test(e))throw Error(`Invalid collation: ${t}`);this.append(t)}announcesNewColumnDataType(){return!1}}class ej{#v;constructor(e){this.#v=e}createDriver(){return new eN(this.#v)}createQueryCompiler(){return new eB}createAdapter(){return new eS}createIntrospector(e){return new eL(e)}}var e$=w;let ez=(0,e$.freeze)({is:e=>"AlterTableNode"===e.kind,create:e=>(0,e$.freeze)({kind:"AlterTableNode",table:e}),cloneWithTableProps:(e,t)=>(0,e$.freeze)({...e,...t}),cloneWithColumnAlteration:(e,t)=>(0,e$.freeze)({...e,columnAlterations:e.columnAlterations?[...e.columnAlterations,t]:[t]})});var eF=w,eq=y;let eV=(0,eF.freeze)({is:e=>"CreateIndexNode"===e.kind,create:e=>(0,eF.freeze)({kind:"CreateIndexNode",name:eq.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,eF.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,eF.freeze)({...e,columns:[...e.columns||[],...t]})});var eH=w,eG=y;let eW=(0,eH.freeze)({is:e=>"CreateSchemaNode"===e.kind,create:(e,t)=>(0,eH.freeze)({kind:"CreateSchemaNode",schema:eG.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,eH.freeze)({...e,...t})});var eZ=e.i(769972),eJ=w,eQ=e.i(566586);let eY=(0,eJ.freeze)({is:e=>"DropIndexNode"===e.kind,create:(e,t)=>(0,eJ.freeze)({kind:"DropIndexNode",name:eQ.SchemableIdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,eJ.freeze)({...e,...t})});var eX=w,e0=y;let e1=(0,eX.freeze)({is:e=>"DropSchemaNode"===e.kind,create:(e,t)=>(0,eX.freeze)({kind:"DropSchemaNode",schema:e0.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,eX.freeze)({...e,...t})});var e2=w;let e4=(0,e2.freeze)({is:e=>"DropTableNode"===e.kind,create:(e,t)=>(0,e2.freeze)({kind:"DropTableNode",table:e,...t}),cloneWith:(e,t)=>(0,e2.freeze)({...e,...t})});var e3=e.i(292465),e5=w;let e6=(0,e5.freeze)({is:e=>"AddColumnNode"===e.kind,create:e=>(0,e5.freeze)({kind:"AddColumnNode",column:e})});var e8=w,e9=e.i(381196);let e7=(0,e8.freeze)({is:e=>"ColumnDefinitionNode"===e.kind,create:(e,t)=>(0,e8.freeze)({kind:"ColumnDefinitionNode",column:e9.ColumnNode.create(e),dataType:t}),cloneWithFrontModifier:(e,t)=>(0,e8.freeze)({...e,frontModifiers:e.frontModifiers?(0,e8.freeze)([...e.frontModifiers,t]):[t]}),cloneWithEndModifier:(e,t)=>(0,e8.freeze)({...e,endModifiers:e.endModifiers?(0,e8.freeze)([...e.endModifiers,t]):[t]}),cloneWith:(e,t)=>(0,e8.freeze)({...e,...t})});var te=w,tt=e9;let tr=(0,te.freeze)({is:e=>"DropColumnNode"===e.kind,create:e=>(0,te.freeze)({kind:"DropColumnNode",column:tt.ColumnNode.create(e)})});var ti=y,tn=w,to=e9;let ta=(0,tn.freeze)({is:e=>"RenameColumnNode"===e.kind,create:(e,t)=>(0,tn.freeze)({kind:"RenameColumnNode",column:to.ColumnNode.create(e),renameTo:to.ColumnNode.create(t)})});var ts=w,tl=w,tu=y;let tc=(0,tl.freeze)({is:e=>"CheckConstraintNode"===e.kind,create:(e,t)=>(0,tl.freeze)({kind:"CheckConstraintNode",expression:e,name:t?tu.IdentifierNode.create(t):void 0})});var td=w;let tp=["no action","restrict","cascade","set null","set default"],tf=(0,td.freeze)({is:e=>"ReferencesNode"===e.kind,create:(e,t)=>(0,td.freeze)({kind:"ReferencesNode",table:e,columns:(0,td.freeze)([...t])}),cloneWithOnDelete:(e,t)=>(0,td.freeze)({...e,onDelete:t}),cloneWithOnUpdate:(e,t)=>(0,td.freeze)({...e,onUpdate:t})});var th=e.i(944550),tm=e.i(258390),tg=e.i(344473),ty=e.i(504196);function tv(e){return(0,tg.isOperationNodeSource)(e)?e.toOperationNode():ty.ValueNode.createImmediate(e)}var tb=w;let tA=(0,tb.freeze)({is:e=>"GeneratedNode"===e.kind,create:e=>(0,tb.freeze)({kind:"GeneratedNode",...e}),createWithExpression:e=>(0,tb.freeze)({kind:"GeneratedNode",always:!0,expression:e}),cloneWith:(e,t)=>(0,tb.freeze)({...e,...t})});var tw=w;let t_=(0,tw.freeze)({is:e=>"DefaultValueNode"===e.kind,create:e=>(0,tw.freeze)({kind:"DefaultValueNode",defaultValue:e})});function tS(e){if(tp.includes(e))return e;throw Error(`invalid OnModifyForeignAction ${e}`)}class tE{#G;constructor(e){this.#G=e}autoIncrement(){return new tE(e7.cloneWith(this.#G,{autoIncrement:!0}))}identity(){return new tE(e7.cloneWith(this.#G,{identity:!0}))}primaryKey(){return new tE(e7.cloneWith(this.#G,{primaryKey:!0}))}references(e){let t=(0,tm.parseStringReference)(e);if(!t.table||th.SelectAllNode.is(t.column))throw Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new tE(e7.cloneWith(this.#G,{references:tf.create(t.table,[t.column])}))}onDelete(e){if(!this.#G.references)throw Error("on delete constraint can only be added for foreign keys");return new tE(e7.cloneWith(this.#G,{references:tf.cloneWithOnDelete(this.#G.references,tS(e))}))}onUpdate(e){if(!this.#G.references)throw Error("on update constraint can only be added for foreign keys");return new tE(e7.cloneWith(this.#G,{references:tf.cloneWithOnUpdate(this.#G.references,tS(e))}))}unique(){return new tE(e7.cloneWith(this.#G,{unique:!0}))}notNull(){return new tE(e7.cloneWith(this.#G,{notNull:!0}))}unsigned(){return new tE(e7.cloneWith(this.#G,{unsigned:!0}))}defaultTo(e){return new tE(e7.cloneWith(this.#G,{defaultTo:t_.create(tv(e))}))}check(e){return new tE(e7.cloneWith(this.#G,{check:tc.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new tE(e7.cloneWith(this.#G,{generated:tA.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new tE(e7.cloneWith(this.#G,{generated:tA.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new tE(e7.cloneWith(this.#G,{generated:tA.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#G.generated)throw Error("stored() can only be called after generatedAlwaysAs");return new tE(e7.cloneWith(this.#G,{generated:tA.cloneWith(this.#G.generated,{stored:!0})}))}modifyFront(e){return new tE(e7.cloneWithFrontModifier(this.#G,e.toOperationNode()))}nullsNotDistinct(){return new tE(e7.cloneWith(this.#G,{nullsNotDistinct:!0}))}ifNotExists(){return new tE(e7.cloneWith(this.#G,{ifNotExists:!0}))}modifyEnd(e){return new tE(e7.cloneWithEndModifier(this.#G,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#G}}var tT=w;let tI=(0,tT.freeze)({is:e=>"ModifyColumnNode"===e.kind,create:e=>(0,tT.freeze)({kind:"ModifyColumnNode",column:e})});var tx=e.i(875670),tO=w,tC=y;let tk=(0,tO.freeze)({is:e=>"ForeignKeyConstraintNode"===e.kind,create:(e,t,r,i)=>(0,tO.freeze)({kind:"ForeignKeyConstraintNode",columns:e,references:tf.create(t,r),name:i?tC.IdentifierNode.create(i):void 0}),cloneWith:(e,t)=>(0,tO.freeze)({...e,...t})});class tN{#G;constructor(e){this.#G=e}onDelete(e){return new tN(tk.cloneWith(this.#G,{onDelete:tS(e)}))}onUpdate(e){return new tN(tk.cloneWith(this.#G,{onUpdate:tS(e)}))}deferrable(){return new tN(tk.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new tN(tk.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new tN(tk.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new tN(tk.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}var tR=w;let tP=(0,tR.freeze)({is:e=>"AddConstraintNode"===e.kind,create:e=>(0,tR.freeze)({kind:"AddConstraintNode",constraint:e})});var tD=w,tU=e9,tL=y;let tK=(0,tD.freeze)({is:e=>"UniqueConstraintNode"===e.kind,create:(e,t,r)=>(0,tD.freeze)({kind:"UniqueConstraintNode",columns:(0,tD.freeze)(e.map(tU.ColumnNode.create)),name:t?tL.IdentifierNode.create(t):void 0,nullsNotDistinct:r}),cloneWith:(e,t)=>(0,tD.freeze)({...e,...t})});var tM=e9,tB=e3,tj=w,t$=y;let tz=(0,tj.freeze)({is:e=>"DropConstraintNode"===e.kind,create:e=>(0,tj.freeze)({kind:"DropConstraintNode",constraintName:t$.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,tj.freeze)({...e,...t})});var tF=w,tq=e9;let tV=(0,tF.freeze)({is:e=>"AlterColumnNode"===e.kind,create:(e,t,r)=>(0,tF.freeze)({kind:"AlterColumnNode",column:tq.ColumnNode.create(e),[t]:r})});var tH=tx;class tG{#W;constructor(e){this.#W=e}setDataType(e){return new tW(tV.create(this.#W,"dataType",(0,tH.parseDataTypeExpression)(e)))}setDefault(e){return new tW(tV.create(this.#W,"setDefault",tv(e)))}dropDefault(){return new tW(tV.create(this.#W,"dropDefault",!0))}setNotNull(){return new tW(tV.create(this.#W,"setNotNull",!0))}dropNotNull(){return new tW(tV.create(this.#W,"dropNotNull",!0))}$call(e){return e(this)}}class tW{#Z;constructor(e){this.#Z=e}toOperationNode(){return this.#Z}}var tZ=w;class tJ{#J;constructor(e){this.#J=(0,tZ.freeze)(e)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var tQ=w;class tY{#J;constructor(e){this.#J=(0,tQ.freeze)(e)}onDelete(e){return new tY({...this.#J,constraintBuilder:this.#J.constraintBuilder.onDelete(e)})}onUpdate(e){return new tY({...this.#J,constraintBuilder:this.#J.constraintBuilder.onUpdate(e)})}deferrable(){return new tY({...this.#J,constraintBuilder:this.#J.constraintBuilder.deferrable()})}notDeferrable(){return new tY({...this.#J,constraintBuilder:this.#J.constraintBuilder.notDeferrable()})}initiallyDeferred(){return new tY({...this.#J,constraintBuilder:this.#J.constraintBuilder.initiallyDeferred()})}initiallyImmediate(){return new tY({...this.#J,constraintBuilder:this.#J.constraintBuilder.initiallyImmediate()})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(ez.cloneWithTableProps(this.#J.node,{addConstraint:tP.create(this.#J.constraintBuilder.toOperationNode())}),this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var tX=w;class t0{#J;constructor(e){this.#J=(0,tX.freeze)(e)}ifExists(){return new t0({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{dropConstraint:tz.cloneWith(this.#J.node.dropConstraint,{ifExists:!0})})})}cascade(){return new t0({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{dropConstraint:tz.cloneWith(this.#J.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new t0({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{dropConstraint:tz.cloneWith(this.#J.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var t1=w,t2=e9,t4=y;let t3=(0,t1.freeze)({is:e=>"PrimaryKeyConstraintNode"===e.kind,create:(e,t)=>(0,t1.freeze)({kind:"PrimaryKeyConstraintNode",columns:(0,t1.freeze)(e.map(t2.ColumnNode.create)),name:t?t4.IdentifierNode.create(t):void 0}),cloneWith:(e,t)=>(0,t1.freeze)({...e,...t})});var t5=w,t6=y;let t8=(0,t5.freeze)({is:e=>"AddIndexNode"===e.kind,create:e=>(0,t5.freeze)({kind:"AddIndexNode",name:t6.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,t5.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,t5.freeze)({...e,columns:[...e.columns||[],...t]})});var t9=v,t7=tm,re=w;class rt{#J;constructor(e){this.#J=(0,re.freeze)(e)}unique(){return new rt({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addIndex:t8.cloneWith(this.#J.node.addIndex,{unique:!0})})})}column(e){return new rt({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addIndex:t8.cloneWithColumns(this.#J.node.addIndex,[(0,t7.parseOrderedColumnName)(e)])})})}columns(e){return new rt({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addIndex:t8.cloneWithColumns(this.#J.node.addIndex,e.map(t7.parseOrderedColumnName))})})}expression(e){return new rt({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addIndex:t8.cloneWithColumns(this.#J.node.addIndex,[e.toOperationNode()])})})}using(e){return new rt({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addIndex:t8.cloneWith(this.#J.node.addIndex,{using:t9.RawNode.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}class rr{#G;constructor(e){this.#G=e}nullsNotDistinct(){return new rr(tK.cloneWith(this.#G,{nullsNotDistinct:!0}))}deferrable(){return new rr(tK.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new rr(tK.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new rr(tK.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new rr(tK.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}class ri{#G;constructor(e){this.#G=e}deferrable(){return new ri(t3.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new ri(t3.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new ri(t3.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new ri(t3.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}class rn{#G;constructor(e){this.#G=e}$call(e){return e(this)}toOperationNode(){return this.#G}}var ro=w,ra=y;let rs=(0,ro.freeze)({is:e=>"RenameConstraintNode"===e.kind,create:(e,t)=>(0,ro.freeze)({kind:"RenameConstraintNode",oldName:ra.IdentifierNode.create(e),newName:ra.IdentifierNode.create(t)})});class rl{#J;constructor(e){this.#J=(0,ts.freeze)(e)}renameTo(e){return new tJ({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{renameTo:(0,tB.parseTable)(e)})})}setSchema(e){return new tJ({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{setSchema:ti.IdentifierNode.create(e)})})}alterColumn(e,t){let r=t(new tG(e));return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,r.toOperationNode())})}dropColumn(e){return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,tr.create(e))})}renameColumn(e,t){return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,ta.create(e,t))})}addColumn(e,t,r=ts.noop){let i=r(new tE(e7.create(e,(0,tx.parseDataTypeExpression)(t))));return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,e6.create(i.toOperationNode()))})}modifyColumn(e,t,r=ts.noop){let i=r(new tE(e7.create(e,(0,tx.parseDataTypeExpression)(t))));return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,tI.create(i.toOperationNode()))})}addUniqueConstraint(e,t,r=ts.noop){let i=r(new rr(tK.create(t,e)));return new tJ({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addConstraint:tP.create(i.toOperationNode())})})}addCheckConstraint(e,t,r=ts.noop){let i=r(new rn(tc.create(t.toOperationNode(),e)));return new tJ({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addConstraint:tP.create(i.toOperationNode())})})}addForeignKeyConstraint(e,t,r,i,n=ts.noop){let o=n(new tN(tk.create(t.map(tM.ColumnNode.create),(0,tB.parseTable)(r),i.map(tM.ColumnNode.create),e)));return new tY({...this.#J,constraintBuilder:o})}addPrimaryKeyConstraint(e,t,r=ts.noop){let i=r(new ri(t3.create(t,e)));return new tJ({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addConstraint:tP.create(i.toOperationNode())})})}dropConstraint(e){return new t0({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{dropConstraint:tz.create(e)})})}renameConstraint(e,t){return new t0({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{renameConstraint:rs.create(e,t)})})}addIndex(e){return new rt({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{addIndex:t8.create(e)})})}dropIndex(e){return new tJ({...this.#J,node:ez.cloneWithTableProps(this.#J.node,{dropIndex:eY.create(e)})})}$call(e){return e(this)}}class ru{#J;constructor(e){this.#J=(0,ts.freeze)(e)}alterColumn(e,t){let r=t(new tG(e));return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,r.toOperationNode())})}dropColumn(e){return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,tr.create(e))})}renameColumn(e,t){return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,ta.create(e,t))})}addColumn(e,t,r=ts.noop){let i=r(new tE(e7.create(e,(0,tx.parseDataTypeExpression)(t))));return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,e6.create(i.toOperationNode()))})}modifyColumn(e,t,r=ts.noop){let i=r(new tE(e7.create(e,(0,tx.parseDataTypeExpression)(t))));return new ru({...this.#J,node:ez.cloneWithColumnAlteration(this.#J.node,tI.create(i.toOperationNode()))})}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rc=v,rd=tm,rp=e3,rf=w,rh=e.i(154996),rm=e.i(192868),rg=e.i(236300),ry=e.i(193846),rv=ty;class rb extends rg.OperationNodeTransformer{transformPrimitiveValueList(e){return ry.ValueListNode.create(e.values.map(rv.ValueNode.createImmediate))}transformValue(e){return rv.ValueNode.createImmediate(e.value)}}class rA{#J;constructor(e){this.#J=(0,rf.freeze)(e)}ifNotExists(){return new rA({...this.#J,node:eV.cloneWith(this.#J.node,{ifNotExists:!0})})}unique(){return new rA({...this.#J,node:eV.cloneWith(this.#J.node,{unique:!0})})}nullsNotDistinct(){return new rA({...this.#J,node:eV.cloneWith(this.#J.node,{nullsNotDistinct:!0})})}on(e){return new rA({...this.#J,node:eV.cloneWith(this.#J.node,{table:(0,rp.parseTable)(e)})})}column(e){return new rA({...this.#J,node:eV.cloneWithColumns(this.#J.node,[(0,rd.parseOrderedColumnName)(e)])})}columns(e){return new rA({...this.#J,node:eV.cloneWithColumns(this.#J.node,e.map(rd.parseOrderedColumnName))})}expression(e){return new rA({...this.#J,node:eV.cloneWithColumns(this.#J.node,[e.toOperationNode()])})}using(e){return new rA({...this.#J,node:eV.cloneWith(this.#J.node,{using:rc.RawNode.createWithSql(e)})})}where(...e){let t=new rb;return new rA({...this.#J,node:rm.QueryNode.cloneWithWhere(this.#J.node,t.transformNode((0,rh.parseValueBinaryOperationOrExpression)(e),this.#J.queryId))})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rw=w;class r_{#J;constructor(e){this.#J=(0,rw.freeze)(e)}ifNotExists(){return new r_({...this.#J,node:eW.cloneWith(this.#J.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rS=eZ,rE=w,rT=e9,rI=tx,rx=e3,rO=eZ;function rC(e){if(rO.ON_COMMIT_ACTIONS.includes(e))return e;throw Error(`invalid OnCommitAction ${e}`)}var rk=e.i(769918);class rN{#J;constructor(e){this.#J=(0,rE.freeze)(e)}temporary(){return new rN({...this.#J,node:rS.CreateTableNode.cloneWith(this.#J.node,{temporary:!0})})}onCommit(e){return new rN({...this.#J,node:rS.CreateTableNode.cloneWith(this.#J.node,{onCommit:rC(e)})})}ifNotExists(){return new rN({...this.#J,node:rS.CreateTableNode.cloneWith(this.#J.node,{ifNotExists:!0})})}addColumn(e,t,r=rE.noop){let i=r(new tE(e7.create(e,(0,rI.parseDataTypeExpression)(t))));return new rN({...this.#J,node:rS.CreateTableNode.cloneWithColumn(this.#J.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,t,r=rE.noop){let i=r(new ri(t3.create(t,e)));return new rN({...this.#J,node:rS.CreateTableNode.cloneWithConstraint(this.#J.node,i.toOperationNode())})}addUniqueConstraint(e,t,r=rE.noop){let i=r(new rr(tK.create(t,e)));return new rN({...this.#J,node:rS.CreateTableNode.cloneWithConstraint(this.#J.node,i.toOperationNode())})}addCheckConstraint(e,t,r=rE.noop){let i=r(new rn(tc.create(t.toOperationNode(),e)));return new rN({...this.#J,node:rS.CreateTableNode.cloneWithConstraint(this.#J.node,i.toOperationNode())})}addForeignKeyConstraint(e,t,r,i,n=rE.noop){let o=n(new tN(tk.create(t.map(rT.ColumnNode.create),(0,rx.parseTable)(r),i.map(rT.ColumnNode.create),e)));return new rN({...this.#J,node:rS.CreateTableNode.cloneWithConstraint(this.#J.node,o.toOperationNode())})}modifyFront(e){return new rN({...this.#J,node:rS.CreateTableNode.cloneWithFrontModifier(this.#J.node,e.toOperationNode())})}modifyEnd(e){return new rN({...this.#J,node:rS.CreateTableNode.cloneWithEndModifier(this.#J.node,e.toOperationNode())})}as(e){return new rN({...this.#J,node:rS.CreateTableNode.cloneWith(this.#J.node,{selectQuery:(0,rk.parseExpression)(e)})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rR=e3,rP=w;class rD{#J;constructor(e){this.#J=(0,rP.freeze)(e)}on(e){return new rD({...this.#J,node:eY.cloneWith(this.#J.node,{table:(0,rR.parseTable)(e)})})}ifExists(){return new rD({...this.#J,node:eY.cloneWith(this.#J.node,{ifExists:!0})})}cascade(){return new rD({...this.#J,node:eY.cloneWith(this.#J.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rU=w;class rL{#J;constructor(e){this.#J=(0,rU.freeze)(e)}ifExists(){return new rL({...this.#J,node:e1.cloneWith(this.#J.node,{ifExists:!0})})}cascade(){return new rL({...this.#J,node:e1.cloneWith(this.#J.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rK=w;class rM{#J;constructor(e){this.#J=(0,rK.freeze)(e)}ifExists(){return new rM({...this.#J,node:e4.cloneWith(this.#J.node,{ifExists:!0})})}cascade(){return new rM({...this.#J,node:e4.cloneWith(this.#J.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rB=_,rj=e.i(899948),r$=w,rz=e.i(78655),rF=tm;class rq{#Q=new rb;transformQuery(e){return this.#Q.transformNode(e.node,e.queryId)}transformResult(e){return Promise.resolve(e.result)}}class rV{#J;constructor(e){this.#J=(0,r$.freeze)(e)}temporary(){return new rV({...this.#J,node:rz.CreateViewNode.cloneWith(this.#J.node,{temporary:!0})})}materialized(){return new rV({...this.#J,node:rz.CreateViewNode.cloneWith(this.#J.node,{materialized:!0})})}ifNotExists(){return new rV({...this.#J,node:rz.CreateViewNode.cloneWith(this.#J.node,{ifNotExists:!0})})}orReplace(){return new rV({...this.#J,node:rz.CreateViewNode.cloneWith(this.#J.node,{orReplace:!0})})}columns(e){return new rV({...this.#J,node:rz.CreateViewNode.cloneWith(this.#J.node,{columns:e.map(rF.parseColumnName)})})}as(e){let t=e.withPlugin(new rq).toOperationNode();return new rV({...this.#J,node:rz.CreateViewNode.cloneWith(this.#J.node,{as:t})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rH=rz,rG=w,rW=w,rZ=eQ;let rJ=(0,rW.freeze)({is:e=>"DropViewNode"===e.kind,create:e=>(0,rW.freeze)({kind:"DropViewNode",name:rZ.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,rW.freeze)({...e,...t})});class rQ{#J;constructor(e){this.#J=(0,rG.freeze)(e)}materialized(){return new rQ({...this.#J,node:rJ.cloneWith(this.#J.node,{materialized:!0})})}ifExists(){return new rQ({...this.#J,node:rJ.cloneWith(this.#J.node,{ifExists:!0})})}cascade(){return new rQ({...this.#J,node:rJ.cloneWith(this.#J.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var rY=w,rX=w,r0=ry,r1=ty;let r2=(0,rX.freeze)({is:e=>"CreateTypeNode"===e.kind,create:e=>(0,rX.freeze)({kind:"CreateTypeNode",name:e}),cloneWithEnum:(e,t)=>(0,rX.freeze)({...e,enum:r0.ValueListNode.create(t.map(r1.ValueNode.createImmediate))})});class r4{#J;constructor(e){this.#J=(0,rY.freeze)(e)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}asEnum(e){return new r4({...this.#J,node:r2.cloneWithEnum(this.#J.node,e)})}$call(e){return e(this)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var r3=w;let r5=(0,r3.freeze)({is:e=>"DropTypeNode"===e.kind,create:e=>(0,r3.freeze)({kind:"DropTypeNode",name:e}),cloneWith:(e,t)=>(0,r3.freeze)({...e,...t})});var r6=w;class r8{#J;constructor(e){this.#J=(0,r6.freeze)(e)}ifExists(){return new r8({...this.#J,node:r5.cloneWith(this.#J.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}var r9=eQ;function r7(e){let t=".";if(!e.includes(t))return r9.SchemableIdentifierNode.create(e);{let r=e.split(t).map(ie);if(2===r.length)return r9.SchemableIdentifierNode.createWithSchema(r[0],r[1]);throw Error(`invalid schemable identifier ${e}`)}}function ie(e){return e.trim()}var it=w,ir=w,ii=eQ;let io=(0,ir.freeze)({is:e=>"RefreshMaterializedViewNode"===e.kind,create:e=>(0,ir.freeze)({kind:"RefreshMaterializedViewNode",name:ii.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,ir.freeze)({...e,...t})});class ia{#J;constructor(e){this.#J=(0,it.freeze)(e)}concurrently(){return new ia({...this.#J,node:io.cloneWith(this.#J.node,{concurrently:!0,withNoData:!1})})}withData(){return new ia({...this.#J,node:io.cloneWith(this.#J.node,{withNoData:!1})})}withNoData(){return new ia({...this.#J,node:io.cloneWith(this.#J.node,{withNoData:!0,concurrently:!1})})}$call(e){return e(this)}toOperationNode(){return this.#J.executor.transformQuery(this.#J.node,this.#J.queryId)}compile(){return this.#J.executor.compileQuery(this.toOperationNode(),this.#J.queryId)}async execute(){await this.#J.executor.executeQuery(this.compile())}}class is{#Y;constructor(e){this.#Y=e}createTable(e){return new rN({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:eZ.CreateTableNode.create((0,e3.parseTable)(e))})}dropTable(e){return new rM({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:e4.create((0,e3.parseTable)(e))})}createIndex(e){return new rA({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:eV.create(e)})}dropIndex(e){return new rD({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:eY.create(e)})}createSchema(e){return new r_({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:eW.create(e)})}dropSchema(e){return new rL({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:e1.create(e)})}alterTable(e){return new rl({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:ez.create((0,e3.parseTable)(e))})}createView(e){return new rV({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:rH.CreateViewNode.create(e)})}refreshMaterializedView(e){return new ia({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:io.create(e)})}dropView(e){return new rQ({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:rJ.create(e)})}createType(e){return new r4({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:r2.create(r7(e))})}dropType(e){return new r8({queryId:(0,rB.createQueryId)(),executor:this.#Y,node:r5.create(r7(e))})}withPlugin(e){return new is(this.#Y.withPlugin(e))}withoutPlugins(){return new is(this.#Y.withoutPlugins())}withSchema(e){return new is(this.#Y.withPluginAtFront(new rj.WithSchemaPlugin(e)))}}var il=e.i(870445),iu=e.i(326015);class ic{ref(e){return new il.DynamicReferenceBuilder(e)}table(e){return new iu.DynamicTableBuilder(e)}}class id{#X;constructor(e){this.#X=e}async provideConnection(e){let t=await this.#X.acquireConnection();try{return await e(t)}finally{await this.#X.releaseConnection(t)}}}var ip=e.i(78800),ih=e.i(752564);class im extends ih.QueryExecutorBase{#ee;#et;#er;constructor(e,t,r,i=[]){super(i),this.#ee=e,this.#et=t,this.#er=r}get adapter(){return this.#et}compileQuery(e,t){return this.#ee.compileQuery(e,t)}provideConnection(e){return this.#er.provideConnection(e)}withPlugins(e){return new im(this.#ee,this.#et,this.#er,[...this.plugins,...e])}withPlugin(e){return new im(this.#ee,this.#et,this.#er,[...this.plugins,e])}withPluginAtFront(e){return new im(this.#ee,this.#et,this.#er,[e,...this.plugins])}withConnectionProvider(e){return new im(this.#ee,this.#et,e,[...this.plugins])}withoutPlugins(){return new im(this.#ee,this.#et,this.#er,[])}}var ig=w,iy=w;function iv(){return"undefined"!=typeof performance&&(0,iy.isFunction)(performance.now)?performance.now():Date.now()}class ib{#X;#ei;#en;#eo;#ea;#I=new WeakSet;constructor(e,t){this.#eo=!1,this.#X=e,this.#ei=t}async init(){if(this.#ea)throw Error("driver has already been destroyed");this.#en||(this.#en=this.#X.init().then(()=>{this.#eo=!0}).catch(e=>(this.#en=void 0,Promise.reject(e)))),await this.#en}async acquireConnection(){if(this.#ea)throw Error("driver has already been destroyed");this.#eo||await this.init();let e=await this.#X.acquireConnection();return this.#I.has(e)||(this.#es()&&this.#el(e),this.#I.add(e)),e}async releaseConnection(e){await this.#X.releaseConnection(e)}beginTransaction(e,t){return this.#X.beginTransaction(e,t)}commitTransaction(e){return this.#X.commitTransaction(e)}rollbackTransaction(e){return this.#X.rollbackTransaction(e)}savepoint(e,t,r){if(this.#X.savepoint)return this.#X.savepoint(e,t,r);throw Error("The `savepoint` method is not supported by this driver")}rollbackToSavepoint(e,t,r){if(this.#X.rollbackToSavepoint)return this.#X.rollbackToSavepoint(e,t,r);throw Error("The `rollbackToSavepoint` method is not supported by this driver")}releaseSavepoint(e,t,r){if(this.#X.releaseSavepoint)return this.#X.releaseSavepoint(e,t,r);throw Error("The `releaseSavepoint` method is not supported by this driver")}async destroy(){this.#en&&(await this.#en,this.#ea||(this.#ea=this.#X.destroy().catch(e=>(this.#ea=void 0,Promise.reject(e)))),await this.#ea)}#es(){return this.#ei.isLevelEnabled("query")||this.#ei.isLevelEnabled("error")}#el(e){let t=e.executeQuery,r=e.streamQuery,i=this;e.executeQuery=async r=>{let n,o=iv();try{return await t.call(e,r)}catch(e){throw n=e,await i.#eu(e,r,o),e}finally{n||await i.#ec(r,o)}},e.streamQuery=async function*(t,n){let o,a=iv();try{for await(let i of r.call(e,t,n))yield i}catch(e){throw o=e,await i.#eu(e,t,a),e}finally{o||await i.#ec(t,a,!0)}}}async #eu(e,t,r){await this.#ei.error(()=>({level:"error",error:e,query:t,queryDurationMillis:this.#ed(r)}))}async #ec(e,t,r=!1){await this.#ei.query(()=>({level:"query",isStream:r,query:e,queryDurationMillis:this.#ed(t)}))}#ed(e){return iv()-e}}let iA=()=>{};class iw{#w;#ep;constructor(e){this.#w=e}async provideConnection(e){for(;this.#ep;)await this.#ep.catch(iA);return this.#ep=this.#ef(e).finally(()=>{this.#ep=void 0}),this.#ep}async #ef(e){return await e(this.#w)}}let i_=["read only","read write"],iS=["read uncommitted","read committed","repeatable read","serializable","snapshot"];function iE(e){if(e.accessMode&&!i_.includes(e.accessMode))throw Error(`invalid transaction access mode ${e.accessMode}`);if(e.isolationLevel&&!iS.includes(e.isolationLevel))throw Error(`invalid transaction isolation level ${e.isolationLevel}`)}var iT=e.i(925176),iI=w;(0,iI.freeze)(["query","error"]);class ix{#eh;#em;constructor(e){(0,iI.isFunction)(e)?(this.#em=e,this.#eh=(0,iI.freeze)({query:!0,error:!0})):(this.#em=iO,this.#eh=(0,iI.freeze)({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#eh[e]}async query(e){this.#eh.query&&await this.#em(e())}async error(e){this.#eh.error&&await this.#em(e())}}function iO(e){if("query"===e.level){let t=`kysely:query:${e.isStream?"stream:":""}`;console.log(`${t} ${e.query.sql}`),console.log(`${t} duration: ${e.queryDurationMillis.toFixed(1)}ms`)}else"error"===e.level&&(e.error instanceof Error?console.error(`kysely:error: ${e.error.stack??e.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:e.error,query:e.query.sql,queryDurationMillis:e.queryDurationMillis})}`))}var iC=_,ik=w;function iN(e){return(0,ik.isObject)(e)&&(0,ik.isFunction)(e.compile)}var iR=e.i(591658),iP=e.i(902757),iD=rk,iU=rj,iL=e.i(646599),iK=e.i(168599);Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class iM extends ip.QueryCreator{#J;constructor(e){let t,r;if(ij(e))t={executor:e.executor},r={...e};else{const i=e.dialect,n=i.createDriver(),o=i.createQueryCompiler(),a=i.createAdapter(),s=new ib(n,new ix(e.log??[])),l=new im(o,a,new id(s),e.plugins??[]);t={executor:l},r={config:e,executor:l,dialect:i,driver:s}}super(t),this.#J=(0,ig.freeze)(r)}get schema(){return new is(this.#J.executor)}get dynamic(){return new ic}get introspection(){return this.#J.dialect.createIntrospector(this.withoutPlugins())}case(e){return new iR.CaseBuilder({node:iP.CaseNode.create((0,ig.isUndefined)(e)?void 0:(0,iD.parseExpression)(e))})}get fn(){return(0,iT.createFunctionModule)()}transaction(){return new iz({...this.#J})}startTransaction(){return new iF({...this.#J})}connection(){return new i$({...this.#J})}withPlugin(e){return new iM({...this.#J,executor:this.#J.executor.withPlugin(e)})}withoutPlugins(){return new iM({...this.#J,executor:this.#J.executor.withoutPlugins()})}withSchema(e){return new iM({...this.#J,executor:this.#J.executor.withPluginAtFront(new iU.WithSchemaPlugin(e))})}withTables(){return new iM({...this.#J})}async destroy(){await this.#J.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#J.executor}executeQuery(e,t){void 0!==t&&(0,iK.logOnce)("Passing `queryId` in `db.executeQuery` is deprecated and will result in a compile-time error in the future.");let r=iN(e)?e.compile():e;return this.getExecutor().executeQuery(r)}async [Symbol.asyncDispose](){await this.destroy()}}class iB extends iM{#J;constructor(e){super(e),this.#J=e}get isTransaction(){return!0}transaction(){throw Error("calling the transaction method for a Transaction is not supported")}connection(){throw Error("calling the connection method for a Transaction is not supported")}async destroy(){throw Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new iB({...this.#J,executor:this.#J.executor.withPlugin(e)})}withoutPlugins(){return new iB({...this.#J,executor:this.#J.executor.withoutPlugins()})}withSchema(e){return new iB({...this.#J,executor:this.#J.executor.withPluginAtFront(new iU.WithSchemaPlugin(e))})}withTables(){return new iB({...this.#J})}}function ij(e){return(0,ig.isObject)(e)&&(0,ig.isObject)(e.config)&&(0,ig.isObject)(e.driver)&&(0,ig.isObject)(e.executor)&&(0,ig.isObject)(e.dialect)}class i${#J;constructor(e){this.#J=(0,ig.freeze)(e)}async execute(e){return this.#J.executor.provideConnection(async t=>{let r=this.#J.executor.withConnectionProvider(new iw(t)),i=new iM({...this.#J,executor:r});return await e(i)})}}class iz{#J;constructor(e){this.#J=(0,ig.freeze)(e)}setAccessMode(e){return new iz({...this.#J,accessMode:e})}setIsolationLevel(e){return new iz({...this.#J,isolationLevel:e})}async execute(e){let{isolationLevel:t,accessMode:r,...i}=this.#J,n={isolationLevel:t,accessMode:r};return iE(n),this.#J.executor.provideConnection(async t=>{let r=this.#J.executor.withConnectionProvider(new iw(t)),o=new iB({...i,executor:r}),a=!1;try{await this.#J.driver.beginTransaction(t,n),a=!0;let r=await e(o);return await this.#J.driver.commitTransaction(t),r}catch(e){throw a&&await this.#J.driver.rollbackTransaction(t),e}})}}class iF{#J;constructor(e){this.#J=(0,ig.freeze)(e)}setAccessMode(e){return new iF({...this.#J,accessMode:e})}setIsolationLevel(e){return new iF({...this.#J,isolationLevel:e})}async execute(){let{isolationLevel:e,accessMode:t,...r}=this.#J,i={isolationLevel:e,accessMode:t};iE(i);let n=await (0,iL.provideControlledConnection)(this.#J.executor);return await this.#J.driver.beginTransaction(n.connection,i),new iq({...r,connection:n,executor:this.#J.executor.withConnectionProvider(new iw(n.connection))})}}class iq extends iB{#J;#eg;#ey;constructor(e){const t={isCommitted:!1,isRolledBack:!1},{connection:r,...i}=e={...e,executor:new iG(e.executor,t)};super(i),this.#J=(0,ig.freeze)(e),this.#ey=t;const n=(0,iC.createQueryId)();this.#eg=t=>e.executor.compileQuery(t,n)}get isCommitted(){return this.#ey.isCommitted}get isRolledBack(){return this.#ey.isRolledBack}commit(){return iH(this.#ey),new iV(async()=>{await this.#J.driver.commitTransaction(this.#J.connection.connection),this.#ey.isCommitted=!0,this.#J.connection.release()})}rollback(){return iH(this.#ey),new iV(async()=>{await this.#J.driver.rollbackTransaction(this.#J.connection.connection),this.#ey.isRolledBack=!0,this.#J.connection.release()})}savepoint(e){return iH(this.#ey),new iV(async()=>(await this.#J.driver.savepoint?.(this.#J.connection.connection,e,this.#eg),new iq({...this.#J})))}rollbackToSavepoint(e){return iH(this.#ey),new iV(async()=>(await this.#J.driver.rollbackToSavepoint?.(this.#J.connection.connection,e,this.#eg),new iq({...this.#J})))}releaseSavepoint(e){return iH(this.#ey),new iV(async()=>(await this.#J.driver.releaseSavepoint?.(this.#J.connection.connection,e,this.#eg),new iq({...this.#J})))}withPlugin(e){return new iq({...this.#J,executor:this.#J.executor.withPlugin(e)})}withoutPlugins(){return new iq({...this.#J,executor:this.#J.executor.withoutPlugins()})}withSchema(e){return new iq({...this.#J,executor:this.#J.executor.withPluginAtFront(new iU.WithSchemaPlugin(e))})}withTables(){return new iq({...this.#J})}}class iV{#ev;constructor(e){this.#ev=e}async execute(){return await this.#ev()}}function iH(e){if(e.isCommitted)throw Error("Transaction is already committed");if(e.isRolledBack)throw Error("Transaction is already rolled back")}class iG{#Y;#ey;constructor(e,t){e instanceof iG?this.#Y=e.#Y:this.#Y=e,this.#ey=t}get adapter(){return this.#Y.adapter}get plugins(){return this.#Y.plugins}transformQuery(e,t){return this.#Y.transformQuery(e,t)}compileQuery(e,t){return this.#Y.compileQuery(e,t)}provideConnection(e){return this.#Y.provideConnection(e)}executeQuery(e){return iH(this.#ey),this.#Y.executeQuery(e)}stream(e,t){return iH(this.#ey),this.#Y.stream(e,t)}withConnectionProvider(e){return new iG(this.#Y.withConnectionProvider(e),this.#ey)}withPlugin(e){return new iG(this.#Y.withPlugin(e),this.#ey)}withPlugins(e){return new iG(this.#Y.withPlugins(e),this.#ey)}withPluginAtFront(e){return new iG(this.#Y.withPluginAtFront(e),this.#ey)}withoutPlugins(){return new iG(this.#Y.withoutPlugins(),this.#ey)}}var iW=e.i(169066);function iZ(e){if(!e)return null;if("dialect"in e)return iZ(e.dialect);if("createDriver"in e){if(e instanceof U)return"sqlite";if(e instanceof ei)return"mysql";if(e instanceof eA)return"postgres";if(e instanceof ej)return"mssql"}return"aggregate"in e?"sqlite":"getConnection"in e?"mysql":"connect"in e?"postgres":"fileControl"in e||"open"in e&&"close"in e&&"prepare"in e?"sqlite":null}let iJ=async t=>{let r,i=t.database;if(!i)return{kysely:null,databaseType:null,transaction:void 0};if("db"in i)return{kysely:i.db,databaseType:i.type,transaction:i.transaction};if("dialect"in i)return{kysely:new iM({dialect:i.dialect}),databaseType:i.type,transaction:i.transaction};let n=iZ(i);if("createDriver"in i&&(r=i),"aggregate"in i&&!("createSession"in i)&&(r=new U({database:i})),"getConnection"in i&&(r=new ei(i)),"connect"in i&&(r=new eA({pool:i})),"fileControl"in i){let{BunSqliteDialect:t}=await e.A(308812);r=new t({database:i})}if("createSession"in i){let t;try{let e="node:sqlite";({DatabaseSync:t}=await import(e))}catch(e){if(null!==e&&"object"==typeof e&&"code"in e&&"ERR_UNKNOWN_BUILTIN_MODULE"!==e.code)throw e}if(t&&i instanceof t){let{NodeSqliteDialect:t}=await e.A(922180);r=new t({database:i})}}return{kysely:r?new iM({dialect:r}):null,databaseType:n,transaction:void 0}},iQ=(e,t)=>{let r=null,i=e=>({getFieldName:r,schema:i,getDefaultModelName:n})=>{let o=async(i,n,o,a)=>{if(t?.type==="mysql"){await n.execute();let t=i.id?"id":a.length>0&&a[0]?.field?a[0].field:"id";if(!i.id&&0===a.length)return await e.selectFrom(o).selectAll().orderBy(r({model:o,field:t}),"desc").limit(1).executeTakeFirst();let s=i[t]||a[0]?.value;return await e.selectFrom(o).selectAll().orderBy(r({model:o,field:t}),"desc").where(r({model:o,field:t}),"=",s).limit(1).executeTakeFirst()}return t?.type==="mssql"?await n.outputAll("inserted").executeTakeFirst():await n.returningAll().executeTakeFirst()};function a(e,r,n){if("id"===n)return e;let{type:o="sqlite"}=t||{},a=i[r]?.fields[n];return(a||(a=Object.values(i).find(e=>e.modelName===r)),"boolean"===a.type&&("sqlite"===o||"mssql"===o)&&null!=e)?+!!e:"date"===a.type&&e&&e instanceof Date&&"sqlite"===o?e.toISOString():e}function s(e){function r(e){for(let i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;let n=e[i];n instanceof Date&&t?.type==="mysql"||"object"==typeof n&&null!==n&&r(n)}}if(Array.isArray(e))for(let t=0;t<e.length;t++){let i=e[t];"object"==typeof i&&null!==i&&r(i)}else"object"==typeof e&&null!==e&&r(e);return e}function l(e,t){if(!t)return{and:null,or:null};let i=[],n=[];return t.forEach(t=>{let{field:o,value:s,operator:l="=",connector:u="AND"}=t,c=r({model:e,field:o});s=a(s,e,o);let d=e=>"in"===l.toLowerCase()?e(c,"in",Array.isArray(s)?s:[s]):"not_in"===l.toLowerCase()?e(c,"not in",Array.isArray(s)?s:[s]):"contains"===l?e(c,"like",`%${s}%`):"starts_with"===l?e(c,"like",`${s}%`):"ends_with"===l?e(c,"like",`%${s}`):e(c,"eq"===l?"=":"ne"===l?"<>":"gt"===l?">":"gte"===l?">=":"lt"===l?"<":"lte"===l?"<=":l,s);"OR"===u?n.push(d):i.push(d)}),{and:i.length?i:null,or:n.length?n:null}}return{async create({data:t,model:r}){let i=e.insertInto(r).values(t);return s(await o(t,i,r,[]))},async findOne({model:t,where:r,select:i}){let{and:n,or:o}=l(t,r),a=e.selectFrom(t).selectAll();n&&(a=a.where(e=>e.and(n.map(t=>t(e))))),o&&(a=a.where(e=>e.or(o.map(t=>t(e)))));let u=await a.executeTakeFirst();return u?s(u):null},async findMany({model:i,where:n,limit:o,offset:a,sortBy:u}){let{and:c,or:d}=l(i,n),p=e.selectFrom(i);c&&(p=p.where(e=>e.and(c.map(t=>t(e))))),d&&(p=p.where(e=>e.or(d.map(t=>t(e))))),t?.type==="mssql"?a||(p=p.top(o||100)):p=p.limit(o||100),u&&(p=p.orderBy(r({model:i,field:u.field}),u.direction)),a&&(t?.type==="mssql"?(u||(p=p.orderBy(r({model:i,field:"id"}))),p=p.offset(a).fetch(o||100)):p=p.offset(a));let f=await p.selectAll().execute();return f?s(f):[]},async update({model:t,where:r,update:i}){let{and:n,or:a}=l(t,r),u=e.updateTable(t).set(i);return n&&(u=u.where(e=>e.and(n.map(t=>t(e))))),a&&(u=u.where(e=>e.or(a.map(t=>t(e))))),s(await o(i,u,t,r))},async updateMany({model:t,where:r,update:i}){let{and:n,or:o}=l(t,r),a=e.updateTable(t).set(i);return n&&(a=a.where(e=>e.and(n.map(t=>t(e))))),o&&(a=a.where(e=>e.or(o.map(t=>t(e))))),(await a.execute()).length},async count({model:t,where:r}){let{and:i,or:n}=l(t,r),o=e.selectFrom(t).select(e.fn.count("id").as("count"));i&&(o=o.where(e=>e.and(i.map(t=>t(e))))),n&&(o=o.where(e=>e.or(n.map(t=>t(e)))));let a=await o.execute();return"number"==typeof a[0].count?a[0].count:"bigint"==typeof a[0].count?Number(a[0].count):parseInt(a[0].count)},async delete({model:t,where:r}){let{and:i,or:n}=l(t,r),o=e.deleteFrom(t);i&&(o=o.where(e=>e.and(i.map(t=>t(e))))),n&&(o=o.where(e=>e.or(n.map(t=>t(e))))),await o.execute()},async deleteMany({model:t,where:r}){let{and:i,or:n}=l(t,r),o=e.deleteFrom(t);return i&&(o=o.where(e=>e.and(i.map(t=>t(e))))),n&&(o=o.where(e=>e.or(n.map(t=>t(e))))),(await o.execute()).length},options:t}},n=null;n={config:{adapterId:"kysely",adapterName:"Kysely Adapter",usePlural:t?.usePlural,debugLogs:t?.debugLogs,supportsBooleans:t?.type!=="sqlite"&&t?.type!=="mssql"&&t?.type!=="mysql"&&!!t?.type,supportsDates:t?.type!=="sqlite"&&t?.type!=="mssql"&&!!t?.type,supportsJSON:!1,transaction:!!t?.transaction&&(t=>e.transaction().execute(e=>t((0,iW.c)({config:n.config,adapter:i(e)})(r))))},adapter:i(e)};let o=(0,iW.c)(n);return e=>(r=e,o(e))};e.s(["c",()=>iJ,"g",()=>iZ,"k",()=>iQ],334773);var iY=p,iX=iW;let i0=(e,t)=>{let r=null,i=(0,iX.c)({config:{adapterId:"memory",adapterName:"Memory Adapter",usePlural:!1,debugLogs:t?.debugLogs||!1,customTransformInput:t=>t.options.advanced?.database?.useNumberId&&"id"===t.field&&"create"===t.action?e[t.model].length+1:t.data,transaction:async t=>{let n=structuredClone(e);try{return await t(i(r))}catch(t){throw Object.keys(e).forEach(t=>{e[t]=n[t]}),t}}},adapter:({getFieldName:t,options:r,debugLog:i})=>{function n(t,r){let i=e[r];if(!i)throw iY.a.error(`[MemoryAdapter] Model ${r} not found in the DB`,Object.keys(e)),Error(`Model ${r} not found`);let n=(e,t)=>{let{field:r,value:i,operator:n}=t;switch(n){case"in":if(!Array.isArray(i))throw Error("Value must be an array");return i.includes(e[r]);case"not_in":if(!Array.isArray(i))throw Error("Value must be an array");return!i.includes(e[r]);case"contains":return e[r].includes(i);case"starts_with":return e[r].startsWith(i);case"ends_with":return e[r].endsWith(i);case"ne":return e[r]!==i;case"gt":return null!=i&&e[r]>i;case"gte":return null!=i&&e[r]>=i;case"lt":return null!=i&&e[r]<i;case"lte":return null!=i&&e[r]<=i;default:return e[r]===i}};return i.filter(e=>{if(!t.length||0===t.length)return!0;let r=n(e,t[0]);for(let i of t){let t=n(e,i);r="OR"===i.connector?r||t:r&&t}return r})}return{create:async({model:t,data:i})=>(r.advanced?.database?.useNumberId&&(i.id=e[t].length+1),e[t]||(e[t]=[]),e[t].push(i),i),findOne:async({model:e,where:t})=>n(t,e)[0]||null,findMany:async({model:r,where:i,sortBy:o,limit:a,offset:s})=>{let l=e[r];return i&&(l=n(i,r)),o&&(l=l.sort((e,i)=>{let n=t({model:r,field:o.field}),a=e[n],s=i[n],l=0;return l=null==a&&null==s?0:null==a?-1:null==s?1:"string"==typeof a&&"string"==typeof s?a.localeCompare(s):a instanceof Date&&s instanceof Date?a.getTime()-s.getTime():"number"==typeof a&&"number"==typeof s?a-s:"boolean"==typeof a&&"boolean"==typeof s?a===s?0:a?1:-1:String(a).localeCompare(String(s)),"asc"===o.direction?l:-l})),void 0!==s&&(l=l.slice(s)),void 0!==a&&(l=l.slice(0,a)),l||[]},count:async({model:t,where:r})=>r?n(r,t).length:e[t].length,update:async({model:e,where:t,update:r})=>{let i=n(t,e);return i.forEach(e=>{Object.assign(e,r)}),i[0]||null},delete:async({model:t,where:r})=>{let i=e[t],o=n(r,t);e[t]=i.filter(e=>!o.includes(e))},deleteMany:async({model:t,where:r})=>{let i=e[t],o=n(r,t),a=0;return e[t]=i.filter(e=>o.includes(e)?(a++,!1):!o.includes(e)),a},updateMany({model:e,where:t,update:r}){let i=n(t,e);return i.forEach(e=>{Object.assign(e,r)}),i[0]||null}}}});return e=>(r=e,i(e))};e.s(["m",()=>i0],767356);var i1=k;function i2(e,t){let r=t.hooks;return{createWithHooks:async function(t,i,n,o,a){let s=t;for(let e of r||[]){let t=e[i]?.create?.before;if(t){let e=await t(s,o);if(!1===e)return null;"object"==typeof e&&"data"in e&&(s={...s,...e.data})}}let l=n?await n.fn(s):null,u=!n||n.executeMainFn?await (a||e).create({model:i,data:s,forceAllowId:!0}):l;for(let e of r||[]){let t=e[i]?.create?.after;t&&await t(u,o)}return u},updateWithHooks:async function(t,i,n,o,a,s){let l=t;for(let e of r||[]){let r=e[n]?.update?.before;if(r){let e=await r(t,a);if(!1===e)return null;l="object"==typeof e?e.data:e}}let u=o?await o.fn(l):null,c=!o||o.executeMainFn?await (s||e).update({model:n,update:l,where:i}):u;for(let e of r||[]){let t=e[n]?.update?.after;t&&await t(c,a)}return c},updateManyWithHooks:async function(t,i,n,o,a,s){let l=t;for(let e of r||[]){let r=e[n]?.update?.before;if(r){let e=await r(t,a);if(!1===e)return null;l="object"==typeof e?e.data:e}}let u=o?await o.fn(l):null,c=!o||o.executeMainFn?await (s||e).updateMany({model:n,update:l,where:i}):u;for(let e of r||[]){let t=e[n]?.update?.after;t&&await t(c,a)}return c}}}let i4=(e,t)=>{let r=t.logger,i=t.options,n=i.secondaryStorage,o=i.session?.expiresIn||604800,{createWithHooks:a,updateWithHooks:p,updateManyWithHooks:f}=i2(e,t);async function h(e){if(!n)return;let t=await n.get(`active-sessions-${e.id}`);if(!t)return;let r=Date.now(),i=((0,c.s)(t)||[]).filter(e=>e.expiresAt>r);await Promise.all(i.map(async({token:t})=>{let i=await n.get(t);if(!i)return;let o=(0,c.s)(i);if(!o)return;let a=Math.max(Math.floor(new Date(o.session.expiresAt).getTime()-r)/1e3,0);await n.set(t,JSON.stringify({session:o.session,user:e}),Math.floor(a))}))}return{createOAuthUser:async(t,r,i)=>e.transaction(async e=>{let n=await a({createdAt:new Date,updatedAt:new Date,...t},"user",void 0,i,e),o=await a({...r,userId:n.id,createdAt:new Date,updatedAt:new Date},"account",void 0,i,e);return{user:n,account:o}}),createUser:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e,email:e.email?.toLowerCase()},"user",void 0,t,r),createAccount:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),listSessions:async(r,i)=>{if(n){let e=await n.get(`active-sessions-${r}`);if(!e)return[];let i=(0,c.s)(e)||[],o=Date.now(),a=i.filter(e=>e.expiresAt>o),s=[];for(let e of a){let r=await n.get(e.token);if(r){let e=(0,c.s)(r);if(!e)return[];let i=(0,l.b)(t.options,{...e.session,expiresAt:new Date(e.session.expiresAt)});s.push(i)}}return s}return await (i||e).findMany({model:"session",where:[{field:"userId",value:r}]})},listUsers:async(t,r,i,n,o)=>await (o||e).findMany({model:"user",limit:t,offset:r,sortBy:i,where:n}),countTotalUsers:async(t,r)=>{let i=await (r||e).count({model:"user",where:t});return"string"==typeof i?parseInt(i):i},deleteUser:async(t,r)=>{n&&await n.delete(`active-sessions-${t}`),(!n||i.session?.storeSessionInDatabase)&&await (r||e).deleteMany({model:"session",where:[{field:"userId",value:t}]}),await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]}),await (r||e).delete({model:"user",where:[{field:"id",value:t}]})},createSession:async(t,r,l,p,f,h)=>{let m=r.headers||r.request?.headers,{id:g,...y}=p||{},v={ipAddress:(r.request||r.headers)&&(0,u.g)(r.request||r.headers,r.context.options)||"",userAgent:m?.get("user-agent")||"",...y,expiresAt:l?(0,s.g)(86400,"sec"):(0,s.g)(o,"sec"),userId:t,token:(0,d.g)(32),createdAt:new Date,updatedAt:new Date,...f?y:{}};return await a(v,"session",n?{fn:async r=>{let i=await n.get(`active-sessions-${t}`),o=[],a=Date.now();i&&(o=(o=(0,c.s)(i)||[]).filter(e=>e.expiresAt>a));let s=o.sort((e,t)=>e.expiresAt-t.expiresAt),l=s.at(-1)?.expiresAt;s.push({token:v.token,expiresAt:v.expiresAt.getTime()}),(!l||l<v.expiresAt.getTime())&&(l=v.expiresAt.getTime());let u=Math.max(Math.floor((l-a)/1e3),0);u>0&&await n.set(`active-sessions-${t}`,JSON.stringify(s),u);let d=await e.findOne({model:"user",where:[{field:"id",value:t}]}),p=Math.max(Math.floor((v.expiresAt.getTime()-a)/1e3),0);return p>0&&await n.set(v.token,JSON.stringify({session:r,user:d}),p),r},executeMainFn:i.session?.storeSessionInDatabase}:void 0,r,h)},findSession:async(r,o)=>{if(n){let e=await n.get(r);if(!e&&!i.session?.storeSessionInDatabase)return null;if(e){let r=(0,c.s)(e);return r?{session:(0,l.b)(t.options,{...r.session,expiresAt:new Date(r.session.expiresAt),createdAt:new Date(r.session.createdAt),updatedAt:new Date(r.session.updatedAt)}),user:(0,l.p)(t.options,{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)})}:null}}let a=await (o||e).findOne({model:"session",where:[{value:r,field:"token"}]});if(!a)return null;let s=await (o||e).findOne({model:"user",where:[{value:a.userId,field:"id"}]});return s?{session:(0,l.b)(t.options,a),user:(0,l.p)(t.options,s)}:null},findSessions:async(t,r)=>{if(n){let e=[];for(let r of t){let t=await n.get(r);if(t){let r=(0,c.s)(t);if(!r)return[];let i={session:{...r.session,expiresAt:new Date(r.session.expiresAt)},user:{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)}};e.push(i)}}return e}let i=await (r||e).findMany({model:"session",where:[{field:"token",value:t,operator:"in"}]}),o=i.map(e=>e.userId);if(!o.length)return[];let a=await (r||e).findMany({model:"user",where:[{field:"id",value:o,operator:"in"}]});return i.map(e=>{let t=a.find(t=>t.id===e.userId);return t?{session:e,user:t}:null})},updateSession:async(e,t,r,o)=>await p(t,[{field:"token",value:e}],"session",n?{async fn(t){let r=await n.get(e),i=null;if(!r)return null;{let e=(0,c.s)(r);return e?i={...e.session,...t}:null}},executeMainFn:i.session?.storeSessionInDatabase}:void 0,r,o),deleteSession:async(o,a)=>{if(n){let e=await n.get(o);if(e){let{session:t}=(0,c.s)(e)??{};if(!t)return void r.error("Session not found in secondary storage");let i=t.userId,a=await n.get(`active-sessions-${i}`);if(a){let e=(0,c.s)(a)||[],t=Date.now(),r=e.filter(e=>e.expiresAt>t&&e.token!==o),s=r.sort((e,t)=>e.expiresAt-t.expiresAt),l=s.at(-1)?.expiresAt;r.length>0&&l&&l>Date.now()?await n.set(`active-sessions-${i}`,JSON.stringify(r),Math.floor((l-t)/1e3)):await n.delete(`active-sessions-${i}`)}else r.error("Active sessions list not found in secondary storage")}if(await n.delete(o),!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (a||e).delete({model:"session",where:[{field:"token",value:o}]})},deleteAccounts:async(t,r)=>{await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]})},deleteAccount:async(t,r)=>{await (r||e).delete({model:"account",where:[{field:"id",value:t}]})},deleteSessions:async(r,o)=>{if(n){if("string"==typeof r){let e=await n.get(`active-sessions-${r}`),t=e?(0,c.s)(e):[];if(!t)return;for(let e of t)await n.delete(e.token)}else for(let e of r)await n.get(e)&&await n.delete(e);if(!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (o||e).deleteMany({model:"session",where:[{field:Array.isArray(r)?"token":"userId",value:r,operator:Array.isArray(r)?"in":void 0}]})},findOAuthUser:async(t,r,i,n)=>{let o=await (n||e).findMany({model:"account",where:[{value:r,field:"accountId"}]}).then(e=>e.find(e=>e.providerId===i));if(o){let r=await (n||e).findOne({model:"user",where:[{value:o.userId,field:"id"}]});if(r)return{user:r,accounts:[o]};{let r=await (n||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});return r?{user:r,accounts:[o]}:null}}{let r=await (n||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!r)return null;{let t=await (n||e).findMany({model:"account",where:[{value:r.id,field:"userId"}]});return{user:r,accounts:t||[]}}}},findUserByEmail:async(t,r,i)=>{let n=await (i||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!n)return null;if(r?.includeAccounts){let t=await (i||e).findMany({model:"account",where:[{value:n.id,field:"userId"}]});return{user:n,accounts:t}}return{user:n,accounts:[]}},findUserById:async(t,r)=>await (r||e).findOne({model:"user",where:[{field:"id",value:t}]}),linkAccount:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),updateUser:async(e,t,r,i)=>{let n=await p(t,[{field:"id",value:e}],"user",void 0,r,i);return await h(n),await h(n),n},updateUserByEmail:async(e,t,r,i)=>{let n=await p(t,[{field:"email",value:e.toLowerCase()}],"user",void 0,r,i);return await h(n),await h(n),n},updatePassword:async(e,t,r,i)=>{await f({password:t},[{field:"userId",value:e},{field:"providerId",value:"credential"}],"account",void 0,r,i)},findAccounts:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),findAccount:async(t,r)=>await (r||e).findOne({model:"account",where:[{field:"accountId",value:t}]}),findAccountByProviderId:async(t,r,i)=>await (i||e).findOne({model:"account",where:[{field:"accountId",value:t},{field:"providerId",value:r}]}),findAccountByUserId:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),updateAccount:async(e,t,r,i)=>await p(t,[{field:"id",value:e}],"account",void 0,r,i),createVerificationValue:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e},"verification",void 0,t,r),findVerificationValue:async(t,r)=>{let n=await (r||e).findMany({model:"verification",where:[{field:"identifier",value:t}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return i.verification?.disableCleanup||await (r||e).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),n[0]},deleteVerificationValue:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"id",value:t}]})},deleteVerificationByIdentifier:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"identifier",value:t}]})},updateVerificationValue:async(e,t,r,i)=>await p(t,[{field:"id",value:e}],"verification",void 0,r,i)}};async function i3(e){if(!e.database){let t=Object.keys((0,m.g)(e)).reduce((e,t)=>(e[t]=[],e),{});return p.a.warn("No database configuration provided. Using memory adapter in development"),i0(t)(e)}if("function"==typeof e.database)return e.database(e);let{kysely:t,databaseType:r,transaction:i}=await iJ(e);if(!t)throw new h.B("Failed to initialize database adapter");return iQ(t,{type:r||"sqlite",debugLogs:"debugLogs"in e.database&&e.database.debugLogs,transaction:i})(e)}function i5(e){let t=(0,m.g)(e),r={};for(let e in t){let i=t[e],n=i.fields,o={};if(Object.entries(n).forEach(([e,r])=>{if(o[r.fieldName||e]=r,r.references){let i=t[r.references.model];i&&(o[r.fieldName||e].references={...r.references,model:i.modelName,field:r.references.field})}}),r[i.modelName]){r[i.modelName].fields={...r[i.modelName].fields,...o};continue}r[i.modelName]={fields:o,order:i.order||1/0}}return r}let i6={postgres:{string:["character varying","varchar","text"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};function i8(e,t,r){function i(e){return e.toLowerCase().split("(")[0].trim()}if("string[]"===t||"number[]"===t)return e.toLowerCase().includes("json");let n=i6[r];return(Array.isArray(t)?n.string.map(e=>e.toLowerCase()):n[t].map(e=>e.toLowerCase())).includes(i(e))}async function i9(e){let t=i5(e),r=(0,p.c)(e.logger),{kysely:i,databaseType:n}=await iJ(e);n||(r.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),n="sqlite"),i||(r.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let o=await i.introspection.getTables(),a=[],s=[];for(let[e,i]of Object.entries(t)){let t=o.find(t=>t.name===e);if(!t){let t=a.findIndex(t=>t.table===e),r={table:e,fields:i.fields,order:i.order||1/0},n=a.findIndex(e=>(e.order||1/0)>r.order);-1===n?-1===t?a.push(r):a[t].fields={...a[t].fields,...i.fields}:a.splice(n,0,r);continue}let l={};for(let[o,a]of Object.entries(i.fields)){let i=t.columns.find(e=>e.name===o);if(!i){l[o]=a;continue}i8(i.dataType,a.type,n)||r.warn(`Field ${o} in table ${e} has a different type in the database. Expected ${a.type} but got ${i.dataType}.`)}Object.keys(l).length>0&&s.push({table:e,fields:l,order:i.order||1/0})}let l=[];function u(t,r){let i=t.type,o={string:{sqlite:"text",postgres:"text",mysql:t.unique?"varchar(255)":t.references?"varchar(36)":"text",mssql:t.unique||t.sortable?"varchar(255)":t.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:t.bigint?"bigint":"integer",postgres:t.bigint?"bigint":"integer",mysql:t.bigint?"bigint":"integer",mssql:t.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:i1.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:e.advanced?.database?.useNumberId?"serial":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"},foreignKeyId:{postgres:e.advanced?.database?.useNumberId?"integer":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"}};return"id"===r||t.references?.field==="id"?"id"===r?o.id[n]:o.foreignKeyId[n]:"sqlite"===n&&("string[]"===i||"number[]"===i)?"text":"string[]"===i||"number[]"===i?"jsonb":Array.isArray(i)?"text":o[i][n||"sqlite"]}if(s.length)for(let e of s)for(let[t,r]of Object.entries(e.fields)){let o=u(r,t),a=i.schema.alterTable(e.table).addColumn(t,o,e=>(e=!1!==r.required?e.notNull():e,r.references&&(e=e.references(`${r.references.model}.${r.references.field}`).onDelete(r.references.onDelete||"cascade")),r.unique&&(e=e.unique()),"date"===r.type&&"function"==typeof r.defaultValue&&("postgres"===n||"mysql"===n||"mssql"===n)&&(e="mysql"===n?e.defaultTo(i1.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(i1.sql`CURRENT_TIMESTAMP`)),e));l.push(a)}if(a.length)for(let t of a){let r=i.schema.createTable(t.table).addColumn("id",e.advanced?.database?.useNumberId?"postgres"===n?"serial":"integer":"mysql"===n||"mssql"===n?"varchar(36)":"text",t=>e.advanced?.database?.useNumberId?"postgres"===n||"sqlite"===n?t.primaryKey().notNull():"mssql"===n?t.identity().primaryKey().notNull():t.autoIncrement().primaryKey().notNull():t.primaryKey().notNull());for(let[e,i]of Object.entries(t.fields)){let t=u(i,e);r=r.addColumn(e,t,e=>(e=!1!==i.required?e.notNull():e,i.references&&(e=e.references(`${i.references.model}.${i.references.field}`).onDelete(i.references.onDelete||"cascade")),i.unique&&(e=e.unique()),"date"===i.type&&"function"==typeof i.defaultValue&&("postgres"===n||"mysql"===n||"mssql"===n)&&(e="mysql"===n?e.defaultTo(i1.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(i1.sql`CURRENT_TIMESTAMP`)),e))}l.push(r)}return{toBeCreated:a,toBeAdded:s,runMigrations:async function(){for(let e of l)await e.execute()},compileMigrations:async function(){return l.map(e=>e.compile().sql).join(";\n\n")+";"}}}e.s(["a",()=>i3,"c",()=>i4,"e",()=>i9],277074);var i7=m,ne=e.i(681393),nt=p,nr=e.i(446610),ni=d,nn=f,no=e.i(823390),na=e.i(181984),ns=h,nl=e.i(533078),nu=e.i(909879);let nc="better-auth-secret-123456789";async function nd(){if(t)return t;try{let e="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!e)return;let r=e=>Function("mm","return import(mm)")(e),[{default:i},{default:n}]=await Promise.all([r("fs/promises"),r("path")]),o=await i.readFile(n.join(e,"package.json"),"utf-8");return t=JSON.parse(o)}catch{}}async function np(e){if(t)return t.dependencies?.[e]||t.devDependencies?.[e]||t.peerDependencies?.[e];try{let t="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!t)throw Error("no-cwd");let r=e=>Function("mm","return import(mm)")(e),[{default:i},{default:n}]=await Promise.all([r("fs/promises"),r("path")]),o=n.join(t,"node_modules",e,"package.json"),a=await i.readFile(o,"utf-8");return JSON.parse(a).version||await nf(e)||void 0}catch{}return await nf(e)}async function nf(e){let t=await nd();if(t)return({...t.dependencies,...t.devDependencies,...t.peerDependencies})[e]}async function nh(){let e=await nd();return e?.name}let nm=null;async function ng(e){if(nm)return nm;let t=await nh();return nm=t?await (0,a.hashToBase64)(e?e+t:t):e?await (0,a.hashToBase64)(e):(0,ni.g)(32)}let ny=e=>Function("mm","return import(mm)")(e);function nv(){let e=(...e)=>e.some(e=>!!nn.e[e]);return e("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":e("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":e("NETLIFY","NETLIFY_URL")?"netlify":e("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":e("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":e("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":e("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":e("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":e("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":e("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":e("DYNO","HEROKU_APP_NAME")?"heroku":e("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":e("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function nb(){try{if("cloudflare"===nv())return"cloudflare";let e=await ny("os"),t=e.cpus();return{deploymentVendor:nv(),systemPlatform:e.platform(),systemRelease:e.release(),systemArchitecture:e.arch(),cpuCount:t.length,cpuModel:t.length?t[0].model:null,cpuSpeed:t.length?t[0].speed:null,memory:e.totalmem(),isWSL:await nS(),isDocker:await n_(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(e){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function nA(){if("cloudflare"===nv())return!1;try{return(await ny("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function nw(){if("cloudflare"===nv())return!1;try{return(await ny("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function n_(){return"cloudflare"!==nv()&&(void 0===r&&(r=await nA()||await nw()),r)}async function nS(){try{if("cloudflare"===nv()||"undefined"==typeof process||process?.platform!=="linux")return!1;let e=await ny("fs");if((await ny("os")).release().toLowerCase().includes("microsoft")){if(await nT())return!1;return!0}return!!e.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await nT()}catch{return!1}}let nE=async()=>{if("cloudflare"===nv())return!1;try{return(await ny("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function nT(){return void 0===i&&(i=await nE()||await n_()),i}function nI(){return"false"!==nn.e.CI&&("BUILD_ID"in nn.e||"BUILD_NUMBER"in nn.e||"CI"in nn.e||"CI_APP_ID"in nn.e||"CI_BUILD_ID"in nn.e||"CI_BUILD_NUMBER"in nn.e||"CI_NAME"in nn.e||"CONTINUOUS_INTEGRATION"in nn.e||"RUN_ID"in nn.e)}function nx(){return"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null}}function nO(){return"production"===(0,nn.g)("NODE_ENV")?"production":nI()?"ci":(0,nn.i)()?"test":"development"}let nC={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function nk(){for(let[e,t]of Object.entries(nC)){let r=await np(e);if(r)return{name:t,version:r}}}let nN={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function nR(){for(let[e,t]of Object.entries(nN)){let r=await np(e);if(r)return{name:t,version:r}}}function nP(){let e=nn.e.npm_config_user_agent;if(!e)return;let t=e.split(" ")[0],r=t.lastIndexOf("/"),i=t.substring(0,r);return{name:"npminstall"===i?"cnpm":i,version:t.substring(r+1)}}function nD(e,t){return{database:t?.database,adapter:t?.adapter,emailVerification:{sendVerificationEmail:!!e.emailVerification?.sendVerificationEmail,sendOnSignUp:!!e.emailVerification?.sendOnSignUp,sendOnSignIn:!!e.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!e.emailVerification?.autoSignInAfterVerification,expiresIn:e.emailVerification?.expiresIn,onEmailVerification:!!e.emailVerification?.onEmailVerification,afterEmailVerification:!!e.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!e.emailAndPassword?.enabled,disableSignUp:!!e.emailAndPassword?.disableSignUp,requireEmailVerification:!!e.emailAndPassword?.requireEmailVerification,maxPasswordLength:e.emailAndPassword?.maxPasswordLength,minPasswordLength:e.emailAndPassword?.minPasswordLength,sendResetPassword:!!e.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:e.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!e.emailAndPassword?.onPasswordReset,password:{hash:!!e.emailAndPassword?.password?.hash,verify:!!e.emailAndPassword?.password?.verify},autoSignIn:!!e.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!e.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(e.socialProviders||{}).map(t=>{let r=e.socialProviders?.[t];return r?{id:t,mapProfileToUser:!!r.mapProfileToUser,disableDefaultScope:!!r.disableDefaultScope,disableIdTokenSignIn:!!r.disableIdTokenSignIn,disableImplicitSignUp:r.disableImplicitSignUp,disableSignUp:r.disableSignUp,getUserInfo:!!r.getUserInfo,overrideUserInfoOnSignIn:!!r.overrideUserInfoOnSignIn,prompt:r.prompt,verifyIdToken:!!r.verifyIdToken,scope:r.scope,refreshAccessToken:!!r.refreshAccessToken}:{}}),plugins:e.plugins?.map(e=>e.id.toString()),user:{modelName:e.user?.modelName,fields:e.user?.fields,additionalFields:e.user?.additionalFields,changeEmail:{enabled:e.user?.changeEmail?.enabled,sendChangeEmailVerification:!!e.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:e.verification?.modelName,disableCleanup:e.verification?.disableCleanup,fields:e.verification?.fields},session:{modelName:e.session?.modelName,additionalFields:e.session?.additionalFields,cookieCache:{enabled:e.session?.cookieCache?.enabled,maxAge:e.session?.cookieCache?.maxAge},disableSessionRefresh:e.session?.disableSessionRefresh,expiresIn:e.session?.expiresIn,fields:e.session?.fields,freshAge:e.session?.freshAge,preserveSessionInDatabase:e.session?.preserveSessionInDatabase,storeSessionInDatabase:e.session?.storeSessionInDatabase,updateAge:e.session?.updateAge},account:{modelName:e.account?.modelName,fields:e.account?.fields,encryptOAuthTokens:e.account?.encryptOAuthTokens,updateAccountOnSignIn:e.account?.updateAccountOnSignIn,accountLinking:{enabled:e.account?.accountLinking?.enabled,trustedProviders:e.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:e.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:e.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!e.hooks?.after,before:!!e.hooks?.before},secondaryStorage:!!e.secondaryStorage,advanced:{cookiePrefix:!!e.advanced?.cookiePrefix,cookies:!!e.advanced?.cookies,crossSubDomainCookies:{domain:!!e.advanced?.crossSubDomainCookies?.domain,enabled:e.advanced?.crossSubDomainCookies?.enabled,additionalCookies:e.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!e.advanced?.database?.useNumberId,generateId:e.advanced?.database?.generateId,defaultFindManyLimit:e.advanced?.database?.defaultFindManyLimit},useSecureCookies:e.advanced?.useSecureCookies,ipAddress:{disableIpTracking:e.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:e.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:e.advanced?.disableCSRFCheck,cookieAttributes:{expires:e.advanced?.defaultCookieAttributes?.expires,secure:e.advanced?.defaultCookieAttributes?.secure,sameSite:e.advanced?.defaultCookieAttributes?.sameSite,domain:!!e.advanced?.defaultCookieAttributes?.domain,path:e.advanced?.defaultCookieAttributes?.path,httpOnly:e.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:e.trustedOrigins?.length,rateLimit:{storage:e.rateLimit?.storage,modelName:e.rateLimit?.modelName,window:e.rateLimit?.window,customStorage:!!e.rateLimit?.customStorage,enabled:e.rateLimit?.enabled,max:e.rateLimit?.max},onAPIError:{errorURL:e.onAPIError?.errorURL,onError:!!e.onAPIError?.onError,throw:e.onAPIError?.throw},logger:{disabled:e.logger?.disabled,level:e.logger?.level,log:!!e.logger?.log},databaseHooks:{user:{create:{after:!!e.databaseHooks?.user?.create?.after,before:!!e.databaseHooks?.user?.create?.before},update:{after:!!e.databaseHooks?.user?.update?.after,before:!!e.databaseHooks?.user?.update?.before}},session:{create:{after:!!e.databaseHooks?.session?.create?.after,before:!!e.databaseHooks?.session?.create?.before},update:{after:!!e.databaseHooks?.session?.update?.after,before:!!e.databaseHooks?.session?.update?.before}},account:{create:{after:!!e.databaseHooks?.account?.create?.after,before:!!e.databaseHooks?.account?.create?.before},update:{after:!!e.databaseHooks?.account?.update?.after,before:!!e.databaseHooks?.account?.update?.before}},verification:{create:{after:!!e.databaseHooks?.verification?.create?.after,before:!!e.databaseHooks?.verification?.create?.before},update:{after:!!e.databaseHooks?.verification?.update?.after,before:!!e.databaseHooks?.verification?.update?.before}}}}}async function nU(e,t){let r,i=e.telemetry?.debug||(0,nn.c)("BETTER_AUTH_TELEMETRY_DEBUG",!1),n=nn.E.BETTER_AUTH_TELEMETRY_ENDPOINT,o=async e=>{try{t?.customTrack?await t.customTrack(e):i?await Promise.resolve(nt.a.info("telemetry event",JSON.stringify(e,null,2))):await (0,nl.betterFetch)(n,{method:"POST",body:e})}catch{}},a=async()=>{let r=e.telemetry?.enabled!==void 0&&e.telemetry.enabled;return((0,nn.c)("BETTER_AUTH_TELEMETRY",!1)||r)&&(t?.skipTestCheck||!(0,nn.i)())},s=await a();return s&&(r=await ng(e.baseURL),o({type:"init",payload:{config:nD(e),runtime:nx(),database:await nk(),framework:await nR(),environment:nO(),systemInfo:await nb(),packageManager:nP()},anonymousId:r})),{publish:async t=>{s&&(r||(r=await ng(e.baseURL)),await o({type:t.type,payload:t.payload,anonymousId:r}))}}}function nL(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}let nK=async e=>{let t,r=await i3(e),i=e.plugins||[],o=nB(e),s=(0,nt.c)(e.logger),l=(0,na.a)(e.baseURL,e.basePath),u=e.secret||nn.e.BETTER_AUTH_SECRET||nn.e.AUTH_SECRET||nc;u===nc&&nn.b&&s.error("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config."),e={...e,secret:u,baseURL:l?new URL(l).origin:"",basePath:e.basePath||"/api/auth",plugins:i.concat(o)},(0,n.checkEndpointConflicts)(e,s);let c=(0,ne.g)(e),d=(0,i7.g)(e),p=Object.entries(e.socialProviders||{}).map(([e,t])=>{if(null==t||!1===t.enabled)return null;t.clientId||s.warn(`Social provider ${e} is missing clientId or clientSecret`);let r=nr.U[e](t);return r.disableImplicitSignUp=t.disableImplicitSignUp,r}).filter(e=>null!==e),f=({model:t,size:r})=>"function"==typeof e.advanced?.generateId?e.advanced.generateId({model:t,size:r}):"function"==typeof e?.advanced?.database?.generateId?e.advanced.database.generateId({model:t,size:r}):(0,ni.g)(r),{publish:h}=await nU(e,{adapter:r.id,database:"function"==typeof e.database?"adapter":iZ(e.database)||"unknown"}),m={appName:e.appName||"Better Auth",socialProviders:p,options:e,tables:d,trustedOrigins:nj(e),baseURL:l||"",sessionConfig:{updateAge:e.session?.updateAge!==void 0?e.session.updateAge:86400,expiresIn:e.session?.expiresIn||604800,freshAge:e.session?.freshAge===void 0?86400:e.session.freshAge},secret:u,rateLimit:{...e.rateLimit,enabled:e.rateLimit?.enabled??nn.b,window:e.rateLimit?.window||10,max:e.rateLimit?.max||100,storage:e.rateLimit?.storage||(e.secondaryStorage?"secondary-storage":"memory")},authCookies:c,logger:s,generateId:f,session:null,secondaryStorage:e.secondaryStorage,password:{hash:e.emailAndPassword?.password?.hash||a.hashPassword,verify:e.emailAndPassword?.password?.verify||a.verifyPassword,config:{minPasswordLength:e.emailAndPassword?.minPasswordLength||8,maxPasswordLength:e.emailAndPassword?.maxPasswordLength||128},checkPassword:no.c},setNewSession(e){this.newSession=e},newSession:null,adapter:r,internalAdapter:i4(r,{options:e,logger:s,hooks:e.databaseHooks?[e.databaseHooks]:[]}),createAuthCookie:(0,ne.c)(e),async runMigrations(){if(!e.database||"updateMany"in e.database)throw new ns.B("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:t}=await i9(e);await t()},publishTelemetry:h},g=nM(m);return nL(g)?{context:t}=await g:{context:t}=g,t};async function nM(e){let t=e.options,r=t.plugins||[],i=e,n=[];for(let e of r)if(e.init){let r,a=e.init(i);if("object"==typeof(r=nL(a)?await a:a)){if(r.options){let{databaseHooks:e,...i}=r.options;e&&n.push(e),t=(0,o.defu)(t,i)}r.context&&(i={...i,...r.context})}}return n.push(t.databaseHooks),i.internalAdapter=i4(e.adapter,{options:t,logger:e.logger,hooks:n.filter(e=>void 0!==e),generateId:e.generateId}),i.options=t,{context:i}}function nB(e){let t=[];return e.advanced?.crossSubDomainCookies?.enabled,t}function nj(e){let t=(0,na.a)(e.baseURL,e.basePath);if(!t)return[];let r=[new URL(t).origin];e.trustedOrigins&&Array.isArray(e.trustedOrigins)&&r.push(...e.trustedOrigins);let i=nn.e.BETTER_AUTH_TRUSTED_ORIGINS;if(i&&r.push(...i.split(",")),r.filter(e=>!e).length)throw new ns.B("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return r}let n$=e=>{let t=nK(e),{api:r}=(0,n.getEndpoints)(t,e),i=e.plugins?.reduce((e,t)=>t.$ERROR_CODES?{...e,...t.$ERROR_CODES}:e,{});return{handler:async r=>{let i=await t,o=i.options.basePath||"/api/auth";if(!i.options.baseURL){let e=(0,na.a)(void 0,o,r);if(e)i.baseURL=e,i.options.baseURL=(0,na.g)(i.baseURL)||void 0;else throw new ns.B("Could not get base URL from request. Please provide a valid base URL.")}i.trustedOrigins=[...e.trustedOrigins?Array.isArray(e.trustedOrigins)?e.trustedOrigins:await e.trustedOrigins(r):[],i.options.baseURL];let{handler:a}=(0,n.router)(i,e);return a(r)},api:r,options:e,$context:t,$Infer:{},$ERROR_CODES:{...i,...nu.B}}};e.s(["b",()=>n$],844735)},849436,e=>{"use strict";e.i(844735),e.i(408972),e.i(446610),e.i(649330),e.i(464589),e.i(154456),e.i(909879),e.i(338270),e.i(530501),e.i(35972),e.i(323770),e.i(537430),e.i(822381),e.i(681393),e.i(973088),e.i(130717),e.i(181984),e.i(66655),e.i(339127),e.i(282318),e.i(172381),e.i(362160),e.i(744957),e.i(129776),e.i(805650),e.i(277074),e.i(468527),e.i(334773),e.i(169066),e.i(767356),e.i(823390),e.i(533078),e.i(795080),e.s([],849436)},315262,e=>{"use strict";var t=e.i(844735);e.s(["betterAuth",()=>t.b])},413919,e=>{"use strict";e.i(156325),e.i(844988);var t=e.i(518899);function r(e){return t.sql`count(${e||t.sql.raw("*")})`.mapWith(Number)}var i=e.i(349129),n=e.i(875225),o=t,a=e.i(408972),s=e.i(169066);e.i(130717),e.i(464589),e.i(338270),e.i(468527),e.i(649330),e.i(339127),e.i(154456),e.i(282318),e.i(530501),e.i(172381),e.i(362160);let l=(e,t)=>{let l=null,u=e=>({getFieldName:s,debugLog:l})=>{function u(r){let i=t.schema||e._.fullSchema;if(!i)throw new a.B("Drizzle adapter failed to initialize. Schema not found. Please provide a schema object in the adapter options object.");let n=i[r];if(!n)throw new a.B(`[# Drizzle Adapter]: The model "${r}" was not found in the schema object. Please pass the schema directly to the adapter options.`);return n}let c=async(r,s,l,c)=>{if("mysql"!==t.provider)return(await s.returning())[0];await s.execute();let p=u(r),f=s.config?.values;if(c?.length){let t=d(c.map(e=>void 0!==l[e.field]?{...e,value:l[e.field]}:e),r);return(await e.select().from(p).where(...t))[0]}if(f&&f[0]?.id?.value){let t=f[0]?.id?.value;return t||(t=(await e.select({id:o.sql`LAST_INSERT_ID()`}).from(p).orderBy((0,i.desc)(p.id)).limit(1))[0].id),(await e.select().from(p).where((0,n.eq)(p.id,t)).limit(1).execute())[0]}if(l.id)return(await e.select().from(p).where((0,n.eq)(p.id,l.id)).limit(1).execute())[0];if(!("id"in p))throw new a.B(`The model "${r}" does not have an "id" field. Please use the "id" field as your primary key.`);return(await e.select().from(p).orderBy((0,i.desc)(p.id)).limit(1).execute())[0]};function d(e,t){let r=u(t);if(!e)return[];if(1===e.length){let i=e[0];if(!i)return[];let o=s({model:t,field:i.field});if(!r[o])throw new a.B(`The field "${i.field}" does not exist in the schema for the model "${t}". Please update your schema.`);if("in"===i.operator){if(!Array.isArray(i.value))throw new a.B(`The value for the field "${i.field}" must be an array when using the "in" operator.`);return[(0,n.inArray)(r[o],i.value)]}if("not_in"===i.operator){if(!Array.isArray(i.value))throw new a.B(`The value for the field "${i.field}" must be an array when using the "not_in" operator.`);return[(0,n.notInArray)(r[o],i.value)]}return"contains"===i.operator?[(0,n.like)(r[o],`%${i.value}%`)]:"starts_with"===i.operator?[(0,n.like)(r[o],`${i.value}%`)]:"ends_with"===i.operator?[(0,n.like)(r[o],`%${i.value}`)]:"lt"===i.operator?[(0,n.lt)(r[o],i.value)]:"lte"===i.operator?[(0,n.lte)(r[o],i.value)]:"ne"===i.operator?[(0,n.ne)(r[o],i.value)]:"gt"===i.operator?[(0,n.gt)(r[o],i.value)]:"gte"===i.operator?[(0,n.gte)(r[o],i.value)]:[(0,n.eq)(r[o],i.value)]}let i=e.filter(e=>"AND"===e.connector||!e.connector),o=e.filter(e=>"OR"===e.connector),l=(0,n.and)(...i.map(e=>{let i=s({model:t,field:e.field});if("in"===e.operator){if(!Array.isArray(e.value))throw new a.B(`The value for the field "${e.field}" must be an array when using the "in" operator.`);return(0,n.inArray)(r[i],e.value)}if("not_in"===e.operator){if(!Array.isArray(e.value))throw new a.B(`The value for the field "${e.field}" must be an array when using the "not_in" operator.`);return(0,n.notInArray)(r[i],e.value)}return(0,n.eq)(r[i],e.value)})),c=(0,n.or)(...o.map(e=>{let i=s({model:t,field:e.field});return(0,n.eq)(r[i],e.value)})),d=[];return i.length&&d.push(l),o.length&&d.push(c),d}function p(e,t,r){if(!e)throw new a.B("Drizzle adapter failed to initialize. Schema not found. Please provide a schema object in the adapter options object.");for(let i in r)if(!e[i])throw new a.B(`The field "${i}" does not exist in the "${t}" schema. Please update your drizzle schema or re-generate using "npx @better-auth/cli generate".`)}return{async create({model:t,data:r}){let i=u(t);p(i,t,r);let n=e.insert(i).values(r);return await c(t,n,r)},async findOne({model:t,where:r}){let i=u(t),n=d(r,t),o=await e.select().from(i).where(...n);return o.length?o[0]:null},async findMany({model:t,where:r,sortBy:n,limit:o,offset:a}){let l=u(t),c=r?d(r,t):[],p=n?.direction==="desc"?i.desc:i.asc,f=e.select().from(l).limit(o||100).offset(a||0);return n?.field&&f.orderBy(p(l[s({model:t,field:n?.field})])),await f.where(...c)},async count({model:t,where:i}){let n=u(t),o=i?d(i,t):[];return(await e.select({count:r()}).from(n).where(...o))[0].count},async update({model:t,where:r,update:i}){let n=u(t),o=d(r,t),a=e.update(n).set(i).where(...o);return await c(t,a,i,r)},async updateMany({model:t,where:r,update:i}){let n=u(t),o=d(r,t),a=e.update(n).set(i).where(...o);return await a},async delete({model:t,where:r}){let i=u(t),n=d(r,t),o=e.delete(i).where(...n);return await o},async deleteMany({model:t,where:r}){let i=u(t),n=d(r,t),o=e.delete(i).where(...n);return await o},options:t}},c=null;c={config:{adapterId:"drizzle",adapterName:"Drizzle Adapter",usePlural:t.usePlural??!1,debugLogs:t.debugLogs??!1,transaction:!!t.transaction&&(t=>e.transaction(e=>t((0,s.c)({config:c.config,adapter:u(e)})(l))))},adapter:u(e)};let d=(0,s.c)(c);return e=>(l=e,d(e))};e.s(["drizzleAdapter",()=>l],413919)},542691,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationInSerializer=void 0,r.ApplicationInSerializer={_fromJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}),_toJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid})}},871008,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationOutSerializer=void 0,r.ApplicationOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt})}},275129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationPatchSerializer=void 0,r.ApplicationPatchSerializer={_fromJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}),_toJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid})}},413256,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseApplicationOutSerializer=void 0;let i=e.r(871008);r.ListResponseApplicationOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.ApplicationOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.ApplicationOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},349787,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApiException=void 0;class i extends Error{constructor(e,t,r){super(`HTTP-Code: ${e}
Headers: ${JSON.stringify(r)}`),this.code=e,this.body=t,this.headers={},r.forEach((e,t)=>{this.headers[t]=e})}}r.ApiException=i},805224,e=>{"use strict";let t,r;e.s([],203546),e.i(203546);let i="ffffffff-ffff-ffff-ffff-ffffffffffff",n="00000000-0000-0000-0000-000000000000",o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,a=function(e){return"string"==typeof e&&o.test(e)},s=function(e){let t;if(!a(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function u(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}let c=function(e,t=0){let r=u(e,t);if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var d=e.i(666680);let p=new Uint8Array(256),f=p.length;function h(){return f>p.length-16&&(d.default.randomFillSync(p),f=0),p.slice(f,f+=16)}let m=0,g=0,y=function(e,i,n){let o=i&&n||0,a=i||Array(16),s=(e=e||{}).node,l=e.clockseq;if(e._v6||(s||(s=t),null==l&&(l=r)),null==s||null==l){let i=e.random||(e.rng||h)();null==s&&(s=[i[0],i[1],i[2],i[3],i[4],i[5]],t||e._v6||(s[0]|=1,t=s)),null==l&&(l=(i[6]<<8|i[7])&16383,void 0!==r||e._v6||(r=l))}let c=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:g+1,p=c-m+(d-g)/1e4;if(p<0&&void 0===e.clockseq&&(l=l+1&16383),(p<0||c>m)&&void 0===e.nsecs&&(d=0),d>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");m=c,g=d,r=l;let f=((0xfffffff&(c+=122192928e5))*1e4+d)%0x100000000;a[o++]=f>>>24&255,a[o++]=f>>>16&255,a[o++]=f>>>8&255,a[o++]=255&f;let y=c/0x100000000*1e4&0xfffffff;a[o++]=y>>>8&255,a[o++]=255&y,a[o++]=y>>>24&15|16,a[o++]=y>>>16&255,a[o++]=l>>>8|128,a[o++]=255&l;for(let e=0;e<6;++e)a[o+e]=s[e];return i||u(a)};function v(e){let t=b("string"==typeof e?s(e):e);return"string"==typeof e?u(t):t}function b(e,t=!1){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function A(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}let w="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function S(e,t,r){function i(e,i,n,o){var a;if("string"==typeof e&&(e=A(e)),"string"==typeof i&&(i=s(i)),(null==(a=i)?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(i),l.set(e,i.length),(l=r(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,n){o=o||0;for(let e=0;e<16;++e)n[o+e]=l[e];return n}return u(l)}try{i.name=e}catch(e){}return i.DNS=w,i.URL=_,i}var E=d;let T=S("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),E.default.createHash("md5").update(e).digest()}),I={randomUUID:d.default.randomUUID},x=function(e,t,r){if(I.randomUUID&&!t&&!e)return I.randomUUID();let i=(e=e||{}).random||(e.rng||h)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return u(i)};var O=d;let C=S("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),O.default.createHash("sha1").update(e).digest()});function k(e={},t,r=0){let i=y({...e,_v6:!0},new Uint8Array(16));if(i=v(i),t){for(let e=0;e<16;e++)t[r+e]=i[e];return t}return u(i)}function N(e){let t=R("string"==typeof e?s(e):e);return"string"==typeof e?u(t):t}function R(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}let P=null,D=null,U=0,L=function(e,t,r){e=e||{};let i=t&&r||0,n=t||new Uint8Array(16),o=e.random||(e.rng||h)(),a=void 0!==e.msecs?e.msecs:Date.now(),s=void 0!==e.seq?e.seq:null,l=D,c=P;return a>U&&void 0===e.msecs&&(U=a,null!==s&&(l=null,c=null)),null!==s&&(s>0x7fffffff&&(s=0x7fffffff),l=s>>>19&4095,c=524287&s),(null===l||null===c)&&(l=(l=127&o[6])<<8|o[7],c=(c=(c=63&o[8])<<8|o[9])<<5|o[10]>>>3),a+1e4>U&&null===s?++c>524287&&(c=0,++l>4095&&(l=0,U++)):U=a,D=l,P=c,n[i++]=U/0x10000000000&255,n[i++]=U/0x100000000&255,n[i++]=U/0x1000000&255,n[i++]=U/65536&255,n[i++]=U/256&255,n[i++]=255&U,n[i++]=l>>>4&15|112,n[i++]=255&l,n[i++]=c>>>13&63|128,n[i++]=c>>>5&255,n[i++]=c<<3&255|7&o[10],n[i++]=o[11],n[i++]=o[12],n[i++]=o[13],n[i++]=o[14],n[i++]=o[15],t||u(n)},K=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};e.s(["MAX",0,i,"NIL",0,n,"parse",0,s,"stringify",0,c,"v1",0,y,"v1ToV6",()=>v,"v3",0,T,"v4",0,x,"v5",0,C,"v6",()=>k,"v6ToV1",()=>N,"v7",0,L,"validate",0,a,"version",0,K],805224)},627928,(e,t,r)=>{"use strict";var i,n=e.e&&e.e.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.SvixRequest=r.HttpMethod=r.LIB_VERSION=void 0;let o=e.r(349787),a=e.r(805224);r.LIB_VERSION="1.76.1";let s=`svix-libs/${r.LIB_VERSION}/javascript`;!function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"}(i=r.HttpMethod||(r.HttpMethod={}));class l{constructor(e,t){this.method=e,this.path=t,this.queryParams={},this.headerParams={}}setPathParam(e,t){let r=this.path.replace(`{${e}}`,encodeURIComponent(t));if(this.path===r)throw Error(`path parameter ${e} not found`);this.path=r}setQueryParam(e,t){if(null!=t)if("string"==typeof t)this.queryParams[e]=t;else if("boolean"==typeof t||"number"==typeof t)this.queryParams[e]=t.toString();else if(t instanceof Date)this.queryParams[e]=t.toISOString();else if(t instanceof Array)t.length>0&&(this.queryParams[e]=t.join(","));else throw Error(`query parameter ${e} has unsupported type`)}setHeaderParam(e,t){void 0!==t&&(this.headerParams[e]=t)}setBody(e){this.body=JSON.stringify(e)}send(e,t){return n(this,void 0,void 0,function*(){let r=yield this.sendInner(e);return 204==r.status?null:t(JSON.parse((yield r.text())))})}sendNoResponseBody(e){return n(this,void 0,void 0,function*(){yield this.sendInner(e)})}sendInner(e){var t,r;return n(this,void 0,void 0,function*(){let i=new URL(e.baseUrl+this.path);for(let[e,t]of Object.entries(this.queryParams))i.searchParams.set(e,t);void 0===this.headerParams["idempotency-key"]&&"POST"===this.method.toUpperCase()&&(this.headerParams["idempotency-key"]="auto_"+(0,a.v4)());let n=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);null!=this.body&&(this.headerParams["content-type"]="application/json");let o="credentials"in Request.prototype;return u((yield c(i,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${e.token}`,"user-agent":s,"svix-req-id":n.toString()},this.headerParams),credentials:o?"same-origin":void 0,signal:void 0!==e.timeout?AbortSignal.timeout(e.timeout):void 0},e.retryScheduleInMs,null==(t=e.retryScheduleInMs)?void 0:t[0],(null==(r=e.retryScheduleInMs)?void 0:r.length)||e.numRetries)))})}}function u(e){return n(this,void 0,void 0,function*(){if(e.status<300)return e;let t=yield e.text();if(422===e.status||e.status>=400&&e.status<=499)throw new o.ApiException(e.status,JSON.parse(t),e.headers);throw new o.ApiException(e.status,t,e.headers)})}function c(e,t,r,i=50,o=2,a=1){return n(this,void 0,void 0,function*(){let n=e=>new Promise(t=>setTimeout(t,e));try{let r=yield fetch(e,t);if(o<=0||r.status<500)return r}catch(e){if(o<=0)throw e}return yield n(i),t.headers["svix-retry-count"]=a.toString(),i=(null==r?void 0:r[a])||2*i,yield c(e,t,r,i,--o,++a)})}r.SvixRequest=l},800198,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Application=void 0;let i=e.r(542691),n=e.r(871008),o=e.r(275129),a=e.r(413256),s=e.r(627928);class l{constructor(e){this.requestCtx=e}list(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,a.ListResponseApplicationOutSerializer._fromJsonObject)}create(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.ApplicationInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}getOrCreate(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app");return r.setQueryParam("get_if_exists",!0),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.ApplicationInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}get(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}");return t.setPathParam("app_id",e),t.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}update(e,t){let r=new s.SvixRequest(s.HttpMethod.PUT,"/api/v1/app/{app_id}");return r.setPathParam("app_id",e),r.setBody(i.ApplicationInSerializer._toJsonObject(t)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}delete(e){let t=new s.SvixRequest(s.HttpMethod.DELETE,"/api/v1/app/{app_id}");return t.setPathParam("app_id",e),t.sendNoResponseBody(this.requestCtx)}patch(e,t){let r=new s.SvixRequest(s.HttpMethod.PATCH,"/api/v1/app/{app_id}");return r.setPathParam("app_id",e),r.setBody(o.ApplicationPatchSerializer._toJsonObject(t)),r.send(this.requestCtx,n.ApplicationOutSerializer._fromJsonObject)}}r.Application=l},455795,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.AppPortalCapabilitySerializer=r.AppPortalCapability=void 0,function(e){e.ViewBase="ViewBase",e.ViewEndpointSecret="ViewEndpointSecret",e.ManageEndpointSecret="ManageEndpointSecret",e.ManageTransformations="ManageTransformations",e.CreateAttempts="CreateAttempts",e.ManageEndpoint="ManageEndpoint"}(i=r.AppPortalCapability||(r.AppPortalCapability={})),r.AppPortalCapabilitySerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},693297,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppPortalAccessInSerializer=void 0;let i=e.r(455795),n=e.r(542691);r.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?n.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:null==(t=e.capabilities)?void 0:t.map(e=>i.AppPortalCapabilitySerializer._fromJsonObject(e)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?n.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:null==(t=e.capabilities)?void 0:t.map(e=>i.AppPortalCapabilitySerializer._toJsonObject(e)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}}},853109,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppPortalAccessOutSerializer=void 0,r.AppPortalAccessOutSerializer={_fromJsonObject:e=>({token:e.token,url:e.url}),_toJsonObject:e=>({token:e.token,url:e.url})}},88551,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationTokenExpireInSerializer=void 0,r.ApplicationTokenExpireInSerializer={_fromJsonObject:e=>({expiry:e.expiry,sessionIds:e.sessionIds}),_toJsonObject:e=>({expiry:e.expiry,sessionIds:e.sessionIds})}},587082,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DashboardAccessOutSerializer=void 0,r.DashboardAccessOutSerializer={_fromJsonObject:e=>({token:e.token,url:e.url}),_toJsonObject:e=>({token:e.token,url:e.url})}},713092,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Authentication=void 0;let i=e.r(693297),n=e.r(853109),o=e.r(88551),a=e.r(587082),s=e.r(627928);class l{constructor(e){this.requestCtx=e}appPortalAccess(e,t,r){let o=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return o.setPathParam("app_id",e),o.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),o.setBody(i.AppPortalAccessInSerializer._toJsonObject(t)),o.send(this.requestCtx,n.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(e,t,r){let i=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(o.ApplicationTokenExpireInSerializer._toJsonObject(t)),i.sendNoResponseBody(this.requestCtx)}dashboardAccess(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return r.setPathParam("app_id",e),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.send(this.requestCtx,a.DashboardAccessOutSerializer._fromJsonObject)}logout(e){let t=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/auth/logout");return t.setHeaderParam("idempotency-key",null==e?void 0:e.idempotencyKey),t.sendNoResponseBody(this.requestCtx)}}r.Authentication=l},249610,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTaskStatusSerializer=r.BackgroundTaskStatus=void 0,function(e){e.Running="running",e.Finished="finished",e.Failed="failed"}(i=r.BackgroundTaskStatus||(r.BackgroundTaskStatus={})),r.BackgroundTaskStatusSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},652335,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTaskTypeSerializer=r.BackgroundTaskType=void 0,function(e){e.EndpointReplay="endpoint.replay",e.EndpointRecover="endpoint.recover",e.ApplicationStats="application.stats",e.MessageBroadcast="message.broadcast",e.SdkGenerate="sdk.generate",e.EventTypeAggregate="event-type.aggregate",e.ApplicationPurgeContent="application.purge_content"}(i=r.BackgroundTaskType||(r.BackgroundTaskType={})),r.BackgroundTaskTypeSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},494939,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTaskOutSerializer=void 0;let i=e.r(249610),n=e.r(652335);r.BackgroundTaskOutSerializer={_fromJsonObject:e=>({data:e.data,id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({data:e.data,id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},846972,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseBackgroundTaskOutSerializer=void 0;let i=e.r(494939);r.ListResponseBackgroundTaskOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.BackgroundTaskOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.BackgroundTaskOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},538844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundTask=void 0;let i=e.r(494939),n=e.r(846972),o=e.r(627928);class a{constructor(e){this.requestCtx=e}list(e){let t=new o.SvixRequest(o.HttpMethod.GET,"/api/v1/background-task");return t.setQueryParam("status",null==e?void 0:e.status),t.setQueryParam("task",null==e?void 0:e.task),t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,n.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(e){return this.list(e)}get(e){let t=new o.SvixRequest(o.HttpMethod.GET,"/api/v1/background-task/{task_id}");return t.setPathParam("task_id",e),t.send(this.requestCtx,i.BackgroundTaskOutSerializer._fromJsonObject)}}r.BackgroundTask=a},124347,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointHeadersInSerializer=void 0,r.EndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})}},495248,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointHeadersOutSerializer=void 0,r.EndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})}},103400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointHeadersPatchInSerializer=void 0,r.EndpointHeadersPatchInSerializer={_fromJsonObject:e=>({deleteHeaders:e.deleteHeaders,headers:e.headers}),_toJsonObject:e=>({deleteHeaders:e.deleteHeaders,headers:e.headers})}},403781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointInSerializer=void 0,r.EndpointInSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version})}},542417,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointOutSerializer=void 0,r.EndpointOutSerializer={_fromJsonObject:e=>({channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version})}},223360,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointPatchSerializer=void 0,r.EndpointPatchSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version})}},713668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointSecretOutSerializer=void 0,r.EndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},479749,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointSecretRotateInSerializer=void 0,r.EndpointSecretRotateInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},717088,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointStatsSerializer=void 0,r.EndpointStatsSerializer={_fromJsonObject:e=>({fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}),_toJsonObject:e=>({fail:e.fail,pending:e.pending,sending:e.sending,success:e.success})}},323393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointTransformationInSerializer=void 0,r.EndpointTransformationInSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},957685,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointTransformationOutSerializer=void 0,r.EndpointTransformationOutSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},425741,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointTransformationPatchSerializer=void 0,r.EndpointTransformationPatchSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},730978,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointUpdateSerializer=void 0,r.EndpointUpdateSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version})}},87479,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventExampleInSerializer=void 0,r.EventExampleInSerializer={_fromJsonObject:e=>({eventType:e.eventType,exampleIndex:e.exampleIndex}),_toJsonObject:e=>({eventType:e.eventType,exampleIndex:e.exampleIndex})}},883060,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseEndpointOutSerializer=void 0;let i=e.r(542417);r.ListResponseEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.EndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.EndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},916946,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageOutSerializer=void 0,r.MessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp})}},551234,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RecoverInSerializer=void 0,r.RecoverInSerializer={_fromJsonObject:e=>({since:new Date(e.since),until:e.until?new Date(e.until):null}),_toJsonObject:e=>({since:e.since,until:e.until})}},296744,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RecoverOutSerializer=void 0;let i=e.r(249610),n=e.r(652335);r.RecoverOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},910217,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReplayInSerializer=void 0,r.ReplayInSerializer={_fromJsonObject:e=>({since:new Date(e.since),until:e.until?new Date(e.until):null}),_toJsonObject:e=>({since:e.since,until:e.until})}},400227,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReplayOutSerializer=void 0;let i=e.r(249610),n=e.r(652335);r.ReplayOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},445417,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Endpoint=void 0;let i=e.r(124347),n=e.r(495248),o=e.r(103400),a=e.r(403781),s=e.r(542417),l=e.r(223360),u=e.r(713668),c=e.r(479749),d=e.r(717088),p=e.r(323393),f=e.r(957685),h=e.r(425741),m=e.r(730978),g=e.r(87479),y=e.r(883060),v=e.r(916946),b=e.r(551234),A=e.r(296744),w=e.r(910217),_=e.r(400227),S=e.r(627928);class E{constructor(e){this.requestCtx=e}list(e,t){let r=new S.SvixRequest(S.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return r.setPathParam("app_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("order",null==t?void 0:t.order),r.send(this.requestCtx,y.ListResponseEndpointOutSerializer._fromJsonObject)}create(e,t,r){let i=new S.SvixRequest(S.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(a.EndpointInSerializer._toJsonObject(t)),i.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}get(e,t){let r=new S.SvixRequest(S.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}update(e,t,r){let i=new S.SvixRequest(S.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(m.EndpointUpdateSerializer._toJsonObject(r)),i.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}delete(e,t){let r=new S.SvixRequest(S.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}patch(e,t,r){let i=new S.SvixRequest(S.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(l.EndpointPatchSerializer._toJsonObject(r)),i.send(this.requestCtx,s.EndpointOutSerializer._fromJsonObject)}getHeaders(e,t){let r=new S.SvixRequest(S.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,n.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t,r){let n=new S.SvixRequest(S.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setBody(i.EndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}headersUpdate(e,t,r){return this.updateHeaders(e,t,r)}patchHeaders(e,t,r){let i=new S.SvixRequest(S.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(o.EndpointHeadersPatchInSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}headersPatch(e,t,r){return this.patchHeaders(e,t,r)}recover(e,t,r,i){let n=new S.SvixRequest(S.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(b.RecoverInSerializer._toJsonObject(r)),n.send(this.requestCtx,A.RecoverOutSerializer._fromJsonObject)}replayMissing(e,t,r,i){let n=new S.SvixRequest(S.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(w.ReplayInSerializer._toJsonObject(r)),n.send(this.requestCtx,_.ReplayOutSerializer._fromJsonObject)}getSecret(e,t){let r=new S.SvixRequest(S.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,u.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,r,i){let n=new S.SvixRequest(S.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(c.EndpointSecretRotateInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}sendExample(e,t,r,i){let n=new S.SvixRequest(S.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(g.EventExampleInSerializer._toJsonObject(r)),n.send(this.requestCtx,v.MessageOutSerializer._fromJsonObject)}getStats(e,t,r){let i=new S.SvixRequest(S.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("since",null==r?void 0:r.since),i.setQueryParam("until",null==r?void 0:r.until),i.send(this.requestCtx,d.EndpointStatsSerializer._fromJsonObject)}transformationGet(e,t){let r=new S.SvixRequest(S.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return r.setPathParam("app_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,f.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(e,t,r){let i=new S.SvixRequest(S.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(h.EndpointTransformationPatchSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(e,t,r){let i=new S.SvixRequest(S.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(p.EndpointTransformationInSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}}r.Endpoint=E},513929,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectorKindSerializer=r.ConnectorKind=void 0,function(e){e.Custom="Custom",e.CloseCrm="CloseCRM",e.CustomerIo="CustomerIO",e.Discord="Discord",e.Hubspot="Hubspot",e.Inngest="Inngest",e.Loops="Loops",e.Resend="Resend",e.Salesforce="Salesforce",e.Segment="Segment",e.Sendgrid="Sendgrid",e.Slack="Slack",e.Teams="Teams",e.TriggerDev="TriggerDev",e.Windmill="Windmill",e.Zapier="Zapier"}(i=r.ConnectorKind||(r.ConnectorKind={})),r.ConnectorKindSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},273384,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectorInSerializer=void 0;let i=e.r(513929);r.ConnectorInSerializer={_fromJsonObject:e=>({description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:e.kind?i.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}),_toJsonObject:e=>({description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:e.kind?i.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation})}},499449,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeInSerializer=void 0,r.EventTypeInSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas})}},349895,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EnvironmentInSerializer=void 0;let i=e.r(273384),n=e.r(499449);r.EnvironmentInSerializer={_fromJsonObject(e){var t,r;return{connectors:null==(t=e.connectors)?void 0:t.map(e=>i.ConnectorInSerializer._fromJsonObject(e)),eventTypes:null==(r=e.eventTypes)?void 0:r.map(e=>n.EventTypeInSerializer._fromJsonObject(e)),settings:e.settings}},_toJsonObject(e){var t,r;return{connectors:null==(t=e.connectors)?void 0:t.map(e=>i.ConnectorInSerializer._toJsonObject(e)),eventTypes:null==(r=e.eventTypes)?void 0:r.map(e=>n.EventTypeInSerializer._toJsonObject(e)),settings:e.settings}}}},749049,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectorOutSerializer=void 0;let i=e.r(513929);r.ConnectorOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,id:e.id,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:i.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,id:e.id,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:i.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:e.updatedAt})}},157813,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeOutSerializer=void 0,r.EventTypeOutSerializer={_fromJsonObject:e=>({archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt})}},286168,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EnvironmentOutSerializer=void 0;let i=e.r(749049),n=e.r(157813);r.EnvironmentOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(e=>n.EventTypeOutSerializer._fromJsonObject(e)),settings:e.settings,transformationTemplates:e.transformationTemplates.map(e=>i.ConnectorOutSerializer._fromJsonObject(e)),version:e.version}),_toJsonObject:e=>({createdAt:e.createdAt,eventTypes:e.eventTypes.map(e=>n.EventTypeOutSerializer._toJsonObject(e)),settings:e.settings,transformationTemplates:e.transformationTemplates.map(e=>i.ConnectorOutSerializer._toJsonObject(e)),version:e.version})}},549550,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Environment=void 0;let i=e.r(349895),n=e.r(286168),o=e.r(627928);class a{constructor(e){this.requestCtx=e}export(e){let t=new o.SvixRequest(o.HttpMethod.POST,"/api/v1/environment/export");return t.setHeaderParam("idempotency-key",null==e?void 0:e.idempotencyKey),t.send(this.requestCtx,n.EnvironmentOutSerializer._fromJsonObject)}import(e,t){let r=new o.SvixRequest(o.HttpMethod.POST,"/api/v1/environment/import");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.EnvironmentInSerializer._toJsonObject(e)),r.sendNoResponseBody(this.requestCtx)}}r.Environment=a},868113,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeImportOpenApiInSerializer=void 0,r.EventTypeImportOpenApiInSerializer={_fromJsonObject:e=>({dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}),_toJsonObject:e=>({dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw})}},295450,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeFromOpenApiSerializer=void 0,r.EventTypeFromOpenApiSerializer={_fromJsonObject:e=>({deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}),_toJsonObject:e=>({deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas})}},538682,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeImportOpenApiOutDataSerializer=void 0;let i=e.r(295450);r.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:null==(t=e.to_modify)?void 0:t.map(e=>i.EventTypeFromOpenApiSerializer._fromJsonObject(e))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:null==(t=e.toModify)?void 0:t.map(e=>i.EventTypeFromOpenApiSerializer._toJsonObject(e))}}}},575867,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeImportOpenApiOutSerializer=void 0;let i=e.r(538682);r.EventTypeImportOpenApiOutSerializer={_fromJsonObject:e=>({data:i.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}),_toJsonObject:e=>({data:i.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)})}},907898,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypePatchSerializer=void 0,r.EventTypePatchSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas})}},682342,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventTypeUpdateSerializer=void 0,r.EventTypeUpdateSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas})}},927699,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseEventTypeOutSerializer=void 0;let i=e.r(157813);r.ListResponseEventTypeOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.EventTypeOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.EventTypeOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},371019,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventType=void 0;let i=e.r(868113),n=e.r(575867),o=e.r(499449),a=e.r(157813),s=e.r(907898),l=e.r(682342),u=e.r(927699),c=e.r(627928);class d{constructor(e){this.requestCtx=e}list(e){let t=new c.SvixRequest(c.HttpMethod.GET,"/api/v1/event-type");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.setQueryParam("include_archived",null==e?void 0:e.includeArchived),t.setQueryParam("with_content",null==e?void 0:e.withContent),t.send(this.requestCtx,u.ListResponseEventTypeOutSerializer._fromJsonObject)}create(e,t){let r=new c.SvixRequest(c.HttpMethod.POST,"/api/v1/event-type");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(o.EventTypeInSerializer._toJsonObject(e)),r.send(this.requestCtx,a.EventTypeOutSerializer._fromJsonObject)}importOpenapi(e,t){let r=new c.SvixRequest(c.HttpMethod.POST,"/api/v1/event-type/import/openapi");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.EventTypeImportOpenApiInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(e){let t=new c.SvixRequest(c.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return t.setPathParam("event_type_name",e),t.send(this.requestCtx,a.EventTypeOutSerializer._fromJsonObject)}update(e,t){let r=new c.SvixRequest(c.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",e),r.setBody(l.EventTypeUpdateSerializer._toJsonObject(t)),r.send(this.requestCtx,a.EventTypeOutSerializer._fromJsonObject)}delete(e,t){let r=new c.SvixRequest(c.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",e),r.setQueryParam("expunge",null==t?void 0:t.expunge),r.sendNoResponseBody(this.requestCtx)}patch(e,t){let r=new c.SvixRequest(c.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",e),r.setBody(s.EventTypePatchSerializer._toJsonObject(t)),r.send(this.requestCtx,a.EventTypeOutSerializer._fromJsonObject)}}r.EventType=d},924492,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Health=void 0;let i=e.r(627928);class n{constructor(e){this.requestCtx=e}get(){return new i.SvixRequest(i.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}}r.Health=n},735655,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSourceConsumerPortalAccessInSerializer=void 0,r.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject:e=>({expiry:e.expiry,readOnly:e.readOnly}),_toJsonObject:e=>({expiry:e.expiry,readOnly:e.readOnly})}},192598,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointHeadersInSerializer=void 0,r.IngestEndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})}},387798,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointHeadersOutSerializer=void 0,r.IngestEndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})}},475367,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointInSerializer=void 0,r.IngestEndpointInSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url})}},67012,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointOutSerializer=void 0,r.IngestEndpointOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url})}},715099,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointSecretInSerializer=void 0,r.IngestEndpointSecretInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},923427,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointSecretOutSerializer=void 0,r.IngestEndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},783515,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointTransformationOutSerializer=void 0,r.IngestEndpointTransformationOutSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},575220,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointTransformationPatchSerializer=void 0,r.IngestEndpointTransformationPatchSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})}},385413,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpointUpdateSerializer=void 0,r.IngestEndpointUpdateSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url})}},555651,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseIngestEndpointOutSerializer=void 0;let i=e.r(67012);r.ListResponseIngestEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.IngestEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.IngestEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},660802,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestEndpoint=void 0;let i=e.r(192598),n=e.r(387798),o=e.r(475367),a=e.r(67012),s=e.r(715099),l=e.r(923427),u=e.r(783515),c=e.r(575220),d=e.r(385413),p=e.r(555651),f=e.r(627928);class h{constructor(e){this.requestCtx=e}list(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return r.setPathParam("source_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("order",null==t?void 0:t.order),r.send(this.requestCtx,p.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(e,t,r){let i=new f.SvixRequest(f.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return i.setPathParam("source_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(o.IngestEndpointInSerializer._toJsonObject(t)),i.send(this.requestCtx,a.IngestEndpointOutSerializer._fromJsonObject)}get(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,a.IngestEndpointOutSerializer._fromJsonObject)}update(e,t,r){let i=new f.SvixRequest(f.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(d.IngestEndpointUpdateSerializer._toJsonObject(r)),i.send(this.requestCtx,a.IngestEndpointOutSerializer._fromJsonObject)}delete(e,t){let r=new f.SvixRequest(f.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}getHeaders(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,n.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t,r){let n=new f.SvixRequest(f.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("source_id",e),n.setPathParam("endpoint_id",t),n.setBody(i.IngestEndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getSecret(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,l.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,r,i){let n=new f.SvixRequest(f.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return n.setPathParam("source_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(s.IngestEndpointSecretInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getTransformation(e,t){let r=new f.SvixRequest(f.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return r.setPathParam("source_id",e),r.setPathParam("endpoint_id",t),r.send(this.requestCtx,u.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(e,t,r){let i=new f.SvixRequest(f.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(c.IngestEndpointTransformationPatchSerializer._toJsonObject(r)),i.sendNoResponseBody(this.requestCtx)}}r.IngestEndpoint=h},374847,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AdobeSignConfigSerializer=void 0,r.AdobeSignConfigSerializer={_fromJsonObject:e=>({clientId:e.clientId}),_toJsonObject:e=>({clientId:e.clientId})}},528189,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AirwallexConfigSerializer=void 0,r.AirwallexConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},547385,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CheckbookConfigSerializer=void 0,r.CheckbookConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},494736,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CronConfigSerializer=void 0,r.CronConfigSerializer={_fromJsonObject:e=>({contentType:e.contentType,payload:e.payload,schedule:e.schedule}),_toJsonObject:e=>({contentType:e.contentType,payload:e.payload,schedule:e.schedule})}},28378,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DocusignConfigSerializer=void 0,r.DocusignConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},251106,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EasypostConfigSerializer=void 0,r.EasypostConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},360894,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GithubConfigSerializer=void 0,r.GithubConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},812892,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HubspotConfigSerializer=void 0,r.HubspotConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},196021,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrumIoConfigSerializer=void 0,r.OrumIoConfigSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},471612,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PandaDocConfigSerializer=void 0,r.PandaDocConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},168170,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PortIoConfigSerializer=void 0,r.PortIoConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},831087,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RutterConfigSerializer=void 0,r.RutterConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},736035,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SegmentConfigSerializer=void 0,r.SegmentConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},710923,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ShopifyConfigSerializer=void 0,r.ShopifyConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},761493,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SlackConfigSerializer=void 0,r.SlackConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},97424,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StripeConfigSerializer=void 0,r.StripeConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},146954,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SvixConfigSerializer=void 0,r.SvixConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},32180,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TelnyxConfigSerializer=void 0,r.TelnyxConfigSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},402378,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VapiConfigSerializer=void 0,r.VapiConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},562974,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VeriffConfigSerializer=void 0,r.VeriffConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},18698,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ZoomConfigSerializer=void 0,r.ZoomConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})}},346610,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSourceInSerializer=void 0;let i=e.r(374847),n=e.r(528189),o=e.r(547385),a=e.r(494736),s=e.r(28378),l=e.r(251106),u=e.r(360894),c=e.r(812892),d=e.r(196021),p=e.r(471612),f=e.r(168170),h=e.r(831087),m=e.r(736035),g=e.r(710923),y=e.r(761493),v=e.r(97424),b=e.r(146954),A=e.r(32180),w=e.r(402378),_=e.r(562974),S=e.r(18698);r.IngestSourceInSerializer={_fromJsonObject(e){let t=e.type;return{type:t,config:function(t){switch(t){case"generic-webhook":return{};case"cron":return a.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return i.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return b.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return o.CheckbookConfigSerializer._fromJsonObject(e.config);case"docusign":return s.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return l.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return u.GithubConfigSerializer._fromJsonObject(e.config);case"hubspot":return c.HubspotConfigSerializer._fromJsonObject(e.config);case"orum-io":return d.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return p.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return f.PortIoConfigSerializer._fromJsonObject(e.config);case"rutter":return h.RutterConfigSerializer._fromJsonObject(e.config);case"segment":return m.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return g.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return y.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return v.StripeConfigSerializer._fromJsonObject(e.config);case"zoom":return S.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return A.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return w.VapiConfigSerializer._fromJsonObject(e.config);case"veriff":return _.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return n.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw Error(`Unexpected type: ${t}`)}}(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=a.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=i.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":t=b.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=o.CheckbookConfigSerializer._toJsonObject(e.config);break;case"docusign":t=s.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=l.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=u.GithubConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=c.HubspotConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=d.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=p.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=f.PortIoConfigSerializer._toJsonObject(e.config);break;case"rutter":t=h.RutterConfigSerializer._toJsonObject(e.config);break;case"segment":t=m.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=g.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=y.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=v.StripeConfigSerializer._toJsonObject(e.config);break;case"zoom":t=S.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=A.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=w.VapiConfigSerializer._toJsonObject(e.config);break;case"veriff":t=_.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=n.AirwallexConfigSerializer._toJsonObject(e.config)}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}}},632426,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AdobeSignConfigOutSerializer=void 0,r.AdobeSignConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},343561,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AirwallexConfigOutSerializer=void 0,r.AirwallexConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},195547,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CheckbookConfigOutSerializer=void 0,r.CheckbookConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},459488,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DocusignConfigOutSerializer=void 0,r.DocusignConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},639805,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EasypostConfigOutSerializer=void 0,r.EasypostConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},400437,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GithubConfigOutSerializer=void 0,r.GithubConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},47769,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HubspotConfigOutSerializer=void 0,r.HubspotConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},306243,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrumIoConfigOutSerializer=void 0,r.OrumIoConfigOutSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},460057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PandaDocConfigOutSerializer=void 0,r.PandaDocConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},338667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PortIoConfigOutSerializer=void 0,r.PortIoConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},818386,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RutterConfigOutSerializer=void 0,r.RutterConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},494535,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SegmentConfigOutSerializer=void 0,r.SegmentConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},939434,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ShopifyConfigOutSerializer=void 0,r.ShopifyConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},881353,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SlackConfigOutSerializer=void 0,r.SlackConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},781426,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StripeConfigOutSerializer=void 0,r.StripeConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},949156,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SvixConfigOutSerializer=void 0,r.SvixConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},370022,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TelnyxConfigOutSerializer=void 0,r.TelnyxConfigOutSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})}},957989,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VapiConfigOutSerializer=void 0,r.VapiConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},202785,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VeriffConfigOutSerializer=void 0,r.VeriffConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},331103,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ZoomConfigOutSerializer=void 0,r.ZoomConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})}},29051,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSourceOutSerializer=void 0;let i=e.r(632426),n=e.r(343561),o=e.r(195547),a=e.r(494736),s=e.r(459488),l=e.r(639805),u=e.r(400437),c=e.r(47769),d=e.r(306243),p=e.r(460057),f=e.r(338667),h=e.r(818386),m=e.r(494535),g=e.r(939434),y=e.r(881353),v=e.r(781426),b=e.r(949156),A=e.r(370022),w=e.r(957989),_=e.r(202785),S=e.r(331103);r.IngestSourceOutSerializer={_fromJsonObject(e){let t=e.type;return{type:t,config:function(t){switch(t){case"generic-webhook":return{};case"cron":return a.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return i.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return b.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return o.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"docusign":return s.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return l.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return u.GithubConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return c.HubspotConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return d.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return p.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return f.PortIoConfigOutSerializer._fromJsonObject(e.config);case"rutter":return h.RutterConfigOutSerializer._fromJsonObject(e.config);case"segment":return m.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return g.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return y.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return v.StripeConfigOutSerializer._fromJsonObject(e.config);case"zoom":return S.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return A.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return w.VapiConfigOutSerializer._fromJsonObject(e.config);case"veriff":return _.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return n.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw Error(`Unexpected type: ${t}`)}}(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=a.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=i.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":t=b.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=o.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=s.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=l.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=u.GithubConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=c.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=d.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=p.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=f.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=h.RutterConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=m.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=g.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=y.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=v.StripeConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=S.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=A.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=w.VapiConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=_.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=n.AirwallexConfigOutSerializer._toJsonObject(e.config)}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}},196754,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseIngestSourceOutSerializer=void 0;let i=e.r(29051);r.ListResponseIngestSourceOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.IngestSourceOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.IngestSourceOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},354708,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RotateTokenOutSerializer=void 0,r.RotateTokenOutSerializer={_fromJsonObject:e=>({ingestUrl:e.ingestUrl}),_toJsonObject:e=>({ingestUrl:e.ingestUrl})}},405464,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IngestSource=void 0;let i=e.r(346610),n=e.r(29051),o=e.r(196754),a=e.r(354708),s=e.r(627928);class l{constructor(e){this.requestCtx=e}list(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/ingest/api/v1/source");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,o.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/ingest/api/v1/source");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(i.IngestSourceInSerializer._toJsonObject(e)),r.send(this.requestCtx,n.IngestSourceOutSerializer._fromJsonObject)}get(e){let t=new s.SvixRequest(s.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return t.setPathParam("source_id",e),t.send(this.requestCtx,n.IngestSourceOutSerializer._fromJsonObject)}update(e,t){let r=new s.SvixRequest(s.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",e),r.setBody(i.IngestSourceInSerializer._toJsonObject(t)),r.send(this.requestCtx,n.IngestSourceOutSerializer._fromJsonObject)}delete(e){let t=new s.SvixRequest(s.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return t.setPathParam("source_id",e),t.sendNoResponseBody(this.requestCtx)}rotateToken(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return r.setPathParam("source_id",e),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.send(this.requestCtx,a.RotateTokenOutSerializer._fromJsonObject)}}r.IngestSource=l},220694,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Ingest=void 0;let i=e.r(587082),n=e.r(735655),o=e.r(660802),a=e.r(405464),s=e.r(627928);class l{constructor(e){this.requestCtx=e}get endpoint(){return new o.IngestEndpoint(this.requestCtx)}get source(){return new a.IngestSource(this.requestCtx)}dashboard(e,t,r){let o=new s.SvixRequest(s.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return o.setPathParam("source_id",e),o.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),o.setBody(n.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(t)),o.send(this.requestCtx,i.DashboardAccessOutSerializer._fromJsonObject)}}r.Ingest=l},330210,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationInSerializer=void 0,r.IntegrationInSerializer={_fromJsonObject:e=>({featureFlags:e.featureFlags,name:e.name}),_toJsonObject:e=>({featureFlags:e.featureFlags,name:e.name})}},35026,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationKeyOutSerializer=void 0,r.IntegrationKeyOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},469691,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationOutSerializer=void 0,r.IntegrationOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt})}},977250,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IntegrationUpdateSerializer=void 0,r.IntegrationUpdateSerializer={_fromJsonObject:e=>({featureFlags:e.featureFlags,name:e.name}),_toJsonObject:e=>({featureFlags:e.featureFlags,name:e.name})}},992619,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseIntegrationOutSerializer=void 0;let i=e.r(469691);r.ListResponseIntegrationOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.IntegrationOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.IntegrationOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},618407,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Integration=void 0;let i=e.r(330210),n=e.r(35026),o=e.r(469691),a=e.r(977250),s=e.r(992619),l=e.r(627928);class u{constructor(e){this.requestCtx=e}list(e,t){let r=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return r.setPathParam("app_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("order",null==t?void 0:t.order),r.send(this.requestCtx,s.ListResponseIntegrationOutSerializer._fromJsonObject)}create(e,t,r){let n=new l.SvixRequest(l.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return n.setPathParam("app_id",e),n.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),n.setBody(i.IntegrationInSerializer._toJsonObject(t)),n.send(this.requestCtx,o.IntegrationOutSerializer._fromJsonObject)}get(e,t){let r=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return r.setPathParam("app_id",e),r.setPathParam("integ_id",t),r.send(this.requestCtx,o.IntegrationOutSerializer._fromJsonObject)}update(e,t,r){let i=new l.SvixRequest(l.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return i.setPathParam("app_id",e),i.setPathParam("integ_id",t),i.setBody(a.IntegrationUpdateSerializer._toJsonObject(r)),i.send(this.requestCtx,o.IntegrationOutSerializer._fromJsonObject)}delete(e,t){let r=new l.SvixRequest(l.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return r.setPathParam("app_id",e),r.setPathParam("integ_id",t),r.sendNoResponseBody(this.requestCtx)}getKey(e,t){let r=new l.SvixRequest(l.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return r.setPathParam("app_id",e),r.setPathParam("integ_id",t),r.send(this.requestCtx,n.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(e,t,r){let i=new l.SvixRequest(l.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return i.setPathParam("app_id",e),i.setPathParam("integ_id",t),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.send(this.requestCtx,n.IntegrationKeyOutSerializer._fromJsonObject)}}r.Integration=u},229385,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExpungeAllContentsOutSerializer=void 0;let i=e.r(249610),n=e.r(652335);r.ExpungeAllContentsOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},504876,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseMessageOutSerializer=void 0;let i=e.r(916946);r.ListResponseMessageOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.MessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.MessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},884929,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointConsumerSeekInSerializer=void 0,r.PollingEndpointConsumerSeekInSerializer={_fromJsonObject:e=>({after:new Date(e.after)}),_toJsonObject:e=>({after:e.after})}},767781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointConsumerSeekOutSerializer=void 0,r.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject:e=>({iterator:e.iterator}),_toJsonObject:e=>({iterator:e.iterator})}},246803,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointMessageOutSerializer=void 0,r.PollingEndpointMessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp})}},261955,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PollingEndpointOutSerializer=void 0;let i=e.r(246803);r.PollingEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.PollingEndpointMessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator}),_toJsonObject:e=>({data:e.data.map(e=>i.PollingEndpointMessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator})}},244853,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessagePoller=void 0;let i=e.r(884929),n=e.r(767781),o=e.r(261955),a=e.r(627928);class s{constructor(e){this.requestCtx=e}poll(e,t,r){let i=new a.SvixRequest(a.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return i.setPathParam("app_id",e),i.setPathParam("sink_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.setQueryParam("event_type",null==r?void 0:r.eventType),i.setQueryParam("channel",null==r?void 0:r.channel),i.setQueryParam("after",null==r?void 0:r.after),i.send(this.requestCtx,o.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(e,t,r,i){let n=new a.SvixRequest(a.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return n.setPathParam("app_id",e),n.setPathParam("sink_id",t),n.setPathParam("consumer_id",r),n.setQueryParam("limit",null==i?void 0:i.limit),n.setQueryParam("iterator",null==i?void 0:i.iterator),n.send(this.requestCtx,o.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(e,t,r,o,s){let l=new a.SvixRequest(a.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return l.setPathParam("app_id",e),l.setPathParam("sink_id",t),l.setPathParam("consumer_id",r),l.setHeaderParam("idempotency-key",null==s?void 0:s.idempotencyKey),l.setBody(i.PollingEndpointConsumerSeekInSerializer._toJsonObject(o)),l.send(this.requestCtx,n.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}}r.MessagePoller=s},480987,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageInSerializer=void 0;let i=e.r(542691);r.MessageInSerializer={_fromJsonObject:e=>({application:e.application?i.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}),_toJsonObject:e=>({application:e.application?i.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams})}},404848,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.messageInRaw=r.Message=void 0;let i=e.r(229385),n=e.r(504876),o=e.r(916946),a=e.r(244853),s=e.r(627928),l=e.r(480987);class u{constructor(e){this.requestCtx=e}get poller(){return new a.MessagePoller(this.requestCtx)}list(e,t){let r=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return r.setPathParam("app_id",e),r.setQueryParam("limit",null==t?void 0:t.limit),r.setQueryParam("iterator",null==t?void 0:t.iterator),r.setQueryParam("channel",null==t?void 0:t.channel),r.setQueryParam("before",null==t?void 0:t.before),r.setQueryParam("after",null==t?void 0:t.after),r.setQueryParam("with_content",null==t?void 0:t.withContent),r.setQueryParam("tag",null==t?void 0:t.tag),r.setQueryParam("event_types",null==t?void 0:t.eventTypes),r.send(this.requestCtx,n.ListResponseMessageOutSerializer._fromJsonObject)}create(e,t,r){let i=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return i.setPathParam("app_id",e),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(l.MessageInSerializer._toJsonObject(t)),i.send(this.requestCtx,o.MessageOutSerializer._fromJsonObject)}expungeAllContents(e,t){let r=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return r.setPathParam("app_id",e),r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.send(this.requestCtx,i.ExpungeAllContentsOutSerializer._fromJsonObject)}get(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.send(this.requestCtx,o.MessageOutSerializer._fromJsonObject)}expungeContent(e,t){let r=new s.SvixRequest(s.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return r.setPathParam("app_id",e),r.setPathParam("msg_id",t),r.sendNoResponseBody(this.requestCtx)}}r.Message=u,r.messageInRaw=function(e,t,r){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:r?{"content-type":r}:void 0}}}},452959,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.MessageStatusSerializer=r.MessageStatus=void 0,function(e){e[e.Success=0]="Success",e[e.Pending=1]="Pending",e[e.Fail=2]="Fail",e[e.Sending=3]="Sending"}(i=r.MessageStatus||(r.MessageStatus={})),r.MessageStatusSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},546109,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.MessageStatusTextSerializer=r.MessageStatusText=void 0,function(e){e.Success="success",e.Pending="pending",e.Fail="fail",e.Sending="sending"}(i=r.MessageStatusText||(r.MessageStatusText={})),r.MessageStatusTextSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},900018,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointMessageOutSerializer=void 0;let i=e.r(452959),n=e.r(546109);r.EndpointMessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:i.MessageStatusSerializer._fromJsonObject(e.status),statusText:n.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:i.MessageStatusSerializer._toJsonObject(e.status),statusText:n.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp})}},442361,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseEndpointMessageOutSerializer=void 0;let i=e.r(900018);r.ListResponseEndpointMessageOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.EndpointMessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.EndpointMessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},401347,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.MessageAttemptTriggerTypeSerializer=r.MessageAttemptTriggerType=void 0,function(e){e[e.Scheduled=0]="Scheduled",e[e.Manual=1]="Manual"}(i=r.MessageAttemptTriggerType||(r.MessageAttemptTriggerType={})),r.MessageAttemptTriggerTypeSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},292934,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageAttemptOutSerializer=void 0;let i=e.r(401347),n=e.r(916946),o=e.r(452959),a=e.r(546109);r.MessageAttemptOutSerializer={_fromJsonObject:e=>({endpointId:e.endpointId,id:e.id,msg:e.msg?n.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:o.MessageStatusSerializer._fromJsonObject(e.status),statusText:a.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:i.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}),_toJsonObject:e=>({endpointId:e.endpointId,id:e.id,msg:e.msg?n.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:o.MessageStatusSerializer._toJsonObject(e.status),statusText:a.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:i.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url})}},655882,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseMessageAttemptOutSerializer=void 0;let i=e.r(292934);r.ListResponseMessageAttemptOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.MessageAttemptOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.MessageAttemptOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},860175,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageEndpointOutSerializer=void 0;let i=e.r(452959),n=e.r(546109);r.MessageEndpointOutSerializer={_fromJsonObject:e=>({channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:i.MessageStatusSerializer._fromJsonObject(e.status),statusText:n.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:i.MessageStatusSerializer._toJsonObject(e.status),statusText:n.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version})}},321680,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseMessageEndpointOutSerializer=void 0;let i=e.r(860175);r.ListResponseMessageEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.MessageEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.MessageEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},793336,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageAttempt=void 0;let i=e.r(442361),n=e.r(655882),o=e.r(321680),a=e.r(292934),s=e.r(627928);class l{constructor(e){this.requestCtx=e}listByEndpoint(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.setQueryParam("status",null==r?void 0:r.status),i.setQueryParam("status_code_class",null==r?void 0:r.statusCodeClass),i.setQueryParam("channel",null==r?void 0:r.channel),i.setQueryParam("tag",null==r?void 0:r.tag),i.setQueryParam("before",null==r?void 0:r.before),i.setQueryParam("after",null==r?void 0:r.after),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.setQueryParam("with_msg",null==r?void 0:r.withMsg),i.setQueryParam("event_types",null==r?void 0:r.eventTypes),i.send(this.requestCtx,n.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.setQueryParam("status",null==r?void 0:r.status),i.setQueryParam("status_code_class",null==r?void 0:r.statusCodeClass),i.setQueryParam("channel",null==r?void 0:r.channel),i.setQueryParam("tag",null==r?void 0:r.tag),i.setQueryParam("endpoint_id",null==r?void 0:r.endpointId),i.setQueryParam("before",null==r?void 0:r.before),i.setQueryParam("after",null==r?void 0:r.after),i.setQueryParam("with_content",null==r?void 0:r.withContent),i.setQueryParam("event_types",null==r?void 0:r.eventTypes),i.send(this.requestCtx,n.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(e,t,r){let n=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setQueryParam("limit",null==r?void 0:r.limit),n.setQueryParam("iterator",null==r?void 0:r.iterator),n.setQueryParam("channel",null==r?void 0:r.channel),n.setQueryParam("tag",null==r?void 0:r.tag),n.setQueryParam("status",null==r?void 0:r.status),n.setQueryParam("before",null==r?void 0:r.before),n.setQueryParam("after",null==r?void 0:r.after),n.setQueryParam("with_content",null==r?void 0:r.withContent),n.setQueryParam("event_types",null==r?void 0:r.eventTypes),n.send(this.requestCtx,i.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setPathParam("attempt_id",r),i.send(this.requestCtx,a.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(e,t,r){let i=new s.SvixRequest(s.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setPathParam("attempt_id",r),i.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(e,t,r){let i=new s.SvixRequest(s.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("limit",null==r?void 0:r.limit),i.setQueryParam("iterator",null==r?void 0:r.iterator),i.send(this.requestCtx,o.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(e,t,r,i){let n=new s.SvixRequest(s.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return n.setPathParam("app_id",e),n.setPathParam("msg_id",t),n.setPathParam("endpoint_id",r),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.sendNoResponseBody(this.requestCtx)}}r.MessageAttempt=l},260400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointOutSerializer=void 0,r.OperationalWebhookEndpointOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url})}},416938,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListResponseOperationalWebhookEndpointOutSerializer=void 0;let i=e.r(260400);r.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>i.OperationalWebhookEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>i.OperationalWebhookEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})}},211668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointHeadersInSerializer=void 0,r.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})}},48232,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointHeadersOutSerializer=void 0,r.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})}},146794,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointInSerializer=void 0,r.OperationalWebhookEndpointInSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url})}},220132,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointSecretInSerializer=void 0,r.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},356151,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointSecretOutSerializer=void 0,r.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})}},245133,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpointUpdateSerializer=void 0,r.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url})}},37039,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhookEndpoint=void 0;let i=e.r(416938),n=e.r(211668),o=e.r(48232),a=e.r(146794),s=e.r(260400),l=e.r(220132),u=e.r(356151),c=e.r(245133),d=e.r(627928);class p{constructor(e){this.requestCtx=e}list(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,i.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(e,t){let r=new d.SvixRequest(d.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(a.OperationalWebhookEndpointInSerializer._toJsonObject(e)),r.send(this.requestCtx,s.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,s.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(e,t){let r=new d.SvixRequest(d.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",e),r.setBody(c.OperationalWebhookEndpointUpdateSerializer._toJsonObject(t)),r.send(this.requestCtx,s.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(e){let t=new d.SvixRequest(d.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return t.setPathParam("endpoint_id",e),t.sendNoResponseBody(this.requestCtx)}getHeaders(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,o.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t){let r=new d.SvixRequest(d.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return r.setPathParam("endpoint_id",e),r.setBody(n.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(t)),r.sendNoResponseBody(this.requestCtx)}getSecret(e){let t=new d.SvixRequest(d.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,u.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,r){let i=new d.SvixRequest(d.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("endpoint_id",e),i.setHeaderParam("idempotency-key",null==r?void 0:r.idempotencyKey),i.setBody(l.OperationalWebhookEndpointSecretInSerializer._toJsonObject(t)),i.sendNoResponseBody(this.requestCtx)}}r.OperationalWebhookEndpoint=p},984202,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalWebhook=void 0;let i=e.r(37039);class n{constructor(e){this.requestCtx=e}get endpoint(){return new i.OperationalWebhookEndpoint(this.requestCtx)}}r.OperationalWebhook=n},212161,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AggregateEventTypesOutSerializer=void 0;let i=e.r(249610),n=e.r(652335);r.AggregateEventTypesOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task)})}},569061,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppUsageStatsInSerializer=void 0,r.AppUsageStatsInSerializer={_fromJsonObject:e=>({appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}),_toJsonObject:e=>({appIds:e.appIds,since:e.since,until:e.until})}},660948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AppUsageStatsOutSerializer=void 0;let i=e.r(249610),n=e.r(652335);r.AppUsageStatsOutSerializer={_fromJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}),_toJsonObject:e=>({id:e.id,status:i.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:n.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds})}},278329,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Statistics=void 0;let i=e.r(212161),n=e.r(569061),o=e.r(660948),a=e.r(627928);class s{constructor(e){this.requestCtx=e}aggregateAppStats(e,t){let r=new a.SvixRequest(a.HttpMethod.POST,"/api/v1/stats/usage/app");return r.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),r.setBody(n.AppUsageStatsInSerializer._toJsonObject(e)),r.send(this.requestCtx,o.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new a.SvixRequest(a.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,i.AggregateEventTypesOutSerializer._fromJsonObject)}}r.Statistics=s},354384,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HTTPValidationError=r.ValidationError=r.HttpErrorOut=void 0;class i{static getAttributeTypeMap(){return i.attributeTypeMap}}r.HttpErrorOut=i,i.discriminator=void 0,i.mapping=void 0,i.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];class n{static getAttributeTypeMap(){return n.attributeTypeMap}}r.ValidationError=n,n.discriminator=void 0,n.mapping=void 0,n.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];class o{static getAttributeTypeMap(){return o.attributeTypeMap}}r.HTTPValidationError=o,o.discriminator=void 0,o.mapping=void 0,o.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]},934507,(e,t,r)=>{"use strict";function i(e,t=""){if(!e)throw Error(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.timingSafeEqual=void 0,r.timingSafeEqual=function(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),i(e instanceof DataView),i(t instanceof DataView);let r=e.byteLength,n=0,o=-1;for(;++o<r;)n|=e.getUint8(o)^t.getUint8(o);return 0===n}},72749,(e,t,r)=>{"use strict";var i=e.e&&e.e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=256,o=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",r=0;r<e.length-2;r+=3){var i=e[r]<<16|e[r+1]<<8|e[r+2];t+=this._encodeByte(i>>>18&63),t+=this._encodeByte(i>>>12&63),t+=this._encodeByte(i>>>6&63),t+=this._encodeByte(i>>>0&63)}var n=e.length-r;if(n>0){var i=e[r]<<16|(2===n?e[r+1]<<8:0);t+=this._encodeByte(i>>>18&63),t+=this._encodeByte(i>>>12&63),2===n?t+=this._encodeByte(i>>>6&63):t+=this._paddingCharacter||"",t+=this._paddingCharacter||""}return t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),r=e.length-t,i=new Uint8Array(this.maxDecodedLength(r)),o=0,a=0,s=0,l=0,u=0,c=0,d=0;a<r-4;a+=4)l=this._decodeChar(e.charCodeAt(a+0)),u=this._decodeChar(e.charCodeAt(a+1)),c=this._decodeChar(e.charCodeAt(a+2)),d=this._decodeChar(e.charCodeAt(a+3)),i[o++]=l<<2|u>>>4,i[o++]=u<<4|c>>>2,i[o++]=c<<6|d,s|=l&n,s|=u&n,s|=c&n,s|=d&n;if(a<r-1&&(l=this._decodeChar(e.charCodeAt(a)),u=this._decodeChar(e.charCodeAt(a+1)),i[o++]=l<<2|u>>>4,s|=l&n,s|=u&n),a<r-2&&(c=this._decodeChar(e.charCodeAt(a+2)),i[o++]=u<<4|c>>>2,s|=c&n),a<r-3&&(d=this._decodeChar(e.charCodeAt(a+3)),i[o++]=c<<6|d,s|=d&n),0!==s)throw Error("Base64Coder: incorrect characters for decoding");return i},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,String.fromCharCode(t+=62-e>>>8&3)},e.prototype._decodeChar=function(e){var t=n;return t+=(42-e&e-44)>>>8&-n+e-43+62,t+=(46-e&e-48)>>>8&-n+e-47+63,t+=(47-e&e-58)>>>8&-n+e-48+52,t+=(64-e&e-91)>>>8&-n+e-65+0,t+=(96-e&e-123)>>>8&-n+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var r=e.length-1;r>=0&&e[r]===this._paddingCharacter;r--)t++;if(e.length<4||t>2)throw Error("Base64Coder: incorrect padding")}return t},e}();r.Coder=o;var a=new o;r.encode=function(e){return a.encode(e)},r.decode=function(e){return a.decode(e)};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,String.fromCharCode(t+=62-e>>>8&49)},t.prototype._decodeChar=function(e){var t=n;return t+=(44-e&e-46)>>>8&-n+e-45+62,t+=(94-e&e-96)>>>8&-n+e-95+63,t+=(47-e&e-58)>>>8&-n+e-48+52,t+=(64-e&e-91)>>>8&-n+e-65+0,t+=(96-e&e-123)>>>8&-n+e-97+26},t}(o);r.URLSafeCoder=s;var l=new s;r.encodeURLSafe=function(e){return l.encode(e)},r.decodeURLSafe=function(e){return l.decode(e)},r.encodedLength=function(e){return a.encodedLength(e)},r.maxDecodedLength=function(e){return a.maxDecodedLength(e)},r.decodedLength=function(e){return a.decodedLength(e)}},426900,(e,t,r)=>{!function(r,i){var n={};i(n);var o=n.default;for(var a in n)o[a]=n[a];if("object"==typeof t.exports)t.exports=o;else if("function"==typeof define&&define.amd){let t;e.r,void 0!==(t=o)&&e.v(t)}else r.sha256=o}(e.e,function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]);function r(e,r,i,n,o){for(var a,s,l,u,c,d,p,f,h,m,g,y,v;o>=64;){for(m=0,a=r[0],s=r[1],l=r[2],u=r[3],c=r[4],d=r[5],p=r[6],f=r[7];m<16;m++)g=n+4*m,e[m]=(255&i[g])<<24|(255&i[g+1])<<16|(255&i[g+2])<<8|255&i[g+3];for(m=16;m<64;m++)y=((h=e[m-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,v=((h=e[m-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,e[m]=(y+e[m-7]|0)+(v+e[m-16]|0);for(m=0;m<64;m++)y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&p)|0)+(f+(t[m]+e[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&l^s&l)|0,f=p,p=d,d=c,c=u+y|0,u=l,l=s,s=a,a=y+v|0;r[0]+=a,r[1]+=s,r[2]+=l,r[3]+=u,r[4]+=c,r[5]+=d,r[6]+=p,r[7]+=f,n+=64,o-=64}return n}var i=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=0x6a09e667,this.state[1]=0xbb67ae85,this.state[2]=0x3c6ef372,this.state[3]=0xa54ff53a,this.state[4]=0x510e527f,this.state[5]=0x9b05688c,this.state[6]=0x1f83d9ab,this.state[7]=0x5be0cd19,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw Error("SHA256: can't update because hash was finished.");var i=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[i++],t--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(i=r(this.temp,this.state,e,i,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[i++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,i=this.bufferLength,n=t/0x20000000|0,o=t<<3,a=t%64<56?64:128;this.buffer[i]=128;for(var s=i+1;s<a-8;s++)this.buffer[s]=0;this.buffer[a-8]=n>>>24&255,this.buffer[a-7]=n>>>16&255,this.buffer[a-6]=n>>>8&255,this.buffer[a-5]=n>>>0&255,this.buffer[a-4]=o>>>24&255,this.buffer[a-3]=o>>>16&255,this.buffer[a-2]=o>>>8&255,this.buffer[a-1]=o>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(var s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=i;var n=function(){function e(e){this.inner=new i,this.outer=new i,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)new i().update(e).finish(t).clean();else for(var r=0;r<e.length;r++)t[r]=e[r];for(var r=0;r<t.length;r++)t[r]^=54;this.inner.update(t);for(var r=0;r<t.length;r++)t[r]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var r=0;r<t.length;r++)t[r]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function o(e){var t=new i().update(e),r=t.digest();return t.clean(),r}function a(e,t){var r=new n(e).update(t),i=r.digest();return r.clean(),i}function s(e,t,r,i){var n=i[0];if(0===n)throw Error("hkdf: cannot expand more");t.reset(),n>1&&t.update(e),r&&t.update(r),t.update(i),t.finish(e),i[0]++}e.HMAC=n,e.hash=o,e.default=o,e.hmac=a;var l=new Uint8Array(e.digestLength);e.hkdf=function(e,t,r,i){void 0===t&&(t=l),void 0===i&&(i=32);for(var o=new Uint8Array([1]),u=new n(a(t,e)),c=new Uint8Array(u.digestLength),d=c.length,p=new Uint8Array(i),f=0;f<i;f++)d===c.length&&(s(c,u,r,o),d=0),p[f]=c[d++];return u.clean(),c.fill(0),o.fill(0),p},e.pbkdf2=function(e,t,r,i){for(var o=new n(e),a=o.digestLength,s=new Uint8Array(4),l=new Uint8Array(a),u=new Uint8Array(a),c=new Uint8Array(i),d=0;d*a<i;d++){var p=d+1;s[0]=p>>>24&255,s[1]=p>>>16&255,s[2]=p>>>8&255,s[3]=p>>>0&255,o.reset(),o.update(t),o.update(s),o.finish(u);for(var f=0;f<a;f++)l[f]=u[f];for(var f=2;f<=r;f++){o.reset(),o.update(u).finish(u);for(var h=0;h<a;h++)l[h]^=u[h]}for(var f=0;f<a&&d*a+f<i;f++)c[d*a+f]=l[f]}for(var d=0;d<a;d++)l[d]=u[d]=0;for(var d=0;d<4;d++)s[d]=0;return o.clean(),c}})},557156,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Webhook=r.WebhookVerificationError=void 0;let i=e.r(934507),n=e.r(72749),o=e.r(426900),a=300;class s extends Error{constructor(e){super(e),Object.setPrototypeOf(this,s.prototype),this.name="ExtendableError",this.stack=Error(e).stack}}class l extends s{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype),this.name="WebhookVerificationError"}}r.WebhookVerificationError=l;class u{constructor(e,t){if(!e)throw Error("Secret can't be empty.");if((null==t?void 0:t.format)==="raw")e instanceof Uint8Array?this.key=e:this.key=Uint8Array.from(e,e=>e.charCodeAt(0));else{if("string"!=typeof e)throw Error("Expected secret to be of type string");e.startsWith(u.prefix)&&(e=e.substring(u.prefix.length)),this.key=n.decode(e)}}verify(e,t){let r={};for(let e of Object.keys(t))r[e.toLowerCase()]=t[e];let n=r["svix-id"],o=r["svix-signature"],a=r["svix-timestamp"];if((!o||!n||!a)&&(n=r["webhook-id"],o=r["webhook-signature"],a=r["webhook-timestamp"],!o||!n||!a))throw new l("Missing required headers");let s=this.verifyTimestamp(a),u=this.sign(n,s,e).split(",")[1],c=o.split(" "),d=new globalThis.TextEncoder;for(let t of c){let[r,n]=t.split(",");if("v1"===r&&(0,i.timingSafeEqual)(d.encode(n),d.encode(u)))return JSON.parse(e.toString())}throw new l("No matching signature found")}sign(e,t,r){if("string"==typeof r);else if("Buffer"===r.constructor.name)r=r.toString();else throw Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");let i=new TextEncoder,a=Math.floor(t.getTime()/1e3),s=i.encode(`${e}.${a}.${r}`),l=n.encode(o.hmac(this.key,s));return`v1,${l}`}verifyTimestamp(e){let t=Math.floor(Date.now()/1e3),r=parseInt(e,10);if(isNaN(r))throw new l("Invalid Signature Headers");if(t-r>a)throw new l("Message timestamp too old");if(r>t+a)throw new l("Message timestamp too new");return new Date(1e3*r)}}r.Webhook=u,u.prefix="whsec_"},631467,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.EndpointDisabledTriggerSerializer=r.EndpointDisabledTrigger=void 0,function(e){e.Manual="manual",e.Automatic="automatic"}(i=r.EndpointDisabledTrigger||(r.EndpointDisabledTrigger={})),r.EndpointDisabledTriggerSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},286336,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.OrderingSerializer=r.Ordering=void 0,function(e){e.Ascending="ascending",e.Descending="descending"}(i=r.Ordering||(r.Ordering={})),r.OrderingSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},239608,(e,t,r)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.StatusCodeClassSerializer=r.StatusCodeClass=void 0,function(e){e[e.CodeNone=0]="CodeNone",e[e.Code1xx=100]="Code1xx",e[e.Code2xx=200]="Code2xx",e[e.Code3xx=300]="Code3xx",e[e.Code4xx=400]="Code4xx",e[e.Code5xx=500]="Code5xx"}(i=r.StatusCodeClass||(r.StatusCodeClass={})),r.StatusCodeClassSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}},622443,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatusCodeClass=r.Ordering=r.MessageStatusText=r.MessageStatus=r.MessageAttemptTriggerType=r.EndpointDisabledTrigger=r.ConnectorKind=r.BackgroundTaskType=r.BackgroundTaskStatus=r.AppPortalCapability=void 0;var i=e.r(455795);Object.defineProperty(r,"AppPortalCapability",{enumerable:!0,get:function(){return i.AppPortalCapability}});var n=e.r(249610);Object.defineProperty(r,"BackgroundTaskStatus",{enumerable:!0,get:function(){return n.BackgroundTaskStatus}});var o=e.r(652335);Object.defineProperty(r,"BackgroundTaskType",{enumerable:!0,get:function(){return o.BackgroundTaskType}});var a=e.r(513929);Object.defineProperty(r,"ConnectorKind",{enumerable:!0,get:function(){return a.ConnectorKind}});var s=e.r(631467);Object.defineProperty(r,"EndpointDisabledTrigger",{enumerable:!0,get:function(){return s.EndpointDisabledTrigger}});var l=e.r(401347);Object.defineProperty(r,"MessageAttemptTriggerType",{enumerable:!0,get:function(){return l.MessageAttemptTriggerType}});var u=e.r(452959);Object.defineProperty(r,"MessageStatus",{enumerable:!0,get:function(){return u.MessageStatus}});var c=e.r(546109);Object.defineProperty(r,"MessageStatusText",{enumerable:!0,get:function(){return c.MessageStatusText}});var d=e.r(286336);Object.defineProperty(r,"Ordering",{enumerable:!0,get:function(){return d.Ordering}});var p=e.r(239608);Object.defineProperty(r,"StatusCodeClass",{enumerable:!0,get:function(){return p.StatusCodeClass}})},412616,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.Svix=r.messageInRaw=r.ValidationError=r.HttpErrorOut=r.HTTPValidationError=r.ApiException=void 0;let o=e.r(800198),a=e.r(713092),s=e.r(538844),l=e.r(445417),u=e.r(549550),c=e.r(371019),d=e.r(924492),p=e.r(220694),f=e.r(618407),h=e.r(404848),m=e.r(793336),g=e.r(984202),y=e.r(278329),v=e.r(37039);var b=e.r(349787);Object.defineProperty(r,"ApiException",{enumerable:!0,get:function(){return b.ApiException}});var A=e.r(354384);Object.defineProperty(r,"HTTPValidationError",{enumerable:!0,get:function(){return A.HTTPValidationError}}),Object.defineProperty(r,"HttpErrorOut",{enumerable:!0,get:function(){return A.HttpErrorOut}}),Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return A.ValidationError}}),n(e.r(557156),r),n(e.r(622443),r);var w=e.r(404848);Object.defineProperty(r,"messageInRaw",{enumerable:!0,get:function(){return w.messageInRaw}});let _=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}];class S{constructor(e,t={}){var r,i,n;const o=null==(r=_.find(t=>t.region===e.split(".")[1]))?void 0:r.url,a=null!=(n=null!=(i=t.serverUrl)?i:o)?n:"https://api.svix.com";if(t.retryScheduleInMs){this.requestCtx={baseUrl:a,token:e,timeout:t.requestTimeout,retryScheduleInMs:t.retryScheduleInMs};return}if(t.numRetries){this.requestCtx={baseUrl:a,token:e,timeout:t.requestTimeout,numRetries:t.numRetries};return}this.requestCtx={baseUrl:a,token:e,timeout:t.requestTimeout}}get application(){return new o.Application(this.requestCtx)}get authentication(){return new a.Authentication(this.requestCtx)}get backgroundTask(){return new s.BackgroundTask(this.requestCtx)}get endpoint(){return new l.Endpoint(this.requestCtx)}get environment(){return new u.Environment(this.requestCtx)}get eventType(){return new c.EventType(this.requestCtx)}get health(){return new d.Health(this.requestCtx)}get ingest(){return new p.Ingest(this.requestCtx)}get integration(){return new f.Integration(this.requestCtx)}get message(){return new h.Message(this.requestCtx)}get messageAttempt(){return new m.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new g.OperationalWebhook(this.requestCtx)}get statistics(){return new y.Statistics(this.requestCtx)}get operationalWebhookEndpoint(){return new v.OperationalWebhookEndpoint(this.requestCtx)}}r.Svix=S},31650,e=>{"use strict";var t=e.i(64317),r=e.i(933448),i=e.i(411237),n=e.i(862396);let o=e=>i.Struct({message:i.String,name:i.Literal(e)}),a=i.Union(o("missing_required_field"),o("invalid_idempotency_key"),o("invalid_idempotent_request"),o("concurrent_idempotent_requests"),o("invalid_access"),o("invalid_parameter"),o("invalid_region"),o("rate_limit_exceeded"),o("missing_api_key"),o("invalid_api_key"),o("invalid_from_address"),o("validation_error"),o("not_found"),o("method_not_allowed"),o("application_error"),o("internal_server_error"));class s extends t.TaggedError("ResendError"){error;input;constructor(e,t){super({error:e,input:t}),this.error=e,this.input=t}}class l extends t.TaggedError("UnknownResendError"){}let u=(e,t)=>n.is(a)(e)?r.value(e).pipe(r.discriminators("name")({missing_required_field:e=>new s(e,t),invalid_idempotency_key:e=>new s(e,t),invalid_idempotent_request:e=>new s(e,t),concurrent_idempotent_requests:e=>new s(e,t),invalid_access:e=>new s(e,t),invalid_parameter:e=>new s(e,t),invalid_region:e=>new s(e,t),rate_limit_exceeded:e=>new s(e,t),missing_api_key:e=>new s(e,t),invalid_api_key:e=>new s(e,t),invalid_from_address:e=>new s(e,t),validation_error:e=>new s(e,t),not_found:e=>new s(e,t),method_not_allowed:e=>new s(e,t),application_error:e=>new s(e,t),internal_server_error:e=>new s(e,t)}),r.orElse(()=>new l({cause:e,input:t}))):new l({cause:e,input:t});var c=e.i(590643),d=e.i(405614),p=e.i(392353),f=e.i(412616),h=Object.defineProperty,m=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,A=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))v.call(t,r)&&A(e,r,t[r]);if(y)for(var r of y(t))b.call(t,r)&&A(e,r,t[r]);return e},_=(e,t)=>m(e,g(t)),S=(e,t)=>{var r={};for(var i in e)v.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&y)for(var i of y(e))0>t.indexOf(i)&&b.call(e,i)&&(r[i]=e[i]);return r},E=(e,t,r)=>new Promise((i,n)=>{var o=e=>{try{s(r.next(e))}catch(e){n(e)}},a=e=>{try{s(r.throw(e))}catch(e){n(e)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,t)).next())}),T="6.2.0";function I(e){let t=new URLSearchParams;return void 0!==e.limit&&t.set("limit",e.limit.toString()),"after"in e&&void 0!==e.after&&t.set("after",e.after),"before"in e&&void 0!==e.before&&t.set("before",e.before),t.toString()}var x=class{constructor(e){this.resend=e}create(e){return E(this,arguments,function*(e,t={}){return yield this.resend.post("/api-keys",e,t)})}list(){return E(this,arguments,function*(e={}){let t=I(e),r=t?`/api-keys?${t}`:"/api-keys";return yield this.resend.get(r)})}remove(e){return E(this,null,function*(){return yield this.resend.delete(`/api-keys/${e}`)})}},O=class{constructor(e){this.resend=e}create(e){return E(this,arguments,function*(e,t={}){return yield this.resend.post("/audiences",e,t)})}list(){return E(this,arguments,function*(e={}){let t=I(e),r=t?`/audiences?${t}`:"/audiences";return yield this.resend.get(r)})}get(e){return E(this,null,function*(){return yield this.resend.get(`/audiences/${e}`)})}remove(e){return E(this,null,function*(){return yield this.resend.delete(`/audiences/${e}`)})}};function C(e){return null==e?void 0:e.map(e=>({content:e.content,filename:e.filename,path:e.path,content_type:e.contentType,content_id:e.contentId}))}function k(e){return{attachments:C(e.attachments),bcc:e.bcc,cc:e.cc,from:e.from,headers:e.headers,html:e.html,reply_to:e.replyTo,scheduled_at:e.scheduledAt,subject:e.subject,tags:e.tags,text:e.text,to:e.to}}function N(t){return new Promise((r,i)=>{e.A(406693).then(({render:e})=>{r(e(t))}).catch(()=>{i(Error("Failed to render React component. Make sure to install `@react-email/render` or `@react-email/components`."))})})}var R=class{constructor(e){this.resend=e}send(e,t){return E(this,null,function*(){return this.create(e,t)})}create(e,t){return E(this,null,function*(){var r;let i=[];for(let t of e)t.react&&(t.html=yield N(t.react),t.react=void 0),i.push(k(t));return yield this.resend.post("/emails/batch",i,_(w({},t),{headers:w({"x-batch-validation":null!=(r=null==t?void 0:t.batchValidation)?r:"strict"},null==t?void 0:t.headers)}))})}},P=class{constructor(e){this.resend=e}create(e){return E(this,arguments,function*(e,t={}){return e.react&&(e.html=yield N(e.react)),yield this.resend.post("/broadcasts",{name:e.name,audience_id:e.audienceId,preview_text:e.previewText,from:e.from,html:e.html,reply_to:e.replyTo,subject:e.subject,text:e.text},t)})}send(e,t){return E(this,null,function*(){return yield this.resend.post(`/broadcasts/${e}/send`,{scheduled_at:null==t?void 0:t.scheduledAt})})}list(){return E(this,arguments,function*(e={}){let t=I(e),r=t?`/broadcasts?${t}`:"/broadcasts";return yield this.resend.get(r)})}get(e){return E(this,null,function*(){return yield this.resend.get(`/broadcasts/${e}`)})}remove(e){return E(this,null,function*(){return yield this.resend.delete(`/broadcasts/${e}`)})}update(e,t){return E(this,null,function*(){return t.react&&(t.html=yield N(t.react)),yield this.resend.patch(`/broadcasts/${e}`,{name:t.name,audience_id:t.audienceId,from:t.from,html:t.html,text:t.text,subject:t.subject,reply_to:t.replyTo,preview_text:t.previewText})})}},D=class{constructor(e){this.resend=e}create(e){return E(this,arguments,function*(e,t={}){return yield this.resend.post(`/audiences/${e.audienceId}/contacts`,{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName},t)})}list(e){return E(this,null,function*(){let t=e,{audienceId:r}=t,i=I(S(t,["audienceId"])),n=i?`/audiences/${r}/contacts?${i}`:`/audiences/${r}/contacts`;return yield this.resend.get(n)})}get(e){return E(this,null,function*(){return e.id||e.email?yield this.resend.get(`/audiences/${e.audienceId}/contacts/${(null==e?void 0:e.email)?null==e?void 0:e.email:null==e?void 0:e.id}`):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}update(e){return E(this,null,function*(){return e.id||e.email?yield this.resend.patch(`/audiences/${e.audienceId}/contacts/${(null==e?void 0:e.email)?null==e?void 0:e.email:null==e?void 0:e.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName}):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}remove(e){return E(this,null,function*(){return e.id||e.email?yield this.resend.delete(`/audiences/${e.audienceId}/contacts/${(null==e?void 0:e.email)?null==e?void 0:e.email:null==e?void 0:e.id}`):{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}})}};function U(e){return{name:e.name,region:e.region,custom_return_path:e.customReturnPath}}var L=class{constructor(e){this.resend=e}create(e){return E(this,arguments,function*(e,t={}){return yield this.resend.post("/domains",U(e),t)})}list(){return E(this,arguments,function*(e={}){let t=I(e),r=t?`/domains?${t}`:"/domains";return yield this.resend.get(r)})}get(e){return E(this,null,function*(){return yield this.resend.get(`/domains/${e}`)})}update(e){return E(this,null,function*(){return yield this.resend.patch(`/domains/${e.id}`,{click_tracking:e.clickTracking,open_tracking:e.openTracking,tls:e.tls})})}remove(e){return E(this,null,function*(){return yield this.resend.delete(`/domains/${e}`)})}verify(e){return E(this,null,function*(){return yield this.resend.post(`/domains/${e}/verify`)})}},K=class{constructor(e){this.resend=e}send(e){return E(this,arguments,function*(e,t={}){return this.create(e,t)})}create(e){return E(this,arguments,function*(e,t={}){return e.react&&(e.html=yield N(e.react)),yield this.resend.post("/emails",k(e),t)})}get(e){return E(this,null,function*(){return yield this.resend.get(`/emails/${e}`)})}list(){return E(this,arguments,function*(e={}){let t=I(e),r=t?`/emails?${t}`:"/emails";return yield this.resend.get(r)})}update(e){return E(this,null,function*(){return yield this.resend.patch(`/emails/${e.id}`,{scheduled_at:e.scheduledAt})})}cancel(e){return E(this,null,function*(){return yield this.resend.post(`/emails/${e}/cancel`)})}},M=class{verify(e){return new f.Webhook(e.webhookSecret).verify(e.payload,{"svix-id":e.headers.id,"svix-timestamp":e.headers.timestamp,"svix-signature":e.headers.signature})}},B="https://api.resend.com",j=`resend-node:${T}`,$="undefined"!=typeof process&&process.env&&process.env.RESEND_BASE_URL||B,z="undefined"!=typeof process&&process.env&&process.env.RESEND_USER_AGENT||j,F=class{constructor(e){if(this.key=e,this.apiKeys=new x(this),this.audiences=new O(this),this.batch=new R(this),this.broadcasts=new P(this),this.contacts=new D(this),this.domains=new L(this),this.emails=new K(this),this.webhooks=new M,!e&&("undefined"!=typeof process&&process.env&&(this.key=process.env.RESEND_API_KEY),!this.key))throw Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":z,"Content-Type":"application/json"})}fetchRequest(e){return E(this,arguments,function*(e,t={}){try{let r=yield fetch(`${$}${e}`,t);if(!r.ok)try{let e=yield r.text();return{data:null,error:JSON.parse(e)}}catch(t){if(t instanceof SyntaxError)return{data:null,error:{name:"application_error",message:"Internal server error. We are unable to process your request right now, please try again later."}};let e={message:r.statusText,name:"application_error"};if(t instanceof Error)return{data:null,error:_(w({},e),{message:t.message})};return{data:null,error:e}}return{data:yield r.json(),error:null}}catch(e){return{data:null,error:{name:"application_error",message:"Unable to fetch data. The request could not be resolved."}}}})}post(e,t){return E(this,arguments,function*(e,t,r={}){let i=new Headers(this.headers);if(r.headers)for(let[e,t]of new Headers(r.headers).entries())i.set(e,t);r.idempotencyKey&&i.set("Idempotency-Key",r.idempotencyKey);let n=_(w({method:"POST",body:JSON.stringify(t)},r),{headers:i});return this.fetchRequest(e,n)})}get(e){return E(this,arguments,function*(e,t={}){let r=new Headers(this.headers);if(t.headers)for(let[e,i]of new Headers(t.headers).entries())r.set(e,i);let i=_(w({method:"GET"},t),{headers:r});return this.fetchRequest(e,i)})}put(e,t){return E(this,arguments,function*(e,t,r={}){let i=new Headers(this.headers);if(r.headers)for(let[e,t]of new Headers(r.headers).entries())i.set(e,t);let n=_(w({method:"PUT",body:JSON.stringify(t)},r),{headers:i});return this.fetchRequest(e,n)})}patch(e,t){return E(this,arguments,function*(e,t,r={}){let i=new Headers(this.headers);if(r.headers)for(let[e,t]of new Headers(r.headers).entries())i.set(e,t);let n=_(w({method:"PATCH",body:JSON.stringify(t)},r),{headers:i});return this.fetchRequest(e,n)})}delete(e,t){return E(this,null,function*(){let r={method:"DELETE",body:JSON.stringify(t),headers:this.headers};return this.fetchRequest(e,r)})}};class q extends d.Service()("ResendService",{accessors:!0,dependencies:[],effect:d.flatMap(d.sync(()=>new F(p.value(c.serverEnv.email.resend.apiKey))),e=>d.gen(function*(){let t=d.fn("ResendService.send")(function*(t){return yield*d.tryPromise({try:()=>e.emails.send(t),catch:e=>u(e,t)})},(e,t)=>e.pipe(d.withSpan("ResendService.send",{attributes:{params:t}}),d.annotateLogs({params:t}),d.tapError(d.logError),d.mapError(e=>d.dieMessage(e.message))));return{resend:e,send:t}}))}){}e.s(["ResendService",()=>q],31650)},170029,e=>{"use strict";e.i(31650),e.s([],170029)},516368,522252,851267,390595,722181,136333,657066,119255,263224,459014,337748,622190,e=>{"use strict";var t,r,i,n,o=e.i(29396),a=e.i(364812),s=Object.defineProperty,l=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&f(e,r,t[r]);if(c)for(var r of c(t))p.call(t,r)&&f(e,r,t[r]);return e},m=(e,t)=>l(e,u(t)),g=(e,t)=>{var r={};for(var i in e)d.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&c)for(var i of c(e))0>t.indexOf(i)&&p.call(e,i)&&(r[i]=e[i]);return r},y=o.forwardRef((e,t)=>{var r=e,{children:i,style:n}=r,o=g(r,["children","style"]);return(0,a.jsx)("body",m(h({},o),{style:{background:null==n?void 0:n.background,backgroundColor:null==n?void 0:n.backgroundColor},ref:t,children:(0,a.jsx)("table",{border:0,width:"100%",cellPadding:"0",cellSpacing:"0",role:"presentation",align:"center",children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{style:n,children:i})})})})}))});y.displayName="Body",e.s(["Body",()=>y],516368);var v=o,b=a,A=Object.defineProperty,w=Object.defineProperties,_=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,I=(e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&I(e,r,t[r]);if(S)for(var r of S(t))T.call(t,r)&&I(e,r,t[r]);return e},O=(e,t)=>w(e,_(t)),C=(e,t)=>{var r={};for(var i in e)E.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&S)for(var i of S(e))0>t.indexOf(i)&&T.call(e,i)&&(r[i]=e[i]);return r};function k(e){let t=0;if(!e)return t;if("number"==typeof e)return e;let r=/^([\d.]+)(px|em|rem|%)$/.exec(e);if(r&&3===r.length){let e=Number.parseFloat(r[1]);switch(r[2]){case"px":default:return e;case"em":case"rem":return 16*e;case"%":return e/100*600}}return 0}function N(e){if("number"==typeof e)return{paddingTop:e,paddingBottom:e,paddingLeft:e,paddingRight:e};if("string"==typeof e){let t=e.toString().trim().split(/\s+/);if(1===t.length)return{paddingTop:t[0],paddingBottom:t[0],paddingLeft:t[0],paddingRight:t[0]};if(2===t.length)return{paddingTop:t[0],paddingRight:t[1],paddingBottom:t[0],paddingLeft:t[1]};if(3===t.length)return{paddingTop:t[0],paddingRight:t[1],paddingBottom:t[2],paddingLeft:t[1]};if(4===t.length)return{paddingTop:t[0],paddingRight:t[1],paddingBottom:t[2],paddingLeft:t[3]}}return{paddingTop:void 0,paddingBottom:void 0,paddingLeft:void 0,paddingRight:void 0}}function R(e){let t,r,i,n;for(let[o,a]of Object.entries(e))"padding"===o?{paddingTop:t,paddingBottom:i,paddingLeft:n,paddingRight:r}=N(a):"paddingTop"===o?t=a:"paddingRight"===o?r=a:"paddingBottom"===o?i=a:"paddingLeft"===o&&(n=a);return{paddingTop:t?k(t):void 0,paddingRight:r?k(r):void 0,paddingBottom:i?k(i):void 0,paddingLeft:n?k(n):void 0}}var P=e=>"number"!=typeof e||Number.isNaN(Number(e))?void 0:3*e/4,D=5;function U(e){if(0===e)return[0,0];let t=0,r=()=>t>0?e/t/2:1/0;for(;r()>D;)t++;return[r(),t]}var L=v.forwardRef((e,t)=>{var r=e,{children:i,style:n,target:o="_blank"}=r,a=C(r,["children","style","target"]);let{paddingTop:s,paddingRight:l,paddingBottom:u,paddingLeft:c}=R(null!=n?n:{}),d=P((null!=s?s:0)+(null!=u?u:0)),[p,f]=U(null!=c?c:0),[h,m]=U(null!=l?l:0);return(0,b.jsxs)("a",O(x({},a),{ref:t,style:O(x({lineHeight:"100%",textDecoration:"none",display:"inline-block",maxWidth:"100%",msoPaddingAlt:"0px"},n),{paddingTop:s,paddingRight:l,paddingBottom:u,paddingLeft:c}),target:o,children:[(0,b.jsx)("span",{dangerouslySetInnerHTML:{__html:`<!--[if mso]><i style="mso-font-width:${100*p}%;mso-text-raise:${d}" hidden>${"&#8202;".repeat(f)}</i><![endif]-->`}}),(0,b.jsx)("span",{style:{maxWidth:"100%",display:"inline-block",lineHeight:"120%",msoPaddingAlt:"0px",msoTextRaise:P(u)},children:i}),(0,b.jsx)("span",{dangerouslySetInnerHTML:{__html:`<!--[if mso]><i style="mso-font-width:${100*h}%" hidden>${"&#8202;".repeat(m)}&#8203;</i><![endif]-->`}})]}))});L.displayName="Button",e.s(["Button",()=>L],522252);var K=o,M=a,B=Object.defineProperty,j=Object.defineProperties,$=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,V=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&V(e,r,t[r]);if(z)for(var r of z(t))q.call(t,r)&&V(e,r,t[r]);return e},G=(e,t)=>j(e,$(t)),W=(e,t)=>{var r={};for(var i in e)F.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&z)for(var i of z(e))0>t.indexOf(i)&&q.call(e,i)&&(r[i]=e[i]);return r},Z=K.forwardRef((e,t)=>{var r=e,{children:i,style:n}=r,o=W(r,["children","style"]);return(0,M.jsx)("table",G(H({align:"center",width:"100%"},o),{border:0,cellPadding:"0",cellSpacing:"0",ref:t,role:"presentation",style:H({maxWidth:"37.5em"},n),children:(0,M.jsx)("tbody",{children:(0,M.jsx)("tr",{style:{width:"100%"},children:(0,M.jsx)("td",{children:i})})})}))});Z.displayName="Container",e.s(["Container",()=>Z],851267);var J=o,Q=a,Y=Object.defineProperty,X=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,er=Object.prototype.hasOwnProperty,ei=Object.prototype.propertyIsEnumerable,en=(e,t,r)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eo=(e,t)=>{for(var r in t||(t={}))er.call(t,r)&&en(e,r,t[r]);if(et)for(var r of et(t))ei.call(t,r)&&en(e,r,t[r]);return e},ea=(e,t)=>X(e,ee(t)),es=(e,t)=>{var r={};for(var i in e)er.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&et)for(var i of et(e))0>t.indexOf(i)&&ei.call(e,i)&&(r[i]=e[i]);return r},el=J.forwardRef((e,t)=>{var r=e,{children:i}=r,n=es(r,["children"]);return(0,Q.jsxs)("head",ea(eo({},n),{ref:t,children:[(0,Q.jsx)("meta",{content:"text/html; charset=UTF-8",httpEquiv:"Content-Type"}),(0,Q.jsx)("meta",{name:"x-apple-disable-message-reformatting"}),i]}))});el.displayName="Head",e.s(["Head",()=>el],390595);var eu=o,ec=a,ed=Object.defineProperty,ep=Object.defineProperties,ef=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,eg=Object.prototype.propertyIsEnumerable,ey=(e,t,r)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ev=(e,t)=>{for(var r in t||(t={}))em.call(t,r)&&ey(e,r,t[r]);if(eh)for(var r of eh(t))eg.call(t,r)&&ey(e,r,t[r]);return e},eb=(e,t)=>ep(e,ef(t)),eA=(e,t)=>{var r={};for(var i in e)em.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&eh)for(var i of eh(e))0>t.indexOf(i)&&eg.call(e,i)&&(r[i]=e[i]);return r},ew=e=>[e_(e.m,["margin"]),e_(e.mx,["marginLeft","marginRight"]),e_(e.my,["marginTop","marginBottom"]),e_(e.mt,["marginTop"]),e_(e.mr,["marginRight"]),e_(e.mb,["marginBottom"]),e_(e.ml,["marginLeft"])].filter(e=>Object.keys(e).length).reduce((e,t)=>ev(ev({},e),t),{}),e_=(e,t)=>t.reduce((t,r)=>isNaN(parseFloat(e))?t:eb(ev({},t),{[r]:`${e}px`}),{}),eS=eu.forwardRef((e,t)=>{var r=e,{as:i="h1",children:n,style:o,m:a,mx:s,my:l,mt:u,mr:c,mb:d,ml:p}=r,f=eA(r,["as","children","style","m","mx","my","mt","mr","mb","ml"]);return(0,ec.jsx)(i,eb(ev({},f),{ref:t,style:ev(ev({},ew({m:a,mx:s,my:l,mt:u,mr:c,mb:d,ml:p})),o),children:n}))});eS.displayName="Heading",e.s(["Heading",()=>eS],722181);var eE=o,eT=a,eI=Object.defineProperty,ex=Object.defineProperties,eO=Object.getOwnPropertyDescriptors,eC=Object.getOwnPropertySymbols,ek=Object.prototype.hasOwnProperty,eN=Object.prototype.propertyIsEnumerable,eR=(e,t,r)=>t in e?eI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eP=(e,t)=>{for(var r in t||(t={}))ek.call(t,r)&&eR(e,r,t[r]);if(eC)for(var r of eC(t))eN.call(t,r)&&eR(e,r,t[r]);return e},eD=(e,t)=>ex(e,eO(t)),eU=(e,t)=>{var r={};for(var i in e)ek.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&eC)for(var i of eC(e))0>t.indexOf(i)&&eN.call(e,i)&&(r[i]=e[i]);return r},eL=eE.forwardRef((e,t)=>{var r=e,{style:i}=r,n=eU(r,["style"]);return(0,eT.jsx)("hr",eD(eP({},n),{ref:t,style:eP({width:"100%",border:"none",borderTop:"1px solid #eaeaea"},i)}))});eL.displayName="Hr",e.s(["Hr",()=>eL],136333);var eK=o,eM=a,eB=Object.defineProperty,ej=Object.defineProperties,e$=Object.getOwnPropertyDescriptors,ez=Object.getOwnPropertySymbols,eF=Object.prototype.hasOwnProperty,eq=Object.prototype.propertyIsEnumerable,eV=(e,t,r)=>t in e?eB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eH=(e,t)=>{for(var r in t||(t={}))eF.call(t,r)&&eV(e,r,t[r]);if(ez)for(var r of ez(t))eq.call(t,r)&&eV(e,r,t[r]);return e},eG=(e,t)=>ej(e,e$(t)),eW=(e,t)=>{var r={};for(var i in e)eF.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&ez)for(var i of ez(e))0>t.indexOf(i)&&eq.call(e,i)&&(r[i]=e[i]);return r},eZ=eK.forwardRef((e,t)=>{var r=e,{children:i,lang:n="en",dir:o="ltr"}=r,a=eW(r,["children","lang","dir"]);return(0,eM.jsx)("html",eG(eH({},a),{dir:o,lang:n,ref:t,children:i}))});eZ.displayName="Html",e.s(["Html",()=>eZ],657066);var eJ=o,eQ=a,eY=Object.defineProperty,eX=Object.defineProperties,e0=Object.getOwnPropertyDescriptors,e1=Object.getOwnPropertySymbols,e2=Object.prototype.hasOwnProperty,e4=Object.prototype.propertyIsEnumerable,e3=(e,t,r)=>t in e?eY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,e5=(e,t)=>{for(var r in t||(t={}))e2.call(t,r)&&e3(e,r,t[r]);if(e1)for(var r of e1(t))e4.call(t,r)&&e3(e,r,t[r]);return e},e6=(e,t)=>eX(e,e0(t)),e8=(e,t)=>{var r={};for(var i in e)e2.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&e1)for(var i of e1(e))0>t.indexOf(i)&&e4.call(e,i)&&(r[i]=e[i]);return r},e9=eJ.forwardRef((e,t)=>{var r=e,{target:i="_blank",style:n}=r,o=e8(r,["target","style"]);return(0,eQ.jsx)("a",e6(e5({},o),{ref:t,style:e5({color:"#067df7",textDecorationLine:"none"},n),target:i,children:o.children}))});e9.displayName="Link",e.s(["Link",()=>e9],119255);var e7=o,te=a,tt=Object.defineProperty,tr=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,tn=Object.getOwnPropertySymbols,to=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,ts=(e,t,r)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tl=(e,t)=>{for(var r in t||(t={}))to.call(t,r)&&ts(e,r,t[r]);if(tn)for(var r of tn(t))ta.call(t,r)&&ts(e,r,t[r]);return e},tu=(e,t)=>tr(e,ti(t)),tc=(e,t)=>{var r={};for(var i in e)to.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&tn)for(var i of tn(e))0>t.indexOf(i)&&ta.call(e,i)&&(r[i]=e[i]);return r},td=150,tp=e7.forwardRef((e,t)=>{var r=e,{children:i=""}=r,n=tc(r,["children"]);let o=(Array.isArray(i)?i.join(""):i).substring(0,td);return(0,te.jsxs)("div",tu(tl({style:{display:"none",overflow:"hidden",lineHeight:"1px",opacity:0,maxHeight:0,maxWidth:0},"data-skip-in-text":!0},n),{ref:t,children:[o,th(o)]}))});tp.displayName="Preview";var tf="\uFEFF",th=e=>e.length>=td?null:(0,te.jsx)("div",{children:tf.repeat(td-e.length)});e.s(["Preview",()=>tp],263224);var tm=o,tg=a,ty=Object.defineProperty,tv=Object.defineProperties,tb=Object.getOwnPropertyDescriptors,tA=Object.getOwnPropertySymbols,tw=Object.prototype.hasOwnProperty,t_=Object.prototype.propertyIsEnumerable,tS=(e,t,r)=>t in e?ty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tE=(e,t)=>{for(var r in t||(t={}))tw.call(t,r)&&tS(e,r,t[r]);if(tA)for(var r of tA(t))t_.call(t,r)&&tS(e,r,t[r]);return e},tT=(e,t)=>tv(e,tb(t)),tI=(e,t)=>{var r={};for(var i in e)tw.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&tA)for(var i of tA(e))0>t.indexOf(i)&&t_.call(e,i)&&(r[i]=e[i]);return r},tx=tm.forwardRef((e,t)=>{var r=e,{children:i,style:n}=r,o=tI(r,["children","style"]);return(0,tg.jsx)("table",tT(tE({align:"center",width:"100%",border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"},o),{ref:t,style:n,children:(0,tg.jsx)("tbody",{children:(0,tg.jsx)("tr",{children:(0,tg.jsx)("td",{children:i})})})}))});tx.displayName="Section",e.s(["Section",()=>tx],459014);var tO=a,tC=o,tk="u">typeof globalThis?globalThis:e.g;function tN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tR,tP={exports:{}};function tD(){if(tR)return tP.exports;tR=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e,blackBright:e,redBright:e,greenBright:e,yellowBright:e,blueBright:e,magentaBright:e,cyanBright:e,whiteBright:e,bgBlackBright:e,bgRedBright:e,bgGreenBright:e,bgYellowBright:e,bgBlueBright:e,bgMagentaBright:e,bgCyanBright:e,bgWhiteBright:e}};return tP.exports=t(),tP.exports.createColors=t,tP.exports}let tU=function(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));function tL(){if(tj)return tB;tj=1;let e=tD(),t=tU;class r extends Error{constructor(e,t,i,n,o,a){super(e),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),n&&(this.source=n),a&&(this.plugin=a),"u">typeof t&&"u">typeof i&&("number"==typeof t?(this.line=t,this.column=i):(this.line=t.line,this.column=t.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,r)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","u">typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(r){if(!this.source)return"";let i=this.source;null==r&&(r=e.isColorSupported);let n=e=>e,o=e=>e,a=e=>e;if(r){let{bold:r,gray:i,red:s}=e.createColors(!0);o=e=>r(s(e)),n=e=>i(e),t&&(a=e=>t(e))}let s=i.split(/\r?\n/),l=Math.max(this.line-3,0),u=Math.min(this.line+2,s.length),c=String(u).length;return s.slice(l,u).map((e,t)=>{let r=l+1+t,i=" "+(" "+r).slice(-c)+" | ";if(r===this.line){if(e.length>160){let t=20,r=Math.max(0,this.column-t),s=Math.max(this.column+t,this.endColumn+t),l=e.slice(r,s),u=n(i.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,t-1)).replace(/[^\t]/g," ");return o(">")+n(i)+a(l)+`
 `+u+o("^")}let t=n(i.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return o(">")+n(i)+a(e)+`
 `+t+o("^")}return" "+n(i)+a(e)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}}return tB=r,r.default=r,tB}function tK(){if(tz)return t$;tz=1;let e={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function t(e){return e[0].toUpperCase()+e.slice(1)}class r{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if("u">typeof e.raws.afterName?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let n=(e.raws.between||"")+(t?";":"");this.builder(r+i+n,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let i=e.parent,n=0;for(;i&&"root"!==i.type;)n+=1,i=i.parent;if(r.includes(`
`)){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<n;e++)r+=t}return r}block(e,t){let r,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let n=e.nodes[i],o=this.raw(n,"before");o&&this.builder(o),this.stringify(n,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(r,i,n){let o;if(n||(n=i),i&&"u">typeof(o=r.raws[i]))return o;let a=r.parent;if("before"===n&&(!a||"root"===a.type&&a.first===r||a&&"document"===a.type))return"";if(!a)return e[n];let s=r.root();if(s.rawCache||(s.rawCache={}),"u">typeof s.rawCache[n])return s.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(r,n);{let e="raw"+t(n);this[e]?o=this[e](s,r):s.walk(e=>{if("u">typeof(o=e.raws[i]))return!1})}return typeof o>"u"&&(o=e[n]),s.rawCache[n]=o,o}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&"u">typeof e.raws.after)return(t=e.raws.after).includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(e=>{if("u">typeof e.raws.before)return(r=e.raws.before).includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(e=>{if("u">typeof e.raws.before)return(r=e.raws.before).includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&"u">typeof(t=e.raws.between))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&"u">typeof r.raws.before)return(t=r.raws.before).includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(e=>{if("u">typeof e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&"u">typeof(t=e.raws.after))return!1}),t}rawIndent(e){let t;return e.raws.indent?e.raws.indent:(e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&"u">typeof r.raws.before){let e=r.raws.before.split(`
`);return t=(t=e[e.length-1]).replace(/\S/g,""),!1}}),t)}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&"u">typeof(t=e.raws.semicolon))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}return t$=r,r.default=r,t$}function tM(){if(tq)return tF;tq=1;let e=tK();function t(t,r){new e(r).stringify(t)}return tF=t,t.default=t,tF}var tB,tj,t$,tz,tF,tq,tV,tH={};function tG(){return tV||(tV=1,tH.isClean=Symbol("isClean"),tH.my=Symbol("my")),tH}function tW(){if(rS)return r_;rS=1;let e=tL(),t=tK(),r=tM(),{isClean:i,my:n}=tG();function o(e,t){let r=new e.constructor;for(let i in e){if(!Object.prototype.hasOwnProperty.call(e,i)||"proxyCache"===i)continue;let n=e[i],a=typeof n;"parent"===i&&"object"===a?t&&(r[i]=t):"source"===i?r[i]=n:Array.isArray(n)?r[i]=n.map(e=>o(e,r)):("object"===a&&null!==n&&(n=o(n)),r[i]=n)}return r}function a(e,t){if(t&&"u">typeof t.offset)return t.offset;let r=1,i=1,n=0;for(let o=0;o<e.length;o++){if(i===t.line&&r===t.column){n=o;break}e[o]===`
`?(r=1,i+=1):r+=1}return n}class s{get proxyOf(){return this}constructor(e={}){for(let t in this.raws={},this[i]=!1,this[n]=!0,e)if("nodes"===t)for(let r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=o(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(t,r={}){if(this.source){let{end:e,start:i}=this.rangeBy(r);return this.source.input.error(t,{column:i.column,line:i.line},{column:e.column,line:e.line},r)}return new e(t)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty()),!0)}}markClean(){this[i]=!0}markDirty(){if(this[i]){this[i]=!1;let e=this;for(;e=e.parent;)e[i]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let r="document"in this.source.input?this.source.input.document:this.source.input.css,i=r.slice(a(r,this.source.start),a(r,this.source.end)).indexOf(e.word);-1!==i&&(t=this.positionInside(i))}return t}positionInside(e){let t=this.source.start.column,r=this.source.start.line,i="document"in this.source.input?this.source.input.document:this.source.input.css,n=a(i,this.source.start),o=n+e;for(let e=n;e<o;e++)i[e]===`
`?(t=1,r+=1):t+=1;return{column:t,line:r}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i="document"in this.source.input?this.source.input.document:this.source.input.css,n=i.slice(a(i,this.source.start),a(i,this.source.end)).indexOf(e.word);-1!==n&&(t=this.positionInside(n),r=this.positionInside(n+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,r){return new t().raw(this,e,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},i=null==t;t=t||new Map;let n=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e)||"parent"===e||"proxyCache"===e)continue;let i=this[e];if(Array.isArray(i))r[e]=i.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof i&&i.toJSON)r[e]=i.toJSON(null,t);else if("source"===e){let o=t.get(i.input);null==o&&(o=n,t.set(i.input,n),n++),r[e]={end:i.end,inputId:o,start:i.start}}else r[e]=i}return i&&(r.inputs=[...t.keys()].map(e=>e.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=r){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}warn(e,t,r){let i={node:this};for(let e in r)i[e]=r[e];return e.warn(t,i)}}return r_=s,s.default=s,r_}function tZ(){if(rT)return rE;rT=1;let e=tW();class t extends e{constructor(e){super(e),this.type="comment"}}return rE=t,t.default=t,rE}function tJ(){if(rx)return rI;rx=1;let e=tW();class t extends e{get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}constructor(e){e&&"u">typeof e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}}return rI=t,t.default=t,rI}function tQ(){if(rC)return rO;rC=1;let e=tZ(),t=tJ(),r=tW(),{isClean:i,my:n}=tG(),o,a,s,l;function u(e){return e.map(e=>(e.nodes&&(e.nodes=u(e.nodes)),delete e.source,e))}function c(e){if(e[i]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)c(t)}class d extends r{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...e){for(let t of e)for(let e of this.normalize(t,this.last))this.proxyOf.nodes.push(e);return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],!1!==(i=e(this.proxyOf.nodes[r],r)));)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map(e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e)):"every"===t||"some"===t?r=>e[t]((e,...t)=>r(e.toProxy(),...t)):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map(e=>e.toProxy()):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,("name"===t||"params"===t||"selector"===t)&&e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,i=this.index(e),n=this.normalize(t,this.proxyOf.nodes[i]).reverse();for(let t of(i=this.index(e),n))this.proxyOf.nodes.splice(i+1,0,t);for(let e in this.indexes)i<(r=this.indexes[e])&&(this.indexes[e]=r+n.length);return this.markDirty(),this}insertBefore(e,t){let r,i=this.index(e),n=0===i&&"prepend",o=this.normalize(t,this.proxyOf.nodes[i],n).reverse();for(let t of(i=this.index(e),o))this.proxyOf.nodes.splice(i,0,t);for(let e in this.indexes)i<=(r=this.indexes[e])&&(this.indexes[e]=r+o.length);return this.markDirty(),this}normalize(r,s){if("string"==typeof r)r=u(a(r).nodes);else if(typeof r>"u")r=[];else if(Array.isArray(r))for(let e of r=r.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if("root"===r.type&&"document"!==this.type)for(let e of r=r.nodes.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if(r.type)r=[r];else if(r.prop){if(typeof r.value>"u")throw Error("Value field is missed in node creation");"string"!=typeof r.value&&(r.value=String(r.value)),r=[new t(r)]}else if(r.selector||r.selectors)r=[new l(r)];else if(r.name)r=[new o(r)];else if(r.text)r=[new e(r)];else throw Error("Unknown node type in node creation");return r.map(e=>(e[n]||d.rebuild(e),e=e.proxyOf,e.parent&&e.parent.removeChild(e),e[i]&&c(e),e.raws||(e.raws={}),typeof e.raws.before>"u"&&s&&"u">typeof s.raws.before&&(e.raws.before=s.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e))}prepend(...e){for(let t of e=e.reverse()){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;for(let r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(e){throw t.addToError(e)}return!1!==i&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("atrule"===r.type&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if("atrule"===r.type&&r.name===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("atrule"===e.type)return t(e,r)}))}walkComments(e){return this.walk((t,r)=>{if("comment"===t.type)return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("decl"===r.type&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if("decl"===r.type&&r.prop===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("decl"===e.type)return t(e,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("rule"===r.type&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if("rule"===r.type&&r.selector===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("rule"===e.type)return t(e,r)}))}}return d.registerParse=e=>{a=e},d.registerRule=e=>{l=e},d.registerAtRule=e=>{o=e},d.registerRoot=e=>{s=e},rO=d,d.default=d,d.rebuild=r=>{"atrule"===r.type?Object.setPrototypeOf(r,o.prototype):"rule"===r.type?Object.setPrototypeOf(r,l.prototype):"decl"===r.type?Object.setPrototypeOf(r,t.prototype):"comment"===r.type?Object.setPrototypeOf(r,e.prototype):"root"===r.type&&Object.setPrototypeOf(r,s.prototype),r[n]=!0,r.nodes&&r.nodes.forEach(e=>{d.rebuild(e)})},rO}function tY(){if(rN)return rk;rN=1;let e=tQ();class t extends e{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}return rk=t,t.default=t,e.registerAtRule(t),rk}function tX(){if(rP)return rR;rP=1;let e=tQ(),t,r;class i extends e{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new t(new r,this,e).stringify()}}return i.registerLazyResult=e=>{t=e},i.registerProcessor=e=>{r=e},rR=i,i.default=i,rR}function t0(){if(rU)return rD;rU=1;let e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return rD={nanoid:(t=21)=>{let r="",i=0|t;for(;i--;)r+=e[64*Math.random()|0];return r},customAlphabet:(e,t=21)=>(r=t)=>{let i="",n=0|r;for(;n--;)i+=e[Math.random()*e.length|0];return i}}}function t1(){if(rK)return rL;rK=1;let{existsSync:e,readFileSync:t}=tU,{dirname:r,join:i}=tU,{SourceMapConsumer:n,SourceMapGenerator:o}=tU;function a(e){return Buffer.from(e,"base64").toString()}class s{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,n=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=r(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new n(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,n=/^data:application\/json,/,o=e.match(i)||e.match(n);if(o)return decodeURIComponent(e.substr(o[0].length));let s=e.match(t)||e.match(r);if(s)return a(e.substr(s[0].length));throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(i){if(this.root=r(i),e(i))return this.mapFile=i,t(i,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw Error("Unable to load previous source map: "+r.toString());return e}}else{if(t instanceof n)return o.fromSourceMap(t).toString();if(t instanceof o)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=i(r(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return rL=s,s.default=s,rL}function t2(){if(rB)return rM;rB=1;let{nanoid:e}=t0(),{isAbsolute:t,resolve:r}=tU,{SourceMapConsumer:i,SourceMapGenerator:n}=tU,{fileURLToPath:o,pathToFileURL:a}=tU,s=tL(),l=t1(),u=tU,c=Symbol("fromOffsetCache"),d=!!(i&&n),p=!!(r&&t);class f{get from(){return this.file||this.id}constructor(i,n={}){if(null===i||typeof i>"u"||"object"==typeof i&&!i.toString)throw Error(`PostCSS received ${i} instead of CSS string`);if(this.css=i.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,n.document&&(this.document=n.document.toString()),n.from&&(!p||/^\w+:\/\//.test(n.from)||t(n.from)?this.file=n.from:this.file=r(n.from)),p&&d){let e=new l(this.css,n);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+e(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let n,o,l;if(t&&"object"==typeof t){let e=t,i=r;if("number"==typeof e.offset){let i=this.fromOffset(e.offset);t=i.line,r=i.col}else t=e.line,r=e.column;if("number"==typeof i.offset){let e=this.fromOffset(i.offset);o=e.line,n=e.col}else o=i.line,n=i.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let u=this.origin(t,r,o,n);return(l=u?new s(e,void 0===u.endLine?u.line:{column:u.column,line:u.line},void 0===u.endLine?u.column:{column:u.endColumn,line:u.endLine},u.source,u.file,i.plugin):new s(e,void 0===o?t:{column:r,line:t},void 0===o?r:{column:n,line:o},this.css,this.file,i.plugin)).input={column:r,endColumn:n,endLine:o,line:t,source:this.css},this.file&&(a&&(l.input.url=a(this.file).toString()),l.input.file=this.file),l}fromOffset(e){let t,r;if(this[c])r=this[c];else{let e=this.css.split(`
`);r=Array(e.length);let t=0;for(let i=0,n=e.length;i<n;i++)r[i]=t,t+=e[i].length+1;this[c]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let t=r.length-2,n;for(;i<t;)if(e<r[n=i+(t-i>>1)])t=n-1;else if(e>=r[n+1])i=n+1;else{i=n;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:r(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,r,i,n){let s,l;if(!this.map)return!1;let u=this.map.consumer(),c=u.originalPositionFor({column:r,line:e});if(!c.source)return!1;"number"==typeof i&&(s=u.originalPositionFor({column:n,line:i})),l=t(c.source)?a(c.source):new URL(c.source,this.map.consumer().sourceRoot||a(this.map.mapFile));let d={column:c.column,endColumn:s&&s.column,endLine:s&&s.line,line:c.line,url:l.toString()};if("file:"===l.protocol)if(o)d.file=o(l);else throw Error("file: protocol is not available in this PostCSS build");let p=u.sourceContentFor(c.source);return p&&(d.source=p),d}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}return rM=f,f.default=f,u&&u.registerInput&&u.registerInput(f),rM}function t4(){if(r$)return rj;r$=1;let e=tQ(),t,r;class i extends e{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of i)e.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new t(new r,this,e).stringify()}}return i.registerLazyResult=e=>{t=e},i.registerProcessor=e=>{r=e},rj=i,i.default=i,e.registerRoot(i),rj}function t3(){if(rF)return rz;rF=1;let e={comma:t=>e.split(t,[","],!0),space(t){let r=[" ",`
`,"	"];return e.split(t,r)},split(e,t,r){let i=[],n="",o=!1,a=0,s=!1,l="",u=!1;for(let r of e)u?u=!1:"\\"===r?u=!0:s?r===l&&(s=!1):'"'===r||"'"===r?(s=!0,l=r):"("===r?a+=1:")"===r?a>0&&(a-=1):0===a&&t.includes(r)&&(o=!0),o?(""!==n&&i.push(n.trim()),n="",o=!1):n+=r;return(r||""!==n)&&i.push(n.trim()),i}};return rz=e,e.default=e,rz}function t5(){if(rV)return rq;rV=1;let e=tQ(),t=t3();class r extends e{get selectors(){return t.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}}return rq=r,r.default=r,e.registerRule(r),rq}function t6(){if(rG)return rH;rG=1;let e=tY(),t=tZ(),r=tJ(),i=t2(),n=t1(),o=t4(),a=t5();function s(l,u){if(Array.isArray(l))return l.map(e=>s(e));let{inputs:c,...d}=l;if(c)for(let e of(u=[],c)){let t={...e,__proto__:i.prototype};t.map&&(t.map={...t.map,__proto__:n.prototype}),u.push(t)}if(d.nodes&&(d.nodes=l.nodes.map(e=>s(e,u))),d.source){let{inputId:e,...t}=d.source;d.source=t,null!=e&&(d.source.input=u[e])}if("root"===d.type)return new o(d);if("decl"===d.type)return new r(d);if("rule"===d.type)return new a(d);if("comment"===d.type)return new t(d);if("atrule"===d.type)return new e(d);throw Error("Unknown node type: "+l.type)}return rH=s,s.default=s,rH}function t8(){if(rZ)return rW;rZ=1;let{dirname:e,relative:t,resolve:r,sep:i}=tU,{SourceMapConsumer:n,SourceMapGenerator:o}=tU,{pathToFileURL:a}=tU,s=t2(),l=!!(n&&o),u=!!(e&&r&&t&&i);class c{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let t of this.previous()){let r=this.toUrl(this.path(t.file)),i=t.root||e(t.file),o;!1===this.mapOpts.sourcesContent?(o=new n(t.text)).sourcesContent&&(o.sourcesContent=null):o=t.consumer(),this.map.applySourceMap(o,r,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),u&&l&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=o.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},n,a;this.stringify(this.root,(o,s,l)=>{if(this.css+=o,s&&"end"!==l&&(i.generated.line=e,i.generated.column=t-1,s.source&&s.source.start?(i.source=this.sourcePath(s),i.original.line=s.source.start.line,i.original.column=s.source.start.column-1):(i.source=r,i.original.line=1,i.original.column=0),this.map.addMapping(i)),(a=o.match(/\n/g))?(e+=a.length,n=o.lastIndexOf(`
`),t=o.length-n):t+=o.length,s&&"start"!==l){let n=s.parent||{raws:{}};(!("decl"===s.type||"atrule"===s.type&&!s.nodes)||s!==n.last||n.raws.semicolon)&&(s.source&&s.source.end?(i.source=this.sourcePath(s),i.original.line=s.source.end.line,i.original.column=s.source.end.column-1,i.generated.line=e,i.generated.column=t-2):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1),this.map.addMapping(i))}})}isAnnotation(){return!!this.isInline()||("u">typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if("u">typeof this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(!("u">typeof e)||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isMap(){return"u">typeof this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return"u">typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(i){if(this.mapOpts.absolute||60===i.charCodeAt(0)||/^\w+:\/\//.test(i))return i;let n=this.memoizedPaths.get(i);if(n)return n;let o=this.opts.to?e(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(o=e(r(o,this.mapOpts.annotation)));let a=t(o,i);return this.memoizedPaths.set(i,a),a}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new s(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer.from(e).toString("base64")}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(a){let t=a(e).toString();return this.memoizedFileURLs.set(e,t),t}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===i&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}}return rW=c}function t9(){if(rQ)return rJ;rQ=1;let e=39,t=34,r=92,i=47,n=10,o=32,a=12,s=9,l=13,u=91,c=93,d=40,p=41,f=123,h=125,m=59,g=42,y=58,v=64,b=/[\t\n\f\r "#'()/;[\\\]{}]/g,A=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,w=/.[\r\n"'(/\\]/,_=/[\da-f]/i;return rJ=function(S,E={}){let T=S.css.valueOf(),I=E.ignoreErrors,x,O,C,k,N,R,P,D,U,L,K=T.length,M=0,B=[],j=[];function $(e){throw S.error("Unclosed "+e,M)}return{back:function(e){j.push(e)},endOfFile:function(){return 0===j.length&&M>=K},nextToken:function(S){if(j.length)return j.pop();if(M>=K)return;let E=!!S&&S.ignoreUnclosed;switch(x=T.charCodeAt(M)){case n:case o:case s:case l:case a:k=M;do k+=1,x=T.charCodeAt(k);while(x===o||x===n||x===s||x===l||x===a)R=["space",T.slice(M,k)],M=k-1;break;case u:case c:case f:case h:case y:case m:case p:{let e=String.fromCharCode(x);R=[e,e,M];break}case d:if(L=B.length?B.pop()[1]:"",U=T.charCodeAt(M+1),"url"===L&&U!==e&&U!==t&&U!==o&&U!==n&&U!==s&&U!==a&&U!==l){k=M;do{if(P=!1,-1===(k=T.indexOf(")",k+1)))if(I||E){k=M;break}else $("bracket");for(D=k;T.charCodeAt(D-1)===r;)D-=1,P=!P}while(P)R=["brackets",T.slice(M,k+1),M,k],M=k}else k=T.indexOf(")",M+1),O=T.slice(M,k+1),-1===k||w.test(O)?R=["(","(",M]:(R=["brackets",O,M,k],M=k);break;case e:case t:N=x===e?"'":'"',k=M;do{if(P=!1,-1===(k=T.indexOf(N,k+1)))if(I||E){k=M+1;break}else $("string");for(D=k;T.charCodeAt(D-1)===r;)D-=1,P=!P}while(P)R=["string",T.slice(M,k+1),M,k],M=k;break;case v:b.lastIndex=M+1,b.test(T),k=0===b.lastIndex?T.length-1:b.lastIndex-2,R=["at-word",T.slice(M,k+1),M,k],M=k;break;case r:for(k=M,C=!0;T.charCodeAt(k+1)===r;)k+=1,C=!C;if(x=T.charCodeAt(k+1),C&&x!==i&&x!==o&&x!==n&&x!==s&&x!==l&&x!==a&&(k+=1,_.test(T.charAt(k)))){for(;_.test(T.charAt(k+1));)k+=1;T.charCodeAt(k+1)===o&&(k+=1)}R=["word",T.slice(M,k+1),M,k],M=k;break;default:x===i&&T.charCodeAt(M+1)===g?(0===(k=T.indexOf("*/",M+2)+1)&&(I||E?k=T.length:$("comment")),R=["comment",T.slice(M,k+1),M,k]):(A.lastIndex=M+1,A.test(T),k=0===A.lastIndex?T.length-1:A.lastIndex-2,R=["word",T.slice(M,k+1),M,k],B.push(R)),M=k}return M++,R},position:function(){return M}}}}function t7(){if(rX)return rY;rX=1;let e=tY(),t=tZ(),r=tJ(),i=t4(),n=t5(),o=t9(),a={empty:!0,space:!0};function s(e){for(let t=e.length-1;t>=0;t--){let r=e[t],i=r[3]||r[2];if(i)return i}}class l{constructor(e){this.input=e,this.root=new i,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(t){let r=new e;r.name=t[1].slice(1),""===r.name&&this.unnamedAtrule(r,t),this.init(r,t[2]);let i,n,o,a=!1,s=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if("("===(i=(t=this.tokenizer.nextToken())[0])||"["===i?u.push("("===i?")":"]"):"{"===i&&u.length>0?u.push("}"):i===u[u.length-1]&&u.pop(),0===u.length)if(";"===i){r.source.end=this.getPosition(t[2]),r.source.end.offset++,this.semicolon=!0;break}else if("{"===i){s=!0;break}else if("}"===i){if(l.length>0){for(o=l.length-1,n=l[o];n&&"space"===n[0];)n=l[--o];n&&(r.source.end=this.getPosition(n[3]||n[2]),r.source.end.offset++)}this.end(t);break}else l.push(t);else l.push(t);if(this.tokenizer.endOfFile()){a=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),a&&(t=l[l.length-1],r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),s&&(r.nodes=[],this.current=r)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r=0,i;for(let n=t-1;n>=0&&("space"===(i=e[n])[0]||2!==(r+=1));n--);throw this.input.error("Missed semicolon","word"===i[0]?i[3]+1:i[2])}colon(e){let t=0,r,i,n;for(let[o,a]of e.entries()){if("("===(n=(i=a)[0])&&(t+=1),")"===n&&(t-=1),0===t&&":"===n)if(r){if("word"===r[0]&&"progid"===r[1])continue;return o}else this.doubleColon(i);r=i}return!1}comment(e){let r=new t;this.init(r,e[2]),r.source.end=this.getPosition(e[3]||e[2]),r.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))r.text="",r.raws.left=i,r.raws.right="";else{let e=i.match(/^(\s*)([^]*\S)(\s*)$/);r.text=e[2],r.raws.left=e[1],r.raws.right=e[3]}}createTokenizer(){this.tokenizer=o(this.input)}decl(e,t){let i,n=new r;this.init(n,e[0][2]);let o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(o[3]||o[2]||s(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;)if(":"===(i=e.shift())[0]){n.raws.between+=i[1];break}else"word"===i[0]&&/\w/.test(i[1])&&this.unknownWord([i]),n.raws.between+=i[1];("_"===n.prop[0]||"*"===n.prop[0])&&(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let a=[],l;for(;e.length&&("space"===(l=e[0][0])||"comment"===l);)a.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if("!important"===(i=e[t])[1].toLowerCase()){n.important=!0;let r=this.stringFrom(e,t);" !important"!==(r=this.spacesFromEnd(e)+r)&&(n.raws.important=r);break}if("important"===i[1].toLowerCase()){let r=e.slice(0),i="";for(let e=t;e>0;e--){let t=r[e][0];if(i.trim().startsWith("!")&&"space"!==t)break;i=r.pop()[1]+i}i.trim().startsWith("!")&&(n.important=!0,n.raws.important=i,e=r)}if("space"!==i[0]&&"comment"!==i[0])break}e.some(e=>"space"!==e[0]&&"comment"!==e[0])&&(n.raws.between+=a.map(e=>e[1]).join(""),a=[]),this.raw(n,"value",a.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new n;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="",t.source.end=this.getPosition(e[2]),t.source.end.offset+=t.raws.ownSemicolon.length)}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,n=null,o=[],a=e[1].startsWith("--"),s=[],l=e;for(;l;){if(r=l[0],s.push(l),"("===r||"["===r)n||(n=l),o.push("("===r?")":"]");else if(a&&i&&"{"===r)n||(n=l),o.push("}");else if(0===o.length)if(";"===r)if(i)return void this.decl(s,a);else break;else if("{"===r)return void this.rule(s);else if("}"===r){this.tokenizer.back(s.pop()),t=!0;break}else":"===r&&(i=!0);else r===o[o.length-1]&&(o.pop(),0===o.length&&(n=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(n),t&&i){if(!a)for(;s.length&&("space"===(l=s[s.length-1][0])||"comment"===l);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let n,o,s=r.length,l="",u=!0,c,d;for(let e=0;e<s;e+=1)"space"!==(o=(n=r[e])[0])||e!==s-1||i?"comment"===o?(d=r[e-1]?r[e-1][0]:"empty",c=r[e+1]?r[e+1][0]:"empty",a[d]||a[c]||","===l.slice(-1)?u=!1:l+=n[1]):l+=n[1]:u=!1;if(!u){let i=r.reduce((e,t)=>e+t[1],"");e.raws[t]={raw:i,value:l}}e[t]=l}rule(e){e.pop();let t=new n;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t="";for(;e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word "+e[0][1],{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}return rY=l}function re(){if(r1)return r0;r1=1;let e=tQ(),t=t2(),r=t7();function i(e,i){let n=new r(new t(e,i));try{n.parse()}catch(e){throw e}return n.root}return r0=i,i.default=i,e.registerParse(i),r0}function rt(){if(r4)return r2;r4=1;class e{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return r2=e,e.default=e,r2}function rr(){if(r5)return r3;r5=1;let e=rt();class t{get content(){return this.css}constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(t,r={}){r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);let i=new e(t,r);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>"warning"===e.type)}}return r3=t,t.default=t,r3}function ri(){if(r8)return r6;r8=1;let e={};return r6=function(t){e[t]||(e[t]=!0,"u">typeof console&&console.warn&&console.warn(t))}}function rn(){if(r7)return r9;r7=1;let e=tQ(),t=tX(),r=t8(),i=re(),n=rr(),o=t4(),a=tM(),{isClean:s,my:l}=tG();ri();let u={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},c={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},d={Once:!0,postcssPlugin:!0,prepare:!0},p=0;function f(e){return"object"==typeof e&&"function"==typeof e.then}function h(e){let t=!1,r=u[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,p,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,p,r+"Exit"]:[r,r+"Exit"]}function m(e){let t;return{eventIndex:0,events:t="document"===e.type?["Document",p,"DocumentExit"]:"root"===e.type?["Root",p,"RootExit"]:h(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function g(e){return e[s]=!1,e.nodes&&e.nodes.forEach(e=>g(e)),e}let y={};class v{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(t,r,o){let a;if(this.stringified=!1,this.processed=!1,"object"==typeof r&&null!==r&&("root"===r.type||"document"===r.type))a=g(r);else if(r instanceof v||r instanceof n)a=g(r.root),r.map&&(typeof o.map>"u"&&(o.map={}),o.map.inline||(o.map.inline=!1),o.map.prev=r.map);else{let t=i;o.syntax&&(t=o.syntax.parse),o.parser&&(t=o.parser),t.parse&&(t=t.parse);try{a=t(r,o)}catch(e){this.processed=!0,this.error=e}a&&!a[l]&&e.rebuild(a)}this.result=new n(t,a,o),this.helpers={...y,postcss:y,result:this.result},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin||(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!c[r]&&/^[A-Z]/.test(r))throw Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!d[r])if("object"==typeof t[r])for(let i in t[r])e(t,"*"===i?r:r+"-"+i.toLowerCase(),t[r][i]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(f(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[s];){e[s]=!0;let t=[m(e)];for(;t.length>0;){let e=this.visitTick(t);if(f(e))try{await e}catch(r){let e=t[t.length-1].node;throw this.handleError(r,e)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>r(e,this.helpers));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));return f(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=a;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new r(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(f(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[s];)e[s]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){let e;this.result.lastPlugin=r;try{e=i(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(f(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,n]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return n(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let i=t.iterator,n;for(;n=r.nodes[r.indexes[i]];)if(r.indexes[i]+=1,!n[s]){n[s]=!0,e.push(m(n));return}t.iterator=0,delete r.indexes[i]}let n=t.events;for(;t.eventIndex<n.length;){let e=n[t.eventIndex];if(t.eventIndex+=1,e===p){r.nodes&&r.nodes.length&&(r[s]=!0,t.iterator=r.getIterator());return}if(this.listeners[e]){t.visitors=this.listeners[e];return}}e.pop()}walkSync(e){for(let t of(e[s]=!0,h(e)))if(t===p)e.nodes&&e.each(e=>{e[s]||this.walkSync(e)});else{let r=this.listeners[t];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}}return v.registerPostcss=e=>{y=e},r9=v,v.default=v,o.registerLazyResult(v),t.registerLazyResult(v),r9}function ro(){if(it)return ie;it=1;let e=t8(),t=re(),r=rr(),i=tM();ri();class n{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,r=t;try{e=r(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(t,n,o){n=n.toString(),this.stringified=!1,this._processor=t,this._css=n,this._opts=o,this._map=void 0;let a,s=i;this.result=new r(this._processor,a,this._opts),this.result.css=n;let l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});let u=new e(s,a,this._opts,n);if(u.isMap()){let[e,t]=u.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else u.clearAnnotation(),this.result.css=u.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}}return ie=n,n.default=n,ie}function ra(){if(ii)return ir;ii=1;let e=tX(),t=rn(),r=ro(),i=t4();class n{constructor(e=[]){this.version="8.5.3",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else if("object"==typeof r&&(r.parse||r.stringify));else throw Error(r+" is not a PostCSS plugin");return t}process(e,i={}){return this.plugins.length||i.parser||i.stringifier||i.syntax?new t(this,e,i):new r(this,e,i)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}return ir=n,n.default=n,i.registerProcessor(n),e.registerProcessor(n),ir}function rs(){if(ia)return io;ia=1;let e=tY(),t=tZ(),r=tQ(),i=tL(),n=tJ(),o=tX(),a=t6(),s=t2(),l=rn(),u=t3(),c=tW(),d=re(),p=ra(),f=rr(),h=t4(),m=t5(),g=tM(),y=rt();function v(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new p(e)}return v.plugin=function(e,t){let r,i=!1;function n(...r){console&&console.warn&&!i&&(i=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let o=t(...r);return o.postcssPlugin=e,o.postcssVersion=new p().version,o}return Object.defineProperty(n,"postcss",{get:()=>(r||(r=n()),r)}),n.process=function(e,t,r){return v([n(r)]).process(e,t)},n},v.stringify=g,v.parse=d,v.fromJSON=a,v.list=u,v.comment=e=>new t(e),v.atRule=t=>new e(t),v.decl=e=>new n(e),v.rule=e=>new m(e),v.root=e=>new h(e),v.document=e=>new o(e),v.CssSyntaxError=i,v.Declaration=n,v.Container=r,v.Processor=p,v.Document=o,v.Comment=t,v.Warning=y,v.AtRule=e,v.Result=f,v.Input=s,v.Rule=m,v.Root=h,v.Node=c,l.registerPostcss(v),io=v,v.default=v,io}let rl=tN(rs());rl.stringify,rl.fromJSON,rl.plugin;let ru=rl.parse;rl.list,rl.document,rl.comment,rl.atRule;let rc=rl.rule,rd=rl.decl;rl.root,rl.CssSyntaxError,rl.Declaration,rl.Container,rl.Processor,rl.Document,rl.Comment,rl.Warning;let rp=rl.AtRule;rl.Result,rl.Input;let rf=rl.Rule,rh=rl.Root;rl.Node;let rm=e=>e.replace(/\/\*[\s\S]*?\*\//gm,"").replace(/;\s+/gm,";").replace(/:\s+/gm,":").replace(/\)\s*{/gm,"){").replace(/\s+\(/gm,"(").replace(/{\s+/gm,"{").replace(/}\s+/gm,"}").replace(/\s*{/gm,"{").replace(/;?\s*}/gm,"}"),rg=e=>{if(void 0===e.first){let t=e.parent;t&&(e.remove(),rg(t))}},ry=e=>{e.walkRules(t=>{e.walkRules(t.selector,e=>{if(e===t)return;let r=e.parent;e.remove(),r&&rg(r)})})},rv=e=>"function"==typeof e.type||void 0!==e.type.render;function rb(e,t){let r=tC.default.Children.map(e,e=>{if(tC.default.isValidElement(e)){let r={...e.props};e.props.children&&!rv(e)&&(r.children=rb(e.props.children,t));let i=t(tC.default.cloneElement(e,r,r.children));return tC.default.isValidElement(i)&&("function"==typeof i.type||i.type.render)?rb(("object"==typeof i.type?i.type.render:i.type)(i.props),t):i}return t(e)});return r&&1===r.length?r[0]:r}let rA={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"},rw=e=>e.replaceAll("+","plus").replaceAll("[","").replaceAll("%","pc").replaceAll("]","").replaceAll("(","").replaceAll(")","").replaceAll("!","imprtnt").replaceAll(">","gt").replaceAll("<","lt").replaceAll("=","eq").replace(/^[0-9]/,e=>rA[e]).replace(/[^a-zA-Z0-9\-_]/g,"_");var r_,rS,rE,rT,rI,rx,rO,rC,rk,rN,rR,rP,rD,rU,rL,rK,rM,rB,rj,r$,rz,rF,rq,rV,rH,rG,rW,rZ,rJ,rQ,rY,rX,r0,r1,r2,r4,r3,r5,r6,r8,r9,r7,ie,it,ir,ii,io,ia,is,il={exports:{}},iu={exports:{}},ic={exports:{}},id={exports:{}},ip={exports:{}},ih={exports:{}},im={},ig={exports:{}};function iy(){return is||(is=1,function(e,t){function r(e){for(var t=e.toLowerCase(),r="",i=!1,n=0;n<6&&void 0!==t[n];n++){var o=t.charCodeAt(n),a=o>=97&&o<=102||o>=48&&o<=57;if(i=32===o,!a)break;r+=t[n]}if(0!==r.length){var s=parseInt(r,16);return s>=55296&&s<=57343||0===s||s>1114111?["",r.length+ +!!i]:[String.fromCodePoint(s),r.length+ +!!i]}}t.__esModule=!0,t.default=n;var i=/\\/;function n(e){if(!i.test(e))return e;for(var t="",n=0;n<e.length;n++){if("\\"===e[n]){var o=r(e.slice(n+1,n+7));if(void 0!==o){t+=o[0],n+=o[1];continue}if("\\"===e[n+1]){t+="\\",n++;continue}e.length===n+1&&(t+=e[n]);continue}t+=e[n]}return t}e.exports=t.default}(ig,ig.exports)),ig.exports}var iv,ib={exports:{}};function iA(){return iv||(iv=1,function(e,t){function r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(;r.length>0;){var n=r.shift();if(!e[n])return;e=e[n]}return e}t.__esModule=!0,t.default=r,e.exports=t.default}(ib,ib.exports)),ib.exports}var iw,i_={exports:{}};function iS(){return iw||(iw=1,function(e,t){function r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(;r.length>0;){var n=r.shift();e[n]||(e[n]={}),e=e[n]}}t.__esModule=!0,t.default=r,e.exports=t.default}(i_,i_.exports)),i_.exports}var iE,iT={exports:{}};function iI(){return iE||(iE=1,function(e,t){function r(e){for(var t="",r=e.indexOf("/*"),i=0;r>=0;){t+=e.slice(i,r);var n=e.indexOf("*/",r+2);if(n<0)return t;i=n+2,r=e.indexOf("/*",i)}return t+e.slice(i)}t.__esModule=!0,t.default=r,e.exports=t.default}(iT,iT.exports)),iT.exports}function ix(){if(iC)return im;function e(e){return e&&e.__esModule?e:{default:e}}return iC=1,im.__esModule=!0,im.unesc=im.stripComments=im.getProp=im.ensureObject=void 0,im.unesc=e(iy()).default,im.getProp=e(iA()).default,im.ensureObject=e(iS()).default,im.stripComments=e(iI()).default,im}function iO(){return ik||(ik=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=ix();function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,r){return t&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var o=function e(t,r){if("object"!=typeof t||null===t)return t;var i=new t.constructor;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],a=typeof o;"parent"===n&&"object"===a?r&&(i[n]=r):o instanceof Array?i[n]=o.map(function(t){return e(t,i)}):i[n]=e(o,i)}return i};t.default=function(){function e(e){void 0===e&&(e={}),Object.assign(this,e),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t=e.prototype;return t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){if(this.parent){for(var e in arguments)this.parent.insertBefore(this,arguments[e]);this.remove()}return this},t.next=function(){return this.parent.at(this.parent.index(this)+1)},t.prev=function(){return this.parent.at(this.parent.index(this)-1)},t.clone=function(e){void 0===e&&(e={});var t=o(this);for(var r in e)t[r]=e[r];return t},t.appendToPropertyAndEscape=function(e,t,r){this.raws||(this.raws={});var i=this[e],n=this.raws[e];this[e]=i+t,n||r!==t?this.raws[e]=(n||i)+r:delete this.raws[e]},t.setPropertyAndEscape=function(e,t,r){this.raws||(this.raws={}),this[e]=t,this.raws[e]=r},t.setPropertyWithoutEscape=function(e,t){this[e]=t,this.raws&&delete this.raws[e]},t.isAtPosition=function(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e||this.source.end.line<e||this.source.start.line===e&&this.source.start.column>t||this.source.end.line===e&&this.source.end.column<t)},t.stringifyProperty=function(e){return this.raws&&this.raws[e]||this[e]},t.valueToString=function(){return String(this.stringifyProperty("value"))},t.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},n(e,[{key:"rawSpaceBefore",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===e&&(e=this.spaces&&this.spaces.before),e||""},set:function(e){(0,r.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===e&&(e=this.spaces.after),e||""},set:function(e){(0,r.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=e}}]),e}(),e.exports=t.default}(ih,ih.exports)),ih.exports}var iC,ik,iN,iR={};function iP(){return iN||(iN=1,iR.__esModule=!0,iR.UNIVERSAL=iR.TAG=iR.STRING=iR.SELECTOR=iR.ROOT=iR.PSEUDO=iR.NESTING=iR.ID=iR.COMMENT=iR.COMBINATOR=iR.CLASS=iR.ATTRIBUTE=void 0,iR.TAG="tag",iR.STRING="string",iR.SELECTOR="selector",iR.ROOT="root",iR.PSEUDO="pseudo",iR.NESTING="nesting",iR.ID="id",iR.COMMENT="comment",iR.COMBINATOR="combinator",iR.CLASS="class",iR.ATTRIBUTE="attribute",iR.UNIVERSAL="universal"),iR}function iD(){return iL||(iL=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a(iO()),i=o(iP());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=l(e))||t){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function c(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,r){return t&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).nodes||(r.nodes=[]),r}p(t,e);var r=t.prototype;return r.append=function(e){return e.parent=this,this.nodes.push(e),this},r.prepend=function(e){for(var t in e.parent=this,this.nodes.unshift(e),this.indexes)this.indexes[t]++;return this},r.at=function(e){return this.nodes[e]},r.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},r.removeChild=function(e){var t;for(var r in e=this.index(e),this.at(e).parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this},r.removeAll=function(){for(var e,t=s(this.nodes);!(e=t()).done;)e.value.parent=void 0;return this.nodes=[],this},r.empty=function(){return this.removeAll()},r.insertAfter=function(e,t){t.parent=this;for(var r,i,n=this.index(e),o=[],a=2;a<arguments.length;a++)o.push(arguments[a]);for(var s in(r=this.nodes).splice.apply(r,[n+1,0,t].concat(o)),t.parent=this,this.indexes)n<(i=this.indexes[s])&&(this.indexes[s]=i+arguments.length-1);return this},r.insertBefore=function(e,t){t.parent=this;for(var r,i,n=this.index(e),o=[],a=2;a<arguments.length;a++)o.push(arguments[a]);for(var s in(r=this.nodes).splice.apply(r,[n,0,t].concat(o)),t.parent=this,this.indexes)(i=this.indexes[s])>=n&&(this.indexes[s]=i+arguments.length-1);return this},r._findChildAtPosition=function(e,t){var r=void 0;return this.each(function(i){if(i.atPosition){var n=i.atPosition(e,t);if(n)return r=n,!1}else if(i.isAtPosition(e,t))return r=i,!1}),r},r.atPosition=function(e,t){if(this.isAtPosition(e,t))return this._findChildAtPosition(e,t)||this},r._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},r.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var t,r,i=this.lastEach;if(this.indexes[i]=0,this.length){for(;this.indexes[i]<this.length&&(t=this.indexes[i],!1!==(r=e(this.at(t),t)));)this.indexes[i]+=1;if(delete this.indexes[i],!1===r)return!1}},r.walk=function(e){return this.each(function(t,r){var i=e(t,r);if(!1!==i&&t.length&&(i=t.walk(e)),!1===i)return!1})},r.walkAttributes=function(e){var t=this;return this.walk(function(r){if(r.type===i.ATTRIBUTE)return e.call(t,r)})},r.walkClasses=function(e){var t=this;return this.walk(function(r){if(r.type===i.CLASS)return e.call(t,r)})},r.walkCombinators=function(e){var t=this;return this.walk(function(r){if(r.type===i.COMBINATOR)return e.call(t,r)})},r.walkComments=function(e){var t=this;return this.walk(function(r){if(r.type===i.COMMENT)return e.call(t,r)})},r.walkIds=function(e){var t=this;return this.walk(function(r){if(r.type===i.ID)return e.call(t,r)})},r.walkNesting=function(e){var t=this;return this.walk(function(r){if(r.type===i.NESTING)return e.call(t,r)})},r.walkPseudos=function(e){var t=this;return this.walk(function(r){if(r.type===i.PSEUDO)return e.call(t,r)})},r.walkTags=function(e){var t=this;return this.walk(function(r){if(r.type===i.TAG)return e.call(t,r)})},r.walkUniversals=function(e){var t=this;return this.walk(function(r){if(r.type===i.UNIVERSAL)return e.call(t,r)})},r.split=function(e){var t=this,r=[];return this.reduce(function(i,n,o){var a=e.call(t,n);return r.push(n),a?(i.push(r),r=[]):o===t.length-1&&i.push(r),i},[])},r.map=function(e){return this.nodes.map(e)},r.reduce=function(e,t){return this.nodes.reduce(e,t)},r.every=function(e){return this.nodes.every(e)},r.some=function(e){return this.nodes.some(e)},r.filter=function(e){return this.nodes.filter(e)},r.sort=function(e){return this.nodes.sort(e)},r.toString=function(){return this.map(String).join("")},d(t,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),t}(r.default),e.exports=t.default}(ip,ip.exports)),ip.exports}function iU(){return iK||(iK=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iD()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,r){return t&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.ROOT,r}s(t,e);var r=t.prototype;return r.toString=function(){var e=this.reduce(function(e,t){return e.push(String(t)),e},[]).join(",");return this.trailingComma?e+",":e},r.error=function(e,t){return this._error?this._error(e,t):Error(e)},a(t,[{key:"errorGenerator",set:function(e){this._error=e}}]),t}(r.default),e.exports=t.default}(id,id.exports)),id.exports}var iL,iK,iM,iB={exports:{}};function ij(){return iM||(iM=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iD()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.SELECTOR,r}return o(t,e),t}(r.default),e.exports=t.default}(iB,iB.exports)),iB.exports}var i$={exports:{}};function iz(){if(iV)return iq;iV=1;var e={}.hasOwnProperty,t=function(t,r){if(!t)return r;var i={};for(var n in r)i[n]=e.call(t,n)?t[n]:r[n];return i},r=/[ -,\.\/:-@\[-\^`\{-~]/,i=/[ -,\.\/:-@\[\]\^`\{-~]/,n=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,o=function e(o,a){"single"!=(a=t(a,e.options)).quotes&&"double"!=a.quotes&&(a.quotes="single");for(var s="double"==a.quotes?'"':"'",l=a.isIdentifier,u=o.charAt(0),c="",d=0,p=o.length;d<p;){var f=o.charAt(d++),h=f.charCodeAt(),m=void 0;if(h<32||h>126){if(h>=55296&&h<=56319&&d<p){var g=o.charCodeAt(d++);(64512&g)==56320?h=((1023&h)<<10)+(1023&g)+65536:d--}m="\\"+h.toString(16).toUpperCase()+" "}else m=a.escapeEverything?r.test(f)?"\\"+f:"\\"+h.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(f)?"\\"+h.toString(16).toUpperCase()+" ":"\\"==f||!l&&('"'==f&&s==f||"'"==f&&s==f)||l&&i.test(f)?"\\"+f:f;c+=m}return l&&(/^-[-\d]/.test(c)?c="\\-"+c.slice(1):/\d/.test(u)&&(c="\\3"+u+" "+c.slice(1))),c=c.replace(n,function(e,t,r){return t&&t.length%2?e:(t||"")+r}),!l&&a.wrap?s+c+s:c};return o.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},o.version="3.0.0",iq=o}function iF(){return iH||(iH=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a(iz()),i=ix(),n=a(iO()),o=iP();function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,r){return t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=o.CLASS,r._constructed=!0,r}return u(t,e),t.prototype.valueToString=function(){return"."+e.prototype.valueToString.call(this)},l(t,[{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=(0,r.default)(e,{isIdentifier:!0});t!==e?((0,i.ensureObject)(this,"raws"),this.raws.value=t):this.raws&&delete this.raws.value}this._value=e}}]),t}(n.default),e.exports=t.default}(i$,i$.exports)),i$.exports}var iq,iV,iH,iG,iW={exports:{}};function iZ(){return iG||(iG=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iO()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.COMMENT,r}return o(t,e),t}(r.default),e.exports=t.default}(iW,iW.exports)),iW.exports}var iJ,iQ={exports:{}};function iY(){return iJ||(iJ=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iO()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.ID,r}return o(t,e),t.prototype.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},t}(r.default),e.exports=t.default}(iQ,iQ.exports)),iQ.exports}var iX,i0={exports:{}},i1={exports:{}};function i2(){return iX||(iX=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iz()),i=ix();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,r){return t&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.qualifiedName=function(e){return this.namespace?this.namespaceString+"|"+e:e},n.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},a(t,[{key:"namespace",get:function(){return this._namespace},set:function(e){if(!0===e||"*"===e||"&"===e){this._namespace=e,this.raws&&delete this.raws.namespace;return}var t=(0,r.default)(e,{isIdentifier:!0});this._namespace=e,t!==e?((0,i.ensureObject)(this,"raws"),this.raws.namespace=t):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(e){this.namespace=e}},{key:"namespaceString",get:function(){if(!this.namespace)return"";var e=this.stringifyProperty("namespace");return!0===e?"":e}}]),t}(n(iO()).default),e.exports=t.default}(i1,i1.exports)),i1.exports}function i4(){return i3||(i3=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(i2()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.TAG,r}return o(t,e),t}(r.default),e.exports=t.default}(i0,i0.exports)),i0.exports}var i3,i5,i6={exports:{}};function i8(){return i5||(i5=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iO()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.STRING,r}return o(t,e),t}(r.default),e.exports=t.default}(i6,i6.exports)),i6.exports}var i9,i7={exports:{}};function ne(){return i9||(i9=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iD()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.PSEUDO,r}return o(t,e),t.prototype.toString=function(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")},t}(r.default),e.exports=t.default}(i7,i7.exports)),i7.exports}var nt,nr,ni={};function nn(){if(nr)return nt;function e(e){try{if(!tk.localStorage)return!1}catch{return!1}var t=tk.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return nr=1,nt=function(t,r){if(e("noDeprecation"))return t;var i=!1;return function(){if(!i){if(e("throwDeprecation"))throw Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return t.apply(this,arguments)}}}function no(){return na||(na=1,function(e){e.__esModule=!0,e.default=void 0,e.unescapeValue=g;var t,r=a(iz()),i=a(iy()),n=a(i2()),o=iP();function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,r){return t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var d=nn(),p=/^('|")([^]*)\1$/,f=d(function(){},"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),h=d(function(){},"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),m=d(function(){},"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function g(e){var t=!1,r=null,n=e,o=n.match(p);return o&&(r=o[1],n=o[2]),(n=(0,i.default)(n))!==e&&(t=!0),{deprecatedUsage:t,unescaped:n,quoteMark:r}}function y(e){if(void 0!==e.quoteMark||void 0===e.value)return e;m();var t=g(e.value),r=t.quoteMark,i=t.unescaped;return e.raws||(e.raws={}),void 0===e.raws.value&&(e.raws.value=e.value),e.value=i,e.quoteMark=r,e}var v=function(e){function t(t){var r;return void 0===t&&(t={}),(r=e.call(this,y(t))||this).type=o.ATTRIBUTE,r.raws=r.raws||{},Object.defineProperty(r.raws,"unquoted",{get:d(function(){return r.value},"attr.raws.unquoted is deprecated. Call attr.value instead."),set:d(function(){return r.value},"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),r._constructed=!0,r}u(t,e);var i=t.prototype;return i.getQuotedValue=function(e){void 0===e&&(e={});var t=b[this._determineQuoteMark(e)];return(0,r.default)(this._value,t)},i._determineQuoteMark=function(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)},i.setValue=function(e,t){void 0===t&&(t={}),this._value=e,this._quoteMark=this._determineQuoteMark(t),this._syncRawValue()},i.smartQuoteMark=function(e){var i=this.value,n=i.replace(/[^']/g,"").length,o=i.replace(/[^"]/g,"").length;if(n+o!==0)return o===n?this.preferredQuoteMark(e):o<n?t.DOUBLE_QUOTE:t.SINGLE_QUOTE;var a=(0,r.default)(i,{isIdentifier:!0});if(a===i)return t.NO_QUOTE;var s=this.preferredQuoteMark(e);if(s===t.NO_QUOTE){var l=this.quoteMark||e.quoteMark||t.DOUBLE_QUOTE,u=b[l];if((0,r.default)(i,u).length<a.length)return l}return s},i.preferredQuoteMark=function(e){var r=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;return void 0===r&&(r=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark),void 0===r&&(r=t.DOUBLE_QUOTE),r},i._syncRawValue=function(){var e=(0,r.default)(this._value,b[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e},i._handleEscapes=function(e,t){if(this._constructed){var i=(0,r.default)(t,{isIdentifier:!0});i!==t?this.raws[e]=i:delete this.raws[e]}},i._spacesFor=function(e){return Object.assign({before:"",after:""},this.spaces[e]||{},this.raws.spaces&&this.raws.spaces[e]||{})},i._stringFor=function(e,t,r){void 0===t&&(t=e),void 0===r&&(r=A);var i=this._spacesFor(t);return r(this.stringifyProperty(e),i)},i.offsetOf=function(e){var t=1,r=this._spacesFor("attribute");if(t+=r.before.length,"namespace"===e||"ns"===e)return this.namespace?t:-1;if("attributeNS"===e||(t+=this.namespaceString.length,this.namespace&&(t+=1),"attribute"===e))return t;t+=this.stringifyProperty("attribute").length,t+=r.after.length;var i=this._spacesFor("operator");t+=i.before.length;var n=this.stringifyProperty("operator");if("operator"===e)return n?t:-1;t+=n.length,t+=i.after.length;var o=this._spacesFor("value");t+=o.before.length;var a=this.stringifyProperty("value");return"value"===e?a?t:-1:(t+=a.length,t+=o.after.length,t+=this._spacesFor("insensitive").before.length,"insensitive"===e&&this.insensitive?t:-1)},i.toString=function(){var e=this,t=[this.rawSpaceBefore,"["];return t.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(t.push(this._stringFor("operator")),t.push(this._stringFor("value")),t.push(this._stringFor("insensitiveFlag","insensitive",function(t,r){return!(t.length>0)||e.quoted||0!==r.before.length||e.spaces.value&&e.spaces.value.after||(r.before=" "),A(t,r)}))),t.push("]"),t.push(this.rawSpaceAfter),t.join("")},l(t,[{key:"quoted",get:function(){var e=this.quoteMark;return"'"===e||'"'===e},set:function(e){h()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(e){if(!this._constructed){this._quoteMark=e;return}this._quoteMark!==e&&(this._quoteMark=e,this._syncRawValue())}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=g(e),r=t.deprecatedUsage,i=t.unescaped,n=t.quoteMark;r&&f(),(i!==this._value||n!==this._quoteMark)&&(this._value=i,this._quoteMark=n,this._syncRawValue())}else this._value=e}},{key:"insensitive",get:function(){return this._insensitive},set:function(e){e||(this._insensitive=!1,this.raws&&("I"===this.raws.insensitiveFlag||"i"===this.raws.insensitiveFlag)&&(this.raws.insensitiveFlag=void 0)),this._insensitive=e}},{key:"attribute",get:function(){return this._attribute},set:function(e){this._handleEscapes("attribute",e),this._attribute=e}}]),t}(n.default);e.default=v,v.NO_QUOTE=null,v.SINGLE_QUOTE="'",v.DOUBLE_QUOTE='"';var b=((t={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}})[null]={isIdentifier:!0},t);function A(e,t){return""+t.before+e+t.after}}(ni)),ni}var na,ns,nl={exports:{}};function nu(){return ns||(ns=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(i2()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.UNIVERSAL,r.value="*",r}return o(t,e),t}(r.default),e.exports=t.default}(nl,nl.exports)),nl.exports}var nc,nd={exports:{}};function np(){return nc||(nc=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iO()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.COMBINATOR,r}return o(t,e),t}(r.default),e.exports=t.default}(nd,nd.exports)),nd.exports}var nf,nh={exports:{}};function nm(){return nf||(nf=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iO()),i=iP();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.NESTING,r.value="&",r}return o(t,e),t}(r.default),e.exports=t.default}(nh,nh.exports)),nh.exports}var ng,ny={exports:{}};function nv(){return ng||(ng=1,function(e,t){function r(e){return e.sort(function(e,t){return e-t})}t.__esModule=!0,t.default=r,e.exports=t.default}(ny,ny.exports)),ny.exports}var nb,nA={},nw={};function n_(){if(nb)return nw;nb=1,nw.__esModule=!0,nw.word=nw.tilde=nw.tab=nw.str=nw.space=nw.slash=nw.singleQuote=nw.semicolon=nw.plus=nw.pipe=nw.openSquare=nw.openParenthesis=nw.newline=nw.greaterThan=nw.feed=nw.equals=nw.doubleQuote=nw.dollar=nw.cr=nw.comment=nw.comma=nw.combinator=nw.colon=nw.closeSquare=nw.closeParenthesis=nw.caret=nw.bang=nw.backslash=nw.at=nw.asterisk=nw.ampersand=void 0,nw.ampersand=38,nw.asterisk=42,nw.at=64,nw.comma=44,nw.colon=58,nw.semicolon=59,nw.openParenthesis=40,nw.closeParenthesis=41,nw.openSquare=91,nw.closeSquare=93,nw.dollar=36,nw.tilde=126,nw.caret=94,nw.plus=43,nw.equals=61,nw.pipe=124,nw.greaterThan=62,nw.space=32;var e=39;return nw.singleQuote=39,nw.doubleQuote=34,nw.slash=47,nw.bang=33,nw.backslash=92,nw.cr=13,nw.feed=12,nw.newline=10,nw.tab=9,nw.str=e,nw.comment=-1,nw.word=-2,nw.combinator=-3,nw}function nS(){return nI||(nI=1,function(e){e.__esModule=!0,e.FIELDS=void 0,e.default=f;var t,r,i=o(n_());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}for(var a=((t={})[i.tab]=!0,t[i.newline]=!0,t[i.cr]=!0,t[i.feed]=!0,t),s=((r={})[i.space]=!0,r[i.tab]=!0,r[i.newline]=!0,r[i.cr]=!0,r[i.feed]=!0,r[i.ampersand]=!0,r[i.asterisk]=!0,r[i.bang]=!0,r[i.comma]=!0,r[i.colon]=!0,r[i.semicolon]=!0,r[i.openParenthesis]=!0,r[i.closeParenthesis]=!0,r[i.openSquare]=!0,r[i.closeSquare]=!0,r[i.singleQuote]=!0,r[i.doubleQuote]=!0,r[i.plus]=!0,r[i.pipe]=!0,r[i.tilde]=!0,r[i.greaterThan]=!0,r[i.equals]=!0,r[i.dollar]=!0,r[i.caret]=!0,r[i.slash]=!0,r),l={},u="0123456789abcdefABCDEF",c=0;c<u.length;c++)l[u.charCodeAt(c)]=!0;function d(e,t){var r,n=t;do{if(s[r=e.charCodeAt(n)])break;r===i.backslash?n=p(e,n)+1:n++}while(n<e.length)return n-1}function p(e,t){var r=t,n=e.charCodeAt(r+1);if(!a[n])if(l[n]){var o=0;do r++,o++,n=e.charCodeAt(r+1);while(l[n]&&o<6)o<6&&n===i.space&&r++}else r++;return r}function f(e){var t,r,n,o,a,s,l,u,c,p,f,h,m=[],g=e.css.valueOf(),y=g.length,v=-1,b=1,A=0,w=0;function _(t,r){if(e.safe)g+=r,u=g.length-1;else throw e.error("Unclosed "+t,b,A-v,A)}for(;A<y;){switch((t=g.charCodeAt(A))===i.newline&&(v=A,b+=1),t){case i.space:case i.tab:case i.newline:case i.cr:case i.feed:u=A;do u+=1,(t=g.charCodeAt(u))===i.newline&&(v=u,b+=1);while(t===i.space||t===i.newline||t===i.tab||t===i.cr||t===i.feed)h=i.space,n=b,r=u-v-1,w=u;break;case i.plus:case i.greaterThan:case i.tilde:case i.pipe:u=A;do u+=1,t=g.charCodeAt(u);while(t===i.plus||t===i.greaterThan||t===i.tilde||t===i.pipe)h=i.combinator,n=b,r=A-v,w=u;break;case i.asterisk:case i.ampersand:case i.bang:case i.comma:case i.equals:case i.dollar:case i.caret:case i.openSquare:case i.closeSquare:case i.colon:case i.semicolon:case i.openParenthesis:case i.closeParenthesis:u=A,h=t,n=b,r=A-v,w=u+1;break;case i.singleQuote:case i.doubleQuote:f=t===i.singleQuote?"'":'"',u=A;do for(o=!1,-1===(u=g.indexOf(f,u+1))&&_("quote",f),a=u;g.charCodeAt(a-1)===i.backslash;)a-=1,o=!o;while(o)h=i.str,n=b,r=A-v,w=u+1;break;default:t===i.slash&&g.charCodeAt(A+1)===i.asterisk?(0===(u=g.indexOf("*/",A+2)+1)&&_("comment","*/"),(s=(l=g.slice(A,u+1).split(`
`)).length-1)>0?(c=b+s,p=u-l[s].length):(c=b,p=v),h=i.comment,b=c,n=c,r=u-p):t===i.slash?(u=A,h=t,n=b,r=A-v,w=u+1):(u=d(g,A),h=i.word,n=b,r=u-v),w=u+1}m.push([h,b,A-v,n,r,A,w]),p&&(v=p,p=null),A=w}return m}e.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}}(nA)),nA}function nE(){return nx||(nx=1,function(e,t){t.__esModule=!0,t.default=void 0;var r,i,n=S(iU()),o=S(ij()),a=S(iF()),s=S(iZ()),l=S(iY()),u=S(i4()),c=S(i8()),d=S(ne()),p=_(no()),f=S(nu()),h=S(np()),m=S(nm()),g=S(nv()),y=_(nS()),v=_(n_()),b=_(iP()),A=ix();function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function _(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}function S(e){return e&&e.__esModule?e:{default:e}}function E(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,t,r){return t&&E(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=((r={})[v.space]=!0,r[v.cr]=!0,r[v.feed]=!0,r[v.newline]=!0,r[v.tab]=!0,r),x=Object.assign({},I,((i={})[v.comment]=!0,i));function O(e){return{line:e[y.FIELDS.START_LINE],column:e[y.FIELDS.START_COL]}}function C(e){return{line:e[y.FIELDS.END_LINE],column:e[y.FIELDS.END_COL]}}function k(e,t,r,i){return{start:{line:e,column:t},end:{line:r,column:i}}}function N(e){return k(e[y.FIELDS.START_LINE],e[y.FIELDS.START_COL],e[y.FIELDS.END_LINE],e[y.FIELDS.END_COL])}function R(e,t){if(e)return k(e[y.FIELDS.START_LINE],e[y.FIELDS.START_COL],t[y.FIELDS.END_LINE],t[y.FIELDS.END_COL])}function P(e,t){var r=e[t];if("string"==typeof r)return -1!==r.indexOf("\\")&&((0,A.ensureObject)(e,"raws"),e[t]=(0,A.unesc)(r),void 0===e.raws[t]&&(e.raws[t]=r)),e}function D(e,t){for(var r=-1,i=[];-1!==(r=e.indexOf(t,r+1));)i.push(r);return i}function U(){var e=Array.prototype.concat.apply([],arguments);return e.filter(function(t,r){return r===e.indexOf(t)})}t.default=function(){function e(e,t){void 0===t&&(t={}),this.rule=e,this.options=Object.assign({lossy:!1,safe:!1},t),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,y.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var r=R(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new n.default({source:r}),this.root.errorGenerator=this._errorGenerator();var i=new o.default({source:{start:{line:1,column:1}},sourceIndex:0});this.root.append(i),this.current=i,this.loop()}var t=e.prototype;return t._errorGenerator=function(){var e=this;return function(t,r){return"string"==typeof e.rule?Error(t):e.rule.error(t,r)}},t.attribute=function(){var e=[],t=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[y.FIELDS.TYPE]!==v.closeSquare;)e.push(this.currToken),this.position++;if(this.currToken[y.FIELDS.TYPE]!==v.closeSquare)return this.expected("closing square bracket",this.currToken[y.FIELDS.START_POS]);var r=e.length,i={source:k(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[y.FIELDS.START_POS]};if(1===r&&!~[v.word].indexOf(e[0][y.FIELDS.TYPE]))return this.expected("attribute",e[0][y.FIELDS.START_POS]);for(var n=0,o="",a="",s=null,l=!1;n<r;){var u=e[n],c=this.content(u),d=e[n+1];switch(u[y.FIELDS.TYPE]){case v.space:if(l=!0,this.options.lossy)break;if(s){(0,A.ensureObject)(i,"spaces",s);var f=i.spaces[s].after||"";i.spaces[s].after=f+c;var h=(0,A.getProp)(i,"raws","spaces",s,"after")||null;h&&(i.raws.spaces[s].after=h+c)}else o+=c,a+=c;break;case v.asterisk:d[y.FIELDS.TYPE]===v.equals?(i.operator=c,s="operator"):i.namespace&&("namespace"!==s||l)||!d||(o&&((0,A.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=o,o=""),a&&((0,A.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=o,a=""),i.namespace=(i.namespace||"")+c,((0,A.getProp)(i,"raws","namespace")||0)&&(i.raws.namespace+=c),s="namespace"),l=!1;break;case v.dollar:if("value"===s){var m=(0,A.getProp)(i,"raws","value");i.value+="$",m&&(i.raws.value=m+"$");break}case v.caret:d[y.FIELDS.TYPE]===v.equals&&(i.operator=c,s="operator"),l=!1;break;case v.combinator:if("~"===c&&d[y.FIELDS.TYPE]===v.equals&&(i.operator=c,s="operator"),"|"!==c){l=!1;break}d[y.FIELDS.TYPE]===v.equals?(i.operator=c,s="operator"):i.namespace||i.attribute||(i.namespace=!0),l=!1;break;case v.word:if(d&&"|"===this.content(d)&&e[n+2]&&e[n+2][y.FIELDS.TYPE]!==v.equals&&!i.operator&&!i.namespace)i.namespace=c,s="namespace";else if(i.attribute&&("attribute"!==s||l))if((i.value||""===i.value)&&("value"!==s||l||i.quoteMark)){var g="i"===c||"I"===c;(i.value||""===i.value)&&(i.quoteMark||l)?(i.insensitive=g,g&&"I"!==c||((0,A.ensureObject)(i,"raws"),i.raws.insensitiveFlag=c),s="insensitive",o&&((0,A.ensureObject)(i,"spaces","insensitive"),i.spaces.insensitive.before=o,o=""),a&&((0,A.ensureObject)(i,"raws","spaces","insensitive"),i.raws.spaces.insensitive.before=a,a="")):(i.value||""===i.value)&&(s="value",i.value+=c,i.raws.value&&(i.raws.value+=c))}else{var b=(0,A.unesc)(c),w=(0,A.getProp)(i,"raws","value")||"",_=i.value||"";i.value=_+b,i.quoteMark=null,(b!==c||w)&&((0,A.ensureObject)(i,"raws"),i.raws.value=(w||_)+c),s="value"}else o&&((0,A.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=o,o=""),a&&((0,A.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=a,a=""),i.attribute=(i.attribute||"")+c,((0,A.getProp)(i,"raws","attribute")||0)&&(i.raws.attribute+=c),s="attribute";l=!1;break;case v.str:if(!i.attribute||!i.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:u[y.FIELDS.START_POS]});var S=(0,p.unescapeValue)(c),E=S.unescaped,T=S.quoteMark;i.value=E,i.quoteMark=T,s="value",(0,A.ensureObject)(i,"raws"),i.raws.value=c,l=!1;break;case v.equals:if(!i.attribute)return this.expected("attribute",u[y.FIELDS.START_POS],c);if(i.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:u[y.FIELDS.START_POS]});i.operator=i.operator?i.operator+c:c,s="operator",l=!1;break;case v.comment:if(s)if(l||d&&d[y.FIELDS.TYPE]===v.space||"insensitive"===s){var I=(0,A.getProp)(i,"spaces",s,"after")||"",x=(0,A.getProp)(i,"raws","spaces",s,"after")||I;(0,A.ensureObject)(i,"raws","spaces",s),i.raws.spaces[s].after=x+c}else{var O=i[s]||"",C=(0,A.getProp)(i,"raws",s)||O;(0,A.ensureObject)(i,"raws"),i.raws[s]=C+c}else a+=c;break;default:return this.error('Unexpected "'+c+'" found.',{index:u[y.FIELDS.START_POS]})}n++}P(i,"attribute"),P(i,"namespace"),this.newNode(new p.default(i)),this.position++},t.parseWhitespaceEquivalentTokens=function(e){e<0&&(e=this.tokens.length);var t=this.position,r=[],i="",n=void 0;do if(I[this.currToken[y.FIELDS.TYPE]])this.options.lossy||(i+=this.content());else if(this.currToken[y.FIELDS.TYPE]===v.comment){var o={};i&&(o.before=i,i=""),n=new s.default({value:this.content(),source:N(this.currToken),sourceIndex:this.currToken[y.FIELDS.START_POS],spaces:o}),r.push(n)}while(++this.position<e)if(i){if(n)n.spaces.after=i;else if(!this.options.lossy){var a=this.tokens[t],l=this.tokens[this.position-1];r.push(new c.default({value:"",source:k(a[y.FIELDS.START_LINE],a[y.FIELDS.START_COL],l[y.FIELDS.END_LINE],l[y.FIELDS.END_COL]),sourceIndex:a[y.FIELDS.START_POS],spaces:{before:i,after:""}}))}}return r},t.convertWhitespaceNodesToSpace=function(e,t){var r=this;void 0===t&&(t=!1);var i="",n="";return e.forEach(function(e){var o=r.lossySpace(e.spaces.before,t),a=r.lossySpace(e.rawSpaceBefore,t);i+=o+r.lossySpace(e.spaces.after,t&&0===o.length),n+=o+e.value+r.lossySpace(e.rawSpaceAfter,t&&0===a.length)}),n===i&&(n=void 0),{space:i,rawSpace:n}},t.isNamedCombinator=function(e){return void 0===e&&(e=this.position),this.tokens[e+0]&&this.tokens[e+0][y.FIELDS.TYPE]===v.slash&&this.tokens[e+1]&&this.tokens[e+1][y.FIELDS.TYPE]===v.word&&this.tokens[e+2]&&this.tokens[e+2][y.FIELDS.TYPE]===v.slash},t.namedCombinator=function(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]),t=(0,A.unesc)(e).toLowerCase(),r={};t!==e&&(r.value="/"+e+"/");var i=new h.default({value:"/"+t+"/",source:k(this.currToken[y.FIELDS.START_LINE],this.currToken[y.FIELDS.START_COL],this.tokens[this.position+2][y.FIELDS.END_LINE],this.tokens[this.position+2][y.FIELDS.END_COL]),sourceIndex:this.currToken[y.FIELDS.START_POS],raws:r});return this.position=this.position+3,i}this.unexpected()},t.combinator=function(){var e,t=this;if("|"===this.content())return this.namespace();var r=this.locateNextMeaningfulToken(this.position);if(r<0||this.tokens[r][y.FIELDS.TYPE]===v.comma||this.tokens[r][y.FIELDS.TYPE]===v.closeParenthesis){var i=this.parseWhitespaceEquivalentTokens(r);if(i.length>0){var n=this.current.last;if(n){var o=this.convertWhitespaceNodesToSpace(i),a=o.space,s=o.rawSpace;void 0!==s&&(n.rawSpaceAfter+=s),n.spaces.after+=a}else i.forEach(function(e){return t.newNode(e)})}return}var l=this.currToken,u=void 0;if(r>this.position&&(u=this.parseWhitespaceEquivalentTokens(r)),this.isNamedCombinator()?e=this.namedCombinator():this.currToken[y.FIELDS.TYPE]===v.combinator?(e=new h.default({value:this.content(),source:N(this.currToken),sourceIndex:this.currToken[y.FIELDS.START_POS]}),this.position++):I[this.currToken[y.FIELDS.TYPE]]||u||this.unexpected(),e){if(u){var c=this.convertWhitespaceNodesToSpace(u),d=c.space,p=c.rawSpace;e.spaces.before=d,e.rawSpaceBefore=p}}else{var f=this.convertWhitespaceNodesToSpace(u,!0),m=f.space,g=f.rawSpace;g||(g=m);var b={},A={spaces:{}};m.endsWith(" ")&&g.endsWith(" ")?(b.before=m.slice(0,m.length-1),A.spaces.before=g.slice(0,g.length-1)):m.startsWith(" ")&&g.startsWith(" ")?(b.after=m.slice(1),A.spaces.after=g.slice(1)):A.value=g,e=new h.default({value:" ",source:R(l,this.tokens[this.position-1]),sourceIndex:l[y.FIELDS.START_POS],spaces:b,raws:A})}return this.currToken&&this.currToken[y.FIELDS.TYPE]===v.space&&(e.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(e)},t.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}this.current._inferEndPosition();var e=new o.default({source:{start:O(this.tokens[this.position+1])},sourceIndex:this.tokens[this.position+1][y.FIELDS.START_POS]});this.current.parent.append(e),this.current=e,this.position++},t.comment=function(){var e=this.currToken;this.newNode(new s.default({value:this.content(),source:N(e),sourceIndex:e[y.FIELDS.START_POS]})),this.position++},t.error=function(e,t){throw this.root.error(e,t)},t.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[y.FIELDS.START_POS]})},t.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[y.FIELDS.START_POS])},t.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[y.FIELDS.START_POS])},t.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[y.FIELDS.START_POS])},t.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[y.FIELDS.START_POS])},t.namespace=function(){var e=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[y.FIELDS.TYPE]===v.word?(this.position++,this.word(e)):this.nextToken[y.FIELDS.TYPE]===v.asterisk?(this.position++,this.universal(e)):void this.unexpectedPipe()},t.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var e=this.currToken;this.newNode(new m.default({value:this.content(),source:N(e),sourceIndex:e[y.FIELDS.START_POS]})),this.position++},t.parentheses=function(){var e=this.current.last,t=1;if(this.position++,e&&e.type===b.PSEUDO){var r=new o.default({source:{start:O(this.tokens[this.position])},sourceIndex:this.tokens[this.position][y.FIELDS.START_POS]}),i=this.current;for(e.append(r),this.current=r;this.position<this.tokens.length&&t;)this.currToken[y.FIELDS.TYPE]===v.openParenthesis&&t++,this.currToken[y.FIELDS.TYPE]===v.closeParenthesis&&t--,t?this.parse():(this.current.source.end=C(this.currToken),this.current.parent.source.end=C(this.currToken),this.position++);this.current=i}else{for(var n,a=this.currToken,s="(";this.position<this.tokens.length&&t;)this.currToken[y.FIELDS.TYPE]===v.openParenthesis&&t++,this.currToken[y.FIELDS.TYPE]===v.closeParenthesis&&t--,n=this.currToken,s+=this.parseParenthesisToken(this.currToken),this.position++;e?e.appendToPropertyAndEscape("value",s,s):this.newNode(new c.default({value:s,source:k(a[y.FIELDS.START_LINE],a[y.FIELDS.START_COL],n[y.FIELDS.END_LINE],n[y.FIELDS.END_COL]),sourceIndex:a[y.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[y.FIELDS.START_POS])},t.pseudo=function(){for(var e=this,t="",r=this.currToken;this.currToken&&this.currToken[y.FIELDS.TYPE]===v.colon;)t+=this.content(),this.position++;return this.currToken?this.currToken[y.FIELDS.TYPE]!==v.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[y.FIELDS.START_POS]):void this.splitWord(!1,function(i,n){t+=i,e.newNode(new d.default({value:t,source:R(r,e.currToken),sourceIndex:r[y.FIELDS.START_POS]})),n>1&&e.nextToken&&e.nextToken[y.FIELDS.TYPE]===v.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[y.FIELDS.START_POS]})}):this.expected(["pseudo-class","pseudo-element"],this.position-1)},t.space=function(){var e=this.content();0===this.position||this.prevToken[y.FIELDS.TYPE]===v.comma||this.prevToken[y.FIELDS.TYPE]===v.openParenthesis||this.current.nodes.every(function(e){return"comment"===e.type})?(this.spaces=this.optionalSpace(e),this.position++):this.position===this.tokens.length-1||this.nextToken[y.FIELDS.TYPE]===v.comma||this.nextToken[y.FIELDS.TYPE]===v.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(e),this.position++):this.combinator()},t.string=function(){var e=this.currToken;this.newNode(new c.default({value:this.content(),source:N(e),sourceIndex:e[y.FIELDS.START_POS]})),this.position++},t.universal=function(e){var t=this.nextToken;if(t&&"|"===this.content(t))return this.position++,this.namespace();var r=this.currToken;this.newNode(new f.default({value:this.content(),source:N(r),sourceIndex:r[y.FIELDS.START_POS]}),e),this.position++},t.splitWord=function(e,t){for(var r=this,i=this.nextToken,n=this.content();i&&~[v.dollar,v.caret,v.equals,v.word].indexOf(i[y.FIELDS.TYPE]);){this.position++;var o=this.content();if(n+=o,o.lastIndexOf("\\")===o.length-1){var s=this.nextToken;s&&s[y.FIELDS.TYPE]===v.space&&(n+=this.requiredSpace(this.content(s)),this.position++)}i=this.nextToken}var c=D(n,".").filter(function(e){var t="\\"===n[e-1],r=/^\d+\.\d+%$/.test(n);return!t&&!r}),d=D(n,"#").filter(function(e){return"\\"!==n[e-1]}),p=D(n,"#{");p.length&&(d=d.filter(function(e){return!~p.indexOf(e)}));var f=(0,g.default)(U([0].concat(c,d)));f.forEach(function(i,o){var s=f[o+1]||n.length,p=n.slice(i,s);if(0===o&&t)return t.call(r,p,f.length);var h,m=r.currToken,g=m[y.FIELDS.START_POS]+f[o],v=k(m[1],m[2]+i,m[3],m[2]+(s-1));if(~c.indexOf(i)){var b={value:p.slice(1),source:v,sourceIndex:g};h=new a.default(P(b,"value"))}else if(~d.indexOf(i)){var A={value:p.slice(1),source:v,sourceIndex:g};h=new l.default(P(A,"value"))}else{var w={value:p,source:v,sourceIndex:g};P(w,"value"),h=new u.default(w)}r.newNode(h,e),e=null}),this.position++},t.word=function(e){var t=this.nextToken;return t&&"|"===this.content(t)?(this.position++,this.namespace()):this.splitWord(e)},t.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},t.parse=function(e){switch(this.currToken[y.FIELDS.TYPE]){case v.space:this.space();break;case v.comment:this.comment();break;case v.openParenthesis:this.parentheses();break;case v.closeParenthesis:e&&this.missingParenthesis();break;case v.openSquare:this.attribute();break;case v.dollar:case v.caret:case v.equals:case v.word:this.word();break;case v.colon:this.pseudo();break;case v.comma:this.comma();break;case v.asterisk:this.universal();break;case v.ampersand:this.nesting();break;case v.slash:case v.combinator:this.combinator();break;case v.str:this.string();break;case v.closeSquare:this.missingSquareBracket();case v.semicolon:this.missingBackslash();default:this.unexpected()}},t.expected=function(e,t,r){if(Array.isArray(e)){var i=e.pop();e=e.join(", ")+" or "+i}var n=/^[aeiou]/.test(e[0])?"an":"a";return r?this.error("Expected "+n+" "+e+', found "'+r+'" instead.',{index:t}):this.error("Expected "+n+" "+e+".",{index:t})},t.requiredSpace=function(e){return this.options.lossy?" ":e},t.optionalSpace=function(e){return this.options.lossy?"":e},t.lossySpace=function(e,t){return this.options.lossy?t?" ":"":e},t.parseParenthesisToken=function(e){var t=this.content(e);return e[y.FIELDS.TYPE]===v.space?this.requiredSpace(t):t},t.newNode=function(e,t){return t&&(/^ +$/.test(t)&&(this.options.lossy||(this.spaces=(this.spaces||"")+t),t=!0),e.namespace=t,P(e,"namespace")),this.spaces&&(e.spaces.before=this.spaces,this.spaces=""),this.current.append(e)},t.content=function(e){return void 0===e&&(e=this.currToken),this.css.slice(e[y.FIELDS.START_POS],e[y.FIELDS.END_POS])},t.locateNextMeaningfulToken=function(e){void 0===e&&(e=this.position+1);for(var t=e;t<this.tokens.length;)if(!x[this.tokens[t][y.FIELDS.TYPE]])return t;else{t++;continue}return -1},T(e,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),e}(),e.exports=t.default}(ic,ic.exports)),ic.exports}function nT(){return nO||(nO=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=i(nE());function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){this.func=e||function(){},this.funcRes=null,this.options=t}var t=e.prototype;return t._shouldUpdateSelector=function(e,t){return void 0===t&&(t={}),!1!==Object.assign({},this.options,t).updateSelector&&"string"!=typeof e},t._isLossy=function(e){return void 0===e&&(e={}),!1===Object.assign({},this.options,e).lossless},t._root=function(e,t){return void 0===t&&(t={}),new r.default(e,this._parseOptions(t)).root},t._parseOptions=function(e){return{lossy:this._isLossy(e)}},t._run=function(e,t){var r=this;return void 0===t&&(t={}),new Promise(function(i,n){try{var o=r._root(e,t);Promise.resolve(r.func(o)).then(function(i){var n=void 0;return r._shouldUpdateSelector(e,t)&&(e.selector=n=o.toString()),{transform:i,root:o,string:n}}).then(i,n)}catch(e){n(e);return}})},t._runSync=function(e,t){void 0===t&&(t={});var r=this._root(e,t),i=this.func(r);if(i&&"function"==typeof i.then)throw Error("Selector processor returned a promise to a synchronous call.");var n=void 0;return t.updateSelector&&"string"!=typeof e&&(e.selector=n=r.toString()),{transform:i,root:r,string:n}},t.ast=function(e,t){return this._run(e,t).then(function(e){return e.root})},t.astSync=function(e,t){return this._runSync(e,t).root},t.transform=function(e,t){return this._run(e,t).then(function(e){return e.transform})},t.transformSync=function(e,t){return this._runSync(e,t).transform},t.process=function(e,t){return this._run(e,t).then(function(e){return e.string||e.root.toString()})},t.processSync=function(e,t){var r=this._runSync(e,t);return r.string||r.root.toString()},e}(),e.exports=t.default}(iu,iu.exports)),iu.exports}var nI,nx,nO,nC,nk={},nN={};function nR(){if(nC)return nN;nC=1,nN.__esModule=!0,nN.universal=nN.tag=nN.string=nN.selector=nN.root=nN.pseudo=nN.nesting=nN.id=nN.comment=nN.combinator=nN.className=nN.attribute=void 0;var e=p(no()),t=p(iF()),r=p(np()),i=p(iZ()),n=p(iY()),o=p(nm()),a=p(ne()),s=p(iU()),l=p(ij()),u=p(i8()),c=p(i4()),d=p(nu());function p(e){return e&&e.__esModule?e:{default:e}}return nN.attribute=function(t){return new e.default(t)},nN.className=function(e){return new t.default(e)},nN.combinator=function(e){return new r.default(e)},nN.comment=function(e){return new i.default(e)},nN.id=function(e){return new n.default(e)},nN.nesting=function(e){return new o.default(e)},nN.pseudo=function(e){return new a.default(e)},nN.root=function(e){return new s.default(e)},nN.selector=function(e){return new l.default(e)},nN.string=function(e){return new u.default(e)},nN.tag=function(e){return new c.default(e)},nN.universal=function(e){return new d.default(e)},nN}var nP,nD={};function nU(){if(nP)return nD;nP=1,nD.__esModule=!0,nD.isComment=nD.isCombinator=nD.isClassName=nD.isAttribute=void 0,nD.isContainer=c,nD.isIdentifier=void 0,nD.isNamespace=d,nD.isNesting=void 0,nD.isNode=i,nD.isPseudo=void 0,nD.isPseudoClass=u,nD.isPseudoElement=l,nD.isUniversal=nD.isTag=nD.isString=nD.isSelector=nD.isRoot=void 0;var e,t=iP(),r=((e={})[t.ATTRIBUTE]=!0,e[t.CLASS]=!0,e[t.COMBINATOR]=!0,e[t.COMMENT]=!0,e[t.ID]=!0,e[t.NESTING]=!0,e[t.PSEUDO]=!0,e[t.ROOT]=!0,e[t.SELECTOR]=!0,e[t.STRING]=!0,e[t.TAG]=!0,e[t.UNIVERSAL]=!0,e);function i(e){return"object"==typeof e&&r[e.type]}function n(e,t){return i(t)&&t.type===e}var o=n.bind(null,t.ATTRIBUTE);nD.isAttribute=o,nD.isClassName=n.bind(null,t.CLASS),nD.isCombinator=n.bind(null,t.COMBINATOR),nD.isComment=n.bind(null,t.COMMENT),nD.isIdentifier=n.bind(null,t.ID),nD.isNesting=n.bind(null,t.NESTING);var a=n.bind(null,t.PSEUDO);nD.isPseudo=a,nD.isRoot=n.bind(null,t.ROOT),nD.isSelector=n.bind(null,t.SELECTOR),nD.isString=n.bind(null,t.STRING);var s=n.bind(null,t.TAG);function l(e){return a(e)&&e.value&&(e.value.startsWith("::")||":before"===e.value.toLowerCase()||":after"===e.value.toLowerCase()||":first-letter"===e.value.toLowerCase()||":first-line"===e.value.toLowerCase())}function u(e){return a(e)&&!l(e)}function c(e){return!!(i(e)&&e.walk)}function d(e){return o(e)||s(e)}return nD.isTag=s,nD.isUniversal=n.bind(null,t.UNIVERSAL),nD}function nL(){return nG||(nG=1,function(e){e.__esModule=!0;var t=iP();Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||r in e&&e[r]===t[r]||(e[r]=t[r])});var r=nR();Object.keys(r).forEach(function(t){"default"===t||"__esModule"===t||t in e&&e[t]===r[t]||(e[t]=r[t])});var i=nU();Object.keys(i).forEach(function(t){"default"===t||"__esModule"===t||t in e&&e[t]===i[t]||(e[t]=i[t])})}(nk)),nk}let nK=tN(function(){return nW||(nW=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a(nT()),i=o(nL());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return new r.default(e)};Object.assign(s,i),delete s.__esModule,t.default=s,e.exports=t.default}(il,il.exports)),il.exports}()),nM=e=>e.replace(/-(\w|$)/g,(e,t)=>t.toUpperCase()),nB=e=>{let t=e.toLowerCase();return t.startsWith("--")?t:t.startsWith("-ms-")?nM(t.slice(1)):nM(t)};function nj(e){return e.replaceAll(/\\[0-9]|\\/g,"")}let n$=(e,t)=>{e.walkRules(e=>{var r;(null==(r=e.parent)?void 0:r.type)!=="atrule"&&nK(r=>{let i=!1;r.walkPseudos(()=>{i=!0}),i||t(e)}).processSync(e.selector)})};function nz(e,t){let r=[...e.split(" ")],i={};return n$(t,e=>{let t=[];nK(e=>{e.walkClasses(e=>{t.push(nj(e.value))})}).processSync(e.selector),r=r.filter(e=>!t.includes(e)),e.walkDecls(e=>{i[nB(e.prop)]=e.value+(e.important?"!important":"")})}),{styles:i,residualClassName:r.join(" ")}}let nF=e=>{e.walkDecls(e=>{let t=/rgb\(\s*(\d+)\s*(\d+)\s*(\d+)(?:\s*\/\s*([\d%.]+))?\s*\)/g;e.value=e.value.replaceAll(t,(e,t,r,i,n)=>{let o="1"===n||typeof n>"u"?"":`,${n}`;return`rgb(${t},${r},${i}${o})`})})},nq=e=>{let t=[],r=[],i=nK();return e.walkAtRules(e=>{let n=e.clone();n.walkRules(e=>{let t=i.astSync(e.selector);t.walkClasses(e=>{r.push(e.value),nV(e)});let n=e.clone({selector:t.toString()});n.walkDecls(e=>{e.important=!0}),e.replaceWith(n)});let o=t.find(e=>e instanceof rp&&e.params===n.params);o?o.append(n.nodes):t.push(n)}),e.walkRules(e=>{if(e.parent&&"root"!==e.parent.type)return;let n=i.astSync(e.selector),o=!1;if(n.walkPseudos(()=>{o=!0}),o&&(n.walkClasses(e=>{r.push(e.value),nV(e)}),o)){let r=e.clone({selector:n.toString()});r.walkDecls(e=>{e.important=!0}),t.push(r)}}),{nonInlinableClasses:r,sanitizedRules:t}},nV=e=>{e.replaceWith(e.clone({value:rw(e.value)}))},nH=(e,t)=>{let r={},i=[],n=[];if(e.props.className){let o=t.generateRootForClasses(e.props.className.split(" "));nF(o),{sanitizedRules:n,nonInlinableClasses:i}=nq(o);let{styles:a,residualClassName:s}=nz(e.props.className,o);if(r.style={...a,...e.props.style},!rv(e))if(s.trim().length>0)for(let e of(r.className=s,i))r.className=r.className.replace(e,rw(e));else r.className=void 0}let o={...e.props,...r};return{elementWithInlinedStyles:tC.default.cloneElement(e,o,o.children),nonInlinableClasses:i,nonInlineStyleNodes:n}};var nG,nW,nZ,nJ={};let nQ=tN(function(){return nZ||(nZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});let t={atrule:["name","params"],rule:["selector"]},r=new Set(Object.keys(t));function i(){function e(i){let n=null;i.each(e=>{var i,o;if(!r.has(e.type)){n=null;return}if(null===n){n=e;return}let a=t[e.type];"atrule"===e.type&&"font-face"===e.name?n=e:a.every(t=>(null!=(i=e[t])?i:"").replace(/\s+/g," ")===(null!=(o=n[t])?o:"").replace(/\s+/g," "))?(e.nodes&&n.append(e.nodes),e.remove()):n=e}),i.each(t=>{"atrule"===t.type&&e(t)})}return t=>{e(t)}}}(nJ)),nJ}());var nY,nX={};let n0=tN(function(){return nY||(nY=1,function(e){function t(){return e=>{e.walkRules(e=>{let t=new Map,r=new Set([]),n=new Map;for(let i of(e.walkDecls(i=>{if(i.parent===e){if(t.has(i.prop)){if(t.get(i.prop).value===i.value){r.add(t.get(i.prop)),t.set(i.prop,i);return}n.has(i.prop)||n.set(i.prop,new Set),n.get(i.prop).add(t.get(i.prop)),n.get(i.prop).add(i)}t.set(i.prop,i)}}),r))i.remove();for(let e of n.values()){let t=new Map;for(let r of e){let e=i(r.value);null!==e&&(t.has(e)||t.set(e,new Set),t.get(e).add(r))}for(let e of t.values())for(let t of Array.from(e).slice(0,-1))t.remove()}})}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});let r=Symbol("unitless-number");function i(e){let t=/^-?\d*.?\d+([\w%]+)?$/g.exec(e);if(t){var i;return null!=(i=t[1])?i:r}return null}}(nX)),nX}());var n1,n2={},n4={exports:{}};function n3(){return n1||(n1=1,function(e,t){!function(t,r){e.exports=function(e,t,r,i,n){for(t=t.split?t.split("."):t,i=0;i<t.length;i++)e=e?e[t[i]]:n;return e===n?r:e}}()}(n4)),n4.exports}var n5,n6={exports:{}};function n8(){return n5||(n5=1,function(e){!function(){function t(e,r,n){if(!e)return null;t.caseSensitive||(e=e.toLowerCase());var o,a=null===t.threshold?null:t.threshold*e.length,s=t.thresholdAbsolute;o=null!==a&&null!==s?Math.min(a,s):null!==a?a:null!==s?s:null;var l,u,c,d,p,f=r.length;for(p=0;p<f;p++)if(u=r[p],n&&(u=u[n]),u&&(d=i(e,c=t.caseSensitive?u:u.toLowerCase(),o),(null===o||d<o)&&(o=d,l=n&&t.returnWinningObject?r[p]:u,t.returnFirstMatch)))return l;return l||t.nullResultValue}t.threshold=.4,t.thresholdAbsolute=20,t.caseSensitive=!1,t.nullResultValue=null,t.returnWinningObject=null,t.returnFirstMatch=!1,e.exports?e.exports=t:window.didYouMean=t;var r=0xffffffff;function i(e,t,i){i=i||0===i?i:r;var n=e.length,o=t.length;if(0===n)return Math.min(i+1,o);if(0===o)return Math.min(i+1,n);if(Math.abs(n-o)>i)return i+1;var a,s,l,u,c,d=[];for(a=0;a<=o;a++)d[a]=[a];for(s=0;s<=n;s++)d[0][s]=s;for(a=1;a<=o;a++){for(l=r,u=1,a>i&&(u=a-i),(c=o+1)>i+a&&(c=i+a),s=1;s<=n;s++)s<u||s>c?d[a][s]=i+1:t.charAt(a-1)===e.charAt(s-1)?d[a][s]=d[a-1][s-1]:d[a][s]=Math.min(d[a-1][s-1]+1,Math.min(d[a][s-1]+1,d[a-1][s]+1)),d[a][s]<l&&(l=d[a][s]);if(l>i)return i+1}return d[o][n]}}()}(n6)),n6.exports}var n9,n7={},oe={};function ot(){return n9||(n9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}}(oe)),oe}function or(){return ol||(ol=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=i(rs()),r=i(ot());function i(e){return e&&e.__esModule?e:{default:e}}function n(e){return["fontSize","outline"].includes(e)?e=>("function"==typeof e&&(e=e({})),Array.isArray(e)&&(e=e[0]),e):"fontFamily"===e?e=>{"function"==typeof e&&(e=e({}));let t=Array.isArray(e)&&(0,r.default)(e[1])?e[0]:e;return Array.isArray(t)?t.join(", "):t}:["boxShadow","transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction","backgroundImage","backgroundSize","backgroundColor","cursor","animation"].includes(e)?e=>("function"==typeof e&&(e=e({})),Array.isArray(e)&&(e=e.join(", ")),e):["gridTemplateColumns","gridTemplateRows","objectPosition"].includes(e)?e=>("function"==typeof e&&(e=e({})),"string"==typeof e&&(e=t.default.list.comma(e).join(" ")),e):(e,t={})=>("function"==typeof e&&(e=e(t)),e)}}(n7)),n7}function oi(){if(oc)return ou;oc=1;var e=40,t=41,r=39,i=34,n=92,o=47,a=44,s=58,l=42,u=117,c=85,d=43,p=/^[a-f0-9?-]+$/i;return ou=function(f){for(var h,m,g,y,v,b,A,w,_,S=[],E=f,T=0,I=E.charCodeAt(T),x=E.length,O=[{nodes:S}],C=0,k="",N="",R="";T<x;)if(I<=32){h=T;do h+=1,I=E.charCodeAt(h);while(I<=32)y=E.slice(T,h),g=S[S.length-1],I===t&&C?R=y:g&&"div"===g.type?(g.after=y,g.sourceEndIndex+=y.length):I===a||I===s||I===o&&E.charCodeAt(h+1)!==l&&(!_||_&&"function"===_.type&&0)?N=y:S.push({type:"space",sourceIndex:T,sourceEndIndex:h,value:y}),T=h}else if(I===r||I===i){h=T,y={type:"string",sourceIndex:T,quote:m=I===r?"'":'"'};do if(v=!1,~(h=E.indexOf(m,h+1)))for(b=h;E.charCodeAt(b-1)===n;)b-=1,v=!v;else E+=m,h=E.length-1,y.unclosed=!0;while(v)y.value=E.slice(T+1,h),y.sourceEndIndex=y.unclosed?h:h+1,S.push(y),T=h+1,I=E.charCodeAt(T)}else if(I===o&&E.charCodeAt(T+1)===l)h=E.indexOf("*/",T),y={type:"comment",sourceIndex:T,sourceEndIndex:h+2},-1===h&&(y.unclosed=!0,h=E.length,y.sourceEndIndex=h),y.value=E.slice(T+2,h),S.push(y),T=h+2,I=E.charCodeAt(T);else if((I===o||I===l)&&_&&"function"===_.type)y=E[T],S.push({type:"word",sourceIndex:T-N.length,sourceEndIndex:T+y.length,value:y}),T+=1,I=E.charCodeAt(T);else if(I===o||I===a||I===s)y=E[T],S.push({type:"div",sourceIndex:T-N.length,sourceEndIndex:T+y.length,value:y,before:N,after:""}),N="",T+=1,I=E.charCodeAt(T);else if(e===I){h=T;do h+=1,I=E.charCodeAt(h);while(I<=32)if(w=T,y={type:"function",sourceIndex:T-k.length,value:k,before:E.slice(w+1,h)},T=h,"url"===k&&I!==r&&I!==i){h-=1;do if(v=!1,~(h=E.indexOf(")",h+1)))for(b=h;E.charCodeAt(b-1)===n;)b-=1,v=!v;else E+=")",h=E.length-1,y.unclosed=!0;while(v)A=h;do A-=1,I=E.charCodeAt(A);while(I<=32)w<A?(T!==A+1?y.nodes=[{type:"word",sourceIndex:T,sourceEndIndex:A+1,value:E.slice(T,A+1)}]:y.nodes=[],y.unclosed&&A+1!==h?(y.after="",y.nodes.push({type:"space",sourceIndex:A+1,sourceEndIndex:h,value:E.slice(A+1,h)})):(y.after=E.slice(A+1,h),y.sourceEndIndex=h)):(y.after="",y.nodes=[]),T=h+1,y.sourceEndIndex=y.unclosed?h:T,I=E.charCodeAt(T),S.push(y)}else C+=1,y.after="",y.sourceEndIndex=T+1,S.push(y),O.push(y),S=y.nodes=[],_=y;k=""}else if(t===I&&C)T+=1,I=E.charCodeAt(T),_.after=R,_.sourceEndIndex+=R.length,R="",C-=1,O[O.length-1].sourceEndIndex=T,O.pop(),S=(_=O[C]).nodes;else{h=T;do I===n&&(h+=1),h+=1,I=E.charCodeAt(h);while(h<x&&!(I<=32||I===r||I===i||I===a||I===s||I===o||I===e||I===l&&_&&"function"===_.type||I===o&&"function"===_.type||I===t&&C))y=E.slice(T,h),e===I?k=y:(u===y.charCodeAt(0)||c===y.charCodeAt(0))&&d===y.charCodeAt(1)&&p.test(y.slice(2))?S.push({type:"unicode-range",sourceIndex:T,sourceEndIndex:h,value:y}):S.push({type:"word",sourceIndex:T,sourceEndIndex:h,value:y}),T=h}for(T=O.length-1;T;T-=1)O[T].unclosed=!0,O[T].sourceEndIndex=E.length;return O[0].nodes}}function on(){return op||(op=1,od=function e(t,r,i){var n,o,a,s;for(n=0,o=t.length;n<o;n+=1)a=t[n],i||(s=r(a,n,t)),!1!==s&&"function"===a.type&&Array.isArray(a.nodes)&&e(a.nodes,r,i),i&&r(a,n,t)}),od}function oo(){if(oh)return of;function e(e,r){var i,n,o=e.type,a=e.value;return r&&void 0!==(n=r(e))?n:"word"===o||"space"===o?a:"string"===o?(i=e.quote||"")+a+(e.unclosed?"":i):"comment"===o?"/*"+a+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+a+(e.after||""):Array.isArray(e.nodes)?(i=t(e.nodes,r),"function"!==o?i:a+"("+(e.before||"")+i+(e.after||"")+(e.unclosed?"":")")):a}function t(t,r){var i,n;if(Array.isArray(t)){for(i="",n=t.length-1;~n;n-=1)i=e(t[n],r)+i;return i}return e(t,r)}return oh=1,of=t}function oa(){if(og)return om;og=1;var e=45,t=43,r=46,i=101,n=69;function o(i){var n,o=i.charCodeAt(0);if(o===t||o===e){if((n=i.charCodeAt(1))>=48&&n<=57)return!0;var a=i.charCodeAt(2);return n===r&&a>=48&&a<=57}return o===r?(n=i.charCodeAt(1))>=48&&n<=57:o>=48&&o<=57}return om=function(a){var s,l,u,c=0,d=a.length;if(0===d||!o(a))return!1;for(((s=a.charCodeAt(c))===t||s===e)&&c++;c<d&&!((s=a.charCodeAt(c))<48||s>57);)c+=1;if(s=a.charCodeAt(c),l=a.charCodeAt(c+1),s===r&&l>=48&&l<=57)for(c+=2;c<d&&!((s=a.charCodeAt(c))<48||s>57);)c+=1;if(s=a.charCodeAt(c),l=a.charCodeAt(c+1),u=a.charCodeAt(c+2),(s===i||s===n)&&(l>=48&&l<=57||(l===t||l===e)&&u>=48&&u<=57))for(c+=l===t||l===e?3:2;c<d&&!((s=a.charCodeAt(c))<48||s>57);)c+=1;return{number:a.slice(0,c),unit:a.slice(c)}}}function os(){if(ov)return oy;ov=1;var e=oi(),t=on(),r=oo();function i(t){return this instanceof i?(this.nodes=e(t),this):new i(t)}return i.prototype.toString=function(){return Array.isArray(this.nodes)?r(this.nodes):""},i.prototype.walk=function(e,r){return t(this.nodes,e,r),this},i.unit=oa(),i.walk=t,i.stringify=r,oy=i}var ol,ou,oc,od,op,of,oh,om,og,oy,ov,ob,oA={};function ow(){return ob||(ob=1,function(e){function t(e,r=!0){return Array.isArray(e)?e.map(e=>{if(r&&Array.isArray(e))throw Error("The tuple syntax is not supported for `screens`.");if("string"==typeof e)return{name:e.toString(),not:!1,values:[{min:e,max:void 0}]};let[t,i]=e;return t=t.toString(),"string"==typeof i?{name:t,not:!1,values:[{min:i,max:void 0}]}:Array.isArray(i)?{name:t,not:!1,values:i.map(e=>o(e))}:{name:t,not:!1,values:[o(i)]}}):t(Object.entries(e??{}),!1)}function r(e){return 1!==e.values.length?{result:!1,reason:"multiple-values"}:void 0!==e.values[0].raw?{result:!1,reason:"raw-values"}:void 0!==e.values[0].min&&void 0!==e.values[0].max?{result:!1,reason:"min-and-max"}:{result:!0,reason:null}}function i(e,t,i){let o=n(t,e),a=n(i,e),s=r(o),l=r(a);if("multiple-values"===s.reason||"multiple-values"===l.reason)throw Error("Attempted to sort a screen with multiple values. This should never happen. Please open a bug report.");if("raw-values"===s.reason||"raw-values"===l.reason)throw Error("Attempted to sort a screen with raw values. This should never happen. Please open a bug report.");if("min-and-max"===s.reason||"min-and-max"===l.reason)throw Error("Attempted to sort a screen with both min and max values. This should never happen. Please open a bug report.");let{min:u,max:c}=o.values[0],{min:d,max:p}=a.values[0];t.not&&([u,c]=[c,u]),i.not&&([d,p]=[p,d]),u=void 0===u?u:parseFloat(u),c=void 0===c?c:parseFloat(c),d=void 0===d?d:parseFloat(d),p=void 0===p?p:parseFloat(p);let[f,h]="min"===e?[u,d]:[p,c];return f-h}function n(e,t){return"object"==typeof e?e:{name:"arbitrary-screen",values:[{[t]:e}]}}function o({"min-width":e,min:t=e,max:r,raw:i}={}){return{min:t,max:r,raw:i}}Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{normalizeScreens:function(){return t},isScreenSortable:function(){return r},compareScreens:function(){return i},toScreen:function(){return n}})}(oA)),oA}var o_,oS={};function oE(){return o_||(o_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e){return(e=Array.isArray(e)?e:[e]).map(e=>{let t=e.values.map(e=>void 0!==e.raw?e.raw:[e.min&&`(min-width: ${e.min})`,e.max&&`(max-width: ${e.max})`].filter(Boolean).join(" and "));return e.not?`not all and ${t}`:t}).join(", ")}}(oS)),oS}var oT,oI={};function ox(){return oT||(oT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"toPath",{enumerable:!0,get:function(){return t}});function t(e){if(Array.isArray(e))return e;if(e.split("[").length-1!=e.split("]").length-1)throw Error(`Path is invalid. Has unbalanced brackets: ${e}`);return e.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}}(oI)),oI}var oO,oC={},ok={},oN={};function oR(){return oO||(oO=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});let t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}(oN)),oN}function oP(){return oU||(oU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{parseColor:function(){return d},formatColor:function(){return p}});let t=r(oR());function r(e){return e&&e.__esModule?e:{default:e}}let i=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,n=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,o=/(?:\d+|\d*\.\d+)%?/,a=/(?:\s*,\s*|\s+)/,s=/\s*[,/]\s*/,l=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,u=RegExp(`^(rgba?)\\(\\s*(${o.source}|${l.source})(?:${a.source}(${o.source}|${l.source}))?(?:${a.source}(${o.source}|${l.source}))?(?:${s.source}(${o.source}|${l.source}))?\\s*\\)$`),c=RegExp(`^(hsla?)\\(\\s*((?:${o.source})(?:deg|rad|grad|turn)?|${l.source})(?:${a.source}(${o.source}|${l.source}))?(?:${a.source}(${o.source}|${l.source}))?(?:${s.source}(${o.source}|${l.source}))?\\s*\\)$`);function d(e,{loose:r=!1}={}){var o,a,s;if("string"!=typeof e)return null;if("transparent"===(e=e.trim()))return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(e in t.default)return{mode:"rgb",color:t.default[e].map(e=>e.toString())};let l=e.replace(n,(e,t,r,i,n)=>"#"+t+t+r+r+i+i+(n?n+n:"")).match(i);if(null!==l)return{mode:"rgb",color:[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)].map(e=>e.toString()),alpha:l[4]?(parseInt(l[4],16)/255).toString():void 0};let p=null!=(s=e.match(u))?s:e.match(c);if(null===p)return null;let f=[p[2],p[3],p[4]].filter(Boolean).map(e=>e.toString());return 2===f.length&&f[0].startsWith("var(")?{mode:p[1],color:[f[0]],alpha:f[1]}:(r||3===f.length)&&(!(f.length<3)||f.some(e=>/^var\(.*?\)$/.test(e)))?{mode:p[1],color:f,alpha:null==(o=p[5])||null==(a=o.toString)?void 0:a.call(o)}:null}function p({mode:e,color:t,alpha:r}){let i=void 0!==r;return"rgba"===e||"hsla"===e?`${e}(${t.join(", ")}${i?`, ${r}`:""})`:`${e}(${t.join(" ")}${i?` / ${r}`:""})`}}(ok)),ok}function oD(){return oL||(oL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{withAlphaValue:function(){return r},default:function(){return i}});let t=oP();function r(e,r,i){if("function"==typeof e)return e({opacityValue:r});let n=(0,t.parseColor)(e,{loose:!0});return null===n?i:(0,t.formatColor)({...n,alpha:r})}function i({color:e,property:r,variable:i}){let n=[].concat(r);if("function"==typeof e)return{[i]:"1",...Object.fromEntries(n.map(t=>[t,e({opacityVariable:i,opacityValue:`var(${i})`})]))};let o=(0,t.parseColor)(e);return null===o?Object.fromEntries(n.map(t=>[t,e])):void 0!==o.alpha?Object.fromEntries(n.map(t=>[t,e])):{[i]:"1",...Object.fromEntries(n.map(e=>[e,(0,t.formatColor)({...o,alpha:`var(${i})`})]))}}}(oC)),oC}var oU,oL,oK,oM={},oB={};function oj(){return oK||(oK=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e){return e.replace(/\\,/g,"\\2c ")}}(oB)),oB}var o$,oz={},oF={},oq={};function oV(){return o$||(o$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return t}});function t(e,t){let r=[],i=[],n=0,o=!1;for(let a=0;a<e.length;a++){let s=e[a];0!==r.length||s!==t[0]||o||1!==t.length&&e.slice(a,a+t.length)!==t||(i.push(e.slice(n,a)),n=a+t.length),o=!o&&"\\"===s,"("===s||"["===s||"{"===s?r.push(s):(")"===s&&"("===r[r.length-1]||"]"===s&&"["===r[r.length-1]||"}"===s&&"{"===r[r.length-1])&&r.pop()}return i.push(e.slice(n)),i}}(oq)),oq}function oH(){return oW||(oW=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{parseBoxShadowValue:function(){return o},formatBoxShadowValue:function(){return a}});let t=oV(),r=new Set(["inset","inherit","initial","revert","unset"]),i=/\ +(?![^(]*\))/g,n=/^-?(\d+|\.\d+)(.*?)$/g;function o(e){return(0,t.splitAtTopLevelOnly)(e,",").map(e=>{let t=e.trim(),o={raw:t},a=t.split(i),s=new Set;for(let e of a)n.lastIndex=0,!s.has("KEYWORD")&&r.has(e)?(o.keyword=e,s.add("KEYWORD")):n.test(e)?s.has("X")?s.has("Y")?s.has("BLUR")?s.has("SPREAD")||(o.spread=e,s.add("SPREAD")):(o.blur=e,s.add("BLUR")):(o.y=e,s.add("Y")):(o.x=e,s.add("X")):o.color?(o.unknown||(o.unknown=[]),o.unknown.push(e)):o.color=e;return o.valid=void 0!==o.x&&void 0!==o.y,o})}function a(e){return e.map(e=>e.valid?[e.keyword,e.x,e.y,e.blur,e.spread,e.color].filter(Boolean).join(" "):e.raw).join(", ")}}(oF)),oF}function oG(){return oZ||(oZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{normalize:function(){return s},normalizeAttributeSelectors:function(){return l},url:function(){return c},number:function(){return d},percentage:function(){return p},length:function(){return h},lineWidth:function(){return g},shadow:function(){return y},color:function(){return v},image:function(){return b},gradient:function(){return w},position:function(){return S},familyName:function(){return E},genericName:function(){return I},absoluteSize:function(){return O},relativeSize:function(){return k}});let t=oP(),r=oH(),i=oV(),n=["min","max","clamp","calc"];function o(e){return n.some(t=>RegExp(`^${t}\\(.*\\)`).test(e))}let a=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","anchor-name","anchor-scope","position-anchor","position-try-options","scroll-timeline","animation-timeline","view-timeline","position-try"]);function s(e,t=null,r=!0){let i=t&&a.has(t.property);return e.startsWith("--")&&!i?`var(${e})`:e.includes("url(")?e.split(/(url\(.*?\))/g).filter(Boolean).map(e=>/^url\(.*?\)$/.test(e)?e:s(e,t,!1)).join(""):(e=e.replace(/([^\\])_+/g,(e,t)=>t+" ".repeat(e.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),r&&(e=e.trim()),e=u(e))}function l(e){return e.includes("=")&&(e=e.replace(/(=.*)/g,(e,t)=>{if("'"===t[1]||'"'===t[1])return t;if(t.length>2){let e=t[t.length-1];if(" "===t[t.length-2]&&("i"===e||"I"===e||"s"===e||"S"===e))return`="${t.slice(1,-2)}" ${t[t.length-1]}`}return`="${t.slice(1)}"`})),e}function u(e){let t=["theme"],r=["min-content","max-content","fit-content","safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left","titlebar-area-x","titlebar-area-y","titlebar-area-width","titlebar-area-height","keyboard-inset-top","keyboard-inset-right","keyboard-inset-bottom","keyboard-inset-left","keyboard-inset-width","keyboard-inset-height","radial-gradient","linear-gradient","conic-gradient","repeating-radial-gradient","repeating-linear-gradient","repeating-conic-gradient"];return e.replace(/(calc|min|max|clamp)\(.+\)/g,e=>{let i="";function n(){let e=i.trimEnd();return e[e.length-1]}for(let o=0;o<e.length;o++){let a=function(t){return t.split("").every((t,r)=>e[o+r]===t)},s=function(t){let r=1/0;for(let i of t){let t=e.indexOf(i,o);-1!==t&&t<r&&(r=t)}let i=e.slice(o,r);return o+=i.length-1,i},l=e[o];if(a("var"))i+=s([")",","]);else if(r.some(e=>a(e))){let e=r.find(e=>a(e));i+=e,o+=e.length-1}else t.some(e=>a(e))?i+=s([")"]):a("[")?i+=s(["]"]):["+","-","*","/"].includes(l)&&!["(","+","-","*","/",","].includes(n())?i+=` ${l} `:i+=l}return i.replace(/\s+/g," ")})}function c(e){return e.startsWith("url(")}function d(e){return!isNaN(Number(e))||o(e)}function p(e){return e.endsWith("%")&&d(e.slice(0,-1))||o(e)}let f="(?:cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cqw|cqh|cqi|cqb|cqmin|cqmax)";function h(e){return"0"===e||RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${f}$`).test(e)||o(e)}let m=new Set(["thin","medium","thick"]);function g(e){return m.has(e)}function y(e){for(let t of(0,r.parseBoxShadowValue)(s(e)))if(!t.valid)return!1;return!0}function v(e){let r=0;return!!(0,i.splitAtTopLevelOnly)(e,"_").every(e=>(e=s(e),!!e.startsWith("var(")||null!==(0,t.parseColor)(e,{loose:!0})&&(r++,!0)))&&r>0}function b(e){let t=0;return!!(0,i.splitAtTopLevelOnly)(e,",").every(e=>(e=s(e),!!e.startsWith("var(")||!!(c(e)||w(e)||["element(","image(","cross-fade(","image-set("].some(t=>e.startsWith(t)))&&(t++,!0)))&&t>0}let A=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function w(e){for(let t of(e=s(e),A))if(e.startsWith(`${t}(`))return!0;return!1}let _=new Set(["center","top","right","bottom","left"]);function S(e){let t=0;return!!(0,i.splitAtTopLevelOnly)(e,"_").every(e=>(e=s(e),!!e.startsWith("var(")||!!(_.has(e)||h(e)||p(e))&&(t++,!0)))&&t>0}function E(e){let t=0;return!!(0,i.splitAtTopLevelOnly)(e,",").every(e=>(e=s(e),!!e.startsWith("var(")||!(e.includes(" ")&&!/(['"])([^"']+)\1/g.test(e)||/^\d/g.test(e))&&(t++,!0)))&&t>0}let T=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function I(e){return T.has(e)}let x=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large"]);function O(e){return x.has(e)}let C=new Set(["larger","smaller"]);function k(e){return C.has(e)}}(oz)),oz}var oW,oZ,oJ,oQ={};function oY(){return oJ||(oJ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e){if("0"==(e=`${e}`))return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(e))return e.replace(/^[+-]?/,e=>"-"===e?"":"-");for(let t of["var","calc","min","max","clamp"])if(e.includes(`${t}(`))return`calc(${e} * -1)`}}(oQ)),oQ}var oX,o0={};function o1(){return oX||(oX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"backgroundSize",{enumerable:!0,get:function(){return i}});let t=oG(),r=oV();function i(e){let i=["cover","contain"];return(0,r.splitAtTopLevelOnly)(e,",").every(e=>{let n=(0,r.splitAtTopLevelOnly)(e,"_").filter(Boolean);return!!(1===n.length&&i.includes(n[0]))||(1===n.length||2===n.length)&&n.every(e=>(0,t.length)(e)||(0,t.percentage)(e)||"auto"===e)})}}(o0)),o0}var o2,o4={},o3={};function o5(){return o2||(o2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{dim:function(){return o},default:function(){return a}});let t=r(tD());function r(e){return e&&e.__esModule?e:{default:e}}let i=new Set;function n(e,t,r){"u">typeof process&&process.env.JEST_WORKER_ID||r&&i.has(r)||(r&&i.add(r),console.warn(""),t.forEach(t=>console.warn(e,"-",t)))}function o(e){return t.default.dim(e)}let a={info(e,r){n(t.default.bold(t.default.cyan("info")),...Array.isArray(e)?[e]:[r,e])},warn(e,r){n(t.default.bold(t.default.yellow("warn")),...Array.isArray(e)?[e]:[r,e])},risk(e,r){n(t.default.bold(t.default.magenta("risk")),...Array.isArray(e)?[e]:[r,e])}}}(o3)),o3}function o6(){return o7||(o7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{flagEnabled:function(){return a},issueFlagNotices:function(){return l},default:function(){return u}});let t=i(tD()),r=i(o5());function i(e){return e&&e.__esModule?e:{default:e}}let n={optimizeUniversalDefaults:!1,generalizedModifiers:!0,disableColorOpacityUtilitiesByDefault:!1,relativeContentPathsByDefault:!1},o={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function a(e,t){var r,i,a,s,l,u;return o.future.includes(t)?"all"===e.future||null!=(a=null!=(i=null==e||null==(r=e.future)?void 0:r[t])?i:n[t])&&a:!!o.experimental.includes(t)&&("all"===e.experimental||null!=(u=null!=(l=null==e||null==(s=e.experimental)?void 0:s[t])?l:n[t])&&u)}function s(e){var t;return"all"===e.experimental?o.experimental:Object.keys(null!=(t=null==e?void 0:e.experimental)?t:{}).filter(t=>o.experimental.includes(t)&&e.experimental[t])}function l(e){if(void 0===process.env.JEST_WORKER_ID&&s(e).length>0){let i=s(e).map(e=>t.default.yellow(e)).join(", ");r.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${i}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}let u=o}(o4)),o4}function o8(){return ae||(ae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{updateAllClasses:function(){return l},asValue:function(){return d},parseColorFormat:function(){return h},asColor:function(){return g},asLookupValue:function(){return y},typeMap:function(){return b},coerceValue:function(){return _},getMatchingTypes:function(){return S}});let t=s(oj()),r=oD(),i=oG(),n=s(oY()),o=o1(),a=o6();function s(e){return e&&e.__esModule?e:{default:e}}function l(e,r){e.walkClasses(e=>{e.value=r(e.value),e.raws&&e.raws.value&&(e.raws.value=(0,t.default)(e.raws.value))})}function u(e,t){if(!p(e))return;let r=e.slice(1,-1);if(t(r))return(0,i.normalize)(r)}function c(e,t={},r){let i=t[e];if(void 0!==i)return(0,n.default)(i);if(p(e)){let t=u(e,r);return void 0===t?void 0:(0,n.default)(t)}}function d(e,t={},{validate:r=()=>!0}={}){var i;let n=null==(i=t.values)?void 0:i[e];return void 0!==n?n:t.supportsNegativeValues&&e.startsWith("-")?c(e.slice(1),t.values,r):u(e,r)}function p(e){return e.startsWith("[")&&e.endsWith("]")}function f(e){let t=e.lastIndexOf("/"),r=e.lastIndexOf("[",t),i=e.indexOf("]",t);return"]"===e[t-1]||"["===e[t+1]||-1!==r&&-1!==i&&r<t&&t<i&&(t=e.lastIndexOf("/",r)),-1===t||t===e.length-1||p(e)&&!e.includes("]/[")?[e,void 0]:[e.slice(0,t),e.slice(t+1)]}function h(e){if("string"==typeof e&&e.includes("<alpha-value>")){let t=e;return({opacityValue:e=1})=>t.replace(/<alpha-value>/g,e)}return e}function m(e){return(0,i.normalize)(e.slice(1,-1))}function g(e,t={},{tailwindConfig:n={}}={}){var o,a,s,l,u,c;if((null==(o=t.values)?void 0:o[e])!==void 0)return h(null==(a=t.values)?void 0:a[e]);let[y,v]=f(e);if(void 0!==v){let e=null!=(c=null==(s=t.values)?void 0:s[y])?c:p(y)?y.slice(1,-1):void 0;return void 0===e?void 0:(e=h(e),p(v)?(0,r.withAlphaValue)(e,m(v)):(null==(l=n.theme)||null==(u=l.opacity)?void 0:u[v])===void 0?void 0:(0,r.withAlphaValue)(e,n.theme.opacity[v]))}return d(e,t,{validate:i.color})}function y(e,t={}){var r;return null==(r=t.values)?void 0:r[e]}function v(e){return(t,r)=>d(t,r,{validate:e})}let b={any:d,color:g,url:v(i.url),image:v(i.image),length:v(i.length),percentage:v(i.percentage),position:v(i.position),lookup:y,"generic-name":v(i.genericName),"family-name":v(i.familyName),number:v(i.number),"line-width":v(i.lineWidth),"absolute-size":v(i.absoluteSize),"relative-size":v(i.relativeSize),shadow:v(i.shadow),size:v(o.backgroundSize)},A=Object.keys(b);function w(e,t){let r=e.indexOf(t);return -1===r?[void 0,e]:[e.slice(0,r),e.slice(r+1)]}function _(e,t,r,i){if(r.values&&t in r.values)for(let{type:n}of e??[]){let e=b[n](t,r,{tailwindConfig:i});if(void 0!==e)return[e,n,null]}if(p(t)){let e=t.slice(1,-1),[i,n]=w(e,":");if(/^[\w-_]+$/g.test(i)){if(void 0!==i&&!A.includes(i))return[]}else n=e;if(n.length>0&&A.includes(i))return[d(`[${n}]`,r),i,null]}for(let n of S(e,t,r,i))return n;return[]}function*S(e,t,r,i){let n=(0,a.flagEnabled)(i,"generalizedModifiers"),[o,s]=f(t);if(n&&null!=r.modifiers&&("any"===r.modifiers||"object"==typeof r.modifiers&&(s&&p(s)||s in r.modifiers))||(o=t,s=void 0),void 0!==s&&""===o&&(o="DEFAULT"),void 0!==s&&"object"==typeof r.modifiers){var l,u;let e=null!=(u=null==(l=r.modifiers)?void 0:l[s])?u:null;null!==e?s=e:p(s)&&(s=m(s))}for(let{type:t}of e??[]){let e=b[t](o,r,{tailwindConfig:i});void 0!==e&&(yield[e,t,s??null])}}}(oM)),oM}let o9=tN(function(){return at||(at=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return E}});let t=d(n3()),r=d(n8()),i=d(or()),n=d(os()),o=ow(),a=d(oE()),s=ox(),l=oD(),u=o8(),c=d(o5());function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return"object"==typeof e&&null!==e}function f(e,r){let i=(0,s.toPath)(r);do if(i.pop(),void 0!==(0,t.default)(e,i))break;while(i.length)return i.length?i:void 0}function h(e){return"string"==typeof e?e:e.reduce((e,t,r)=>t.includes(".")?`${e}[${t}]`:0===r?t:`${e}.${t}`,"")}function m(e){return e.map(e=>`'${e}'`).join(", ")}function g(e){return m(Object.keys(e))}function y(e,n,o,a={}){let l=Array.isArray(n)?h(n):n.replace(/^['"]+|['"]+$/g,""),u=Array.isArray(n)?n:(0,s.toPath)(l),c=(0,t.default)(e.theme,u,o);if(void 0===c){let i=`'${l}' does not exist in your theme config.`,n=u.slice(0,-1),o=(0,t.default)(e.theme,n);if(p(o)){let t=Object.keys(o).filter(t=>y(e,[...n,t]).isValid),a=(0,r.default)(u[u.length-1],t);a?i+=` Did you mean '${h([...n,a])}'?`:t.length>0&&(i+=` '${h(n)}' has the following valid keys: ${m(t)}`)}else{let r=f(e.theme,l);if(r){let n=(0,t.default)(e.theme,r);p(n)?i+=` '${h(r)}' has the following keys: ${g(n)}`:i+=` '${h(r)}' is not an object.`}else i+=` Your theme has the following top-level keys: ${g(e.theme)}`}return{isValid:!1,error:i}}if(!("string"==typeof c||"number"==typeof c||"function"==typeof c||c instanceof String||c instanceof Number||Array.isArray(c))){let t=`'${l}' was found but does not resolve to a string.`;if(p(c)){let r=Object.keys(c).filter(t=>y(e,[...u,t]).isValid);r.length&&(t+=` Did you mean something like '${h([...u,r[0]])}'?`)}return{isValid:!1,error:t}}let[d]=u;return{isValid:!0,value:(0,i.default)(d)(c,a)}}function v(e,t,r){t=t.map(t=>b(e,t,r));let i=[""];for(let e of t)"div"===e.type&&","===e.value?i.push(""):i[i.length-1]+=n.default.stringify(e);return i}function b(e,t,r){if("function"===t.type&&void 0!==r[t.value]){let i=v(e,t.nodes,r);t.type="word",t.value=r[t.value](e,...i)}return t}function A(e,t,r){return Object.keys(r).some(e=>t.includes(`${e}(`))?(0,n.default)(t).walk(t=>{b(e,t,r)}).toString():t}let w={atrule:"params",decl:"value"};function*_(e){let t=(e=e.replace(/^['"]+|['"]+$/g,"")).match(/^([^\s]+)(?![^\[]*\])(?:\s*\/\s*([^\/\s]+))$/),r;yield[e,void 0],t&&(e=t[1],r=t[2],yield[e,r])}function S(e,t,r){var i;let n=Array.from(_(t)).map(([t,i])=>Object.assign(y(e,t,r,{opacityValue:i}),{resolvedPath:t,alpha:i}));return null!=(i=n.find(e=>e.isValid))?i:n[0]}function E(e){let t=e.tailwindConfig,r={theme:(r,i,...n)=>{let{isValid:o,value:a,error:s,alpha:d}=S(t,i,n.length?n:void 0);if(!o){var p;let t=r.parent,i=null==(p=null==t?void 0:t.raws.tailwind)?void 0:p.candidate;if(t&&void 0!==i){e.markInvalidUtilityNode(t),t.remove(),c.default.warn("invalid-theme-key-in-class",[`The utility \`${i}\` contains an invalid theme value and was not generated.`]);return}throw r.error(s)}let f=(0,u.parseColorFormat)(a);return(void 0!==d||void 0!==f&&"function"==typeof f)&&(void 0===d&&(d=1),a=(0,l.withAlphaValue)(f,d,f)),a},screen:(e,r)=>{r=r.replace(/^['"]+/g,"").replace(/['"]+$/g,"");let i=(0,o.normalizeScreens)(t.theme.screens).find(({name:e})=>e===r);if(!i)throw e.error(`The '${r}' screen does not exist in your theme.`);return(0,a.default)(i)}};return e=>{e.walk(e=>{let t=w[e.type];void 0!==t&&(e[t]=A(e,e[t],r))})}}}(n2)),n2}());var o7,ae,at,ar,ai={},an={exports:{}},ao={exports:{}},aa={exports:{}},as={exports:{}},al={exports:{}},au={exports:{}},ac={},ad={exports:{}};function ap(){return ar||(ar=1,function(e,t){function r(e){for(var t=e.toLowerCase(),r="",i=!1,n=0;n<6&&void 0!==t[n];n++){var o=t.charCodeAt(n),a=o>=97&&o<=102||o>=48&&o<=57;if(i=32===o,!a)break;r+=t[n]}if(0!==r.length){var s=parseInt(r,16);return s>=55296&&s<=57343||0===s||s>1114111?["",r.length+ +!!i]:[String.fromCodePoint(s),r.length+ +!!i]}}t.__esModule=!0,t.default=n;var i=/\\/;function n(e){if(!i.test(e))return e;for(var t="",n=0;n<e.length;n++){if("\\"===e[n]){var o=r(e.slice(n+1,n+7));if(void 0!==o){t+=o[0],n+=o[1];continue}if("\\"===e[n+1]){t+="\\",n++;continue}e.length===n+1&&(t+=e[n]);continue}t+=e[n]}return t}e.exports=t.default}(ad,ad.exports)),ad.exports}var af,ah={exports:{}};function am(){return af||(af=1,function(e,t){function r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(;r.length>0;){var n=r.shift();if(!e[n])return;e=e[n]}return e}t.__esModule=!0,t.default=r,e.exports=t.default}(ah,ah.exports)),ah.exports}var ag,ay={exports:{}};function av(){return ag||(ag=1,function(e,t){function r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(;r.length>0;){var n=r.shift();e[n]||(e[n]={}),e=e[n]}}t.__esModule=!0,t.default=r,e.exports=t.default}(ay,ay.exports)),ay.exports}var ab,aA={exports:{}};function aw(){return ab||(ab=1,function(e,t){function r(e){for(var t="",r=e.indexOf("/*"),i=0;r>=0;){t+=e.slice(i,r);var n=e.indexOf("*/",r+2);if(n<0)return t;i=n+2,r=e.indexOf("/*",i)}return t+e.slice(i)}t.__esModule=!0,t.default=r,e.exports=t.default}(aA,aA.exports)),aA.exports}function a_(){if(aE)return ac;function e(e){return e&&e.__esModule?e:{default:e}}return aE=1,ac.__esModule=!0,ac.unesc=ac.stripComments=ac.getProp=ac.ensureObject=void 0,ac.unesc=e(ap()).default,ac.getProp=e(am()).default,ac.ensureObject=e(av()).default,ac.stripComments=e(aw()).default,ac}function aS(){return aT||(aT=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a_();function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,r){return t&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var o=function e(t,r){if("object"!=typeof t||null===t)return t;var i=new t.constructor;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],a=typeof o;"parent"===n&&"object"===a?r&&(i[n]=r):o instanceof Array?i[n]=o.map(function(t){return e(t,i)}):i[n]=e(o,i)}return i};t.default=function(){function e(e){void 0===e&&(e={}),Object.assign(this,e),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t=e.prototype;return t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){if(this.parent){for(var e in arguments)this.parent.insertBefore(this,arguments[e]);this.remove()}return this},t.next=function(){return this.parent.at(this.parent.index(this)+1)},t.prev=function(){return this.parent.at(this.parent.index(this)-1)},t.clone=function(e){void 0===e&&(e={});var t=o(this);for(var r in e)t[r]=e[r];return t},t.appendToPropertyAndEscape=function(e,t,r){this.raws||(this.raws={});var i=this[e],n=this.raws[e];this[e]=i+t,n||r!==t?this.raws[e]=(n||i)+r:delete this.raws[e]},t.setPropertyAndEscape=function(e,t,r){this.raws||(this.raws={}),this[e]=t,this.raws[e]=r},t.setPropertyWithoutEscape=function(e,t){this[e]=t,this.raws&&delete this.raws[e]},t.isAtPosition=function(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e||this.source.end.line<e||this.source.start.line===e&&this.source.start.column>t||this.source.end.line===e&&this.source.end.column<t)},t.stringifyProperty=function(e){return this.raws&&this.raws[e]||this[e]},t.valueToString=function(){return String(this.stringifyProperty("value"))},t.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},n(e,[{key:"rawSpaceBefore",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===e&&(e=this.spaces&&this.spaces.before),e||""},set:function(e){(0,r.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===e&&(e=this.spaces.after),e||""},set:function(e){(0,r.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=e}}]),e}(),e.exports=t.default}(au,au.exports)),au.exports}var aE,aT,aI,ax={};function aO(){return aI||(aI=1,ax.__esModule=!0,ax.UNIVERSAL=ax.TAG=ax.STRING=ax.SELECTOR=ax.ROOT=ax.PSEUDO=ax.NESTING=ax.ID=ax.COMMENT=ax.COMBINATOR=ax.CLASS=ax.ATTRIBUTE=void 0,ax.TAG="tag",ax.STRING="string",ax.SELECTOR="selector",ax.ROOT="root",ax.PSEUDO="pseudo",ax.NESTING="nesting",ax.ID="id",ax.COMMENT="comment",ax.COMBINATOR="combinator",ax.CLASS="class",ax.ATTRIBUTE="attribute",ax.UNIVERSAL="universal"),ax}function aC(){return aN||(aN=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a(aS()),i=o(aO());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=l(e))||t){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function c(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,r){return t&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).nodes||(r.nodes=[]),r}p(t,e);var r=t.prototype;return r.append=function(e){return e.parent=this,this.nodes.push(e),this},r.prepend=function(e){return e.parent=this,this.nodes.unshift(e),this},r.at=function(e){return this.nodes[e]},r.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},r.removeChild=function(e){var t;for(var r in e=this.index(e),this.at(e).parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this},r.removeAll=function(){for(var e,t=s(this.nodes);!(e=t()).done;)e.value.parent=void 0;return this.nodes=[],this},r.empty=function(){return this.removeAll()},r.insertAfter=function(e,t){t.parent=this;var r,i=this.index(e);for(var n in this.nodes.splice(i+1,0,t),t.parent=this,this.indexes)i<=(r=this.indexes[n])&&(this.indexes[n]=r+1);return this},r.insertBefore=function(e,t){t.parent=this;var r,i=this.index(e);for(var n in this.nodes.splice(i,0,t),t.parent=this,this.indexes)(r=this.indexes[n])<=i&&(this.indexes[n]=r+1);return this},r._findChildAtPosition=function(e,t){var r=void 0;return this.each(function(i){if(i.atPosition){var n=i.atPosition(e,t);if(n)return r=n,!1}else if(i.isAtPosition(e,t))return r=i,!1}),r},r.atPosition=function(e,t){if(this.isAtPosition(e,t))return this._findChildAtPosition(e,t)||this},r._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},r.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var t,r,i=this.lastEach;if(this.indexes[i]=0,this.length){for(;this.indexes[i]<this.length&&(t=this.indexes[i],!1!==(r=e(this.at(t),t)));)this.indexes[i]+=1;if(delete this.indexes[i],!1===r)return!1}},r.walk=function(e){return this.each(function(t,r){var i=e(t,r);if(!1!==i&&t.length&&(i=t.walk(e)),!1===i)return!1})},r.walkAttributes=function(e){var t=this;return this.walk(function(r){if(r.type===i.ATTRIBUTE)return e.call(t,r)})},r.walkClasses=function(e){var t=this;return this.walk(function(r){if(r.type===i.CLASS)return e.call(t,r)})},r.walkCombinators=function(e){var t=this;return this.walk(function(r){if(r.type===i.COMBINATOR)return e.call(t,r)})},r.walkComments=function(e){var t=this;return this.walk(function(r){if(r.type===i.COMMENT)return e.call(t,r)})},r.walkIds=function(e){var t=this;return this.walk(function(r){if(r.type===i.ID)return e.call(t,r)})},r.walkNesting=function(e){var t=this;return this.walk(function(r){if(r.type===i.NESTING)return e.call(t,r)})},r.walkPseudos=function(e){var t=this;return this.walk(function(r){if(r.type===i.PSEUDO)return e.call(t,r)})},r.walkTags=function(e){var t=this;return this.walk(function(r){if(r.type===i.TAG)return e.call(t,r)})},r.walkUniversals=function(e){var t=this;return this.walk(function(r){if(r.type===i.UNIVERSAL)return e.call(t,r)})},r.split=function(e){var t=this,r=[];return this.reduce(function(i,n,o){var a=e.call(t,n);return r.push(n),a?(i.push(r),r=[]):o===t.length-1&&i.push(r),i},[])},r.map=function(e){return this.nodes.map(e)},r.reduce=function(e,t){return this.nodes.reduce(e,t)},r.every=function(e){return this.nodes.every(e)},r.some=function(e){return this.nodes.some(e)},r.filter=function(e){return this.nodes.filter(e)},r.sort=function(e){return this.nodes.sort(e)},r.toString=function(){return this.map(String).join("")},d(t,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),t}(r.default),e.exports=t.default}(al,al.exports)),al.exports}function ak(){return aR||(aR=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aC()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,r){return t&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.ROOT,r}s(t,e);var r=t.prototype;return r.toString=function(){var e=this.reduce(function(e,t){return e.push(String(t)),e},[]).join(",");return this.trailingComma?e+",":e},r.error=function(e,t){return this._error?this._error(e,t):Error(e)},a(t,[{key:"errorGenerator",set:function(e){this._error=e}}]),t}(r.default),e.exports=t.default}(as,as.exports)),as.exports}var aN,aR,aP,aD={exports:{}};function aU(){return aP||(aP=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aC()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.SELECTOR,r}return o(t,e),t}(r.default),e.exports=t.default}(aD,aD.exports)),aD.exports}var aL,aK={exports:{}};function aM(){return aL||(aL=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a(iz()),i=a_(),n=a(aS()),o=aO();function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,r){return t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=o.CLASS,r._constructed=!0,r}return u(t,e),t.prototype.valueToString=function(){return"."+e.prototype.valueToString.call(this)},l(t,[{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=(0,r.default)(e,{isIdentifier:!0});t!==e?((0,i.ensureObject)(this,"raws"),this.raws.value=t):this.raws&&delete this.raws.value}this._value=e}}]),t}(n.default),e.exports=t.default}(aK,aK.exports)),aK.exports}var aB,aj={exports:{}};function a$(){return aB||(aB=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aS()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.COMMENT,r}return o(t,e),t}(r.default),e.exports=t.default}(aj,aj.exports)),aj.exports}var az,aF={exports:{}};function aq(){return az||(az=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aS()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.ID,r}return o(t,e),t.prototype.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},t}(r.default),e.exports=t.default}(aF,aF.exports)),aF.exports}var aV,aH={exports:{}},aG={exports:{}};function aW(){return aV||(aV=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(iz()),i=a_();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,r){return t&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.qualifiedName=function(e){return this.namespace?this.namespaceString+"|"+e:e},n.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},a(t,[{key:"namespace",get:function(){return this._namespace},set:function(e){if(!0===e||"*"===e||"&"===e){this._namespace=e,this.raws&&delete this.raws.namespace;return}var t=(0,r.default)(e,{isIdentifier:!0});this._namespace=e,t!==e?((0,i.ensureObject)(this,"raws"),this.raws.namespace=t):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(e){this.namespace=e}},{key:"namespaceString",get:function(){if(!this.namespace)return"";var e=this.stringifyProperty("namespace");return!0===e?"":e}}]),t}(n(aS()).default),e.exports=t.default}(aG,aG.exports)),aG.exports}function aZ(){return aJ||(aJ=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aW()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.TAG,r}return o(t,e),t}(r.default),e.exports=t.default}(aH,aH.exports)),aH.exports}var aJ,aQ,aY={exports:{}};function aX(){return aQ||(aQ=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aS()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.STRING,r}return o(t,e),t}(r.default),e.exports=t.default}(aY,aY.exports)),aY.exports}var a0,a1={exports:{}};function a2(){return a0||(a0=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aC()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.PSEUDO,r}return o(t,e),t.prototype.toString=function(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")},t}(r.default),e.exports=t.default}(a1,a1.exports)),a1.exports}var a4,a3={};function a5(){return a4||(a4=1,function(e){e.__esModule=!0,e.default=void 0,e.unescapeValue=g;var t,r=a(iz()),i=a(ap()),n=a(aW()),o=aO();function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,r){return t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var d=nn(),p=/^('|")([^]*)\1$/,f=d(function(){},"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),h=d(function(){},"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),m=d(function(){},"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function g(e){var t=!1,r=null,n=e,o=n.match(p);return o&&(r=o[1],n=o[2]),(n=(0,i.default)(n))!==e&&(t=!0),{deprecatedUsage:t,unescaped:n,quoteMark:r}}function y(e){if(void 0!==e.quoteMark||void 0===e.value)return e;m();var t=g(e.value),r=t.quoteMark,i=t.unescaped;return e.raws||(e.raws={}),void 0===e.raws.value&&(e.raws.value=e.value),e.value=i,e.quoteMark=r,e}var v=function(e){function t(t){var r;return void 0===t&&(t={}),(r=e.call(this,y(t))||this).type=o.ATTRIBUTE,r.raws=r.raws||{},Object.defineProperty(r.raws,"unquoted",{get:d(function(){return r.value},"attr.raws.unquoted is deprecated. Call attr.value instead."),set:d(function(){return r.value},"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),r._constructed=!0,r}u(t,e);var i=t.prototype;return i.getQuotedValue=function(e){void 0===e&&(e={});var t=b[this._determineQuoteMark(e)];return(0,r.default)(this._value,t)},i._determineQuoteMark=function(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)},i.setValue=function(e,t){void 0===t&&(t={}),this._value=e,this._quoteMark=this._determineQuoteMark(t),this._syncRawValue()},i.smartQuoteMark=function(e){var i=this.value,n=i.replace(/[^']/g,"").length,o=i.replace(/[^"]/g,"").length;if(n+o!==0)return o===n?this.preferredQuoteMark(e):o<n?t.DOUBLE_QUOTE:t.SINGLE_QUOTE;var a=(0,r.default)(i,{isIdentifier:!0});if(a===i)return t.NO_QUOTE;var s=this.preferredQuoteMark(e);if(s===t.NO_QUOTE){var l=this.quoteMark||e.quoteMark||t.DOUBLE_QUOTE,u=b[l];if((0,r.default)(i,u).length<a.length)return l}return s},i.preferredQuoteMark=function(e){var r=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;return void 0===r&&(r=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark),void 0===r&&(r=t.DOUBLE_QUOTE),r},i._syncRawValue=function(){var e=(0,r.default)(this._value,b[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e},i._handleEscapes=function(e,t){if(this._constructed){var i=(0,r.default)(t,{isIdentifier:!0});i!==t?this.raws[e]=i:delete this.raws[e]}},i._spacesFor=function(e){return Object.assign({before:"",after:""},this.spaces[e]||{},this.raws.spaces&&this.raws.spaces[e]||{})},i._stringFor=function(e,t,r){void 0===t&&(t=e),void 0===r&&(r=A);var i=this._spacesFor(t);return r(this.stringifyProperty(e),i)},i.offsetOf=function(e){var t=1,r=this._spacesFor("attribute");if(t+=r.before.length,"namespace"===e||"ns"===e)return this.namespace?t:-1;if("attributeNS"===e||(t+=this.namespaceString.length,this.namespace&&(t+=1),"attribute"===e))return t;t+=this.stringifyProperty("attribute").length,t+=r.after.length;var i=this._spacesFor("operator");t+=i.before.length;var n=this.stringifyProperty("operator");if("operator"===e)return n?t:-1;t+=n.length,t+=i.after.length;var o=this._spacesFor("value");t+=o.before.length;var a=this.stringifyProperty("value");return"value"===e?a?t:-1:(t+=a.length,t+=o.after.length,t+=this._spacesFor("insensitive").before.length,"insensitive"===e&&this.insensitive?t:-1)},i.toString=function(){var e=this,t=[this.rawSpaceBefore,"["];return t.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(t.push(this._stringFor("operator")),t.push(this._stringFor("value")),t.push(this._stringFor("insensitiveFlag","insensitive",function(t,r){return!(t.length>0)||e.quoted||0!==r.before.length||e.spaces.value&&e.spaces.value.after||(r.before=" "),A(t,r)}))),t.push("]"),t.push(this.rawSpaceAfter),t.join("")},l(t,[{key:"quoted",get:function(){var e=this.quoteMark;return"'"===e||'"'===e},set:function(e){h()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(e){if(!this._constructed){this._quoteMark=e;return}this._quoteMark!==e&&(this._quoteMark=e,this._syncRawValue())}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=g(e),r=t.deprecatedUsage,i=t.unescaped,n=t.quoteMark;r&&f(),(i!==this._value||n!==this._quoteMark)&&(this._value=i,this._quoteMark=n,this._syncRawValue())}else this._value=e}},{key:"insensitive",get:function(){return this._insensitive},set:function(e){e||(this._insensitive=!1,this.raws&&("I"===this.raws.insensitiveFlag||"i"===this.raws.insensitiveFlag)&&(this.raws.insensitiveFlag=void 0)),this._insensitive=e}},{key:"attribute",get:function(){return this._attribute},set:function(e){this._handleEscapes("attribute",e),this._attribute=e}}]),t}(n.default);e.default=v,v.NO_QUOTE=null,v.SINGLE_QUOTE="'",v.DOUBLE_QUOTE='"';var b=((t={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}})[null]={isIdentifier:!0},t);function A(e,t){return""+t.before+e+t.after}}(a3)),a3}var a6,a8={exports:{}};function a9(){return a6||(a6=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aW()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.UNIVERSAL,r.value="*",r}return o(t,e),t}(r.default),e.exports=t.default}(a8,a8.exports)),a8.exports}var a7,se={exports:{}};function st(){return a7||(a7=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aS()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.COMBINATOR,r}return o(t,e),t}(r.default),e.exports=t.default}(se,se.exports)),se.exports}var sr,si={exports:{}};function sn(){return sr||(sr=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=n(aS()),i=aO();function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(e){function t(t){var r;return(r=e.call(this,t)||this).type=i.NESTING,r.value="&",r}return o(t,e),t}(r.default),e.exports=t.default}(si,si.exports)),si.exports}var so,sa={exports:{}};function ss(){return so||(so=1,function(e,t){function r(e){return e.sort(function(e,t){return e-t})}t.__esModule=!0,t.default=r,e.exports=t.default}(sa,sa.exports)),sa.exports}var sl,su={},sc={};function sd(){if(sl)return sc;sl=1,sc.__esModule=!0,sc.word=sc.tilde=sc.tab=sc.str=sc.space=sc.slash=sc.singleQuote=sc.semicolon=sc.plus=sc.pipe=sc.openSquare=sc.openParenthesis=sc.newline=sc.greaterThan=sc.feed=sc.equals=sc.doubleQuote=sc.dollar=sc.cr=sc.comment=sc.comma=sc.combinator=sc.colon=sc.closeSquare=sc.closeParenthesis=sc.caret=sc.bang=sc.backslash=sc.at=sc.asterisk=sc.ampersand=void 0,sc.ampersand=38,sc.asterisk=42,sc.at=64,sc.comma=44,sc.colon=58,sc.semicolon=59,sc.openParenthesis=40,sc.closeParenthesis=41,sc.openSquare=91,sc.closeSquare=93,sc.dollar=36,sc.tilde=126,sc.caret=94,sc.plus=43,sc.equals=61,sc.pipe=124,sc.greaterThan=62,sc.space=32;var e=39;return sc.singleQuote=39,sc.doubleQuote=34,sc.slash=47,sc.bang=33,sc.backslash=92,sc.cr=13,sc.feed=12,sc.newline=10,sc.tab=9,sc.str=e,sc.comment=-1,sc.word=-2,sc.combinator=-3,sc}function sp(){return sm||(sm=1,function(e){e.__esModule=!0,e.FIELDS=void 0,e.default=f;var t,r,i=o(sd());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}for(var a=((t={})[i.tab]=!0,t[i.newline]=!0,t[i.cr]=!0,t[i.feed]=!0,t),s=((r={})[i.space]=!0,r[i.tab]=!0,r[i.newline]=!0,r[i.cr]=!0,r[i.feed]=!0,r[i.ampersand]=!0,r[i.asterisk]=!0,r[i.bang]=!0,r[i.comma]=!0,r[i.colon]=!0,r[i.semicolon]=!0,r[i.openParenthesis]=!0,r[i.closeParenthesis]=!0,r[i.openSquare]=!0,r[i.closeSquare]=!0,r[i.singleQuote]=!0,r[i.doubleQuote]=!0,r[i.plus]=!0,r[i.pipe]=!0,r[i.tilde]=!0,r[i.greaterThan]=!0,r[i.equals]=!0,r[i.dollar]=!0,r[i.caret]=!0,r[i.slash]=!0,r),l={},u="0123456789abcdefABCDEF",c=0;c<u.length;c++)l[u.charCodeAt(c)]=!0;function d(e,t){var r,n=t;do{if(s[r=e.charCodeAt(n)])break;r===i.backslash?n=p(e,n)+1:n++}while(n<e.length)return n-1}function p(e,t){var r=t,n=e.charCodeAt(r+1);if(!a[n])if(l[n]){var o=0;do r++,o++,n=e.charCodeAt(r+1);while(l[n]&&o<6)o<6&&n===i.space&&r++}else r++;return r}function f(e){var t,r,n,o,a,s,l,u,c,p,f,h,m=[],g=e.css.valueOf(),y=g.length,v=-1,b=1,A=0,w=0;function _(t,r){if(e.safe)g+=r,u=g.length-1;else throw e.error("Unclosed "+t,b,A-v,A)}for(;A<y;){switch((t=g.charCodeAt(A))===i.newline&&(v=A,b+=1),t){case i.space:case i.tab:case i.newline:case i.cr:case i.feed:u=A;do u+=1,(t=g.charCodeAt(u))===i.newline&&(v=u,b+=1);while(t===i.space||t===i.newline||t===i.tab||t===i.cr||t===i.feed)h=i.space,n=b,r=u-v-1,w=u;break;case i.plus:case i.greaterThan:case i.tilde:case i.pipe:u=A;do u+=1,t=g.charCodeAt(u);while(t===i.plus||t===i.greaterThan||t===i.tilde||t===i.pipe)h=i.combinator,n=b,r=A-v,w=u;break;case i.asterisk:case i.ampersand:case i.bang:case i.comma:case i.equals:case i.dollar:case i.caret:case i.openSquare:case i.closeSquare:case i.colon:case i.semicolon:case i.openParenthesis:case i.closeParenthesis:u=A,h=t,n=b,r=A-v,w=u+1;break;case i.singleQuote:case i.doubleQuote:f=t===i.singleQuote?"'":'"',u=A;do for(o=!1,-1===(u=g.indexOf(f,u+1))&&_("quote",f),a=u;g.charCodeAt(a-1)===i.backslash;)a-=1,o=!o;while(o)h=i.str,n=b,r=A-v,w=u+1;break;default:t===i.slash&&g.charCodeAt(A+1)===i.asterisk?(0===(u=g.indexOf("*/",A+2)+1)&&_("comment","*/"),(s=(l=g.slice(A,u+1).split(`
`)).length-1)>0?(c=b+s,p=u-l[s].length):(c=b,p=v),h=i.comment,b=c,n=c,r=u-p):t===i.slash?(u=A,h=t,n=b,r=A-v,w=u+1):(u=d(g,A),h=i.word,n=b,r=u-v),w=u+1}m.push([h,b,A-v,n,r,A,w]),p&&(v=p,p=null),A=w}return m}e.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}}(su)),su}function sf(){return sg||(sg=1,function(e,t){t.__esModule=!0,t.default=void 0;var r,i,n=S(ak()),o=S(aU()),a=S(aM()),s=S(a$()),l=S(aq()),u=S(aZ()),c=S(aX()),d=S(a2()),p=_(a5()),f=S(a9()),h=S(st()),m=S(sn()),g=S(ss()),y=_(sp()),v=_(sd()),b=_(aO()),A=a_();function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function _(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}function S(e){return e&&e.__esModule?e:{default:e}}function E(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,t,r){return t&&E(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=((r={})[v.space]=!0,r[v.cr]=!0,r[v.feed]=!0,r[v.newline]=!0,r[v.tab]=!0,r),x=Object.assign({},I,((i={})[v.comment]=!0,i));function O(e){return{line:e[y.FIELDS.START_LINE],column:e[y.FIELDS.START_COL]}}function C(e){return{line:e[y.FIELDS.END_LINE],column:e[y.FIELDS.END_COL]}}function k(e,t,r,i){return{start:{line:e,column:t},end:{line:r,column:i}}}function N(e){return k(e[y.FIELDS.START_LINE],e[y.FIELDS.START_COL],e[y.FIELDS.END_LINE],e[y.FIELDS.END_COL])}function R(e,t){if(e)return k(e[y.FIELDS.START_LINE],e[y.FIELDS.START_COL],t[y.FIELDS.END_LINE],t[y.FIELDS.END_COL])}function P(e,t){var r=e[t];if("string"==typeof r)return -1!==r.indexOf("\\")&&((0,A.ensureObject)(e,"raws"),e[t]=(0,A.unesc)(r),void 0===e.raws[t]&&(e.raws[t]=r)),e}function D(e,t){for(var r=-1,i=[];-1!==(r=e.indexOf(t,r+1));)i.push(r);return i}function U(){var e=Array.prototype.concat.apply([],arguments);return e.filter(function(t,r){return r===e.indexOf(t)})}t.default=function(){function e(e,t){void 0===t&&(t={}),this.rule=e,this.options=Object.assign({lossy:!1,safe:!1},t),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,y.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var r=R(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new n.default({source:r}),this.root.errorGenerator=this._errorGenerator();var i=new o.default({source:{start:{line:1,column:1}},sourceIndex:0});this.root.append(i),this.current=i,this.loop()}var t=e.prototype;return t._errorGenerator=function(){var e=this;return function(t,r){return"string"==typeof e.rule?Error(t):e.rule.error(t,r)}},t.attribute=function(){var e=[],t=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[y.FIELDS.TYPE]!==v.closeSquare;)e.push(this.currToken),this.position++;if(this.currToken[y.FIELDS.TYPE]!==v.closeSquare)return this.expected("closing square bracket",this.currToken[y.FIELDS.START_POS]);var r=e.length,i={source:k(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[y.FIELDS.START_POS]};if(1===r&&!~[v.word].indexOf(e[0][y.FIELDS.TYPE]))return this.expected("attribute",e[0][y.FIELDS.START_POS]);for(var n=0,o="",a="",s=null,l=!1;n<r;){var u=e[n],c=this.content(u),d=e[n+1];switch(u[y.FIELDS.TYPE]){case v.space:if(l=!0,this.options.lossy)break;if(s){(0,A.ensureObject)(i,"spaces",s);var f=i.spaces[s].after||"";i.spaces[s].after=f+c;var h=(0,A.getProp)(i,"raws","spaces",s,"after")||null;h&&(i.raws.spaces[s].after=h+c)}else o+=c,a+=c;break;case v.asterisk:d[y.FIELDS.TYPE]===v.equals?(i.operator=c,s="operator"):i.namespace&&("namespace"!==s||l)||!d||(o&&((0,A.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=o,o=""),a&&((0,A.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=o,a=""),i.namespace=(i.namespace||"")+c,((0,A.getProp)(i,"raws","namespace")||0)&&(i.raws.namespace+=c),s="namespace"),l=!1;break;case v.dollar:if("value"===s){var m=(0,A.getProp)(i,"raws","value");i.value+="$",m&&(i.raws.value=m+"$");break}case v.caret:d[y.FIELDS.TYPE]===v.equals&&(i.operator=c,s="operator"),l=!1;break;case v.combinator:if("~"===c&&d[y.FIELDS.TYPE]===v.equals&&(i.operator=c,s="operator"),"|"!==c){l=!1;break}d[y.FIELDS.TYPE]===v.equals?(i.operator=c,s="operator"):i.namespace||i.attribute||(i.namespace=!0),l=!1;break;case v.word:if(d&&"|"===this.content(d)&&e[n+2]&&e[n+2][y.FIELDS.TYPE]!==v.equals&&!i.operator&&!i.namespace)i.namespace=c,s="namespace";else if(i.attribute&&("attribute"!==s||l))if((i.value||""===i.value)&&("value"!==s||l||i.quoteMark)){var g="i"===c||"I"===c;(i.value||""===i.value)&&(i.quoteMark||l)?(i.insensitive=g,g&&"I"!==c||((0,A.ensureObject)(i,"raws"),i.raws.insensitiveFlag=c),s="insensitive",o&&((0,A.ensureObject)(i,"spaces","insensitive"),i.spaces.insensitive.before=o,o=""),a&&((0,A.ensureObject)(i,"raws","spaces","insensitive"),i.raws.spaces.insensitive.before=a,a="")):(i.value||""===i.value)&&(s="value",i.value+=c,i.raws.value&&(i.raws.value+=c))}else{var b=(0,A.unesc)(c),w=(0,A.getProp)(i,"raws","value")||"",_=i.value||"";i.value=_+b,i.quoteMark=null,(b!==c||w)&&((0,A.ensureObject)(i,"raws"),i.raws.value=(w||_)+c),s="value"}else o&&((0,A.ensureObject)(i,"spaces","attribute"),i.spaces.attribute.before=o,o=""),a&&((0,A.ensureObject)(i,"raws","spaces","attribute"),i.raws.spaces.attribute.before=a,a=""),i.attribute=(i.attribute||"")+c,((0,A.getProp)(i,"raws","attribute")||0)&&(i.raws.attribute+=c),s="attribute";l=!1;break;case v.str:if(!i.attribute||!i.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:u[y.FIELDS.START_POS]});var S=(0,p.unescapeValue)(c),E=S.unescaped,T=S.quoteMark;i.value=E,i.quoteMark=T,s="value",(0,A.ensureObject)(i,"raws"),i.raws.value=c,l=!1;break;case v.equals:if(!i.attribute)return this.expected("attribute",u[y.FIELDS.START_POS],c);if(i.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:u[y.FIELDS.START_POS]});i.operator=i.operator?i.operator+c:c,s="operator",l=!1;break;case v.comment:if(s)if(l||d&&d[y.FIELDS.TYPE]===v.space||"insensitive"===s){var I=(0,A.getProp)(i,"spaces",s,"after")||"",x=(0,A.getProp)(i,"raws","spaces",s,"after")||I;(0,A.ensureObject)(i,"raws","spaces",s),i.raws.spaces[s].after=x+c}else{var O=i[s]||"",C=(0,A.getProp)(i,"raws",s)||O;(0,A.ensureObject)(i,"raws"),i.raws[s]=C+c}else a+=c;break;default:return this.error('Unexpected "'+c+'" found.',{index:u[y.FIELDS.START_POS]})}n++}P(i,"attribute"),P(i,"namespace"),this.newNode(new p.default(i)),this.position++},t.parseWhitespaceEquivalentTokens=function(e){e<0&&(e=this.tokens.length);var t=this.position,r=[],i="",n=void 0;do if(I[this.currToken[y.FIELDS.TYPE]])this.options.lossy||(i+=this.content());else if(this.currToken[y.FIELDS.TYPE]===v.comment){var o={};i&&(o.before=i,i=""),n=new s.default({value:this.content(),source:N(this.currToken),sourceIndex:this.currToken[y.FIELDS.START_POS],spaces:o}),r.push(n)}while(++this.position<e)if(i){if(n)n.spaces.after=i;else if(!this.options.lossy){var a=this.tokens[t],l=this.tokens[this.position-1];r.push(new c.default({value:"",source:k(a[y.FIELDS.START_LINE],a[y.FIELDS.START_COL],l[y.FIELDS.END_LINE],l[y.FIELDS.END_COL]),sourceIndex:a[y.FIELDS.START_POS],spaces:{before:i,after:""}}))}}return r},t.convertWhitespaceNodesToSpace=function(e,t){var r=this;void 0===t&&(t=!1);var i="",n="";return e.forEach(function(e){var o=r.lossySpace(e.spaces.before,t),a=r.lossySpace(e.rawSpaceBefore,t);i+=o+r.lossySpace(e.spaces.after,t&&0===o.length),n+=o+e.value+r.lossySpace(e.rawSpaceAfter,t&&0===a.length)}),n===i&&(n=void 0),{space:i,rawSpace:n}},t.isNamedCombinator=function(e){return void 0===e&&(e=this.position),this.tokens[e+0]&&this.tokens[e+0][y.FIELDS.TYPE]===v.slash&&this.tokens[e+1]&&this.tokens[e+1][y.FIELDS.TYPE]===v.word&&this.tokens[e+2]&&this.tokens[e+2][y.FIELDS.TYPE]===v.slash},t.namedCombinator=function(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]),t=(0,A.unesc)(e).toLowerCase(),r={};t!==e&&(r.value="/"+e+"/");var i=new h.default({value:"/"+t+"/",source:k(this.currToken[y.FIELDS.START_LINE],this.currToken[y.FIELDS.START_COL],this.tokens[this.position+2][y.FIELDS.END_LINE],this.tokens[this.position+2][y.FIELDS.END_COL]),sourceIndex:this.currToken[y.FIELDS.START_POS],raws:r});return this.position=this.position+3,i}this.unexpected()},t.combinator=function(){var e,t=this;if("|"===this.content())return this.namespace();var r=this.locateNextMeaningfulToken(this.position);if(r<0||this.tokens[r][y.FIELDS.TYPE]===v.comma||this.tokens[r][y.FIELDS.TYPE]===v.closeParenthesis){var i=this.parseWhitespaceEquivalentTokens(r);if(i.length>0){var n=this.current.last;if(n){var o=this.convertWhitespaceNodesToSpace(i),a=o.space,s=o.rawSpace;void 0!==s&&(n.rawSpaceAfter+=s),n.spaces.after+=a}else i.forEach(function(e){return t.newNode(e)})}return}var l=this.currToken,u=void 0;if(r>this.position&&(u=this.parseWhitespaceEquivalentTokens(r)),this.isNamedCombinator()?e=this.namedCombinator():this.currToken[y.FIELDS.TYPE]===v.combinator?(e=new h.default({value:this.content(),source:N(this.currToken),sourceIndex:this.currToken[y.FIELDS.START_POS]}),this.position++):I[this.currToken[y.FIELDS.TYPE]]||u||this.unexpected(),e){if(u){var c=this.convertWhitespaceNodesToSpace(u),d=c.space,p=c.rawSpace;e.spaces.before=d,e.rawSpaceBefore=p}}else{var f=this.convertWhitespaceNodesToSpace(u,!0),m=f.space,g=f.rawSpace;g||(g=m);var b={},A={spaces:{}};m.endsWith(" ")&&g.endsWith(" ")?(b.before=m.slice(0,m.length-1),A.spaces.before=g.slice(0,g.length-1)):m.startsWith(" ")&&g.startsWith(" ")?(b.after=m.slice(1),A.spaces.after=g.slice(1)):A.value=g,e=new h.default({value:" ",source:R(l,this.tokens[this.position-1]),sourceIndex:l[y.FIELDS.START_POS],spaces:b,raws:A})}return this.currToken&&this.currToken[y.FIELDS.TYPE]===v.space&&(e.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(e)},t.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}this.current._inferEndPosition();var e=new o.default({source:{start:O(this.tokens[this.position+1])},sourceIndex:this.tokens[this.position+1][y.FIELDS.START_POS]});this.current.parent.append(e),this.current=e,this.position++},t.comment=function(){var e=this.currToken;this.newNode(new s.default({value:this.content(),source:N(e),sourceIndex:e[y.FIELDS.START_POS]})),this.position++},t.error=function(e,t){throw this.root.error(e,t)},t.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[y.FIELDS.START_POS]})},t.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[y.FIELDS.START_POS])},t.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[y.FIELDS.START_POS])},t.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[y.FIELDS.START_POS])},t.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[y.FIELDS.START_POS])},t.namespace=function(){var e=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[y.FIELDS.TYPE]===v.word?(this.position++,this.word(e)):this.nextToken[y.FIELDS.TYPE]===v.asterisk?(this.position++,this.universal(e)):void this.unexpectedPipe()},t.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var e=this.currToken;this.newNode(new m.default({value:this.content(),source:N(e),sourceIndex:e[y.FIELDS.START_POS]})),this.position++},t.parentheses=function(){var e=this.current.last,t=1;if(this.position++,e&&e.type===b.PSEUDO){var r=new o.default({source:{start:O(this.tokens[this.position])},sourceIndex:this.tokens[this.position][y.FIELDS.START_POS]}),i=this.current;for(e.append(r),this.current=r;this.position<this.tokens.length&&t;)this.currToken[y.FIELDS.TYPE]===v.openParenthesis&&t++,this.currToken[y.FIELDS.TYPE]===v.closeParenthesis&&t--,t?this.parse():(this.current.source.end=C(this.currToken),this.current.parent.source.end=C(this.currToken),this.position++);this.current=i}else{for(var n,a=this.currToken,s="(";this.position<this.tokens.length&&t;)this.currToken[y.FIELDS.TYPE]===v.openParenthesis&&t++,this.currToken[y.FIELDS.TYPE]===v.closeParenthesis&&t--,n=this.currToken,s+=this.parseParenthesisToken(this.currToken),this.position++;e?e.appendToPropertyAndEscape("value",s,s):this.newNode(new c.default({value:s,source:k(a[y.FIELDS.START_LINE],a[y.FIELDS.START_COL],n[y.FIELDS.END_LINE],n[y.FIELDS.END_COL]),sourceIndex:a[y.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[y.FIELDS.START_POS])},t.pseudo=function(){for(var e=this,t="",r=this.currToken;this.currToken&&this.currToken[y.FIELDS.TYPE]===v.colon;)t+=this.content(),this.position++;return this.currToken?this.currToken[y.FIELDS.TYPE]!==v.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[y.FIELDS.START_POS]):void this.splitWord(!1,function(i,n){t+=i,e.newNode(new d.default({value:t,source:R(r,e.currToken),sourceIndex:r[y.FIELDS.START_POS]})),n>1&&e.nextToken&&e.nextToken[y.FIELDS.TYPE]===v.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[y.FIELDS.START_POS]})}):this.expected(["pseudo-class","pseudo-element"],this.position-1)},t.space=function(){var e=this.content();0===this.position||this.prevToken[y.FIELDS.TYPE]===v.comma||this.prevToken[y.FIELDS.TYPE]===v.openParenthesis||this.current.nodes.every(function(e){return"comment"===e.type})?(this.spaces=this.optionalSpace(e),this.position++):this.position===this.tokens.length-1||this.nextToken[y.FIELDS.TYPE]===v.comma||this.nextToken[y.FIELDS.TYPE]===v.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(e),this.position++):this.combinator()},t.string=function(){var e=this.currToken;this.newNode(new c.default({value:this.content(),source:N(e),sourceIndex:e[y.FIELDS.START_POS]})),this.position++},t.universal=function(e){var t=this.nextToken;if(t&&"|"===this.content(t))return this.position++,this.namespace();var r=this.currToken;this.newNode(new f.default({value:this.content(),source:N(r),sourceIndex:r[y.FIELDS.START_POS]}),e),this.position++},t.splitWord=function(e,t){for(var r=this,i=this.nextToken,n=this.content();i&&~[v.dollar,v.caret,v.equals,v.word].indexOf(i[y.FIELDS.TYPE]);){this.position++;var o=this.content();if(n+=o,o.lastIndexOf("\\")===o.length-1){var s=this.nextToken;s&&s[y.FIELDS.TYPE]===v.space&&(n+=this.requiredSpace(this.content(s)),this.position++)}i=this.nextToken}var c=D(n,".").filter(function(e){var t="\\"===n[e-1],r=/^\d+\.\d+%$/.test(n);return!t&&!r}),d=D(n,"#").filter(function(e){return"\\"!==n[e-1]}),p=D(n,"#{");p.length&&(d=d.filter(function(e){return!~p.indexOf(e)}));var f=(0,g.default)(U([0].concat(c,d)));f.forEach(function(i,o){var s=f[o+1]||n.length,p=n.slice(i,s);if(0===o&&t)return t.call(r,p,f.length);var h,m=r.currToken,g=m[y.FIELDS.START_POS]+f[o],v=k(m[1],m[2]+i,m[3],m[2]+(s-1));if(~c.indexOf(i)){var b={value:p.slice(1),source:v,sourceIndex:g};h=new a.default(P(b,"value"))}else if(~d.indexOf(i)){var A={value:p.slice(1),source:v,sourceIndex:g};h=new l.default(P(A,"value"))}else{var w={value:p,source:v,sourceIndex:g};P(w,"value"),h=new u.default(w)}r.newNode(h,e),e=null}),this.position++},t.word=function(e){var t=this.nextToken;return t&&"|"===this.content(t)?(this.position++,this.namespace()):this.splitWord(e)},t.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},t.parse=function(e){switch(this.currToken[y.FIELDS.TYPE]){case v.space:this.space();break;case v.comment:this.comment();break;case v.openParenthesis:this.parentheses();break;case v.closeParenthesis:e&&this.missingParenthesis();break;case v.openSquare:this.attribute();break;case v.dollar:case v.caret:case v.equals:case v.word:this.word();break;case v.colon:this.pseudo();break;case v.comma:this.comma();break;case v.asterisk:this.universal();break;case v.ampersand:this.nesting();break;case v.slash:case v.combinator:this.combinator();break;case v.str:this.string();break;case v.closeSquare:this.missingSquareBracket();case v.semicolon:this.missingBackslash();default:this.unexpected()}},t.expected=function(e,t,r){if(Array.isArray(e)){var i=e.pop();e=e.join(", ")+" or "+i}var n=/^[aeiou]/.test(e[0])?"an":"a";return r?this.error("Expected "+n+" "+e+', found "'+r+'" instead.',{index:t}):this.error("Expected "+n+" "+e+".",{index:t})},t.requiredSpace=function(e){return this.options.lossy?" ":e},t.optionalSpace=function(e){return this.options.lossy?"":e},t.lossySpace=function(e,t){return this.options.lossy?t?" ":"":e},t.parseParenthesisToken=function(e){var t=this.content(e);return e[y.FIELDS.TYPE]===v.space?this.requiredSpace(t):t},t.newNode=function(e,t){return t&&(/^ +$/.test(t)&&(this.options.lossy||(this.spaces=(this.spaces||"")+t),t=!0),e.namespace=t,P(e,"namespace")),this.spaces&&(e.spaces.before=this.spaces,this.spaces=""),this.current.append(e)},t.content=function(e){return void 0===e&&(e=this.currToken),this.css.slice(e[y.FIELDS.START_POS],e[y.FIELDS.END_POS])},t.locateNextMeaningfulToken=function(e){void 0===e&&(e=this.position+1);for(var t=e;t<this.tokens.length;)if(!x[this.tokens[t][y.FIELDS.TYPE]])return t;else{t++;continue}return -1},T(e,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),e}(),e.exports=t.default}(aa,aa.exports)),aa.exports}function sh(){return sy||(sy=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=i(sf());function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){this.func=e||function(){},this.funcRes=null,this.options=t}var t=e.prototype;return t._shouldUpdateSelector=function(e,t){return void 0===t&&(t={}),!1!==Object.assign({},this.options,t).updateSelector&&"string"!=typeof e},t._isLossy=function(e){return void 0===e&&(e={}),!1===Object.assign({},this.options,e).lossless},t._root=function(e,t){return void 0===t&&(t={}),new r.default(e,this._parseOptions(t)).root},t._parseOptions=function(e){return{lossy:this._isLossy(e)}},t._run=function(e,t){var r=this;return void 0===t&&(t={}),new Promise(function(i,n){try{var o=r._root(e,t);Promise.resolve(r.func(o)).then(function(i){var n=void 0;return r._shouldUpdateSelector(e,t)&&(e.selector=n=o.toString()),{transform:i,root:o,string:n}}).then(i,n)}catch(e){n(e);return}})},t._runSync=function(e,t){void 0===t&&(t={});var r=this._root(e,t),i=this.func(r);if(i&&"function"==typeof i.then)throw Error("Selector processor returned a promise to a synchronous call.");var n=void 0;return t.updateSelector&&"string"!=typeof e&&(e.selector=n=r.toString()),{transform:i,root:r,string:n}},t.ast=function(e,t){return this._run(e,t).then(function(e){return e.root})},t.astSync=function(e,t){return this._runSync(e,t).root},t.transform=function(e,t){return this._run(e,t).then(function(e){return e.transform})},t.transformSync=function(e,t){return this._runSync(e,t).transform},t.process=function(e,t){return this._run(e,t).then(function(e){return e.string||e.root.toString()})},t.processSync=function(e,t){var r=this._runSync(e,t);return r.string||r.root.toString()},e}(),e.exports=t.default}(ao,ao.exports)),ao.exports}var sm,sg,sy,sv,sb={},sA={};function sw(){if(sv)return sA;sv=1,sA.__esModule=!0,sA.universal=sA.tag=sA.string=sA.selector=sA.root=sA.pseudo=sA.nesting=sA.id=sA.comment=sA.combinator=sA.className=sA.attribute=void 0;var e=p(a5()),t=p(aM()),r=p(st()),i=p(a$()),n=p(aq()),o=p(sn()),a=p(a2()),s=p(ak()),l=p(aU()),u=p(aX()),c=p(aZ()),d=p(a9());function p(e){return e&&e.__esModule?e:{default:e}}return sA.attribute=function(t){return new e.default(t)},sA.className=function(e){return new t.default(e)},sA.combinator=function(e){return new r.default(e)},sA.comment=function(e){return new i.default(e)},sA.id=function(e){return new n.default(e)},sA.nesting=function(e){return new o.default(e)},sA.pseudo=function(e){return new a.default(e)},sA.root=function(e){return new s.default(e)},sA.selector=function(e){return new l.default(e)},sA.string=function(e){return new u.default(e)},sA.tag=function(e){return new c.default(e)},sA.universal=function(e){return new d.default(e)},sA}var s_,sS={};function sE(){if(s_)return sS;s_=1,sS.__esModule=!0,sS.isComment=sS.isCombinator=sS.isClassName=sS.isAttribute=void 0,sS.isContainer=c,sS.isIdentifier=void 0,sS.isNamespace=d,sS.isNesting=void 0,sS.isNode=i,sS.isPseudo=void 0,sS.isPseudoClass=u,sS.isPseudoElement=l,sS.isUniversal=sS.isTag=sS.isString=sS.isSelector=sS.isRoot=void 0;var e,t=aO(),r=((e={})[t.ATTRIBUTE]=!0,e[t.CLASS]=!0,e[t.COMBINATOR]=!0,e[t.COMMENT]=!0,e[t.ID]=!0,e[t.NESTING]=!0,e[t.PSEUDO]=!0,e[t.ROOT]=!0,e[t.SELECTOR]=!0,e[t.STRING]=!0,e[t.TAG]=!0,e[t.UNIVERSAL]=!0,e);function i(e){return"object"==typeof e&&r[e.type]}function n(e,t){return i(t)&&t.type===e}var o=n.bind(null,t.ATTRIBUTE);sS.isAttribute=o,sS.isClassName=n.bind(null,t.CLASS),sS.isCombinator=n.bind(null,t.COMBINATOR),sS.isComment=n.bind(null,t.COMMENT),sS.isIdentifier=n.bind(null,t.ID),sS.isNesting=n.bind(null,t.NESTING);var a=n.bind(null,t.PSEUDO);sS.isPseudo=a,sS.isRoot=n.bind(null,t.ROOT),sS.isSelector=n.bind(null,t.SELECTOR),sS.isString=n.bind(null,t.STRING);var s=n.bind(null,t.TAG);function l(e){return a(e)&&e.value&&(e.value.startsWith("::")||":before"===e.value.toLowerCase()||":after"===e.value.toLowerCase()||":first-letter"===e.value.toLowerCase()||":first-line"===e.value.toLowerCase())}function u(e){return a(e)&&!l(e)}function c(e){return!!(i(e)&&e.walk)}function d(e){return o(e)||s(e)}return sS.isTag=s,sS.isUniversal=n.bind(null,t.UNIVERSAL),sS}function sT(){return sx||(sx=1,function(e){e.__esModule=!0;var t=aO();Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||r in e&&e[r]===t[r]||(e[r]=t[r])});var r=sw();Object.keys(r).forEach(function(t){"default"===t||"__esModule"===t||t in e&&e[t]===r[t]||(e[t]=r[t])});var i=sE();Object.keys(i).forEach(function(t){"default"===t||"__esModule"===t||t in e&&e[t]===i[t]||(e[t]=i[t])})}(sb)),sb}function sI(){return sO||(sO=1,function(e,t){t.__esModule=!0,t.default=void 0;var r=a(sh()),i=o(sT());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return new r.default(e)};Object.assign(s,i),delete s.__esModule,t.default=s,e.exports=t.default}(an,an.exports)),an.exports}var sx,sO,sC,sk={},sN={},sR={exports:{}};function sP(){if(sC)return sR.exports;sC=1;let{AtRule:e,Rule:t}=rs(),r=sI();function i(e,t){let i;try{r(e=>{i=e}).processSync(e)}catch(r){throw e.includes(":")?t?t.error("Missed semicolon"):r:t?t.error(r.message):r}return i.at(0)}function n(e,t){let r=!1;return e.each(e=>{if("nesting"===e.type){let n=t.clone({});"&"!==e.value?e.replaceWith(i(e.value.replace("&",n.toString()))):e.replaceWith(n),r=!0}else"nodes"in e&&e.nodes&&n(e,t)&&(r=!0)}),r}function o(e,t){let o=[];return e.selectors.forEach(a=>{let s=i(a,e);t.selectors.forEach(e=>{if(!e)return;let a=i(e,t);n(a,s)||(a.prepend(r.combinator({value:" "})),a.prepend(s.clone({}))),o.push(a.toString())})}),o}function a(e,t){let r=e.prev();for(t.after(e);r&&"comment"===r.type;){let e=r.prev();t.after(r),r=e}return e}function s(e){return function t(r,i,n,a=n){let s=[];if(i.each(l=>{"rule"===l.type&&n?a&&(l.selectors=o(r,l)):"atrule"===l.type&&l.nodes?e[l.name]?t(r,l,a):!1!==i[f]&&s.push(l):s.push(l)}),n&&s.length){let e=r.clone({nodes:[]});for(let t of s)e.append(t);i.prepend(e)}}}function l(e,r,i){let n=new t({nodes:[],selector:e});return n.append(r),i.after(n),n}function u(e,t){let r={};for(let t of e)r[t]=!0;if(t)for(let e of t)r[e.replace(/^@/,"")]=!0;return r}function c(e){let t=(e=e.trim()).match(/^\((.*)\)$/);if(!t)return{selector:e,type:"basic"};let r=t[1].match(/^(with(?:out)?):(.+)$/);if(r){let e="with"===r[1],t=Object.fromEntries(r[2].trim().split(/\s+/).map(e=>[e,!0]));if(e&&t.all)return{type:"noop"};let i=e=>!!t[e];return t.all?i=()=>!0:e&&(i=e=>"all"!==e&&!t[e]),{escapes:i,type:"withrules"}}return{type:"unknown"}}function d(t){let r=[],i=t.parent;for(;i&&i instanceof e;)r.push(i),i=i.parent;return r}function p(e){let t=e[h];if(t){let r=e.nodes,i,n=-1,o,a,s,l=d(e);if(l.forEach((e,r)=>{if(t(e.name))i=e,n=r,a=s;else{let t=s;s=e.clone({nodes:[]}),t&&s.append(t),o=o||s}}),i?a?(o.append(r),i.after(a)):i.after(r):e.after(r),e.next()&&i){let t;l.slice(0,n+1).forEach((r,i,n)=>{let o=t;t=r.clone({nodes:[]}),o&&t.append(o);let a=[],s=(n[i-1]||e).next();for(;s;)a.push(s),s=s.next();t.append(a)}),t&&(a||r[r.length-1]).after(t)}}else e.after(e.nodes);e.remove()}let f=Symbol("rootRuleMergeSel"),h=Symbol("rootRuleEscapes");function m(e){let{params:r}=e,{escapes:i,selector:n,type:o}=c(r);if("unknown"===o)throw e.error(`Unknown @${e.name} parameter ${JSON.stringify(r)}`);if("basic"===o&&n){let r=new t({nodes:e.nodes,selector:n});e.removeAll(),e.append(r)}e[h]=i,e[f]=i?!i("all"):"noop"===o}let g=Symbol("hasRootRule");return sR.exports=(e={})=>{let t=u(["media","supports","layer","container","starting-style"],e.bubble),r=s(t),i=u(["document","font-face","keyframes","-webkit-keyframes","-moz-keyframes"],e.unwrap),n=(e.rootRuleName||"at-root").replace(/^@/,""),c=e.preserveEmpty;return{Once(e){e.walkAtRules(n,t=>{m(t),e[g]=!0})},postcssPlugin:"postcss-nested",RootExit(e){e[g]&&(e.walkAtRules(n,p),e[g]=!1)},Rule(e){let s=!1,u=e,d=!1,p=[];e.each(c=>{"rule"===c.type?(p.length&&(u=l(e.selector,p,u),p=[]),d=!0,s=!0,c.selectors=o(e,c),u=a(c,u)):"atrule"===c.type?(p.length&&(u=l(e.selector,p,u),p=[]),c.name===n?(s=!0,r(e,c,!0,c[f]),u=a(c,u)):t[c.name]?(d=!0,s=!0,r(e,c,!0),u=a(c,u)):i[c.name]?(d=!0,s=!0,r(e,c,!1),u=a(c,u)):d&&p.push(c)):"decl"===c.type&&d&&p.push(c)}),p.length&&(u=l(e.selector,p,u)),s&&!0!==c&&(e.raws.semicolon=!0,0===e.nodes.length&&e.remove())}}},sR.exports.postcss=!0,sR.exports}function sD(){if(sF)return sz;sF=1;var e=/-(\w|$)/g,t=function(e,t){return t.toUpperCase()};return sz=function(r){return"float"===(r=r.toLowerCase())?"cssFloat":45===r.charCodeAt(0)&&109===r.charCodeAt(1)&&115===r.charCodeAt(2)&&45===r.charCodeAt(3)?r.substr(1).replace(e,t):r.replace(e,t)}}function sU(){if(sV)return sq;sV=1;let e=sD(),t={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};function r(e){return typeof e.nodes>"u"||i(e)}function i(n){let o,a={};return n.each(n=>{if("atrule"===n.type)o="@"+n.name,n.params&&(o+=" "+n.params),typeof a[o]>"u"?a[o]=r(n):Array.isArray(a[o])?a[o].push(r(n)):a[o]=[a[o],r(n)];else if("rule"===n.type){let e=i(n);if(a[n.selector])for(let t in e)a[n.selector][t]=e[t];else a[n.selector]=e}else if("decl"===n.type){o="-"===n.prop[0]&&"-"===n.prop[1]||n.parent&&":export"===n.parent.selector?n.prop:e(n.prop);let r=n.value;!isNaN(n.value)&&t[o]&&(r=parseFloat(n.value)),n.important&&(r+=" !important"),typeof a[o]>"u"?a[o]=r:Array.isArray(a[o])?a[o].push(r):a[o]=[a[o],r]}}),a}return sq=i}function sL(){if(sG)return sH;sG=1;let e=rs(),t=/\s*!important\s*$/i,r={"box-flex":!0,"box-flex-group":!0,"column-count":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"font-weight":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"stroke-dashoffset":!0,"stroke-opacity":!0,"stroke-width":!0};function i(e){return e.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function n(n,o,a){!1===a||null===a||(o.startsWith("--")||(o=i(o)),"number"==typeof a&&(0===a||r[o]?a=a.toString():a+="px"),"css-float"===o&&(o="float"),t.test(a)?(a=a.replace(t,""),n.push(e.decl({prop:o,value:a,important:!0}))):n.push(e.decl({prop:o,value:a})))}function o(t,r,i){let n=e.atRule({name:r[1],params:r[3]||""});"object"==typeof i&&(n.nodes=[],a(i,n)),t.push(n)}function a(t,r){let i,s,l;for(i in t)if(!(null===(s=t[i])||typeof s>"u"))if("@"===i[0]){let e=i.match(/@(\S+)(\s+([\W\w]*)\s*)?/);if(Array.isArray(s))for(let t of s)o(r,e,t);else o(r,e,s)}else if(Array.isArray(s))for(let e of s)n(r,i,e);else"object"==typeof s?(a(s,l=e.rule({selector:i})),r.push(l)):n(r,i,s)}return sH=function(t){let r=e.root();return a(t,r),r}}function sK(){if(sZ)return sW;sZ=1;let e=sU();return sW=function(t){return console&&console.warn&&t.warnings().forEach(e=>{console.warn((e.plugin||"PostCSS")+": "+e.text)}),e(t.root)}}function sM(){if(sQ)return sJ;sQ=1;let e=rs(),t=sK(),r=sL();return sJ=function(i){let n=e(i);return async e=>t(await n.process(e,{parser:r,from:void 0}))}}function sB(){if(sX)return sY;sX=1;let e=rs(),t=sK(),r=sL();return sY=function(i){let n=e(i);return e=>t(n.process(e,{parser:r,from:void 0}))}}function sj(){return s1?s0:(s1=1,s0={objectify:sU(),parse:sL(),async:sM(),sync:sB()})}function s$(){return s2||(s2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});let t=n(rs()),r=n(sP()),i=n(sj());function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return Array.isArray(e)?e.flatMap(e=>(0,t.default)([(0,r.default)({bubble:["screen"]})]).process(e,{parser:i.default}).root.nodes):o([e])}}(sN)),sN}var sz,sF,sq,sV,sH,sG,sW,sZ,sJ,sQ,sY,sX,s0,s1,s2,s4,s3={};function s5(){return s4||(s4=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});let t=r(sI());function r(e){return e&&e.__esModule?e:{default:e}}function i(e,r,n=!1){if(""===e)return r;let o="string"==typeof r?(0,t.default)().astSync(r):r;return o.walkClasses(t=>{let r=t.value;t.value=n&&r.startsWith("-")?`-${e}${r.slice(1)}`:`${e}${r}`}),"string"==typeof r?o.toString():o}}(s3)),s3}var s6,s8={};function s9(){return s6||(s6=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{env:function(){return t},contextMap:function(){return r},configContextMap:function(){return i},contextSourcesMap:function(){return n},sourceHashMap:function(){return o},NOT_ON_DEMAND:function(){return a},NONE:function(){return s},resolveDebug:function(){return l}});let t="u">typeof process?{NODE_ENV:"production",DEBUG:l(process.env.DEBUG)}:{NODE_ENV:"production",DEBUG:!1},r=new Map,i=new Map,n=new Map,o=new Map,a=new String("*"),s=Symbol("__NONE__");function l(e){if(void 0===e)return!1;if("true"===e||"1"===e)return!0;if("false"===e||"0"===e)return!1;if("*"===e)return!0;let t=e.split(",").map(e=>e.split(":")[0]);return!t.includes("-tailwindcss")&&!!t.includes("tailwindcss")}}(s8)),s8}var s7,le={},lt={};function lr(){return s7||(s7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=i(sI()),r=i(oj());function i(e){return e&&e.__esModule?e:{default:e}}function n(e){var i,n;let o=t.default.className();return o.value=e,(0,r.default)(null!=(n=null==o||null==(i=o.raws)?void 0:i.value)?n:o.value)}}(lt)),lt}var li,ln={};function lo(){return li||(li=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"movePseudos",{enumerable:!0,get:function(){return r}});let t={"::after":["terminal","jumpable"],"::backdrop":["terminal","jumpable"],"::before":["terminal","jumpable"],"::cue":["terminal"],"::cue-region":["terminal"],"::first-letter":["terminal","jumpable"],"::first-line":["terminal","jumpable"],"::grammar-error":["terminal"],"::marker":["terminal","jumpable"],"::part":["terminal","actionable"],"::placeholder":["terminal","jumpable"],"::selection":["terminal","jumpable"],"::slotted":["terminal"],"::spelling-error":["terminal"],"::target-text":["terminal"],"::file-selector-button":["terminal","actionable"],"::deep":["actionable"],"::v-deep":["actionable"],"::ng-deep":["actionable"],":after":["terminal","jumpable"],":before":["terminal","jumpable"],":first-letter":["terminal","jumpable"],":first-line":["terminal","jumpable"],":where":[],":is":[],":has":[],__default__:["terminal","actionable"]};function r(e){let[t]=i(e);return t.forEach(([e,t])=>e.removeChild(t)),e.nodes.push(...t.map(([,e])=>e)),e}function i(e){let t=[],r=null;for(let l of e.nodes)if("combinator"===l.type)t=t.filter(([,e])=>s(e).includes("jumpable")),r=null;else if("pseudo"===l.type){var n;for(let s of(o(l)?(r=l,t.push([e,l,null])):r&&a(l,r)?t.push([e,l,r]):r=null,null!=(n=l.nodes)?n:[])){let[e,n]=i(s);r=n||r,t.push(...e)}}return[t,r]}function n(e){return e.value.startsWith("::")||void 0!==t[e.value]}function o(e){return n(e)&&s(e).includes("terminal")}function a(e,t){return!("pseudo"!==e.type||n(e))&&s(t).includes("actionable")}function s(e){var r;return null!=(r=t[e.value])?r:t.__default__}}(ln)),ln}function la(){return ls||(ls=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{formatVariantSelector:function(){return u},eliminateIrrelevantSelectors:function(){return p},finalizeSelector:function(){return f},handleMergePseudo:function(){return h}});let t=s(sI()),r=s(ap()),i=s(lr()),n=s(s5()),o=lo(),a=oV();function s(e){return e&&e.__esModule?e:{default:e}}let l=":merge";function u(e,{context:r,candidate:o}){var a;let s=null!=(a=null==r?void 0:r.tailwindConfig.prefix)?a:"",l=e.map(e=>{let r=(0,t.default)().astSync(e.format);return{...e,ast:e.respectPrefix?(0,n.default)(s,r):r}}),u=t.default.root({nodes:[t.default.selector({nodes:[t.default.className({value:(0,i.default)(o)})]})]});for(let{ast:e}of l)[u,e]=h(u,e),e.walkNesting(e=>e.replaceWith(...u.nodes[0].nodes)),u=e;return u}function c(e){let t=[];for(;e.prev()&&"combinator"!==e.prev().type;)e=e.prev();for(;e&&"combinator"!==e.type;)t.push(e),e=e.next();return t}function d(e){return e.sort((t,r)=>"tag"===t.type&&"class"===r.type?-1:"class"===t.type&&"tag"===r.type?1:"class"===t.type&&"pseudo"===r.type&&r.value.startsWith("::")?-1:"pseudo"===t.type&&t.value.startsWith("::")&&"class"===r.type?1:e.index(t)-e.index(r)),e}function p(e,t){let r=!1;e.walk(e=>{if("class"===e.type&&e.value===t)return r=!0,!1}),r||e.remove()}function f(e,n,{context:s,candidate:f,base:h}){var m,g;let y=null!=(g=null==s||null==(m=s.tailwindConfig)?void 0:m.separator)?g:":";h=h??(0,a.splitAtTopLevelOnly)(f,y).pop();let v=(0,t.default)().astSync(e);if(v.walkClasses(e=>{e.raws&&e.value.includes(h)&&(e.raws.value=(0,i.default)((0,r.default)(e.raws.value)))}),v.each(e=>p(e,h)),0===v.length)return null;let b=Array.isArray(n)?u(n,{context:s,candidate:f}):n;if(null===b)return v.toString();let A=t.default.comment({value:"/*__simple__*/"}),w=t.default.comment({value:"/*__simple__*/"});return v.walkClasses(e=>{if(e.value!==h)return;let r=e.parent,i=b.nodes[0].nodes;if(1===r.nodes.length)return void e.replaceWith(...i);let n=c(e);for(let e of(r.insertBefore(n[0],A),r.insertAfter(n[n.length-1],w),i))r.insertBefore(n[0],e.clone());e.remove(),n=c(A);let o=r.index(A);r.nodes.splice(o,n.length,...d(t.default.selector({nodes:n})).nodes),A.remove(),w.remove()}),v.walkPseudos(e=>{e.value===l&&e.replaceWith(e.nodes)}),v.each(e=>(0,o.movePseudos)(e)),v.toString()}function h(e,r){let i=[];return e.walkPseudos(e=>{e.value===l&&i.push({pseudo:e,value:e.nodes[0].toString()})}),r.walkPseudos(e=>{if(e.value!==l)return;let r=e.nodes[0].toString(),n=i.find(e=>e.value===r);if(!n)return;let o=[],a=e.next();for(;a&&"combinator"!==a.type;)o.push(a),a=a.next();let s=a;n.pseudo.parent.insertAfter(n.pseudo,t.default.selector({nodes:o.map(e=>e.clone())})),e.remove(),o.forEach(e=>e.remove()),s&&"combinator"===s.type&&s.remove()}),[e,r]}}(le)),le}var ls,ll,lu={};function lc(){return ll||(ll=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{asClass:function(){return n},default:function(){return o},formatClass:function(){return a}});let t=i(lr()),r=i(oj());function i(e){return e&&e.__esModule?e:{default:e}}function n(e){return(0,r.default)(`.${(0,t.default)(e)}`)}function o(e,t){return n(a(e,t))}function a(e,t){return"DEFAULT"===t?e:"-"===t||"-DEFAULT"===t?`-${e}`:t.startsWith("-")?`-${e}${t}`:t.startsWith("/")?`${e}${t}`:`${e}-${t}`}}(lu)),lu}var ld,lp={},lf={},lh={};function lm(){return ld||(ld=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});let t=r(or());function r(e){return e&&e.__esModule?e:{default:e}}function i(e,r=[[e,[e]]],{filterDefault:n=!1,...o}={}){let a=(0,t.default)(e);return function({matchUtilities:t,theme:i}){for(let l of r){var s;t((Array.isArray(l[0])?l:[l]).reduce((e,[t,r])=>Object.assign(e,{[t]:e=>r.reduce((t,r)=>Array.isArray(r)?Object.assign(t,{[r[0]]:r[1]}):Object.assign(t,{[r]:a(e)}),{})}),{}),{...o,values:n?Object.fromEntries(Object.entries(null!=(s=i(e))?s:{}).filter(([e])=>"DEFAULT"!==e)):i(e)})}}}}(lh)),lh}var lg,ly={};function lv(){return lg||(lg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return d}});let t=new Set(["normal","reverse","alternate","alternate-reverse"]),r=new Set(["running","paused"]),i=new Set(["none","forwards","backwards","both"]),n=new Set(["infinite"]),o=new Set(["linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end"]),a=["cubic-bezier","steps"],s=/\,(?![^(]*\))/g,l=/\ +(?![^(]*\))/g,u=/^(-?[\d.]+m?s)$/,c=/^(\d+)$/;function d(e){return e.split(s).map(e=>{let s=e.trim(),d={value:s},p=s.split(l),f=new Set;for(let e of p)!f.has("DIRECTIONS")&&t.has(e)?(d.direction=e,f.add("DIRECTIONS")):!f.has("PLAY_STATES")&&r.has(e)?(d.playState=e,f.add("PLAY_STATES")):!f.has("FILL_MODES")&&i.has(e)?(d.fillMode=e,f.add("FILL_MODES")):!f.has("ITERATION_COUNTS")&&(n.has(e)||c.test(e))?(d.iterationCount=e,f.add("ITERATION_COUNTS")):!f.has("TIMING_FUNCTION")&&o.has(e)||!f.has("TIMING_FUNCTION")&&a.some(t=>e.startsWith(`${t}(`))?(d.timingFunction=e,f.add("TIMING_FUNCTION")):!f.has("DURATION")&&u.test(e)?(d.duration=e,f.add("DURATION")):!f.has("DELAY")&&u.test(e)?(d.delay=e,f.add("DELAY")):f.has("NAME")?(d.unknown||(d.unknown=[]),d.unknown.push(e)):(d.name=e,f.add("NAME"));return d})}}(ly)),ly}var lb,lA={};function lw(){return lb||(lb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});let t=e=>Object.assign({},...Object.entries(e??{}).flatMap(([e,r])=>"object"==typeof r?Object.entries(t(r)).map(([t,r])=>({[e+("DEFAULT"===t?"":`-${t}`)]:r})):[{[`${e}`]:r}])),r=t}(lA)),lA}var l_,lS={};function lE(){return l_||(l_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e){return"function"==typeof e?e({}):e}}(lS)),lS}let lT={version:"3.4.10"};var lI,lx={};function lO(){return lI||(lI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"removeAlphaVariables",{enumerable:!0,get:function(){return t}});function t(e,t){e.walkDecls(e=>{if(t.includes(e.prop))return void e.remove();for(let r of t)e.value.includes(`/ var(${r})`)&&(e.value=e.value.replace(`/ var(${r})`,""))})}}(lx)),lx}function lC(){return lk||(lk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{variantPlugins:function(){return E},corePlugins:function(){return O}});let t=w(tU),r=S(tU),i=w(rs()),n=w(lm()),o=w(oE()),a=w(lr()),s=w(lv()),l=w(lw()),u=S(oD()),c=w(lE()),d=w(ot()),p=w(or()),f=lT,h=w(o5()),m=ow(),g=oH(),y=lO(),v=o6(),b=oG(),A=lV();function w(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function S(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}let E={childVariant:({addVariant:e})=>{e("*","& > *")},pseudoElementVariants:({addVariant:e})=>{e("first-letter","&::first-letter"),e("first-line","&::first-line"),e("marker",[({container:e})=>((0,y.removeAlphaVariables)(e,["--tw-text-opacity"]),"& *::marker"),({container:e})=>((0,y.removeAlphaVariables)(e,["--tw-text-opacity"]),"&::marker")]),e("selection",["& *::selection","&::selection"]),e("file","&::file-selector-button"),e("placeholder","&::placeholder"),e("backdrop","&::backdrop"),e("before",({container:e})=>(e.walkRules(e=>{let t=!1;e.walkDecls("content",()=>{t=!0}),t||e.prepend(i.default.decl({prop:"content",value:"var(--tw-content)"}))}),"&::before")),e("after",({container:e})=>(e.walkRules(e=>{let t=!1;e.walkDecls("content",()=>{t=!0}),t||e.prepend(i.default.decl({prop:"content",value:"var(--tw-content)"}))}),"&::after"))},pseudoClassVariants:({addVariant:e,matchVariant:t,config:r,prefix:i})=>{let n=[["first","&:first-child"],["last","&:last-child"],["only","&:only-child"],["odd","&:nth-child(odd)"],["even","&:nth-child(even)"],"first-of-type","last-of-type","only-of-type",["visited",({container:e})=>((0,y.removeAlphaVariables)(e,["--tw-text-opacity","--tw-border-opacity","--tw-bg-opacity"]),"&:visited")],"target",["open","&[open]"],"default","checked","indeterminate","placeholder-shown","autofill","optional","required","valid","invalid","in-range","out-of-range","read-only","empty","focus-within",["hover",(0,v.flagEnabled)(r(),"hoverOnlyWhenSupported")?"@media (hover: hover) and (pointer: fine) { &:hover }":"&:hover"],"focus","focus-visible","active","enabled","disabled"].map(e=>Array.isArray(e)?e:[e,`&:${e}`]);for(let[t,r]of n)e(t,e=>"function"==typeof r?r(e):r);for(let[e,r]of Object.entries({group:(e,{modifier:t})=>t?[`:merge(${i(".group")}\\/${(0,a.default)(t)})`," &"]:[`:merge(${i(".group")})`," &"],peer:(e,{modifier:t})=>t?[`:merge(${i(".peer")}\\/${(0,a.default)(t)})`," ~ &"]:[`:merge(${i(".peer")})`," ~ &"]}))t(e,(e="",t)=>{let i=(0,b.normalize)("function"==typeof e?e(t):e);i.includes("&")||(i="&"+i);let[n,o]=r("",t),a=null,s=null,l=0;for(let e=0;e<i.length;++e){let t=i[e];"&"===t?a=e:"'"===t||'"'===t?l+=1:null===a||" "!==t||l||(s=e)}return null!==a&&null===s&&(s=i.length),i.slice(0,a)+n+i.slice(a+1,s)+o+i.slice(s)},{values:Object.fromEntries(n),[A.INTERNAL_FEATURES]:{respectPrefix:!1}})},directionVariants:({addVariant:e})=>{e("ltr",'&:where([dir="ltr"], [dir="ltr"] *)'),e("rtl",'&:where([dir="rtl"], [dir="rtl"] *)')},reducedMotionVariants:({addVariant:e})=>{e("motion-safe","@media (prefers-reduced-motion: no-preference)"),e("motion-reduce","@media (prefers-reduced-motion: reduce)")},darkVariants:({config:e,addVariant:t})=>{let[r,i=".dark"]=[].concat(e("darkMode","media"));if(!1===r&&(r="media",h.default.warn("darkmode-false",["The `darkMode` option in your Tailwind CSS configuration is set to `false`, which now behaves the same as `media`.","Change `darkMode` to `media` or remove it entirely.","https://tailwindcss.com/docs/upgrade-guide#remove-dark-mode-configuration"])),"variant"===r){let e;if(Array.isArray(i)||"function"==typeof i?e=i:"string"==typeof i&&(e=[i]),Array.isArray(e))for(let t of e)".dark"===t?(r=!1,h.default.warn("darkmode-variant-without-selector",["When using `variant` for `darkMode`, you must provide a selector.",'Example: `darkMode: ["variant", ".your-selector &"]`'])):t.includes("&")||(r=!1,h.default.warn("darkmode-variant-without-ampersand",["When using `variant` for `darkMode`, your selector must contain `&`.",'Example `darkMode: ["variant", ".your-selector &"]`']));i=e}"selector"===r?t("dark",`&:where(${i}, ${i} *)`):"media"===r?t("dark","@media (prefers-color-scheme: dark)"):"variant"===r?t("dark",i):"class"===r&&t("dark",`&:is(${i} *)`)},printVariant:({addVariant:e})=>{e("print","@media print")},screenVariants:({theme:e,addVariant:t,matchVariant:r})=>{var i;let n=Object.values(null!=(i=e("screens"))?i:{}).every(e=>"string"==typeof e),a=(0,m.normalizeScreens)(e("screens")),s=new Set([]);function l(e){var t,r;return null!=(r=null==(t=e.match(/(\D+)$/))?void 0:t[1])?r:"(none)"}function u(e){void 0!==e&&s.add(l(e))}function c(e){return u(e),1===s.size}for(let e of a)for(let t of e.values)u(t.min),u(t.max);let d=s.size<=1;function p(e){return Object.fromEntries(a.filter(e=>(0,m.isScreenSortable)(e).result).map(e=>{let{min:t,max:r}=e.values[0];return void 0!==r?e:void 0!==t?{...e,not:!e.not}:void 0}).map(e=>[e.name,e]))}function f(e){return(t,r)=>(0,m.compareScreens)(e,t.value,r.value)}let g=f("max"),y=f("min");function v(e){return t=>n?d?"string"!=typeof t||c(t)?[`@media ${(0,o.default)((0,m.toScreen)(t,e))}`]:(h.default.warn("minmax-have-mixed-units",["The `min-*` and `max-*` variants are not supported with a `screens` configuration containing mixed units."]),[]):(h.default.warn("mixed-screen-units",["The `min-*` and `max-*` variants are not supported with a `screens` configuration containing mixed units."]),[]):(h.default.warn("complex-screen-config",["The `min-*` and `max-*` variants are not supported with a `screens` configuration containing objects."]),[])}r("max",v("max"),{sort:g,values:n?p():{}});let b="min-screens";for(let e of a)t(e.name,`@media ${(0,o.default)(e)}`,{id:b,sort:n&&d?y:void 0,value:e});r("min",v("min"),{id:b,sort:y})},supportsVariants:({matchVariant:e,theme:t})=>{var r;e("supports",(e="")=>{let t=(0,b.normalize)(e),r=/^\w*\s*\(/.test(t);return t=r?t.replace(/\b(and|or|not)\b/g," $1 "):t,r||(t.includes(":")||(t=`${t}: var(--tw)`),t.startsWith("(")&&t.endsWith(")")||(t=`(${t})`)),`@supports ${t}`},{values:null!=(r=t("supports"))?r:{}})},hasVariants:({matchVariant:e,prefix:t})=>{e("has",e=>`&:has(${(0,b.normalize)(e)})`,{values:{},[A.INTERNAL_FEATURES]:{respectPrefix:!1}}),e("group-has",(e,{modifier:r})=>r?`:merge(${t(".group")}\\/${r}):has(${(0,b.normalize)(e)}) &`:`:merge(${t(".group")}):has(${(0,b.normalize)(e)}) &`,{values:{},[A.INTERNAL_FEATURES]:{respectPrefix:!1}}),e("peer-has",(e,{modifier:r})=>r?`:merge(${t(".peer")}\\/${r}):has(${(0,b.normalize)(e)}) ~ &`:`:merge(${t(".peer")}):has(${(0,b.normalize)(e)}) ~ &`,{values:{},[A.INTERNAL_FEATURES]:{respectPrefix:!1}})},ariaVariants:({matchVariant:e,theme:t})=>{var r,i,n;e("aria",e=>`&[aria-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}]`,{values:null!=(r=t("aria"))?r:{}}),e("group-aria",(e,{modifier:t})=>t?`:merge(.group\\/${t})[aria-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] &`:`:merge(.group)[aria-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] &`,{values:null!=(i=t("aria"))?i:{}}),e("peer-aria",(e,{modifier:t})=>t?`:merge(.peer\\/${t})[aria-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] ~ &`:`:merge(.peer)[aria-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] ~ &`,{values:null!=(n=t("aria"))?n:{}})},dataVariants:({matchVariant:e,theme:t})=>{var r,i,n;e("data",e=>`&[data-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}]`,{values:null!=(r=t("data"))?r:{}}),e("group-data",(e,{modifier:t})=>t?`:merge(.group\\/${t})[data-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] &`:`:merge(.group)[data-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] &`,{values:null!=(i=t("data"))?i:{}}),e("peer-data",(e,{modifier:t})=>t?`:merge(.peer\\/${t})[data-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] ~ &`:`:merge(.peer)[data-${(0,b.normalizeAttributeSelectors)((0,b.normalize)(e))}] ~ &`,{values:null!=(n=t("data"))?n:{}})},orientationVariants:({addVariant:e})=>{e("portrait","@media (orientation: portrait)"),e("landscape","@media (orientation: landscape)")},prefersContrastVariants:({addVariant:e})=>{e("contrast-more","@media (prefers-contrast: more)"),e("contrast-less","@media (prefers-contrast: less)")},forcedColorsVariants:({addVariant:e})=>{e("forced-colors","@media (forced-colors: active)")}},T="translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",I="var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)",x="var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)",O={preflight:({addBase:e})=>{let n=i.default.parse(t.default.readFileSync(r.join("/ROOT/node_modules/@react-email/tailwind/dist","./css/preflight.css"),"utf8"));e([i.default.comment({text:`! tailwindcss v${f.version} | MIT License | https://tailwindcss.com`}),...n.nodes])},container:(()=>{function e(t=[]){return t.flatMap(e=>e.values.map(e=>e.min)).filter(e=>void 0!==e)}function t(e,t,r){if(typeof r>"u")return[];if("object"!=typeof r||null===r)return[{screen:"DEFAULT",minWidth:0,padding:r}];let i=[];for(let n of(r.DEFAULT&&i.push({screen:"DEFAULT",minWidth:0,padding:r.DEFAULT}),e))for(let e of t)for(let{min:t}of e.values)t===n&&i.push({minWidth:n,padding:r[e.name]});return i}return function({addComponents:r,theme:i}){let n=(0,m.normalizeScreens)(i("container.screens",i("screens"))),o=e(n),a=t(o,n,i("container.padding")),s=e=>{let t=a.find(t=>t.minWidth===e);return t?{paddingRight:t.padding,paddingLeft:t.padding}:{}},l=Array.from(new Set(o.slice().sort((e,t)=>parseInt(e)-parseInt(t)))).map(e=>({[`@media (min-width: ${e})`]:{".container":{"max-width":e,...s(e)}}}));r([{".container":Object.assign({width:"100%"},i("container.center",!1)?{marginRight:"auto",marginLeft:"auto"}:{},s(0))},...l])}})(),accessibility:({addUtilities:e})=>{e({".sr-only":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},".not-sr-only":{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}})},pointerEvents:({addUtilities:e})=>{e({".pointer-events-none":{"pointer-events":"none"},".pointer-events-auto":{"pointer-events":"auto"}})},visibility:({addUtilities:e})=>{e({".visible":{visibility:"visible"},".invisible":{visibility:"hidden"},".collapse":{visibility:"collapse"}})},position:({addUtilities:e})=>{e({".static":{position:"static"},".fixed":{position:"fixed"},".absolute":{position:"absolute"},".relative":{position:"relative"},".sticky":{position:"sticky"}})},inset:(0,n.default)("inset",[["inset",["inset"]],[["inset-x",["left","right"]],["inset-y",["top","bottom"]]],[["start",["inset-inline-start"]],["end",["inset-inline-end"]],["top",["top"]],["right",["right"]],["bottom",["bottom"]],["left",["left"]]]],{supportsNegativeValues:!0}),isolation:({addUtilities:e})=>{e({".isolate":{isolation:"isolate"},".isolation-auto":{isolation:"auto"}})},zIndex:(0,n.default)("zIndex",[["z",["zIndex"]]],{supportsNegativeValues:!0}),order:(0,n.default)("order",void 0,{supportsNegativeValues:!0}),gridColumn:(0,n.default)("gridColumn",[["col",["gridColumn"]]]),gridColumnStart:(0,n.default)("gridColumnStart",[["col-start",["gridColumnStart"]]],{supportsNegativeValues:!0}),gridColumnEnd:(0,n.default)("gridColumnEnd",[["col-end",["gridColumnEnd"]]],{supportsNegativeValues:!0}),gridRow:(0,n.default)("gridRow",[["row",["gridRow"]]]),gridRowStart:(0,n.default)("gridRowStart",[["row-start",["gridRowStart"]]],{supportsNegativeValues:!0}),gridRowEnd:(0,n.default)("gridRowEnd",[["row-end",["gridRowEnd"]]],{supportsNegativeValues:!0}),float:({addUtilities:e})=>{e({".float-start":{float:"inline-start"},".float-end":{float:"inline-end"},".float-right":{float:"right"},".float-left":{float:"left"},".float-none":{float:"none"}})},clear:({addUtilities:e})=>{e({".clear-start":{clear:"inline-start"},".clear-end":{clear:"inline-end"},".clear-left":{clear:"left"},".clear-right":{clear:"right"},".clear-both":{clear:"both"},".clear-none":{clear:"none"}})},margin:(0,n.default)("margin",[["m",["margin"]],[["mx",["margin-left","margin-right"]],["my",["margin-top","margin-bottom"]]],[["ms",["margin-inline-start"]],["me",["margin-inline-end"]],["mt",["margin-top"]],["mr",["margin-right"]],["mb",["margin-bottom"]],["ml",["margin-left"]]]],{supportsNegativeValues:!0}),boxSizing:({addUtilities:e})=>{e({".box-border":{"box-sizing":"border-box"},".box-content":{"box-sizing":"content-box"}})},lineClamp:({matchUtilities:e,addUtilities:t,theme:r})=>{e({"line-clamp":e=>({overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":`${e}`})},{values:r("lineClamp")}),t({".line-clamp-none":{overflow:"visible",display:"block","-webkit-box-orient":"horizontal","-webkit-line-clamp":"none"}})},display:({addUtilities:e})=>{e({".block":{display:"block"},".inline-block":{display:"inline-block"},".inline":{display:"inline"},".flex":{display:"flex"},".inline-flex":{display:"inline-flex"},".table":{display:"table"},".inline-table":{display:"inline-table"},".table-caption":{display:"table-caption"},".table-cell":{display:"table-cell"},".table-column":{display:"table-column"},".table-column-group":{display:"table-column-group"},".table-footer-group":{display:"table-footer-group"},".table-header-group":{display:"table-header-group"},".table-row-group":{display:"table-row-group"},".table-row":{display:"table-row"},".flow-root":{display:"flow-root"},".grid":{display:"grid"},".inline-grid":{display:"inline-grid"},".contents":{display:"contents"},".list-item":{display:"list-item"},".hidden":{display:"none"}})},aspectRatio:(0,n.default)("aspectRatio",[["aspect",["aspect-ratio"]]]),size:(0,n.default)("size",[["size",["width","height"]]]),height:(0,n.default)("height",[["h",["height"]]]),maxHeight:(0,n.default)("maxHeight",[["max-h",["maxHeight"]]]),minHeight:(0,n.default)("minHeight",[["min-h",["minHeight"]]]),width:(0,n.default)("width",[["w",["width"]]]),minWidth:(0,n.default)("minWidth",[["min-w",["minWidth"]]]),maxWidth:(0,n.default)("maxWidth",[["max-w",["maxWidth"]]]),flex:(0,n.default)("flex"),flexShrink:(0,n.default)("flexShrink",[["flex-shrink",["flex-shrink"]],["shrink",["flex-shrink"]]]),flexGrow:(0,n.default)("flexGrow",[["flex-grow",["flex-grow"]],["grow",["flex-grow"]]]),flexBasis:(0,n.default)("flexBasis",[["basis",["flex-basis"]]]),tableLayout:({addUtilities:e})=>{e({".table-auto":{"table-layout":"auto"},".table-fixed":{"table-layout":"fixed"}})},captionSide:({addUtilities:e})=>{e({".caption-top":{"caption-side":"top"},".caption-bottom":{"caption-side":"bottom"}})},borderCollapse:({addUtilities:e})=>{e({".border-collapse":{"border-collapse":"collapse"},".border-separate":{"border-collapse":"separate"}})},borderSpacing:({addDefaults:e,matchUtilities:t,theme:r})=>{e("border-spacing",{"--tw-border-spacing-x":0,"--tw-border-spacing-y":0}),t({"border-spacing":e=>({"--tw-border-spacing-x":e,"--tw-border-spacing-y":e,"@defaults border-spacing":{},"border-spacing":"var(--tw-border-spacing-x) var(--tw-border-spacing-y)"}),"border-spacing-x":e=>({"--tw-border-spacing-x":e,"@defaults border-spacing":{},"border-spacing":"var(--tw-border-spacing-x) var(--tw-border-spacing-y)"}),"border-spacing-y":e=>({"--tw-border-spacing-y":e,"@defaults border-spacing":{},"border-spacing":"var(--tw-border-spacing-x) var(--tw-border-spacing-y)"})},{values:r("borderSpacing")})},transformOrigin:(0,n.default)("transformOrigin",[["origin",["transformOrigin"]]]),translate:(0,n.default)("translate",[[["translate-x",[["@defaults transform",{}],"--tw-translate-x",["transform",T]]],["translate-y",[["@defaults transform",{}],"--tw-translate-y",["transform",T]]]]],{supportsNegativeValues:!0}),rotate:(0,n.default)("rotate",[["rotate",[["@defaults transform",{}],"--tw-rotate",["transform",T]]]],{supportsNegativeValues:!0}),skew:(0,n.default)("skew",[[["skew-x",[["@defaults transform",{}],"--tw-skew-x",["transform",T]]],["skew-y",[["@defaults transform",{}],"--tw-skew-y",["transform",T]]]]],{supportsNegativeValues:!0}),scale:(0,n.default)("scale",[["scale",[["@defaults transform",{}],"--tw-scale-x","--tw-scale-y",["transform",T]]],[["scale-x",[["@defaults transform",{}],"--tw-scale-x",["transform",T]]],["scale-y",[["@defaults transform",{}],"--tw-scale-y",["transform",T]]]]],{supportsNegativeValues:!0}),transform:({addDefaults:e,addUtilities:t})=>{e("transform",{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1"}),t({".transform":{"@defaults transform":{},transform:T},".transform-cpu":{transform:T},".transform-gpu":{transform:T.replace("translate(var(--tw-translate-x), var(--tw-translate-y))","translate3d(var(--tw-translate-x), var(--tw-translate-y), 0)")},".transform-none":{transform:"none"}})},animation:({matchUtilities:e,theme:t,config:r})=>{var i;let n=e=>(0,a.default)(r("prefix")+e),o=Object.fromEntries(Object.entries(null!=(i=t("keyframes"))?i:{}).map(([e,t])=>[e,{[`@keyframes ${n(e)}`]:t}]));e({animate:e=>{let t=(0,s.default)(e);return[...t.flatMap(e=>o[e.name]),{animation:t.map(({name:e,value:t})=>void 0===e||void 0===o[e]?t:t.replace(e,n(e))).join(", ")}]}},{values:t("animation")})},cursor:(0,n.default)("cursor"),touchAction:({addDefaults:e,addUtilities:t})=>{e("touch-action",{"--tw-pan-x":" ","--tw-pan-y":" ","--tw-pinch-zoom":" "});let r="var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)";t({".touch-auto":{"touch-action":"auto"},".touch-none":{"touch-action":"none"},".touch-pan-x":{"@defaults touch-action":{},"--tw-pan-x":"pan-x","touch-action":r},".touch-pan-left":{"@defaults touch-action":{},"--tw-pan-x":"pan-left","touch-action":r},".touch-pan-right":{"@defaults touch-action":{},"--tw-pan-x":"pan-right","touch-action":r},".touch-pan-y":{"@defaults touch-action":{},"--tw-pan-y":"pan-y","touch-action":r},".touch-pan-up":{"@defaults touch-action":{},"--tw-pan-y":"pan-up","touch-action":r},".touch-pan-down":{"@defaults touch-action":{},"--tw-pan-y":"pan-down","touch-action":r},".touch-pinch-zoom":{"@defaults touch-action":{},"--tw-pinch-zoom":"pinch-zoom","touch-action":r},".touch-manipulation":{"touch-action":"manipulation"}})},userSelect:({addUtilities:e})=>{e({".select-none":{"user-select":"none"},".select-text":{"user-select":"text"},".select-all":{"user-select":"all"},".select-auto":{"user-select":"auto"}})},resize:({addUtilities:e})=>{e({".resize-none":{resize:"none"},".resize-y":{resize:"vertical"},".resize-x":{resize:"horizontal"},".resize":{resize:"both"}})},scrollSnapType:({addDefaults:e,addUtilities:t})=>{e("scroll-snap-type",{"--tw-scroll-snap-strictness":"proximity"}),t({".snap-none":{"scroll-snap-type":"none"},".snap-x":{"@defaults scroll-snap-type":{},"scroll-snap-type":"x var(--tw-scroll-snap-strictness)"},".snap-y":{"@defaults scroll-snap-type":{},"scroll-snap-type":"y var(--tw-scroll-snap-strictness)"},".snap-both":{"@defaults scroll-snap-type":{},"scroll-snap-type":"both var(--tw-scroll-snap-strictness)"},".snap-mandatory":{"--tw-scroll-snap-strictness":"mandatory"},".snap-proximity":{"--tw-scroll-snap-strictness":"proximity"}})},scrollSnapAlign:({addUtilities:e})=>{e({".snap-start":{"scroll-snap-align":"start"},".snap-end":{"scroll-snap-align":"end"},".snap-center":{"scroll-snap-align":"center"},".snap-align-none":{"scroll-snap-align":"none"}})},scrollSnapStop:({addUtilities:e})=>{e({".snap-normal":{"scroll-snap-stop":"normal"},".snap-always":{"scroll-snap-stop":"always"}})},scrollMargin:(0,n.default)("scrollMargin",[["scroll-m",["scroll-margin"]],[["scroll-mx",["scroll-margin-left","scroll-margin-right"]],["scroll-my",["scroll-margin-top","scroll-margin-bottom"]]],[["scroll-ms",["scroll-margin-inline-start"]],["scroll-me",["scroll-margin-inline-end"]],["scroll-mt",["scroll-margin-top"]],["scroll-mr",["scroll-margin-right"]],["scroll-mb",["scroll-margin-bottom"]],["scroll-ml",["scroll-margin-left"]]]],{supportsNegativeValues:!0}),scrollPadding:(0,n.default)("scrollPadding",[["scroll-p",["scroll-padding"]],[["scroll-px",["scroll-padding-left","scroll-padding-right"]],["scroll-py",["scroll-padding-top","scroll-padding-bottom"]]],[["scroll-ps",["scroll-padding-inline-start"]],["scroll-pe",["scroll-padding-inline-end"]],["scroll-pt",["scroll-padding-top"]],["scroll-pr",["scroll-padding-right"]],["scroll-pb",["scroll-padding-bottom"]],["scroll-pl",["scroll-padding-left"]]]]),listStylePosition:({addUtilities:e})=>{e({".list-inside":{"list-style-position":"inside"},".list-outside":{"list-style-position":"outside"}})},listStyleType:(0,n.default)("listStyleType",[["list",["listStyleType"]]]),listStyleImage:(0,n.default)("listStyleImage",[["list-image",["listStyleImage"]]]),appearance:({addUtilities:e})=>{e({".appearance-none":{appearance:"none"},".appearance-auto":{appearance:"auto"}})},columns:(0,n.default)("columns",[["columns",["columns"]]]),breakBefore:({addUtilities:e})=>{e({".break-before-auto":{"break-before":"auto"},".break-before-avoid":{"break-before":"avoid"},".break-before-all":{"break-before":"all"},".break-before-avoid-page":{"break-before":"avoid-page"},".break-before-page":{"break-before":"page"},".break-before-left":{"break-before":"left"},".break-before-right":{"break-before":"right"},".break-before-column":{"break-before":"column"}})},breakInside:({addUtilities:e})=>{e({".break-inside-auto":{"break-inside":"auto"},".break-inside-avoid":{"break-inside":"avoid"},".break-inside-avoid-page":{"break-inside":"avoid-page"},".break-inside-avoid-column":{"break-inside":"avoid-column"}})},breakAfter:({addUtilities:e})=>{e({".break-after-auto":{"break-after":"auto"},".break-after-avoid":{"break-after":"avoid"},".break-after-all":{"break-after":"all"},".break-after-avoid-page":{"break-after":"avoid-page"},".break-after-page":{"break-after":"page"},".break-after-left":{"break-after":"left"},".break-after-right":{"break-after":"right"},".break-after-column":{"break-after":"column"}})},gridAutoColumns:(0,n.default)("gridAutoColumns",[["auto-cols",["gridAutoColumns"]]]),gridAutoFlow:({addUtilities:e})=>{e({".grid-flow-row":{gridAutoFlow:"row"},".grid-flow-col":{gridAutoFlow:"column"},".grid-flow-dense":{gridAutoFlow:"dense"},".grid-flow-row-dense":{gridAutoFlow:"row dense"},".grid-flow-col-dense":{gridAutoFlow:"column dense"}})},gridAutoRows:(0,n.default)("gridAutoRows",[["auto-rows",["gridAutoRows"]]]),gridTemplateColumns:(0,n.default)("gridTemplateColumns",[["grid-cols",["gridTemplateColumns"]]]),gridTemplateRows:(0,n.default)("gridTemplateRows",[["grid-rows",["gridTemplateRows"]]]),flexDirection:({addUtilities:e})=>{e({".flex-row":{"flex-direction":"row"},".flex-row-reverse":{"flex-direction":"row-reverse"},".flex-col":{"flex-direction":"column"},".flex-col-reverse":{"flex-direction":"column-reverse"}})},flexWrap:({addUtilities:e})=>{e({".flex-wrap":{"flex-wrap":"wrap"},".flex-wrap-reverse":{"flex-wrap":"wrap-reverse"},".flex-nowrap":{"flex-wrap":"nowrap"}})},placeContent:({addUtilities:e})=>{e({".place-content-center":{"place-content":"center"},".place-content-start":{"place-content":"start"},".place-content-end":{"place-content":"end"},".place-content-between":{"place-content":"space-between"},".place-content-around":{"place-content":"space-around"},".place-content-evenly":{"place-content":"space-evenly"},".place-content-baseline":{"place-content":"baseline"},".place-content-stretch":{"place-content":"stretch"}})},placeItems:({addUtilities:e})=>{e({".place-items-start":{"place-items":"start"},".place-items-end":{"place-items":"end"},".place-items-center":{"place-items":"center"},".place-items-baseline":{"place-items":"baseline"},".place-items-stretch":{"place-items":"stretch"}})},alignContent:({addUtilities:e})=>{e({".content-normal":{"align-content":"normal"},".content-center":{"align-content":"center"},".content-start":{"align-content":"flex-start"},".content-end":{"align-content":"flex-end"},".content-between":{"align-content":"space-between"},".content-around":{"align-content":"space-around"},".content-evenly":{"align-content":"space-evenly"},".content-baseline":{"align-content":"baseline"},".content-stretch":{"align-content":"stretch"}})},alignItems:({addUtilities:e})=>{e({".items-start":{"align-items":"flex-start"},".items-end":{"align-items":"flex-end"},".items-center":{"align-items":"center"},".items-baseline":{"align-items":"baseline"},".items-stretch":{"align-items":"stretch"}})},justifyContent:({addUtilities:e})=>{e({".justify-normal":{"justify-content":"normal"},".justify-start":{"justify-content":"flex-start"},".justify-end":{"justify-content":"flex-end"},".justify-center":{"justify-content":"center"},".justify-between":{"justify-content":"space-between"},".justify-around":{"justify-content":"space-around"},".justify-evenly":{"justify-content":"space-evenly"},".justify-stretch":{"justify-content":"stretch"}})},justifyItems:({addUtilities:e})=>{e({".justify-items-start":{"justify-items":"start"},".justify-items-end":{"justify-items":"end"},".justify-items-center":{"justify-items":"center"},".justify-items-stretch":{"justify-items":"stretch"}})},gap:(0,n.default)("gap",[["gap",["gap"]],[["gap-x",["columnGap"]],["gap-y",["rowGap"]]]]),space:({matchUtilities:e,addUtilities:t,theme:r})=>{e({"space-x":e=>(e="0"===e?"0px":e,{"& > :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"0","margin-right":`calc(${e} * var(--tw-space-x-reverse))`,"margin-left":`calc(${e} * calc(1 - var(--tw-space-x-reverse)))`}}),"space-y":e=>(e="0"===e?"0px":e,{"& > :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"0","margin-top":`calc(${e} * calc(1 - var(--tw-space-y-reverse)))`,"margin-bottom":`calc(${e} * var(--tw-space-y-reverse))`}})},{values:r("space"),supportsNegativeValues:!0}),t({".space-y-reverse > :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"1"},".space-x-reverse > :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"1"}})},divideWidth:({matchUtilities:e,addUtilities:t,theme:r})=>{e({"divide-x":e=>(e="0"===e?"0px":e,{"& > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-x-reverse":"0","border-right-width":`calc(${e} * var(--tw-divide-x-reverse))`,"border-left-width":`calc(${e} * calc(1 - var(--tw-divide-x-reverse)))`}}),"divide-y":e=>(e="0"===e?"0px":e,{"& > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-y-reverse":"0","border-top-width":`calc(${e} * calc(1 - var(--tw-divide-y-reverse)))`,"border-bottom-width":`calc(${e} * var(--tw-divide-y-reverse))`}})},{values:r("divideWidth"),type:["line-width","length","any"]}),t({".divide-y-reverse > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-y-reverse":"1"},".divide-x-reverse > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-x-reverse":"1"}})},divideStyle:({addUtilities:e})=>{e({".divide-solid > :not([hidden]) ~ :not([hidden])":{"border-style":"solid"},".divide-dashed > :not([hidden]) ~ :not([hidden])":{"border-style":"dashed"},".divide-dotted > :not([hidden]) ~ :not([hidden])":{"border-style":"dotted"},".divide-double > :not([hidden]) ~ :not([hidden])":{"border-style":"double"},".divide-none > :not([hidden]) ~ :not([hidden])":{"border-style":"none"}})},divideColor:({matchUtilities:e,theme:t,corePlugins:r})=>{e({divide:e=>r("divideOpacity")?{"& > :not([hidden]) ~ :not([hidden])":(0,u.default)({color:e,property:"border-color",variable:"--tw-divide-opacity"})}:{"& > :not([hidden]) ~ :not([hidden])":{"border-color":(0,c.default)(e)}}},{values:(({DEFAULT:e,...t})=>t)((0,l.default)(t("divideColor"))),type:["color","any"]})},divideOpacity:({matchUtilities:e,theme:t})=>{e({"divide-opacity":e=>({"& > :not([hidden]) ~ :not([hidden])":{"--tw-divide-opacity":e}})},{values:t("divideOpacity")})},placeSelf:({addUtilities:e})=>{e({".place-self-auto":{"place-self":"auto"},".place-self-start":{"place-self":"start"},".place-self-end":{"place-self":"end"},".place-self-center":{"place-self":"center"},".place-self-stretch":{"place-self":"stretch"}})},alignSelf:({addUtilities:e})=>{e({".self-auto":{"align-self":"auto"},".self-start":{"align-self":"flex-start"},".self-end":{"align-self":"flex-end"},".self-center":{"align-self":"center"},".self-stretch":{"align-self":"stretch"},".self-baseline":{"align-self":"baseline"}})},justifySelf:({addUtilities:e})=>{e({".justify-self-auto":{"justify-self":"auto"},".justify-self-start":{"justify-self":"start"},".justify-self-end":{"justify-self":"end"},".justify-self-center":{"justify-self":"center"},".justify-self-stretch":{"justify-self":"stretch"}})},overflow:({addUtilities:e})=>{e({".overflow-auto":{overflow:"auto"},".overflow-hidden":{overflow:"hidden"},".overflow-clip":{overflow:"clip"},".overflow-visible":{overflow:"visible"},".overflow-scroll":{overflow:"scroll"},".overflow-x-auto":{"overflow-x":"auto"},".overflow-y-auto":{"overflow-y":"auto"},".overflow-x-hidden":{"overflow-x":"hidden"},".overflow-y-hidden":{"overflow-y":"hidden"},".overflow-x-clip":{"overflow-x":"clip"},".overflow-y-clip":{"overflow-y":"clip"},".overflow-x-visible":{"overflow-x":"visible"},".overflow-y-visible":{"overflow-y":"visible"},".overflow-x-scroll":{"overflow-x":"scroll"},".overflow-y-scroll":{"overflow-y":"scroll"}})},overscrollBehavior:({addUtilities:e})=>{e({".overscroll-auto":{"overscroll-behavior":"auto"},".overscroll-contain":{"overscroll-behavior":"contain"},".overscroll-none":{"overscroll-behavior":"none"},".overscroll-y-auto":{"overscroll-behavior-y":"auto"},".overscroll-y-contain":{"overscroll-behavior-y":"contain"},".overscroll-y-none":{"overscroll-behavior-y":"none"},".overscroll-x-auto":{"overscroll-behavior-x":"auto"},".overscroll-x-contain":{"overscroll-behavior-x":"contain"},".overscroll-x-none":{"overscroll-behavior-x":"none"}})},scrollBehavior:({addUtilities:e})=>{e({".scroll-auto":{"scroll-behavior":"auto"},".scroll-smooth":{"scroll-behavior":"smooth"}})},textOverflow:({addUtilities:e})=>{e({".truncate":{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},".overflow-ellipsis":{"text-overflow":"ellipsis"},".text-ellipsis":{"text-overflow":"ellipsis"},".text-clip":{"text-overflow":"clip"}})},hyphens:({addUtilities:e})=>{e({".hyphens-none":{hyphens:"none"},".hyphens-manual":{hyphens:"manual"},".hyphens-auto":{hyphens:"auto"}})},whitespace:({addUtilities:e})=>{e({".whitespace-normal":{"white-space":"normal"},".whitespace-nowrap":{"white-space":"nowrap"},".whitespace-pre":{"white-space":"pre"},".whitespace-pre-line":{"white-space":"pre-line"},".whitespace-pre-wrap":{"white-space":"pre-wrap"},".whitespace-break-spaces":{"white-space":"break-spaces"}})},textWrap:({addUtilities:e})=>{e({".text-wrap":{"text-wrap":"wrap"},".text-nowrap":{"text-wrap":"nowrap"},".text-balance":{"text-wrap":"balance"},".text-pretty":{"text-wrap":"pretty"}})},wordBreak:({addUtilities:e})=>{e({".break-normal":{"overflow-wrap":"normal","word-break":"normal"},".break-words":{"overflow-wrap":"break-word"},".break-all":{"word-break":"break-all"},".break-keep":{"word-break":"keep-all"}})},borderRadius:(0,n.default)("borderRadius",[["rounded",["border-radius"]],[["rounded-s",["border-start-start-radius","border-end-start-radius"]],["rounded-e",["border-start-end-radius","border-end-end-radius"]],["rounded-t",["border-top-left-radius","border-top-right-radius"]],["rounded-r",["border-top-right-radius","border-bottom-right-radius"]],["rounded-b",["border-bottom-right-radius","border-bottom-left-radius"]],["rounded-l",["border-top-left-radius","border-bottom-left-radius"]]],[["rounded-ss",["border-start-start-radius"]],["rounded-se",["border-start-end-radius"]],["rounded-ee",["border-end-end-radius"]],["rounded-es",["border-end-start-radius"]],["rounded-tl",["border-top-left-radius"]],["rounded-tr",["border-top-right-radius"]],["rounded-br",["border-bottom-right-radius"]],["rounded-bl",["border-bottom-left-radius"]]]]),borderWidth:(0,n.default)("borderWidth",[["border",[["@defaults border-width",{}],"border-width"]],[["border-x",[["@defaults border-width",{}],"border-left-width","border-right-width"]],["border-y",[["@defaults border-width",{}],"border-top-width","border-bottom-width"]]],[["border-s",[["@defaults border-width",{}],"border-inline-start-width"]],["border-e",[["@defaults border-width",{}],"border-inline-end-width"]],["border-t",[["@defaults border-width",{}],"border-top-width"]],["border-r",[["@defaults border-width",{}],"border-right-width"]],["border-b",[["@defaults border-width",{}],"border-bottom-width"]],["border-l",[["@defaults border-width",{}],"border-left-width"]]]],{type:["line-width","length"]}),borderStyle:({addUtilities:e})=>{e({".border-solid":{"border-style":"solid"},".border-dashed":{"border-style":"dashed"},".border-dotted":{"border-style":"dotted"},".border-double":{"border-style":"double"},".border-hidden":{"border-style":"hidden"},".border-none":{"border-style":"none"}})},borderColor:({matchUtilities:e,theme:t,corePlugins:r})=>{e({border:e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-color",variable:"--tw-border-opacity"}):{"border-color":(0,c.default)(e)}},{values:(({DEFAULT:e,...t})=>t)((0,l.default)(t("borderColor"))),type:["color","any"]}),e({"border-x":e=>r("borderOpacity")?(0,u.default)({color:e,property:["border-left-color","border-right-color"],variable:"--tw-border-opacity"}):{"border-left-color":(0,c.default)(e),"border-right-color":(0,c.default)(e)},"border-y":e=>r("borderOpacity")?(0,u.default)({color:e,property:["border-top-color","border-bottom-color"],variable:"--tw-border-opacity"}):{"border-top-color":(0,c.default)(e),"border-bottom-color":(0,c.default)(e)}},{values:(({DEFAULT:e,...t})=>t)((0,l.default)(t("borderColor"))),type:["color","any"]}),e({"border-s":e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-inline-start-color",variable:"--tw-border-opacity"}):{"border-inline-start-color":(0,c.default)(e)},"border-e":e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-inline-end-color",variable:"--tw-border-opacity"}):{"border-inline-end-color":(0,c.default)(e)},"border-t":e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-top-color",variable:"--tw-border-opacity"}):{"border-top-color":(0,c.default)(e)},"border-r":e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-right-color",variable:"--tw-border-opacity"}):{"border-right-color":(0,c.default)(e)},"border-b":e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-bottom-color",variable:"--tw-border-opacity"}):{"border-bottom-color":(0,c.default)(e)},"border-l":e=>r("borderOpacity")?(0,u.default)({color:e,property:"border-left-color",variable:"--tw-border-opacity"}):{"border-left-color":(0,c.default)(e)}},{values:(({DEFAULT:e,...t})=>t)((0,l.default)(t("borderColor"))),type:["color","any"]})},borderOpacity:(0,n.default)("borderOpacity",[["border-opacity",["--tw-border-opacity"]]]),backgroundColor:({matchUtilities:e,theme:t,corePlugins:r})=>{e({bg:e=>r("backgroundOpacity")?(0,u.default)({color:e,property:"background-color",variable:"--tw-bg-opacity"}):{"background-color":(0,c.default)(e)}},{values:(0,l.default)(t("backgroundColor")),type:["color","any"]})},backgroundOpacity:(0,n.default)("backgroundOpacity",[["bg-opacity",["--tw-bg-opacity"]]]),backgroundImage:(0,n.default)("backgroundImage",[["bg",["background-image"]]],{type:["lookup","image","url"]}),gradientColorStops:(()=>{function e(e){return(0,u.withAlphaValue)(e,0,"rgb(255 255 255 / 0)")}return function({matchUtilities:t,theme:r,addDefaults:i}){i("gradient-color-stops",{"--tw-gradient-from-position":" ","--tw-gradient-via-position":" ","--tw-gradient-to-position":" "});let n={values:(0,l.default)(r("gradientColorStops")),type:["color","any"]},o={values:r("gradientColorStopPositions"),type:["length","percentage"]};t({from:t=>{let r=e(t);return{"@defaults gradient-color-stops":{},"--tw-gradient-from":`${(0,c.default)(t)} var(--tw-gradient-from-position)`,"--tw-gradient-to":`${r} var(--tw-gradient-to-position)`,"--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)"}}},n),t({from:e=>({"--tw-gradient-from-position":e})},o),t({via:t=>{let r=e(t);return{"@defaults gradient-color-stops":{},"--tw-gradient-to":`${r}  var(--tw-gradient-to-position)`,"--tw-gradient-stops":`var(--tw-gradient-from), ${(0,c.default)(t)} var(--tw-gradient-via-position), var(--tw-gradient-to)`}}},n),t({via:e=>({"--tw-gradient-via-position":e})},o),t({to:e=>({"@defaults gradient-color-stops":{},"--tw-gradient-to":`${(0,c.default)(e)} var(--tw-gradient-to-position)`})},n),t({to:e=>({"--tw-gradient-to-position":e})},o)}})(),boxDecorationBreak:({addUtilities:e})=>{e({".decoration-slice":{"box-decoration-break":"slice"},".decoration-clone":{"box-decoration-break":"clone"},".box-decoration-slice":{"box-decoration-break":"slice"},".box-decoration-clone":{"box-decoration-break":"clone"}})},backgroundSize:(0,n.default)("backgroundSize",[["bg",["background-size"]]],{type:["lookup","length","percentage","size"]}),backgroundAttachment:({addUtilities:e})=>{e({".bg-fixed":{"background-attachment":"fixed"},".bg-local":{"background-attachment":"local"},".bg-scroll":{"background-attachment":"scroll"}})},backgroundClip:({addUtilities:e})=>{e({".bg-clip-border":{"background-clip":"border-box"},".bg-clip-padding":{"background-clip":"padding-box"},".bg-clip-content":{"background-clip":"content-box"},".bg-clip-text":{"background-clip":"text"}})},backgroundPosition:(0,n.default)("backgroundPosition",[["bg",["background-position"]]],{type:["lookup",["position",{preferOnConflict:!0}]]}),backgroundRepeat:({addUtilities:e})=>{e({".bg-repeat":{"background-repeat":"repeat"},".bg-no-repeat":{"background-repeat":"no-repeat"},".bg-repeat-x":{"background-repeat":"repeat-x"},".bg-repeat-y":{"background-repeat":"repeat-y"},".bg-repeat-round":{"background-repeat":"round"},".bg-repeat-space":{"background-repeat":"space"}})},backgroundOrigin:({addUtilities:e})=>{e({".bg-origin-border":{"background-origin":"border-box"},".bg-origin-padding":{"background-origin":"padding-box"},".bg-origin-content":{"background-origin":"content-box"}})},fill:({matchUtilities:e,theme:t})=>{e({fill:e=>({fill:(0,c.default)(e)})},{values:(0,l.default)(t("fill")),type:["color","any"]})},stroke:({matchUtilities:e,theme:t})=>{e({stroke:e=>({stroke:(0,c.default)(e)})},{values:(0,l.default)(t("stroke")),type:["color","url","any"]})},strokeWidth:(0,n.default)("strokeWidth",[["stroke",["stroke-width"]]],{type:["length","number","percentage"]}),objectFit:({addUtilities:e})=>{e({".object-contain":{"object-fit":"contain"},".object-cover":{"object-fit":"cover"},".object-fill":{"object-fit":"fill"},".object-none":{"object-fit":"none"},".object-scale-down":{"object-fit":"scale-down"}})},objectPosition:(0,n.default)("objectPosition",[["object",["object-position"]]]),padding:(0,n.default)("padding",[["p",["padding"]],[["px",["padding-left","padding-right"]],["py",["padding-top","padding-bottom"]]],[["ps",["padding-inline-start"]],["pe",["padding-inline-end"]],["pt",["padding-top"]],["pr",["padding-right"]],["pb",["padding-bottom"]],["pl",["padding-left"]]]]),textAlign:({addUtilities:e})=>{e({".text-left":{"text-align":"left"},".text-center":{"text-align":"center"},".text-right":{"text-align":"right"},".text-justify":{"text-align":"justify"},".text-start":{"text-align":"start"},".text-end":{"text-align":"end"}})},textIndent:(0,n.default)("textIndent",[["indent",["text-indent"]]],{supportsNegativeValues:!0}),verticalAlign:({addUtilities:e,matchUtilities:t})=>{e({".align-baseline":{"vertical-align":"baseline"},".align-top":{"vertical-align":"top"},".align-middle":{"vertical-align":"middle"},".align-bottom":{"vertical-align":"bottom"},".align-text-top":{"vertical-align":"text-top"},".align-text-bottom":{"vertical-align":"text-bottom"},".align-sub":{"vertical-align":"sub"},".align-super":{"vertical-align":"super"}}),t({align:e=>({"vertical-align":e})})},fontFamily:({matchUtilities:e,theme:t})=>{e({font:e=>{let[t,r={}]=Array.isArray(e)&&(0,d.default)(e[1])?e:[e],{fontFeatureSettings:i,fontVariationSettings:n}=r;return{"font-family":Array.isArray(t)?t.join(", "):t,...void 0===i?{}:{"font-feature-settings":i},...void 0===n?{}:{"font-variation-settings":n}}}},{values:t("fontFamily"),type:["lookup","generic-name","family-name"]})},fontSize:({matchUtilities:e,theme:t})=>{e({text:(e,{modifier:t})=>{let[r,i]=Array.isArray(e)?e:[e];if(t)return{"font-size":r,"line-height":t};let{lineHeight:n,letterSpacing:o,fontWeight:a}=(0,d.default)(i)?i:{lineHeight:i};return{"font-size":r,...void 0===n?{}:{"line-height":n},...void 0===o?{}:{"letter-spacing":o},...void 0===a?{}:{"font-weight":a}}}},{values:t("fontSize"),modifiers:t("lineHeight"),type:["absolute-size","relative-size","length","percentage"]})},fontWeight:(0,n.default)("fontWeight",[["font",["fontWeight"]]],{type:["lookup","number","any"]}),textTransform:({addUtilities:e})=>{e({".uppercase":{"text-transform":"uppercase"},".lowercase":{"text-transform":"lowercase"},".capitalize":{"text-transform":"capitalize"},".normal-case":{"text-transform":"none"}})},fontStyle:({addUtilities:e})=>{e({".italic":{"font-style":"italic"},".not-italic":{"font-style":"normal"}})},fontVariantNumeric:({addDefaults:e,addUtilities:t})=>{let r="var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)";e("font-variant-numeric",{"--tw-ordinal":" ","--tw-slashed-zero":" ","--tw-numeric-figure":" ","--tw-numeric-spacing":" ","--tw-numeric-fraction":" "}),t({".normal-nums":{"font-variant-numeric":"normal"},".ordinal":{"@defaults font-variant-numeric":{},"--tw-ordinal":"ordinal","font-variant-numeric":r},".slashed-zero":{"@defaults font-variant-numeric":{},"--tw-slashed-zero":"slashed-zero","font-variant-numeric":r},".lining-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-figure":"lining-nums","font-variant-numeric":r},".oldstyle-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-figure":"oldstyle-nums","font-variant-numeric":r},".proportional-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-spacing":"proportional-nums","font-variant-numeric":r},".tabular-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-spacing":"tabular-nums","font-variant-numeric":r},".diagonal-fractions":{"@defaults font-variant-numeric":{},"--tw-numeric-fraction":"diagonal-fractions","font-variant-numeric":r},".stacked-fractions":{"@defaults font-variant-numeric":{},"--tw-numeric-fraction":"stacked-fractions","font-variant-numeric":r}})},lineHeight:(0,n.default)("lineHeight",[["leading",["lineHeight"]]]),letterSpacing:(0,n.default)("letterSpacing",[["tracking",["letterSpacing"]]],{supportsNegativeValues:!0}),textColor:({matchUtilities:e,theme:t,corePlugins:r})=>{e({text:e=>r("textOpacity")?(0,u.default)({color:e,property:"color",variable:"--tw-text-opacity"}):{color:(0,c.default)(e)}},{values:(0,l.default)(t("textColor")),type:["color","any"]})},textOpacity:(0,n.default)("textOpacity",[["text-opacity",["--tw-text-opacity"]]]),textDecoration:({addUtilities:e})=>{e({".underline":{"text-decoration-line":"underline"},".overline":{"text-decoration-line":"overline"},".line-through":{"text-decoration-line":"line-through"},".no-underline":{"text-decoration-line":"none"}})},textDecorationColor:({matchUtilities:e,theme:t})=>{e({decoration:e=>({"text-decoration-color":(0,c.default)(e)})},{values:(0,l.default)(t("textDecorationColor")),type:["color","any"]})},textDecorationStyle:({addUtilities:e})=>{e({".decoration-solid":{"text-decoration-style":"solid"},".decoration-double":{"text-decoration-style":"double"},".decoration-dotted":{"text-decoration-style":"dotted"},".decoration-dashed":{"text-decoration-style":"dashed"},".decoration-wavy":{"text-decoration-style":"wavy"}})},textDecorationThickness:(0,n.default)("textDecorationThickness",[["decoration",["text-decoration-thickness"]]],{type:["length","percentage"]}),textUnderlineOffset:(0,n.default)("textUnderlineOffset",[["underline-offset",["text-underline-offset"]]],{type:["length","percentage","any"]}),fontSmoothing:({addUtilities:e})=>{e({".antialiased":{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},".subpixel-antialiased":{"-webkit-font-smoothing":"auto","-moz-osx-font-smoothing":"auto"}})},placeholderColor:({matchUtilities:e,theme:t,corePlugins:r})=>{e({placeholder:e=>r("placeholderOpacity")?{"&::placeholder":(0,u.default)({color:e,property:"color",variable:"--tw-placeholder-opacity"})}:{"&::placeholder":{color:(0,c.default)(e)}}},{values:(0,l.default)(t("placeholderColor")),type:["color","any"]})},placeholderOpacity:({matchUtilities:e,theme:t})=>{e({"placeholder-opacity":e=>({"&::placeholder":{"--tw-placeholder-opacity":e}})},{values:t("placeholderOpacity")})},caretColor:({matchUtilities:e,theme:t})=>{e({caret:e=>({"caret-color":(0,c.default)(e)})},{values:(0,l.default)(t("caretColor")),type:["color","any"]})},accentColor:({matchUtilities:e,theme:t})=>{e({accent:e=>({"accent-color":(0,c.default)(e)})},{values:(0,l.default)(t("accentColor")),type:["color","any"]})},opacity:(0,n.default)("opacity",[["opacity",["opacity"]]]),backgroundBlendMode:({addUtilities:e})=>{e({".bg-blend-normal":{"background-blend-mode":"normal"},".bg-blend-multiply":{"background-blend-mode":"multiply"},".bg-blend-screen":{"background-blend-mode":"screen"},".bg-blend-overlay":{"background-blend-mode":"overlay"},".bg-blend-darken":{"background-blend-mode":"darken"},".bg-blend-lighten":{"background-blend-mode":"lighten"},".bg-blend-color-dodge":{"background-blend-mode":"color-dodge"},".bg-blend-color-burn":{"background-blend-mode":"color-burn"},".bg-blend-hard-light":{"background-blend-mode":"hard-light"},".bg-blend-soft-light":{"background-blend-mode":"soft-light"},".bg-blend-difference":{"background-blend-mode":"difference"},".bg-blend-exclusion":{"background-blend-mode":"exclusion"},".bg-blend-hue":{"background-blend-mode":"hue"},".bg-blend-saturation":{"background-blend-mode":"saturation"},".bg-blend-color":{"background-blend-mode":"color"},".bg-blend-luminosity":{"background-blend-mode":"luminosity"}})},mixBlendMode:({addUtilities:e})=>{e({".mix-blend-normal":{"mix-blend-mode":"normal"},".mix-blend-multiply":{"mix-blend-mode":"multiply"},".mix-blend-screen":{"mix-blend-mode":"screen"},".mix-blend-overlay":{"mix-blend-mode":"overlay"},".mix-blend-darken":{"mix-blend-mode":"darken"},".mix-blend-lighten":{"mix-blend-mode":"lighten"},".mix-blend-color-dodge":{"mix-blend-mode":"color-dodge"},".mix-blend-color-burn":{"mix-blend-mode":"color-burn"},".mix-blend-hard-light":{"mix-blend-mode":"hard-light"},".mix-blend-soft-light":{"mix-blend-mode":"soft-light"},".mix-blend-difference":{"mix-blend-mode":"difference"},".mix-blend-exclusion":{"mix-blend-mode":"exclusion"},".mix-blend-hue":{"mix-blend-mode":"hue"},".mix-blend-saturation":{"mix-blend-mode":"saturation"},".mix-blend-color":{"mix-blend-mode":"color"},".mix-blend-luminosity":{"mix-blend-mode":"luminosity"},".mix-blend-plus-darker":{"mix-blend-mode":"plus-darker"},".mix-blend-plus-lighter":{"mix-blend-mode":"plus-lighter"}})},boxShadow:(()=>{let e=(0,p.default)("boxShadow"),t="var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)";return function({matchUtilities:r,addDefaults:i,theme:n}){i("box-shadow",{"--tw-ring-offset-shadow":"0 0 #0000","--tw-ring-shadow":"0 0 #0000","--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000"}),r({shadow:r=>{r=e(r);let i=(0,g.parseBoxShadowValue)(r);for(let e of i)e.valid&&(e.color="var(--tw-shadow-color)");return{"@defaults box-shadow":{},"--tw-shadow":"none"===r?"0 0 #0000":r,"--tw-shadow-colored":"none"===r?"0 0 #0000":(0,g.formatBoxShadowValue)(i),"box-shadow":t}}},{values:n("boxShadow"),type:["shadow"]})}})(),boxShadowColor:({matchUtilities:e,theme:t})=>{e({shadow:e=>({"--tw-shadow-color":(0,c.default)(e),"--tw-shadow":"var(--tw-shadow-colored)"})},{values:(0,l.default)(t("boxShadowColor")),type:["color","any"]})},outlineStyle:({addUtilities:e})=>{e({".outline-none":{outline:"2px solid transparent","outline-offset":"2px"},".outline":{"outline-style":"solid"},".outline-dashed":{"outline-style":"dashed"},".outline-dotted":{"outline-style":"dotted"},".outline-double":{"outline-style":"double"}})},outlineWidth:(0,n.default)("outlineWidth",[["outline",["outline-width"]]],{type:["length","number","percentage"]}),outlineOffset:(0,n.default)("outlineOffset",[["outline-offset",["outline-offset"]]],{type:["length","number","percentage","any"],supportsNegativeValues:!0}),outlineColor:({matchUtilities:e,theme:t})=>{e({outline:e=>({"outline-color":(0,c.default)(e)})},{values:(0,l.default)(t("outlineColor")),type:["color","any"]})},ringWidth:({matchUtilities:e,addDefaults:t,addUtilities:r,theme:i,config:n})=>{let o=(()=>{var e,t;if((0,v.flagEnabled)(n(),"respectDefaultRingColorOpacity"))return i("ringColor.DEFAULT");let r=i("ringOpacity.DEFAULT","0.5");return null!=(e=i("ringColor"))&&e.DEFAULT?(0,u.withAlphaValue)(null==(t=i("ringColor"))?void 0:t.DEFAULT,r,`rgb(147 197 253 / ${r})`):`rgb(147 197 253 / ${r})`})();t("ring-width",{"--tw-ring-inset":" ","--tw-ring-offset-width":i("ringOffsetWidth.DEFAULT","0px"),"--tw-ring-offset-color":i("ringOffsetColor.DEFAULT","#fff"),"--tw-ring-color":o,"--tw-ring-offset-shadow":"0 0 #0000","--tw-ring-shadow":"0 0 #0000","--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000"}),e({ring:e=>({"@defaults ring-width":{},"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":`var(--tw-ring-inset) 0 0 0 calc(${e} + var(--tw-ring-offset-width)) var(--tw-ring-color)`,"box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"})},{values:i("ringWidth"),type:"length"}),r({".ring-inset":{"@defaults ring-width":{},"--tw-ring-inset":"inset"}})},ringColor:({matchUtilities:e,theme:t,corePlugins:r})=>{e({ring:e=>r("ringOpacity")?(0,u.default)({color:e,property:"--tw-ring-color",variable:"--tw-ring-opacity"}):{"--tw-ring-color":(0,c.default)(e)}},{values:Object.fromEntries(Object.entries((0,l.default)(t("ringColor"))).filter(([e])=>"DEFAULT"!==e)),type:["color","any"]})},ringOpacity:e=>{let{config:t}=e;return(0,n.default)("ringOpacity",[["ring-opacity",["--tw-ring-opacity"]]],{filterDefault:!(0,v.flagEnabled)(t(),"respectDefaultRingColorOpacity")})(e)},ringOffsetWidth:(0,n.default)("ringOffsetWidth",[["ring-offset",["--tw-ring-offset-width"]]],{type:"length"}),ringOffsetColor:({matchUtilities:e,theme:t})=>{e({"ring-offset":e=>({"--tw-ring-offset-color":(0,c.default)(e)})},{values:(0,l.default)(t("ringOffsetColor")),type:["color","any"]})},blur:({matchUtilities:e,theme:t})=>{e({blur:e=>({"--tw-blur":""===e.trim()?" ":`blur(${e})`,"@defaults filter":{},filter:I})},{values:t("blur")})},brightness:({matchUtilities:e,theme:t})=>{e({brightness:e=>({"--tw-brightness":`brightness(${e})`,"@defaults filter":{},filter:I})},{values:t("brightness")})},contrast:({matchUtilities:e,theme:t})=>{e({contrast:e=>({"--tw-contrast":`contrast(${e})`,"@defaults filter":{},filter:I})},{values:t("contrast")})},dropShadow:({matchUtilities:e,theme:t})=>{e({"drop-shadow":e=>({"--tw-drop-shadow":Array.isArray(e)?e.map(e=>`drop-shadow(${e})`).join(" "):`drop-shadow(${e})`,"@defaults filter":{},filter:I})},{values:t("dropShadow")})},grayscale:({matchUtilities:e,theme:t})=>{e({grayscale:e=>({"--tw-grayscale":`grayscale(${e})`,"@defaults filter":{},filter:I})},{values:t("grayscale")})},hueRotate:({matchUtilities:e,theme:t})=>{e({"hue-rotate":e=>({"--tw-hue-rotate":`hue-rotate(${e})`,"@defaults filter":{},filter:I})},{values:t("hueRotate"),supportsNegativeValues:!0})},invert:({matchUtilities:e,theme:t})=>{e({invert:e=>({"--tw-invert":`invert(${e})`,"@defaults filter":{},filter:I})},{values:t("invert")})},saturate:({matchUtilities:e,theme:t})=>{e({saturate:e=>({"--tw-saturate":`saturate(${e})`,"@defaults filter":{},filter:I})},{values:t("saturate")})},sepia:({matchUtilities:e,theme:t})=>{e({sepia:e=>({"--tw-sepia":`sepia(${e})`,"@defaults filter":{},filter:I})},{values:t("sepia")})},filter:({addDefaults:e,addUtilities:t})=>{e("filter",{"--tw-blur":" ","--tw-brightness":" ","--tw-contrast":" ","--tw-grayscale":" ","--tw-hue-rotate":" ","--tw-invert":" ","--tw-saturate":" ","--tw-sepia":" ","--tw-drop-shadow":" "}),t({".filter":{"@defaults filter":{},filter:I},".filter-none":{filter:"none"}})},backdropBlur:({matchUtilities:e,theme:t})=>{e({"backdrop-blur":e=>({"--tw-backdrop-blur":""===e.trim()?" ":`blur(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropBlur")})},backdropBrightness:({matchUtilities:e,theme:t})=>{e({"backdrop-brightness":e=>({"--tw-backdrop-brightness":`brightness(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropBrightness")})},backdropContrast:({matchUtilities:e,theme:t})=>{e({"backdrop-contrast":e=>({"--tw-backdrop-contrast":`contrast(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropContrast")})},backdropGrayscale:({matchUtilities:e,theme:t})=>{e({"backdrop-grayscale":e=>({"--tw-backdrop-grayscale":`grayscale(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropGrayscale")})},backdropHueRotate:({matchUtilities:e,theme:t})=>{e({"backdrop-hue-rotate":e=>({"--tw-backdrop-hue-rotate":`hue-rotate(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropHueRotate"),supportsNegativeValues:!0})},backdropInvert:({matchUtilities:e,theme:t})=>{e({"backdrop-invert":e=>({"--tw-backdrop-invert":`invert(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropInvert")})},backdropOpacity:({matchUtilities:e,theme:t})=>{e({"backdrop-opacity":e=>({"--tw-backdrop-opacity":`opacity(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropOpacity")})},backdropSaturate:({matchUtilities:e,theme:t})=>{e({"backdrop-saturate":e=>({"--tw-backdrop-saturate":`saturate(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropSaturate")})},backdropSepia:({matchUtilities:e,theme:t})=>{e({"backdrop-sepia":e=>({"--tw-backdrop-sepia":`sepia(${e})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x})},{values:t("backdropSepia")})},backdropFilter:({addDefaults:e,addUtilities:t})=>{e("backdrop-filter",{"--tw-backdrop-blur":" ","--tw-backdrop-brightness":" ","--tw-backdrop-contrast":" ","--tw-backdrop-grayscale":" ","--tw-backdrop-hue-rotate":" ","--tw-backdrop-invert":" ","--tw-backdrop-opacity":" ","--tw-backdrop-saturate":" ","--tw-backdrop-sepia":" "}),t({".backdrop-filter":{"@defaults backdrop-filter":{},"-webkit-backdrop-filter":x,"backdrop-filter":x},".backdrop-filter-none":{"-webkit-backdrop-filter":"none","backdrop-filter":"none"}})},transitionProperty:({matchUtilities:e,theme:t})=>{let r=t("transitionTimingFunction.DEFAULT"),i=t("transitionDuration.DEFAULT");e({transition:e=>({"transition-property":e,..."none"===e?{}:{"transition-timing-function":r,"transition-duration":i}})},{values:t("transitionProperty")})},transitionDelay:(0,n.default)("transitionDelay",[["delay",["transitionDelay"]]]),transitionDuration:(0,n.default)("transitionDuration",[["duration",["transitionDuration"]]],{filterDefault:!0}),transitionTimingFunction:(0,n.default)("transitionTimingFunction",[["ease",["transitionTimingFunction"]]],{filterDefault:!0}),willChange:(0,n.default)("willChange",[["will-change",["will-change"]]]),contain:({addDefaults:e,addUtilities:t})=>{let r="var(--tw-contain-size) var(--tw-contain-layout) var(--tw-contain-paint) var(--tw-contain-style)";e("contain",{"--tw-contain-size":" ","--tw-contain-layout":" ","--tw-contain-paint":" ","--tw-contain-style":" "}),t({".contain-none":{contain:"none"},".contain-content":{contain:"content"},".contain-strict":{contain:"strict"},".contain-size":{"@defaults contain":{},"--tw-contain-size":"size",contain:r},".contain-inline-size":{"@defaults contain":{},"--tw-contain-size":"inline-size",contain:r},".contain-layout":{"@defaults contain":{},"--tw-contain-layout":"layout",contain:r},".contain-paint":{"@defaults contain":{},"--tw-contain-paint":"paint",contain:r},".contain-style":{"@defaults contain":{},"--tw-contain-style":"style",contain:r}})},content:(0,n.default)("content",[["content",["--tw-content",["content","var(--tw-content)"]]]]),forcedColorAdjust:({addUtilities:e})=>{e({".forced-color-adjust-auto":{"forced-color-adjust":"auto"},".forced-color-adjust-none":{"forced-color-adjust":"none"}})}}}(lf)),lf}var lk,lN,lR={};function lP(){return lN||(lN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=new Map([["{","}"],["[","]"],["(",")"]]),r=new Map(Array.from(t.entries()).map(([e,t])=>[t,e])),i=new Set(['"',"'","`"]);function n(e){let n=[],o=!1;for(let a=0;a<e.length;a++){let s=e[a];if(":"===s&&!o&&0===n.length)return!1;if(i.has(s)&&"\\"!==e[a-1]&&(o=!o),!o&&"\\"!==e[a-1]){if(t.has(s))n.push(s);else if(r.has(s)){let e=r.get(s);if(n.length<=0||n.pop()!==e)return!1}}}return!(n.length>0)}}(lR)),lR}var lD,lU={};function lL(){return lD||(lD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"hasContentChanged",{enumerable:!0,get:function(){return s}});let t=i(tU),r=o(s9());function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function a(e){try{return t.default.createHash("md5").update(e,"utf-8").digest("binary")}catch{return""}}function s(e,t){let i=t.toString();if(!i.includes("@tailwind"))return!1;let n=r.sourceHashMap.get(e),o=a(i),s=n!==o;return r.sourceHashMap.set(e,o),s}}(lU)),lU}var lK,lM={},lB={};function lj(){return lK||(lK=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e){return(e>0n)-(e<0n)}}(lB)),lB}var l$,lz={};function lF(){return l$||(l$=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"remapBitfield",{enumerable:!0,get:function(){return t}});function t(e,t){let r=0n,i=0n;for(let[n,o]of t)e&n&&(r|=n,i|=o);return e&~r|i}}(lz)),lz}function lq(){return lH||(lH=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Offsets",{enumerable:!0,get:function(){return n}});let t=i(lj()),r=lF();function i(e){return e&&e.__esModule?e:{default:e}}class n{constructor(){this.offsets={defaults:0n,base:0n,components:0n,utilities:0n,variants:0n,user:0n},this.layerPositions={defaults:0n,base:1n,components:2n,utilities:3n,user:4n,variants:5n},this.reservedVariantBits=0n,this.variantOffsets=new Map}create(e){return{layer:e,parentLayer:e,arbitrary:0n,variants:0n,parallelIndex:0n,index:this.offsets[e]++,propertyOffset:0n,property:"",options:[]}}arbitraryProperty(e){return{...this.create("utilities"),arbitrary:1n,property:e}}forVariant(e,t=0){let r=this.variantOffsets.get(e);if(void 0===r)throw Error(`Cannot find offset for unknown variant ${e}`);return{...this.create("variants"),variants:r<<BigInt(t)}}applyVariantOffset(e,t,r){return r.variant=t.variants,{...e,layer:"variants",parentLayer:"variants"===e.layer?e.parentLayer:e.layer,variants:e.variants|t.variants,options:r.sort?[].concat(r,e.options):e.options,parallelIndex:o([e.parallelIndex,t.parallelIndex])}}applyParallelOffset(e,t){return{...e,parallelIndex:BigInt(t)}}recordVariants(e,t){for(let r of e)this.recordVariant(r,t(r))}recordVariant(e,t=1){return this.variantOffsets.set(e,1n<<this.reservedVariantBits),this.reservedVariantBits+=BigInt(t),{...this.create("variants"),variants:this.variantOffsets.get(e)}}compare(e,t){if(e.layer!==t.layer)return this.layerPositions[e.layer]-this.layerPositions[t.layer];if(e.parentLayer!==t.parentLayer)return this.layerPositions[e.parentLayer]-this.layerPositions[t.parentLayer];for(let i of e.options)for(let n of t.options){var r;if(i.id!==n.id||!i.sort||!n.sort)continue;let a=null!=(r=o([i.variant,n.variant]))?r:0n,s=~(a|a-1n);if((e.variants&s)!=(t.variants&s))continue;let l=i.sort({value:i.value,modifier:i.modifier},{value:n.value,modifier:n.modifier});if(0!==l)return l}return e.variants!==t.variants?e.variants-t.variants:e.parallelIndex!==t.parallelIndex?e.parallelIndex-t.parallelIndex:e.arbitrary!==t.arbitrary?e.arbitrary-t.arbitrary:e.propertyOffset!==t.propertyOffset?e.propertyOffset-t.propertyOffset:e.index-t.index}recalculateVariantOffsets(){let e=Array.from(this.variantOffsets.entries()).filter(([e])=>e.startsWith("[")).sort(([e],[t])=>a(e,t)),r=e.map(([,e])=>e).sort((e,r)=>(0,t.default)(e-r));return e.map(([,e],t)=>[e,r[t]]).filter(([e,t])=>e!==t)}remapArbitraryVariantOffsets(e){let t=this.recalculateVariantOffsets();return 0===t.length?e:e.map(e=>{let[i,n]=e;return[i={...i,variants:(0,r.remapBitfield)(i.variants,t)},n]})}sortArbitraryProperties(e){let t=new Set;for(let[r]of e)1n===r.arbitrary&&t.add(r.property);if(0===t.size)return e;let r=Array.from(t).sort(),i=new Map,n=1n;for(let e of r)i.set(e,n++);return e.map(e=>{var t;let[r,n]=e;return[r={...r,propertyOffset:null!=(t=i.get(r.property))?t:0n},n]})}sort(e){return e=this.remapArbitraryVariantOffsets(e),(e=this.sortArbitraryProperties(e)).sort(([e],[r])=>(0,t.default)(this.compare(e,r)))}}function o(e){let t=null;for(let r of e)t=(t=t??r)>r?t:r;return t}function a(e,t){let r=e.length,i=t.length,n=r<i?r:i;for(let r=0;r<n;r++){let i=e.charCodeAt(r)-t.charCodeAt(r);if(0!==i)return i}return r-i}}(lM)),lM}function lV(){return lG||(lG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{INTERNAL_FEATURES:function(){return x},isValidVariantFormatString:function(){return j},parseVariant:function(){return $},getFileModifiedMap:function(){return q},createContext:function(){return Y},getContext:function(){return er}});let t=E(tU),r=E(tU),i=E(rs()),n=E(n3()),o=E(sI()),a=E(or()),s=E(s$()),l=E(s5()),u=E(ot()),c=E(lr()),d=I(lc()),p=o8(),f=lC(),h=I(s9()),m=ox(),g=E(o5()),y=E(oY()),v=E(lP()),b=lQ(),A=lL(),w=lq(),_=o6(),S=la();function E(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function I(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}let x=Symbol(),O={MatchVariant:Symbol.for("MATCH_VARIANT")},C=1,k=2;function N(e,t){let r=e.tailwindConfig.prefix;return"function"==typeof r?r(t):r+t}function R({type:e="any",...t}){let r=[].concat(e);return{...t,types:r.map(e=>Array.isArray(e)?{type:e[0],...e[1]}:{type:e,preferOnConflict:!1})}}function P(e){let t=[],r="",i=0;for(let n=0;n<e.length;n++){let o=e[n];if("\\"===o)r+="\\"+e[++n];else if("{"===o)++i,t.push(r.trim()),r="";else if("}"===o){if(--i<0)throw Error("Your { and } are unbalanced.");t.push(r.trim()),r=""}else r+=o}return r.length>0&&t.push(r.trim()),t=t.filter(e=>""!==e)}function D(e,t,{before:r=[]}={}){if((r=[].concat(r)).length<=0)return void e.push(t);let i=e.length-1;for(let t of r){let r=e.indexOf(t);-1!==r&&(i=Math.min(i,r))}e.splice(i,0,t)}function U(e){return Array.isArray(e)?e.flatMap(e=>Array.isArray(e)||(0,u.default)(e)?(0,s.default)(e):e):U([e])}function L(e,t){return(0,o.default)(e=>{let r=[];return t&&t(e),e.walkClasses(e=>{r.push(e.value)}),r}).transformSync(e)}function K(e){e.walkPseudos(e=>{":not"===e.value&&e.remove()})}function M(e,t={containsNonOnDemandable:!1},r=0){let i=[],n=[];for(let r of("rule"===e.type?n.push(...e.selectors):"atrule"===e.type&&e.walkRules(e=>n.push(...e.selectors)),n)){let e=L(r,K);for(let r of(0===e.length&&(t.containsNonOnDemandable=!0),e))i.push(r)}return 0===r?[t.containsNonOnDemandable||0===i.length,i]:i}function B(e){return U(e).flatMap(e=>{let t=new Map,[r,i]=M(e);return r&&i.unshift(h.NOT_ON_DEMAND),i.map(r=>(t.has(e)||t.set(e,e),[r,t.get(e)]))})}function j(e){return e.startsWith("@")||e.includes("&")}function $(e){let t=P(e=e.replace(/\n+/g,"").replace(/\s{1,}/g," ").trim()).map(e=>{var t;if(!e.startsWith("@"))return({format:t})=>t(e);let[,r,n]=/@(\S*)( .+|[({].*)?/g.exec(e);return({wrap:e})=>e(i.default.atRule({name:r,params:null!=(t=null==n?void 0:n.trim())?t:""}))}).reverse();return e=>{for(let r of t)r(e)}}function z(e,t,{variantList:r,variantMap:o,offsets:s,classList:u}){function f(t,r){return t?(0,n.default)(e,t,r):e}function y(t){return(0,l.default)(e.prefix,t)}function b(e,r){return e===h.NOT_ON_DEMAND?h.NOT_ON_DEMAND:r.respectPrefix?t.tailwindConfig.prefix+e:e}function A(e,t,r={}){let i=(0,m.toPath)(e),n=f(["theme",...i],t);return(0,a.default)(i[0])(n,r)}let w=0,S={postcss:i.default,prefix:y,e:c.default,config:f,theme:A,corePlugins:t=>Array.isArray(e.corePlugins)?e.corePlugins.includes(t):f(["corePlugins",t],!0),variants:()=>[],addBase(e){for(let[r,i]of B(e)){let e=b(r,{}),n=s.create("base");t.candidateRuleMap.has(e)||t.candidateRuleMap.set(e,[]),t.candidateRuleMap.get(e).push([{sort:n,layer:"base"},i])}},addDefaults(e,r){for(let[i,n]of B({[`@defaults ${e}`]:r})){let e=b(i,{});t.candidateRuleMap.has(e)||t.candidateRuleMap.set(e,[]),t.candidateRuleMap.get(e).push([{sort:s.create("defaults"),layer:"defaults"},n])}},addComponents(e,r){for(let[i,n]of(r=Object.assign({},{preserveSource:!1,respectPrefix:!0,respectImportant:!1},Array.isArray(r)?{}:r),B(e))){let e=b(i,r);u.add(e),t.candidateRuleMap.has(e)||t.candidateRuleMap.set(e,[]),t.candidateRuleMap.get(e).push([{sort:s.create("components"),layer:"components",options:r},n])}},addUtilities(e,r){for(let[i,n]of(r=Object.assign({},{preserveSource:!1,respectPrefix:!0,respectImportant:!0},Array.isArray(r)?{}:r),B(e))){let e=b(i,r);u.add(e),t.candidateRuleMap.has(e)||t.candidateRuleMap.set(e,[]),t.candidateRuleMap.get(e).push([{sort:s.create("utilities"),layer:"utilities",options:r},n])}},matchUtilities:function(r,i){i=R({respectPrefix:!0,respectImportant:!0,modifiers:!1,...i});let n=s.create("utilities");for(let o in r){let a=function(t,{isOnlyPlugin:r}){let[n,a,s]=(0,p.coerceValue)(i.types,t,i,e);if(void 0===n)return[];if(!i.types.some(({type:e})=>e===a))if(!r)return[];else g.default.warn([`Unnecessary typehint \`${a}\` in \`${o}-${t}\`.`,`You can safely update it to \`${o}-${t.replace(a+":","")}\`.`]);if(!(0,v.default)(n))return[];let u={get modifier(){return i.modifiers||g.default.warn(`modifier-used-without-options-for-${o}`,["Your plugin must set `modifiers: true` in its options to support modifiers."]),s}};return[].concat((0,_.flagEnabled)(e,"generalizedModifiers")?l(n,u):l(n)).filter(Boolean).map(e=>({[(0,d.default)(o,t)]:e}))},s=b(o,i),l=r[o];u.add([s,i]);let c=[{sort:n,layer:"utilities",options:i},a];t.candidateRuleMap.has(s)||t.candidateRuleMap.set(s,[]),t.candidateRuleMap.get(s).push(c)}},matchComponents:function(r,i){i=R({respectPrefix:!0,respectImportant:!1,modifiers:!1,...i});let n=s.create("components");for(let o in r){let a=function(t,{isOnlyPlugin:r}){let[n,a,s]=(0,p.coerceValue)(i.types,t,i,e);if(void 0===n)return[];if(!i.types.some(({type:e})=>e===a))if(!r)return[];else g.default.warn([`Unnecessary typehint \`${a}\` in \`${o}-${t}\`.`,`You can safely update it to \`${o}-${t.replace(a+":","")}\`.`]);if(!(0,v.default)(n))return[];let u={get modifier(){return i.modifiers||g.default.warn(`modifier-used-without-options-for-${o}`,["Your plugin must set `modifiers: true` in its options to support modifiers."]),s}};return[].concat((0,_.flagEnabled)(e,"generalizedModifiers")?l(n,u):l(n)).filter(Boolean).map(e=>({[(0,d.default)(o,t)]:e}))},s=b(o,i),l=r[o];u.add([s,i]);let c=[{sort:n,layer:"components",options:i},a];t.candidateRuleMap.has(s)||t.candidateRuleMap.set(s,[]),t.candidateRuleMap.get(s).push(c)}},addVariant(e,i,n={}){i=[].concat(i).map(t=>{if("string"!=typeof t)return (r={})=>{let{args:i,modifySelectors:o,container:a,separator:s,wrap:l,format:u}=r,c=t(Object.assign({modifySelectors:o,container:a,separator:s},n.type===O.MatchVariant&&{args:i,wrap:l,format:u}));if("string"==typeof c&&!j(c))throw Error(`Your custom variant \`${e}\` has an invalid format string. Make sure it's an at-rule or contains a \`&\` placeholder.`);return Array.isArray(c)?c.filter(e=>"string"==typeof e).map(e=>$(e)):c&&"string"==typeof c&&$(c)(r)};if(!j(t))throw Error(`Your custom variant \`${e}\` has an invalid format string. Make sure it's an at-rule or contains a \`&\` placeholder.`);return $(t)}),D(r,e,n),o.set(e,i),t.variantOptions.set(e,n)},matchVariant(t,r,i){var n,o,a;let s=null!=(n=null==i?void 0:i.id)?n:++w,l="@"===t,u=(0,_.flagEnabled)(e,"generalizedModifiers");for(let[e,n]of Object.entries(null!=(o=null==i?void 0:i.values)?o:{}))"DEFAULT"!==e&&S.addVariant(l?`${t}${e}`:`${t}-${e}`,({args:e,container:t})=>r(n,u?{modifier:null==e?void 0:e.modifier,container:t}:{container:t}),{...i,value:n,id:s,type:O.MatchVariant,variantInfo:C});let c="DEFAULT"in(null!=(a=null==i?void 0:i.values)?a:{});S.addVariant(t,({args:e,container:t})=>{var n;return(null==e?void 0:e.value)!==h.NONE||c?r((null==e?void 0:e.value)===h.NONE?i.values.DEFAULT:null!=(n=null==e?void 0:e.value)?n:"string"==typeof e?e:"",u?{modifier:null==e?void 0:e.modifier,container:t}:{container:t}):null},{...i,id:s,type:O.MatchVariant,variantInfo:k})}};return S}let F=new WeakMap;function q(e){return F.has(e)||F.set(e,new Map),F.get(e)}function V(e,i){let n=!1,o=new Map;for(let s of e){var a;if(!s)continue;let e=r.default.parse(s),l=e.hash?e.href.replace(e.hash,""):e.href;l=e.search?l.replace(e.search,""):l;let u=null==(a=t.default.statSync(decodeURIComponent(l),{throwIfNoEntry:!1}))?void 0:a.mtimeMs;u&&((!i.has(s)||u>i.get(s))&&(n=!0),o.set(s,u))}return[n,o]}function H(e){e.walkAtRules(e=>{["responsive","variants"].includes(e.name)&&(H(e),e.before(e.nodes),e.remove())})}function G(e){let t=[];return e.each(e=>{"atrule"===e.type&&["responsive","variants"].includes(e.name)&&(e.name="layer",e.params="utilities")}),e.walkAtRules("layer",e=>{if(H(e),"base"===e.params){for(let r of e.nodes)t.push(function({addBase:e}){e(r,{respectPrefix:!1})});e.remove()}else if("components"===e.params){for(let r of e.nodes)t.push(function({addComponents:e}){e(r,{respectPrefix:!1,preserveSource:!0})});e.remove()}else if("utilities"===e.params){for(let r of e.nodes)t.push(function({addUtilities:e}){e(r,{respectPrefix:!1,preserveSource:!0})});e.remove()}}),t}function W(e,t){let r=Object.entries({...f.variantPlugins,...f.corePlugins}).map(([t,r])=>e.tailwindConfig.corePlugins.includes(t)?r:null).filter(Boolean),i=e.tailwindConfig.plugins.map(e=>(e.__isOptionsFunction&&(e=e()),"function"==typeof e?e:e.handler)),n=G(t),o=[f.variantPlugins.childVariant,f.variantPlugins.pseudoElementVariants,f.variantPlugins.pseudoClassVariants,f.variantPlugins.hasVariants,f.variantPlugins.ariaVariants,f.variantPlugins.dataVariants],a=[f.variantPlugins.supportsVariants,f.variantPlugins.reducedMotionVariants,f.variantPlugins.prefersContrastVariants,f.variantPlugins.screenVariants,f.variantPlugins.orientationVariants,f.variantPlugins.directionVariants,f.variantPlugins.darkVariants,f.variantPlugins.forcedColorsVariants,f.variantPlugins.printVariant];return("class"===e.tailwindConfig.darkMode||Array.isArray(e.tailwindConfig.darkMode)&&"class"===e.tailwindConfig.darkMode[0])&&(a=[f.variantPlugins.supportsVariants,f.variantPlugins.reducedMotionVariants,f.variantPlugins.prefersContrastVariants,f.variantPlugins.darkVariants,f.variantPlugins.screenVariants,f.variantPlugins.orientationVariants,f.variantPlugins.directionVariants,f.variantPlugins.forcedColorsVariants,f.variantPlugins.printVariant]),[...r,...o,...i,...a,...n]}function Z(e,t){var r,n,a;let s=[],l=new Map;t.variantMap=l;let u=new w.Offsets;t.offsets=u;let c=new Set,p=z(t.tailwindConfig,t,{variantList:s,variantMap:l,offsets:u,classList:c});for(let t of e)if(Array.isArray(t))for(let e of t)e(p);else null==t||t(p);for(let[e,r]of(u.recordVariants(s,e=>l.get(e).length),l.entries()))t.variantMap.set(e,r.map((t,r)=>[u.forVariant(e,r),t]));let f=(null!=(r=t.tailwindConfig.safelist)?r:[]).filter(Boolean);if(f.length>0){let e=[];for(let r of f){if("string"==typeof r){t.changedContent.push({content:r,extension:"html"});continue}if(r instanceof RegExp){g.default.warn("root-regex",["Regular expressions in `safelist` work differently in Tailwind CSS v3.0.","Update your `safelist` configuration to eliminate this warning.","https://tailwindcss.com/docs/content-configuration#safelisting-classes"]);continue}e.push(r)}if(e.length>0){let r=new Map,i=t.tailwindConfig.prefix.length,n=e.some(e=>e.pattern.source.includes("!"));for(let o of c)for(let a of Array.isArray(o)?(()=>{var e;let[r,a]=o,s=Object.keys(null!=(e=null==a?void 0:a.values)?e:{}).map(e=>(0,d.formatClass)(r,e));return null!=a&&a.supportsNegativeValues&&(s=[...s=[...s,...s.map(e=>"-"+e)],...s.map(e=>e.slice(0,i)+"-"+e.slice(i))]),a.types.some(({type:e})=>"color"===e)&&(s=[...s,...s.flatMap(e=>Object.keys(t.tailwindConfig.theme.opacity).map(t=>`${e}/${t}`))]),n&&null!=a&&a.respectImportant&&(s=[...s,...s.map(e=>"!"+e)]),s})():[o])for(let{pattern:i,variants:n=[]}of e)if(i.lastIndex=0,r.has(i)||r.set(i,0),i.test(a))for(let e of(r.set(i,r.get(i)+1),t.changedContent.push({content:a,extension:"html"}),n))t.changedContent.push({content:e+t.tailwindConfig.separator+a,extension:"html"});for(let[e,t]of r.entries())0===t&&g.default.warn([`The safelist pattern \`${e}\` doesn't match any Tailwind CSS classes.`,"Fix this pattern or remove it from your `safelist` configuration.","https://tailwindcss.com/docs/content-configuration#safelisting-classes"])}}let h=null!=(a=[].concat(null!=(n=t.tailwindConfig.darkMode)?n:"media")[1])?a:"dark",m=[N(t,h),N(t,"group"),N(t,"peer")];t.getClassOrder=function(e){let r=[...e].sort((e,t)=>e===t?0:e<t?-1:1),i=new Map(r.map(e=>[e,null])),n=(0,b.generateRules)(new Set(r),t,!0);n=t.offsets.sort(n);let o=BigInt(m.length);for(let[,e]of n){var a;let t=e.raws.tailwind.candidate;i.set(t,null!=(a=i.get(t))?a:o++)}return e.map(e=>{var t;let r=null!=(t=i.get(e))?t:null,n=m.indexOf(e);return null===r&&-1!==n&&(r=BigInt(n)),[e,r]})},t.getClassList=function(e={}){let r=[];for(let s of c)if(Array.isArray(s)){var i,n,o,a;let[l,u]=s,c=[],p=Object.keys(null!=(n=null==u?void 0:u.modifiers)?n:{});null!=u&&null!=(i=u.types)&&i.some(({type:e})=>"color"===e)&&p.push(...Object.keys(null!=(o=t.tailwindConfig.theme.opacity)?o:{}));let f={modifiers:p},h=e.includeMetadata&&p.length>0;for(let[e,t]of Object.entries(null!=(a=null==u?void 0:u.values)?a:{})){if(null==t)continue;let i=(0,d.formatClass)(l,e);if(r.push(h?[i,f]:i),null!=u&&u.supportsNegativeValues&&(0,y.default)(t)){let t=(0,d.formatClass)(l,`-${e}`);c.push(h?[t,f]:t)}}r.push(...c)}else r.push(s);return r},t.getVariants=function(){let e=Math.random().toString(36).substring(7).toUpperCase(),r=[];for(let[a,s]of t.variantOptions.entries())if(s.variantInfo!==C){var n;r.push({name:a,isArbitrary:s.type===Symbol.for("MATCH_VARIANT"),values:Object.keys(null!=(n=s.values)?n:{}),hasDash:"@"!==a,selectors({modifier:r,value:n}={}){var l,u,c,d,p;let f=`TAILWINDPLACEHOLDER${e}`,h=i.default.rule({selector:`.${f}`}),m=i.default.root({nodes:[h.clone()]}),g=m.toString(),y=(null!=(l=t.variantMap.get(a))?l:[]).flatMap(([e,t])=>t),v=[];for(let e of y){let i=[],o={args:{modifier:r,value:null!=(c=null==(u=s.values)?void 0:u[n])?c:n},separator:t.tailwindConfig.separator,modifySelectors:e=>(m.each(t=>{"rule"===t.type&&(t.selectors=t.selectors.map(t=>e({get className(){return(0,b.getClassNameFromSelector)(t)},selector:t})))}),m),format(e){i.push(e)},wrap(e){i.push(`@${e.name} ${e.params} { & }`)},container:m},a=e(o);if(i.length>0&&v.push(i),Array.isArray(a))for(let e of a)i=[],e(o),v.push(i)}let A=[];g!==m.toString()&&(m.walkRules(e=>{let r=e.selector,i=(0,o.default)(e=>{e.walkClasses(e=>{e.value=`${a}${t.tailwindConfig.separator}${e.value}`})}).processSync(r);A.push(r.replace(i,"&").replace(f,"&"))}),m.walkAtRules(e=>{A.push(`@${e.name} (${e.params}) { & }`)}));let w=!(n in(null!=(d=s.values)?d:{})),_=null!=(p=s[x])?p:{},E=!(w||!1===_.respectPrefix);v=v.map(e=>e.map(e=>({format:e,respectPrefix:E}))),A=A.map(e=>({format:e,respectPrefix:E}));let T={candidate:f,context:t},I=v.map(e=>(0,S.finalizeSelector)(`.${f}`,(0,S.formatVariantSelector)(e,T),T).replace(`.${f}`,"&").replace("{ & }","").trim());return A.length>0&&I.push((0,S.formatVariantSelector)(A,T).toString().replace(`.${f}`,"&")),I}})}return r}}function J(e,t){e.classCache.has(t)&&(e.notClassCache.add(t),e.classCache.delete(t),e.applyClassCache.delete(t),e.candidateRuleMap.delete(t),e.candidateRuleCache.delete(t),e.stylesheetCache=null)}function Q(e,t){let r=t.raws.tailwind.candidate;if(r){for(let t of e.ruleCache)t[1].raws.tailwind.candidate===r&&e.ruleCache.delete(t);J(e,r)}}function Y(e,t=[],r=i.default.root()){var n;let o={disposables:[],ruleCache:new Set,candidateRuleCache:new Map,classCache:new Map,applyClassCache:new Map,notClassCache:new Set(null!=(n=e.blocklist)?n:[]),postCssNodeCache:new Map,candidateRuleMap:new Map,tailwindConfig:e,changedContent:t,variantMap:new Map,stylesheetCache:null,variantOptions:new Map,markInvalidUtilityCandidate:e=>J(o,e),markInvalidUtilityNode:e=>Q(o,e)};return Z(W(o,r),o),o}let X=h.contextMap,ee=h.configContextMap,et=h.contextSourcesMap;function er(e,t,r,i,n,o){let a,s=t.opts.from,l=null!==i;if(h.env.DEBUG&&console.log("Source path:",s),l&&X.has(s))a=X.get(s);else if(ee.has(n)){let e=ee.get(n);et.get(e).add(s),X.set(s,e),a=e}let u=(0,A.hasContentChanged)(s,e);if(a){let[e,t]=V([...o],q(a));if(!e&&!u)return[a,!1,t]}if(X.has(s)){let e=X.get(s);if(et.has(e)&&(et.get(e).delete(s),0===et.get(e).size)){for(let[t,r]of(et.delete(e),ee))r===e&&ee.delete(t);for(let t of e.disposables.splice(0))t(e)}}h.env.DEBUG&&console.log("Setting up new context...");let c=Y(r,[],e);Object.assign(c,{userConfigPath:i});let[,d]=V([...o],q(c));return ee.set(n,c),X.set(s,c),et.has(c)||et.set(c,new Set),et.get(c).add(s),[c,!0,d]}}(lp)),lp}var lH,lG,lW,lZ={};function lJ(){return lW||(lW=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"applyImportantSelector",{enumerable:!0,get:function(){return n}});let t=i(sI()),r=lo();function i(e){return e&&e.__esModule?e:{default:e}}function n(e,i){let n=(0,t.default)().astSync(e);return n.each(e=>{e.nodes.some(e=>"combinator"===e.type)&&(e.nodes=[t.default.pseudo({value:":is",nodes:[e.clone()]})]),(0,r.movePseudos)(e)}),`${i} ${n.toString()}`}}(lZ)),lZ}function lQ(){return lX||(lX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{getClassNameFromSelector:function(){return w},resolveMatches:function(){return L},generateRules:function(){return j}});let t=y(rs()),r=y(sI()),i=y(s$()),n=y(ot()),o=y(s5()),a=o8(),s=y(o5()),l=b(s9()),u=la(),c=lc(),d=oG(),p=lV(),f=y(lP()),h=oV(),m=o6(),g=lJ();function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}let A=(0,r.default)(e=>e.first.filter(({type:e})=>"class"===e).pop().value);function w(e){return A.transformSync(e)}function*_(e){let t=1/0;for(;t>=0;){let r,i=!1;if(t===1/0&&e.endsWith("]")){let t=e.indexOf("[");"-"===e[t-1]?r=t-1:"/"===e[t-1]?(r=t-1,i=!0):r=-1}else t===1/0&&e.includes("/")?(r=e.lastIndexOf("/"),i=!0):r=e.lastIndexOf("-",t);if(r<0)break;let n=e.slice(0,r),o=e.slice(i?r:r+1);t=r-1,""!==n&&"/"!==o&&(yield[n,o])}}function S(e,r){if(0===e.length||""===r.tailwindConfig.prefix)return e;for(let i of e){let[e]=i;if(e.options.respectPrefix){let e=t.default.root({nodes:[i[1].clone()]}),n=i[1].raws.tailwind.classCandidate;e.walkRules(e=>{let t=n.startsWith("-");e.selector=(0,o.default)(r.tailwindConfig.prefix,e.selector,t)}),i[1]=e.nodes[0]}}return e}function E(e,i){if(0===e.length)return e;let n=[];function o(e){return e.parent&&"atrule"===e.parent.type&&"keyframes"===e.parent.name}for(let[s,l]of e){let e=t.default.root({nodes:[l.clone()]});e.walkRules(e=>{if(o(e))return;let t=(0,r.default)().astSync(e.selector);t.each(e=>(0,u.eliminateIrrelevantSelectors)(e,i)),(0,a.updateAllClasses)(t,e=>e===i?`!${e}`:e),e.selector=t.toString(),e.walkDecls(e=>e.important=!0)}),n.push([{...s,important:!0},e.nodes[0]])}return n}function T(e,i,n){if(0===i.length)return i;let o={modifier:null,value:l.NONE};{let[t,...r]=(0,h.splitAtTopLevelOnly)(e,"/");if(r.length>1&&(t=t+"/"+r.slice(0,-1).join("/"),r=r.slice(-1)),r.length&&!n.variantMap.has(e)&&(e=t,o.modifier=r[0],!(0,m.flagEnabled)(n.tailwindConfig,"generalizedModifiers")))return[]}if(e.endsWith("]")&&!e.startsWith("[")){let t=/(.)(-?)\[(.*)\]/g.exec(e);if(t){let[,r,i,n]=t;if("@"===r&&"-"===i||"@"!==r&&""===i)return[];e=e.replace(`${i}[${n}]`,""),o.value=n}}if($(e)&&!n.variantMap.has(e)){let t=n.offsets.recordVariant(e),r=(0,d.normalize)(e.slice(1,-1)),i=(0,h.splitAtTopLevelOnly)(r,",");if(i.length>1||!i.every(p.isValidVariantFormatString))return[];let o=i.map((e,r)=>[n.offsets.applyParallelOffset(t,r),(0,p.parseVariant)(e.trim())]);n.variantMap.set(e,o)}if(n.variantMap.has(e)){var a,s,u;let l=$(e),c=null!=(s=null==(a=n.variantOptions.get(e))?void 0:a[p.INTERNAL_FEATURES])?s:{},d=n.variantMap.get(e).slice(),f=[],h=!(l||!1===c.respectPrefix);for(let[a,s]of i){if("user"===a.layer)continue;let i=t.default.root({nodes:[s.clone()]});for(let[t,s,l]of d){let c=function(){m.raws.neededBackup||(m.raws.neededBackup=!0,m.walkRules(e=>e.raws.originalSelector=e.selector))},p=function(e){return c(),m.each(t=>{"rule"===t.type&&(t.selectors=t.selectors.map(t=>e({get className(){return w(t)},selector:t})))}),m},m=(l??i).clone(),g=[],y=s({get container(){return c(),m},separator:n.tailwindConfig.separator,modifySelectors:p,wrap(e){let t=m.nodes;m.removeAll(),e.append(t),m.append(e)},format(e){g.push({format:e,respectPrefix:h})},args:o});if(Array.isArray(y)){for(let[e,r]of y.entries())d.push([n.offsets.applyParallelOffset(t,e),r,m.clone()]);continue}if("string"==typeof y&&g.push({format:y,respectPrefix:h}),null===y)continue;m.raws.neededBackup&&(delete m.raws.neededBackup,m.walkRules(t=>{let i=t.raws.originalSelector;if(!i||(delete t.raws.originalSelector,i===t.selector))return;let o=t.selector,a=(0,r.default)(t=>{t.walkClasses(t=>{t.value=`${e}${n.tailwindConfig.separator}${t.value}`})}).processSync(i);g.push({format:o.replace(a,"&"),respectPrefix:h}),t.selector=i})),m.nodes[0].raws.tailwind={...m.nodes[0].raws.tailwind,parentLayer:a.layer};let v=[{...a,sort:n.offsets.applyVariantOffset(a.sort,t,Object.assign(o,n.variantOptions.get(e))),collectedFormats:(null!=(u=a.collectedFormats)?u:[]).concat(g)},m.nodes[0]];f.push(v)}}return f}return[]}function I(e,t,r={}){return(0,n.default)(e)||Array.isArray(e)?Array.isArray(e)?I(e[0],t,e[1]):(t.has(e)||t.set(e,(0,i.default)(e)),[t.get(e),r]):[[e],r]}let x=/^[a-z_-]/;function O(e){return x.test(e)}function C(e){if(!e.includes("://"))return!1;try{let t=new URL(e);return""!==t.scheme&&""!==t.host}catch{return!1}}function k(e){let t=!0;return e.walkDecls(e=>{if(!N(e.prop,e.value))return t=!1,!1}),t}function N(e,r){if(C(`${e}:${r}`))return!1;try{return t.default.parse(`a{${e}:${r}}`).toResult(),!0}catch{return!1}}function R(e,t){var r;let[,i,n]=null!=(r=e.match(/^\[([a-zA-Z0-9-_]+):(\S+)\]$/))?r:[];if(void 0===n||!O(i)||!(0,f.default)(n))return null;let o=(0,d.normalize)(n,{property:i});return N(i,o)?[[{sort:t.offsets.arbitraryProperty(e),layer:"utilities",options:{respectImportant:!0}},()=>({[(0,c.asClass)(e)]:{[i]:o}})]]:null}function*P(e,t){t.candidateRuleMap.has(e)&&(yield[t.candidateRuleMap.get(e),"DEFAULT"]),yield*function*(e){null!==e&&(yield[e,"DEFAULT"])}(R(e,t));let r=e,i=!1,n=t.tailwindConfig.prefix,o=n.length,a=r.startsWith(n)||r.startsWith(`-${n}`);for(let[e,s]of("-"===r[o]&&a&&(i=!0,r=n+r.slice(o+1)),i&&t.candidateRuleMap.has(r)&&(yield[t.candidateRuleMap.get(r),"-DEFAULT"]),_(r)))t.candidateRuleMap.has(e)&&(yield[t.candidateRuleMap.get(e),i?`-${s}`:s])}function D(e,t){return e===l.NOT_ON_DEMAND?[l.NOT_ON_DEMAND]:(0,h.splitAtTopLevelOnly)(e,t)}function*U(e,t){for(let n of e){var r,i;n[1].raws.tailwind={...n[1].raws.tailwind,classCandidate:t,preserveSource:null!=(i=null==(r=n[0].options)?void 0:r.preserveSource)&&i},yield n}}function*L(e,t){let[r,...i]=D(e,t.tailwindConfig.separator).reverse(),n=!1;for(let p of(r.startsWith("!")&&(n=!0,r=r.slice(1)),P(r,t))){var o,l,u,c,d;let f=[],h=new Map,[m,g]=p,y=1===m.length;for(let[e,r]of m){let i=[];if("function"==typeof r)for(let n of[].concat(r(g,{isOnlyPlugin:y}))){let[r,o]=I(n,t.postCssNodeCache);for(let t of r)i.push([{...e,options:{...e.options,...o}},t])}else if("DEFAULT"===g||"-DEFAULT"===g){let[n,o]=I(r,t.postCssNodeCache);for(let t of n)i.push([{...e,options:{...e.options,...o}},t])}if(i.length>0){let r=Array.from((0,a.getMatchingTypes)(null!=(l=null==(o=e.options)?void 0:o.types)?l:[],g,null!=(u=e.options)?u:{},t.tailwindConfig)).map(([e,t])=>t);r.length>0&&h.set(i,r),f.push(i)}}if($(g)){if(f.length>1){let t=function(e){return 1===e.length?e[0]:e.find(e=>{let t=h.get(e);return e.some(([{options:e},r])=>!!k(r)&&e.types.some(({type:e,preferOnConflict:r})=>t.includes(e)&&r))})},[r,i]=f.reduce((e,t)=>(t.some(([{options:e}])=>e.types.some(({type:e})=>"any"===e))?e[0].push(t):e[1].push(t),e),[[],[]]),n=null!=(c=t(i))?c:t(r);if(n)f=[n];else{let t=f.map(e=>new Set([...null!=(d=h.get(e))?d:[]]));for(let e of t)for(let r of e){let i=!1;for(let n of t)e!==n&&n.has(r)&&(n.delete(r),i=!0);i&&e.delete(r)}let r=[];for(let[i,n]of t.entries())for(let t of n){let n=f[i].map(([,e])=>e).flat().map(e=>e.toString().split(`
`).slice(1,-1).map(e=>e.trim()).map(e=>`      ${e}`).join(`
`)).join(`

`);r.push(`  Use \`${e.replace("[",`[${t}:`)}\` for \`${n.trim()}\``);break}s.default.warn([`The class \`${e}\` is ambiguous and matches multiple utilities.`,...r,`If this is content and not a class, replace it with \`${e.replace("[","&lsqb;").replace("]","&rsqb;")}\` to silence this warning.`]);continue}}f=f.map(e=>e.filter(e=>k(e[1])))}for(let e of(f=S(f=Array.from(U(f=f.flat(),r)),t),n&&(f=E(f,r)),i))f=T(e,f,t);for(let r of f)r[1].raws.tailwind={...r[1].raws.tailwind,candidate:e},null!==(r=K(r,{context:t,candidate:e}))&&(yield r)}}function K(e,{context:r,candidate:i}){if(!e[0].collectedFormats)return e;let n=!0,o;try{o=(0,u.formatVariantSelector)(e[0].collectedFormats,{context:r,candidate:i})}catch{return null}let a=t.default.root({nodes:[e[1].clone()]});return a.walkRules(e=>{if(!M(e))try{let t=(0,u.finalizeSelector)(e.selector,o,{candidate:i,context:r});if(null===t)return void e.remove();e.selector=t}catch{return n=!1,!1}}),n&&0!==a.nodes.length?(e[1]=a.nodes[0],e):null}function M(e){return e.parent&&"atrule"===e.parent.type&&"keyframes"===e.parent.name}function B(e){return!0===e?e=>{M(e)||e.walkDecls(e=>{"rule"!==e.parent.type||M(e.parent)||(e.important=!0)})}:"string"==typeof e?t=>{M(t)||(t.selectors=t.selectors.map(t=>(0,g.applyImportantSelector)(t,e)))}:void 0}function j(e,r,i=!1){let n=[],o=B(r.tailwindConfig.important);for(let s of e){var a;if(r.notClassCache.has(s))continue;if(r.candidateRuleCache.has(s)){n=n.concat(Array.from(r.candidateRuleCache.get(s)));continue}let e=Array.from(L(s,r));if(0===e.length){r.notClassCache.add(s);continue}r.classCache.set(s,e);let l=null!=(a=r.candidateRuleCache.get(s))?a:new Set;for(let a of(r.candidateRuleCache.set(s,l),e)){let[{sort:e,options:s},u]=a;if(s.respectImportant&&o){let e=t.default.root({nodes:[u.clone()]});e.walkRules(o),u=e.nodes[0]}let c=[e,i?u.clone():u];l.add(c),r.ruleCache.add(c),n.push(c)}}return n}function $(e){return e.startsWith("[")&&e.endsWith("]")}}(sk)),sk}let lY=tN(function(){return l0||(l0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return _}});let t=s(rs()),r=s(sI()),i=lQ(),n=s(lr()),o=lJ(),a=lo();function s(e){return e&&e.__esModule?e:{default:e}}function l(e){let i=new Map;t.default.root({nodes:[e.clone()]}).walkRules(e=>{(0,r.default)(e=>{e.walkClasses(e=>{let t=e.parent.toString(),r=i.get(t);r||i.set(t,r=new Set),r.add(e.value)})}).processSync(e.selector)});let n=Array.from(i.values(),e=>Array.from(e));return Object.assign(n.flat(),{groups:n})}let u=(0,r.default)();function c(e){return u.astSync(e)}function d(e,t){let r=new Set;for(let i of e)r.add(i.split(t).pop());return Array.from(r)}function p(e,t){let r=e.tailwindConfig.prefix;return"function"==typeof r?r(t):r+t}function*f(e){for(yield e;e.parent;)yield e.parent,e=e.parent}function h(e,t={}){let r=e.nodes;e.nodes=[];let i=e.clone(t);return e.nodes=r,i}function m(e){for(let t of f(e))if(e!==t){if("root"===t.type)break;e=h(t,{nodes:[e]})}return e}function g(e,t){let r=new Map;return e.walkRules(e=>{for(let t of f(e)){var i;if((null==(i=t.raws.tailwind)?void 0:i.layer)!==void 0)return}let n=m(e),o=t.offsets.create("user");for(let t of l(e)){let e=r.get(t)||[];r.set(t,e),e.push([{layer:"user",sort:o,important:!1},n])}}),r}function y(e,t){for(let r of e){if(t.notClassCache.has(r)||t.applyClassCache.has(r))continue;if(t.classCache.has(r)){t.applyClassCache.set(r,t.classCache.get(r).map(([e,t])=>[e,t.clone()]));continue}let e=Array.from((0,i.resolveMatches)(r,t));if(0===e.length){t.notClassCache.add(r);continue}t.applyClassCache.set(r,e)}return t.applyClassCache}function v(e){let t=null;return{get:r=>(t=t||e(),t.get(r)),has:r=>(t=t||e(),t.has(r))}}function b(e){return{get:t=>e.flatMap(e=>e.get(t)||[]),has:t=>e.some(e=>e.has(t))}}function A(e){let t=e.split(/[\s\t\n]+/g);return"!important"===t[t.length-1]?[t.slice(0,-1),!0]:[t,!1]}function w(e,i,s){let u=new Set,f=[];if(e.walkAtRules("apply",e=>{let[t]=A(e.params);for(let e of t)u.add(e);f.push(e)}),0===f.length)return;let h=b([s,y(u,i)]);function m(e,t,r){let i=c(e),o=c(t),a=c(`.${(0,n.default)(r)}`).nodes[0].nodes[0];return i.each(e=>{let t=new Set;for(let r of(o.each(r=>{let i=!1;(r=r.clone()).walkClasses(n=>{n.value===a.value&&(i||(n.replaceWith(...e.nodes.map(e=>e.clone())),t.add(r),i=!0))})}),t)){let e=[[]];for(let t of r.nodes)"combinator"===t.type?(e.push(t),e.push([])):e[e.length-1].push(t);for(let t of(r.nodes=[],e))Array.isArray(t)&&t.sort((e,t)=>"tag"===e.type&&"class"===t.type?-1:"class"===e.type&&"tag"===t.type?1:"class"===e.type&&"pseudo"===t.type&&t.value.startsWith("::")?-1:"pseudo"===e.type&&e.value.startsWith("::")&&"class"===t.type?1:0),r.nodes=r.nodes.concat(t)}e.replaceWith(...t)}),i.toString()}let g=new Map;for(let e of f){let[t]=g.get(e.parent)||[[],e.source];g.set(e.parent,[t,e.source]);let[r,n]=A(e.params);if("atrule"===e.parent.type){if("screen"===e.parent.name){let t=e.parent.params;throw e.error(`@apply is not supported within nested at-rules like @screen. We suggest you write this as @apply ${r.map(e=>`${t}:${e}`).join(" ")} instead.`)}throw e.error(`@apply is not supported within nested at-rules like @${e.parent.name}. You can fix this by un-nesting @${e.parent.name}.`)}for(let o of r){if([p(i,"group"),p(i,"peer")].includes(o))throw e.error(`@apply should not be used with the '${o}' utility`);if(!h.has(o))throw e.error(`The \`${o}\` class does not exist. If \`${o}\` is a custom class, make sure it is defined within a \`@layer\` directive.`);let r=h.get(o);for(let[,t]of r)"atrule"!==t.type&&t.walkRules(()=>{throw e.error([`The \`${o}\` class cannot be used with \`@apply\` because \`@apply\` does not currently support nested CSS.`,"Rewrite the selector without nesting or configure the `tailwindcss/nesting` plugin:","https://tailwindcss.com/docs/using-with-preprocessors#nesting"].join(`
`))});t.push([o,n,r])}}for(let[e,[n,s]]of g){let u=[];for(let[c,p,f]of n){let n=[c,...d([c],i.tailwindConfig.separator)];for(let[h,g]of f){let f=l(e),y=l(g);if(y=(y=y.groups.filter(e=>e.some(e=>n.includes(e))).flat()).concat(d(y,i.tailwindConfig.separator)),f.some(e=>y.includes(e)))throw g.error(`You cannot \`@apply\` the \`${c}\` utility here because it creates a circular dependency.`);let v=t.default.root({nodes:[g.clone()]});v.walk(e=>{e.source=s}),("atrule"!==g.type||"atrule"===g.type&&"keyframes"!==g.name)&&v.walkRules(t=>{if(!l(t).some(e=>e===c))return void t.remove();let n="string"==typeof i.tailwindConfig.important?i.tailwindConfig.important:null,s=void 0!==e.raws.tailwind&&n&&0===e.selector.indexOf(n)?e.selector.slice(n.length):e.selector;""===s&&(s=e.selector),t.selector=m(s,t.selector,c),n&&s!==e.selector&&(t.selector=(0,o.applyImportantSelector)(t.selector,n)),t.walkDecls(e=>{e.important=h.important||p});let u=(0,r.default)().astSync(t.selector);u.each(e=>(0,a.movePseudos)(e)),t.selector=u.toString()}),v.nodes[0]&&u.push([h.sort,v.nodes[0]])}}let c=i.offsets.sort(u).map(e=>e[1]);e.after(c)}for(let e of f)e.parent.nodes.length>1?e.remove():e.parent.remove();w(e,i,s)}function _(e){return t=>{let r=v(()=>g(t,e));w(t,e,r)}}}(ai)),ai}());var lX,l0,l1,l2,l4={};function l3(){if(l2)return l1;l2=1;class e{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||1/0,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(let[t,r]of e)this.onEviction(t,r.value)}_deleteIfExpired(e,t){return!!("number"==typeof t.expiry&&t.expiry<=Date.now())&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){let r=t.get(e);return this._getItemValue(e,r)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(let e of this.oldCache){let[t,r]=e;this.cache.has(t)||!1===this._deleteIfExpired(t,r)&&(yield e)}for(let e of this.cache){let[t,r]=e;!1===this._deleteIfExpired(t,r)&&(yield e)}}get(e){if(this.cache.has(e)){let t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){let t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:r=this.maxAge===1/0?void 0:Date.now()+this.maxAge}={}){this.cache.has(e)?this.cache.set(e,{value:t,maxAge:r}):this._set(e,{value:t,expiry:r})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw TypeError("`maxSize` must be a number greater than 0");let t=[...this._entriesAscending()],r=t.length-e;r<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(r>0&&this._emitEvictions(t.slice(0,r)),this.oldCache=new Map(t.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[t,r]=e;!1===this._deleteIfExpired(t,r)&&(yield[t,r.value])}for(let e of this.oldCache){let[t,r]=e;this.cache.has(t)||!1===this._deleteIfExpired(t,r)&&(yield[t,r.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){let[r,i]=e[t];!1===this._deleteIfExpired(r,i)&&(yield[r,i.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){let[r,i]=e[t];this.cache.has(r)||!1===this._deleteIfExpired(r,i)&&(yield[r,i.value])}}*entriesAscending(){for(let[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}return l1=e}var l5,l6={};function l8(){return l5||(l5=1,function(e){function t(e,t,i){return e.map(e=>{let n=e.clone();return void 0!==i&&(n.raws.tailwind={...n.raws.tailwind,...i}),void 0!==t&&r(n,e=>{var r;if((null==(r=e.raws.tailwind)?void 0:r.preserveSource)===!0&&e.source)return!1;e.source=t}),n})}function r(e,t){if(!1!==t(e)){var i;null==(i=e.each)||i.call(e,e=>r(e,t))}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})}(l6)),l6}var l9,l7={},ue={};function ut(){return l9||(l9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{pattern:function(){return n},withoutCapturing:function(){return o},any:function(){return a},optional:function(){return s},zeroOrMore:function(){return l},nestedBrackets:function(){return u},escape:function(){return c}});let t=/[\\^$.*+?()[\]{}|]/g,r=RegExp(t.source);function i(e){return(e=(e=Array.isArray(e)?e:[e]).map(e=>e instanceof RegExp?e.source:e)).join("")}function n(e){return RegExp(i(e),"g")}function o(e){return RegExp(`(?:${i(e)})`,"g")}function a(e){return`(?:${e.map(i).join("|")})`}function s(e){return`(?:${i(e)})?`}function l(e){return`(?:${i(e)})*`}function u(e,t,r=1){return o([c(e),/[^\s]*/,1===r?`[^${c(e)}${c(t)}s]*`:a([`[^${c(e)}${c(t)}s]*`,u(e,t,r-1)]),/[^\s]*/,c(t)])}function c(e){return e&&r.test(e)?e.replace(t,"\\$&"):e||""}}(ue)),ue}function ur(){return un||(un=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"defaultExtractor",{enumerable:!0,get:function(){return o}});let t=n(ut()),r=oV();function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function o(e){let t=Array.from(a(e));return e=>{let i=[];for(let r of t){var n;for(let t of null!=(n=e.match(r))?n:[])i.push(u(t))}for(let e of i.slice()){let t=(0,r.splitAtTopLevelOnly)(e,".");for(let e=0;e<t.length;e++){let r=t[e];if(e>=t.length-1){i.push(r);continue}isNaN(Number(t[e+1]))?i.push(r):e++}}return i}}function*a(e){let r=e.tailwindConfig.separator,i=""!==e.tailwindConfig.prefix?t.optional(t.pattern([/-?/,t.escape(e.tailwindConfig.prefix)])):"",n=t.any([/\[[^\s:'"`]+:[^\s\[\]]+\]/,/\[[^\s:'"`\]]+:[^\s]+?\[[^\s]+\][^\s]+?\]/,t.pattern([t.any([/-?(?:\w+)/,/@(?:\w+)/]),t.optional(t.any([t.pattern([t.any([/-(?:\w+-)*\['[^\s]+'\]/,/-(?:\w+-)*\["[^\s]+"\]/,/-(?:\w+-)*\[`[^\s]+`\]/,/-(?:\w+-)*\[(?:[^\s\[\]]+\[[^\s\[\]]+\])*[^\s:\[\]]+\]/]),/(?![{([]])/,/(?:\/[^\s'"`\\><$]*)?/]),t.pattern([t.any([/-(?:\w+-)*\['[^\s]+'\]/,/-(?:\w+-)*\["[^\s]+"\]/,/-(?:\w+-)*\[`[^\s]+`\]/,/-(?:\w+-)*\[(?:[^\s\[\]]+\[[^\s\[\]]+\])*[^\s\[\]]+\]/]),/(?![{([]])/,/(?:\/[^\s'"`\\$]*)?/]),/[-\/][^\s'"`\\$={><]*/]))])]);for(let e of[t.any([t.pattern([/@\[[^\s"'`]+\](\/[^\s"'`]+)?/,r]),t.pattern([/([^\s"'`\[\\]+-)?\[[^\s"'`]+\]\/[\w_-]+/,r]),t.pattern([/([^\s"'`\[\\]+-)?\[[^\s"'`]+\]/,r]),t.pattern([/[^\s"'`\[\\]+/,r])]),t.any([t.pattern([/([^\s"'`\[\\]+-)?\[[^\s`]+\]\/[\w_-]+/,r]),t.pattern([/([^\s"'`\[\\]+-)?\[[^\s`]+\]/,r]),t.pattern([/[^\s`\[\\]+/,r])])])yield t.pattern(["((?=((",e,")+))\\2)?",/!?/,i,n]);yield/[^<>"'`\s.(){}[\]#=%$][^<>"'`\s(){}[\]#=%$]*[^<>"'`\s.(){}[\]#=%:$]/g}let s=/([\[\]'"`])([^\[\]'"`])?/g,l=/[^"'`\s<>\]]+/;function u(e){if(!e.includes("-["))return e;let t=0,r=[],i=e.matchAll(s);for(let n of i=Array.from(i).flatMap(e=>{let[,...t]=e;return t.map((t,r)=>Object.assign([],e,{index:e.index+r,0:t}))})){let i=n[0],o=r[r.length-1];if(i===o?r.pop():("'"===i||'"'===i||"`"===i)&&r.push(i),!o){if("["===i){t++;continue}if("]"===i){t--;continue}if(t<0)return e.substring(0,n.index-1);if(0===t&&!l.test(i))return e.substring(0,n.index)}}return e}}(l7)),l7}let ui=tN(function(){return uo||(uo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return b}});let t=l(tU),r=l(l3()),i=c(s9()),n=lQ(),o=l(o5()),a=l(l8()),s=ur();function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}let d=i.env,p={DEFAULT:s.defaultExtractor},f={DEFAULT:e=>e,svelte:e=>e.replace(/(?:^|\s)class:/g," ")};function h(e,t){let r=e.tailwindConfig.content.extract;return r[t]||r.DEFAULT||p[t]||p.DEFAULT(e)}function m(e,t){let r=e.content.transform;return r[t]||r.DEFAULT||f[t]||f.DEFAULT}let g=new WeakMap;function y(e,t,i,n){for(let o of(g.has(t)||g.set(t,new r.default({maxSize:25e3})),e.split(`
`)))if(o=o.trim(),!n.has(o))if(n.add(o),g.get(t).has(o))for(let e of g.get(t).get(o))i.add(e);else{let e=new Set(t(o).filter(e=>"!*"!==e));for(let t of e)i.add(t);g.get(t).set(o,e)}}function v(e,t){let r=t.offsets.sort(e),i={base:new Set,defaults:new Set,components:new Set,utilities:new Set,variants:new Set};for(let[e,t]of r)i[e.layer].add(t);return i}function b(e){return async r=>{var s,l;let u={base:null,components:null,utilities:null,variants:null};if(r.walkAtRules(e=>{"tailwind"===e.name&&Object.keys(u).includes(e.params)&&(u[e.params]=e)}),Object.values(u).every(e=>null===e))return r;let c=new Set([...null!=(s=e.candidates)?s:[],i.NOT_ON_DEMAND]),p=new Set;d.DEBUG&&console.time("Reading changed files");let f=[];for(let t of e.changedContent){let r=m(e.tailwindConfig,t.extension),i=h(e,t.extension);f.push([t,{transformer:r,extractor:i}])}let g=500;for(let e=0;e<f.length;e+=g){let r=f.slice(e,e+g);await Promise.all(r.map(async([{file:e,content:r},{transformer:i,extractor:n}])=>{y(i(r=e?await t.default.promises.readFile(e,"utf8"):r),n,c,p)}))}d.DEBUG&&console.timeEnd("Reading changed files");let b=e.classCache.size;d.DEBUG&&console.time("Generate rules"),d.DEBUG&&console.time("Sorting candidates");let A=new Set([...c].sort((e,t)=>e===t?0:e<t?-1:1));d.DEBUG&&console.timeEnd("Sorting candidates"),(0,n.generateRules)(A,e),d.DEBUG&&console.timeEnd("Generate rules"),d.DEBUG&&console.time("Build stylesheet"),(null===e.stylesheetCache||e.classCache.size!==b)&&(e.stylesheetCache=v([...e.ruleCache],e)),d.DEBUG&&console.timeEnd("Build stylesheet");let{defaults:w,base:_,components:S,utilities:E,variants:T}=e.stylesheetCache;u.base&&(u.base.before((0,a.default)([..._,...w],u.base.source,{layer:"base"})),u.base.remove()),u.components&&(u.components.before((0,a.default)([...S],u.components.source,{layer:"components"})),u.components.remove()),u.utilities&&(u.utilities.before((0,a.default)([...E],u.utilities.source,{layer:"utilities"})),u.utilities.remove());let I=Array.from(T).filter(e=>{var t;let r=null==(t=e.raws.tailwind)?void 0:t.parentLayer;return"components"===r?null!==u.components:"utilities"!==r||null!==u.utilities});u.variants?(u.variants.before((0,a.default)(I,u.variants.source,{layer:"variants"})),u.variants.remove()):I.length>0&&r.append((0,a.default)(I,r.source,{layer:"variants"})),r.source.end=null!=(l=r.source.end)?l:r.source.start;let x=I.some(e=>{var t;return(null==(t=e.raws.tailwind)?void 0:t.parentLayer)==="utilities"});u.utilities&&0===E.size&&!x&&o.default.warn("content-problems",["No utility classes were detected in your source files. If this is unexpected, double-check the `content` option in your Tailwind CSS configuration.","https://tailwindcss.com/docs/content-configuration"]),d.DEBUG&&(console.log("Potential classes: ",c.size),console.log("Active contexts: ",i.contextSourcesMap.size)),e.changedContent=[],r.walkAtRules("layer",e=>{Object.keys(u).includes(e.params)&&e.remove()})}}}(l4)),l4}());var un,uo,ua,us=lQ(),ul={};let uu=tN(function(){return ua||(ua=1,function(e){function t(e){if(!e.walkAtRules)return;let t=new Set;if(e.walkAtRules("apply",e=>{t.add(e.parent)}),0!==t.size)for(let e of t){let t=[],r=[];for(let i of e.nodes)"atrule"===i.type&&"apply"===i.name?(r.length>0&&(t.push(r),r=[]),t.push([i])):r.push(i);if(r.length>0&&t.push(r),1!==t.length){for(let r of[...t].reverse()){let t=e.clone({nodes:[]});t.append(r),e.after(t)}e.remove()}}}function r(){return e=>{t(e)}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}})}(ul)),ul}());var uc,ud={};let up=tN(function(){return uc||(uc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{elementSelectorParser:function(){return s},default:function(){return c}});let t=n(rs()),r=n(sI()),i=o6();function n(e){return e&&e.__esModule?e:{default:e}}let o={id:e=>r.default.attribute({attribute:"id",operator:"=",value:e.value,quoteMark:'"'})};function a(e){let t=e.filter(e=>"pseudo"!==e.type||e.nodes.length>0||e.value.startsWith("::")||[":before",":after",":first-line",":first-letter"].includes(e.value)).reverse(),i=new Set(["tag","class","id","attribute"]),n=t.findIndex(e=>i.has(e.type));if(-1===n)return t.reverse().join("").trim();let a=t[n],s=o[a.type]?o[a.type](a):a,l=(t=t.slice(0,n)).findIndex(e=>"combinator"===e.type&&">"===e.value);return -1!==l&&(t.splice(0,l),t.unshift(r.default.universal())),[s,...t.reverse()].join("").trim()}let s=(0,r.default)(e=>e.map(e=>a(e.split(e=>"combinator"===e.type&&" "===e.value).pop()))),l=new Map;function u(e){return l.has(e)||l.set(e,s.transformSync(e)),l.get(e)}function c({tailwindConfig:e}){return r=>{let n=new Map,o=new Set;if(r.walkAtRules("defaults",e=>{if(e.nodes&&e.nodes.length>0)return void o.add(e);let t=e.params;n.has(t)||n.set(t,new Set),n.get(t).add(e.parent),e.remove()}),(0,i.flagEnabled)(e,"optimizeUniversalDefaults"))for(let r of o){var a,s;let o=new Map;for(let e of null!=(a=n.get(r.params))?a:[])for(let t of u(e.selector)){let e=t.includes(":-")||t.includes("::-")||t.includes(":has")?t:"__DEFAULT__",r=null!=(s=o.get(e))?s:new Set;o.set(e,r),r.add(t)}if((0,i.flagEnabled)(e,"optimizeUniversalDefaults")){if(0===o.size){r.remove();continue}for(let[,e]of o){let i=t.default.rule({source:r.source});i.selectors=[...e],i.append(r.nodes.map(e=>e.clone())),r.before(i)}}r.remove()}else if(o.size){let e=t.default.rule({selectors:["*","::before","::after"]});for(let t of o)e.append(t.nodes),e.parent||t.before(e),e.source||(e.source=t.source),t.remove();let r=e.clone({selectors:["::backdrop"]});e.after(r)}}}}(ud)),ud}());var uf,uh={};let um=tN(function(){return uf||(uf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=ow(),r=i(oE());function i(e){return e&&e.__esModule?e:{default:e}}function n({tailwindConfig:{theme:e}}){return function(i){i.walkAtRules("screen",i=>{let n=i.params,o=(0,t.normalizeScreens)(e.screens).find(({name:e})=>e===n);if(!o)throw i.error(`No \`${n}\` screen found.`);i.name="media",i.params=(0,r.default)(o)})}}}(uh)),uh}()),ug=(e,t)=>e instanceof rf&&t instanceof rf?e.selector===t.selector||t.selector.includes("*")||t.selector.includes(":root"):e===t,uy=e=>(e.walkRules(t=>{let r=new Map,i=new Set;for(let{declaration:n,replacing:o,replacement:a}of(t.walkDecls(t=>{if(/var\(--[^\s)]+\)/.test(t.value)){let n=[...t.value.matchAll(/var\(--[^\s)]+\)/gm)].map(e=>e.toString());e.walkDecls(e=>{var o;if(/--[^\s]+/.test(e.prop)){let a=`var(${e.prop})`;if(null!=n&&n.includes(a)&&ug(t.parent,e.parent)){if((null==(o=e.parent)?void 0:o.parent)instanceof rp&&e.parent!==t.parent){let i=e.parent.parent,n=rd();n.prop=t.prop,n.value=t.value.replaceAll(a,e.value),n.important=t.important;let o=r.get(i);o?o.add(n):r.set(e.parent.parent,new Set([n]));return}i.add({declaration:t,replacing:a,replacement:e.value})}}})}}),i))n.value=n.value.replaceAll(o,a);for(let[e,i]of r.entries()){let r=rc();r.selector=t.selector,r.append(...i),e.append(r)}}),e.walkDecls(e=>{if(/--[^\s]+/.test(e.prop)){let t=e.parent;e.remove(),t&&rg(t)}}),e);var uv,ub=lV(),uA={},uw={},u_={};function uS(){return uv||(uv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});let t=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","size","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","textWrap","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","contain","content","forcedColorAdjust"]}(u_)),u_}var uE,uT={};function uI(){return uE||(uE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(e,t){return void 0===e?t:Array.isArray(e)?e:[...new Set(t.filter(t=>!1!==e&&!1!==e[t]).concat(Object.keys(e).filter(t=>!1!==e[t])))]}}(uT)),uT}var ux,uO={};function uC(){return ux||(ux=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=r(o5());function r(e){return e&&e.__esModule?e:{default:e}}function i({version:e,from:r,to:i}){t.default.warn(`${r}-color-renamed`,[`As of Tailwind CSS ${e}, \`${r}\` has been renamed to \`${i}\`.`,"Update your configuration file to silence this warning."])}let n={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return i({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return i({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return i({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return i({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return i({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}}(uO)),uO}var uk,uN={};function uR(){return uk||(uk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"defaults",{enumerable:!0,get:function(){return t}});function t(e,...r){for(let t of r){var i,n;for(let r in t)null!=e&&null!=(i=e.hasOwnProperty)&&i.call(e,r)||(e[r]=t[r]);for(let r of Object.getOwnPropertySymbols(t))null!=e&&null!=(n=e.hasOwnProperty)&&n.call(e,r)||(e[r]=t[r])}return e}}(uN)),uN}var uP,uD={};function uU(){return uP||(uP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"normalizeConfig",{enumerable:!0,get:function(){return o}});let t=o6(),r=n(o5());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function o(e){if((()=>{if(e.purge||!e.content||!Array.isArray(e.content)&&("object"!=typeof e.content||null===e.content))return!1;if(Array.isArray(e.content))return e.content.every(e=>"string"==typeof e||!("string"!=typeof(null==e?void 0:e.raw)||null!=e&&e.extension&&"string"!=typeof(null==e?void 0:e.extension)));if("object"==typeof e.content&&null!==e.content){if(Object.keys(e.content).some(e=>!["files","relative","extract","transform"].includes(e)))return!1;if(Array.isArray(e.content.files)){if(!e.content.files.every(e=>"string"==typeof e||!("string"!=typeof(null==e?void 0:e.raw)||null!=e&&e.extension&&"string"!=typeof(null==e?void 0:e.extension))))return!1;if("object"==typeof e.content.extract){for(let t of Object.values(e.content.extract))if("function"!=typeof t)return!1}else if(void 0!==e.content.extract&&"function"!=typeof e.content.extract)return!1;if("object"==typeof e.content.transform){for(let t of Object.values(e.content.transform))if("function"!=typeof t)return!1}else if(void 0!==e.content.transform&&"function"!=typeof e.content.transform)return!1;if("boolean"!=typeof e.content.relative&&"u">typeof e.content.relative)return!1}return!0}return!1})()||r.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),e.safelist=(()=>{var t;let{content:r,purge:i,safelist:n}=e;return Array.isArray(n)?n:Array.isArray(null==r?void 0:r.safelist)?r.safelist:Array.isArray(null==i?void 0:i.safelist)?i.safelist:Array.isArray(null==i||null==(t=i.options)?void 0:t.safelist)?i.options.safelist:[]})(),e.blocklist=(()=>{let{blocklist:t}=e;if(Array.isArray(t)){if(t.every(e=>"string"==typeof e))return t;r.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),"function"==typeof e.prefix)r.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),e.prefix="";else{var i;e.prefix=null!=(i=e.prefix)?i:""}for(let i of(e.content={relative:(()=>{let{content:r}=e;return null!=r&&r.relative?r.relative:(0,t.flagEnabled)(e,"relativeContentPathsByDefault")})(),files:(()=>{let{content:t,purge:r}=e;return Array.isArray(r)?r:Array.isArray(null==r?void 0:r.content)?r.content:Array.isArray(t)?t:Array.isArray(null==t?void 0:t.content)?t.content:Array.isArray(null==t?void 0:t.files)?t.files:[]})(),extract:(()=>{let t=(()=>{var t,r,i,n,o,a,s,l,u,c;return null!=(t=e.purge)&&t.extract?e.purge.extract:null!=(r=e.content)&&r.extract?e.content.extract:null!=(i=e.purge)&&null!=(n=i.extract)&&n.DEFAULT?e.purge.extract.DEFAULT:null!=(o=e.content)&&null!=(a=o.extract)&&a.DEFAULT?e.content.extract.DEFAULT:null!=(s=e.purge)&&null!=(l=s.options)&&l.extractors?e.purge.options.extractors:null!=(u=e.content)&&null!=(c=u.options)&&c.extractors?e.content.options.extractors:{}})(),r={},i=(()=>{var t,r,i,n;return null!=(t=e.purge)&&null!=(r=t.options)&&r.defaultExtractor?e.purge.options.defaultExtractor:null!=(i=e.content)&&null!=(n=i.options)&&n.defaultExtractor?e.content.options.defaultExtractor:void 0})();if(void 0!==i&&(r.DEFAULT=i),"function"==typeof t)r.DEFAULT=t;else if(Array.isArray(t))for(let{extensions:e,extractor:i}of t??[])for(let t of e)r[t]=i;else"object"==typeof t&&null!==t&&Object.assign(r,t);return r})(),transform:(()=>{let t=(()=>{var t,r,i,n,o,a;return null!=(t=e.purge)&&t.transform?e.purge.transform:null!=(r=e.content)&&r.transform?e.content.transform:null!=(i=e.purge)&&null!=(n=i.transform)&&n.DEFAULT?e.purge.transform.DEFAULT:null!=(o=e.content)&&null!=(a=o.transform)&&a.DEFAULT?e.content.transform.DEFAULT:{}})(),r={};return"function"==typeof t?r.DEFAULT=t:"object"==typeof t&&null!==t&&Object.assign(r,t),r})()},e.content.files))if("string"==typeof i&&/{([^,]*?)}/g.test(i)){r.default.warn("invalid-glob-braces",[`The glob pattern ${(0,r.dim)(i)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,r.dim)(i.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return e}}(uD)),uD}var uL,uK={};function uM(){return uL||(uL=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cloneDeep",{enumerable:!0,get:function(){return t}});function t(e){return Array.isArray(e)?e.map(e=>t(e)):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map(([e,r])=>[e,t(r)])):e}}(uK)),uK}function uB(){return uj||(uj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return x}});let t=f(oY()),r=f(uS()),i=f(uI()),n=f(uC()),o=uR(),a=ox(),s=uU(),l=f(ot()),u=uM(),c=o8(),d=oD(),p=f(lE());function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return"function"==typeof e}function m(e,...t){let r=t.pop();for(let i of t)for(let t in i){let n=r(e[t],i[t]);void 0===n?(0,l.default)(e[t])&&(0,l.default)(i[t])?e[t]=m({},e[t],i[t],r):e[t]=i[t]:e[t]=n}return e}let g={colors:n.default,negative:e=>Object.keys(e).filter(t=>"0"!==e[t]).reduce((r,i)=>{let n=(0,t.default)(e[i]);return void 0!==n&&(r[`-${i}`]=n),r},{}),breakpoints:e=>Object.keys(e).filter(t=>"string"==typeof e[t]).reduce((t,r)=>({...t,[`screen-${r}`]:e[r]}),{})};function y(e,...t){return h(e)?e(...t):e}function v(e){return e.reduce((e,{extend:t})=>m(e,t,(e,t)=>void 0===e?[t]:Array.isArray(e)?[t,...e]:[t,e]),{})}function b(e){return{...e.reduce((e,t)=>(0,o.defaults)(e,t),{}),extend:v(e)}}function A(e,t){return Array.isArray(e)&&(0,l.default)(e[0])?e.concat(t):Array.isArray(t)&&(0,l.default)(t[0])&&(0,l.default)(e)?[e,...t]:Array.isArray(t)?t:void 0}function w({extend:e,...t}){return m(t,e,(e,t)=>h(e)||t.some(h)?(r,i)=>m({},...[e,...t].map(e=>y(e,r,i)),A):m({},e,...t,A))}function*_(e){let t=(0,a.toPath)(e);if(0===t.length||(yield t,Array.isArray(e)))return;let r=/^(.*?)\s*\/\s*([^/]+)$/,i=e.match(r);if(null!==i){let[,e,t]=i,r=(0,a.toPath)(e);r.alpha=t,yield r}}function S(e){let t=(r,i)=>{for(let i of _(r)){let r=0,n=e;for(;null!=n&&r<i.length;)n=h(n=n[i[r++]])&&(void 0===i.alpha||r<=i.length-1)?n(t,g):n;if(void 0!==n){if(void 0!==i.alpha){let e=(0,c.parseColorFormat)(n);return(0,d.withAlphaValue)(e,i.alpha,(0,p.default)(e))}return(0,l.default)(n)?(0,u.cloneDeep)(n):n}}return i};return Object.assign(t,{theme:t,...g}),Object.keys(e).reduce((r,i)=>(r[i]=h(e[i])?e[i](t,g):e[i],r),{})}function E(e){let t=[];return e.forEach(e=>{var r;t=[...t,e];let i=null!=(r=null==e?void 0:e.plugins)?r:[];0!==i.length&&i.forEach(e=>{var r;e.__isOptionsFunction&&(e=e()),t=[...t,...E([null!=(r=null==e?void 0:e.config)?r:{}])]})}),t}function T(e){return[...e].reduceRight((e,t)=>h(t)?t({corePlugins:e}):(0,i.default)(t,e),r.default)}function I(e){return[...e].reduceRight((e,t)=>[...e,...t],[])}function x(e){var t,r;let i=[...E(e),{prefix:"",important:!1,separator:":"}];return(0,s.normalizeConfig)((0,o.defaults)({theme:S(w(b(i.map(e=>null!=(t=null==e?void 0:e.theme)?t:{})))),corePlugins:T(i.map(e=>e.corePlugins)),plugins:I(e.map(e=>null!=(r=null==e?void 0:e.plugins)?r:[]))},...i))}}(uw)),uw}var uj,u$,uz,uF={};function uq(){return uz||(uz=1,u$={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:e})=>({...e("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:e})=>e("blur"),backdropBrightness:({theme:e})=>e("brightness"),backdropContrast:({theme:e})=>e("contrast"),backdropGrayscale:({theme:e})=>e("grayscale"),backdropHueRotate:({theme:e})=>e("hueRotate"),backdropInvert:({theme:e})=>e("invert"),backdropOpacity:({theme:e})=>e("opacity"),backdropSaturate:({theme:e})=>e("saturate"),backdropSepia:({theme:e})=>e("sepia"),backgroundColor:({theme:e})=>e("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:e})=>e("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:e})=>({...e("colors"),DEFAULT:e("colors.gray.200","currentColor")}),borderOpacity:({theme:e})=>e("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:e})=>({...e("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:e})=>e("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:e})=>e("colors"),colors:({colors:e})=>({inherit:e.inherit,current:e.current,transparent:e.transparent,black:e.black,white:e.white,slate:e.slate,gray:e.gray,zinc:e.zinc,neutral:e.neutral,stone:e.stone,red:e.red,orange:e.orange,amber:e.amber,yellow:e.yellow,lime:e.lime,green:e.green,emerald:e.emerald,teal:e.teal,cyan:e.cyan,sky:e.sky,blue:e.blue,indigo:e.indigo,violet:e.violet,purple:e.purple,fuchsia:e.fuchsia,pink:e.pink,rose:e.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:e})=>e("borderColor"),divideOpacity:({theme:e})=>e("borderOpacity"),divideWidth:({theme:e})=>e("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:e})=>({none:"none",...e("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:e})=>e("spacing"),gradientColorStops:({theme:e})=>e("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:e})=>({auto:"auto",...e("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:e})=>({...e("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:e,breakpoints:t})=>({...e("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...t(e("screens"))}),minHeight:({theme:e})=>({...e("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:e})=>({...e("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:e})=>e("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:e})=>e("spacing"),placeholderColor:({theme:e})=>e("colors"),placeholderOpacity:({theme:e})=>e("opacity"),ringColor:({theme:e})=>({DEFAULT:e("colors.blue.500","#3b82f6"),...e("colors")}),ringOffsetColor:({theme:e})=>e("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:e})=>({DEFAULT:"0.5",...e("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:e})=>({...e("spacing")}),scrollPadding:({theme:e})=>e("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:e})=>({...e("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:e})=>({none:"none",...e("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:e})=>e("colors"),textDecorationColor:({theme:e})=>e("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:e})=>({...e("spacing")}),textOpacity:({theme:e})=>e("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:e})=>({...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]}),u$}function uV(){return t||(t=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=i(uq()),r=o6();function i(e){return e&&e.__esModule?e:{default:e}}function n(e){var i;let o=(null!=(i=null==e?void 0:e.presets)?i:[t.default]).slice().reverse().flatMap(e=>n(e instanceof Function?e():e)),a={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:e})=>({DEFAULT:"#3b82f67f",...e("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},s=Object.keys(a).filter(t=>(0,r.flagEnabled)(e,t)).map(e=>a[e]);return[e,...s,...o]}}(uF)),uF}function uH(){return r||(r=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});let t=i(uB()),r=i(uV());function i(e){return e&&e.__esModule?e:{default:e}}function n(...e){let[,...i]=(0,r.default)(e[0]);return(0,t.default)([...e,...i])}}(uA)),uA}let uG=tN(function(){if(n)return i;n=1;let e=uH();return i=(e.__esModule?e:{default:e}).default}()),uW=e=>ub.createContext(uG({...e,content:[],corePlugins:{preflight:!1}})),uZ=ru(`
  @tailwind base;
  @tailwind components;
`).root();function uJ(e){"safelist"in e&&(console.warn("The `safelist` option is not supported in the `Tailwind` component, it will not change any behavior."),delete e.safelist);let t=uW(e);return{generateRootForClasses:e=>{t.candidateRuleCache=new Map;let r=us.generateRules(new Set(e),t),i=uZ.clone().append(...r.map(([,e])=>e));return uu()(i),ui(t)(i),uu()(i),lY(t)(i),o9(t)(i),um(t)(i),up(t)(i),nQ()(i),n0()(i),uy(i),i}}}let uQ=({children:e,config:t})=>{let r=uJ(t??{}),i=new rh,n=[],o=!1,a=rb(e,e=>{if(tC.isValidElement(e)){let{elementWithInlinedStyles:t,nonInlinableClasses:a,nonInlineStyleNodes:s}=nH(e,r);return n=n.concat(a),i.append(s),a.length>0&&!o&&(o=!0),t}return e});if(ry(i),o){let e=!1;if(a=rb(a,t=>{if(e)return t;if(tC.isValidElement(t)&&"head"===t.type){e=!0;let r=(0,tO.jsx)("style",{children:rm(i.toString().trim())});return tC.cloneElement(t,t.props,t.props.children,r)}return t}),!e)throw Error(`You are trying to use the following Tailwind classes that cannot be inlined: ${n.join(" ")}.
For the media queries to work properly on rendering, they need to be added into a <style> tag inside of a <head> tag,
the Tailwind component tried finding a <head> element but just wasn't able to find it.

Make sure that you have a <head> element at some point inside of the <Tailwind> component at any depth. 
This can also be our <Head> component.

If you do already have a <head> element at some depth, 
please file a bug https://github.com/resend/react-email/issues/new?assignees=&labels=Type%3A+Bug&projects=&template=1.bug_report.yml.`)}return a};e.s(["Tailwind",()=>uQ],337748);var uY=o,uX=a,u0=Object.defineProperty,u1=Object.defineProperties,u2=Object.getOwnPropertyDescriptors,u4=Object.getOwnPropertySymbols,u3=Object.prototype.hasOwnProperty,u5=Object.prototype.propertyIsEnumerable,u6=(e,t,r)=>t in e?u0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u8=(e,t)=>{for(var r in t||(t={}))u3.call(t,r)&&u6(e,r,t[r]);if(u4)for(var r of u4(t))u5.call(t,r)&&u6(e,r,t[r]);return e},u9=(e,t)=>u1(e,u2(t)),u7=(e,t)=>{var r={};for(var i in e)u3.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&u4)for(var i of u4(e))0>t.indexOf(i)&&u5.call(e,i)&&(r[i]=e[i]);return r};function ce(e){if("number"==typeof e)return{marginTop:e,marginBottom:e,marginLeft:e,marginRight:e};if("string"==typeof e){let t=e.toString().trim().split(/\s+/);if(1===t.length)return{marginTop:t[0],marginBottom:t[0],marginLeft:t[0],marginRight:t[0]};if(2===t.length)return{marginTop:t[0],marginRight:t[1],marginBottom:t[0],marginLeft:t[1]};if(3===t.length)return{marginTop:t[0],marginRight:t[1],marginBottom:t[2],marginLeft:t[1]};if(4===t.length)return{marginTop:t[0],marginRight:t[1],marginBottom:t[2],marginLeft:t[3]}}return{marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0}}function ct(e){let t={marginTop:void 0,marginRight:void 0,marginBottom:void 0,marginLeft:void 0};for(let[r,i]of Object.entries(e))"margin"===r?t=ce(i):"marginTop"===r?t.marginTop=i:"marginRight"===r?t.marginRight=i:"marginBottom"===r?t.marginBottom=i:"marginLeft"===r&&(t.marginLeft=i);return t}var cr=uY.forwardRef((e,t)=>{var r=e,{style:i}=r,n=u7(r,["style"]);let o={};(null==i?void 0:i.marginTop)===void 0&&(o.marginTop="16px"),(null==i?void 0:i.marginBottom)===void 0&&(o.marginBottom="16px");let a=ct(u8(u8({},o),i));return(0,uX.jsx)("p",u9(u8({},n),{ref:t,style:u8(u8({fontSize:"14px",lineHeight:"24px"},i),a)}))});cr.displayName="Text",e.s(["Text",()=>cr],622190)},965188,e=>{"use strict";var t=e.i(364812),r=e.i(516368),i=e.i(522252),n=e.i(29396),o=t,a=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&p(e,r,t[r]);if(u)for(var r of u(t))d.call(t,r)&&p(e,r,t[r]);return e},h=(e,t)=>s(e,l(t)),m=(e,t)=>{var r={};for(var i in e)c.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&u)for(var i of u(e))0>t.indexOf(i)&&d.call(e,i)&&(r[i]=e[i]);return r},g=n.forwardRef((e,t)=>{var r=e,{children:i,style:n}=r,a=m(r,["children","style"]);return(0,o.jsx)("td",h(f({},a),{"data-id":"__react-email-column",ref:t,style:n,children:i}))});g.displayName="Column";var y=e.i(851267),v=e.i(390595),b=e.i(722181),A=e.i(136333),w=e.i(657066),_=n,S=t,E=Object.defineProperty,T=Object.defineProperties,I=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,k=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))O.call(t,r)&&k(e,r,t[r]);if(x)for(var r of x(t))C.call(t,r)&&k(e,r,t[r]);return e},R=(e,t)=>T(e,I(t)),P=(e,t)=>{var r={};for(var i in e)O.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&x)for(var i of x(e))0>t.indexOf(i)&&C.call(e,i)&&(r[i]=e[i]);return r},D=_.forwardRef((e,t)=>{var r=e,{alt:i,src:n,width:o,height:a,style:s}=r,l=P(r,["alt","src","width","height","style"]);return(0,S.jsx)("img",R(N({},l),{alt:i,height:a,ref:t,src:n,style:N({display:"block",outline:"none",border:"none",textDecoration:"none"},s),width:o}))});D.displayName="Img";var U=e.i(119255),L=e.i(263224),K=n,M=t,B=Object.defineProperty,j=Object.defineProperties,$=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,V=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&V(e,r,t[r]);if(z)for(var r of z(t))q.call(t,r)&&V(e,r,t[r]);return e},G=(e,t)=>j(e,$(t)),W=(e,t)=>{var r={};for(var i in e)F.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&z)for(var i of z(e))0>t.indexOf(i)&&q.call(e,i)&&(r[i]=e[i]);return r},Z=K.forwardRef((e,t)=>{var r=e,{children:i,style:n}=r,o=W(r,["children","style"]);return(0,M.jsx)("table",G(H({align:"center",width:"100%",border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"},o),{ref:t,style:n,children:(0,M.jsx)("tbody",{style:{width:"100%"},children:(0,M.jsx)("tr",{style:{width:"100%"},children:i})})}))});Z.displayName="Row";var J=e.i(459014),Q=e.i(337748),Y=e.i(622190);let X=({email:e,invitedByUsername:n,invitedByEmail:o,teamName:a,teamImage:s,inviteLink:l})=>{let u=`Join ${n} on BetterAuth`;return(0,t.jsxs)(w.Html,{children:[(0,t.jsx)(v.Head,{}),(0,t.jsx)(L.Preview,{children:u}),(0,t.jsx)(Q.Tailwind,{children:(0,t.jsx)(r.Body,{className:"bg-white my-auto mx-auto font-sans px-2",children:(0,t.jsxs)(y.Container,{className:"border border-solid border-[#eaeaea] rounded my-[40px] mx-auto p-[20px] max-w-[465px]",children:[(0,t.jsxs)(b.Heading,{className:"text-black text-[24px] font-normal text-center p-0 my-[30px] mx-0",children:["Join ",(0,t.jsx)("strong",{children:n})," on ",(0,t.jsx)("strong",{children:"Better Auth."})]}),(0,t.jsx)(Y.Text,{className:"text-black text-[14px] leading-[24px]",children:"Hello there,"}),(0,t.jsxs)(Y.Text,{className:"text-black text-[14px] leading-[24px]",children:[(0,t.jsx)("strong",{children:n})," (",(0,t.jsx)(U.Link,{href:`mailto:${o}`,className:"text-blue-600 no-underline",children:o}),") has invited you to the ",(0,t.jsx)("strong",{children:a})," team on ",(0,t.jsx)("strong",{children:"Better Auth"}),"."]}),(0,t.jsx)(J.Section,{children:s?(0,t.jsx)(Z,{children:(0,t.jsx)(g,{align:"left",children:(0,t.jsx)(D,{className:"rounded-full",src:s,width:"64",height:"64",fetchPriority:"high"})})}):null}),(0,t.jsx)(J.Section,{className:"text-center mt-[32px] mb-[32px]",children:(0,t.jsx)(i.Button,{className:"bg-[#000000] rounded text-white text-[12px] font-semibold no-underline text-center px-5 py-3",href:l,children:"Join the team"})}),(0,t.jsxs)(Y.Text,{className:"text-black text-[14px] leading-[24px]",children:["or copy and paste this URL into your browser:"," ",(0,t.jsx)(U.Link,{href:l,className:"text-blue-600 no-underline",children:l})]}),(0,t.jsx)(A.Hr,{className:"border border-solid border-[#eaeaea] my-[26px] mx-0 w-full"}),(0,t.jsxs)(Y.Text,{className:"text-[#666666] text-[12px] leading-[24px]",children:["This invitation was intended for ",(0,t.jsx)("span",{className:"text-black",children:e}),". If you were not expecting this invitation, you can ignore this email."]})]})})})]})};function ee(e){return console.log(e),(0,t.jsx)(X,{...e})}e.s(["reactInvitationEmail",()=>ee],965188)},402187,e=>{"use strict";var t=e.i(364812),r=e.i(516368),i=e.i(522252),n=e.i(851267),o=e.i(390595),a=e.i(722181),s=e.i(136333),l=e.i(657066),u=e.i(119255),c=e.i(263224),d=e.i(459014),p=e.i(337748),f=e.i(622190);let h=({username:e,resetLink:h})=>{let m="Reset your Better Auth password";return(0,t.jsxs)(l.Html,{children:[(0,t.jsx)(o.Head,{}),(0,t.jsx)(c.Preview,{children:m}),(0,t.jsx)(p.Tailwind,{children:(0,t.jsx)(r.Body,{className:"bg-white my-auto mx-auto font-sans px-2",children:(0,t.jsxs)(n.Container,{className:"border border-solid border-[#eaeaea] rounded my-[40px] mx-auto p-[20px] max-w-[465px]",children:[(0,t.jsxs)(a.Heading,{className:"text-black text-[24px] font-normal text-center p-0 my-[30px] mx-0",children:["Reset your ",(0,t.jsx)("strong",{children:"Better Auth"})," password"]}),(0,t.jsxs)(f.Text,{className:"text-black text-[14px] leading-[24px]",children:["Hello ",e,","]}),(0,t.jsx)(f.Text,{className:"text-black text-[14px] leading-[24px]",children:"We received a request to reset your password for your Better Auth account. If you didn't make this request, you can safely ignore this email."}),(0,t.jsx)(d.Section,{className:"text-center mt-[32px] mb-[32px]",children:(0,t.jsx)(i.Button,{className:"bg-[#000000] rounded text-white text-[12px] font-semibold no-underline text-center px-5 py-3",href:h,children:"Reset Password"})}),(0,t.jsxs)(f.Text,{className:"text-black text-[14px] leading-[24px]",children:["Or copy and paste this URL into your browser:"," ",(0,t.jsx)(u.Link,{href:h,className:"text-blue-600 no-underline",children:h})]}),(0,t.jsx)(s.Hr,{className:"border border-solid border-[#eaeaea] my-[26px] mx-0 w-full"}),(0,t.jsx)(f.Text,{className:"text-[#666666] text-[12px] leading-[24px]",children:"If you didn't request a password reset, please ignore this email or contact support if you have concerns."})]})})})]})};function m(e){return(0,t.jsx)(h,{...e})}e.s(["reactResetPasswordEmail",()=>m])},115580,e=>{"use strict";e.i(965188),e.i(402187),e.s([],115580)},558103,e=>{"use strict";var t=e.i(64317);class r extends t.TaggedError("EmailTemplateRenderError"){}e.s(["EmailTemplateRenderError",()=>r])},218801,e=>e.a(async(t,r)=>{try{var i=e.i(701631),n=e.i(405614),o=e.i(558103),a=t([i]);[i]=a.then?(await a)():a;let s=n.fn("renderEmail")(function*(e){return yield*n.tryPromise({try:()=>(0,i.render)(e),catch:e=>new o.EmailTemplateRenderError({operation:"sendSignInOtpEmail",cause:e})})},n.tapErrorTag("EmailTemplateRenderError",n.logError));e.s(["renderEmail",0,s]),r()}catch(e){r(e)}},!1),662515,e=>e.a(async(t,r)=>{try{e.i(170029),e.i(115580);var i=e.i(218801),n=t([i]);[i]=n.then?(await n)():n,e.s([]),r()}catch(e){r(e)}},!1),69232,e=>e.a(async(t,r)=>{try{var i=e.i(662515),n=e.i(31650),o=e.i(965188),a=e.i(402187),s=e.i(218801),l=e.i(853053);e.i(548383);var u=e.i(945545),c=e.i(405614),d=e.i(392353),p=e.i(411237),f=t([i,s]);[i,s]=f.then?(await f)():f;class h extends p.Class("SendVerificationEmailPayload")({email:u.BS.Email,url:u.BS.Url}){}p.Class("SendOTPEmailPayload")({email:u.BS.Email,otp:p.Redacted(p.String)});class m extends p.Class("SendResetPasswordEmailPayload")({username:p.String,url:u.BS.Url,email:u.BS.Email}){}class g extends p.Class("InvitationEmailPayload")({email:u.BS.Email,invitedByUsername:p.String,invitedByEmail:u.BS.Email,teamName:p.String}){}class y extends c.Service()("AuthEmailService",{accessors:!0,dependencies:[n.ResendService.Default,l.IamConfig.Live],effect:c.flatMap(n.ResendService,({send:e})=>c.gen(function*(){let{email:t}=yield*l.IamConfig,r=c.fn("sendVerification")(function*(r){yield*e({from:d.value(t.from),to:d.value(r.email),subject:"Verify your email",html:`<a href="${r.url.toString()}">Verify your email</a>`})},(e,t)=>e.pipe(c.withSpan("AuthEmailService.sendVerification"),c.annotateLogs({arguments:t}),c.tapError(c.logError))),i=c.fn("sendResetPassword")(function*(r){let i=yield*(0,s.renderEmail)((0,a.reactResetPasswordEmail)({username:r.username,resetLink:r.url.toString()}));yield*e({from:d.value(t.from),to:d.value(r.email),subject:"Reset your password",react:i})},(e,t)=>e.pipe(c.withSpan("AuthEmailService.sendResetPassword"),c.annotateLogs({arguments:t}),c.tapError(c.logError))),n=c.fn("sendInvitation")(function*(r){let i=yield*(0,s.renderEmail)((0,o.reactInvitationEmail)({email:d.value(r.email),invitedByUsername:r.invitedByUsername,invitedByEmail:d.value(r.invitedByEmail),teamName:r.teamName}));yield*e({from:d.value(t.from),to:d.value(r.email),subject:"You've been invited to join an organization",react:i})},(e,t)=>e.pipe(c.withSpan("AuthEmailService.sendInvitation"),c.annotateLogs({arguments:t}),c.tapError(c.logError))),u=c.fn("sendOTP")(function*(r){yield*e({from:d.value(t.from),to:d.value(r.email),subject:"Your OTP",html:`Your OTP is ${d.value(r.otp)}`})},(e,t)=>e.pipe(c.withSpan("AuthEmailService.sendOTP"),c.annotateLogs({arguments:t}),c.tapError(c.logError)));return{sendVerification:r,sendResetPassword:i,sendInvitation:n,sendOTP:u}}))}){}e.s(["AuthEmailService",()=>y,"InvitationEmailPayload",()=>g,"SendResetPasswordEmailPayload",()=>m,"SendVerificationEmailPayload",()=>h]),r()}catch(e){r(e)}},!1),619711,e=>{"use strict";let t={deletedAt:{type:"date",required:!1},updatedAt:{type:"date",required:!1},createdAt:{type:"date",required:!1},createdBy:{type:"string",required:!1},updatedBy:{type:"string",required:!1},deletedBy:{type:"string",required:!1},version:{type:"number",required:!1},source:{type:"string",required:!1}};e.s(["commonExtraFields",0,t])},632600,e=>{"use strict";e.i(619711),e.s([],632600)},127155,e=>{"use strict";var t=e.i(154456);let r=async e=>{let r=e.context.returned;return r?r instanceof Response?200!==r.status?null:await r.clone().json():r instanceof t.APIError?null:r:null};e.s(["g",()=>r])},323591,e=>{"use strict";var t=e.i(408972);function r(e){return{authorize(r,i="AND"){let n=!1;for(let[o,a]of Object.entries(r)){let r=e[o];if(!r)return{success:!1,error:`You are not allowed to access resource: ${o}`};if(Array.isArray(a))n=a.every(e=>r.includes(e));else if("object"==typeof a){let e=a;n="OR"===e.connector?e.actions.some(e=>r.includes(e)):e.actions.every(e=>r.includes(e))}else throw new t.B("Invalid access control request");if(n&&"OR"===i)return{success:n};if(!n&&"AND"===i)return{success:!1,error:`unauthorized to access resource "${o}"`}}return n?{success:n}:{success:!1,error:"Not authorized"}},statements:e}}function i(e){return{newRole:e=>r(e),statements:e}}e.s(["createAccessControl",()=>i,"role",()=>r])},482135,e=>{"use strict";var t=e.i(323591);e.i(408972);let r={user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]},i=(0,t.createAccessControl)(r),n={admin:i.newRole({user:["create","list","set-role","ban","impersonate","delete","set-password","get","update"],session:["list","revoke","delete"]}),user:i.newRole({user:[],session:[]})};e.s(["defaultRoles",()=>n])},880610,49013,e=>{"use strict";var t=e.i(907855),r=e.i(562810),i=e.i(154456);e.i(446610);var n=e.i(909879),o=e.i(681393);e.i(338270),e.i(537430);var a=e.i(973088),s=e.i(66655);e.i(464589),e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(362160);var l=e.i(127155),u=e.i(795080),c=e.i(482135);let d=e=>{if(e.userId&&e.options?.adminUserIds?.includes(e.userId))return!0;if(!e.permissions&&!e.permission)return!1;let t=(e.role||e.options?.defaultRole||"user").split(","),r=e.options?.roles||c.defaultRoles;for(let i of t){let t=r[i],n=t?.authorize(e.permission??e.permissions);if(n?.success)return!0}return!1};e.s(["h",()=>d],49013);let p=(0,u.d)({FAILED_TO_CREATE_USER:"Failed to create user",USER_ALREADY_EXISTS:"User already exists.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",YOU_CANNOT_BAN_YOURSELF:"You cannot ban yourself",YOU_ARE_NOT_ALLOWED_TO_CHANGE_USERS_ROLE:"You are not allowed to change users role",YOU_ARE_NOT_ALLOWED_TO_CREATE_USERS:"You are not allowed to create users",YOU_ARE_NOT_ALLOWED_TO_LIST_USERS:"You are not allowed to list users",YOU_ARE_NOT_ALLOWED_TO_LIST_USERS_SESSIONS:"You are not allowed to list users sessions",YOU_ARE_NOT_ALLOWED_TO_BAN_USERS:"You are not allowed to ban users",YOU_ARE_NOT_ALLOWED_TO_IMPERSONATE_USERS:"You are not allowed to impersonate users",YOU_ARE_NOT_ALLOWED_TO_REVOKE_USERS_SESSIONS:"You are not allowed to revoke users sessions",YOU_ARE_NOT_ALLOWED_TO_DELETE_USERS:"You are not allowed to delete users",YOU_ARE_NOT_ALLOWED_TO_SET_USERS_PASSWORD:"You are not allowed to set users password",BANNED_USER:"You have been banned from this application",YOU_ARE_NOT_ALLOWED_TO_GET_USER:"You are not allowed to get user",NO_DATA_TO_UPDATE:"No data to update",YOU_ARE_NOT_ALLOWED_TO_UPDATE_USERS:"You are not allowed to update users",YOU_CANNOT_REMOVE_YOURSELF:"You cannot remove yourself"}),f={user:{fields:{role:{type:"string",required:!1,input:!1},banned:{type:"boolean",defaultValue:!1,required:!1,input:!1},banReason:{type:"string",required:!1,input:!1},banExpires:{type:"date",required:!1,input:!1}}},session:{fields:{impersonatedBy:{type:"string",required:!1}}}};function h(e){return Array.isArray(e)?e.join(","):e}let m=e=>{let u={defaultRole:e?.defaultRole??"user",adminRoles:e?.adminRoles??["admin"],bannedUserMessage:e?.bannedUserMessage??"You have been banned from this application. Please contact support if you believe this is an error.",...e},c=(0,n.c)(async e=>{let t=await (0,n.g)(e);if(!t)throw new i.APIError("UNAUTHORIZED");return{session:t}});return{id:"admin",init:()=>({options:{databaseHooks:{user:{create:{before:async t=>({data:{role:e?.defaultRole??"user",...t}})}},session:{create:{async before(e,t){if(!t)return;let r=await t.context.internalAdapter.findUserById(e.userId);if(r.banned){if(r.banExpires&&new Date(r.banExpires).getTime()<Date.now())return void await t.context.internalAdapter.updateUser(e.userId,{banned:!1,banReason:null,banExpires:null});if(t&&(t.path.startsWith("/callback")||t.path.startsWith("/oauth2/callback"))){let e=t.context.options.onAPIError?.errorURL||`${t.context.baseURL}/error`;throw t.redirect(`${e}?error=banned&error_description=${u.bannedUserMessage}`)}throw new i.APIError("FORBIDDEN",{message:u.bannedUserMessage,code:"BANNED_USER"})}}}}}}}),hooks:{after:[{matcher:e=>"/list-sessions"===e.path,handler:(0,n.c)(async e=>{let t=await (0,l.g)(e);if(!t)return;let r=t.filter(e=>!e.impersonatedBy);return e.json(r)})}]},endpoints:{setRole:(0,n.a)("/admin/set-role",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"}),role:t.union([t.string().meta({description:"The role to set. `admin` or `user` by default"}),t.array(t.string().meta({description:"The roles to set. `admin` or `user` by default"}))]).meta({description:"The role to set, this can be a string or an array of strings. Eg: `admin` or `[admin, user]`"})}),requireHeaders:!0,use:[c],metadata:{openapi:{operationId:"setRole",summary:"Set the role of a user",description:"Set the role of a user",responses:{200:{description:"User role updated",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"}}}}}}}},$Infer:{body:{}}}},async e=>{if(!d({userId:e.context.session.user.id,role:e.context.session.user.role,options:u,permissions:{user:["set-role"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_CHANGE_USERS_ROLE});let t=await e.context.internalAdapter.updateUser(e.body.userId,{role:h(e.body.role)},e);return e.json({user:t})}),getUser:(0,n.a)("/admin/get-user",{method:"GET",query:t.object({id:t.string().meta({description:"The id of the User"})}),use:[c],metadata:{openapi:{operationId:"getUser",summary:"Get an existing user",description:"Get an existing user",responses:{200:{description:"User",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"}}}}}}}}}},async e=>{let{id:t}=e.query;if(!d({userId:e.context.session.user.id,role:e.context.session.user.role,options:u,permissions:{user:["get"]}}))throw e.error("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_GET_USER,code:"YOU_ARE_NOT_ALLOWED_TO_GET_USER"});let r=await e.context.internalAdapter.findUserById(t);if(!r)throw new i.APIError("NOT_FOUND",{message:n.B.USER_NOT_FOUND});return(0,s.p)(e.context.options,r)}),createUser:(0,n.a)("/admin/create-user",{method:"POST",body:t.object({email:t.string().meta({description:"The email of the user"}),password:t.string().meta({description:"The password of the user"}),name:t.string().meta({description:"The name of the user"}),role:t.union([t.string().meta({description:"The role of the user"}),t.array(t.string().meta({description:"The roles of user"}))]).optional().meta({description:'A string or array of strings representing the roles to apply to the new user. Eg: "user"'}),data:t.record(t.string(),t.any()).optional().meta({description:"Extra fields for the user. Including custom additional fields."})}),metadata:{openapi:{operationId:"createUser",summary:"Create a new user",description:"Create a new user",responses:{200:{description:"User created",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"}}}}}}}},$Infer:{body:{}}}},async t=>{let r=await (0,n.g)(t);if(!r&&(t.request||t.headers))throw t.error("UNAUTHORIZED");if(r&&!d({userId:r.user.id,role:r.user.role,options:u,permissions:{user:["create"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_CREATE_USERS});if(await t.context.internalAdapter.findUserByEmail(t.body.email))throw new i.APIError("BAD_REQUEST",{message:p.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let o=await t.context.internalAdapter.createUser({email:t.body.email,name:t.body.name,role:(t.body.role&&h(t.body.role))??e?.defaultRole??"user",...t.body.data},t);if(!o)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:p.FAILED_TO_CREATE_USER});let a=await t.context.password.hash(t.body.password);return await t.context.internalAdapter.linkAccount({accountId:o.id,providerId:"credential",password:a,userId:o.id},t),t.json({user:o})}),adminUpdateUser:(0,n.a)("/admin/update-user",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"}),data:t.record(t.any(),t.any()).meta({description:"The user data to update"})}),use:[c],metadata:{openapi:{operationId:"updateUser",summary:"Update a user",description:"Update a user's details",responses:{200:{description:"User updated",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"}}}}}}}}}},async e=>{if(!d({userId:e.context.session.user.id,role:e.context.session.user.role,options:u,permissions:{user:["update"]}}))throw e.error("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_UPDATE_USERS,code:"YOU_ARE_NOT_ALLOWED_TO_UPDATE_USERS"});if(0===Object.keys(e.body.data).length)throw new i.APIError("BAD_REQUEST",{message:p.NO_DATA_TO_UPDATE});e.body.data?.role&&(e.body.data.role=h(e.body.data.role));let t=await e.context.internalAdapter.updateUser(e.body.userId,e.body.data,e);return e.json(t)}),listUsers:(0,n.a)("/admin/list-users",{method:"GET",use:[c],query:t.object({searchValue:t.string().optional().meta({description:'The value to search for. Eg: "some name"'}),searchField:t.enum(["email","name"]).meta({description:'The field to search in, defaults to email. Can be `email` or `name`. Eg: "name"'}).optional(),searchOperator:t.enum(["contains","starts_with","ends_with"]).meta({description:'The operator to use for the search. Can be `contains`, `starts_with` or `ends_with`. Eg: "contains"'}).optional(),limit:t.string().meta({description:"The number of users to return"}).or(t.number()).optional(),offset:t.string().meta({description:"The offset to start from"}).or(t.number()).optional(),sortBy:t.string().meta({description:"The field to sort by"}).optional(),sortDirection:t.enum(["asc","desc"]).meta({description:"The direction to sort by"}).optional(),filterField:t.string().meta({description:"The field to filter by"}).optional(),filterValue:t.string().meta({description:"The value to filter by"}).or(t.number()).or(t.boolean()).optional(),filterOperator:t.enum(["eq","ne","lt","lte","gt","gte","contains"]).meta({description:"The operator to use for the filter"}).optional()}),metadata:{openapi:{operationId:"listUsers",summary:"List users",description:"List users",responses:{200:{description:"List of users",content:{"application/json":{schema:{type:"object",properties:{users:{type:"array",items:{$ref:"#/components/schemas/User"}},total:{type:"number"},limit:{type:"number"},offset:{type:"number"}},required:["users","total"]}}}}}}}},async e=>{let t=e.context.session;if(!d({userId:e.context.session.user.id,role:t.user.role,options:u,permissions:{user:["list"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_LIST_USERS});let r=[];e.query?.searchValue&&r.push({field:e.query.searchField||"email",operator:e.query.searchOperator||"contains",value:e.query.searchValue}),e.query?.filterValue&&r.push({field:e.query.filterField||"email",operator:e.query.filterOperator||"eq",value:e.query.filterValue});try{let t=await e.context.internalAdapter.listUsers(Number(e.query?.limit)||void 0,Number(e.query?.offset)||void 0,e.query?.sortBy?{field:e.query.sortBy,direction:e.query.sortDirection||"asc"}:void 0,r.length?r:void 0),i=await e.context.internalAdapter.countTotalUsers(r.length?r:void 0);return e.json({users:t,total:i,limit:Number(e.query?.limit)||void 0,offset:Number(e.query?.offset)||void 0})}catch(t){return e.json({users:[],total:0})}}),listUserSessions:(0,n.a)("/admin/list-user-sessions",{method:"POST",use:[c],body:t.object({userId:r.coerce.string().meta({description:"The user id"})}),metadata:{openapi:{operationId:"listUserSessions",summary:"List user sessions",description:"List user sessions",responses:{200:{description:"List of user sessions",content:{"application/json":{schema:{type:"object",properties:{sessions:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}}}},async e=>{let t=e.context.session;if(!d({userId:e.context.session.user.id,role:t.user.role,options:u,permissions:{session:["list"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_LIST_USERS_SESSIONS});return{sessions:await e.context.internalAdapter.listSessions(e.body.userId)}}),unbanUser:(0,n.a)("/admin/unban-user",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"})}),use:[c],metadata:{openapi:{operationId:"unbanUser",summary:"Unban a user",description:"Unban a user",responses:{200:{description:"User unbanned",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"}}}}}}}}}},async e=>{let t=e.context.session;if(!d({userId:e.context.session.user.id,role:t.user.role,options:u,permissions:{user:["ban"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_BAN_USERS});let r=await e.context.internalAdapter.updateUser(e.body.userId,{banned:!1,banExpires:null,banReason:null,updatedAt:new Date});return e.json({user:r})}),banUser:(0,n.a)("/admin/ban-user",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"}),banReason:t.string().meta({description:"The reason for the ban"}).optional(),banExpiresIn:t.number().meta({description:"The number of seconds until the ban expires"}).optional()}),use:[c],metadata:{openapi:{operationId:"banUser",summary:"Ban a user",description:"Ban a user",responses:{200:{description:"User banned",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"}}}}}}}}}},async t=>{let r=t.context.session;if(!d({userId:t.context.session.user.id,role:r.user.role,options:u,permissions:{user:["ban"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_BAN_USERS});if(!await t.context.internalAdapter.findUserById(t.body.userId))throw new i.APIError("NOT_FOUND",{message:n.B.USER_NOT_FOUND});if(t.body.userId===t.context.session.user.id)throw new i.APIError("BAD_REQUEST",{message:p.YOU_CANNOT_BAN_YOURSELF});let o=await t.context.internalAdapter.updateUser(t.body.userId,{banned:!0,banReason:t.body.banReason||e?.defaultBanReason||"No reason",banExpires:t.body.banExpiresIn?(0,a.g)(t.body.banExpiresIn,"sec"):e?.defaultBanExpiresIn?(0,a.g)(e.defaultBanExpiresIn,"sec"):void 0,updatedAt:new Date},t);return await t.context.internalAdapter.deleteSessions(t.body.userId),t.json({user:o})}),impersonateUser:(0,n.a)("/admin/impersonate-user",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"})}),use:[c],metadata:{openapi:{operationId:"impersonateUser",summary:"Impersonate a user",description:"Impersonate a user",responses:{200:{description:"Impersonation session created",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}}}}}}}}}},async t=>{if(!d({userId:t.context.session.user.id,role:t.context.session.user.role,options:u,permissions:{user:["impersonate"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_IMPERSONATE_USERS});let r=await t.context.internalAdapter.findUserById(t.body.userId);if(!r)throw new i.APIError("NOT_FOUND",{message:"User not found"});let n=await t.context.internalAdapter.createSession(r.id,t,!0,{impersonatedBy:t.context.session.user.id,expiresAt:e?.impersonationSessionDuration?(0,a.g)(e.impersonationSessionDuration,"sec"):(0,a.g)(3600,"sec")},!0);if(!n)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:p.FAILED_TO_CREATE_USER});let s=t.context.authCookies;(0,o.d)(t);let l=await t.getSignedCookie(t.context.authCookies.dontRememberToken.name,t.context.secret),c=t.context.createAuthCookie("admin_session");return await t.setSignedCookie(c.name,`${t.context.session.session.token}:${l||""}`,t.context.secret,s.sessionToken.options),await (0,o.s)(t,{session:n,user:r},!0),t.json({session:n,user:r})}),stopImpersonating:(0,n.a)("/admin/stop-impersonating",{method:"POST",requireHeaders:!0},async e=>{let t=await (0,n.g)(e);if(!t)throw new i.APIError("UNAUTHORIZED");if(!t.session.impersonatedBy)throw new i.APIError("BAD_REQUEST",{message:"You are not impersonating anyone"});let r=await e.context.internalAdapter.findUserById(t.session.impersonatedBy);if(!r)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to find user"});let a=e.context.createAuthCookie("admin_session").name,s=await e.getSignedCookie(a,e.context.secret);if(!s)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to find admin session"});let[l,u]=s?.split(":"),c=await e.context.internalAdapter.findSession(l);if(!c||c.session.userId!==r.id)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to find admin session"});return await e.context.internalAdapter.deleteSession(t.session.token),await (0,o.s)(e,c,!!u),e.json(c)}),revokeUserSession:(0,n.a)("/admin/revoke-user-session",{method:"POST",body:t.object({sessionToken:t.string().meta({description:"The session token"})}),use:[c],metadata:{openapi:{operationId:"revokeUserSession",summary:"Revoke a user session",description:"Revoke a user session",responses:{200:{description:"Session revoked",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=e.context.session;if(!d({userId:e.context.session.user.id,role:t.user.role,options:u,permissions:{session:["revoke"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_REVOKE_USERS_SESSIONS});return await e.context.internalAdapter.deleteSession(e.body.sessionToken),e.json({success:!0})}),revokeUserSessions:(0,n.a)("/admin/revoke-user-sessions",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"})}),use:[c],metadata:{openapi:{operationId:"revokeUserSessions",summary:"Revoke all user sessions",description:"Revoke all user sessions",responses:{200:{description:"Sessions revoked",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=e.context.session;if(!d({userId:e.context.session.user.id,role:t.user.role,options:u,permissions:{session:["revoke"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_REVOKE_USERS_SESSIONS});return await e.context.internalAdapter.deleteSessions(e.body.userId),e.json({success:!0})}),removeUser:(0,n.a)("/admin/remove-user",{method:"POST",body:t.object({userId:r.coerce.string().meta({description:"The user id"})}),use:[c],metadata:{openapi:{operationId:"removeUser",summary:"Remove a user",description:"Delete a user and all their sessions and accounts. Cannot be undone.",responses:{200:{description:"User removed",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=e.context.session;if(!d({userId:e.context.session.user.id,role:t.user.role,options:u,permissions:{user:["delete"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_DELETE_USERS});if(e.body.userId===e.context.session.user.id)throw new i.APIError("BAD_REQUEST",{message:p.YOU_CANNOT_REMOVE_YOURSELF});if(!await e.context.internalAdapter.findUserById(e.body.userId))throw new i.APIError("NOT_FOUND",{message:"User not found"});return await e.context.internalAdapter.deleteUser(e.body.userId),e.json({success:!0})}),setUserPassword:(0,n.a)("/admin/set-user-password",{method:"POST",body:t.object({newPassword:t.string().meta({description:"The new password"}),userId:r.coerce.string().meta({description:"The user id"})}),use:[c],metadata:{openapi:{operationId:"setUserPassword",summary:"Set a user's password",description:"Set a user's password",responses:{200:{description:"Password set",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{if(!d({userId:e.context.session.user.id,role:e.context.session.user.role,options:u,permissions:{user:["set-password"]}}))throw new i.APIError("FORBIDDEN",{message:p.YOU_ARE_NOT_ALLOWED_TO_SET_USERS_PASSWORD});let t=await e.context.password.hash(e.body.newPassword);return await e.context.internalAdapter.updatePassword(e.body.userId,t),e.json({status:!0})}),userHasPermission:(0,n.a)("/admin/has-permission",{method:"POST",body:t.object({userId:r.coerce.string().optional().meta({description:'The user id. Eg: "user-id"'}),role:t.string().optional().meta({description:'The role to check permission for. Eg: "admin"'})}).and(t.union([t.object({permission:t.record(t.string(),t.array(t.string())),permissions:t.undefined()}),t.object({permission:t.undefined(),permissions:t.record(t.string(),t.array(t.string()))})])),metadata:{openapi:{description:"Check if the user has permission",requestBody:{content:{"application/json":{schema:{type:"object",properties:{permission:{type:"object",description:"The permission to check",deprecated:!0},permissions:{type:"object",description:"The permission to check"}},required:["permissions"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"},success:{type:"boolean"}},required:["success"]}}}}}},$Infer:{body:{}}}},async t=>{if(!t.body?.permission&&!t.body?.permissions)throw new i.APIError("BAD_REQUEST",{message:"invalid permission check. no permission(s) were passed."});let r=await (0,n.g)(t);if(!r&&(t.request||t.headers))throw new i.APIError("UNAUTHORIZED");if(!r&&!t.body.userId&&!t.body.role)throw new i.APIError("BAD_REQUEST",{message:"user id or role is required"});let o=r?.user||(t.body.role?{id:t.body.userId||"",role:t.body.role}:null)||await t.context.internalAdapter.findUserById(t.body.userId);if(!o)throw new i.APIError("BAD_REQUEST",{message:"user not found"});let a=d({userId:o.id,role:o.role,options:e,permissions:t.body.permissions??t.body.permission});return t.json({error:null,success:a})})},$ERROR_CODES:p,schema:(0,s.m)(f,u.schema),options:e}};e.s(["a",()=>m],880610)},271314,e=>{"use strict";var t=e.i(880610);e.i(154456),e.i(446610),e.i(909879),e.i(973088),e.i(681393),e.i(408972),e.i(338270),e.i(530501),e.i(35972),e.i(130717),e.i(464589),e.i(181984),e.i(323770),e.i(795080),e.i(282318),e.i(805650),e.i(172381),e.i(362160),e.i(339127),e.i(533078),e.i(649330),e.i(537430),e.i(129776),e.i(66655),e.i(127155),e.i(49013),e.i(482135),e.i(323591);var r=t,i=e.i(405614);let n=i.gen(function*(){return{}}),o=i.gen(function*(){let e=yield*n;return(0,r.a)(e)});e.s(["adminPlugin",0,o],271314)},54557,e=>{"use strict";e.i(271314),e.s([])},250278,e=>{"use strict";var t=e.i(154456);e.i(446610);var r=e.i(909879),i=e.i(681393);e.i(338270),e.i(537430);var n=e.i(66655);e.i(464589);var o=e.i(649330);e.i(282318),e.i(530501),e.i(172381),e.i(362160);var a=e.i(181984);e.i(973088),e.i(805650),e.i(408972),e.i(533078),e.i(339127),e.i(130717),e.i(35972),e.i(323770),e.i(129776),e.i(795080);let s={user:{fields:{isAnonymous:{type:"boolean",required:!1}}}},l=e=>{let l={FAILED_TO_CREATE_USER:"Failed to create user",COULD_NOT_CREATE_SESSION:"Could not create session",ANONYMOUS_USERS_CANNOT_SIGN_IN_AGAIN_ANONYMOUSLY:"Anonymous users cannot sign in again anonymously"};return{id:"anonymous",endpoints:{signInAnonymous:(0,r.a)("/sign-in/anonymous",{method:"POST",metadata:{openapi:{description:"Sign in anonymously",responses:{200:{description:"Sign in anonymously",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"},session:{$ref:"#/components/schemas/Session"}}}}}}}}}},async n=>{let s=await (0,r.g)(n,{disableRefresh:!0});if(s?.user.isAnonymous)throw new t.APIError("BAD_REQUEST",{message:l.ANONYMOUS_USERS_CANNOT_SIGN_IN_AGAIN_ANONYMOUSLY});let{emailDomainName:u=(0,a.g)(n.context.baseURL)}=e||{},c=(0,o.g)(),d=`temp-${c}@${u}`,p=await e?.generateName?.(n)||"Anonymous",f=await n.context.internalAdapter.createUser({email:d,emailVerified:!1,isAnonymous:!0,name:p,createdAt:new Date,updatedAt:new Date},n);if(!f)throw n.error("INTERNAL_SERVER_ERROR",{message:l.FAILED_TO_CREATE_USER});let h=await n.context.internalAdapter.createSession(f.id,n);return h?(await (0,i.s)(n,{session:h,user:f}),n.json({token:h.token,user:{id:f.id,email:f.email,emailVerified:f.emailVerified,name:f.name,createdAt:f.createdAt,updatedAt:f.updatedAt}})):n.json(null,{status:400,body:{message:l.COULD_NOT_CREATE_SESSION}})})},hooks:{after:[{matcher:e=>e.path.startsWith("/sign-in")||e.path.startsWith("/sign-up")||e.path.startsWith("/callback")||e.path.startsWith("/oauth2/callback")||e.path.startsWith("/magic-link/verify")||e.path.startsWith("/email-otp/verify-email")||e.path.startsWith("/one-tap/callback")||e.path.startsWith("/passkey/verify-authentication"),handler:(0,r.c)(async n=>{let o=n.context.responseHeaders?.get("set-cookie"),a=n.context.authCookies.sessionToken.name;if(!(0,i.p)(o||"").get(a)?.value.split(".")[0])return;let s=await (0,r.g)(n,{disableRefresh:!0});if(!s||!s.user.isAnonymous)return;if("/sign-in/anonymous"===n.path&&!n.context.newSession)throw new t.APIError("BAD_REQUEST",{message:l.ANONYMOUS_USERS_CANNOT_SIGN_IN_AGAIN_ANONYMOUSLY});let u=n.context.newSession;u&&(e?.onLinkAccount&&await e?.onLinkAccount?.({anonymousUser:s,newUser:u}),e?.disableDeleteAnonymousUser||await n.context.internalAdapter.deleteUser(s.user.id))})}]},schema:(0,n.m)(s,e?.schema),$ERROR_CODES:l}};e.s(["anonymous",()=>l])},140612,e=>{"use strict";var t=e.i(250278);let r=e.i(405614).succeed((0,t.anonymous)());e.s(["anonymousPlugin",0,r])},138986,e=>{"use strict";e.i(140612),e.s([])},1738,e=>{"use strict";let t={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},r=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,i={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0},n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function o(e){return e instanceof Date&&!isNaN(e.getTime())}function a(e){let t=n.exec(e);if(!t)return null;let[,r,i,a,s,l,u,c,d,p,f]=t,h=new Date(Date.UTC(parseInt(r,10),parseInt(i,10)-1,parseInt(a,10),parseInt(s,10),parseInt(l,10),parseInt(u,10),c?parseInt(c.padEnd(3,"0"),10):0));if(d){let e=(60*parseInt(p,10)+parseInt(f,10))*("+"===d?-1:1);h.setUTCMinutes(h.getUTCMinutes()+e)}return o(h)?h:null}function s(e,n={}){let{strict:o=!1,warnings:l=!1,reviver:u,parseDates:c=!0}=n;if("string"!=typeof e)return e;let d=e.trim();if(d.length>0&&'"'===d[0]&&d.endsWith('"')&&!d.slice(1,-1).includes('"'))return d.slice(1,-1);let p=d.toLowerCase();if(p.length<=9&&p in i)return i[p];if(!r.test(d)){if(o)throw SyntaxError("[better-json] Invalid JSON");return e}if(Object.entries(t).some(([e,t])=>{let r=t.test(d);return r&&l&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${e} pattern`),r})&&o)throw Error("[better-json] Potential prototype pollution attempt detected");try{let e=(e,t)=>{if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){l&&console.warn(`[better-json] Dropping "${e}" key to prevent prototype pollution`);return}if(c&&"string"==typeof t){let e=a(t);if(e)return e}return u?u(e,t):t};return JSON.parse(d,e)}catch(t){if(o)throw t;return e}}function l(e,t={strict:!0}){return s(e,t)}e.s(["p",()=>l])},775638,216344,e=>{"use strict";var t=e.i(909879);e.i(154456),e.i(446610);var r=e.i(907855),i=e.i(562810);e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(537430),e.i(339127),e.i(282318),e.i(172381),e.i(362160);var n=e.i(649330);let o=(0,t.c)(async()=>({})),a=(0,t.c)({use:[t.s]},async e=>({session:e.context.session})),s=r.string(),l=r.enum(["pending","accepted","rejected","canceled"]).default("pending");r.object({id:r.string().default(n.g),name:r.string(),slug:r.string(),logo:r.string().nullish().optional(),metadata:r.record(r.string(),r.unknown()).or(r.string().transform(e=>JSON.parse(e))).optional(),createdAt:r.date()}),r.object({id:r.string().default(n.g),organizationId:r.string(),userId:i.coerce.string(),role:s,createdAt:r.date().default(()=>new Date)}),r.object({id:r.string().default(n.g),organizationId:r.string(),email:r.string(),role:s,status:l,teamId:r.string().nullish(),inviterId:r.string(),expiresAt:r.date()});let u=r.object({id:r.string().default(n.g),name:r.string().min(1),organizationId:r.string(),createdAt:r.date(),updatedAt:r.date().optional()});r.object({id:r.string().default(n.g),teamId:r.string(),userId:r.string(),createdAt:r.date().default(()=>new Date)}),r.object({id:r.string().default(n.g),organizationId:r.string(),role:r.string(),permission:r.record(r.string(),r.array(r.string())),createdAt:r.date().default(()=>new Date),updatedAt:r.date().optional()});let c=["admin","member","owner"];r.union([r.enum(c),r.array(r.enum(c))]),e.s(["a",()=>a,"o",()=>o,"t",()=>u],775638);var d=e.i(323591);e.i(408972);let p={organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"],ac:["create","read","update","delete"]},f=(0,d.createAccessControl)(p),h={admin:f.newRole({organization:["update"],invitation:["create","cancel"],member:["create","update","delete"],team:["create","update","delete"],ac:["create","read","update","delete"]}),owner:f.newRole({organization:["update","delete"],member:["create","update","delete"],invitation:["create","cancel"],team:["create","update","delete"],ac:["create","read","update","delete"]}),member:f.newRole({organization:[],member:[],invitation:[],team:[],ac:["read"]})};e.s(["defaultRoles",()=>h],216344)},841190,217202,69703,e=>{"use strict";var t=e.i(154456),r=e.i(907855),i=e.i(562810),n=e.i(909879);e.i(446610),e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(537430),e.i(339127),e.i(282318),e.i(172381),e.i(362160);var o=e.i(973088),a=e.i(408972),s=e.i(1738),l=e.i(775638),u=e.i(681393),c=e.i(290544);function d({fields:e,isClientSide:t}){let r=Object.keys(e).reduce((r,i)=>{let n,o=e[i];return!o||t&&!1===o.input||(n="json"===o.type?c.json?c.json():c.any():"string[]"===o.type||"number[]"===o.type?c.array("string[]"===o.type?c.string():c.number()):Array.isArray(o.type)?c.any():c[o.type](),o?.required===!1&&(n=n.optional()),o?.returned===!1)?r:{...r,[i]:n}},{});return c.object(r)}e.s(["t",()=>d],217202);var p=e.i(795080),f=e.i(216344);let h=(e,t)=>{if(!e.permissions&&!e.permission)return!1;let r=e.role.split(","),i=e.options.creatorRole||"owner",n=r.includes(i),o=e.allowCreatorAllPermissions||!1;if(n&&o)return!0;for(let i of r){let r=t[i],n=r?.authorize(e.permissions??e.permission);if(n?.success)return!0}return!1},m=new Map;e.s(["c",()=>m,"h",()=>h],69703);let g=(e,t)=>{let r={};for(let[i,n]of Object.entries(e))r[i]=e=>n({...e,context:{...t,...e.context}}),r[i].path=n.path,r[i].method=n.method,r[i].options=n.options,r[i].headers=n.headers;return r},y=(e,t)=>{let r=e.adapter;return{findOrganizationBySlug:async e=>await r.findOne({model:"organization",where:[{field:"slug",value:e}]}),createOrganization:async e=>{let t=await r.create({model:"organization",data:{...e.organization,metadata:e.organization.metadata?JSON.stringify(e.organization.metadata):void 0},forceAllowId:!0});return{...t,metadata:t.metadata&&"string"==typeof t.metadata?JSON.parse(t.metadata):void 0}},findMemberByEmail:async e=>{let t=await r.findOne({model:"user",where:[{field:"email",value:e.email.toLowerCase()}]});if(!t)return null;let i=await r.findOne({model:"member",where:[{field:"organizationId",value:e.organizationId},{field:"userId",value:t.id}]});return i?{...i,user:{id:t.id,name:t.name,email:t.email,image:t.image}}:null},listMembers:async e=>{let i=await Promise.all([r.findMany({model:"member",where:[{field:"organizationId",value:e.organizationId},...e.filter?.field?[{field:e.filter?.field,value:e.filter?.value}]:[]],limit:e.limit||t?.membershipLimit||100,offset:e.offset||0,sortBy:e.sortBy?{field:e.sortBy,direction:e.sortOrder||"asc"}:void 0}),r.count({model:"member",where:[{field:"organizationId",value:e.organizationId},...e.filter?.field?[{field:e.filter?.field,value:e.filter?.value}]:[]]})]),n=await r.findMany({model:"user",where:[{field:"id",value:i[0].map(e=>e.userId),operator:"in"}]});return{members:i[0].map(e=>{let t=n.find(t=>t.id===e.userId);if(!t)throw new a.B("Unexpected error: User not found for member");return{...e,user:{id:t.id,name:t.name,email:t.email,image:t.image}}}),total:i[1]}},findMemberByOrgId:async e=>{let[t,i]=await Promise.all([await r.findOne({model:"member",where:[{field:"userId",value:e.userId},{field:"organizationId",value:e.organizationId}]}),await r.findOne({model:"user",where:[{field:"id",value:e.userId}]})]);return i&&t?{...t,user:{id:i.id,name:i.name,email:i.email,image:i.image}}:null},findMemberById:async e=>{let t=await r.findOne({model:"member",where:[{field:"id",value:e}]});if(!t)return null;let i=await r.findOne({model:"user",where:[{field:"id",value:t.userId}]});return i?{...t,user:{id:i.id,name:i.name,email:i.email,image:i.image}}:null},createMember:async e=>await r.create({model:"member",data:{...e,createdAt:new Date}}),updateMember:async(e,t)=>await r.update({model:"member",where:[{field:"id",value:e}],update:{role:t}}),deleteMember:async e=>await r.delete({model:"member",where:[{field:"id",value:e}]}),updateOrganization:async(e,t)=>{let i=await r.update({model:"organization",where:[{field:"id",value:e}],update:{...t,metadata:"object"==typeof t.metadata?JSON.stringify(t.metadata):t.metadata}});return i?{...i,metadata:i.metadata?(0,s.p)(i.metadata):void 0}:null},deleteOrganization:async e=>(await r.delete({model:"member",where:[{field:"organizationId",value:e}]}),await r.delete({model:"invitation",where:[{field:"organizationId",value:e}]}),await r.delete({model:"organization",where:[{field:"id",value:e}]}),e),setActiveOrganization:async(t,r,i)=>await e.internalAdapter.updateSession(t,{activeOrganizationId:r},i),findOrganizationById:async e=>await r.findOne({model:"organization",where:[{field:"id",value:e}]}),checkMembership:async({userId:e,organizationId:t})=>await r.findOne({model:"member",where:[{field:"userId",value:e},{field:"organizationId",value:t}]}),findFullOrganization:async({organizationId:e,isSlug:i,includeTeams:n,membersLimit:o})=>{let s=await r.findOne({model:"organization",where:[{field:i?"slug":"id",value:e}]});if(!s)return null;let[l,u,c]=await Promise.all([r.findMany({model:"invitation",where:[{field:"organizationId",value:s.id}]}),r.findMany({model:"member",where:[{field:"organizationId",value:s.id}],limit:o??t?.membershipLimit??100}),n?r.findMany({model:"team",where:[{field:"organizationId",value:s.id}]}):null]);if(!s)return null;let d=u.map(e=>e.userId),p=new Map((d.length>0?await r.findMany({model:"user",where:[{field:"id",value:d,operator:"in"}],limit:t?.membershipLimit||100}):[]).map(e=>[e.id,e])),f=u.map(e=>{let t=p.get(e.userId);if(!t)throw new a.B("Unexpected error: User not found for member");return{...e,user:{id:t.id,name:t.name,email:t.email,image:t.image}}});return{...s,invitations:l,members:f,teams:c}},listOrganizations:async e=>{let t=await r.findMany({model:"member",where:[{field:"userId",value:e}]});if(!t||0===t.length)return[];let i=t.map(e=>e.organizationId);return await r.findMany({model:"organization",where:[{field:"id",value:i,operator:"in"}]})},createTeam:async e=>await r.create({model:"team",data:e}),findTeamById:async({teamId:e,organizationId:i,includeTeamMembers:n})=>{let o=await r.findOne({model:"team",where:[{field:"id",value:e},...i?[{field:"organizationId",value:i}]:[]]});if(!o)return null;let a=[];return n?(a=await r.findMany({model:"teamMember",where:[{field:"teamId",value:e}],limit:t?.membershipLimit||100}),{...o,members:a}):o},updateTeam:async(e,t)=>("id"in t&&(t.id=void 0),await r.update({model:"team",where:[{field:"id",value:e}],update:{...t}})),deleteTeam:async e=>(await r.deleteMany({model:"teamMember",where:[{field:"teamId",value:e}]}),await r.delete({model:"team",where:[{field:"id",value:e}]})),listTeams:async e=>await r.findMany({model:"team",where:[{field:"organizationId",value:e}]}),createTeamInvitation:async({email:e,role:t,teamId:i,organizationId:n,inviterId:a,expiresIn:s=1728e5})=>{let l=(0,o.g)(s);return await r.create({model:"invitation",data:{email:e,role:t,organizationId:n,teamId:i,inviterId:a,status:"pending",expiresAt:l}})},setActiveTeam:async(t,r,i)=>await e.internalAdapter.updateSession(t,{activeTeamId:r},i),listTeamMembers:async e=>await r.findMany({model:"teamMember",where:[{field:"teamId",value:e.teamId}]}),countTeamMembers:async e=>await r.count({model:"teamMember",where:[{field:"teamId",value:e.teamId}]}),countMembers:async e=>await r.count({model:"member",where:[{field:"organizationId",value:e.organizationId}]}),listTeamsByUser:async e=>{let t=await r.findMany({model:"teamMember",where:[{field:"userId",value:e.userId}]});return await r.findMany({model:"team",where:[{field:"id",operator:"in",value:t.map(e=>e.teamId)}]})},findTeamMember:async e=>await r.findOne({model:"teamMember",where:[{field:"teamId",value:e.teamId},{field:"userId",value:e.userId}]}),findOrCreateTeamMember:async e=>{let t=await r.findOne({model:"teamMember",where:[{field:"teamId",value:e.teamId},{field:"userId",value:e.userId}]});return t||await r.create({model:"teamMember",data:{teamId:e.teamId,userId:e.userId,createdAt:new Date}})},removeTeamMember:async e=>{await r.delete({model:"teamMember",where:[{field:"teamId",value:e.teamId},{field:"userId",value:e.userId}]})},findInvitationsByTeamId:async e=>await r.findMany({model:"invitation",where:[{field:"teamId",value:e}]}),listUserInvitations:async e=>await r.findMany({model:"invitation",where:[{field:"email",value:e.toLowerCase()}]}),createInvitation:async({invitation:e,user:i})=>{let n=172800,a=(0,o.g)(t?.invitationExpiresIn||n,"sec");return await r.create({model:"invitation",data:{status:"pending",expiresAt:a,inviterId:i.id,...e,teamId:e.teamIds.length>0?e.teamIds.join(","):null}})},findInvitationById:async e=>await r.findOne({model:"invitation",where:[{field:"id",value:e}]}),findPendingInvitation:async e=>(await r.findMany({model:"invitation",where:[{field:"email",value:e.email.toLowerCase()},{field:"organizationId",value:e.organizationId},{field:"status",value:"pending"}]})).filter(e=>new Date(e.expiresAt)>new Date),findPendingInvitations:async e=>(await r.findMany({model:"invitation",where:[{field:"organizationId",value:e.organizationId},{field:"status",value:"pending"}]})).filter(e=>new Date(e.expiresAt)>new Date),listInvitations:async e=>await r.findMany({model:"invitation",where:[{field:"organizationId",value:e.organizationId}]}),updateInvitation:async e=>await r.update({model:"invitation",where:[{field:"id",value:e.invitationId}],update:{status:e.status}})}},v=(0,p.d)({YOU_ARE_NOT_ALLOWED_TO_CREATE_A_NEW_ORGANIZATION:"You are not allowed to create a new organization",YOU_HAVE_REACHED_THE_MAXIMUM_NUMBER_OF_ORGANIZATIONS:"You have reached the maximum number of organizations",ORGANIZATION_ALREADY_EXISTS:"Organization already exists",ORGANIZATION_NOT_FOUND:"Organization not found",USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION:"User is not a member of the organization",YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_ORGANIZATION:"You are not allowed to update this organization",YOU_ARE_NOT_ALLOWED_TO_DELETE_THIS_ORGANIZATION:"You are not allowed to delete this organization",NO_ACTIVE_ORGANIZATION:"No active organization",USER_IS_ALREADY_A_MEMBER_OF_THIS_ORGANIZATION:"User is already a member of this organization",MEMBER_NOT_FOUND:"Member not found",ROLE_NOT_FOUND:"Role not found",YOU_ARE_NOT_ALLOWED_TO_CREATE_A_NEW_TEAM:"You are not allowed to create a new team",TEAM_ALREADY_EXISTS:"Team already exists",TEAM_NOT_FOUND:"Team not found",YOU_CANNOT_LEAVE_THE_ORGANIZATION_AS_THE_ONLY_OWNER:"You cannot leave the organization as the only owner",YOU_CANNOT_LEAVE_THE_ORGANIZATION_WITHOUT_AN_OWNER:"You cannot leave the organization without an owner",YOU_ARE_NOT_ALLOWED_TO_DELETE_THIS_MEMBER:"You are not allowed to delete this member",YOU_ARE_NOT_ALLOWED_TO_INVITE_USERS_TO_THIS_ORGANIZATION:"You are not allowed to invite users to this organization",USER_IS_ALREADY_INVITED_TO_THIS_ORGANIZATION:"User is already invited to this organization",INVITATION_NOT_FOUND:"Invitation not found",YOU_ARE_NOT_THE_RECIPIENT_OF_THE_INVITATION:"You are not the recipient of the invitation",EMAIL_VERIFICATION_REQUIRED_BEFORE_ACCEPTING_OR_REJECTING_INVITATION:"Email verification required before accepting or rejecting invitation",YOU_ARE_NOT_ALLOWED_TO_CANCEL_THIS_INVITATION:"You are not allowed to cancel this invitation",INVITER_IS_NO_LONGER_A_MEMBER_OF_THE_ORGANIZATION:"Inviter is no longer a member of the organization",YOU_ARE_NOT_ALLOWED_TO_INVITE_USER_WITH_THIS_ROLE:"You are not allowed to invite a user with this role",FAILED_TO_RETRIEVE_INVITATION:"Failed to retrieve invitation",YOU_HAVE_REACHED_THE_MAXIMUM_NUMBER_OF_TEAMS:"You have reached the maximum number of teams",UNABLE_TO_REMOVE_LAST_TEAM:"Unable to remove last team",YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_MEMBER:"You are not allowed to update this member",ORGANIZATION_MEMBERSHIP_LIMIT_REACHED:"Organization membership limit reached",YOU_ARE_NOT_ALLOWED_TO_CREATE_TEAMS_IN_THIS_ORGANIZATION:"You are not allowed to create teams in this organization",YOU_ARE_NOT_ALLOWED_TO_DELETE_TEAMS_IN_THIS_ORGANIZATION:"You are not allowed to delete teams in this organization",YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_TEAM:"You are not allowed to update this team",YOU_ARE_NOT_ALLOWED_TO_DELETE_THIS_TEAM:"You are not allowed to delete this team",INVITATION_LIMIT_REACHED:"Invitation limit reached",TEAM_MEMBER_LIMIT_REACHED:"Team member limit reached",USER_IS_NOT_A_MEMBER_OF_THE_TEAM:"User is not a member of the team",YOU_CAN_NOT_ACCESS_THE_MEMBERS_OF_THIS_TEAM:"You are not allowed to list the members of this team",YOU_DO_NOT_HAVE_AN_ACTIVE_TEAM:"You do not have an active team",YOU_ARE_NOT_ALLOWED_TO_CREATE_A_NEW_TEAM_MEMBER:"You are not allowed to create a new member",YOU_ARE_NOT_ALLOWED_TO_REMOVE_A_TEAM_MEMBER:"You are not allowed to remove a team member",YOU_ARE_NOT_ALLOWED_TO_ACCESS_THIS_ORGANIZATION:"You are not allowed to access this organization as an owner",YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION:"You are not a member of this organization",MISSING_AC_INSTANCE:"Dynamic Access Control requires a pre-defined ac instance on the server auth plugin. Read server logs for more information",YOU_MUST_BE_IN_AN_ORGANIZATION_TO_CREATE_A_ROLE:"You must be in an organization to create a role",YOU_ARE_NOT_ALLOWED_TO_CREATE_A_ROLE:"You are not allowed to create a role",YOU_ARE_NOT_ALLOWED_TO_UPDATE_A_ROLE:"You are not allowed to update a role",YOU_ARE_NOT_ALLOWED_TO_DELETE_A_ROLE:"You are not allowed to delete a role",YOU_ARE_NOT_ALLOWED_TO_READ_A_ROLE:"You are not allowed to read a role",YOU_ARE_NOT_ALLOWED_TO_LIST_A_ROLE:"You are not allowed to list a role",YOU_ARE_NOT_ALLOWED_TO_GET_A_ROLE:"You are not allowed to get a role",TOO_MANY_ROLES:"This organization has too many roles",INVALID_RESOURCE:"The provided permission includes an invalid resource",ROLE_NAME_IS_ALREADY_TAKEN:"That role name is already taken",CANNOT_DELETE_A_PRE_DEFINED_ROLE:"Cannot delete a pre-defined role"}),b=async(e,i)=>{let n={...e.options.roles||f.defaultRoles};if(i&&e.organizationId&&e.options.dynamicAccessControl?.enabled&&e.options.ac&&!e.useMemoryCache)for(let{role:o,permission:a}of(await i.context.adapter.findMany({model:"organizationRole",where:[{field:"organizationId",value:e.organizationId}]}))){if(o in n)continue;let s=r.record(r.string(),r.array(r.string())).safeParse(JSON.parse(a));if(!s.success)throw i.context.logger.error("[hasPermission] Invalid permissions for role "+o,{permissions:JSON.parse(a)}),new t.APIError("INTERNAL_SERVER_ERROR",{message:"Invalid permissions for role "+o});n[o]=e.options.ac.newRole(s.data)}return e.useMemoryCache&&(n=m.get(e.organizationId)||n),m.set(e.organizationId,n),h(e,n)},A=e=>{let i=d({fields:e?.schema?.invitation?.additionalFields||{},isClientSide:!0}),a=r.object({email:r.string().meta({description:"The email address of the user to invite"}),role:r.union([r.string().meta({description:"The role to assign to the user"}),r.array(r.string().meta({description:"The roles to assign to the user"}))]).meta({description:'The role(s) to assign to the user. It can be `admin`, `member`, or `guest`. Eg: "member"'}),organizationId:r.string().meta({description:"The organization ID to invite the user to"}).optional(),resend:r.boolean().meta({description:"Resend the invitation email, if the user is already invited. Eg: true"}).optional(),teamId:r.union([r.string().meta({description:"The team ID to invite the user to"}).optional(),r.array(r.string()).meta({description:"The team IDs to invite the user to"}).optional()])});return(0,n.a)("/organization/invite-member",{method:"POST",use:[l.o,l.a],body:r.object({...a.shape,...i.shape}),metadata:{$Infer:{body:{}},openapi:{description:"Invite a user to an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string"},email:{type:"string"},role:{type:"string"},organizationId:{type:"string"},inviterId:{type:"string"},status:{type:"string"},expiresAt:{type:"string"}},required:["id","email","role","organizationId","inviterId","status","expiresAt"]}}}}}}}},async r=>{let i=r.context.session,n=r.body.organizationId||i.session.activeOrganizationId;if(!n)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let a=y(r.context,e),s=await a.findMemberByOrgId({userId:i.user.id,organizationId:n});if(!s)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});if(!await b({role:s.role,options:r.context.orgOptions,permissions:{invitation:["create"]},organizationId:n},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_INVITE_USERS_TO_THIS_ORGANIZATION});let l=r.context.orgOptions.creatorRole||"owner",u=el(r.body.role);if(s.role!==l&&u.split(",").includes(l))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_INVITE_USER_WITH_THIS_ROLE});if(await a.findMemberByEmail({email:r.body.email,organizationId:n}))throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_ALREADY_A_MEMBER_OF_THIS_ORGANIZATION});let c=await a.findPendingInvitation({email:r.body.email,organizationId:n});if(c.length&&!r.body.resend)throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_ALREADY_INVITED_TO_THIS_ORGANIZATION});let d=await a.findOrganizationById(n);if(!d)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});if(c.length&&r.body.resend){let e=c[0],t=172800,n=(0,o.g)(r.context.orgOptions.invitationExpiresIn||t,"sec");await r.context.adapter.update({model:"invitation",where:[{field:"id",value:e.id}],update:{expiresAt:n}});let a={...e,expiresAt:n};return await r.context.orgOptions.sendInvitationEmail?.({id:a.id,role:a.role,email:a.email.toLowerCase(),organization:d,inviter:{...s,user:i.user},invitation:a},r.request),r.json(a)}c.length&&r.context.orgOptions.cancelPendingInvitationsOnReInvite&&await a.updateInvitation({invitationId:c[0].id,status:"canceled"});let p="function"==typeof r.context.orgOptions.invitationLimit?await r.context.orgOptions.invitationLimit({user:i.user,organization:d,member:s},r.context):r.context.orgOptions.invitationLimit??100;if((await a.findPendingInvitations({organizationId:n})).length>=p)throw new t.APIError("FORBIDDEN",{message:v.INVITATION_LIMIT_REACHED});if(r.context.orgOptions.teams&&r.context.orgOptions.teams.enabled&&void 0!==r.context.orgOptions.teams.maximumMembersPerTeam&&"teamId"in r.body&&r.body.teamId)for(let e of"string"==typeof r.body.teamId?[r.body.teamId]:r.body.teamId){let o=await a.findTeamById({teamId:e,organizationId:n,includeTeamMembers:!0});if(!o)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND});let s="function"==typeof r.context.orgOptions.teams.maximumMembersPerTeam?await r.context.orgOptions.teams.maximumMembersPerTeam({teamId:e,session:i,organizationId:n}):r.context.orgOptions.teams.maximumMembersPerTeam;if(o.members.length>=s)throw new t.APIError("FORBIDDEN",{message:v.TEAM_MEMBER_LIMIT_REACHED})}let f="teamId"in r.body?"string"==typeof r.body.teamId?[r.body.teamId]:r.body.teamId??[]:[],{email:h,role:m,organizationId:g,resend:A,...w}=r.body,_={role:u,email:r.body.email.toLowerCase(),organizationId:n,teamIds:f,...w||{}};if(e?.organizationHooks?.beforeCreateInvitation){let t=await e?.organizationHooks.beforeCreateInvitation({invitation:{..._,inviterId:i.user.id,teamId:f.length>0?f[0]:void 0},inviter:i.user,organization:d});t&&"object"==typeof t&&"data"in t&&(_={..._,...t.data})}let S=await a.createInvitation({invitation:_,user:i.user});return await r.context.orgOptions.sendInvitationEmail?.({id:S.id,role:S.role,email:S.email.toLowerCase(),organization:d,inviter:{...s,user:i.user},invitation:S},r.request),e?.organizationHooks?.afterCreateInvitation&&await e?.organizationHooks.afterCreateInvitation({invitation:S,inviter:i.user,organization:d}),r.json(S)})},w=e=>(0,n.a)("/organization/accept-invitation",{method:"POST",body:r.object({invitationId:r.string().meta({description:"The ID of the invitation to accept"})}),use:[l.o,l.a],metadata:{openapi:{description:"Accept an invitation to an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{invitation:{type:"object"},member:{type:"object"}}}}}}}}}},async r=>{let i=r.context.session,n=y(r.context,e),o=await n.findInvitationById(r.body.invitationId);if(!o||o.expiresAt<new Date||"pending"!==o.status)throw new t.APIError("BAD_REQUEST",{message:v.INVITATION_NOT_FOUND});if(o.email.toLowerCase()!==i.user.email.toLowerCase())throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_THE_RECIPIENT_OF_THE_INVITATION});if(r.context.orgOptions.requireEmailVerificationOnInvitation&&!i.user.emailVerified)throw new t.APIError("FORBIDDEN",{message:v.EMAIL_VERIFICATION_REQUIRED_BEFORE_ACCEPTING_OR_REJECTING_INVITATION});let a=r.context.orgOptions?.membershipLimit||100;if(await n.countMembers({organizationId:o.organizationId})>=a)throw new t.APIError("FORBIDDEN",{message:v.ORGANIZATION_MEMBERSHIP_LIMIT_REACHED});let s=await n.findOrganizationById(o.organizationId);if(!s)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});e?.organizationHooks?.beforeAcceptInvitation&&await e?.organizationHooks.beforeAcceptInvitation({invitation:o,user:i.user,organization:s});let l=await n.updateInvitation({invitationId:r.body.invitationId,status:"accepted"});if(!l)throw new t.APIError("BAD_REQUEST",{message:v.FAILED_TO_RETRIEVE_INVITATION});if(r.context.orgOptions.teams&&r.context.orgOptions.teams.enabled&&"teamId"in l&&l.teamId){let e=l.teamId.split(","),a=1===e.length;for(let a of e)if((await n.findOrCreateTeamMember({teamId:a,userId:i.user.id}),void 0!==r.context.orgOptions.teams.maximumMembersPerTeam)&&await n.countTeamMembers({teamId:a})>=("function"==typeof r.context.orgOptions.teams.maximumMembersPerTeam?await r.context.orgOptions.teams.maximumMembersPerTeam({teamId:a,session:i,organizationId:o.organizationId}):r.context.orgOptions.teams.maximumMembersPerTeam))throw new t.APIError("FORBIDDEN",{message:v.TEAM_MEMBER_LIMIT_REACHED});if(a){let t=e[0],o=await n.setActiveTeam(i.session.token,t,r);await (0,u.s)(r,{session:o,user:i.user})}}let c=await n.createMember({organizationId:o.organizationId,userId:i.user.id,role:o.role,createdAt:new Date});return(await n.setActiveOrganization(i.session.token,o.organizationId,r),l)?(e?.organizationHooks?.afterAcceptInvitation&&await e?.organizationHooks.afterAcceptInvitation({invitation:l,member:c,user:i.user,organization:s}),r.json({invitation:l,member:c})):r.json(null,{status:400,body:{message:v.INVITATION_NOT_FOUND}})}),_=e=>(0,n.a)("/organization/reject-invitation",{method:"POST",body:r.object({invitationId:r.string().meta({description:"The ID of the invitation to reject"})}),use:[l.o,l.a],metadata:{openapi:{description:"Reject an invitation to an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{invitation:{type:"object"},member:{type:"null"}}}}}}}}}},async r=>{let i=r.context.session,n=y(r.context,r.context.orgOptions),o=await n.findInvitationById(r.body.invitationId);if(!o||o.expiresAt<new Date||"pending"!==o.status)throw new t.APIError("BAD_REQUEST",{message:"Invitation not found!"});if(o.email.toLowerCase()!==i.user.email.toLowerCase())throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_THE_RECIPIENT_OF_THE_INVITATION});if(r.context.orgOptions.requireEmailVerificationOnInvitation&&!i.user.emailVerified)throw new t.APIError("FORBIDDEN",{message:v.EMAIL_VERIFICATION_REQUIRED_BEFORE_ACCEPTING_OR_REJECTING_INVITATION});let a=await n.findOrganizationById(o.organizationId);if(!a)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});e?.organizationHooks?.beforeRejectInvitation&&await e?.organizationHooks.beforeRejectInvitation({invitation:o,user:i.user,organization:a});let s=await n.updateInvitation({invitationId:r.body.invitationId,status:"rejected"});return e?.organizationHooks?.afterRejectInvitation&&await e?.organizationHooks.afterRejectInvitation({invitation:s||o,user:i.user,organization:a}),r.json({invitation:s,member:null})}),S=e=>(0,n.a)("/organization/cancel-invitation",{method:"POST",body:r.object({invitationId:r.string().meta({description:"The ID of the invitation to cancel"})}),use:[l.o,l.a],openapi:{description:"Cancel an invitation to an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{invitation:{type:"object"}}}}}}}}},async r=>{let i=r.context.session,n=y(r.context,e),o=await n.findInvitationById(r.body.invitationId);if(!o)throw new t.APIError("BAD_REQUEST",{message:v.INVITATION_NOT_FOUND});let a=await n.findMemberByOrgId({userId:i.user.id,organizationId:o.organizationId});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});if(!await b({role:a.role,options:r.context.orgOptions,permissions:{invitation:["cancel"]},organizationId:o.organizationId},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_CANCEL_THIS_INVITATION});let s=await n.findOrganizationById(o.organizationId);if(!s)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});e?.organizationHooks?.beforeCancelInvitation&&await e?.organizationHooks.beforeCancelInvitation({invitation:o,cancelledBy:i.user,organization:s});let l=await n.updateInvitation({invitationId:r.body.invitationId,status:"canceled"});return e?.organizationHooks?.afterCancelInvitation&&await e?.organizationHooks.afterCancelInvitation({invitation:l||o,cancelledBy:i.user,organization:s}),r.json(l)}),E=e=>(0,n.a)("/organization/get-invitation",{method:"GET",use:[l.o],requireHeaders:!0,query:r.object({id:r.string().meta({description:"The ID of the invitation to get"})}),metadata:{openapi:{description:"Get an invitation by ID",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string"},email:{type:"string"},role:{type:"string"},organizationId:{type:"string"},inviterId:{type:"string"},status:{type:"string"},expiresAt:{type:"string"},organizationName:{type:"string"},organizationSlug:{type:"string"},inviterEmail:{type:"string"}},required:["id","email","role","organizationId","inviterId","status","expiresAt","organizationName","organizationSlug","inviterEmail"]}}}}}}}},async r=>{let i=await (0,n.g)(r);if(!i)throw new t.APIError("UNAUTHORIZED",{message:"Not authenticated"});let o=y(r.context,e),a=await o.findInvitationById(r.query.id);if(!a||"pending"!==a.status||a.expiresAt<new Date)throw new t.APIError("BAD_REQUEST",{message:"Invitation not found!"});if(a.email.toLowerCase()!==i.user.email.toLowerCase())throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_THE_RECIPIENT_OF_THE_INVITATION});let s=await o.findOrganizationById(a.organizationId);if(!s)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let l=await o.findMemberByOrgId({userId:a.inviterId,organizationId:a.organizationId});if(!l)throw new t.APIError("BAD_REQUEST",{message:v.INVITER_IS_NO_LONGER_A_MEMBER_OF_THE_ORGANIZATION});return r.json({...a,organizationName:s.name,organizationSlug:s.slug,inviterEmail:l.user.email})}),T=e=>(0,n.a)("/organization/list-invitations",{method:"GET",use:[l.o,l.a],query:r.object({organizationId:r.string().meta({description:"The ID of the organization to list invitations for"}).optional()}).optional()},async r=>{let i=await (0,n.g)(r);if(!i)throw new t.APIError("UNAUTHORIZED",{message:"Not authenticated"});let o=r.query?.organizationId||i.session.activeOrganizationId;if(!o)throw new t.APIError("BAD_REQUEST",{message:"Organization ID is required"});let a=y(r.context,e);if(!await a.findMemberByOrgId({userId:i.user.id,organizationId:o}))throw new t.APIError("FORBIDDEN",{message:"You are not a member of this organization"});let s=await a.listInvitations({organizationId:o});return r.json(s)}),I=e=>(0,n.a)("/organization/list-user-invitations",{method:"GET",use:[l.o],query:r.object({email:r.string().meta({description:"The email of the user to list invitations for. This only works for server side API calls."}).optional()}).optional()},async r=>{let i=await (0,n.g)(r);if(r.request&&r.query?.email)throw new t.APIError("BAD_REQUEST",{message:"User email cannot be passed for client side API calls."});let o=i?.user.email||r.query?.email;if(!o)throw new t.APIError("BAD_REQUEST",{message:"Missing session headers, or email query parameter."});let a=y(r.context,e),s=await a.listUserInvitations(o);return r.json(s)}),x=e=>{let o=d({fields:e?.schema?.member?.additionalFields||{},isClientSide:!0}),a=r.object({userId:i.coerce.string().meta({description:'The user Id which represents the user to be added as a member. If `null` is provided, then it\'s expected to provide session headers. Eg: "user-id"'}),role:r.union([r.string(),r.array(r.string())]).meta({description:'The role(s) to assign to the new member. Eg: ["admin", "sale"]'}),organizationId:r.string().meta({description:'An optional organization ID to pass. If not provided, will default to the user\'s active organization. Eg: "org-id"'}).optional(),teamId:r.string().meta({description:'An optional team ID to add the member to. Eg: "team-id"'}).optional()});return(0,n.a)("/organization/add-member",{method:"POST",body:r.object({...a.shape,...o.shape}),use:[l.o],metadata:{SERVER_ONLY:!0,$Infer:{body:{}}}},async r=>{let i=r.body.userId?await (0,n.g)(r).catch(e=>null):null,o=r.body.organizationId||i?.session.activeOrganizationId;if(!o)return r.json(null,{status:400,body:{message:v.NO_ACTIVE_ORGANIZATION}});let a="teamId"in r.body?r.body.teamId:void 0;if(a&&!r.context.orgOptions.teams?.enabled)throw r.context.logger.error("Teams are not enabled"),new t.APIError("BAD_REQUEST",{message:"Teams are not enabled"});let s=y(r.context,e),l=await r.context.internalAdapter.findUserById(r.body.userId);if(!l)throw new t.APIError("BAD_REQUEST",{message:n.B.USER_NOT_FOUND});if(await s.findMemberByEmail({email:l.email,organizationId:o}))throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_ALREADY_A_MEMBER_OF_THIS_ORGANIZATION});if(a){let e=await s.findTeamById({teamId:a,organizationId:o});if(!e||e.organizationId!==o)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND})}let u=r.context.orgOptions?.membershipLimit||100;if(await s.countMembers({organizationId:o})>=u)throw new t.APIError("FORBIDDEN",{message:v.ORGANIZATION_MEMBERSHIP_LIMIT_REACHED});let{role:c,userId:d,organizationId:p,...f}=r.body,h=await s.findOrganizationById(o);if(!h)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let m={organizationId:o,userId:l.id,role:el(r.body.role),createdAt:new Date,...f||{}};if(e?.organizationHooks?.beforeAddMember){let t=await e?.organizationHooks.beforeAddMember({member:{userId:l.id,organizationId:o,role:el(r.body.role),...f},user:l,organization:h});t&&"object"==typeof t&&"data"in t&&(m={...m,...t.data})}let g=await s.createMember(m);return a&&await s.findOrCreateTeamMember({userId:l.id,teamId:a}),e?.organizationHooks?.afterAddMember&&await e?.organizationHooks.afterAddMember({member:g,user:l,organization:h}),r.json(g)})},O=e=>(0,n.a)("/organization/remove-member",{method:"POST",body:r.object({memberIdOrEmail:r.string().meta({description:"The ID or email of the member to remove"}),organizationId:r.string().meta({description:'The ID of the organization to remove the member from. If not provided, the active organization will be used. Eg: "org-id"'}).optional()}),use:[l.o,l.a],metadata:{openapi:{description:"Remove a member from an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{member:{type:"object",properties:{id:{type:"string"},userId:{type:"string"},organizationId:{type:"string"},role:{type:"string"}},required:["id","userId","organizationId","role"]}},required:["member"]}}}}}}}},async r=>{let i=r.context.session,n=r.body.organizationId||i.session.activeOrganizationId;if(!n)return r.json(null,{status:400,body:{message:v.NO_ACTIVE_ORGANIZATION}});let o=y(r.context,e),a=await o.findMemberByOrgId({userId:i.user.id,organizationId:n});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});let s=null;if(!(s=r.body.memberIdOrEmail.includes("@")?await o.findMemberByEmail({email:r.body.memberIdOrEmail,organizationId:n}):await o.findMemberById(r.body.memberIdOrEmail)))throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});let l=s.role.split(","),u=r.context.orgOptions?.creatorRole||"owner";if(l.includes(u)){if(a.role!==u)throw new t.APIError("BAD_REQUEST",{message:v.YOU_CANNOT_LEAVE_THE_ORGANIZATION_AS_THE_ONLY_OWNER});let{members:e}=await o.listMembers({organizationId:n});if(e.filter(e=>e.role.split(",").includes(u)).length<=1)throw new t.APIError("BAD_REQUEST",{message:v.YOU_CANNOT_LEAVE_THE_ORGANIZATION_AS_THE_ONLY_OWNER})}if(!await b({role:a.role,options:r.context.orgOptions,permissions:{member:["delete"]},organizationId:n},r))throw new t.APIError("UNAUTHORIZED",{message:v.YOU_ARE_NOT_ALLOWED_TO_DELETE_THIS_MEMBER});if(s?.organizationId!==n)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});let c=await o.findOrganizationById(n);if(!c)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let d=await r.context.internalAdapter.findUserById(s.userId);if(!d)throw new t.APIError("BAD_REQUEST",{message:"User not found"});return e?.organizationHooks?.beforeRemoveMember&&await e?.organizationHooks.beforeRemoveMember({member:s,user:d,organization:c}),await o.deleteMember(s.id),i.user.id===s.userId&&i.session.activeOrganizationId===s.organizationId&&await o.setActiveOrganization(i.session.token,null,r),e?.organizationHooks?.afterRemoveMember&&await e?.organizationHooks.afterRemoveMember({member:s,user:d,organization:c}),r.json({member:s})}),C=e=>(0,n.a)("/organization/update-member-role",{method:"POST",body:r.object({role:r.union([r.string(),r.array(r.string())]).meta({description:'The new role to be applied. This can be a string or array of strings representing the roles. Eg: ["admin", "sale"]'}),memberId:r.string().meta({description:'The member id to apply the role update to. Eg: "member-id"'}),organizationId:r.string().meta({description:'An optional organization ID which the member is a part of to apply the role update. If not provided, you must provide session headers to get the active organization. Eg: "organization-id"'}).optional()}),use:[l.o,l.a],metadata:{$Infer:{body:{}},openapi:{description:"Update the role of a member in an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{member:{type:"object",properties:{id:{type:"string"},userId:{type:"string"},organizationId:{type:"string"},role:{type:"string"}},required:["id","userId","organizationId","role"]}},required:["member"]}}}}}}}},async r=>{let i=r.context.session;if(!r.body.role)throw new t.APIError("BAD_REQUEST");let n=r.body.organizationId||i.session.activeOrganizationId;if(!n)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let o=y(r.context,r.context.orgOptions),a=Array.isArray(r.body.role)?r.body.role:r.body.role?[r.body.role]:[],s=await o.findMemberByOrgId({userId:i.user.id,organizationId:n});if(!s)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});let l=s.id!==r.body.memberId?await o.findMemberById(r.body.memberId):s;if(!l)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});if(l.organizationId!==n)throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_MEMBER});let u=r.context.orgOptions?.creatorRole||"owner",c=s.role.split(","),d=l.role.split(",").includes(u),p=c.includes(u),f=a.includes(u),h=s.id===l.id;if(d&&!p||f&&!p)throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_MEMBER});if(p&&h&&(await r.context.adapter.findMany({model:"member",where:[{field:"organizationId",value:n}]})).filter(e=>e.role.split(",").includes(u)).length<=1&&!f)throw new t.APIError("BAD_REQUEST",{message:v.YOU_CANNOT_LEAVE_THE_ORGANIZATION_WITHOUT_AN_OWNER});if(!await b({role:s.role,options:r.context.orgOptions,permissions:{member:["update"]},allowCreatorAllPermissions:!0,organizationId:n},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_MEMBER});let m=await o.findOrganizationById(n);if(!m)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let g=await r.context.internalAdapter.findUserById(l.userId);if(!g)throw new t.APIError("BAD_REQUEST",{message:"User not found"});let A=l.role,w=el(r.body.role);if(e?.organizationHooks?.beforeUpdateMemberRole){let i=await e?.organizationHooks.beforeUpdateMemberRole({member:l,newRole:w,user:g,organization:m});if(i&&"object"==typeof i&&"data"in i){let n=await o.updateMember(r.body.memberId,i.data.role||w);if(!n)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});return e?.organizationHooks?.afterUpdateMemberRole&&await e?.organizationHooks.afterUpdateMemberRole({member:n,previousRole:A,user:g,organization:m}),r.json(n)}}let _=await o.updateMember(r.body.memberId,w);if(!_)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});return e?.organizationHooks?.afterUpdateMemberRole&&await e?.organizationHooks.afterUpdateMemberRole({member:_,previousRole:A,user:g,organization:m}),r.json(_)}),k=e=>(0,n.a)("/organization/get-active-member",{method:"GET",use:[l.o,l.a],requireHeaders:!0,metadata:{openapi:{description:"Get the member details of the active organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string"},userId:{type:"string"},organizationId:{type:"string"},role:{type:"string"}},required:["id","userId","organizationId","role"]}}}}}}}},async t=>{let r=t.context.session,i=r.session.activeOrganizationId;if(!i)return t.json(null,{status:400,body:{message:v.NO_ACTIVE_ORGANIZATION}});let n=y(t.context,e),o=await n.findMemberByOrgId({userId:r.user.id,organizationId:i});return o?t.json(o):t.json(null,{status:400,body:{message:v.MEMBER_NOT_FOUND}})}),N=e=>(0,n.a)("/organization/leave",{method:"POST",body:r.object({organizationId:r.string().meta({description:'The organization Id for the member to leave. Eg: "organization-id"'})}),requireHeaders:!0,use:[n.s,l.o]},async r=>{let i=r.context.session,n=y(r.context,e),o=await n.findMemberByOrgId({userId:i.user.id,organizationId:r.body.organizationId});if(!o)throw new t.APIError("BAD_REQUEST",{message:v.MEMBER_NOT_FOUND});let a=r.context.orgOptions?.creatorRole||"owner";if(o.role.split(",").includes(a)&&(await r.context.adapter.findMany({model:"member",where:[{field:"organizationId",value:r.body.organizationId}]})).filter(e=>e.role.split(",").includes(a)).length<=1)throw new t.APIError("BAD_REQUEST",{message:v.YOU_CANNOT_LEAVE_THE_ORGANIZATION_AS_THE_ONLY_OWNER});return await n.deleteMember(o.id),i.session.activeOrganizationId===r.body.organizationId&&await n.setActiveOrganization(i.session.token,null,r),r.json(o)}),R=e=>(0,n.a)("/organization/list-members",{method:"GET",query:r.object({limit:r.string().meta({description:"The number of users to return"}).or(r.number()).optional(),offset:r.string().meta({description:"The offset to start from"}).or(r.number()).optional(),sortBy:r.string().meta({description:"The field to sort by"}).optional(),sortDirection:r.enum(["asc","desc"]).meta({description:"The direction to sort by"}).optional(),filterField:r.string().meta({description:"The field to filter by"}).optional(),filterValue:r.string().meta({description:"The value to filter by"}).or(r.number()).or(r.boolean()).optional(),filterOperator:r.enum(["eq","ne","lt","lte","gt","gte","contains"]).meta({description:"The operator to use for the filter"}).optional(),organizationId:r.string().meta({description:'The organization ID to list members for. If not provided, will default to the user\'s active organization. Eg: "organization-id"'}).optional()}).optional(),use:[l.o,l.a]},async r=>{let i=r.context.session,n=r.query?.organizationId||i.session.activeOrganizationId;if(!n)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let o=y(r.context,e);if(!await o.findMemberByOrgId({userId:i.user.id,organizationId:n}))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});let{members:a,total:s}=await o.listMembers({organizationId:n,limit:r.query?.limit?Number(r.query.limit):void 0,offset:r.query?.offset?Number(r.query.offset):void 0,sortBy:r.query?.sortBy,sortOrder:r.query?.sortDirection,filter:r.query?.filterField?{field:r.query?.filterField,operator:r.query.filterOperator,value:r.query.filterValue}:void 0});return r.json({members:a,total:s})}),P=e=>(0,n.a)("/organization/get-active-member-role",{method:"GET",query:r.object({userId:r.string().meta({description:"The user ID to get the role for. If not provided, will default to the current user's"}).optional(),organizationId:r.string().meta({description:'The organization ID to list members for. If not provided, will default to the user\'s active organization. Eg: "organization-id"'}).optional()}).optional(),use:[l.o,l.a]},async r=>{let i=r.context.session,n=r.query?.organizationId||i.session.activeOrganizationId;if(!n)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let o=r.query?.userId||i.user.id,a=y(r.context,e),s=await a.findMemberByOrgId({userId:o,organizationId:n});if(!s)throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});return r.json({role:s?.role})}),D=e=>{let o=d({fields:e?.schema?.organization?.additionalFields||{},isClientSide:!0}),a=r.object({name:r.string().min(1).meta({description:"The name of the organization"}),slug:r.string().min(1).meta({description:"The slug of the organization"}),userId:i.coerce.string().meta({description:'The user id of the organization creator. If not provided, the current user will be used. Should only be used by admins or when called by the server. server-only. Eg: "user-id"'}).optional(),logo:r.string().meta({description:"The logo of the organization"}).optional(),metadata:r.record(r.string(),r.any()).meta({description:"The metadata of the organization"}).optional(),keepCurrentActiveOrganization:r.boolean().meta({description:"Whether to keep the current active organization active after creating a new one. Eg: true"}).optional()});return(0,n.a)("/organization/create",{method:"POST",body:r.object({...a.shape,...o.shape}),use:[l.o],metadata:{$Infer:{body:{}},openapi:{description:"Create an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",description:"The organization that was created",$ref:"#/components/schemas/Organization"}}}}}}}},async e=>{let r,i=await (0,n.g)(e);if(!i&&(e.request||e.headers))throw new t.APIError("UNAUTHORIZED");let o=i?.user||null;if(!o){if(!e.body.userId)throw new t.APIError("UNAUTHORIZED");o=await e.context.internalAdapter.findUserById(e.body.userId)}if(!o)return e.json(null,{status:401});let a=e.context.orgOptions;if(!("function"==typeof a?.allowUserToCreateOrganization?await a.allowUserToCreateOrganization(o):a?.allowUserToCreateOrganization===void 0||a.allowUserToCreateOrganization))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_CREATE_A_NEW_ORGANIZATION});let s=y(e.context,a),l=await s.listOrganizations(o.id);if("number"==typeof a.organizationLimit?l.length>=a.organizationLimit:"function"==typeof a.organizationLimit&&await a.organizationLimit(o))throw new t.APIError("FORBIDDEN",{message:v.YOU_HAVE_REACHED_THE_MAXIMUM_NUMBER_OF_ORGANIZATIONS});if(await s.findOrganizationBySlug(e.body.slug))throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_ALREADY_EXISTS});let{keepCurrentActiveOrganization:u,userId:c,...d}=e.body;if(a.organizationCreation?.beforeCreate){let t=await a.organizationCreation.beforeCreate({organization:{...d,createdAt:new Date},user:o},e.request);t&&"object"==typeof t&&"data"in t&&(d={...e.body,...t.data})}if(a?.organizationHooks?.beforeCreateOrganization){let t=await a?.organizationHooks.beforeCreateOrganization({organization:d,user:o});t&&"object"==typeof t&&"data"in t&&(d={...e.body,...t.data})}let p=await s.createOrganization({organization:{...d,createdAt:new Date}}),f=null,h={userId:o.id,organizationId:p.id,role:e.context.orgOptions.creatorRole||"owner"};if(a?.organizationHooks?.beforeAddMember){let t=await a?.organizationHooks.beforeAddMember({member:{userId:o.id,organizationId:p.id,role:e.context.orgOptions.creatorRole||"owner"},user:o,organization:p});t&&"object"==typeof t&&"data"in t&&(h={...h,...t.data})}if(r=await s.createMember(h),a?.organizationHooks?.afterAddMember&&await a?.organizationHooks.afterAddMember({member:r,user:o,organization:p}),a?.teams?.enabled&&a.teams.defaultTeam?.enabled!==!1){let t={organizationId:p.id,name:`${p.name}`,createdAt:new Date};if(a?.organizationHooks?.beforeCreateTeam){let e=await a?.organizationHooks.beforeCreateTeam({team:{organizationId:p.id,name:`${p.name}`},user:o,organization:p});e&&"object"==typeof e&&"data"in e&&(t={...t,...e.data})}let r=await a.teams.defaultTeam?.customCreateDefaultTeam?.(p,e.request)||await s.createTeam(t);f=await s.findOrCreateTeamMember({teamId:r.id,userId:o.id}),a?.organizationHooks?.afterCreateTeam&&await a?.organizationHooks.afterCreateTeam({team:r,user:o,organization:p})}return a.organizationCreation?.afterCreate&&await a.organizationCreation.afterCreate({organization:p,user:o,member:r},e.request),a?.organizationHooks?.afterCreateOrganization&&await a?.organizationHooks.afterCreateOrganization({organization:p,user:o,member:r}),e.context.session&&!e.body.keepCurrentActiveOrganization&&await s.setActiveOrganization(e.context.session.session.token,p.id,e),f&&e.context.session&&!e.body.keepCurrentActiveOrganization&&await s.setActiveTeam(e.context.session.session.token,f.teamId,e),e.json({...p,metadata:p.metadata&&"string"==typeof p.metadata?JSON.parse(p.metadata):p.metadata,members:[r]})})},U=e=>(0,n.a)("/organization/check-slug",{method:"POST",body:r.object({slug:r.string().meta({description:'The organization slug to check. Eg: "my-org"'})}),use:[n.j,l.o]},async r=>{let i=y(r.context,e);if(!await i.findOrganizationBySlug(r.body.slug))return r.json({status:!0});throw new t.APIError("BAD_REQUEST",{message:"slug is taken"})}),L=e=>{let i=d({fields:e?.schema?.organization?.additionalFields||{},isClientSide:!0});return(0,n.a)("/organization/update",{method:"POST",body:r.object({data:r.object({...i.shape,name:r.string().min(1).meta({description:"The name of the organization"}).optional(),slug:r.string().min(1).meta({description:"The slug of the organization"}).optional(),logo:r.string().meta({description:"The logo of the organization"}).optional(),metadata:r.record(r.string(),r.any()).meta({description:"The metadata of the organization"}).optional()}).partial(),organizationId:r.string().meta({description:'The organization ID. Eg: "org-id"'}).optional()}),requireHeaders:!0,use:[l.o],metadata:{$Infer:{body:{}},openapi:{description:"Update an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",description:"The updated organization",$ref:"#/components/schemas/Organization"}}}}}}}},async r=>{let i=await r.context.getSession(r);if(!i)throw new t.APIError("UNAUTHORIZED",{message:"User not found"});let n=r.body.organizationId||i.session.activeOrganizationId;if(!n)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let o=y(r.context,e),a=await o.findMemberByOrgId({userId:i.user.id,organizationId:n});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});if(!await b({permissions:{organization:["update"]},role:a.role,options:r.context.orgOptions,organizationId:n},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_ORGANIZATION});if(e?.organizationHooks?.beforeUpdateOrganization){let t=await e.organizationHooks.beforeUpdateOrganization({organization:r.body.data,user:i.user,member:a});t&&"object"==typeof t&&"data"in t&&(r.body.data={...r.body.data,...t.data})}let s=await o.updateOrganization(n,r.body.data);return e?.organizationHooks?.afterUpdateOrganization&&await e.organizationHooks.afterUpdateOrganization({organization:s,user:i.user,member:a}),r.json(s)})},K=e=>(0,n.a)("/organization/delete",{method:"POST",body:r.object({organizationId:r.string().meta({description:"The organization id to delete"})}),requireHeaders:!0,use:[l.o],metadata:{openapi:{description:"Delete an organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"string",description:"The organization id that was deleted"}}}}}}}},async r=>{if(r.context.orgOptions.organizationDeletion?.disabled||r.context.orgOptions.disableOrganizationDeletion)throw r.context.orgOptions.organizationDeletion?.disabled&&r.context.logger.info("`organizationDeletion.disabled` is deprecated. Use `disableOrganizationDeletion` instead"),new t.APIError("NOT_FOUND",{message:"Organization deletion is disabled"});let i=await r.context.getSession(r);if(!i)throw new t.APIError("UNAUTHORIZED",{status:401});let n=r.body.organizationId;if(!n)return r.json(null,{status:400,body:{message:v.ORGANIZATION_NOT_FOUND}});let o=y(r.context,e),a=await o.findMemberByOrgId({userId:i.user.id,organizationId:n});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});if(!await b({role:a.role,permissions:{organization:["delete"]},organizationId:n,options:r.context.orgOptions},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_DELETE_THIS_ORGANIZATION});n===i.session.activeOrganizationId&&await o.setActiveOrganization(i.session.token,null,r);let s=await o.findOrganizationById(n);if(!s)throw new t.APIError("BAD_REQUEST");return e?.organizationHooks?.beforeDeleteOrganization&&await e.organizationHooks.beforeDeleteOrganization({organization:s,user:i.user}),await o.deleteOrganization(n),e?.organizationHooks?.afterDeleteOrganization&&await e.organizationHooks.afterDeleteOrganization({organization:s,user:i.user}),r.json(s)}),M=e=>(0,n.a)("/organization/get-full-organization",{method:"GET",query:r.optional(r.object({organizationId:r.string().meta({description:"The organization id to get"}).optional(),organizationSlug:r.string().meta({description:"The organization slug to get"}).optional(),membersLimit:r.number().or(r.string().transform(e=>parseInt(e))).meta({description:"The limit of members to get. By default, it uses the membershipLimit option which defaults to 100."}).optional()})),requireHeaders:!0,use:[l.o,l.a],metadata:{openapi:{description:"Get the full organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",description:"The organization",$ref:"#/components/schemas/Organization"}}}}}}}},async r=>{let i=r.context.session,n=r.query?.organizationSlug||r.query?.organizationId||i.session.activeOrganizationId;if(!n)return r.context.logger.info("No active organization found, returning null"),r.json(null,{status:200});let o=y(r.context,e),a=await o.findFullOrganization({organizationId:n,isSlug:!!r.query?.organizationSlug,includeTeams:r.context.orgOptions.teams?.enabled,membersLimit:r.query?.membersLimit});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});if(!await o.checkMembership({userId:i.user.id,organizationId:a.id}))throw await o.setActiveOrganization(i.session.token,null,r),new t.APIError("FORBIDDEN",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});return r.json(a)}),B=e=>(0,n.a)("/organization/set-active",{method:"POST",body:r.object({organizationId:r.string().meta({description:'The organization id to set as active. It can be null to unset the active organization. Eg: "org-id"'}).nullable().optional(),organizationSlug:r.string().meta({description:'The organization slug to set as active. It can be null to unset the active organization if organizationId is not provided. Eg: "org-slug"'}).optional()}),use:[l.a,l.o],metadata:{openapi:{description:"Set the active organization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",description:"The organization",$ref:"#/components/schemas/Organization"}}}}}}}},async r=>{let i=y(r.context,e),n=r.context.session,o=r.body.organizationId,a=r.body.organizationSlug;if(null===o){if(!n.session.activeOrganizationId)return r.json(null);let e=await i.setActiveOrganization(n.session.token,null,r);return await (0,u.s)(r,{session:e,user:n.user}),r.json(null)}if(!o&&!a){let e=n.session.activeOrganizationId;if(!e)return r.json(null);o=e}if(a&&!o){let e=await i.findOrganizationBySlug(a);if(!e)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});o=e.id}if(!o)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});if(!await i.checkMembership({userId:n.user.id,organizationId:o}))throw await i.setActiveOrganization(n.session.token,null,r),new t.APIError("FORBIDDEN",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});let s=await i.findOrganizationById(o);if(!s)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let l=await i.setActiveOrganization(n.session.token,s.id,r);return await (0,u.s)(r,{session:l,user:n.user}),r.json(s)}),j=e=>(0,n.a)("/organization/list",{method:"GET",use:[l.o,l.a],metadata:{openapi:{description:"List all organizations",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Organization"}}}}}}}}},async t=>{let r=y(t.context,e),i=await r.listOrganizations(t.context.session.user.id);return t.json(i)}),$=e=>{let i=d({fields:e?.schema?.team?.additionalFields??{},isClientSide:!0}),o=r.object({name:r.string().meta({description:'The name of the team. Eg: "my-team"'}),organizationId:r.string().meta({description:'The organization ID which the team will be created in. Defaults to the active organization. Eg: "organization-id"'}).optional()});return(0,n.a)("/organization/create-team",{method:"POST",body:r.object({...o.shape,...i.shape}),use:[l.o],metadata:{$Infer:{body:{}},openapi:{description:"Create a new team within an organization",responses:{200:{description:"Team created successfully",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string",description:"Unique identifier of the created team"},name:{type:"string",description:"Name of the team"},organizationId:{type:"string",description:"ID of the organization the team belongs to"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the team was created"},updatedAt:{type:"string",format:"date-time",description:"Timestamp when the team was last updated"}},required:["id","name","organizationId","createdAt","updatedAt"]}}}}}}}},async r=>{let i=await (0,n.g)(r),o=r.body.organizationId||i?.session.activeOrganizationId;if(!i&&(r.request||r.headers))throw new t.APIError("UNAUTHORIZED");if(!o)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let a=y(r.context,e);if(i){let e=await a.findMemberByOrgId({userId:i.user.id,organizationId:o});if(!e)throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_INVITE_USERS_TO_THIS_ORGANIZATION});if(!await b({role:e.role,options:r.context.orgOptions,permissions:{team:["create"]},organizationId:o},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_CREATE_TEAMS_IN_THIS_ORGANIZATION})}let s=await a.listTeams(o),l="function"==typeof r.context.orgOptions.teams?.maximumTeams?await r.context.orgOptions.teams?.maximumTeams({organizationId:o,session:i},r.request):r.context.orgOptions.teams?.maximumTeams;if(l&&s.length>=l)throw new t.APIError("BAD_REQUEST",{message:v.YOU_HAVE_REACHED_THE_MAXIMUM_NUMBER_OF_TEAMS});let{name:u,organizationId:c,...d}=r.body,p=await a.findOrganizationById(o);if(!p)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let f={name:u,organizationId:o,createdAt:new Date,updatedAt:new Date,...d};if(e?.organizationHooks?.beforeCreateTeam){let t=await e?.organizationHooks.beforeCreateTeam({team:{name:u,organizationId:o,...d},user:i?.user,organization:p});t&&"object"==typeof t&&"data"in t&&(f={...f,...t.data})}let h=await a.createTeam(f);return e?.organizationHooks?.afterCreateTeam&&await e?.organizationHooks.afterCreateTeam({team:h,user:i?.user,organization:p}),r.json(h)})},z=e=>(0,n.a)("/organization/remove-team",{method:"POST",body:r.object({teamId:r.string().meta({description:'The team ID of the team to remove. Eg: "team-id"'}),organizationId:r.string().meta({description:'The organization ID which the team falls under. If not provided, it will default to the user\'s active organization. Eg: "organization-id"'}).optional()}),use:[l.o],metadata:{openapi:{description:"Remove a team from an organization",responses:{200:{description:"Team removed successfully",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Confirmation message indicating successful removal",enum:["Team removed successfully."]}},required:["message"]}}}}}}}},async r=>{let i=await (0,n.g)(r),o=r.body.organizationId||i?.session.activeOrganizationId;if(!o)return r.json(null,{status:400,body:{message:v.NO_ACTIVE_ORGANIZATION}});if(!i&&(r.request||r.headers))throw new t.APIError("UNAUTHORIZED");let a=y(r.context,e);if(i){let e=await a.findMemberByOrgId({userId:i.user.id,organizationId:o});if(!e||i.session?.activeTeamId===r.body.teamId)throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_DELETE_THIS_TEAM});if(!await b({role:e.role,options:r.context.orgOptions,permissions:{team:["delete"]},organizationId:o},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_DELETE_TEAMS_IN_THIS_ORGANIZATION})}let s=await a.findTeamById({teamId:r.body.teamId,organizationId:o});if(!s||s.organizationId!==o)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND});if(!r.context.orgOptions.teams?.allowRemovingAllTeams&&(await a.listTeams(o)).length<=1)throw new t.APIError("BAD_REQUEST",{message:v.UNABLE_TO_REMOVE_LAST_TEAM});let l=await a.findOrganizationById(o);if(!l)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});return e?.organizationHooks?.beforeDeleteTeam&&await e?.organizationHooks.beforeDeleteTeam({team:s,user:i?.user,organization:l}),await a.deleteTeam(s.id),e?.organizationHooks?.afterDeleteTeam&&await e?.organizationHooks.afterDeleteTeam({team:s,user:i?.user,organization:l}),r.json({message:"Team removed successfully."})}),F=e=>{let i=d({fields:e?.schema?.team?.additionalFields??{},isClientSide:!0});return(0,n.a)("/organization/update-team",{method:"POST",body:r.object({teamId:r.string().meta({description:'The ID of the team to be updated. Eg: "team-id"'}),data:r.object({...l.t.shape,...i.shape}).partial()}),requireHeaders:!0,use:[l.o,l.a],metadata:{$Infer:{body:{}},openapi:{description:"Update an existing team in an organization",responses:{200:{description:"Team updated successfully",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string",description:"Unique identifier of the updated team"},name:{type:"string",description:"Updated name of the team"},organizationId:{type:"string",description:"ID of the organization the team belongs to"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the team was created"},updatedAt:{type:"string",format:"date-time",description:"Timestamp when the team was last updated"}},required:["id","name","organizationId","createdAt","updatedAt"]}}}}}}}},async r=>{let i=r.context.session,n=r.body.data.organizationId||i.session.activeOrganizationId;if(!n)return r.json(null,{status:400,body:{message:v.NO_ACTIVE_ORGANIZATION}});let o=y(r.context,e),a=await o.findMemberByOrgId({userId:i.user.id,organizationId:n});if(!a||!await b({role:a.role,options:r.context.orgOptions,permissions:{team:["update"]},organizationId:n},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_THIS_TEAM});let s=await o.findTeamById({teamId:r.body.teamId,organizationId:n});if(!s||s.organizationId!==n)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND});let{name:l,organizationId:u,...c}=r.body.data,d=await o.findOrganizationById(n);if(!d)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let p={name:l,...c};if(e?.organizationHooks?.beforeUpdateTeam){let t=await e?.organizationHooks.beforeUpdateTeam({team:s,updates:p,user:i.user,organization:d});if(t&&"object"==typeof t&&"data"in t){let n=t.data,a=await o.updateTeam(s.id,n);return e?.organizationHooks?.afterUpdateTeam&&await e?.organizationHooks.afterUpdateTeam({team:a,user:i.user,organization:d}),r.json(a)}}let f=await o.updateTeam(s.id,p);return e?.organizationHooks?.afterUpdateTeam&&await e?.organizationHooks.afterUpdateTeam({team:f,user:i.user,organization:d}),r.json(f)})},q=e=>(0,n.a)("/organization/list-teams",{method:"GET",query:r.optional(r.object({organizationId:r.string().meta({description:'The organization ID which the teams are under to list. Defaults to the users active organization. Eg: "organziation-id"'}).optional()})),requireHeaders:!0,metadata:{openapi:{description:"List all teams in an organization",responses:{200:{description:"Teams retrieved successfully",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"Unique identifier of the team"},name:{type:"string",description:"Name of the team"},organizationId:{type:"string",description:"ID of the organization the team belongs to"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the team was created"},updatedAt:{type:"string",format:"date-time",description:"Timestamp when the team was last updated"}},required:["id","name","organizationId","createdAt","updatedAt"]},description:"Array of team objects within the organization"}}}}}}},use:[l.o,l.a]},async r=>{let i=r.context.session,n=r.query?.organizationId||i?.session.activeOrganizationId;if(!n)throw r.error("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let o=y(r.context,e);if(!await o.findMemberByOrgId({userId:i.user.id,organizationId:n||""}))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_ACCESS_THIS_ORGANIZATION});let a=await o.listTeams(n);return r.json(a)}),V=e=>(0,n.a)("/organization/set-active-team",{method:"POST",body:r.object({teamId:r.string().meta({description:"The team id to set as active. It can be null to unset the active team"}).nullable().optional()}),use:[l.a,l.o],metadata:{openapi:{description:"Set the active team",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",description:"The team",$ref:"#/components/schemas/Team"}}}}}}}},async e=>{let r,i=y(e.context,e.context.orgOptions),n=e.context.session;if(null===e.body.teamId){if(!n.session.activeTeamId)return e.json(null);let t=await i.setActiveTeam(n.session.token,null,e);return await (0,u.s)(e,{session:t,user:n.user}),e.json(null)}if(e.body.teamId)r=e.body.teamId;else{let t=n.session.activeTeamId;if(!t)return e.json(null);r=t}let o=await i.findTeamById({teamId:r});if(!o)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND});if(!await i.findTeamMember({teamId:r,userId:n.user.id}))throw new t.APIError("FORBIDDEN",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_TEAM});let a=await i.setActiveTeam(n.session.token,o.id,e);return await (0,u.s)(e,{session:a,user:n.user}),e.json(o)}),H=e=>(0,n.a)("/organization/list-user-teams",{method:"GET",metadata:{openapi:{description:"List all teams that the current user is a part of.",responses:{200:{description:"Teams retrieved successfully",content:{"application/json":{schema:{type:"array",items:{type:"object",description:"The team",$ref:"#/components/schemas/Team"},description:"Array of team objects within the organization"}}}}}}},use:[l.o,l.a]},async e=>{let t=e.context.session,r=y(e.context,e.context.orgOptions),i=await r.listTeamsByUser({userId:t.user.id});return e.json(i)}),G=e=>(0,n.a)("/organization/list-team-members",{method:"GET",query:r.optional(r.object({teamId:r.string().optional().meta({description:"The team whose members we should return. If this is not provided the members of the current active team get returned."})})),metadata:{openapi:{description:"List the members of the given team.",responses:{200:{description:"Teams retrieved successfully",content:{"application/json":{schema:{type:"array",items:{type:"object",description:"The team member",properties:{id:{type:"string",description:"Unique identifier of the team member"},userId:{type:"string",description:"The user ID of the team member"},teamId:{type:"string",description:"The team ID of the team the team member is in"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the team member was created"}},required:["id","userId","teamId","createdAt"]},description:"Array of team member objects within the team"}}}}}}},use:[l.o,l.a]},async e=>{let r=e.context.session,i=y(e.context,e.context.orgOptions),n=e.query?.teamId||r?.session.activeTeamId;if(!n)throw new t.APIError("BAD_REQUEST",{message:v.YOU_DO_NOT_HAVE_AN_ACTIVE_TEAM});if(!await i.findTeamMember({userId:r.user.id,teamId:n}))throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_TEAM});let o=await i.listTeamMembers({teamId:n});return e.json(o)}),W=e=>(0,n.a)("/organization/add-team-member",{method:"POST",body:r.object({teamId:r.string().meta({description:"The team the user should be a member of."}),userId:i.coerce.string().meta({description:"The user Id which represents the user to be added as a member."})}),metadata:{openapi:{description:"The newly created member",responses:{200:{description:"Team member created successfully",content:{"application/json":{schema:{type:"object",description:"The team member",properties:{id:{type:"string",description:"Unique identifier of the team member"},userId:{type:"string",description:"The user ID of the team member"},teamId:{type:"string",description:"The team ID of the team the team member is in"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the team member was created"}},required:["id","userId","teamId","createdAt"]}}}}}}},use:[l.o,l.a]},async r=>{let i=r.context.session,n=y(r.context,r.context.orgOptions);if(!i.session.activeOrganizationId)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let o=await n.findMemberByOrgId({userId:i.user.id,organizationId:i.session.activeOrganizationId});if(!o)throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});if(!await b({role:o.role,options:r.context.orgOptions,permissions:{member:["update"]},organizationId:i.session.activeOrganizationId},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_CREATE_A_NEW_TEAM_MEMBER});if(!await n.findMemberByOrgId({userId:r.body.userId,organizationId:i.session.activeOrganizationId}))throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});let a=await n.findTeamById({teamId:r.body.teamId,organizationId:i.session.activeOrganizationId});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND});let s=await n.findOrganizationById(i.session.activeOrganizationId);if(!s)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let l=await r.context.internalAdapter.findUserById(r.body.userId);if(!l)throw new t.APIError("BAD_REQUEST",{message:"User not found"});e?.organizationHooks?.beforeAddTeamMember&&await e?.organizationHooks.beforeAddTeamMember({teamMember:{teamId:r.body.teamId,userId:r.body.userId},team:a,user:l,organization:s});let u=await n.findOrCreateTeamMember({teamId:r.body.teamId,userId:r.body.userId});return e?.organizationHooks?.afterAddTeamMember&&await e?.organizationHooks.afterAddTeamMember({teamMember:u,team:a,user:l,organization:s}),r.json(u)}),Z=e=>(0,n.a)("/organization/remove-team-member",{method:"POST",body:r.object({teamId:r.string().meta({description:"The team the user should be removed from."}),userId:i.coerce.string().meta({description:"The user which should be removed from the team."})}),metadata:{openapi:{description:"Remove a member from a team",responses:{200:{description:"Team member removed successfully",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Confirmation message indicating successful removal",enum:["Team member removed successfully."]}},required:["message"]}}}}}}},use:[l.o,l.a]},async r=>{let i=r.context.session,n=y(r.context,r.context.orgOptions);if(!i.session.activeOrganizationId)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let o=await n.findMemberByOrgId({userId:i.user.id,organizationId:i.session.activeOrganizationId});if(!o)throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});if(!await b({role:o.role,options:r.context.orgOptions,permissions:{member:["delete"]},organizationId:i.session.activeOrganizationId},r))throw new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_REMOVE_A_TEAM_MEMBER});if(!await n.findMemberByOrgId({userId:r.body.userId,organizationId:i.session.activeOrganizationId}))throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});let a=await n.findTeamById({teamId:r.body.teamId,organizationId:i.session.activeOrganizationId});if(!a)throw new t.APIError("BAD_REQUEST",{message:v.TEAM_NOT_FOUND});let s=await n.findOrganizationById(i.session.activeOrganizationId);if(!s)throw new t.APIError("BAD_REQUEST",{message:v.ORGANIZATION_NOT_FOUND});let l=await r.context.internalAdapter.findUserById(r.body.userId);if(!l)throw new t.APIError("BAD_REQUEST",{message:"User not found"});let u=await n.findTeamMember({teamId:r.body.teamId,userId:r.body.userId});if(!u)throw new t.APIError("BAD_REQUEST",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_TEAM});return e?.organizationHooks?.beforeRemoveTeamMember&&await e?.organizationHooks.beforeRemoveTeamMember({teamMember:u,team:a,user:l,organization:s}),await n.removeTeamMember({teamId:r.body.teamId,userId:r.body.userId}),e?.organizationHooks?.afterRemoveTeamMember&&await e?.organizationHooks.afterRemoveTeamMember({teamMember:u,team:a,user:l,organization:s}),r.json({message:"Team member removed successfully."})}),J=e=>e.toLowerCase(),Q=1/0,Y=(e,t=!1)=>{let r=e?.schema?.organizationRole?.additionalFields||{};if(t)for(let e in r)r[e].required=!1;return{additionalFieldsSchema:d({fields:r,isClientSide:!0}),$AdditionalFields:{},$ReturnAdditionalFields:{}}},X=e=>{let{additionalFieldsSchema:i}=Y(e,!1);return(0,n.a)("/organization/create-role",{method:"POST",body:r.object({organizationId:r.string().optional().meta({description:"The id of the organization to create the role in. If not provided, the user's active organization will be used."}),role:r.string().meta({description:"The name of the role to create"}),permission:r.record(r.string(),r.array(r.string())).meta({description:"The permission to assign to the role"}),additionalFields:r.object({...i.shape}).optional()}),metadata:{$Infer:{body:{}}},requireHeaders:!0,use:[l.a]},async r=>{let{session:i,user:n}=r.context.session,o=r.body.role,a=r.body.permission,s=r.body.additionalFields,l=e.ac;if(!l)throw r.context.logger.error("[Dynamic Access Control] The organization plugin is missing a pre-defined ac instance.",`
Please refer to the documentation here: https://better-auth.com/docs/plugins/organization#dynamic-access-control`),new t.APIError("NOT_IMPLEMENTED",{message:v.MISSING_AC_INSTANCE});let u=r.body.organizationId??i.activeOrganizationId;if(!u)throw r.context.logger.error("[Dynamic Access Control] The session is missing an active organization id to create a role. Either set an active org id, or pass an organizationId in the request body."),new t.APIError("BAD_REQUEST",{message:v.YOU_MUST_BE_IN_AN_ORGANIZATION_TO_CREATE_A_ROLE});o=J(o),await ea({role:o,organizationId:u,options:e,ctx:r});let c=await r.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:u,operator:"eq",connector:"AND"},{field:"userId",value:n.id,operator:"eq",connector:"AND"}]});if(!c)throw r.context.logger.error("[Dynamic Access Control] The user is not a member of the organization to create a role.",{userId:n.id,organizationId:u}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});if(!await b({options:e,organizationId:u,permissions:{ac:["create"]},role:c.role},r))throw r.context.logger.error('[Dynamic Access Control] The user is not permitted to create a role. If this is unexpected, please make sure the role associated to that member has the "ac" resource with the "create" permission.',{userId:n.id,organizationId:u,role:c.role}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_CREATE_A_ROLE});let d="function"==typeof e.dynamicAccessControl?.maximumRolesPerOrganization?await e.dynamicAccessControl.maximumRolesPerOrganization(u):e.dynamicAccessControl?.maximumRolesPerOrganization??Q,p=await r.context.adapter.count({model:"organizationRole",where:[{field:"organizationId",value:u,operator:"eq",connector:"AND"}]});if(p>=d)throw r.context.logger.error(`[Dynamic Access Control] Failed to create a new role, the organization has too many roles. Maximum allowed roles is ${d}.`,{organizationId:u,maximumRolesPerOrganization:d,rolesInDB:p}),new t.APIError("BAD_REQUEST",{message:v.TOO_MANY_ROLES});await en({ac:l,ctx:r,permission:a}),await eo({ctx:r,member:c,options:e,organizationId:u,permissionRequired:a,user:n,action:"create"}),await es({ctx:r,organizationId:u,role:o});let f=l.newRole(a),h={...await r.context.adapter.create({model:"organizationRole",data:{createdAt:new Date,organizationId:u,permission:JSON.stringify(a),role:o,...s}}),permission:a};return r.json({success:!0,roleData:h,statements:f.statements})})},ee=e=>(0,n.a)("/organization/delete-role",{method:"POST",body:r.object({organizationId:r.string().optional().meta({description:"The id of the organization to create the role in. If not provided, the user's active organization will be used."})}).and(r.union([r.object({roleName:r.string().meta({description:"The name of the role to delete"})}),r.object({roleId:r.string().meta({description:"The id of the role to delete"})})])),requireHeaders:!0,use:[l.a],metadata:{$Infer:{body:{}}}},async r=>{let i,{session:n,user:o}=r.context.session,a=r.body.organizationId??n.activeOrganizationId;if(!a)throw r.context.logger.error("[Dynamic Access Control] The session is missing an active organization id to delete a role. Either set an active org id, or pass an organizationId in the request body."),new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let s=await r.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:a,operator:"eq",connector:"AND"},{field:"userId",value:o.id,operator:"eq",connector:"AND"}]});if(!s)throw r.context.logger.error("[Dynamic Access Control] The user is not a member of the organization to delete a role.",{userId:o.id,organizationId:a}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});if(!await b({options:e,organizationId:a,permissions:{ac:["delete"]},role:s.role},r))throw r.context.logger.error('[Dynamic Access Control] The user is not permitted to delete a role. If this is unexpected, please make sure the role associated to that member has the "ac" resource with the "delete" permission.',{userId:o.id,organizationId:a,role:s.role}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_DELETE_A_ROLE});if("roleName"in r.body){let i=r.body.roleName,n=e.roles?Object.keys(e.roles):["owner","admin","member"];if(n.includes(i))throw r.context.logger.error("[Dynamic Access Control] Cannot delete a pre-defined role.",{roleName:i,organizationId:a,defaultRoles:n}),new t.APIError("BAD_REQUEST",{message:v.CANNOT_DELETE_A_PRE_DEFINED_ROLE})}i="roleName"in r.body?{field:"role",value:r.body.roleName,operator:"eq",connector:"AND"}:{field:"id",value:r.body.roleId,operator:"eq",connector:"AND"};let l=await r.context.adapter.findOne({model:"organizationRole",where:[{field:"organizationId",value:a,operator:"eq",connector:"AND"},i]});if(!l)throw r.context.logger.error("[Dynamic Access Control] The role name/id does not exist in the database.",{..."roleName"in r.body?{roleName:r.body.roleName}:{roleId:r.body.roleId},organizationId:a}),new t.APIError("BAD_REQUEST",{message:v.ROLE_NOT_FOUND});return l.permission=JSON.parse(l.permission),await r.context.adapter.delete({model:"organizationRole",where:[{field:"organizationId",value:a,operator:"eq",connector:"AND"},i]}),r.json({success:!0})}),et=e=>(Y(e,!1),(0,n.a)("/organization/list-roles",{method:"GET",use:[l.a],query:r.object({organizationId:r.string().optional().meta({description:"The id of the organization to list roles for. If not provided, the user's active organization will be used."})}).optional(),metadata:{$Infer:{query:{}}}},async r=>{let{session:i,user:n}=r.context.session,o=r.query?.organizationId??i.activeOrganizationId;if(!o)throw r.context.logger.error("[Dynamic Access Control] The session is missing an active organization id to list roles. Either set an active org id, or pass an organizationId in the request query."),new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let a=await r.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:o,operator:"eq",connector:"AND"},{field:"userId",value:n.id,operator:"eq",connector:"AND"}]});if(!a)throw r.context.logger.error("[Dynamic Access Control] The user is not a member of the organization to list roles.",{userId:n.id,organizationId:o}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});if(!await b({options:e,organizationId:o,permissions:{ac:["read"]},role:a.role},r))throw r.context.logger.error("[Dynamic Access Control] The user is not permitted to list roles.",{userId:n.id,organizationId:o,role:a.role}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_LIST_A_ROLE});let s=await r.context.adapter.findMany({model:"organizationRole",where:[{field:"organizationId",value:o,operator:"eq",connector:"AND"}]});return s=s.map(e=>({...e,permission:JSON.parse(e.permission)})),r.json(s)})),er=e=>(Y(e,!1),(0,n.a)("/organization/get-role",{method:"GET",use:[l.a],query:r.object({organizationId:r.string().optional().meta({description:"The id of the organization to read a role for. If not provided, the user's active organization will be used."})}).and(r.union([r.object({roleName:r.string().meta({description:"The name of the role to read"})}),r.object({roleId:r.string().meta({description:"The id of the role to read"})})])).optional(),metadata:{$Infer:{query:{}}}},async r=>{let i,{session:n,user:o}=r.context.session,a=r.query?.organizationId??n.activeOrganizationId;if(!a)throw r.context.logger.error("[Dynamic Access Control] The session is missing an active organization id to read a role. Either set an active org id, or pass an organizationId in the request query."),new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let s=await r.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:a,operator:"eq",connector:"AND"},{field:"userId",value:o.id,operator:"eq",connector:"AND"}]});if(!s)throw r.context.logger.error("[Dynamic Access Control] The user is not a member of the organization to read a role.",{userId:o.id,organizationId:a}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});if(!await b({options:e,organizationId:a,permissions:{ac:["read"]},role:s.role},r))throw r.context.logger.error("[Dynamic Access Control] The user is not permitted to read a role.",{userId:o.id,organizationId:a,role:s.role}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_READ_A_ROLE});i="roleName"in r.query?{field:"role",value:r.query.roleName,operator:"eq",connector:"AND"}:{field:"id",value:r.query.roleId,operator:"eq",connector:"AND"};let l=await r.context.adapter.findOne({model:"organizationRole",where:[{field:"organizationId",value:a,operator:"eq",connector:"AND"},i]});if(!l)throw r.context.logger.error("[Dynamic Access Control] The role name/id does not exist in the database.",{..."roleName"in r.query?{roleName:r.query.roleName}:{roleId:r.query.roleId},organizationId:a}),new t.APIError("BAD_REQUEST",{message:v.ROLE_NOT_FOUND});return l.permission=JSON.parse(l.permission),r.json(l)})),ei=e=>{let{additionalFieldsSchema:i}=Y(e,!0);return(0,n.a)("/organization/update-role",{method:"POST",body:r.object({organizationId:r.string().optional().meta({description:"The id of the organization to update the role in. If not provided, the user's active organization will be used."}),data:r.object({permission:r.record(r.string(),r.array(r.string())).optional().meta({description:"The permission to update the role with"}),roleName:r.string().optional().meta({description:"The name of the role to update"}),...i.shape})}).and(r.union([r.object({roleName:r.string().meta({description:"The name of the role to update"})}),r.object({roleId:r.string().meta({description:"The id of the role to update"})})])),metadata:{$Infer:{body:{}}},use:[l.a]},async r=>{let i,{session:n,user:o}=r.context.session,a=e.ac;if(!a)throw r.context.logger.error("[Dynamic Access Control] The organization plugin is missing a pre-defined ac instance.",`
Please refer to the documentation here: https://better-auth.com/docs/plugins/organization#dynamic-access-control`),new t.APIError("NOT_IMPLEMENTED",{message:v.MISSING_AC_INSTANCE});let s=r.body.organizationId??n.activeOrganizationId;if(!s)throw r.context.logger.error("[Dynamic Access Control] The session is missing an active organization id to update a role. Either set an active org id, or pass an organizationId in the request body."),new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let l=await r.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:s,operator:"eq",connector:"AND"},{field:"userId",value:o.id,operator:"eq",connector:"AND"}]});if(!l)throw r.context.logger.error("[Dynamic Access Control] The user is not a member of the organization to update a role.",{userId:o.id,organizationId:s}),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_A_MEMBER_OF_THIS_ORGANIZATION});if(!await b({options:e,organizationId:s,role:l.role,permissions:{ac:["update"]}},r))throw r.context.logger.error("[Dynamic Access Control] The user is not permitted to update a role."),new t.APIError("FORBIDDEN",{message:v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_A_ROLE});i="roleName"in r.body?{field:"role",value:r.body.roleName,operator:"eq",connector:"AND"}:{field:"id",value:r.body.roleId,operator:"eq",connector:"AND"};let u=await r.context.adapter.findOne({model:"organizationRole",where:[{field:"organizationId",value:s,operator:"eq",connector:"AND"},i]});if(!u)throw r.context.logger.error("[Dynamic Access Control] The role name/id does not exist in the database.",{..."roleName"in r.body?{roleName:r.body.roleName}:{roleId:r.body.roleId},organizationId:s}),new t.APIError("BAD_REQUEST",{message:v.ROLE_NOT_FOUND});u.permission=u.permission?JSON.parse(u.permission):void 0;let{permission:c,roleName:d,...p}=r.body.data,f={...p};if(r.body.data.permission){let t=r.body.data.permission;await en({ac:a,ctx:r,permission:t}),await eo({ctx:r,member:l,options:e,organizationId:s,permissionRequired:t,user:o,action:"update"}),f.permission=t}if(r.body.data.roleName){let t=r.body.data.roleName;t=J(t),await ea({role:t,organizationId:s,options:e,ctx:r}),await es({role:t,organizationId:s,ctx:r}),f.role=t}let h={...f,...f.permission?{permission:JSON.stringify(f.permission)}:{}};return await r.context.adapter.update({model:"organizationRole",where:[{field:"organizationId",value:s,operator:"eq",connector:"AND"},i],update:h}),r.json({success:!0,roleData:{...u,...h,permission:f.permission||u.permission||null}})})};async function en({ac:e,ctx:r,permission:i}){let n=Object.keys(e.statements),o=Object.keys(i);if(o.some(e=>!n.includes(e)))throw r.context.logger.error("[Dynamic Access Control] The provided permission includes an invalid resource.",{providedResources:o,validResources:n}),new t.APIError("BAD_REQUEST",{message:v.INVALID_RESOURCE})}async function eo({ctx:e,permissionRequired:r,options:i,organizationId:n,member:o,user:a,action:s}){let l=[];for await(let[t,a]of Object.entries(r))for await(let r of a)l.push({resource:{[t]:[r]},hasPermission:await b({options:i,organizationId:n,permissions:{[t]:[r]},useMemoryCache:!0,role:o.role},e)});let u=l.filter(e=>!1===e.hasPermission).map(e=>{let t=Object.keys(e.resource)[0];return`${t}:${e.resource[t][0]}`});if(u.length>0){let r;throw e.context.logger.error(`[Dynamic Access Control] The user is missing permissions nessesary to ${s} a role with those set of permissions.
`,{userId:a.id,organizationId:n,role:o.role,missingPermissions:u}),r="create"===s?v.YOU_ARE_NOT_ALLOWED_TO_CREATE_A_ROLE:"update"===s?v.YOU_ARE_NOT_ALLOWED_TO_UPDATE_A_ROLE:"delete"===s?v.YOU_ARE_NOT_ALLOWED_TO_DELETE_A_ROLE:"read"===s?v.YOU_ARE_NOT_ALLOWED_TO_READ_A_ROLE:"list"===s?v.YOU_ARE_NOT_ALLOWED_TO_LIST_A_ROLE:v.YOU_ARE_NOT_ALLOWED_TO_GET_A_ROLE,new t.APIError("FORBIDDEN",{message:r,missingPermissions:u})}}async function ea({options:e,organizationId:r,role:i,ctx:n}){let o=e.roles?Object.keys(e.roles):["owner","admin","member"];if(o.includes(i))throw n.context.logger.error(`[Dynamic Access Control] The role name "${i}" is already taken by a pre-defined role.`,{role:i,organizationId:r,defaultRoles:o}),new t.APIError("BAD_REQUEST",{message:v.ROLE_NAME_IS_ALREADY_TAKEN})}async function es({organizationId:e,role:r,ctx:i}){if(await i.context.adapter.findOne({model:"organizationRole",where:[{field:"organizationId",value:e,operator:"eq",connector:"AND"},{field:"role",value:r,operator:"eq",connector:"AND"}]}))throw i.context.logger.error(`[Dynamic Access Control] The role name "${r}" is already taken by a role in the database.`,{role:r,organizationId:e}),new t.APIError("BAD_REQUEST",{message:v.ROLE_NAME_IS_ALREADY_TAKEN})}function el(e){return Array.isArray(e)?e.join(","):e}let eu=e=>{let i={createOrganization:D(e),updateOrganization:L(e),deleteOrganization:K(e),setActiveOrganization:B(e),getFullOrganization:M(e),listOrganizations:j(e),createInvitation:A(e),cancelInvitation:S(e),acceptInvitation:w(e),getInvitation:E(e),rejectInvitation:_(e),listInvitations:T(e),getActiveMember:k(e),checkOrganizationSlug:U(e),addMember:x(e),removeMember:O(e),updateMemberRole:C(e),leaveOrganization:N(e),listUserInvitations:I(e),listMembers:R(e),getActiveMemberRole:P(e)},o=e?.teams?.enabled,a={createTeam:$(e),listOrganizationTeams:q(e),removeTeam:z(e),updateTeam:F(e),setActiveTeam:V(),listUserTeams:H(),listTeamMembers:G(),addTeamMember:W(e),removeTeamMember:Z(e)};o&&(i={...i,...a});let s={createOrgRole:X(e),deleteOrgRole:ee(e),listOrgRoles:et(e),getOrgRole:er(e),updateOrgRole:ei(e)};e?.dynamicAccessControl?.enabled&&(i={...i,...s});let u={...f.defaultRoles,...e?.roles},c=o?{team:{modelName:e?.schema?.team?.modelName,fields:{name:{type:"string",required:!0,fieldName:e?.schema?.team?.fields?.name},organizationId:{type:"string",required:!0,references:{model:"organization",field:"id"},fieldName:e?.schema?.team?.fields?.organizationId},createdAt:{type:"date",required:!0,fieldName:e?.schema?.team?.fields?.createdAt},updatedAt:{type:"date",required:!1,fieldName:e?.schema?.team?.fields?.updatedAt,onUpdate:()=>new Date},...e?.schema?.team?.additionalFields||{}}},teamMember:{modelName:e?.schema?.teamMember?.modelName,fields:{teamId:{type:"string",required:!0,references:{model:"team",field:"id"},fieldName:e?.schema?.teamMember?.fields?.teamId},userId:{type:"string",required:!0,references:{model:"user",field:"id"},fieldName:e?.schema?.teamMember?.fields?.userId},createdAt:{type:"date",required:!1,fieldName:e?.schema?.teamMember?.fields?.createdAt}}}}:{},d={...e?.dynamicAccessControl?.enabled?{organizationRole:{fields:{organizationId:{type:"string",required:!0,references:{model:"organization",field:"id"},fieldName:e?.schema?.organizationRole?.fields?.organizationId},role:{type:"string",required:!0,fieldName:e?.schema?.organizationRole?.fields?.role},permission:{type:"string",required:!0,fieldName:e?.schema?.organizationRole?.fields?.permission},createdAt:{type:"date",required:!0,defaultValue:()=>new Date,fieldName:e?.schema?.organizationRole?.fields?.createdAt},updatedAt:{type:"date",required:!1,fieldName:e?.schema?.organizationRole?.fields?.updatedAt,onUpdate:()=>new Date},...e?.schema?.organizationRole?.additionalFields||{}},modelName:e?.schema?.organizationRole?.modelName}}:{},...c,...{organization:{modelName:e?.schema?.organization?.modelName,fields:{name:{type:"string",required:!0,sortable:!0,fieldName:e?.schema?.organization?.fields?.name},slug:{type:"string",required:!0,unique:!0,sortable:!0,fieldName:e?.schema?.organization?.fields?.slug},logo:{type:"string",required:!1,fieldName:e?.schema?.organization?.fields?.logo},createdAt:{type:"date",required:!0,fieldName:e?.schema?.organization?.fields?.createdAt},metadata:{type:"string",required:!1,fieldName:e?.schema?.organization?.fields?.metadata},...e?.schema?.organization?.additionalFields||{}}},member:{modelName:e?.schema?.member?.modelName,fields:{organizationId:{type:"string",required:!0,references:{model:"organization",field:"id"},fieldName:e?.schema?.member?.fields?.organizationId},userId:{type:"string",required:!0,fieldName:e?.schema?.member?.fields?.userId,references:{model:"user",field:"id"}},role:{type:"string",required:!0,sortable:!0,defaultValue:"member",fieldName:e?.schema?.member?.fields?.role},createdAt:{type:"date",required:!0,fieldName:e?.schema?.member?.fields?.createdAt},...e?.schema?.member?.additionalFields||{}}},invitation:{modelName:e?.schema?.invitation?.modelName,fields:{organizationId:{type:"string",required:!0,references:{model:"organization",field:"id"},fieldName:e?.schema?.invitation?.fields?.organizationId},email:{type:"string",required:!0,sortable:!0,fieldName:e?.schema?.invitation?.fields?.email},role:{type:"string",required:!1,sortable:!0,fieldName:e?.schema?.invitation?.fields?.role},...o?{teamId:{type:"string",required:!1,sortable:!0,fieldName:e?.schema?.invitation?.fields?.teamId}}:{},status:{type:"string",required:!0,sortable:!0,defaultValue:"pending",fieldName:e?.schema?.invitation?.fields?.status},expiresAt:{type:"date",required:!0,fieldName:e?.schema?.invitation?.fields?.expiresAt},inviterId:{type:"string",references:{model:"user",field:"id"},fieldName:e?.schema?.invitation?.fields?.inviterId,required:!0},...e?.schema?.invitation?.additionalFields||{}}}}};return{id:"organization",endpoints:{...g(i,{orgOptions:e||{},roles:u,getSession:async e=>await (0,n.g)(e)}),hasPermission:(0,n.a)("/organization/has-permission",{method:"POST",requireHeaders:!0,body:r.object({organizationId:r.string().optional()}).and(r.union([r.object({permission:r.record(r.string(),r.array(r.string())),permissions:r.undefined()}),r.object({permission:r.undefined(),permissions:r.record(r.string(),r.array(r.string()))})])),use:[l.a],metadata:{$Infer:{body:{}},openapi:{description:"Check if the user has permission",requestBody:{content:{"application/json":{schema:{type:"object",properties:{permission:{type:"object",description:"The permission to check",deprecated:!0},permissions:{type:"object",description:"The permission to check"}},required:["permissions"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string"},success:{type:"boolean"}},required:["success"]}}}}}}}},async r=>{let i=r.body.organizationId||r.context.session.session.activeOrganizationId;if(!i)throw new t.APIError("BAD_REQUEST",{message:v.NO_ACTIVE_ORGANIZATION});let n=y(r.context,e),o=await n.findMemberByOrgId({userId:r.context.session.user.id,organizationId:i});if(!o)throw new t.APIError("UNAUTHORIZED",{message:v.USER_IS_NOT_A_MEMBER_OF_THE_ORGANIZATION});let a=await b({role:o.role,options:e||{},permissions:r.body.permissions??r.body.permission,organizationId:i},r);return r.json({error:null,success:a})})},schema:{...d,session:{fields:{activeOrganizationId:{type:"string",required:!1,fieldName:e?.schema?.session?.fields?.activeOrganizationId},...o?{activeTeamId:{type:"string",required:!1,fieldName:e?.schema?.session?.fields?.activeTeamId}}:{}}}},$Infer:{Organization:{},Invitation:{},Member:{},Team:{},TeamMember:{},ActiveOrganization:{}},$ERROR_CODES:v,options:e}};e.s(["o",()=>eu],841190)},841604,e=>{"use strict";function t(e){return e?"0123456789ABCDEFGHIJKLMNOPQRSTUV":"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"}function r(e){let t=new Map;for(let r=0;r<e.length;r++)t.set(e[r],r);return t}function i(e,t,r){let i="",n=0,o=0;for(let r of e)for(n=n<<8|r,o+=8;o>=5;)o-=5,i+=t[n>>o&31];if(o>0&&(i+=t[n<<5-o&31]),r){let e=(8-i.length%8)%8;i+="=".repeat(e)}return i}function n(e,t){let i=r(t),n=[],o=0,a=0;for(let t of e){if("="===t)break;let e=i.get(t);if(void 0===e)throw Error(`Invalid Base32 character: ${t}`);for(o=o<<5|e,a+=5;a>=8;)a-=8,n.push(o>>a&255)}return Uint8Array.from(n)}let o={encode(e,r={}){let n=t(!1);return i("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),n,r.padding??!0)},decode(e){"string"!=typeof e&&(e=new TextDecoder().decode(e));let r=t(!1);return n(e,r)}};var a=e.i(35972);e.i(172381),e.i(530501),e.i(896101);let s=30,l=6;async function u(e,{counter:t,digits:r,hash:i="SHA-1"}){let n=r??l;if(n<1||n>8)throw TypeError("Digits must be between 1 and 8");let o=new ArrayBuffer(8);new DataView(o).setBigUint64(0,BigInt(t),!1);let s=new Uint8Array(o),u=new Uint8Array(await (0,a.createHMAC)(i).sign(e,s)),c=15&u[u.length-1];return(((127&u[c])<<24|(255&u[c+1])<<16|(255&u[c+2])<<8|255&u[c+3])%10**n).toString().padStart(n,"0")}async function c(e,t){let r=t?.digits??l,i=1e3*(t?.period??s),n=Math.floor(Date.now()/i);return await u(e,{counter:n,digits:r,hash:t?.hash})}async function d(e,{window:t=1,digits:r=l,secret:i,period:n=s}){let o=1e3*n,a=Math.floor(Date.now()/o);for(let n=-t;n<=t;n++)if(e===await u(i,{counter:a+n,digits:r}))return!0;return!1}function p({issuer:e,account:t,secret:r,digits:i=l,period:n=s}){let a=encodeURIComponent(e),u=encodeURIComponent(t),c=`otpauth://totp/${a}:${u}`,d=new URLSearchParams({secret:o.encode(r,{padding:!1}),issuer:e});return void 0!==i&&d.set("digits",i.toString()),void 0!==n&&d.set("period",n.toString()),`${c}?${d.toString()}`}let f=(e,t)=>{let r=t?.digits??l,i=t?.period??s;return{hotp:t=>u(e,{counter:t,digits:r}),totp:()=>c(e,{digits:r,period:i}),verify:(t,n)=>d(t,{secret:e,digits:r,period:i,...n}),url:(t,n)=>p({issuer:t,account:n,secret:e,digits:r,period:i})}};e.s(["createOTP",()=>f],841604)},625853,78096,e=>{"use strict";var t=e.i(362160),r=e.i(907855),i=e.i(562810),n=e.i(909879),o=e.i(154456);e.i(446610);var a=e.i(681393);e.i(338270),e.i(537430);var s=e.i(66655);e.i(464589),e.i(339127);var l=e.i(805650),u=e.i(530501),c=e.i(35972);e.i(323770);var d=e.i(282318);e.i(172381);var p=e.i(841604),f=e.i(823390);e.s([],78096),e.i(973088),e.i(130717),e.i(795080),e.i(533078),e.i(181984),e.i(408972),e.i(649330),e.i(129776);let h={OTP_NOT_ENABLED:"OTP not enabled",OTP_HAS_EXPIRED:"OTP has expired",TOTP_NOT_ENABLED:"TOTP not enabled",TWO_FACTOR_NOT_ENABLED:"Two factor isn't enabled",BACKUP_CODES_NOT_ENABLED:"Backup codes aren't enabled",INVALID_BACKUP_CODE:"Invalid backup code",INVALID_CODE:"Invalid code",TOO_MANY_ATTEMPTS_REQUEST_NEW_CODE:"Too many attempts. Please request a new code.",INVALID_TWO_FACTOR_COOKIE:"Invalid two factor cookie"},m="two_factor",g="trust_device";async function y(e){let t=await (0,n.g)(e);if(!t){let t=e.context.createAuthCookie(m),r=await e.getSignedCookie(t.name,e.context.secret);if(!r)throw new o.APIError("UNAUTHORIZED",{message:h.INVALID_TWO_FACTOR_COOKIE});let i=await e.context.internalAdapter.findVerificationValue(r);if(!i)throw new o.APIError("UNAUTHORIZED",{message:h.INVALID_TWO_FACTOR_COOKIE});let n=await e.context.internalAdapter.findUserById(i.value);if(!n)throw new o.APIError("UNAUTHORIZED",{message:h.INVALID_TWO_FACTOR_COOKIE});let s=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);return{valid:async e=>{let r=await e.context.internalAdapter.createSession(i.value,e,!!s);if(!r)throw new o.APIError("INTERNAL_SERVER_ERROR",{message:"failed to create session"});if(await (0,a.s)(e,{session:r,user:n}),e.body.trustDevice){let i=e.context.createAuthCookie(g,{maxAge:2592e3}),o=await (0,c.createHMAC)("SHA-256","base64urlnopad").sign(e.context.secret,`${n.id}!${r.token}`);await e.setSignedCookie(i.name,`${o}!${r.token}`,e.context.secret,i.attributes),e.setCookie(e.context.authCookies.dontRememberToken.name,"",{maxAge:0}),e.setCookie(t.name,"",{maxAge:0})}return e.json({token:r.token,user:{id:n.id,email:n.email,emailVerified:n.emailVerified,name:n.name,image:n.image,createdAt:n.createdAt,updatedAt:n.updatedAt}})},invalid:async e=>{throw new o.APIError("UNAUTHORIZED",{message:h[e]})},session:{session:null,user:n},key:r}}return{valid:async e=>e.json({token:t.session.token,user:{id:t.user.id,email:t.user.email,emailVerified:t.user.emailVerified,name:t.user.name,image:t.user.image,createdAt:t.user.createdAt,updatedAt:t.user.updatedAt}}),invalid:async()=>{throw new o.APIError("UNAUTHORIZED",{message:h.INVALID_TWO_FACTOR_COOKIE})},session:t,key:`${t.user.id}!${t.session.id}`}}function v(e){return Array.from({length:e?.amount??10}).fill(null).map(()=>(0,t.g)(e?.length??10,"a-z","0-9","A-Z")).map(e=>`${e.slice(0,5)}-${e.slice(5)}`)}async function b(e,t){let r=e,i=t?.customBackupCodesGenerate?t.customBackupCodesGenerate():v(t),n=await (0,l.symmetricEncrypt)({data:JSON.stringify(i),key:r});return{backupCodes:i,encryptedBackupCodes:n}}async function A(e,t){let r=await w(e.backupCodes,t);return r?{status:r.includes(e.code),updated:r.filter(t=>t!==e.code)}:{status:!1,updated:null}}async function w(e,t){let i=JSON.parse(new TextDecoder("utf-8").decode(new TextEncoder().encode(await (0,l.symmetricDecrypt)({key:t,data:e})))),n=r.array(r.string()).safeParse(i);return n.success?n.data:null}let _=e=>{let t="twoFactor";async function a(t,r){return e?.storeBackupCodes==="encrypted"?await (0,l.symmetricEncrypt)({key:t.context.secret,data:r}):"object"==typeof e?.storeBackupCodes&&"encrypt"in e?.storeBackupCodes?await e?.storeBackupCodes.encrypt(r):r}async function s(t,r){return e?.storeBackupCodes==="encrypted"?await (0,l.symmetricDecrypt)({key:t.context.secret,data:r}):"object"==typeof e?.storeBackupCodes&&"decrypt"in e?.storeBackupCodes?await e?.storeBackupCodes.decrypt(r):r}return{id:"backup_code",endpoints:{verifyBackupCode:(0,n.a)("/two-factor/verify-backup-code",{method:"POST",body:r.object({code:r.string().meta({description:'A backup code to verify. Eg: "123456"'}),disableSession:r.boolean().meta({description:"If true, the session cookie will not be set."}).optional(),trustDevice:r.boolean().meta({description:"If true, the device will be trusted for 30 days. It'll be refreshed on every sign in request within this time. Eg: true"}).optional()}),metadata:{openapi:{description:"Verify a backup code for two-factor authentication",responses:{200:{description:"Backup code verified successfully",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"Unique identifier of the user"},email:{type:"string",format:"email",nullable:!0,description:"User's email address"},emailVerified:{type:"boolean",nullable:!0,description:"Whether the email is verified"},name:{type:"string",nullable:!0,description:"User's name"},image:{type:"string",format:"uri",nullable:!0,description:"User's profile image URL"},twoFactorEnabled:{type:"boolean",description:"Whether two-factor authentication is enabled for the user"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the user was created"},updatedAt:{type:"string",format:"date-time",description:"Timestamp when the user was last updated"}},required:["id","twoFactorEnabled","createdAt","updatedAt"],description:"The authenticated user object with two-factor details"},session:{type:"object",properties:{token:{type:"string",description:"Session token"},userId:{type:"string",description:"ID of the user associated with the session"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the session was created"},expiresAt:{type:"string",format:"date-time",description:"Timestamp when the session expires"}},required:["token","userId","createdAt","expiresAt"],description:"The current session object, included unless disableSession is true"}},required:["user","session"]}}}}}}}},async e=>{let{session:r,valid:i}=await y(e),n=r.user,a=await e.context.adapter.findOne({model:t,where:[{field:"userId",value:n.id}]});if(!a)throw new o.APIError("BAD_REQUEST",{message:h.BACKUP_CODES_NOT_ENABLED});let u=await s(e,a.backupCodes),c=await A({backupCodes:u,code:e.body.code},e.context.secret);if(!c.status)throw new o.APIError("UNAUTHORIZED",{message:h.INVALID_BACKUP_CODE});let d=await (0,l.symmetricEncrypt)({key:e.context.secret,data:JSON.stringify(c.updated)});return(await e.context.adapter.updateMany({model:t,update:{backupCodes:d},where:[{field:"userId",value:n.id}]}),e.body.disableSession)?e.json({token:r.session?.token,user:{id:r.user?.id,email:r.user.email,emailVerified:r.user.emailVerified,name:r.user.name,image:r.user.image,createdAt:r.user.createdAt,updatedAt:r.user.updatedAt}}):i(e)}),generateBackupCodes:(0,n.a)("/two-factor/generate-backup-codes",{method:"POST",body:r.object({password:r.string().meta({description:"The users password."})}),use:[n.s],metadata:{openapi:{description:"Generate new backup codes for two-factor authentication",responses:{200:{description:"Backup codes generated successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the backup codes were generated successfully",enum:[!0]},backupCodes:{type:"array",items:{type:"string"},description:"Array of generated backup codes in plain text"}},required:["status","backupCodes"]}}}}}}}},async r=>{let i=r.context.session.user;if(!i.twoFactorEnabled)throw new o.APIError("BAD_REQUEST",{message:h.TWO_FACTOR_NOT_ENABLED});await r.context.password.checkPassword(i.id,r);let n=await b(r.context.secret,e),s=await a(r,n.encryptedBackupCodes);return await r.context.adapter.update({model:t,update:{backupCodes:s},where:[{field:"userId",value:r.context.session.user.id}]}),r.json({status:!0,backupCodes:n.backupCodes})}),viewBackupCodes:(0,n.a)("/two-factor/view-backup-codes",{method:"GET",body:r.object({userId:i.coerce.string().meta({description:'The user ID to view all backup codes. Eg: "user-id"'})}),metadata:{SERVER_ONLY:!0}},async e=>{let r=await e.context.adapter.findOne({model:t,where:[{field:"userId",value:e.body.userId}]});if(!r)throw new o.APIError("BAD_REQUEST",{message:"Backup codes aren't enabled"});if(!await w(r.backupCodes,e.context.secret))throw new o.APIError("BAD_REQUEST",{message:h.BACKUP_CODES_NOT_ENABLED});let i=await s(e,r.backupCodes);return e.json({status:!0,backupCodes:i})})}}},S=async e=>{let t=await (0,d.createHash)("SHA-256").digest(new TextEncoder().encode(e));return u.base64Url.encode(new Uint8Array(t),{padding:!1})},E=e=>{let i={storeOTP:"plain",digits:6,...e,period:60*(e?.period||3)*1e3};async function s(e,t){return"hashed"===i.storeOTP?await S(t):"object"==typeof i.storeOTP&&"hash"in i.storeOTP?await i.storeOTP.hash(t):"object"==typeof i.storeOTP&&"encrypt"in i.storeOTP?await i.storeOTP.encrypt(t):"encrypted"===i.storeOTP?await (0,l.symmetricEncrypt)({key:e.context.secret,data:t}):t}async function u(e,t){return"hashed"===i.storeOTP?await S(t):"encrypted"===i.storeOTP?await (0,l.symmetricDecrypt)({key:e.context.secret,data:t}):"object"==typeof i.storeOTP&&"encrypt"in i.storeOTP?await i.storeOTP.decrypt(t):"object"==typeof i.storeOTP&&"hash"in i.storeOTP?await i.storeOTP.hash(t):t}return{id:"otp",endpoints:{sendTwoFactorOTP:(0,n.a)("/two-factor/send-otp",{method:"POST",body:r.object({trustDevice:r.boolean().optional().meta({description:"If true, the device will be trusted for 30 days. It'll be refreshed on every sign in request within this time. Eg: true"})}).optional(),metadata:{openapi:{summary:"Send two factor OTP",description:"Send two factor OTP to the user",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async r=>{if(!e||!e.sendOTP)throw r.context.logger.error("send otp isn't configured. Please configure the send otp function on otp options."),new o.APIError("BAD_REQUEST",{message:"otp isn't configured"});let{session:n,key:a}=await y(r);if(!n.user.twoFactorEnabled)throw new o.APIError("BAD_REQUEST",{message:h.OTP_NOT_ENABLED});let l=(0,t.g)(i.digits,"0-9"),u=await s(r,l);return await r.context.internalAdapter.createVerificationValue({value:`${u}:0`,identifier:`2fa-otp-${a}`,expiresAt:new Date(Date.now()+i.period)},r),await e.sendOTP({user:n.user,otp:l},r.request),r.json({status:!0})}),verifyTwoFactorOTP:(0,n.a)("/two-factor/verify-otp",{method:"POST",body:r.object({code:r.string().meta({description:'The otp code to verify. Eg: "012345"'}),trustDevice:r.boolean().optional().meta({description:"If true, the device will be trusted for 30 days. It'll be refreshed on every sign in request within this time. Eg: true"})}),metadata:{openapi:{summary:"Verify two factor OTP",description:"Verify two factor OTP",responses:{200:{description:"Two-factor OTP verified successfully",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Session token for the authenticated session"},user:{type:"object",properties:{id:{type:"string",description:"Unique identifier of the user"},email:{type:"string",format:"email",nullable:!0,description:"User's email address"},emailVerified:{type:"boolean",nullable:!0,description:"Whether the email is verified"},name:{type:"string",nullable:!0,description:"User's name"},image:{type:"string",format:"uri",nullable:!0,description:"User's profile image URL"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the user was created"},updatedAt:{type:"string",format:"date-time",description:"Timestamp when the user was last updated"}},required:["id","createdAt","updatedAt"],description:"The authenticated user object"}},required:["token","user"]}}}}}}}},async t=>{let{session:r,key:i,valid:s,invalid:l}=await y(t),c=await t.context.internalAdapter.findVerificationValue(`2fa-otp-${i}`),[d,p]=c?.value?.split(":")??[],f=await u(t,d);if(!c||c.expiresAt<new Date)throw c&&await t.context.internalAdapter.deleteVerificationValue(c.id),new o.APIError("BAD_REQUEST",{message:h.OTP_HAS_EXPIRED});let m=e?.allowedAttempts||5;if(parseInt(p)>=m)throw await t.context.internalAdapter.deleteVerificationValue(c.id),new o.APIError("BAD_REQUEST",{message:h.TOO_MANY_ATTEMPTS_REQUEST_NEW_CODE});if(f!==t.body.code)return await t.context.internalAdapter.updateVerificationValue(c.id,{value:`${d}:${(parseInt(p,10)||0)+1}`}),l("INVALID_CODE");if(!r.user.twoFactorEnabled){if(!r.session)throw new o.APIError("BAD_REQUEST",{message:n.B.FAILED_TO_CREATE_SESSION});let e=await t.context.internalAdapter.updateUser(r.user.id,{twoFactorEnabled:!0}),i=await t.context.internalAdapter.createSession(r.user.id,t,!1,r.session);return await t.context.internalAdapter.deleteSession(r.session.token),await (0,a.s)(t,{session:i,user:e}),t.json({token:i.token,user:{id:e.id,email:e.email,emailVerified:e.emailVerified,name:e.name,image:e.image,createdAt:e.createdAt,updatedAt:e.updatedAt}})}return s(t)})}}},T=e=>{let t={...e,digits:e?.digits||6,period:e?.period||30},i="twoFactor",s=(0,n.a)("/totp/generate",{method:"POST",body:r.object({secret:r.string().meta({description:"The secret to generate the TOTP code"})}),metadata:{openapi:{summary:"Generate TOTP code",description:"Use this endpoint to generate a TOTP code",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{code:{type:"string"}}}}}}}},SERVER_ONLY:!0}},async r=>{if(e?.disable)throw r.context.logger.error("totp isn't configured. please pass totp option on two factor plugin to enable totp"),new o.APIError("BAD_REQUEST",{message:"totp isn't configured"});return{code:await (0,p.createOTP)(r.body.secret,{period:t.period,digits:t.digits}).totp()}});return{id:"totp",endpoints:{generateTOTP:s,getTOTPURI:(0,n.a)("/two-factor/get-totp-uri",{method:"POST",use:[n.s],body:r.object({password:r.string().meta({description:"User password"})}),metadata:{openapi:{summary:"Get TOTP URI",description:"Use this endpoint to get the TOTP URI",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{totpURI:{type:"string"}}}}}}}}}},async r=>{if(e?.disable)throw r.context.logger.error("totp isn't configured. please pass totp option on two factor plugin to enable totp"),new o.APIError("BAD_REQUEST",{message:"totp isn't configured"});let n=r.context.session.user,a=await r.context.adapter.findOne({model:i,where:[{field:"userId",value:n.id}]});if(!a)throw new o.APIError("BAD_REQUEST",{message:h.TOTP_NOT_ENABLED});let s=await (0,l.symmetricDecrypt)({key:r.context.secret,data:a.secret});return await r.context.password.checkPassword(n.id,r),{totpURI:(0,p.createOTP)(s,{digits:t.digits,period:t.period}).url(e?.issuer||r.context.appName,n.email)}}),verifyTOTP:(0,n.a)("/two-factor/verify-totp",{method:"POST",body:r.object({code:r.string().meta({description:'The otp code to verify. Eg: "012345"'}),trustDevice:r.boolean().meta({description:"If true, the device will be trusted for 30 days. It'll be refreshed on every sign in request within this time. Eg: true"}).optional()}),metadata:{openapi:{summary:"Verify two factor TOTP",description:"Verify two factor TOTP",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async r=>{if(e?.disable)throw r.context.logger.error("totp isn't configured. please pass totp option on two factor plugin to enable totp"),new o.APIError("BAD_REQUEST",{message:"totp isn't configured"});let{session:s,valid:u,invalid:c}=await y(r),d=s.user,f=await r.context.adapter.findOne({model:i,where:[{field:"userId",value:d.id}]});if(!f)throw new o.APIError("BAD_REQUEST",{message:h.TOTP_NOT_ENABLED});let m=await (0,l.symmetricDecrypt)({key:r.context.secret,data:f.secret});if(!await (0,p.createOTP)(m,{period:t.period,digits:t.digits}).verify(r.body.code))return c("INVALID_CODE");if(!d.twoFactorEnabled){if(!s.session)throw new o.APIError("BAD_REQUEST",{message:n.B.FAILED_TO_CREATE_SESSION});let e=await r.context.internalAdapter.updateUser(d.id,{twoFactorEnabled:!0},r),t=await r.context.internalAdapter.createSession(d.id,r,!1,s.session).catch(e=>{throw e});await r.context.internalAdapter.deleteSession(s.session.token),await (0,a.s)(r,{session:t,user:e})}return u(r)})}}},I={user:{fields:{twoFactorEnabled:{type:"boolean",required:!1,defaultValue:!1,input:!1}}},twoFactor:{fields:{secret:{type:"string",required:!0,returned:!1},backupCodes:{type:"string",required:!0,returned:!1},userId:{type:"string",required:!0,returned:!1,references:{model:"user",field:"id"}}}}},x=e=>{let i="twoFactor",u=T(e?.totpOptions),d=_(e?.backupCodeOptions),y=E(e?.otpOptions);return{id:"two-factor",endpoints:{...u.endpoints,...y.endpoints,...d.endpoints,enableTwoFactor:(0,n.a)("/two-factor/enable",{method:"POST",body:r.object({password:r.string().meta({description:"User password"}),issuer:r.string().meta({description:"Custom issuer for the TOTP URI"}).optional()}),use:[n.s],metadata:{openapi:{summary:"Enable two factor authentication",description:"Use this endpoint to enable two factor authentication. This will generate a TOTP URI and backup codes. Once the user verifies the TOTP URI, the two factor authentication will be enabled.",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{totpURI:{type:"string",description:"TOTP URI"},backupCodes:{type:"array",items:{type:"string"},description:"Backup codes"}}}}}}}}}},async r=>{let s=r.context.session.user,{password:u,issuer:c}=r.body;if(!await (0,f.v)(r,{password:u,userId:s.id}))throw new o.APIError("BAD_REQUEST",{message:n.B.INVALID_PASSWORD});let d=(0,t.g)(32),h=await (0,l.symmetricEncrypt)({key:r.context.secret,data:d}),m=await b(r.context.secret,e?.backupCodeOptions);if(e?.skipVerificationOnEnable){let e=await r.context.internalAdapter.updateUser(s.id,{twoFactorEnabled:!0},r),t=await r.context.internalAdapter.createSession(e.id,r,!1,r.context.session.session);await (0,a.s)(r,{session:t,user:e}),await r.context.internalAdapter.deleteSession(r.context.session.session.token)}await r.context.adapter.deleteMany({model:i,where:[{field:"userId",value:s.id}]}),await r.context.adapter.create({model:i,data:{secret:h,backupCodes:m.encryptedBackupCodes,userId:s.id}});let g=(0,p.createOTP)(d,{digits:e?.totpOptions?.digits||6,period:e?.totpOptions?.period}).url(c||e?.issuer||r.context.appName,s.email);return r.json({totpURI:g,backupCodes:m.backupCodes})}),disableTwoFactor:(0,n.a)("/two-factor/disable",{method:"POST",body:r.object({password:r.string().meta({description:"User password"})}),use:[n.s],metadata:{openapi:{summary:"Disable two factor authentication",description:"Use this endpoint to disable two factor authentication.",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.context.session.user,{password:r}=e.body;if(!await (0,f.v)(e,{password:r,userId:t.id}))throw new o.APIError("BAD_REQUEST",{message:"Invalid password"});let n=await e.context.internalAdapter.updateUser(t.id,{twoFactorEnabled:!1},e);await e.context.adapter.delete({model:i,where:[{field:"userId",value:n.id}]});let s=await e.context.internalAdapter.createSession(n.id,e,!1,e.context.session.session);return await (0,a.s)(e,{session:s,user:n}),await e.context.internalAdapter.deleteSession(e.context.session.session.token),e.json({status:!0})})},options:e,hooks:{after:[{matcher:e=>"/sign-in/email"===e.path||"/sign-in/username"===e.path||"/sign-in/phone-number"===e.path,handler:(0,n.c)(async r=>{let i=r.context.newSession;if(!i||!i?.user.twoFactorEnabled)return;let n=r.context.createAuthCookie(g),o=await r.getSignedCookie(n.name,r.context.secret);if(o){let[e,t]=o.split("!");if(e===await (0,c.createHMAC)("SHA-256","base64urlnopad").sign(r.context.secret,`${i.user.id}!${t}`)){let e=await (0,c.createHMAC)("SHA-256","base64urlnopad").sign(r.context.secret,`${i.user.id}!${t}`);await r.setSignedCookie(n.name,`${e}!${i.session.token}`,r.context.secret,n.attributes);return}}(0,a.d)(r,!0),await r.context.internalAdapter.deleteSession(i.session.token);let s=(e?.otpOptions?.period??3)*60,l=r.context.createAuthCookie(m,{maxAge:s}),u=`2fa-${(0,t.g)(20)}`;return await r.context.internalAdapter.createVerificationValue({value:i.user.id,identifier:u,expiresAt:new Date(Date.now()+1e3*s)},r),await r.setSignedCookie(l.name,u,r.context.secret,l.attributes),r.json({twoFactorRedirect:!0})})}]},schema:(0,s.m)(I,e?.schema),rateLimit:[{pathMatcher:e=>e.startsWith("/two-factor/"),window:10,max:3}],$ERROR_CODES:h}};e.s(["twoFactor",()=>x],625853)},105815,e=>{"use strict";var t=e.i(907855),r=e.i(909879),i=e.i(154456),n=e.i(681393),o=e.i(66655),a=e.i(795080),s=e.i(446610);e.i(338270),e.i(537430),e.i(464589),e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(362160),e.i(973088),e.i(130717),e.i(35972),e.i(323770),e.i(408972),e.i(181984),e.i(805650),e.i(533078),e.i(649330),e.i(129776);let l=e=>({user:{fields:{username:{type:"string",required:!1,sortable:!0,unique:!0,returned:!0,transform:{input:t=>"string"!=typeof t?t:e.username(t)}},displayUsername:{type:"string",required:!1,transform:{input:t=>"string"!=typeof t?t:e.displayUsername(t)}}}}}),u=(0,a.d)({INVALID_USERNAME_OR_PASSWORD:"Invalid username or password",EMAIL_NOT_VERIFIED:"Email not verified",UNEXPECTED_ERROR:"Unexpected error",USERNAME_IS_ALREADY_TAKEN:"Username is already taken. Please try another.",USERNAME_TOO_SHORT:"Username is too short",USERNAME_TOO_LONG:"Username is too long",INVALID_USERNAME:"Username is invalid",INVALID_DISPLAY_USERNAME:"Display username is invalid"});function c(e){return/^[a-zA-Z0-9_.]+$/.test(e)}let d=e=>{let a=t=>e?.usernameNormalization===!1?t:e?.usernameNormalization?e.usernameNormalization(t):t.toLowerCase(),d=t=>e?.displayUsernameNormalization?e.displayUsernameNormalization(t):t;return{id:"username",init:e=>({options:{databaseHooks:{user:{create:{async before(e,t){let r="username"in e?e.username:null,i="displayUsername"in e?e.displayUsername:null;return{data:{...e,...r?{username:a(r)}:{},...i?{displayUsername:d(i)}:{}}}}},update:{async before(e,t){let r="username"in e?e.username:null,i="displayUsername"in e?e.displayUsername:null;return{data:{...e,...r?{username:a(r)}:{},...i?{displayUsername:d(i)}:{}}}}}}}}}),endpoints:{signInUsername:(0,r.a)("/sign-in/username",{method:"POST",body:t.object({username:t.string().meta({description:"The username of the user"}),password:t.string().meta({description:"The password of the user"}),rememberMe:t.boolean().meta({description:"Remember the user session"}).optional(),callbackURL:t.string().meta({description:"The URL to redirect to after email verification"}).optional()}),metadata:{openapi:{summary:"Sign in with username",description:"Sign in with username",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"Session token for the authenticated session"},user:{$ref:"#/components/schemas/User"}},required:["token","user"]}}}},422:{description:"Unprocessable Entity. Validation error",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async t=>{if(!t.body.username||!t.body.password)throw t.context.logger.error("Username or password not found"),new i.APIError("UNAUTHORIZED",{message:u.INVALID_USERNAME_OR_PASSWORD});let o=e?.validationOrder?.username==="pre-normalization"?a(t.body.username):t.body.username,l=e?.minUsernameLength||3,d=e?.maxUsernameLength||30;if(o.length<l)throw t.context.logger.error("Username too short",{username:o}),new i.APIError("UNPROCESSABLE_ENTITY",{message:u.USERNAME_TOO_SHORT});if(o.length>d)throw t.context.logger.error("Username too long",{username:o}),new i.APIError("UNPROCESSABLE_ENTITY",{message:u.USERNAME_TOO_LONG});if(!(e?.usernameValidator||c)(o))throw new i.APIError("UNPROCESSABLE_ENTITY",{message:u.INVALID_USERNAME});let p=await t.context.adapter.findOne({model:"user",where:[{field:"username",value:a(o)}]});if(!p)throw await t.context.password.hash(t.body.password),t.context.logger.error("User not found",{username:o}),new i.APIError("UNAUTHORIZED",{message:u.INVALID_USERNAME_OR_PASSWORD});let f=await t.context.adapter.findOne({model:"account",where:[{field:"userId",value:p.id},{field:"providerId",value:"credential"}]});if(!f)throw new i.APIError("UNAUTHORIZED",{message:u.INVALID_USERNAME_OR_PASSWORD});let h=f?.password;if(!h)throw t.context.logger.error("Password not found",{username:o}),new i.APIError("UNAUTHORIZED",{message:u.INVALID_USERNAME_OR_PASSWORD});if(!await t.context.password.verify({hash:h,password:t.body.password}))throw t.context.logger.error("Invalid password"),new i.APIError("UNAUTHORIZED",{message:u.INVALID_USERNAME_OR_PASSWORD});if(t.context.options?.emailAndPassword?.requireEmailVerification&&!p.emailVerified){if(!t.context.options?.emailVerification?.sendVerificationEmail)throw new i.APIError("FORBIDDEN",{message:u.EMAIL_NOT_VERIFIED});if(t.context.options?.emailVerification?.sendOnSignIn){let e=await (0,s.k)(t.context.secret,p.email,void 0,t.context.options.emailVerification?.expiresIn),r=`${t.context.baseURL}/verify-email?token=${e}&callbackURL=${t.body.callbackURL||"/"}`;await t.context.options.emailVerification.sendVerificationEmail({user:p,url:r,token:e},t.request)}throw new i.APIError("FORBIDDEN",{message:u.EMAIL_NOT_VERIFIED})}let m=await t.context.internalAdapter.createSession(p.id,t,!1===t.body.rememberMe);return m?(await (0,n.s)(t,{session:m,user:p},!1===t.body.rememberMe),t.json({token:m.token,user:{id:p.id,email:p.email,emailVerified:p.emailVerified,username:p.username,displayUsername:p.displayUsername,name:p.name,image:p.image,createdAt:p.createdAt,updatedAt:p.updatedAt}})):t.json(null,{status:500,body:{message:r.B.FAILED_TO_CREATE_SESSION}})}),isUsernameAvailable:(0,r.a)("/is-username-available",{method:"POST",body:t.object({username:t.string().meta({description:"The username to check"})})},async t=>{let r=t.body.username;if(!r)throw new i.APIError("UNPROCESSABLE_ENTITY",{message:u.INVALID_USERNAME});let n=e?.minUsernameLength||3,o=e?.maxUsernameLength||30;if(r.length<n)throw new i.APIError("UNPROCESSABLE_ENTITY",{message:u.USERNAME_TOO_SHORT});if(r.length>o)throw new i.APIError("UNPROCESSABLE_ENTITY",{message:u.USERNAME_TOO_LONG});let s=e?.usernameValidator||c;if(!await s(r))throw new i.APIError("UNPROCESSABLE_ENTITY",{message:u.INVALID_USERNAME});return await t.context.adapter.findOne({model:"user",where:[{field:"username",value:a(r)}]})?t.json({available:!1}):t.json({available:!0})})},schema:(0,o.m)(l({username:a,displayUsername:d}),e?.schema),hooks:{before:[{matcher:e=>"/sign-up/email"===e.path||"/update-user"===e.path,handler:(0,r.c)(async t=>{let r="string"==typeof t.body.username&&e?.validationOrder?.username==="post-normalization"?a(t.body.username):t.body.username;if(void 0!==r&&"string"==typeof r){let n=e?.minUsernameLength||3,o=e?.maxUsernameLength||30;if(r.length<n)throw new i.APIError("BAD_REQUEST",{message:u.USERNAME_TOO_SHORT});if(r.length>o)throw new i.APIError("BAD_REQUEST",{message:u.USERNAME_TOO_LONG});let a=e?.usernameValidator||c;if(!await a(r))throw new i.APIError("BAD_REQUEST",{message:u.INVALID_USERNAME});let s=await t.context.adapter.findOne({model:"user",where:[{field:"username",value:r}]}),l="/sign-up/email"===t.path&&s,d="/update-user"===t.path&&s&&t.context.session&&s.id!==t.context.session.session.userId;if(l||d)throw new i.APIError("BAD_REQUEST",{message:u.USERNAME_IS_ALREADY_TAKEN})}let n="string"==typeof t.body.displayUsername&&e?.validationOrder?.displayUsername==="post-normalization"?d(t.body.displayUsername):t.body.displayUsername;if(void 0!==n&&"string"==typeof n&&e?.displayUsernameValidator&&!await e.displayUsernameValidator(n))throw new i.APIError("BAD_REQUEST",{message:u.INVALID_DISPLAY_USERNAME})})},{matcher:e=>"/sign-up/email"===e.path||"/update-user"===e.path,handler:(0,r.c)(async e=>{e.body.username&&!e.body.displayUsername&&(e.body.displayUsername=e.body.username),e.body.displayUsername&&!e.body.username&&(e.body.username=e.body.displayUsername)})}]},$ERROR_CODES:u}};e.s(["username",()=>d])},683117,e=>{"use strict";var t=e.i(907855),r=e.i(909879),i=e.i(154456),n=e.i(66655),o=e.i(362160);e.i(446610);var a=e.i(681393);e.i(338270),e.i(537430);var s=e.i(973088);e.i(464589),e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(130717),e.i(795080),e.i(35972),e.i(323770),e.i(805650),e.i(408972),e.i(533078),e.i(181984),e.i(649330),e.i(129776);let l={INVALID_PHONE_NUMBER:"Invalid phone number",PHONE_NUMBER_EXIST:"Phone number already exists",INVALID_PHONE_NUMBER_OR_PASSWORD:"Invalid phone number or password",UNEXPECTED_ERROR:"Unexpected error",OTP_NOT_FOUND:"OTP not found",OTP_EXPIRED:"OTP expired",INVALID_OTP:"Invalid OTP",PHONE_NUMBER_NOT_VERIFIED:"Phone number not verified"};function u(e){return(0,o.g)(e,"0-9")}let c=e=>{let o={expiresIn:e?.expiresIn||300,otpLength:e?.otpLength||6,...e,phoneNumber:"phoneNumber",phoneNumberVerified:"phoneNumberVerified",code:"code",createdAt:"createdAt"};return{id:"phone-number",endpoints:{signInPhoneNumber:(0,r.a)("/sign-in/phone-number",{method:"POST",body:t.object({phoneNumber:t.string().meta({description:'Phone number to sign in. Eg: "+1234567890"'}),password:t.string().meta({description:"Password to use for sign in."}),rememberMe:t.boolean().meta({description:"Remember the session. Eg: true"}).optional()}),metadata:{openapi:{summary:"Sign in with phone number",description:"Use this endpoint to sign in with phone number",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{$ref:"#/components/schemas/User"},session:{$ref:"#/components/schemas/Session"}}}}}},400:{description:"Invalid phone number or password"}}}}},async e=>{let{password:t,phoneNumber:n}=e.body;if(o.phoneNumberValidator&&!await o.phoneNumberValidator(e.body.phoneNumber))throw new i.APIError("BAD_REQUEST",{message:l.INVALID_PHONE_NUMBER});let c=await e.context.adapter.findOne({model:"user",where:[{field:"phoneNumber",value:n}]});if(!c)throw new i.APIError("UNAUTHORIZED",{message:l.INVALID_PHONE_NUMBER_OR_PASSWORD});if(o.requireVerification&&!c.phoneNumberVerified){let t=u(o.otpLength);throw await e.context.internalAdapter.createVerificationValue({value:t,identifier:n,expiresAt:(0,s.g)(o.expiresIn,"sec")},e),await o.sendOTP?.({phoneNumber:n,code:t},e.request),new i.APIError("UNAUTHORIZED",{message:l.PHONE_NUMBER_NOT_VERIFIED})}let d=(await e.context.internalAdapter.findAccountByUserId(c.id)).find(e=>"credential"===e.providerId);if(!d)throw e.context.logger.error("Credential account not found",{phoneNumber:n}),new i.APIError("UNAUTHORIZED",{message:l.INVALID_PHONE_NUMBER_OR_PASSWORD});let p=d?.password;if(!p)throw e.context.logger.error("Password not found",{phoneNumber:n}),new i.APIError("UNAUTHORIZED",{message:l.UNEXPECTED_ERROR});if(!await e.context.password.verify({hash:p,password:t}))throw e.context.logger.error("Invalid password"),new i.APIError("UNAUTHORIZED",{message:l.INVALID_PHONE_NUMBER_OR_PASSWORD});let f=await e.context.internalAdapter.createSession(c.id,e,!1===e.body.rememberMe);if(!f)throw e.context.logger.error("Failed to create session"),new i.APIError("UNAUTHORIZED",{message:r.B.FAILED_TO_CREATE_SESSION});return await (0,a.s)(e,{session:f,user:c},!1===e.body.rememberMe),e.json({token:f.token,user:{id:c.id,email:c.email,emailVerified:c.emailVerified,name:c.name,image:c.image,phoneNumber:c.phoneNumber,phoneNumberVerified:c.phoneNumberVerified,createdAt:c.createdAt,updatedAt:c.updatedAt}})}),sendPhoneNumberOTP:(0,r.a)("/phone-number/send-otp",{method:"POST",body:t.object({phoneNumber:t.string().meta({description:'Phone number to send OTP. Eg: "+1234567890"'})}),metadata:{openapi:{summary:"Send OTP to phone number",description:"Use this endpoint to send OTP to phone number",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async t=>{if(!e?.sendOTP)throw t.context.logger.warn("sendOTP not implemented"),new i.APIError("NOT_IMPLEMENTED",{message:"sendOTP not implemented"});if(o.phoneNumberValidator&&!await o.phoneNumberValidator(t.body.phoneNumber))throw new i.APIError("BAD_REQUEST",{message:l.INVALID_PHONE_NUMBER});let r=u(o.otpLength);return await t.context.internalAdapter.createVerificationValue({value:`${r}:0`,identifier:t.body.phoneNumber,expiresAt:(0,s.g)(o.expiresIn,"sec")},t),await e.sendOTP({phoneNumber:t.body.phoneNumber,code:r},t.request),t.json({message:"code sent"})}),verifyPhoneNumber:(0,r.a)("/phone-number/verify",{method:"POST",body:t.object({phoneNumber:t.string().meta({description:'Phone number to verify. Eg: "+1234567890"'}),code:t.string().meta({description:'OTP code. Eg: "123456"'}),disableSession:t.boolean().meta({description:"Disable session creation after verification. Eg: false"}).optional(),updatePhoneNumber:t.boolean().meta({description:"Check if there is a session and update the phone number. Eg: true"}).optional()}),metadata:{openapi:{summary:"Verify phone number",description:"Use this endpoint to verify phone number",responses:{200:{description:"Phone number verified successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the verification was successful",enum:[!0]},token:{type:"string",nullable:!0,description:"Session token if session is created, null if disableSession is true or no session is created"},user:{type:"object",nullable:!0,properties:{id:{type:"string",description:"Unique identifier of the user"},email:{type:"string",format:"email",nullable:!0,description:"User's email address"},emailVerified:{type:"boolean",nullable:!0,description:"Whether the email is verified"},name:{type:"string",nullable:!0,description:"User's name"},image:{type:"string",format:"uri",nullable:!0,description:"User's profile image URL"},phoneNumber:{type:"string",description:"User's phone number"},phoneNumberVerified:{type:"boolean",description:"Whether the phone number is verified"},createdAt:{type:"string",format:"date-time",description:"Timestamp when the user was created"},updatedAt:{type:"string",format:"date-time",description:"Timestamp when the user was last updated"}},required:["id","phoneNumber","phoneNumberVerified","createdAt","updatedAt"],description:"User object with phone number details, null if no user is created or found"}},required:["status"]}}}},400:{description:"Invalid OTP"}}}}},async t=>{let n=await t.context.internalAdapter.findVerificationValue(t.body.phoneNumber);if(!n||n.expiresAt<new Date){if(n&&n.expiresAt<new Date)throw new i.APIError("BAD_REQUEST",{message:"OTP expired"});throw new i.APIError("BAD_REQUEST",{message:l.OTP_NOT_FOUND})}let[s,u]=n.value.split(":"),c=e?.allowedAttempts||3;if(u&&parseInt(u)>=c)throw await t.context.internalAdapter.deleteVerificationValue(n.id),new i.APIError("FORBIDDEN",{message:"Too many attempts"});if(s!==t.body.code)throw await t.context.internalAdapter.updateVerificationValue(n.id,{value:`${s}:${parseInt(u||"0")+1}`}),new i.APIError("BAD_REQUEST",{message:"Invalid OTP"});if(await t.context.internalAdapter.deleteVerificationValue(n.id),t.body.updatePhoneNumber){let e=await (0,r.g)(t);if(!e)throw new i.APIError("UNAUTHORIZED",{message:r.B.USER_NOT_FOUND});if((await t.context.adapter.findMany({model:"user",where:[{field:"phoneNumber",value:t.body.phoneNumber}]})).length)throw t.error("BAD_REQUEST",{message:l.PHONE_NUMBER_EXIST});let n=await t.context.internalAdapter.updateUser(e.user.id,{[o.phoneNumber]:t.body.phoneNumber,[o.phoneNumberVerified]:!0},t);return t.json({status:!0,token:e.session.token,user:{id:n.id,email:n.email,emailVerified:n.emailVerified,name:n.name,image:n.image,phoneNumber:n.phoneNumber,phoneNumberVerified:n.phoneNumberVerified,createdAt:n.createdAt,updatedAt:n.updatedAt}})}let d=await t.context.adapter.findOne({model:"user",where:[{value:t.body.phoneNumber,field:o.phoneNumber}]});if(d)d=await t.context.internalAdapter.updateUser(d.id,{[o.phoneNumberVerified]:!0},t);else if(e?.signUpOnVerification&&!(d=await t.context.internalAdapter.createUser({email:e.signUpOnVerification.getTempEmail(t.body.phoneNumber),name:e.signUpOnVerification.getTempName?e.signUpOnVerification.getTempName(t.body.phoneNumber):t.body.phoneNumber,[o.phoneNumber]:t.body.phoneNumber,[o.phoneNumberVerified]:!0},t)))throw new i.APIError("INTERNAL_SERVER_ERROR",{message:r.B.FAILED_TO_CREATE_USER});if(!d)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:r.B.FAILED_TO_UPDATE_USER});if(await e?.callbackOnVerification?.({phoneNumber:t.body.phoneNumber,user:d},t.request),!t.body.disableSession){let e=await t.context.internalAdapter.createSession(d.id,t);if(!e)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:r.B.FAILED_TO_CREATE_SESSION});return await (0,a.s)(t,{session:e,user:d}),t.json({status:!0,token:e.token,user:{id:d.id,email:d.email,emailVerified:d.emailVerified,name:d.name,image:d.image,phoneNumber:d.phoneNumber,phoneNumberVerified:d.phoneNumberVerified,createdAt:d.createdAt,updatedAt:d.updatedAt}})}return t.json({status:!0,token:null,user:{id:d.id,email:d.email,emailVerified:d.emailVerified,name:d.name,image:d.image,phoneNumber:d.phoneNumber,phoneNumberVerified:d.phoneNumberVerified,createdAt:d.createdAt,updatedAt:d.updatedAt}})}),forgetPasswordPhoneNumber:(0,r.a)("/phone-number/forget-password",{method:"POST",body:t.object({phoneNumber:t.string().meta({description:'The phone number which is associated with the user. Eg: "+1234567890"'})}),metadata:{openapi:{description:"Request OTP for password reset via phone number",responses:{200:{description:"OTP sent successfully for password reset",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the OTP was sent successfully",enum:[!0]}},required:["status"]}}}}}}}},async t=>{if(!await t.context.adapter.findOne({model:"user",where:[{value:t.body.phoneNumber,field:o.phoneNumber}]}))throw new i.APIError("BAD_REQUEST",{message:"phone number isn't registered"});let r=u(o.otpLength);return await t.context.internalAdapter.createVerificationValue({value:`${r}:0`,identifier:`${t.body.phoneNumber}-request-password-reset`,expiresAt:(0,s.g)(o.expiresIn,"sec")},t),await e?.sendForgetPasswordOTP?.({phoneNumber:t.body.phoneNumber,code:r},t.request),t.json({status:!0})}),requestPasswordResetPhoneNumber:(0,r.a)("/phone-number/request-password-reset",{method:"POST",body:t.object({phoneNumber:t.string()}),metadata:{openapi:{description:"Request OTP for password reset via phone number",responses:{200:{description:"OTP sent successfully for password reset",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the OTP was sent successfully",enum:[!0]}},required:["status"]}}}}}}}},async t=>{if(!await t.context.adapter.findOne({model:"user",where:[{value:t.body.phoneNumber,field:o.phoneNumber}]}))throw new i.APIError("BAD_REQUEST",{message:"phone number isn't registered"});let r=u(o.otpLength);return await t.context.internalAdapter.createVerificationValue({value:`${r}:0`,identifier:`${t.body.phoneNumber}-request-password-reset`,expiresAt:(0,s.g)(o.expiresIn,"sec")},t),await e?.sendPasswordResetOTP?.({phoneNumber:t.body.phoneNumber,code:r},t.request),t.json({status:!0})}),resetPasswordPhoneNumber:(0,r.a)("/phone-number/reset-password",{method:"POST",body:t.object({otp:t.string().meta({description:'The one time password to reset the password. Eg: "123456"'}),phoneNumber:t.string().meta({description:'The phone number to the account which intends to reset the password for. Eg: "+1234567890"'}),newPassword:t.string().meta({description:'The new password. Eg: "new-and-secure-password"'})}),metadata:{openapi:{description:"Reset password using phone number OTP",responses:{200:{description:"Password reset successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the password was reset successfully",enum:[!0]}},required:["status"]}}}}}}}},async t=>{let r=await t.context.internalAdapter.findVerificationValue(`${t.body.phoneNumber}-request-password-reset`);if(!r)throw new i.APIError("BAD_REQUEST",{message:l.OTP_NOT_FOUND});if(r.expiresAt<new Date)throw new i.APIError("BAD_REQUEST",{message:l.OTP_EXPIRED});let[n,o]=r.value.split(":"),a=e?.allowedAttempts||3;if(o&&parseInt(o)>=a)throw await t.context.internalAdapter.deleteVerificationValue(r.id),new i.APIError("FORBIDDEN",{message:"Too many attempts"});if(t.body.otp!==n)throw await t.context.internalAdapter.updateVerificationValue(r.id,{value:`${n}:${parseInt(o||"0")+1}`}),new i.APIError("BAD_REQUEST",{message:l.INVALID_OTP});let s=await t.context.adapter.findOne({model:"user",where:[{field:"phoneNumber",value:t.body.phoneNumber}]});if(!s)throw new i.APIError("BAD_REQUEST",{message:l.UNEXPECTED_ERROR});let u=await t.context.password.hash(t.body.newPassword);return await t.context.internalAdapter.updatePassword(s.id,u),await t.context.internalAdapter.deleteVerificationValue(r.id),t.json({status:!0})})},schema:(0,n.m)(d,e?.schema),rateLimit:[{pathMatcher:e=>e.startsWith("/phone-number"),window:6e4,max:10}],$ERROR_CODES:l}},d={user:{fields:{phoneNumber:{type:"string",required:!1,unique:!0,sortable:!0,returned:!0},phoneNumberVerified:{type:"boolean",required:!1,returned:!0,input:!1}}}};e.s(["phoneNumber",()=>c])},731167,e=>{"use strict";var t=e.i(533078),r=e.i(154456),i=e.i(878175),n=e.i(907855),o=e.i(446610),a=e.i(909879),s=e.i(681393);async function l(e,r){if(e.idToken){let t=(0,i.decodeJwt)(e.idToken);if(t&&t.sub&&t.email)return{id:t.sub,emailVerified:t.email_verified,image:t.picture,...t}}if(!r)return null;let n=await (0,t.betterFetch)(r,{method:"GET",headers:{Authorization:`Bearer ${e.accessToken}`}});return{id:n.data?.sub,emailVerified:n.data?.email_verified??!1,email:n.data?.email,image:n.data?.picture,name:n.data?.name,...n.data}}e.i(338270),e.i(537430),e.i(464589),e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(362160),e.i(973088),e.i(805650),e.i(408972),e.i(181984),e.i(130717),e.i(649330),e.i(35972),e.i(323770),e.i(129776),e.i(795080);let u=e=>{let i={INVALID_OAUTH_CONFIGURATION:"Invalid OAuth configuration"};return{id:"generic-oauth",init:i=>({context:{socialProviders:e.config.map(e=>{let n=e.userInfoUrl;return{id:e.providerId,name:e.providerId,createAuthorizationURL:t=>(0,o.c)({id:e.providerId,options:{clientId:e.clientId,clientSecret:e.clientSecret,redirectURI:e.redirectURI},authorizationEndpoint:e.authorizationUrl,state:t.state,codeVerifier:e.pkce?t.codeVerifier:void 0,scopes:e.scopes||[],redirectURI:`${i.baseURL}/oauth2/callback/${e.providerId}`}),async validateAuthorizationCode(i){let a=e.tokenUrl;if(e.discoveryUrl){let r=await (0,t.betterFetch)(e.discoveryUrl,{method:"GET",headers:e.discoveryHeaders});r.data&&(a=r.data.token_endpoint,n=r.data.userinfo_endpoint)}if(!a)throw new r.APIError("BAD_REQUEST",{message:"Invalid OAuth configuration. Token URL not found."});return(0,o.v)({headers:e.authorizationHeaders,code:i.code,codeVerifier:i.codeVerifier,redirectURI:i.redirectURI,options:{clientId:e.clientId,clientSecret:e.clientSecret,redirectURI:e.redirectURI},tokenEndpoint:a,authentication:e.authentication})},async refreshAccessToken(i){let n=e.tokenUrl;if(e.discoveryUrl){let r=await (0,t.betterFetch)(e.discoveryUrl,{method:"GET",headers:e.discoveryHeaders});r.data&&(n=r.data.token_endpoint)}if(!n)throw new r.APIError("BAD_REQUEST",{message:"Invalid OAuth configuration. Token URL not found."});return(0,o.r)({refreshToken:i,options:{clientId:e.clientId,clientSecret:e.clientSecret},authentication:e.authentication,tokenEndpoint:n})},async getUserInfo(t){let r=e.getUserInfo?await e.getUserInfo(t):await l(t,n);return r?{user:{id:r?.id,email:r?.email,emailVerified:r?.emailVerified,image:r?.image,name:r?.name,...e.mapProfileToUser?.(r)},data:r}:null}}}).concat(i.socialProviders)}}),endpoints:{signInWithOAuth2:(0,a.a)("/sign-in/oauth2",{method:"POST",body:n.object({providerId:n.string().meta({description:"The provider ID for the OAuth provider"}),callbackURL:n.string().meta({description:"The URL to redirect to after sign in"}).optional(),errorCallbackURL:n.string().meta({description:"The URL to redirect to if an error occurs"}).optional(),newUserCallbackURL:n.string().meta({description:'The URL to redirect to after login if the user is new. Eg: "/welcome"'}).optional(),disableRedirect:n.boolean().meta({description:"Disable redirect"}).optional(),scopes:n.array(n.string()).meta({description:"Scopes to be passed to the provider authorization request."}).optional(),requestSignUp:n.boolean().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider. Eg: false"}).optional()}),metadata:{openapi:{description:"Sign in with OAuth2",responses:{200:{description:"Sign in with OAuth2",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string"},redirect:{type:"boolean"}}}}}}}}}},async n=>{let{providerId:a}=n.body,s=e.config.find(e=>e.providerId===a);if(!s)throw new r.APIError("BAD_REQUEST",{message:`No config found for provider ${a}`});let{discoveryUrl:l,authorizationUrl:u,tokenUrl:c,clientId:d,clientSecret:p,scopes:f,redirectURI:h,responseType:m,pkce:g,prompt:y,accessType:v,authorizationUrlParams:b,responseMode:A,authentication:w}=s,_=u,S=c;if(l){let e=await (0,t.betterFetch)(l,{method:"GET",headers:s.discoveryHeaders,onError(e){n.context.logger.error(e.error.message,e.error,{discoveryUrl:l})}});e.data&&(_=e.data.authorization_endpoint,S=e.data.token_endpoint)}if(!_||!S)throw new r.APIError("BAD_REQUEST",{message:i.INVALID_OAUTH_CONFIGURATION});if(b){let e=new URL(_);for(let[t,r]of Object.entries(b))e.searchParams.set(t,r);_=e.toString()}let E="function"==typeof b?b(n):b,{state:T,codeVerifier:I}=await (0,o.g)(n),x=await (0,o.c)({id:a,options:{clientId:d,redirectURI:h},authorizationEndpoint:_,state:T,codeVerifier:g?I:void 0,scopes:n.body.scopes?[...n.body.scopes,...f||[]]:f||[],redirectURI:`${n.context.baseURL}/oauth2/callback/${a}`,prompt:y,accessType:v,responseType:m,responseMode:A,additionalParams:E});return n.json({url:x.toString(),redirect:!n.body.disableRedirect})}),oAuth2Callback:(0,a.a)("/oauth2/callback/:providerId",{method:"GET",query:n.object({code:n.string().meta({description:"The OAuth2 code"}).optional(),error:n.string().meta({description:"The error message, if any"}).optional(),error_description:n.string().meta({description:"The error description, if any"}).optional(),state:n.string().meta({description:"The state parameter from the OAuth2 request"}).optional()}),metadata:{client:!1,openapi:{description:"OAuth2 callback",responses:{200:{description:"OAuth2 callback",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string"}}}}}}}}}},async i=>{let n,a,u=i.context.options.onAPIError?.errorURL||`${i.context.baseURL}/error`;if(i.query.error||!i.query.code)throw i.redirect(`${u}?error=${i.query.error||"oAuth_code_missing"}&error_description=${i.query.error_description}`);let c=e.config.find(e=>e.providerId===i.params.providerId);if(!c)throw new r.APIError("BAD_REQUEST",{message:`No config found for provider ${i.params.providerId}`});let{callbackURL:d,codeVerifier:p,errorURL:f,requestSignUp:h,newUserURL:m,link:g}=await (0,o.p)(i),y=i.query.code;function v(e){let t=i.context.options.onAPIError?.errorURL||`${i.context.baseURL}/error`,r=f||t;throw r=r.includes("?")?`${r}&error=${e}`:`${r}?error=${e}`,i.redirect(r)}let b=c.tokenUrl,A=c.userInfoUrl;if(c.discoveryUrl){let e=await (0,t.betterFetch)(c.discoveryUrl,{method:"GET",headers:c.discoveryHeaders});e.data&&(b=e.data.token_endpoint,A=e.data.userinfo_endpoint)}try{if(!b)throw new r.APIError("BAD_REQUEST",{message:"Invalid OAuth configuration."});let e="function"==typeof c.tokenUrlParams?c.tokenUrlParams(i):c.tokenUrlParams;a=await (0,o.v)({headers:c.authorizationHeaders,code:y,codeVerifier:c.pkce?p:void 0,redirectURI:`${i.context.baseURL}/oauth2/callback/${c.providerId}`,options:{clientId:c.clientId,clientSecret:c.clientSecret,redirectURI:c.redirectURI},tokenEndpoint:b,authentication:c.authentication,additionalParams:e})}catch(e){throw i.context.logger.error(e&&"object"==typeof e&&"name"in e?e.name:"",e),v("oauth_code_verification_failed")}if(!a)throw new r.APIError("BAD_REQUEST",{message:"Invalid OAuth configuration."});let w=await async function(){let e=c.getUserInfo?await c.getUserInfo(a):await l(a,A);if(!e)throw v("user_info_is_missing");let t=c.mapProfileToUser?await c.mapProfileToUser(e):e,r=t.email?t.email.toLowerCase():e.email?.toLowerCase();if(!r)throw i.context.logger.error("Unable to get user info",e),v("email_is_missing");let n=t.id?String(t.id):String(e.id),o=t.name?t.name:e.name;if(!o)throw i.context.logger.error("Unable to get user info",e),v("name_is_missing");return{...e,...t,email:r,id:n,name:o}}();if(g){let e;if(i.context.options.account?.accountLinking?.allowDifferentEmails!==!0&&g.email!==w.email)return v("email_doesn't_match");let t=await i.context.internalAdapter.findAccountByProviderId(String(w.id),c.providerId);if(t){if(t.userId!==g.userId)return v("account_already_linked_to_different_user");let e=Object.fromEntries(Object.entries({accessToken:a.accessToken,idToken:a.idToken,refreshToken:a.refreshToken,accessTokenExpiresAt:a.accessTokenExpiresAt,refreshTokenExpiresAt:a.refreshTokenExpiresAt,scope:a.scopes?.join(",")}).filter(([e,t])=>void 0!==t));await i.context.internalAdapter.updateAccount(t.id,e)}else if(!await i.context.internalAdapter.createAccount({userId:g.userId,providerId:c.providerId,accountId:w.id,accessToken:a.accessToken,accessTokenExpiresAt:a.accessTokenExpiresAt,refreshTokenExpiresAt:a.refreshTokenExpiresAt,scope:a.scopes?.join(","),refreshToken:a.refreshToken,idToken:a.idToken}))return v("unable_to_link_account");try{e=d.toString()}catch{e=d}throw i.redirect(e)}let _=await (0,o.j)(i,{userInfo:w,account:{providerId:c.providerId,accountId:w.id,...a,scope:a.scopes?.join(",")},callbackURL:d,disableSignUp:c.disableImplicitSignUp&&!h||c.disableSignUp,overrideUserInfo:c.overrideUserInfo});if(_.error)return v(_.error.split(" ").join("_"));let{session:S,user:E}=_.data;await (0,s.s)(i,{session:S,user:E});try{n=(_.isRegister&&m||d).toString()}catch{n=_.isRegister&&m||d}throw i.redirect(n)}),oAuth2LinkAccount:(0,a.a)("/oauth2/link",{method:"POST",body:n.object({providerId:n.string(),callbackURL:n.string(),scopes:n.array(n.string()).meta({description:"Additional scopes to request when linking the account"}).optional(),errorCallbackURL:n.string().meta({description:"The URL to redirect to if there is an error during the link process"}).optional()}),use:[a.s],metadata:{openapi:{description:"Link an OAuth2 account to the current user session",responses:{200:{description:"Authorization URL generated successfully for linking an OAuth2 account",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",format:"uri",description:"The authorization URL to redirect the user to for linking the OAuth2 account"},redirect:{type:"boolean",description:"Indicates that the client should redirect to the provided URL",enum:[!0]}},required:["url","redirect"]}}}}}}}},async n=>{let s=n.context.session,l=e.config.find(e=>e.providerId===n.body.providerId);if(!l)throw new r.APIError("NOT_FOUND",{message:a.B.PROVIDER_NOT_FOUND});let{providerId:u,clientId:c,clientSecret:d,redirectURI:p,authorizationUrl:f,discoveryUrl:h,pkce:m,scopes:g,prompt:y,accessType:v,authorizationUrlParams:b}=l,A=f;if(!A){if(!h)throw new r.APIError("BAD_REQUEST",{message:i.INVALID_OAUTH_CONFIGURATION});let e=await (0,t.betterFetch)(h,{method:"GET",headers:l.discoveryHeaders,onError(e){n.context.logger.error(e.error.message,e.error,{discoveryUrl:h})}});e.data&&(A=e.data.authorization_endpoint)}if(!A)throw new r.APIError("BAD_REQUEST",{message:i.INVALID_OAUTH_CONFIGURATION});let w=await (0,o.g)(n,{userId:s.user.id,email:s.user.email}),_="function"==typeof b?b(n):b,S=await (0,o.c)({id:u,options:{clientId:c,redirectURI:p||`${n.context.baseURL}/oauth2/callback/${u}`},authorizationEndpoint:A,state:w.state,codeVerifier:m?w.codeVerifier:void 0,scopes:n.body.scopes||g||[],redirectURI:p||`${n.context.baseURL}/oauth2/callback/${u}`,prompt:y,accessType:v,additionalParams:_});return n.json({url:S.toString(),redirect:!0})})},$ERROR_CODES:i}};e.s(["genericOAuth",()=>u])},926631,e=>{"use strict";var t=e.i(865466);function r(e){let r=e?.modulusLength??2048;if("number"!=typeof r||r<2048)throw new t.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function i(e,i){let n,o;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:r(i)},o=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:r(i)},o=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:r(i)},o=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},o=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},o=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},o=["sign","verify"];break;case"Ed25519":case"EdDSA":o=["sign","verify"],n={name:"Ed25519"};break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":o=["sign","verify"],n={name:e};break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{o=["deriveBits"];let e=i?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":n={name:"ECDH",namedCurve:e};break;case"X25519":n={name:"X25519"};break;default:throw new t.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, and X25519")}break}default:throw new t.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return crypto.subtle.generateKey(n,i?.extractable??!1,o)}e.i(108456);var n=e.i(14184),o=e.i(663370),a=e.i(196821);async function s(e){if((0,a.isKeyObject)(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:(0,o.encode)(e)};if(!(0,a.isCryptoKey)(e))throw TypeError((0,n.default)(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:i,use:s,...l}=await crypto.subtle.exportKey("jwk",e);return"AKP"===l.kty&&(l.alg=i),l}async function l(e){return s(e)}var u=e.i(397554),c=e.i(827957),d=e.i(408972),p=e.i(805650);e.i(896101),e.i(530501);let f=e=>({getAllKeys:async()=>await e.findMany({model:"jwks"}),getLatestKey:async()=>(await e.findMany({model:"jwks",sortBy:{field:"createdAt",direction:"desc"},limit:1}))[0],createJwk:async t=>await e.create({model:"jwks",data:{...t,createdAt:new Date}})}),h=60,m=3600,g=86400,y=604800,v=0x1e187e0,b=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function A(e){let t,r=b.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(i*h);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(i*m);break;case"day":case"days":case"d":t=Math.round(i*g);break;case"week":case"weeks":case"w":t=Math.round(i*y);break;default:t=Math.round(i*v)}return"-"===r[1]||"ago"===r[4]?-t:t}function w(e,t){return"number"==typeof e?e:e instanceof Date?Math.floor(e.getTime()/1e3):t+A(e)}async function _(e){let{alg:t,...r}=e?.jwks?.keyPairConfig??{alg:"EdDSA",crv:"Ed25519"},{publicKey:n,privateKey:o}=await i(t,{...r,extractable:!0});return{publicWebKey:await l(n),privateWebKey:await l(o),alg:t,cfg:r}}async function S(e,t){let{publicWebKey:r,privateWebKey:i,alg:n,cfg:o}=await _(t),a=JSON.stringify(i),s=!t?.jwks?.disablePrivateKeyEncryption,l={alg:n,...o&&"crv"in o?{crv:o.crv}:{},publicKey:JSON.stringify(r),privateKey:s?JSON.stringify(await (0,p.symmetricEncrypt)({key:e.context.secret,data:a})):a,createdAt:new Date},u=f(e.context.adapter);return await u.createJwk(l)}async function E(e,t){let{options:r,payload:i}=t,n=Math.floor(Date.now()/1e3),o=i.iat,a=i.exp,s=w(r?.jwt?.expirationTime??"15m",o??n);a=a??s;let l=i.nbf,h=i.iss,m=r?.jwt?.issuer??e.context.options.baseURL,g=i.aud,y=r?.jwt?.audience??e.context.options.baseURL;if(r?.jwt?.sign){let e={...i,iat:o,exp:a,nbf:l,iss:h??m,aud:g??y};return r.jwt.sign(e)}let v=f(e.context.adapter),b=await v.getLatestKey(),A=!r?.jwks?.disablePrivateKeyEncryption;void 0===b&&(b=await S(e,r));let _=A?await (0,p.symmetricDecrypt)({key:e.context.secret,data:JSON.parse(b.privateKey)}).catch(()=>{throw new d.B("Failed to decrypt private private key. Make sure the secret currently in use is the same as the one used to encrypt the private key. If you are using a different secret, either cleanup your jwks or disable private key encryption.")}):b.privateKey,E=b.alg??r?.jwks?.keyPairConfig?.alg??"EdDSA",T=await (0,u.importJWK)(JSON.parse(_),E),I=new c.SignJWT(i).setProtectedHeader({alg:E,kid:b.id}).setExpirationTime(a).setIssuer(h??m).setAudience(g??y);return o&&I.setIssuedAt(o),i.sub&&I.setSubject(i.sub),i.nbf&&I.setNotBefore(i.nbf),i.jti&&I.setJti(i.jti),await I.sign(T)}async function T(e,t){let r=t?.jwt?.definePayload?await t?.jwt.definePayload(e.context.session):e.context.session.user;return await E(e,{options:t,payload:{iat:Math.floor(Date.now()/1e3),...r,sub:await t?.jwt?.getSubject?.(e.context.session)??e.context.session.user.id}})}e.s(["a",()=>f,"c",()=>S,"g",()=>T,"s",()=>E],926631)},175409,e=>{"use strict";var t=e.i(926631),r=e.i(154456);e.i(446610);var i=e.i(909879),n=e.i(907855),o=e.i(408972);e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(537430);var a=e.i(66655);e.i(339127),e.i(282318),e.i(172381),e.i(362160),e.i(805650),e.i(896101),e.i(973088),e.i(533078),e.i(181984),e.i(681393),e.i(130717),e.i(649330),e.i(129776),e.i(795080);let s={jwks:{fields:{publicKey:{type:"string",required:!0},privateKey:{type:"string",required:!0},createdAt:{type:"date",required:!0}}}},l=e=>{if(e?.jwt?.sign&&!e.jwks?.remoteUrl)throw new o.B("jwks_config","jwks.remoteUrl must be set when using jwt.sign");if(e?.jwks?.remoteUrl&&!e.jwks?.keyPairConfig?.alg)throw new o.B("jwks_config","must specify alg when using the oidc plugin and jwks.remoteUrl");return{id:"jwt",options:e,endpoints:{getJwks:(0,i.a)("/jwks",{method:"GET",metadata:{openapi:{description:"Get the JSON Web Key Set",responses:{200:{description:"JSON Web Key Set retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{keys:{type:"array",description:"Array of public JSON Web Keys",items:{type:"object",properties:{kid:{type:"string",description:"Key ID uniquely identifying the key, corresponds to the 'id' from the stored Jwk"},kty:{type:"string",description:"Key type (e.g., 'RSA', 'EC', 'OKP')"},alg:{type:"string",description:"Algorithm intended for use with the key (e.g., 'EdDSA', 'RS256')"},use:{type:"string",description:"Intended use of the public key (e.g., 'sig' for signature)",enum:["sig"],nullable:!0},n:{type:"string",description:"Modulus for RSA keys (base64url-encoded)",nullable:!0},e:{type:"string",description:"Exponent for RSA keys (base64url-encoded)",nullable:!0},crv:{type:"string",description:"Curve name for elliptic curve keys (e.g., 'Ed25519', 'P-256')",nullable:!0},x:{type:"string",description:"X coordinate for elliptic curve keys (base64url-encoded)",nullable:!0},y:{type:"string",description:"Y coordinate for elliptic curve keys (base64url-encoded)",nullable:!0}},required:["kid","kty","alg"]}}},required:["keys"]}}}}}}}},async i=>{if(e?.jwks?.remoteUrl)throw new r.APIError("NOT_FOUND");let n=(0,t.a)(i.context.adapter),o=await n.getAllKeys();if(0===o.length){let r=await (0,t.c)(i,e);o.push(r)}let a=e?.jwks?.keyPairConfig,s=a&&"crv"in a?a.crv:void 0;return i.json({keys:o.map(t=>({alg:t.alg??e?.jwks?.keyPairConfig?.alg??"EdDSA",crv:t.crv??s,...JSON.parse(t.publicKey),kid:t.id}))})}),getToken:(0,i.a)("/token",{method:"GET",requireHeaders:!0,use:[i.s],metadata:{openapi:{description:"Get a JWT token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async r=>{let i=await (0,t.g)(r,e);return r.json({token:i})}),signJWT:(0,i.a)("/sign-jwt",{method:"POST",metadata:{SERVER_ONLY:!0,$Infer:{body:{}}},body:n.object({payload:n.record(n.string(),n.any()),overrideOptions:n.record(n.string(),n.any()).optional()})},async r=>{let i=await (0,t.s)(r,{options:{...e,...r.body.overrideOptions},payload:r.body.payload});return r.json({token:i})})},hooks:{after:[{matcher:e=>"/get-session"===e.path,handler:(0,i.c)(async r=>{if(e?.disableSettingJwtHeader)return;let i=r.context.session||r.context.newSession;if(i&&i.session){let i=await (0,t.g)(r,e),n=new Set((r.context.responseHeaders?.get("access-control-expose-headers")||"").split(",").map(e=>e.trim()).filter(Boolean));n.add("set-auth-jwt"),r.setHeader("set-auth-jwt",i),r.setHeader("Access-Control-Expose-Headers",Array.from(n).join(", "))}})}]},schema:(0,a.m)(s,e?.schema)}};e.s(["jwt",()=>l])},424181,e=>{"use strict";var t=e.i(907855),r=e.i(154456);e.i(446610);var i=e.i(909879),n=e.i(681393);e.i(338270),e.i(537430),e.i(464589),e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(362160),e.i(973088),e.i(805650),e.i(408972),e.i(533078),e.i(181984),e.i(130717),e.i(649330),e.i(35972),e.i(323770),e.i(129776),e.i(795080);let o=e=>{let o={maximumSessions:5,...e},a=e=>e.includes("_multi-"),s={INVALID_SESSION_TOKEN:"Invalid session token"};return{id:"multi-session",endpoints:{listDeviceSessions:(0,i.a)("/multi-session/list-device-sessions",{method:"GET",requireHeaders:!0},async e=>{let t=e.headers?.get("cookie");if(!t)return e.json([]);let r=Object.fromEntries((0,n.a)(t)),i=(await Promise.all(Object.entries(r).filter(([e])=>a(e)).map(async([t])=>await e.getSignedCookie(t,e.context.secret)))).filter(e=>null!==e);if(!i.length)return e.json([]);let o=(await e.context.internalAdapter.findSessions(i)).filter(e=>e&&e.session.expiresAt>new Date).reduce((e,t)=>(e.find(e=>e.user.id===t.user.id)||e.push(t),e),[]);return e.json(o)}),setActiveSession:(0,i.a)("/multi-session/set-active",{method:"POST",body:t.object({sessionToken:t.string().meta({description:"The session token to set as active"})}),requireHeaders:!0,use:[i.s],metadata:{openapi:{description:"Set the active session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"}}}}}}}}}},async e=>{let t=e.body.sessionToken,i=`${e.context.authCookies.sessionToken.name}_multi-${t.toLowerCase()}`;if(!await e.getSignedCookie(i,e.context.secret))throw new r.APIError("UNAUTHORIZED",{message:s.INVALID_SESSION_TOKEN});let o=await e.context.internalAdapter.findSession(t);if(!o||o.session.expiresAt<new Date)throw e.setCookie(i,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),new r.APIError("UNAUTHORIZED",{message:s.INVALID_SESSION_TOKEN});return await (0,n.s)(e,o),e.json(o)}),revokeDeviceSession:(0,i.a)("/multi-session/revoke",{method:"POST",body:t.object({sessionToken:t.string().meta({description:"The session token to revoke"})}),requireHeaders:!0,use:[i.s],metadata:{openapi:{description:"Revoke a device session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.body.sessionToken,i=`${e.context.authCookies.sessionToken.name}_multi-${t.toLowerCase()}`;if(!await e.getSignedCookie(i,e.context.secret))throw new r.APIError("UNAUTHORIZED",{message:s.INVALID_SESSION_TOKEN});if(await e.context.internalAdapter.deleteSession(t),e.setCookie(i,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.context.session?.session.token!==t)return e.json({status:!0});let o=e.headers?.get("cookie");if(o){let t=Object.fromEntries((0,n.a)(o)),r=(await Promise.all(Object.entries(t).filter(([e])=>a(e)).map(async([t])=>await e.getSignedCookie(t,e.context.secret)))).filter(e=>void 0!==e),i=e.context.internalAdapter;if(r.length>0){let t=(await i.findSessions(r)).filter(e=>e&&e.session.expiresAt>new Date);if(t.length>0){let r=t[0];await (0,n.s)(e,r)}else(0,n.d)(e)}else(0,n.d)(e)}else(0,n.d)(e);return e.json({status:!0})})},hooks:{after:[{matcher:()=>!0,handler:(0,i.c)(async e=>{let t=e.context.responseHeaders?.get("set-cookie");if(!t)return;let r=(0,n.p)(t),i=e.context.authCookies.sessionToken,s=e.context.newSession?.session.token;if(!s)return;let l=(0,n.a)(e.headers?.get("cookie")||""),u=`${i.name}_multi-${s.toLowerCase()}`;r.get(u)||l.get(u)||Object.keys(Object.fromEntries(l)).filter(a).length+ +!!t.includes("session_token")>=o.maximumSessions||await e.setSignedCookie(u,s,e.context.secret,i.options)})},{matcher:e=>"/sign-out"===e.path,handler:(0,i.c)(async e=>{let t=e.headers?.get("cookie");if(!t)return;let r=Object.fromEntries((0,n.a)(t)),i=Object.keys(r).map(t=>a(t)?(e.setCookie(t.toLowerCase().replace("__secure-","__Secure-"),"",{...e.context.authCookies.sessionToken.options,maxAge:0}),r[t].split(".")[0]):null).filter(e=>null!==e);await e.context.internalAdapter.deleteSessions(i)})}]},$ERROR_CODES:s}};e.s(["multiSession",()=>o])},387164,e=>{"use strict";var t=e.i(907855);e.i(154456);var r=e.i(446610),i=e.i(909879),n=e.i(338270);e.i(530501),e.i(35972),e.i(464589);var o=e.i(181984);e.i(323770),e.i(537430),e.i(339127);var a=e.i(805650);function s(){let e=n.e.VERCEL_URL?`https://${n.e.VERCEL_URL}`:void 0,t=n.e.NETLIFY_URL,r=n.e.RENDER_URL,i=n.e.AWS_LAMBDA_FUNCTION_NAME,o=n.e.GOOGLE_CLOUD_FUNCTION_NAME,a=n.e.AZURE_FUNCTION_NAME;return e||t||r||i||o||a}e.i(973088),e.i(282318),e.i(533078),e.i(172381),e.i(362160),e.i(681393),e.i(408972),e.i(130717),e.i(649330),e.i(129776),e.i(795080);let l=e=>{let l=t=>new URL(e?.currentURL||t.request?.url||s()||t.context.baseURL),u=t=>!!t.request?.headers.get("x-skip-oauth-proxy")||(e?.productionURL||n.e.BETTER_AUTH_URL)===t.context.options.baseURL;return{id:"oauth-proxy",options:e,endpoints:{oAuthProxy:(0,i.a)("/oauth-proxy-callback",{method:"GET",query:t.object({callbackURL:t.string().meta({description:"The URL to redirect to after the proxy"}),cookies:t.string().meta({description:"The cookies to set after the proxy"})}),use:[(0,r.o)(e=>e.query.callbackURL)],metadata:{openapi:{description:"OAuth Proxy Callback",parameters:[{in:"query",name:"callbackURL",required:!0,description:"The URL to redirect to after the proxy"},{in:"query",name:"cookies",required:!0,description:"The cookies to set after the proxy"}],responses:{302:{description:"Redirect",headers:{Location:{description:"The URL to redirect to",schema:{type:"string"}}}}}}}},async e=>{let t=e.query.cookies,r=await (0,a.symmetricDecrypt)({key:e.context.secret,data:t}).catch(t=>(e.context.logger.error(t),null)),i=e.context.options.onAPIError?.errorURL||`${e.context.options.baseURL}/api/auth/error`;if(!r)throw e.redirect(`${i}?error=OAuthProxy - Invalid cookies or secret`);let n="https:"===l(e).protocol,o=e.context.options.advanced?.cookiePrefix||"better-auth",s=n?r:r.replace("Secure;","").replace(`__Secure-${o}`,o);throw e.setHeader("set-cookie",s),e.redirect(e.query.callbackURL)})},hooks:{after:[{matcher:e=>e.path?.startsWith("/callback")||e.path?.startsWith("/oauth2/callback"),handler:(0,i.c)(async t=>{let r=t.context.responseHeaders,i=r?.get("location");if(i?.includes("/oauth-proxy-callback?callbackURL")){if(!i.startsWith("http"))return;let n=new URL(i),s=n.origin,l=e?.productionURL||t.context.options.baseURL||t.context.baseURL;if(s===(0,o.g)(l)){let e=n.searchParams.get("callbackURL");if(!e)return;t.setHeader("location",e);return}let u=r?.get("set-cookie");if(!u)return;let c=await (0,a.symmetricEncrypt)({key:t.context.secret,data:u}),d=`${i}&cookies=${encodeURIComponent(c)}`;t.setHeader("location",d)}})}],before:[{matcher:()=>!0,handler:(0,i.c)(async e=>{if(!u(e)&&"/callback/:id"===e.path)return{context:{context:{oauthConfig:{skipStateCookieCheck:!0}}}}})},{matcher:e=>e.path?.startsWith("/sign-in/social")||e.path?.startsWith("/sign-in/oauth2"),handler:(0,i.c)(async e=>{let t=u(e);if(console.log("skipProxy",t),t)return;let r=l(e);if(e.body)return e.body.callbackURL=`${r.origin}${e.context.options.basePath||"/api/auth"}/oauth-proxy-callback?callbackURL=${encodeURIComponent(e.body.callbackURL||e.context.baseURL)}`,{context:e}})}]}}};e.s(["oAuthProxy",()=>l])},136145,e=>{"use strict";var t=e.i(907855);e.i(154456),e.i(446610);var r=e.i(909879);e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(537430),e.i(339127),e.i(282318),e.i(172381),e.i(362160);var i=e.i(127155);e.i(973088),e.i(805650),e.i(408972),e.i(533078),e.i(181984),e.i(681393),e.i(130717),e.i(649330),e.i(129776),e.i(795080);let n=t.optional(t.object({disableCookieCache:t.boolean().meta({description:"Disable cookie cache and fetch session from database"}).or(t.string().transform(e=>"true"===e)).optional(),disableRefresh:t.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),o=(e,t,o)=>({id:"custom-session",hooks:{after:[{matcher:e=>"/multi-session/list-device-sessions"===e.path&&(o?.shouldMutateListDeviceSessionsEndpoint??!1),handler:(0,r.c)(async t=>{let r=await (0,i.g)(t);if(!r)return;let n=await Promise.all(r.map(async r=>await e(r,t)));return t.json(n)})}]},endpoints:{getSession:(0,r.a)("/get-session",{method:"GET",query:n,metadata:{CUSTOM_SESSION:!0,openapi:{description:"Get custom session data",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",nullable:!0,items:{$ref:"#/components/schemas/Session"}}}}}}}},requireHeaders:!0},async t=>{let i=await (0,r.b)()({...t,asResponse:!1,headers:t.headers,returnHeaders:!0}).catch(e=>null);if(!i?.response)return t.json(null);let n=await e(i.response,t),o=i.headers.get("set-cookie");return o&&(t.setHeader("set-cookie",o),i.headers.delete("set-cookie")),i.headers.forEach((e,r)=>{t.setHeader(r,e)}),t.json(n)})}});e.s(["customSession",()=>o])},476902,e=>{"use strict";var t=e.i(907855),r=e.i(827957),i=e.i(154456);e.i(446610);var n=e.i(909879);e.i(338270);var o=e.i(530501);e.i(35972),e.i(464589),e.i(323770);var a=e.i(681393);e.i(537430);var s=e.i(66655);e.i(339127);var l=e.i(805650),u=e.i(282318);e.i(172381);var c=e.i(362160),d=e.i(926631);let p={oauthApplication:{modelName:"oauthApplication",fields:{name:{type:"string"},icon:{type:"string",required:!1},metadata:{type:"string",required:!1},clientId:{type:"string",unique:!0},clientSecret:{type:"string",required:!1},redirectURLs:{type:"string"},type:{type:"string"},disabled:{type:"boolean",required:!1,defaultValue:!1},userId:{type:"string",required:!1,references:{model:"user",field:"id",onDelete:"cascade"}},createdAt:{type:"date"},updatedAt:{type:"date"}}},oauthAccessToken:{modelName:"oauthAccessToken",fields:{accessToken:{type:"string",unique:!0},refreshToken:{type:"string",unique:!0},accessTokenExpiresAt:{type:"date"},refreshTokenExpiresAt:{type:"date"},clientId:{type:"string",references:{model:"oauthApplication",field:"clientId",onDelete:"cascade"}},userId:{type:"string",required:!1,references:{model:"user",field:"id",onDelete:"cascade"}},scopes:{type:"string"},createdAt:{type:"date"},updatedAt:{type:"date"}}},oauthConsent:{modelName:"oauthConsent",fields:{clientId:{type:"string",references:{model:"oauthApplication",field:"clientId",onDelete:"cascade"}},userId:{type:"string",references:{model:"user",field:"id",onDelete:"cascade"}},scopes:{type:"string"},createdAt:{type:"date"},updatedAt:{type:"date"},consentGiven:{type:"boolean"}}}};function f(e,t,r){return`${e.includes("?")?"&":"?"}error=${t}&error_description=${r}`}function h(e,t,r){return f(e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`,t,r)}async function m(e,t){let r=t=>{if(e.request?.headers.get("sec-fetch-mode")==="cors")return e.json({redirect:!0,url:t});throw e.redirect(t)},o={codeExpiresIn:600,defaultScope:"openid",...t,scopes:["openid","profile","email","offline_access",...t?.scopes||[]]};if(!e.request)throw new i.APIError("UNAUTHORIZED",{error_description:"request not found",error:"invalid_request"});let a=await (0,n.g)(e);if(!a){await e.setSignedCookie("oidc_login_prompt",JSON.stringify(e.query),e.context.secret,{maxAge:600,path:"/",sameSite:"lax"});let i=e.request.url?.split("?")[1];return r(`${t.loginPage}?${i}`)}let s=e.query;if(!s.client_id){let t=h(e,"invalid_client","client_id is required");throw e.redirect(t)}if(!s.response_type)throw h(e,"invalid_request","response_type is required"),e.redirect(h(e,"invalid_request","response_type is required"));let l=await v(e.query.client_id,e.context.adapter,t.trustedClients||[]);if(!l){let t=h(e,"invalid_client","client_id is required");throw e.redirect(t)}let u=l.redirectURLs.find(t=>t===e.query.redirect_uri);if(!u||!s.redirect_uri)throw new i.APIError("BAD_REQUEST",{message:"Invalid redirect URI"});if(l.disabled){let t=h(e,"client_disabled","client is disabled");throw e.redirect(t)}if("code"!==s.response_type){let t=h(e,"unsupported_response_type","unsupported response type");throw e.redirect(t)}let d=s.scope?.split(" ").filter(e=>e)||o.defaultScope.split(" "),p=d.filter(e=>!o.scopes.includes(e));if(p.length)return r(f(s.redirect_uri,"invalid_scope",`The following scopes are invalid: ${p.join(", ")}`));if((!s.code_challenge||!s.code_challenge_method)&&t.requirePKCE)return r(f(s.redirect_uri,"invalid_request","pkce is required"));if(s.code_challenge_method||(s.code_challenge_method="plain"),!["s256",t.allowPlainCodeChallengeMethod?"plain":"s256"].includes(s.code_challenge_method?.toLowerCase()||""))return r(f(s.redirect_uri,"invalid_request","invalid code_challenge method"));let m=(0,c.g)(32,"a-z","A-Z","0-9"),g=1e3*o.codeExpiresIn,y=new Date(Date.now()+g),b=l.skipConsent,A=await e.context.adapter.findOne({model:"oauthConsent",where:[{field:"clientId",value:l.clientId},{field:"userId",value:a.user.id}]}).then(e=>!!e?.consentGiven),w=!b&&(!A||"consent"===s.prompt);try{await e.context.internalAdapter.createVerificationValue({value:JSON.stringify({clientId:l.clientId,redirectURI:s.redirect_uri,scope:d,userId:a.user.id,authTime:new Date(a.session.createdAt).getTime(),requireConsent:w,state:w?s.state:null,codeChallenge:s.code_challenge,codeChallengeMethod:s.code_challenge_method,nonce:s.nonce}),identifier:m,expiresAt:y},e)}catch(e){return r(f(s.redirect_uri,"server_error","An error occurred while processing the request"))}if(!w){let t=new URL(u);return t.searchParams.set("code",m),t.searchParams.set("state",e.query.state),r(t.toString())}if(t?.consentPage){await e.setSignedCookie("oidc_consent_prompt",m,e.context.secret,{maxAge:600,path:"/",sameSite:"lax"});let i=new URLSearchParams;return i.set("consent_code",m),i.set("client_id",l.clientId),i.set("scope",d.join(" ")),r(`${t.consentPage}?${i.toString()}`)}let _=t?.getConsentHTML;if(!_)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:"No consent page provided"});return new Response(_({scopes:d,clientMetadata:l.metadata,clientIcon:l?.icon,clientId:l.clientId,clientName:l.name,code:m}),{headers:{"content-type":"text/html"}})}let g=async e=>{let t=await (0,u.createHash)("SHA-256").digest(new TextEncoder().encode(e));return o.base64Url.encode(new Uint8Array(t),{padding:!1})},y=e=>e.context.options.plugins?.find(e=>"jwt"===e.id);async function v(e,t,r=[]){let i=r.find(t=>t.clientId===e);return i||await t.findOne({model:"oauthApplication",where:[{field:"clientId",value:e}]}).then(e=>e?{...e,redirectURLs:(e.redirectURLs??"").split(","),metadata:e.metadata?JSON.parse(e.metadata):{}}:null)}let b=(e,t)=>{let r=y(e),i=r&&r.options?.jwt&&r.options.jwt.issuer?r.options.jwt.issuer:e.context.options.baseURL,n=e.context.baseURL;return{issuer:i,authorization_endpoint:`${n}/oauth2/authorize`,token_endpoint:`${n}/oauth2/token`,userinfo_endpoint:`${n}/oauth2/userinfo`,jwks_uri:`${n}/jwks`,registration_endpoint:`${n}/oauth2/register`,scopes_supported:["openid","profile","email","offline_access"],response_types_supported:["code"],response_modes_supported:["query"],grant_types_supported:["authorization_code","refresh_token"],acr_values_supported:["urn:mace:incommon:iap:silver","urn:mace:incommon:iap:bronze"],subject_types_supported:["public"],id_token_signing_alg_values_supported:t?.useJWTPlugin?["RS256","EdDSA","none"]:["HS256","none"],token_endpoint_auth_methods_supported:["client_secret_basic","client_secret_post","none"],code_challenge_methods_supported:["S256"],claims_supported:["sub","iss","aud","exp","nbf","iat","jti","email","email_verified","name"],...t?.metadata}},A=e=>{let f="oauthApplication",h="oauthAccessToken",A="oauthConsent",w={codeExpiresIn:600,defaultScope:"openid",accessTokenExpiresIn:3600,refreshTokenExpiresIn:604800,allowPlainCodeChallengeMethod:!0,storeClientSecret:"plain",...e,scopes:["openid","profile","email","offline_access",...e?.scopes||[]]},_=e.trustedClients||[];async function S(e,t){return"encrypted"===w.storeClientSecret?await (0,l.symmetricEncrypt)({key:e.context.secret,data:t}):"hashed"===w.storeClientSecret?await g(t):"object"==typeof w.storeClientSecret&&"hash"in w.storeClientSecret?await w.storeClientSecret.hash(t):"object"==typeof w.storeClientSecret&&"encrypt"in w.storeClientSecret?await w.storeClientSecret.encrypt(t):t}async function E(e,t,r){return"encrypted"===w.storeClientSecret?await (0,l.symmetricDecrypt)({key:e.context.secret,data:t})===r:"hashed"===w.storeClientSecret?await g(r)===t:"object"==typeof w.storeClientSecret&&"hash"in w.storeClientSecret?await w.storeClientSecret.hash(r)===t:"object"==typeof w.storeClientSecret&&"decrypt"in w.storeClientSecret?await w.storeClientSecret.decrypt(t)===r:r===t}return{id:"oidc",hooks:{after:[{matcher:()=>!0,handler:(0,n.c)(async e=>{let t=await e.getSignedCookie("oidc_login_prompt",e.context.secret),r=e.context.authCookies.sessionToken.name,i=(0,a.p)(e.context.responseHeaders?.get("set-cookie")||""),n=i.has(r);if(!t||!n)return;e.setCookie("oidc_login_prompt","",{maxAge:0});let o=i.get(r)?.value,s=o?.split(".")[0];if(!s)return;let l=await e.context.internalAdapter.findSession(s);if(l)return e.query=JSON.parse(t),e.context.session=l,await m(e,w)})}]},endpoints:{getOpenIdConfig:(0,n.a)("/.well-known/openid-configuration",{method:"GET",metadata:{isAction:!1}},async t=>{let r=b(t,e);return t.json(r)}),oAuth2authorize:(0,n.a)("/oauth2/authorize",{method:"GET",query:t.record(t.string(),t.any()),metadata:{openapi:{description:"Authorize an OAuth2 request",responses:{200:{description:"Authorization response generated successfully",content:{"application/json":{schema:{type:"object",additionalProperties:!0,description:"Authorization response, contents depend on the authorize function implementation"}}}}}}}},async e=>m(e,w)),oAuthConsent:(0,n.a)("/oauth2/consent",{method:"POST",body:t.object({accept:t.boolean(),consent_code:t.string().optional().nullish()}),use:[n.s],metadata:{openapi:{description:"Handle OAuth2 consent. Supports both URL parameter-based flows (consent_code in body) and cookie-based flows (signed cookie).",requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{accept:{type:"boolean",description:"Whether the user accepts or denies the consent request"},consent_code:{type:"string",description:"The consent code from the authorization request. Optional if using cookie-based flow."}},required:["accept"]}}}},responses:{200:{description:"Consent processed successfully",content:{"application/json":{schema:{type:"object",properties:{redirectURI:{type:"string",format:"uri",description:"The URI to redirect to, either with an authorization code or an error"}},required:["redirectURI"]}}}}}}}},async e=>{let t=e.body.consent_code||null;if(t||(t=await e.getSignedCookie("oidc_consent_prompt",e.context.secret)),!t)throw new i.APIError("UNAUTHORIZED",{error_description:"consent_code is required (either in body or cookie)",error:"invalid_request"});let r=await e.context.internalAdapter.findVerificationValue(t);if(!r)throw new i.APIError("UNAUTHORIZED",{error_description:"Invalid code",error:"invalid_request"});if(r.expiresAt<new Date)throw new i.APIError("UNAUTHORIZED",{error_description:"Code expired",error:"invalid_request"});e.setCookie("oidc_consent_prompt","",{maxAge:0});let n=JSON.parse(r.value);if(!n.requireConsent)throw new i.APIError("UNAUTHORIZED",{error_description:"Consent not required",error:"invalid_request"});if(!e.body.accept)return await e.context.internalAdapter.deleteVerificationValue(r.id),e.json({redirectURI:`${n.redirectURI}?error=access_denied&error_description=User denied access`});let o=(0,c.g)(32,"a-z","A-Z","0-9"),a=1e3*w.codeExpiresIn,s=new Date(Date.now()+a);await e.context.internalAdapter.updateVerificationValue(r.id,{value:JSON.stringify({...n,requireConsent:!1}),identifier:o,expiresAt:s}),await e.context.adapter.create({model:A,data:{clientId:n.clientId,userId:n.userId,scopes:n.scope.join(" "),consentGiven:!0,createdAt:new Date,updatedAt:new Date}});let l=new URL(n.redirectURI);return l.searchParams.set("code",o),n.state&&l.searchParams.set("state",n.state),e.json({redirectURI:l.toString()})}),oAuth2token:(0,n.a)("/oauth2/token",{method:"POST",body:t.record(t.any(),t.any()),metadata:{isAction:!1}},async t=>{let n,{body:a}=t;if(!a)throw new i.APIError("BAD_REQUEST",{error_description:"request body not found",error:"invalid_request"});if(a instanceof FormData&&(a=Object.fromEntries(a.entries())),!(a instanceof Object))throw new i.APIError("BAD_REQUEST",{error_description:"request body is not an object",error:"invalid_request"});let{client_id:s,client_secret:l}=a,p=t.request?.headers.get("authorization")||null;if(p&&!s&&!l&&p.startsWith("Basic "))try{let e=p.replace("Basic ",""),t=new TextDecoder().decode(o.base64.decode(e));if(!t.includes(":"))throw new i.APIError("UNAUTHORIZED",{error_description:"invalid authorization header format",error:"invalid_client"});let[r,n]=t.split(":");if(!r||!n)throw new i.APIError("UNAUTHORIZED",{error_description:"invalid authorization header format",error:"invalid_client"});s=r,l=n}catch(e){throw new i.APIError("UNAUTHORIZED",{error_description:"invalid authorization header format",error:"invalid_client"})}let f=Math.floor(Date.now()/1e3),m=new Date(1e3*(f+(w.accessTokenExpiresIn??3600))),g=new Date((f+(w.refreshTokenExpiresIn??604800))*1e3),{grant_type:b,code:A,redirect_uri:S,refresh_token:T,code_verifier:I}=a;if("refresh_token"===b){if(!T)throw new i.APIError("BAD_REQUEST",{error_description:"refresh_token is required",error:"invalid_request"});let e=await t.context.adapter.findOne({model:h,where:[{field:"refreshToken",value:T.toString()}]});if(!e)throw new i.APIError("UNAUTHORIZED",{error_description:"invalid refresh token",error:"invalid_grant"});if(e.clientId!==s?.toString())throw new i.APIError("UNAUTHORIZED",{error_description:"invalid client_id",error:"invalid_client"});if(e.refreshTokenExpiresAt<new Date)throw new i.APIError("UNAUTHORIZED",{error_description:"refresh token expired",error:"invalid_grant"});let r=(0,c.g)(32,"a-z","A-Z"),n=(0,c.g)(32,"a-z","A-Z");return await t.context.adapter.create({model:h,data:{accessToken:r,refreshToken:n,accessTokenExpiresAt:m,refreshTokenExpiresAt:g,clientId:s.toString(),userId:e.userId,scopes:e.scopes,createdAt:new Date(1e3*f),updatedAt:new Date(1e3*f)}}),t.json({access_token:r,token_type:"bearer",expires_in:w.accessTokenExpiresIn,refresh_token:n,scope:e.scopes})}if(!A)throw new i.APIError("BAD_REQUEST",{error_description:"code is required",error:"invalid_request"});if(e.requirePKCE&&!I)throw new i.APIError("BAD_REQUEST",{error_description:"code verifier is missing",error:"invalid_request"});let x=await t.context.internalAdapter.findVerificationValue(A.toString());if(!x)throw new i.APIError("UNAUTHORIZED",{error_description:"invalid code",error:"invalid_grant"});if(x.expiresAt<new Date)throw new i.APIError("UNAUTHORIZED",{error_description:"code expired",error:"invalid_grant"});if(await t.context.internalAdapter.deleteVerificationValue(x.id),!s)throw new i.APIError("UNAUTHORIZED",{error_description:"client_id is required",error:"invalid_client"});if(!b)throw new i.APIError("BAD_REQUEST",{error_description:"grant_type is required",error:"invalid_request"});if("authorization_code"!==b)throw new i.APIError("BAD_REQUEST",{error_description:"grant_type must be 'authorization_code'",error:"unsupported_grant_type"});if(!S)throw new i.APIError("BAD_REQUEST",{error_description:"redirect_uri is required",error:"invalid_request"});let O=await v(s.toString(),t.context.adapter,_);if(!O)throw new i.APIError("UNAUTHORIZED",{error_description:"invalid client_id",error:"invalid_client"});if(O.disabled)throw new i.APIError("UNAUTHORIZED",{error_description:"client is disabled",error:"invalid_client"});let C=JSON.parse(x.value);if(C.clientId!==s.toString())throw new i.APIError("UNAUTHORIZED",{error_description:"invalid client_id",error:"invalid_client"});if(C.redirectURI!==S.toString())throw new i.APIError("UNAUTHORIZED",{error_description:"invalid redirect_uri",error:"invalid_client"});if(C.codeChallenge&&!I)throw new i.APIError("BAD_REQUEST",{error_description:"code verifier is missing",error:"invalid_request"});if("public"===O.type){if(!I)throw new i.APIError("BAD_REQUEST",{error_description:"code verifier is required for public clients",error:"invalid_request"})}else{if(!O.clientSecret||!l)throw new i.APIError("UNAUTHORIZED",{error_description:"client_secret is required for confidential clients",error:"invalid_client"});if(!await E(t,O.clientSecret,l.toString()))throw new i.APIError("UNAUTHORIZED",{error_description:"invalid client_secret",error:"invalid_client"})}if(("plain"===C.codeChallengeMethod?I:await (0,u.createHash)("SHA-256","base64urlnopad").digest(I))!==C.codeChallenge)throw new i.APIError("UNAUTHORIZED",{error_description:"code verification failed",error:"invalid_request"});let k=C.scope;await t.context.internalAdapter.deleteVerificationValue(x.id);let N=(0,c.g)(32,"a-z","A-Z"),R=(0,c.g)(32,"A-Z","a-z");await t.context.adapter.create({model:h,data:{accessToken:N,refreshToken:R,accessTokenExpiresAt:m,refreshTokenExpiresAt:g,clientId:s.toString(),userId:C.userId,scopes:k.join(" "),createdAt:new Date(1e3*f),updatedAt:new Date(1e3*f)}});let P=await t.context.internalAdapter.findUserById(C.userId);if(!P)throw new i.APIError("UNAUTHORIZED",{error_description:"user not found",error:"invalid_grant"});let D={given_name:P.name.split(" ")[0],family_name:P.name.split(" ")[1],name:P.name,profile:P.image,updated_at:new Date(P.updatedAt).toISOString()},U={email:P.email,email_verified:P.emailVerified},L={...k.includes("profile")?D:{},...k.includes("email")?U:{}},K=e.getAdditionalUserInfoClaim?await e.getAdditionalUserInfoClaim(P,k,O):{},M={sub:P.id,aud:s.toString(),iat:Date.now(),auth_time:t.context.session?new Date(t.context.session.session.createdAt).getTime():void 0,nonce:C.nonce,acr:"urn:mace:incommon:iap:silver",...L,...K},B=Math.floor(Date.now()/1e3)+w.accessTokenExpiresIn;if(e.useJWTPlugin){let e=y(t);if(!e)throw t.context.logger.error("OIDC: `useJWTPlugin` is enabled but the JWT plugin is not available. Make sure you have the JWT Plugin in your plugins array or set `useJWTPlugin` to false."),new i.APIError("INTERNAL_SERVER_ERROR",{error_description:"JWT plugin is not enabled",error:"internal_server_error"});n=await (0,d.g)({...t,context:{...t.context,session:{session:{id:(0,c.g)(32,"a-z","A-Z"),createdAt:new Date(1e3*f),updatedAt:new Date(1e3*f),userId:P.id,expiresAt:m,token:N,ipAddress:t.request?.headers.get("x-forwarded-for")},user:P}}},{...e.options,jwt:{...e.options?.jwt,getSubject:()=>P.id,audience:s.toString(),issuer:t.context.options.baseURL,expirationTime:B,definePayload:()=>M}})}else n=await new r.SignJWT(M).setProtectedHeader({alg:"HS256"}).setIssuedAt(f).setExpirationTime(m).sign(new TextEncoder().encode(O.clientSecret));return t.json({access_token:N,token_type:"Bearer",expires_in:w.accessTokenExpiresIn,refresh_token:k.includes("offline_access")?R:void 0,scope:k.join(" "),id_token:k.includes("openid")?n:void 0},{headers:{"Cache-Control":"no-store",Pragma:"no-cache"}})}),oAuth2userInfo:(0,n.a)("/oauth2/userinfo",{method:"GET",metadata:{isAction:!1,openapi:{description:"Get OAuth2 user information",responses:{200:{description:"User information retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{sub:{type:"string",description:"Subject identifier (user ID)"},email:{type:"string",format:"email",nullable:!0,description:"User's email address, included if 'email' scope is granted"},name:{type:"string",nullable:!0,description:"User's full name, included if 'profile' scope is granted"},picture:{type:"string",format:"uri",nullable:!0,description:"User's profile picture URL, included if 'profile' scope is granted"},given_name:{type:"string",nullable:!0,description:"User's given name, included if 'profile' scope is granted"},family_name:{type:"string",nullable:!0,description:"User's family name, included if 'profile' scope is granted"},email_verified:{type:"boolean",nullable:!0,description:"Whether the email is verified, included if 'email' scope is granted"}},required:["sub"]}}}}}}}},async t=>{if(!t.request)throw new i.APIError("UNAUTHORIZED",{error_description:"request not found",error:"invalid_request"});let r=t.request.headers.get("authorization");if(!r)throw new i.APIError("UNAUTHORIZED",{error_description:"authorization header not found",error:"invalid_request"});let n=r.replace("Bearer ",""),o=await t.context.adapter.findOne({model:h,where:[{field:"accessToken",value:n}]});if(!o)throw new i.APIError("UNAUTHORIZED",{error_description:"invalid access token",error:"invalid_token"});if(o.accessTokenExpiresAt<new Date)throw new i.APIError("UNAUTHORIZED",{error_description:"The Access Token expired",error:"invalid_token"});let a=await v(o.clientId,t.context.adapter,_);if(!a)throw new i.APIError("UNAUTHORIZED",{error_description:"client not found",error:"invalid_token"});let s=await t.context.internalAdapter.findUserById(o.userId);if(!s)throw new i.APIError("UNAUTHORIZED",{error_description:"user not found",error:"invalid_token"});let l=o.scopes.split(" "),u={sub:s.id,email:l.includes("email")?s.email:void 0,name:l.includes("profile")?s.name:void 0,picture:l.includes("profile")?s.image:void 0,given_name:l.includes("profile")?s.name.split(" ")[0]:void 0,family_name:l.includes("profile")?s.name.split(" ")[1]:void 0,email_verified:l.includes("email")?s.emailVerified:void 0},c=e.getAdditionalUserInfoClaim?await e.getAdditionalUserInfoClaim(s,l,a):u;return t.json({...u,...c})}),registerOAuthApplication:(0,n.a)("/oauth2/register",{method:"POST",body:t.object({redirect_uris:t.array(t.string()).meta({description:'A list of redirect URIs. Eg: ["https://client.example.com/callback"]'}),token_endpoint_auth_method:t.enum(["none","client_secret_basic","client_secret_post"]).meta({description:'The authentication method for the token endpoint. Eg: "client_secret_basic"'}).default("client_secret_basic").optional(),grant_types:t.array(t.enum(["authorization_code","implicit","password","client_credentials","refresh_token","urn:ietf:params:oauth:grant-type:jwt-bearer","urn:ietf:params:oauth:grant-type:saml2-bearer"])).meta({description:'The grant types supported by the application. Eg: ["authorization_code"]'}).default(["authorization_code"]).optional(),response_types:t.array(t.enum(["code","token"])).meta({description:'The response types supported by the application. Eg: ["code"]'}).default(["code"]).optional(),client_name:t.string().meta({description:'The name of the application. Eg: "My App"'}).optional(),client_uri:t.string().meta({description:'The URI of the application. Eg: "https://client.example.com"'}).optional(),logo_uri:t.string().meta({description:'The URI of the application logo. Eg: "https://client.example.com/logo.png"'}).optional(),scope:t.string().meta({description:'The scopes supported by the application. Separated by spaces. Eg: "profile email"'}).optional(),contacts:t.array(t.string()).meta({description:'The contact information for the application. Eg: ["admin@example.com"]'}).optional(),tos_uri:t.string().meta({description:'The URI of the application terms of service. Eg: "https://client.example.com/tos"'}).optional(),policy_uri:t.string().meta({description:'The URI of the application privacy policy. Eg: "https://client.example.com/policy"'}).optional(),jwks_uri:t.string().meta({description:'The URI of the application JWKS. Eg: "https://client.example.com/jwks"'}).optional(),jwks:t.record(t.any(),t.any()).meta({description:'The JWKS of the application. Eg: {"keys": [{"kty": "RSA", "alg": "RS256", "use": "sig", "n": "...", "e": "..."}]}'}).optional(),metadata:t.record(t.any(),t.any()).meta({description:'The metadata of the application. Eg: {"key": "value"}'}).optional(),software_id:t.string().meta({description:'The software ID of the application. Eg: "my-software"'}).optional(),software_version:t.string().meta({description:'The software version of the application. Eg: "1.0.0"'}).optional(),software_statement:t.string().meta({description:"The software statement of the application."}).optional()}),metadata:{openapi:{description:"Register an OAuth2 application",responses:{200:{description:"OAuth2 application registered successfully",content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"Name of the OAuth2 application"},icon:{type:"string",nullable:!0,description:"Icon URL for the application"},metadata:{type:"object",additionalProperties:!0,nullable:!0,description:"Additional metadata for the application"},clientId:{type:"string",description:"Unique identifier for the client"},clientSecret:{type:"string",description:"Secret key for the client"},redirectURLs:{type:"array",items:{type:"string",format:"uri"},description:"List of allowed redirect URLs"},type:{type:"string",description:"Type of the client",enum:["web"]},authenticationScheme:{type:"string",description:"Authentication scheme used by the client",enum:["client_secret"]},disabled:{type:"boolean",description:"Whether the client is disabled",enum:[!1]},userId:{type:"string",nullable:!0,description:"ID of the user who registered the client, null if registered anonymously"},createdAt:{type:"string",format:"date-time",description:"Creation timestamp"},updatedAt:{type:"string",format:"date-time",description:"Last update timestamp"}},required:["name","clientId","clientSecret","redirectURLs","type","authenticationScheme","disabled","createdAt","updatedAt"]}}}}}}}},async t=>{let r=t.body,o=await (0,n.g)(t);if(!o&&!e.allowDynamicClientRegistration)throw new i.APIError("UNAUTHORIZED",{error:"invalid_token",error_description:"Authentication required for client registration"});if((!r.grant_types||r.grant_types.includes("authorization_code")||r.grant_types.includes("implicit"))&&(!r.redirect_uris||0===r.redirect_uris.length))throw new i.APIError("BAD_REQUEST",{error:"invalid_redirect_uri",error_description:"Redirect URIs are required for authorization_code and implicit grant types"});if(r.grant_types&&r.response_types){if(r.grant_types.includes("authorization_code")&&!r.response_types.includes("code"))throw new i.APIError("BAD_REQUEST",{error:"invalid_client_metadata",error_description:"When 'authorization_code' grant type is used, 'code' response type must be included"});if(r.grant_types.includes("implicit")&&!r.response_types.includes("token"))throw new i.APIError("BAD_REQUEST",{error:"invalid_client_metadata",error_description:"When 'implicit' grant type is used, 'token' response type must be included"})}let a=e.generateClientId?.()||(0,c.g)(32,"a-z","A-Z"),s=e.generateClientSecret?.()||(0,c.g)(32,"a-z","A-Z"),l=await S(t,s),u=await t.context.adapter.create({model:f,data:{name:r.client_name,icon:r.logo_uri,metadata:r.metadata?JSON.stringify(r.metadata):null,clientId:a,clientSecret:l,redirectURLs:r.redirect_uris.join(","),type:"web",authenticationScheme:r.token_endpoint_auth_method||"client_secret_basic",disabled:!1,userId:o?.session.userId,createdAt:new Date,updatedAt:new Date}});return t.json({client_id:a,..."public"!==u.type?{client_secret:s,client_secret_expires_at:0}:{},client_id_issued_at:Math.floor(Date.now()/1e3),client_secret_expires_at:0,redirect_uris:r.redirect_uris,token_endpoint_auth_method:r.token_endpoint_auth_method||"client_secret_basic",grant_types:r.grant_types||["authorization_code"],response_types:r.response_types||["code"],client_name:r.client_name,client_uri:r.client_uri,logo_uri:r.logo_uri,scope:r.scope,contacts:r.contacts,tos_uri:r.tos_uri,policy_uri:r.policy_uri,jwks_uri:r.jwks_uri,jwks:r.jwks,software_id:r.software_id,software_version:r.software_version,software_statement:r.software_statement,metadata:r.metadata},{status:201,headers:{"Cache-Control":"no-store",Pragma:"no-cache"}})}),getOAuthClient:(0,n.a)("/oauth2/client/:id",{method:"GET",use:[n.s],metadata:{openapi:{description:"Get OAuth2 client details",responses:{200:{description:"OAuth2 client retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{clientId:{type:"string",description:"Unique identifier for the client"},name:{type:"string",description:"Name of the OAuth2 application"},icon:{type:"string",nullable:!0,description:"Icon URL for the application"}},required:["clientId","name"]}}}}}}}},async e=>{let t=await v(e.params.id,e.context.adapter,_);if(!t)throw new i.APIError("NOT_FOUND",{error_description:"client not found",error:"not_found"});return e.json({clientId:t.clientId,name:t.name,icon:t.icon})})},schema:(0,s.m)(p,e?.schema)}};e.s(["o",()=>A,"s",()=>p])},894849,105570,e=>{"use strict";var t=e.i(907855),r=e.i(154456),i=e.i(909879);e.i(282318),e.i(530501),e.i(172381);var n=e.i(362160),o=e.i(681393);e.i(537430);var a=e.i(66655);e.i(338270),e.i(464589),e.i(339127),e.s([],105570),e.i(973088),e.i(130717),e.i(795080),e.i(35972),e.i(323770),e.i(408972),e.i(181984);let s={deviceCode:{fields:{deviceCode:{type:"string",required:!0},userCode:{type:"string",required:!0},userId:{type:"string",required:!1},expiresAt:{type:"date",required:!0},status:{type:"string",required:!0},lastPolledAt:{type:"date",required:!1},pollingInterval:{type:"number",required:!1},clientId:{type:"string",required:!1},scope:{type:"string",required:!1}}}};t.object({id:t.string(),deviceCode:t.string(),userCode:t.string(),userId:t.string().optional(),expiresAt:t.date(),status:t.string(),lastPolledAt:t.date().optional(),pollingInterval:t.number().optional(),clientId:t.string().optional(),scope:t.string().optional()});let l=t.custom(e=>{try{(0,o.m)(e)}catch(e){return!1}return!0},{message:"Invalid time string format. Use formats like '30m', '5s', '1h', etc."}),u=t.object({expiresIn:l.default("30m").describe("Time in seconds until the device code expires. Use formats like '30m', '5s', '1h', etc."),interval:l.default("5s").describe("Time in seconds between polling attempts. Use formats like '30m', '5s', '1h', etc."),deviceCodeLength:t.number().int().positive().default(40).describe("Length of the device code to be generated. Default is 40 characters."),userCodeLength:t.number().int().positive().default(8).describe("Length of the user code to be generated. Default is 8 characters."),generateDeviceCode:t.custom(e=>"function"==typeof e,{message:"generateDeviceCode must be a function that returns a string or a promise that resolves to a string."}).optional().describe("Function to generate a device code. If not provided, a default random string generator will be used."),generateUserCode:t.custom(e=>"function"==typeof e,{message:"generateUserCode must be a function that returns a string or a promise that resolves to a string."}).optional().describe("Function to generate a user code. If not provided, a default random string generator will be used."),validateClient:t.custom(e=>"function"==typeof e,{message:"validateClient must be a function that returns a boolean or a promise that resolves to a boolean."}).optional().describe("Function to validate the client ID. If not provided, no validation will be performed."),onDeviceAuthRequest:t.custom(e=>"function"==typeof e,{message:"onDeviceAuthRequest must be a function that returns void or a promise that resolves to void."}).optional().describe("Function to handle device authorization requests. If not provided, no additional actions will be taken."),schema:t.custom(()=>!0)}),c={INVALID_DEVICE_CODE:"Invalid device code",EXPIRED_DEVICE_CODE:"Device code has expired",EXPIRED_USER_CODE:"User code has expired",AUTHORIZATION_PENDING:"Authorization pending",ACCESS_DENIED:"Access denied",INVALID_USER_CODE:"Invalid user code",DEVICE_CODE_ALREADY_PROCESSED:"Device code already processed",POLLING_TOO_FREQUENTLY:"Polling too frequently",USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_SESSION:"Failed to create session",INVALID_DEVICE_CODE_STATUS:"Invalid device code status",AUTHENTICATION_REQUIRED:"Authentication required"},d="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",p=e=>(0,n.g)(e,"a-z","A-Z","0-9"),f=e=>{let t=new Uint8Array(e);return Array.from(crypto.getRandomValues(t)).map(e=>d[e%d.length]).join("")},h=(e={})=>{let n=u.parse(e),l=async()=>n.generateDeviceCode?n.generateDeviceCode():p(n.deviceCodeLength),d=async()=>n.generateUserCode?n.generateUserCode():f(n.userCodeLength);return{id:"device-authorization",schema:(0,a.m)(s,e?.schema),endpoints:{deviceCode:(0,i.a)("/device/code",{method:"POST",body:t.object({client_id:t.string().meta({description:"The client ID of the application"}),scope:t.string().meta({description:"Space-separated list of scopes"}).optional()}),error:t.object({error:t.enum(["invalid_request","invalid_client"]).meta({description:"Error code"}),error_description:t.string().meta({description:"Detailed error description"})}),metadata:{openapi:{description:`Request a device and user code

Follow [rfc8628#section-3.2](https://datatracker.ietf.org/doc/html/rfc8628#section-3.2)`,responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{device_code:{type:"string",description:"The device verification code"},user_code:{type:"string",description:"The user code to display"},verification_uri:{type:"string",description:"The URL for user verification"},verification_uri_complete:{type:"string",description:"The complete URL with user code"},expires_in:{type:"number",description:"Lifetime in seconds of the device code"},interval:{type:"number",description:"Minimum polling interval in seconds"}}}}}},400:{description:"Error response",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string",enum:["invalid_request","invalid_client"]},error_description:{type:"string"}}}}}}}}}},async e=>{if(n.validateClient&&!await n.validateClient(e.body.client_id))throw new r.APIError("BAD_REQUEST",{error:"invalid_client",error_description:"Invalid client ID"});n.onDeviceAuthRequest&&await n.onDeviceAuthRequest(e.body.client_id,e.body.scope);let t=await l(),i=await d(),a=(0,o.m)(n.expiresIn),s=new Date(Date.now()+a);await e.context.adapter.create({model:"deviceCode",data:{deviceCode:t,userCode:i,expiresAt:s,status:"pending",pollingInterval:(0,o.m)(n.interval),clientId:e.body.client_id,scope:e.body.scope}});let u=new URL(e.context.baseURL),c=new URL("/device",u),p=new URL(c);return p.searchParams.set("user_code",encodeURIComponent(i)),e.json({device_code:t,user_code:i,verification_uri:c.toString(),verification_uri_complete:p.toString(),expires_in:Math.floor(a/1e3),interval:Math.floor((0,o.m)(n.interval)/1e3)},{headers:{"Cache-Control":"no-store"}})}),deviceToken:(0,i.a)("/device/token",{method:"POST",body:t.object({grant_type:t.literal("urn:ietf:params:oauth:grant-type:device_code").meta({description:"The grant type for device flow"}),device_code:t.string().meta({description:"The device verification code"}),client_id:t.string().meta({description:"The client ID of the application"})}),error:t.object({error:t.enum(["authorization_pending","slow_down","expired_token","access_denied","invalid_request","invalid_grant"]).meta({description:"Error code"}),error_description:t.string().meta({description:"Detailed error description"})}),metadata:{openapi:{description:`Exchange device code for access token

Follow [rfc8628#section-3.4](https://datatracker.ietf.org/doc/html/rfc8628#section-3.4)`,responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}}}}}},400:{description:"Error response",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string",enum:["authorization_pending","slow_down","expired_token","access_denied","invalid_request","invalid_grant"]},error_description:{type:"string"}}}}}}}}}},async e=>{let{device_code:t,client_id:i}=e.body;if(n.validateClient&&!await n.validateClient(i))throw new r.APIError("BAD_REQUEST",{error:"invalid_grant",error_description:"Invalid client ID"});let o=await e.context.adapter.findOne({model:"deviceCode",where:[{field:"deviceCode",value:t}]});if(!o)throw new r.APIError("BAD_REQUEST",{error:"invalid_grant",error_description:c.INVALID_DEVICE_CODE});if(o.clientId&&o.clientId!==i)throw new r.APIError("BAD_REQUEST",{error:"invalid_grant",error_description:"Client ID mismatch"});if(o.lastPolledAt&&o.pollingInterval&&Date.now()-new Date(o.lastPolledAt).getTime()<o.pollingInterval)throw new r.APIError("BAD_REQUEST",{error:"slow_down",error_description:c.POLLING_TOO_FREQUENTLY});if(await e.context.adapter.update({model:"deviceCode",where:[{field:"id",value:o.id}],update:{lastPolledAt:new Date}}),o.expiresAt<new Date)throw await e.context.adapter.delete({model:"deviceCode",where:[{field:"id",value:o.id}]}),new r.APIError("BAD_REQUEST",{error:"expired_token",error_description:c.EXPIRED_DEVICE_CODE});if("pending"===o.status)throw new r.APIError("BAD_REQUEST",{error:"authorization_pending",error_description:c.AUTHORIZATION_PENDING});if("denied"===o.status)throw await e.context.adapter.delete({model:"deviceCode",where:[{field:"id",value:o.id}]}),new r.APIError("BAD_REQUEST",{error:"access_denied",error_description:c.ACCESS_DENIED});if("approved"===o.status&&o.userId){await e.context.adapter.delete({model:"deviceCode",where:[{field:"id",value:o.id}]});let t=await e.context.internalAdapter.findUserById(o.userId);if(!t)throw new r.APIError("INTERNAL_SERVER_ERROR",{error:"server_error",error_description:c.USER_NOT_FOUND});let i=await e.context.internalAdapter.createSession(t.id,e);if(!i)throw new r.APIError("INTERNAL_SERVER_ERROR",{error:"server_error",error_description:c.FAILED_TO_CREATE_SESSION});return e.context.setNewSession({session:i,user:t}),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(i.token,JSON.stringify({user:t,session:i}),Math.floor((new Date(i.expiresAt).getTime()-Date.now())/1e3)),e.json({access_token:i.token,token_type:"Bearer",expires_in:Math.floor((new Date(i.expiresAt).getTime()-Date.now())/1e3),scope:o.scope||""},{headers:{"Cache-Control":"no-store",Pragma:"no-cache"}})}throw new r.APIError("INTERNAL_SERVER_ERROR",{error:"server_error",error_description:c.INVALID_DEVICE_CODE_STATUS})}),deviceVerify:(0,i.a)("/device",{method:"GET",query:t.object({user_code:t.string().meta({description:"The user code to verify"})}),error:t.object({error:t.enum(["invalid_request"]).meta({description:"Error code"}),error_description:t.string().meta({description:"Detailed error description"})}),metadata:{openapi:{description:"Display device verification page",responses:{200:{description:"Verification page HTML",content:{"application/json":{schema:{type:"object",properties:{user_code:{type:"string",description:"The user code to verify"},status:{type:"string",enum:["pending","approved","denied"],description:"Current status of the device authorization"}}}}}}}}}},async e=>{let{user_code:t}=e.query,i=t.replace(/-/g,""),n=await e.context.adapter.findOne({model:"deviceCode",where:[{field:"userCode",value:i}]});if(!n)throw new r.APIError("BAD_REQUEST",{error:"invalid_request",error_description:c.INVALID_USER_CODE});if(n.expiresAt<new Date)throw new r.APIError("BAD_REQUEST",{error:"expired_token",error_description:c.EXPIRED_USER_CODE});return e.json({user_code:t,status:n.status})}),deviceApprove:(0,i.a)("/device/approve",{method:"POST",body:t.object({userCode:t.string().meta({description:"The user code to approve"})}),error:t.object({error:t.enum(["invalid_request","expired_token","device_code_already_processed"]).meta({description:"Error code"}),error_description:t.string().meta({description:"Detailed error description"})}),requireHeaders:!0,metadata:{openapi:{description:"Approve device authorization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=await (0,i.g)(e);if(!t)throw new r.APIError("UNAUTHORIZED",{error:"unauthorized",error_description:c.AUTHENTICATION_REQUIRED});let{userCode:n}=e.body,o=await e.context.adapter.findOne({model:"deviceCode",where:[{field:"userCode",value:n}]});if(!o)throw new r.APIError("BAD_REQUEST",{error:"invalid_request",error_description:c.INVALID_USER_CODE});if(o.expiresAt<new Date)throw new r.APIError("BAD_REQUEST",{error:"expired_token",error_description:c.EXPIRED_USER_CODE});if("pending"!==o.status)throw new r.APIError("BAD_REQUEST",{error:"invalid_request",error_description:c.DEVICE_CODE_ALREADY_PROCESSED});return await e.context.adapter.update({model:"deviceCode",where:[{field:"id",value:o.id}],update:{status:"approved",userId:t.user.id}}),e.json({success:!0})}),deviceDeny:(0,i.a)("/device/deny",{method:"POST",body:t.object({userCode:t.string().meta({description:"The user code to deny"})}),error:t.object({error:t.enum(["invalid_request","expired_token"]).meta({description:"Error code"}),error_description:t.string().meta({description:"Detailed error description"})}),metadata:{openapi:{description:"Deny device authorization",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let{userCode:t}=e.body,i=t.replace(/-/g,""),n=await e.context.adapter.findOne({model:"deviceCode",where:[{field:"userCode",value:i}]});if(!n)throw new r.APIError("BAD_REQUEST",{error:"invalid_request",error_description:c.INVALID_USER_CODE});if(n.expiresAt<new Date)throw new r.APIError("BAD_REQUEST",{error:"expired_token",error_description:c.EXPIRED_USER_CODE});if("pending"!==n.status)throw new r.APIError("BAD_REQUEST",{error:"invalid_request",error_description:c.DEVICE_CODE_ALREADY_PROCESSED});return await e.context.adapter.update({model:"deviceCode",where:[{field:"id",value:n.id}],update:{status:"denied"}}),e.json({success:!0})})},$ERROR_CODES:c}};e.s(["deviceAuthorization",()=>h],894849)},520187,e=>{"use strict";var t=e.i(907855),r=e.i(562810),i=e.i(154456),n=e.i(909879);e.i(446610),e.i(338270);var o=e.i(530501);e.i(35972),e.i(464589),e.i(323770),e.i(537430),e.i(339127);var a=e.i(282318);e.i(172381);var s=e.i(362160);e.i(775638),e.i(216344),e.i(841604),e.i(482135),e.i(533078),e.i(896101),e.i(136145);var l=e.i(973088),u=e.i(66655),c=e.i(744957),d=e.i(1738),p=e.i(130717),f=e.i(323591);e.i(894849);let h=({timeWindow:e,rateLimitMax:t})=>({apikey:{fields:{name:{type:"string",required:!1,input:!1},start:{type:"string",required:!1,input:!1},prefix:{type:"string",required:!1,input:!1},key:{type:"string",required:!0,input:!1},userId:{type:"string",references:{model:"user",field:"id",onDelete:"cascade"},required:!0,input:!1},refillInterval:{type:"number",required:!1,input:!1},refillAmount:{type:"number",required:!1,input:!1},lastRefillAt:{type:"date",required:!1,input:!1},enabled:{type:"boolean",required:!1,input:!1,defaultValue:!0},rateLimitEnabled:{type:"boolean",required:!1,input:!1,defaultValue:!0},rateLimitTimeWindow:{type:"number",required:!1,input:!1,defaultValue:e},rateLimitMax:{type:"number",required:!1,input:!1,defaultValue:t},requestCount:{type:"number",required:!1,input:!1,defaultValue:0},remaining:{type:"number",required:!1,input:!1},lastRequest:{type:"date",required:!1,input:!1},expiresAt:{type:"date",required:!1,input:!1},createdAt:{type:"date",required:!0,input:!1},updatedAt:{type:"date",required:!0,input:!1},permissions:{type:"string",required:!1,input:!1},metadata:{type:"string",required:!1,input:!0,transform:{input:e=>JSON.stringify(e),output:e=>e?(0,d.p)(e):null}}}}});function m({keyGenerator:e,opts:o,schema:a,deleteAllExpiredApiKeys:s}){return(0,n.a)("/api-key/create",{method:"POST",body:t.object({name:t.string().meta({description:"Name of the Api Key"}).optional(),expiresIn:t.number().meta({description:"Expiration time of the Api Key in seconds"}).min(1).optional().nullable().default(null),userId:r.coerce.string().meta({description:'User Id of the user that the Api Key belongs to. server-only. Eg: "user-id"'}).optional(),prefix:t.string().meta({description:"Prefix of the Api Key"}).regex(/^[a-zA-Z0-9_-]+$/,{message:"Invalid prefix format, must be alphanumeric and contain only underscores and hyphens."}).optional(),remaining:t.number().meta({description:"Remaining number of requests. Server side only"}).min(0).optional().nullable().default(null),metadata:t.any().optional(),refillAmount:t.number().meta({description:"Amount to refill the remaining count of the Api Key. server-only. Eg: 100"}).min(1).optional(),refillInterval:t.number().meta({description:"Interval to refill the Api Key in milliseconds. server-only. Eg: 1000"}).optional(),rateLimitTimeWindow:t.number().meta({description:"The duration in milliseconds where each request is counted. Once the `maxRequests` is reached, the request will be rejected until the `timeWindow` has passed, at which point the `timeWindow` will be reset. server-only. Eg: 1000"}).optional(),rateLimitMax:t.number().meta({description:"Maximum amount of requests allowed within a window. Once the `maxRequests` is reached, the request will be rejected until the `timeWindow` has passed, at which point the `timeWindow` will be reset. server-only. Eg: 100"}).optional(),rateLimitEnabled:t.boolean().meta({description:"Whether the key has rate limiting enabled. server-only. Eg: true"}).optional(),permissions:t.record(t.string(),t.array(t.string())).meta({description:"Permissions of the Api Key."}).optional()}),metadata:{openapi:{description:"Create a new API key for a user",responses:{200:{description:"API key created successfully",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string",description:"Unique identifier of the API key"},createdAt:{type:"string",format:"date-time",description:"Creation timestamp"},updatedAt:{type:"string",format:"date-time",description:"Last update timestamp"},name:{type:"string",nullable:!0,description:"Name of the API key"},prefix:{type:"string",nullable:!0,description:"Prefix of the API key"},start:{type:"string",nullable:!0,description:"Starting characters of the key (if configured)"},key:{type:"string",description:"The full API key (only returned on creation)"},enabled:{type:"boolean",description:"Whether the key is enabled"},expiresAt:{type:"string",format:"date-time",nullable:!0,description:"Expiration timestamp"},userId:{type:"string",description:"ID of the user owning the key"},lastRefillAt:{type:"string",format:"date-time",nullable:!0,description:"Last refill timestamp"},lastRequest:{type:"string",format:"date-time",nullable:!0,description:"Last request timestamp"},metadata:{type:"object",nullable:!0,additionalProperties:!0,description:"Metadata associated with the key"},rateLimitMax:{type:"number",nullable:!0,description:"Maximum requests in time window"},rateLimitTimeWindow:{type:"number",nullable:!0,description:"Rate limit time window in milliseconds"},remaining:{type:"number",nullable:!0,description:"Remaining requests"},refillAmount:{type:"number",nullable:!0,description:"Amount to refill"},refillInterval:{type:"number",nullable:!0,description:"Refill interval in milliseconds"},rateLimitEnabled:{type:"boolean",description:"Whether rate limiting is enabled"},requestCount:{type:"number",description:"Current request count in window"},permissions:{type:"object",nullable:!0,additionalProperties:{type:"array",items:{type:"string"}},description:"Permissions associated with the key"}},required:["id","createdAt","updatedAt","key","enabled","userId","rateLimitEnabled","requestCount"]}}}}}}}},async t=>{let{name:r,expiresIn:u,prefix:c,remaining:d,metadata:f,refillAmount:h,refillInterval:m,permissions:g,rateLimitMax:y,rateLimitTimeWindow:v,rateLimitEnabled:b}=t.body,A=await (0,n.g)(t),w=t.request||t.headers,_=w&&!A?null:A?.user||{id:t.body.userId};if(!_?.id||A&&t.body.userId&&A?.user.id!==t.body.userId)throw new i.APIError("UNAUTHORIZED",{message:O.UNAUTHORIZED_SESSION});if(w&&(void 0!==h||void 0!==m||void 0!==y||void 0!==v||void 0!==b||void 0!==g||null!==d))throw new i.APIError("BAD_REQUEST",{message:O.SERVER_ONLY_PROPERTY});if(f){if(!1===o.enableMetadata)throw new i.APIError("BAD_REQUEST",{message:O.METADATA_DISABLED});if("object"!=typeof f)throw new i.APIError("BAD_REQUEST",{message:O.INVALID_METADATA_TYPE})}if(h&&!m)throw new i.APIError("BAD_REQUEST",{message:O.REFILL_AMOUNT_AND_INTERVAL_REQUIRED});if(m&&!h)throw new i.APIError("BAD_REQUEST",{message:O.REFILL_INTERVAL_AND_AMOUNT_REQUIRED});if(u){if(!0===o.keyExpiration.disableCustomExpiresTime)throw new i.APIError("BAD_REQUEST",{message:O.KEY_DISABLED_EXPIRATION});let e=u/86400;if(o.keyExpiration.minExpiresIn>e)throw new i.APIError("BAD_REQUEST",{message:O.EXPIRES_IN_IS_TOO_SMALL});if(o.keyExpiration.maxExpiresIn<e)throw new i.APIError("BAD_REQUEST",{message:O.EXPIRES_IN_IS_TOO_LARGE})}if(c&&(c.length<o.minimumPrefixLength||c.length>o.maximumPrefixLength))throw new i.APIError("BAD_REQUEST",{message:O.INVALID_PREFIX_LENGTH});if(r){if(r.length<o.minimumNameLength||r.length>o.maximumNameLength)throw new i.APIError("BAD_REQUEST",{message:O.INVALID_NAME_LENGTH})}else if(o.requireName)throw new i.APIError("BAD_REQUEST",{message:O.NAME_REQUIRED});s(t.context);let S=await e({length:o.defaultKeyLength,prefix:c||o.defaultPrefix}),E=o.disableKeyHashing?S:await x(S),T=null;o.startingCharactersConfig.shouldStore&&(T=S.substring(0,o.startingCharactersConfig.charactersLength));let I=o.permissions?.defaultPermissions?"function"==typeof o.permissions.defaultPermissions?await o.permissions.defaultPermissions(_.id,t):o.permissions.defaultPermissions:void 0,k=g?JSON.stringify(g):I?JSON.stringify(I):void 0,N={createdAt:new Date,updatedAt:new Date,name:r??null,prefix:c??o.defaultPrefix??null,start:T,key:E,enabled:!0,expiresAt:u?(0,l.g)(u,"sec"):o.keyExpiration.defaultExpiresIn?(0,l.g)(o.keyExpiration.defaultExpiresIn,"sec"):null,userId:_.id,lastRefillAt:null,lastRequest:null,metadata:null,rateLimitMax:y??o.rateLimit.maxRequests??null,rateLimitTimeWindow:v??o.rateLimit.timeWindow??null,remaining:null===d?d:d??h??null,refillAmount:h??null,refillInterval:m??null,rateLimitEnabled:void 0===b?o.rateLimit.enabled??!0:b,requestCount:0,permissions:k};f&&(N.metadata=a.apikey.fields.metadata.transform.input(f));let R=await t.context.adapter.create({model:C,data:N});return t.json({...R,key:S,metadata:f??null,permissions:R.permissions?(0,p.s)(R.permissions):null})})}function g({opts:e,schema:r,deleteAllExpiredApiKeys:o}){return(0,n.a)("/api-key/delete",{method:"POST",body:t.object({keyId:t.string().meta({description:"The id of the Api Key"})}),use:[n.s],metadata:{openapi:{description:"Delete an existing API key",requestBody:{content:{"application/json":{schema:{type:"object",properties:{keyId:{type:"string",description:"The id of the API key to delete"}},required:["keyId"]}}}},responses:{200:{description:"API key deleted successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the API key was successfully deleted"}},required:["success"]}}}}}}}},async e=>{let{keyId:t}=e.body,r=e.context.session;if(!0===r.user.banned)throw new i.APIError("UNAUTHORIZED",{message:O.USER_BANNED});let n=await e.context.adapter.findOne({model:C,where:[{field:"id",value:t}]});if(!n||n.userId!==r.user.id)throw new i.APIError("NOT_FOUND",{message:O.KEY_NOT_FOUND});try{await e.context.adapter.delete({model:C,where:[{field:"id",value:n.id}]})}catch(e){throw new i.APIError("INTERNAL_SERVER_ERROR",{message:e?.message})}return o(e.context),e.json({success:!0})})}function y({opts:e,schema:r,deleteAllExpiredApiKeys:o}){return(0,n.a)("/api-key/get",{method:"GET",query:t.object({id:t.string().meta({description:"The id of the Api Key"})}),use:[n.s],metadata:{openapi:{description:"Retrieve an existing API key by ID",responses:{200:{description:"API key retrieved successfully",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string",description:"ID"},name:{type:"string",nullable:!0,description:"The name of the key"},start:{type:"string",nullable:!0,description:"Shows the first few characters of the API key, including the prefix. This allows you to show those few characters in the UI to make it easier for users to identify the API key."},prefix:{type:"string",nullable:!0,description:"The API Key prefix. Stored as plain text."},userId:{type:"string",description:"The owner of the user id"},refillInterval:{type:"number",nullable:!0,description:"The interval in milliseconds between refills of the `remaining` count. Example: 3600000 // refill every hour (3600000ms = 1h)"},refillAmount:{type:"number",nullable:!0,description:"The amount to refill"},lastRefillAt:{type:"string",format:"date-time",nullable:!0,description:"The last refill date"},enabled:{type:"boolean",description:"Sets if key is enabled or disabled",default:!0},rateLimitEnabled:{type:"boolean",description:"Whether the key has rate limiting enabled"},rateLimitTimeWindow:{type:"number",nullable:!0,description:"The duration in milliseconds"},rateLimitMax:{type:"number",nullable:!0,description:"Maximum amount of requests allowed within a window"},requestCount:{type:"number",description:"The number of requests made within the rate limit time window"},remaining:{type:"number",nullable:!0,description:"Remaining requests (every time api key is used this should updated and should be updated on refill as well)"},lastRequest:{type:"string",format:"date-time",nullable:!0,description:"When last request occurred"},expiresAt:{type:"string",format:"date-time",nullable:!0,description:"Expiry date of a key"},createdAt:{type:"string",format:"date-time",description:"created at"},updatedAt:{type:"string",format:"date-time",description:"updated at"},metadata:{type:"object",nullable:!0,additionalProperties:!0,description:"Extra metadata about the apiKey"},permissions:{type:"string",nullable:!0,description:"Permissions for the api key (stored as JSON string)"}},required:["id","userId","enabled","rateLimitEnabled","requestCount","createdAt","updatedAt"]}}}}}}}},async e=>{let{id:t}=e.query,n=e.context.session,a=await e.context.adapter.findOne({model:C,where:[{field:"id",value:t},{field:"userId",value:n.user.id}]});if(!a)throw new i.APIError("NOT_FOUND",{message:O.KEY_NOT_FOUND});o(e.context),a.metadata=r.apikey.fields.metadata.transform.output(a.metadata);let{key:s,...l}=a;return e.json({...l,permissions:l.permissions?(0,p.s)(l.permissions):null})})}function v({opts:e,schema:o,deleteAllExpiredApiKeys:a}){return(0,n.a)("/api-key/update",{method:"POST",body:t.object({keyId:t.string().meta({description:"The id of the Api Key"}),userId:r.coerce.string().meta({description:'The id of the user which the api key belongs to. server-only. Eg: "some-user-id"'}).optional(),name:t.string().meta({description:"The name of the key"}).optional(),enabled:t.boolean().meta({description:"Whether the Api Key is enabled or not"}).optional(),remaining:t.number().meta({description:"The number of remaining requests"}).min(1).optional(),refillAmount:t.number().meta({description:"The refill amount"}).optional(),refillInterval:t.number().meta({description:"The refill interval"}).optional(),metadata:t.any().optional(),expiresIn:t.number().meta({description:"Expiration time of the Api Key in seconds"}).min(1).optional().nullable(),rateLimitEnabled:t.boolean().meta({description:"Whether the key has rate limiting enabled."}).optional(),rateLimitTimeWindow:t.number().meta({description:"The duration in milliseconds where each request is counted. server-only. Eg: 1000"}).optional(),rateLimitMax:t.number().meta({description:"Maximum amount of requests allowed within a window. Once the `maxRequests` is reached, the request will be rejected until the `timeWindow` has passed, at which point the `timeWindow` will be reset. server-only. Eg: 100"}).optional(),permissions:t.record(t.string(),t.array(t.string())).meta({description:"Update the permissions on the API Key. server-only."}).optional().nullable()}),metadata:{openapi:{description:"Update an existing API key by ID",responses:{200:{description:"API key updated successfully",content:{"application/json":{schema:{type:"object",properties:{id:{type:"string",description:"ID"},name:{type:"string",nullable:!0,description:"The name of the key"},start:{type:"string",nullable:!0,description:"Shows the first few characters of the API key, including the prefix. This allows you to show those few characters in the UI to make it easier for users to identify the API key."},prefix:{type:"string",nullable:!0,description:"The API Key prefix. Stored as plain text."},userId:{type:"string",description:"The owner of the user id"},refillInterval:{type:"number",nullable:!0,description:"The interval in milliseconds between refills of the `remaining` count. Example: 3600000 // refill every hour (3600000ms = 1h)"},refillAmount:{type:"number",nullable:!0,description:"The amount to refill"},lastRefillAt:{type:"string",format:"date-time",nullable:!0,description:"The last refill date"},enabled:{type:"boolean",description:"Sets if key is enabled or disabled",default:!0},rateLimitEnabled:{type:"boolean",description:"Whether the key has rate limiting enabled"},rateLimitTimeWindow:{type:"number",nullable:!0,description:"The duration in milliseconds"},rateLimitMax:{type:"number",nullable:!0,description:"Maximum amount of requests allowed within a window"},requestCount:{type:"number",description:"The number of requests made within the rate limit time window"},remaining:{type:"number",nullable:!0,description:"Remaining requests (every time api key is used this should updated and should be updated on refill as well)"},lastRequest:{type:"string",format:"date-time",nullable:!0,description:"When last request occurred"},expiresAt:{type:"string",format:"date-time",nullable:!0,description:"Expiry date of a key"},createdAt:{type:"string",format:"date-time",description:"created at"},updatedAt:{type:"string",format:"date-time",description:"updated at"},metadata:{type:"object",nullable:!0,additionalProperties:!0,description:"Extra metadata about the apiKey"},permissions:{type:"string",nullable:!0,description:"Permissions for the api key (stored as JSON string)"}},required:["id","userId","enabled","rateLimitEnabled","requestCount","createdAt","updatedAt"]}}}}}}}},async t=>{let{keyId:r,expiresIn:s,enabled:u,metadata:c,refillAmount:d,refillInterval:f,remaining:h,name:m,permissions:g,rateLimitEnabled:y,rateLimitTimeWindow:v,rateLimitMax:b}=t.body,A=await (0,n.g)(t),w=(t.request||t.headers)&&!t.body.userId,_=A?.user??(w?null:{id:t.body.userId});if(!_?.id)throw new i.APIError("UNAUTHORIZED",{message:O.UNAUTHORIZED_SESSION});if(w&&(void 0!==d||void 0!==f||void 0!==b||void 0!==v||void 0!==y||void 0!==h||void 0!==g))throw new i.APIError("BAD_REQUEST",{message:O.SERVER_ONLY_PROPERTY});let S=await t.context.adapter.findOne({model:C,where:[{field:"id",value:r},{field:"userId",value:_.id}]});if(!S)throw new i.APIError("NOT_FOUND",{message:O.KEY_NOT_FOUND});let E={};if(void 0!==m){if(m.length<e.minimumNameLength||m.length>e.maximumNameLength)throw new i.APIError("BAD_REQUEST",{message:O.INVALID_NAME_LENGTH});E.name=m}if(void 0!==u&&(E.enabled=u),void 0!==s){if(!0===e.keyExpiration.disableCustomExpiresTime)throw new i.APIError("BAD_REQUEST",{message:O.KEY_DISABLED_EXPIRATION});if(null!==s){let t=s/86400;if(t<e.keyExpiration.minExpiresIn)throw new i.APIError("BAD_REQUEST",{message:O.EXPIRES_IN_IS_TOO_SMALL});if(t>e.keyExpiration.maxExpiresIn)throw new i.APIError("BAD_REQUEST",{message:O.EXPIRES_IN_IS_TOO_LARGE})}E.expiresAt=s?(0,l.g)(s,"sec"):null}if(void 0!==c){if("object"!=typeof c)throw new i.APIError("BAD_REQUEST",{message:O.INVALID_METADATA_TYPE});E.metadata=o.apikey.fields.metadata.transform.input(c)}if(void 0!==h&&(E.remaining=h),void 0!==d||void 0!==f){if(void 0!==d&&void 0===f)throw new i.APIError("BAD_REQUEST",{message:O.REFILL_AMOUNT_AND_INTERVAL_REQUIRED});if(void 0!==f&&void 0===d)throw new i.APIError("BAD_REQUEST",{message:O.REFILL_INTERVAL_AND_AMOUNT_REQUIRED});E.refillAmount=d,E.refillInterval=f}if(void 0!==y&&(E.rateLimitEnabled=y),void 0!==v&&(E.rateLimitTimeWindow=v),void 0!==b&&(E.rateLimitMax=b),void 0!==g&&(E.permissions=JSON.stringify(g)),0===Object.keys(E).length)throw new i.APIError("BAD_REQUEST",{message:O.NO_VALUES_TO_UPDATE});let T=S;try{let e=await t.context.adapter.update({model:C,where:[{field:"id",value:S.id}],update:{lastRequest:new Date,remaining:null===S.remaining?null:S.remaining-1,...E}});e&&(T=e)}catch(e){throw new i.APIError("INTERNAL_SERVER_ERROR",{message:e?.message})}a(t.context),T.metadata=o.apikey.fields.metadata.transform.output(T.metadata);let{key:I,...x}=T;return t.json({...x,permissions:x.permissions?(0,p.s)(x.permissions):null})})}function b(e,t){let r=new Date,i=e.lastRequest,n=e.rateLimitTimeWindow,o=e.rateLimitMax,a=e.requestCount;if(!1===t.rateLimit.enabled||!1===e.rateLimitEnabled)return{success:!0,message:null,update:{lastRequest:r},tryAgainIn:null};if(null===n||null===o)return{success:!0,message:null,update:null,tryAgainIn:null};if(null===i)return{success:!0,message:null,update:{lastRequest:r,requestCount:1},tryAgainIn:null};let s=r.getTime()-new Date(i).getTime();return s>n?{success:!0,message:null,update:{lastRequest:r,requestCount:1},tryAgainIn:null}:a>=o?{success:!1,message:O.RATE_LIMIT_EXCEEDED,update:null,tryAgainIn:Math.ceil(n-s)}:{success:!0,message:null,tryAgainIn:null,update:{lastRequest:r,requestCount:++a}}}async function A({hashedKey:e,ctx:t,opts:r,schema:n,permissions:o}){let a=await t.context.adapter.findOne({model:C,where:[{field:"key",value:e}]});if(!a)throw new i.APIError("UNAUTHORIZED",{message:O.INVALID_API_KEY});if(!1===a.enabled)throw new i.APIError("UNAUTHORIZED",{message:O.KEY_DISABLED,code:"KEY_DISABLED"});if(a.expiresAt&&new Date().getTime()>new Date(a.expiresAt).getTime()){try{t.context.adapter.delete({model:C,where:[{field:"id",value:a.id}]})}catch(e){t.context.logger.error("Failed to delete expired API keys:",e)}throw new i.APIError("UNAUTHORIZED",{message:O.KEY_EXPIRED,code:"KEY_EXPIRED"})}if(o){let e=a.permissions?(0,p.s)(a.permissions):null;if(!e||!(0,f.role)(e).authorize(o).success)throw new i.APIError("UNAUTHORIZED",{message:O.KEY_NOT_FOUND,code:"KEY_NOT_FOUND"})}let s=a.remaining,l=a.lastRefillAt;if(0===a.remaining&&null===a.refillAmount){try{t.context.adapter.delete({model:C,where:[{field:"id",value:a.id}]})}catch(e){t.context.logger.error("Failed to delete expired API keys:",e)}throw new i.APIError("TOO_MANY_REQUESTS",{message:O.USAGE_EXCEEDED,code:"USAGE_EXCEEDED"})}if(null!==s){let e=new Date().getTime(),t=a.refillInterval,r=a.refillAmount,n=new Date(l??a.createdAt).getTime();if(t&&r&&e-n>t&&(s=r,l=new Date),0===s)throw new i.APIError("TOO_MANY_REQUESTS",{message:O.USAGE_EXCEEDED,code:"USAGE_EXCEEDED"});s--}let{message:u,success:c,update:d,tryAgainIn:h}=b(a,r),m=await t.context.adapter.update({model:C,where:[{field:"id",value:a.id}],update:{...d,remaining:s,lastRefillAt:l}});if(!m)throw new i.APIError("INTERNAL_SERVER_ERROR",{message:O.FAILED_TO_UPDATE_API_KEY,code:"INTERNAL_SERVER_ERROR"});if(!1===c)throw new i.APIError("UNAUTHORIZED",{message:u??void 0,code:"RATE_LIMITED",details:{tryAgainIn:h}});return m}function w({opts:e,schema:r,deleteAllExpiredApiKeys:o}){return(0,n.a)("/api-key/verify",{method:"POST",body:t.object({key:t.string().meta({description:"The key to verify"}),permissions:t.record(t.string(),t.array(t.string())).meta({description:"The permissions to verify."}).optional()}),metadata:{SERVER_ONLY:!0}},async t=>{let{key:n}=t.body;if(n.length<e.defaultKeyLength||e.customAPIKeyValidator&&!await e.customAPIKeyValidator({ctx:t,key:n}))return t.json({valid:!1,error:{message:O.INVALID_API_KEY,code:"KEY_NOT_FOUND"},key:null});let a=e.disableKeyHashing?n:await x(n),s=null;try{s=await A({hashedKey:a,permissions:t.body.permissions,ctx:t,opts:e,schema:r}),await o(t.context)}catch(e){if(e instanceof i.APIError)return t.json({valid:!1,error:{message:e.body?.message,code:e.body?.code},key:null});return t.json({valid:!1,error:{message:O.INVALID_API_KEY,code:"INVALID_API_KEY"},key:null})}let{key:l,...u}=s??{key:1,permissions:void 0};return"metadata"in u&&(u.metadata=r.apikey.fields.metadata.transform.output(u.metadata)),u.permissions=u.permissions?(0,p.s)(u.permissions):null,t.json({valid:!0,error:null,key:null===s?null:u})})}function _({opts:e,schema:t,deleteAllExpiredApiKeys:r}){return(0,n.a)("/api-key/list",{method:"GET",use:[n.s],metadata:{openapi:{description:"List all API keys for the authenticated user",responses:{200:{description:"API keys retrieved successfully",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"ID"},name:{type:"string",nullable:!0,description:"The name of the key"},start:{type:"string",nullable:!0,description:"Shows the first few characters of the API key, including the prefix. This allows you to show those few characters in the UI to make it easier for users to identify the API key."},prefix:{type:"string",nullable:!0,description:"The API Key prefix. Stored as plain text."},userId:{type:"string",description:"The owner of the user id"},refillInterval:{type:"number",nullable:!0,description:"The interval in milliseconds between refills of the `remaining` count. Example: 3600000 // refill every hour (3600000ms = 1h)"},refillAmount:{type:"number",nullable:!0,description:"The amount to refill"},lastRefillAt:{type:"string",format:"date-time",nullable:!0,description:"The last refill date"},enabled:{type:"boolean",description:"Sets if key is enabled or disabled",default:!0},rateLimitEnabled:{type:"boolean",description:"Whether the key has rate limiting enabled"},rateLimitTimeWindow:{type:"number",nullable:!0,description:"The duration in milliseconds"},rateLimitMax:{type:"number",nullable:!0,description:"Maximum amount of requests allowed within a window"},requestCount:{type:"number",description:"The number of requests made within the rate limit time window"},remaining:{type:"number",nullable:!0,description:"Remaining requests (every time api key is used this should updated and should be updated on refill as well)"},lastRequest:{type:"string",format:"date-time",nullable:!0,description:"When last request occurred"},expiresAt:{type:"string",format:"date-time",nullable:!0,description:"Expiry date of a key"},createdAt:{type:"string",format:"date-time",description:"created at"},updatedAt:{type:"string",format:"date-time",description:"updated at"},metadata:{type:"object",nullable:!0,additionalProperties:!0,description:"Extra metadata about the apiKey"},permissions:{type:"string",nullable:!0,description:"Permissions for the api key (stored as JSON string)"}},required:["id","userId","enabled","rateLimitEnabled","requestCount","createdAt","updatedAt"]}}}}}}}}},async e=>{let i=e.context.session,n=await e.context.adapter.findMany({model:C,where:[{field:"userId",value:i.user.id}]});r(e.context);let o=(n=n.map(e=>({...e,metadata:t.apikey.fields.metadata.transform.output(e.metadata)}))).map(e=>{let{key:t,...r}=e;return{...r,permissions:r.permissions?(0,p.s)(r.permissions):null}});return e.json(o)})}function S({deleteAllExpiredApiKeys:e}){return(0,n.a)("/api-key/delete-all-expired-api-keys",{method:"POST",metadata:{SERVER_ONLY:!0,client:!1}},async t=>{try{await e(t.context,!0)}catch(e){return t.context.logger.error("[API KEY PLUGIN] Failed to delete expired API keys:",e),t.json({success:!1,error:e})}return t.json({success:!0,error:null})})}let E=null;async function T(e,t=!1){E&&!t&&new Date().getTime()-E.getTime()<1e4||(E=new Date,await e.adapter.deleteMany({model:C,where:[{field:"expiresAt",operator:"lt",value:new Date},{field:"expiresAt",operator:"ne",value:null}]}).catch(t=>{e.logger.error("Failed to delete expired API keys:",t)}))}function I({keyGenerator:e,opts:t,schema:r}){return{createApiKey:m({keyGenerator:e,opts:t,schema:r,deleteAllExpiredApiKeys:T}),verifyApiKey:w({opts:t,schema:r,deleteAllExpiredApiKeys:T}),getApiKey:y({opts:t,schema:r,deleteAllExpiredApiKeys:T}),updateApiKey:v({opts:t,schema:r,deleteAllExpiredApiKeys:T}),deleteApiKey:g({opts:t,schema:r,deleteAllExpiredApiKeys:T}),listApiKeys:_({opts:t,schema:r,deleteAllExpiredApiKeys:T}),deleteAllExpiredApiKeys:S({deleteAllExpiredApiKeys:T})}}let x=async e=>{let t=await (0,a.createHash)("SHA-256").digest(new TextEncoder().encode(e));return o.base64Url.encode(new Uint8Array(t),{padding:!1})},O={INVALID_METADATA_TYPE:"metadata must be an object or undefined",REFILL_AMOUNT_AND_INTERVAL_REQUIRED:"refillAmount is required when refillInterval is provided",REFILL_INTERVAL_AND_AMOUNT_REQUIRED:"refillInterval is required when refillAmount is provided",USER_BANNED:"User is banned",UNAUTHORIZED_SESSION:"Unauthorized or invalid session",KEY_NOT_FOUND:"API Key not found",KEY_DISABLED:"API Key is disabled",KEY_EXPIRED:"API Key has expired",USAGE_EXCEEDED:"API Key has reached its usage limit",KEY_NOT_RECOVERABLE:"API Key is not recoverable",EXPIRES_IN_IS_TOO_SMALL:"The expiresIn is smaller than the predefined minimum value.",EXPIRES_IN_IS_TOO_LARGE:"The expiresIn is larger than the predefined maximum value.",INVALID_REMAINING:"The remaining count is either too large or too small.",INVALID_PREFIX_LENGTH:"The prefix length is either too large or too small.",INVALID_NAME_LENGTH:"The name length is either too large or too small.",METADATA_DISABLED:"Metadata is disabled.",RATE_LIMIT_EXCEEDED:"Rate limit exceeded.",NO_VALUES_TO_UPDATE:"No values to update.",KEY_DISABLED_EXPIRATION:"Custom key expiration values are disabled.",INVALID_API_KEY:"Invalid API key.",INVALID_USER_ID_FROM_API_KEY:"The user id from the API key is invalid.",INVALID_API_KEY_GETTER_RETURN_TYPE:"API Key getter returned an invalid key type. Expected string.",SERVER_ONLY_PROPERTY:"The property you're trying to set can only be set from the server auth instance only.",FAILED_TO_UPDATE_API_KEY:"Failed to update API key",NAME_REQUIRED:"API Key name is required."},C="apikey",k=e=>{let t={...e,apiKeyHeaders:e?.apiKeyHeaders??"x-api-key",defaultKeyLength:e?.defaultKeyLength||64,maximumPrefixLength:e?.maximumPrefixLength??32,minimumPrefixLength:e?.minimumPrefixLength??1,maximumNameLength:e?.maximumNameLength??32,minimumNameLength:e?.minimumNameLength??1,enableMetadata:e?.enableMetadata??!1,disableKeyHashing:e?.disableKeyHashing??!1,requireName:e?.requireName??!1,rateLimit:{enabled:e?.rateLimit?.enabled===void 0||e?.rateLimit?.enabled,timeWindow:e?.rateLimit?.timeWindow??864e5,maxRequests:e?.rateLimit?.maxRequests??10},keyExpiration:{defaultExpiresIn:e?.keyExpiration?.defaultExpiresIn??null,disableCustomExpiresTime:e?.keyExpiration?.disableCustomExpiresTime??!1,maxExpiresIn:e?.keyExpiration?.maxExpiresIn??365,minExpiresIn:e?.keyExpiration?.minExpiresIn??1},startingCharactersConfig:{shouldStore:e?.startingCharactersConfig?.shouldStore??!0,charactersLength:e?.startingCharactersConfig?.charactersLength??6},enableSessionForAPIKeys:e?.enableSessionForAPIKeys??!1},r=(0,u.m)(h({rateLimitMax:t.rateLimit.maxRequests,timeWindow:t.rateLimit.timeWindow}),t.schema),o=t.customAPIKeyGetter||(e=>{if(!Array.isArray(t.apiKeyHeaders))return e.headers?.get(t.apiKeyHeaders);for(let r of t.apiKeyHeaders){let t=e.headers?.get(r);if(t)return t}}),a=I({keyGenerator:t.customKeyGenerator||(async e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=`${e.prefix||""}`;for(let i=0;i<e.length;i++){let e=Math.floor(Math.random()*t.length);r+=t[e]}return r}),opts:t,schema:r});return{id:"api-key",$ERROR_CODES:O,hooks:{before:[{matcher:e=>!!o(e)&&t.enableSessionForAPIKeys,handler:(0,n.c)(async e=>{let n=o(e);if("string"!=typeof n)throw new i.APIError("BAD_REQUEST",{message:O.INVALID_API_KEY_GETTER_RETURN_TYPE});if(n.length<t.defaultKeyLength||t.customAPIKeyValidator&&!await t.customAPIKeyValidator({ctx:e,key:n}))throw new i.APIError("FORBIDDEN",{message:O.INVALID_API_KEY});let a=t.disableKeyHashing?n:await x(n),s=await A({hashedKey:a,ctx:e,opts:t,schema:r});T(e.context).catch(t=>{e.context.logger.error("Failed to delete expired API keys:",t)});let u=await e.context.internalAdapter.findUserById(s.userId);if(!u)throw new i.APIError("UNAUTHORIZED",{message:O.INVALID_USER_ID_FROM_API_KEY});let d={user:u,session:{id:s.id,token:n,userId:s.userId,userAgent:e.request?.headers.get("user-agent")??null,ipAddress:e.request?(0,c.g)(e.request,e.context.options):null,createdAt:new Date,updatedAt:new Date,expiresAt:s.expiresAt||(0,l.g)(e.context.options.session?.expiresIn||604800,"ms")}};return(e.context.session=d,"/get-session"===e.path)?d:{context:e}})}]},endpoints:{createApiKey:a.createApiKey,verifyApiKey:a.verifyApiKey,getApiKey:a.getApiKey,updateApiKey:a.updateApiKey,deleteApiKey:a.deleteApiKey,listApiKeys:a.listApiKeys,deleteAllExpiredApiKeys:a.deleteAllExpiredApiKeys},schema:r}},N=e=>{let r={storeToken:"plain",...e};async function i(e,t){return"hashed"===r.storeToken?await x(t):"object"==typeof r.storeToken&&"type"in r.storeToken&&"custom-hasher"===r.storeToken.type?await r.storeToken.hash(t):t}return{id:"one-time-token",endpoints:{generateOneTimeToken:(0,n.a)("/one-time-token/generate",{method:"GET",use:[n.s]},async e=>{if(r?.disableClientRequest&&e.request)throw e.error("BAD_REQUEST",{message:"Client requests are disabled"});let t=e.context.session,n=r?.generateToken?await r.generateToken(t,e):(0,s.g)(32),o=new Date(Date.now()+(r?.expiresIn??3)*6e4),a=await i(e,n);return await e.context.internalAdapter.createVerificationValue({value:t.session.token,identifier:`one-time-token:${a}`,expiresAt:o}),e.json({token:n})}),verifyOneTimeToken:(0,n.a)("/one-time-token/verify",{method:"POST",body:t.object({token:t.string().meta({description:'The token to verify. Eg: "some-token"'})})},async e=>{let{token:t}=e.body,r=await i(e,t),n=await e.context.internalAdapter.findVerificationValue(`one-time-token:${r}`);if(!n)throw e.error("BAD_REQUEST",{message:"Invalid token"});if(await e.context.internalAdapter.deleteVerificationValue(n.id),n.expiresAt<new Date)throw e.error("BAD_REQUEST",{message:"Token expired"});let o=await e.context.internalAdapter.findSession(n.value);if(!o)throw e.error("BAD_REQUEST",{message:"Session not found"});return e.json(o)})}}};e.s(["a",()=>k,"o",()=>N])},888801,e=>{"use strict";var t=e.i(154456);e.i(446610),e.i(909879),e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(537430),e.i(339127);var r=e.i(282318);e.i(172381),e.i(362160);var i=e.i(533078);e.i(973088),e.i(805650),e.i(408972),e.i(181984),e.i(681393),e.i(130717),e.i(649330),e.i(129776),e.i(795080);let n={PASSWORD_COMPROMISED:"The password you entered has been compromised. Please choose a different password."};async function o(e,o){if(!e)return;let a=(await (0,r.createHash)("SHA-1","hex").digest(e)).toUpperCase(),s=a.substring(0,5),l=a.substring(5);try{let{data:e,error:r}=await (0,i.betterFetch)(`https://api.pwnedpasswords.com/range/${s}`,{headers:{"Add-Padding":"true","User-Agent":"BetterAuth Password Checker"}});if(r)throw new t.APIError("INTERNAL_SERVER_ERROR",{message:`Failed to check password. Status: ${r.status}`});if(e.split("\n").some(e=>e.split(":")[0].toUpperCase()===l.toUpperCase()))throw new t.APIError("BAD_REQUEST",{message:o||n.PASSWORD_COMPROMISED,code:"PASSWORD_COMPROMISED"})}catch(e){if(e instanceof t.APIError)throw e;throw new t.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to check password. Please try again later."})}}let a=e=>({id:"haveIBeenPwned",init:t=>({context:{password:{...t.password,hash:async r=>(await o(r,e?.customPasswordCompromisedMessage),t.password.hash(r))}}}),$ERROR_CODES:n});e.s(["haveIBeenPwned",()=>a])},334940,e=>{"use strict";var t=e.i(154456);e.i(446610);var r=e.i(909879),i=e.i(907855),n=e.i(681393);e.i(338270),e.i(537430);var o=e.i(66655);e.i(464589),e.i(339127),e.i(282318),e.i(530501),e.i(172381);var a=e.i(697858);e.i(362160);var s=e.i(181984),l=e.i(791236),u=a;let c=BigInt(0),d=BigInt(1),p=BigInt(2),f=BigInt(7),h=BigInt(256),m=BigInt(113),g=[],y=[],v=[];for(let e=0,t=d,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],g.push(2*(5*i+r)),y.push((e+1)*(e+2)/2%64);let n=c;for(let e=0;e<7;e++)(t=(t<<d^(t>>f)*m)%h)&p&&(n^=d<<(d<<BigInt(e))-d);v.push(n)}let b=(0,l.split)(v,!0),A=b[0],w=b[1],_=(e,t,r)=>r>32?(0,l.rotlBH)(e,t,r):(0,l.rotlSH)(e,t,r),S=(e,t,r)=>r>32?(0,l.rotlBL)(e,t,r):(0,l.rotlSL)(e,t,r);function E(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,o=r[n],a=r[n+1],s=_(o,a,1)^r[i],l=S(o,a,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=l}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=y[r],o=_(t,n,i),a=S(t,n,i),s=g[r];t=e[s],n=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=A[i],e[1]^=w[i]}(0,u.clean)(r)}class T{state;pos=0;posOut=0;finished=!1;state32;destroyed=!1;blockLen;suffix;outputLen;enableXOF=!1;rounds;constructor(e,t,r,i=!1,n=24){if(this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,(0,u.anumber)(r,"outputLen"),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,u.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,u.swap32IfBE)(this.state32),E(this.state32,this.rounds),(0,u.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,u.aexists)(this),(0,u.abytes)(e);let{blockLen:t,state:r}=this,i=e.length;for(let n=0;n<i;){let o=Math.min(t-this.pos,i-n);for(let t=0;t<o;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,u.aexists)(this,!1),(0,u.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,u.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,u.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,u.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:o}=this;return(e||=new T(t,r,i,o,n)).state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}let I=((e,t,r,i={})=>(0,u.createHasher)(()=>new T(t,e,r),i))(1,136,32);e.i(973088),e.i(805650),e.i(408972),e.i(533078),e.i(130717),e.i(649330),e.i(35972),e.i(323770),e.i(129776),e.i(795080);let x={walletAddress:{fields:{userId:{type:"string",references:{model:"user",field:"id"},required:!0},address:{type:"string",required:!0},chainId:{type:"number",required:!0},isPrimary:{type:"boolean",defaultValue:!1},createdAt:{type:"date",required:!0}}}};function O(e){e=e.toLowerCase().replace("0x","");let t=[...I((0,a.utf8ToBytes)(e))].map(e=>e.toString(16).padStart(2,"0")).join(""),r="0x";for(let i=0;i<40;i++)parseInt(t[i],16)>=8?r+=e[i].toUpperCase():r+=e[i];return r}let C=e=>({id:"siwe",schema:(0,o.m)(x,e?.schema),endpoints:{getSiweNonce:(0,r.a)("/siwe/nonce",{method:"POST",body:i.object({walletAddress:i.string().regex(/^0[xX][a-fA-F0-9]{40}$/i).length(42),chainId:i.number().int().positive().max(0x7fffffff).optional().default(1)})},async t=>{let{walletAddress:r,chainId:i}=t.body,n=O(r),o=await e.getNonce();return await t.context.internalAdapter.createVerificationValue({identifier:`siwe:${n}:${i}`,value:o,expiresAt:new Date(Date.now()+9e5)}),t.json({nonce:o})}),verifySiweMessage:(0,r.a)("/siwe/verify",{method:"POST",body:i.object({message:i.string().min(1),signature:i.string().min(1),walletAddress:i.string().regex(/^0[xX][a-fA-F0-9]{40}$/i).length(42),chainId:i.number().int().positive().max(0x7fffffff).optional().default(1),email:i.string().email().optional()}).refine(t=>!1!==e.anonymous||!!t.email,{message:"Email is required when the anonymous plugin option is disabled.",path:["email"]}),requireRequest:!0},async r=>{let{message:i,signature:o,walletAddress:a,chainId:l,email:u}=r.body,c=O(a),d=e.anonymous??!0;if(!d&&!u)throw new t.APIError("BAD_REQUEST",{message:"Email is required when anonymous is disabled.",status:400});try{let a=await r.context.internalAdapter.findVerificationValue(`siwe:${c}:${l}`);if(!a||new Date>a.expiresAt)throw new t.APIError("UNAUTHORIZED",{message:"Unauthorized: Invalid or expired nonce",status:401,code:"UNAUTHORIZED_INVALID_OR_EXPIRED_NONCE"});let{value:p}=a;if(!await e.verifyMessage({message:i,signature:o,address:c,chainId:l,cacao:{h:{t:"caip122"},p:{domain:e.domain,aud:e.domain,nonce:p,iss:e.domain,version:"1"},s:{t:"eip191",s:o}}}))throw new t.APIError("UNAUTHORIZED",{message:"Unauthorized: Invalid SIWE signature",status:401});await r.context.internalAdapter.deleteVerificationValue(a.id);let f=null,h=await r.context.adapter.findOne({model:"walletAddress",where:[{field:"address",operator:"eq",value:c},{field:"chainId",operator:"eq",value:l}]});if(h)f=await r.context.adapter.findOne({model:"user",where:[{field:"id",operator:"eq",value:h.userId}]});else{let e=await r.context.adapter.findOne({model:"walletAddress",where:[{field:"address",operator:"eq",value:c}]});e&&(f=await r.context.adapter.findOne({model:"user",where:[{field:"id",operator:"eq",value:e.userId}]}))}if(f)h||(await r.context.adapter.create({model:"walletAddress",data:{userId:f.id,address:c,chainId:l,isPrimary:!1,createdAt:new Date}}),await r.context.internalAdapter.createAccount({userId:f.id,providerId:"siwe",accountId:`${c}:${l}`,createdAt:new Date,updatedAt:new Date}));else{let t=e.emailDomainName??(0,s.g)(r.context.baseURL),i=!d&&u?u:`${c}@${t}`,{name:n,avatar:o}=await e.ensLookup?.({walletAddress:c})??{};f=await r.context.internalAdapter.createUser({name:n??c,email:i,image:o??""}),await r.context.adapter.create({model:"walletAddress",data:{userId:f.id,address:c,chainId:l,isPrimary:!0,createdAt:new Date}}),await r.context.internalAdapter.createAccount({userId:f.id,providerId:"siwe",accountId:`${c}:${l}`,createdAt:new Date,updatedAt:new Date})}let m=await r.context.internalAdapter.createSession(f.id,r);if(!m)throw new t.APIError("INTERNAL_SERVER_ERROR",{message:"Internal Server Error",status:500});return await (0,n.s)(r,{session:m,user:f}),r.json({token:m.token,success:!0,user:{id:f.id,walletAddress:c,chainId:l}})}catch(e){if(e instanceof t.APIError)throw e;throw new t.APIError("UNAUTHORIZED",{message:"Something went wrong. Please try again later.",error:e instanceof Error?e.message:"Unknown error",status:401})}})}});e.s(["siwe",()=>C],334940)},450900,13681,264380,947576,418258,e=>{"use strict";e.i(841190),e.i(625853),e.i(105815);var t=e.i(154456);e.i(338270);var r=e.i(530501),i=e.i(35972);e.i(464589),e.i(323770);var n=e.i(681393);e.i(446610);var o=e.i(909879);e.i(537430),e.i(339127);var a=e.i(282318);e.i(172381);var s=e.i(362160);e.i(408972),e.i(973088),e.i(130717),e.i(181984),e.i(805650);var l=e.i(533078);e.i(649330),e.i(129776);var u=e.i(795080);let c=e=>({id:"bearer",hooks:{before:[{matcher:e=>!!(e.request?.headers.get("authorization")||e.headers?.get("authorization")),handler:(0,o.c)(async r=>{let n=r.request?.headers.get("authorization")?.replace("Bearer ","")||r.headers?.get("Authorization")?.replace("Bearer ","");if(!n)return;let o="";if(n.includes("."))o=n.replace("=","");else{if(e?.requireSignature)return;o=(await (0,t.serializeSignedCookie)("",n,r.context.secret)).replace("=","")}try{let e=decodeURIComponent(o);if(!await (0,i.createHMAC)("SHA-256","base64urlnopad").verify(r.context.secret,e.split(".")[0],e.split(".")[1]))return}catch(e){return}let a=r.request?.headers||r.headers,s=new Headers({...Object.fromEntries(a?.entries())});return s.append("cookie",`${r.context.authCookies.sessionToken.name}=${o}`),{context:{headers:s}}})}],after:[{matcher:e=>!0,handler:(0,o.c)(async e=>{let t=e.context.responseHeaders?.get("set-cookie");if(!t)return;let r=(0,n.p)(t),i=e.context.authCookies.sessionToken.name,o=r.get(i);if(!o||!o.value||0===o["max-age"])return;let a=o.value,s=new Set((e.context.responseHeaders?.get("access-control-expose-headers")||"").split(",").map(e=>e.trim()).filter(Boolean));s.add("set-auth-token"),e.setHeader("set-auth-token",a),e.setHeader("Access-Control-Expose-Headers",Array.from(s).join(", "))})}]}});e.s(["bearer",()=>c],13681);var d=o,p=e.i(907855);e.i(683117),e.i(250278),e.i(880610),e.i(731167),e.i(175409),e.i(424181),e.i(127155);var f=p,h=t,m=o,g=n,y=e.i(550064),v=e.i(709939);function b(e){return"true"===e||!0===e}let A=e=>({id:"one-tap",endpoints:{oneTapCallback:(0,m.a)("/one-tap/callback",{method:"POST",body:f.object({idToken:f.string().meta({description:"Google ID token, which the client obtains from the One Tap API"})}),metadata:{openapi:{summary:"One tap callback",description:"Use this endpoint to authenticate with Google One Tap",responses:{200:{description:"Successful response",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}}}}}},400:{description:"Invalid token"}}}}},async t=>{let r,{idToken:i}=t.body;try{let n=(0,y.createRemoteJWKSet)(new URL("https://www.googleapis.com/oauth2/v3/certs")),{payload:o}=await (0,v.jwtVerify)(i,n,{issuer:["https://accounts.google.com","accounts.google.com"],audience:e?.clientId||t.context.options.socialProviders?.google?.clientId});r=o}catch(e){throw new h.APIError("BAD_REQUEST",{message:"invalid id token"})}let{email:n,email_verified:o,name:a,picture:s,sub:l}=r;if(!n)return t.json({error:"Email not available in token"});let u=await t.context.internalAdapter.findUserByEmail(n);if(!u){if(e?.disableSignup)throw new h.APIError("BAD_GATEWAY",{message:"User not found"});let r=await t.context.internalAdapter.createOAuthUser({email:n,emailVerified:"boolean"==typeof o?o:b(o),name:a,image:s},{providerId:"google",accountId:l},t);if(!r)throw new h.APIError("INTERNAL_SERVER_ERROR",{message:"Could not create user"});let i=await t.context.internalAdapter.createSession(r.user.id,t);return await (0,g.s)(t,{user:r.user,session:i}),t.json({token:i.token,user:{id:r.user.id,email:r.user.email,emailVerified:r.user.emailVerified,name:r.user.name,image:r.user.image,createdAt:r.user.createdAt,updatedAt:r.user.updatedAt}})}if(!await t.context.internalAdapter.findAccount(l)){let e=t.context.options.account?.accountLinking;if(e?.enabled&&(e.trustedProviders?.includes("google")||o))await t.context.internalAdapter.linkAccount({userId:u.user.id,providerId:"google",accountId:l,scope:"openid,profile,email",idToken:i});else throw new h.APIError("UNAUTHORIZED",{message:"Google sub doesn't match"})}let c=await t.context.internalAdapter.createSession(u.user.id,t);return await (0,g.s)(t,{user:u.user,session:c}),t.json({token:c.token,user:{id:u.user.id,email:u.user.email,emailVerified:u.user.emailVerified,name:u.user.name,image:u.user.image,createdAt:u.user.createdAt,updatedAt:u.user.updatedAt}})})}});e.s(["oneTap",()=>A],264380),e.i(387164),e.i(136145);var w=p,_=e.i(822381),S=t,E=e.i(468527),T=o;e.i(66655),e.i(744957);let I=new Set(["string","number","boolean","array","object"]);function x(e){let t=e.type;return I.has(t)?t:"string"}function O(e){let t={type:"date"===e.type?"string":e.type};return void 0!==e.defaultValue&&(t.default="function"==typeof e.defaultValue?"Generated at runtime":e.defaultValue),!1===e.input&&(t.readOnly=!0),t}function C(e){let t=[];return e.metadata?.openapi?.parameters?t.push(...e.metadata.openapi.parameters):e.query instanceof w.ZodObject&&Object.entries(e.query.shape).forEach(([e,r])=>{r instanceof w.ZodType&&t.push({name:e,in:"query",schema:{...N(r),..."minLength"in r&&r.minLength?{minLength:r.minLength}:{}}})}),t}function k(e){if(e.metadata?.openapi?.requestBody)return e.metadata.openapi.requestBody;if(e.body&&(e.body instanceof w.ZodObject||e.body instanceof w.ZodOptional)){let t=e.body.shape;if(!t)return;let r={},i=[];return Object.entries(t).forEach(([e,t])=>{t instanceof w.ZodType&&(r[e]=N(t),t instanceof w.ZodOptional||i.push(e))}),{required:!(e.body instanceof w.ZodOptional)&&!!e.body,content:{"application/json":{schema:{type:"object",properties:r,required:i}}}}}}function N(e){if(e instanceof w.ZodOptional)return{...N(e._def.innerType),nullable:!0};if(e instanceof w.ZodObject){let t=e.shape;if(t){let r={},i=[];return Object.entries(t).forEach(([e,t])=>{t instanceof w.ZodType&&(r[e]=N(t),t instanceof w.ZodOptional||i.push(e))}),{type:"object",properties:r,...i.length>0?{required:i}:{},description:e.description}}}return{type:x(e),description:e.description}}function R(e){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...e}}function P(e){return e.split("/").map(e=>e.startsWith(":")?`{${e.slice(1)}}`:e).join("/")}async function D(e,t){let r=(0,_.getEndpoints)(e,{...t,plugins:[]}),i={schemas:{...Object.entries((0,E.g)(t)).reduce((e,[t,r])=>{let i=t.charAt(0).toUpperCase()+t.slice(1),n=r.fields,o=[],a={id:{type:"string"}};return Object.entries(n).forEach(([e,t])=>{t&&(a[e]=O(t),t.required&&!1!==t.input&&o.push(e))}),e[i]={type:"object",properties:a,...o.length>0?{required:o}:{}},e},{})}},n={};for(let i of(Object.entries(r.api).forEach(([t,r])=>{if(e.options.disabledPaths?.includes(r.path))return;let i=r.options;if(i.metadata?.SERVER_ONLY)return;let o=P(r.path);if("GET"===i.method&&(n[o]={get:{tags:["Default",...i.metadata?.openapi?.tags||[]],description:i.metadata?.openapi?.description,operationId:i.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:C(i),responses:R(i.metadata?.openapi?.responses)}}),"POST"===i.method){let e=k(i);n[o]={post:{tags:["Default",...i.metadata?.openapi?.tags||[]],description:i.metadata?.openapi?.description,operationId:i.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:C(i),...e?{requestBody:e}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:R(i.metadata?.openapi?.responses)}}}}),t.plugins||[])){if("open-api"===i.id)continue;let o=(0,_.getEndpoints)(e,{...t,plugins:[i]});Object.entries(Object.keys(o.api).map(e=>void 0===r.api[e]?o.api[e]:null).filter(e=>null!==e)).forEach(([t,r])=>{if(e.options.disabledPaths?.includes(r.path))return;let o=r.options;if(o.metadata?.SERVER_ONLY)return;let a=P(r.path);"GET"===o.method&&(n[a]={get:{tags:o.metadata?.openapi?.tags||[i.id.charAt(0).toUpperCase()+i.id.slice(1)],description:o.metadata?.openapi?.description,operationId:o.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:C(o),responses:R(o.metadata?.openapi?.responses)}}),"POST"===o.method&&(n[a]={post:{tags:o.metadata?.openapi?.tags||[i.id.charAt(0).toUpperCase()+i.id.slice(1)],description:o.metadata?.openapi?.description,operationId:o.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:C(o),requestBody:k(o),responses:R(o.metadata?.openapi?.responses)}})})}return{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{...i,securitySchemes:{apiKeyCookie:{type:"apiKey",in:"cookie",name:"apiKeyCookie",description:"API Key authentication via cookie"},bearerAuth:{type:"http",scheme:"bearer",description:"Bearer token authentication"}}},security:[{apiKeyCookie:[],bearerAuth:[]}],servers:[{url:e.baseURL}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:n}}let U=`<svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect width="75" height="75" fill="url(#pattern0_21_12)"/>
<defs>
<pattern id="pattern0_21_12" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_21_12" transform="scale(0.00094697)"/>
</pattern>
<image id="image0_21_12" width="1056" height="1056" xlink:href="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBARXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAEIKADAAQAAAABAAAEIAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/+ICKElDQ19QUk9GSUxFAAEBAAACGGFwcGwEAAAAbW50clJHQiBYWVogB+YAAQABAAAAAAAAYWNzcEFQUEwAAAAAQVBQTAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1hcHBs7P2jjjiFR8NttL1PetoYLwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKZGVzYwAAAPwAAAAwY3BydAAAASwAAABQd3RwdAAAAXwAAAAUclhZWgAAAZAAAAAUZ1hZWgAAAaQAAAAUYlhZWgAAAbgAAAAUclRSQwAAAcwAAAAgY2hhZAAAAewAAAAsYlRSQwAAAcwAAAAgZ1RSQwAAAcwAAAAgbWx1YwAAAAAAAAABAAAADGVuVVMAAAAUAAAAHABEAGkAcwBwAGwAYQB5ACAAUAAzbWx1YwAAAAAAAAABAAAADGVuVVMAAAA0AAAAHABDAG8AcAB5AHIAaQBnAGgAdAAgAEEAcABwAGwAZQAgAEkAbgBjAC4ALAAgADIAMAAyADJYWVogAAAAAAAA9tUAAQAAAADTLFhZWiAAAAAAAACD3wAAPb////+7WFlaIAAAAAAAAEq/AACxNwAACrlYWVogAAAAAAAAKDgAABELAADIuXBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbc2YzMgAAAAAAAQxCAAAF3v//8yYAAAeTAAD9kP//+6L///2jAAAD3AAAwG7/wAARCAQgBCADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwACAgICAgIDAgIDBAMDAwQFBAQEBAUHBQUFBQUHCAcHBwcHBwgICAgICAgICgoKCgoKCwsLCwsNDQ0NDQ0NDQ0N/9sAQwECAgIDAwMGAwMGDQkHCQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0N/90ABABC/9oADAMBAAIRAxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Q/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9L9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//T/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//W/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//R/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//U/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9b9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9H9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9T9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//V/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Ln/gq38a/in8Dvgp4T8R/CfxFdeG9SvvFMdlcXFoELyW5srqQxnzEcY3op4Gciv1Gr8Z/+C2X/JvXgj/sc4v/AE33lAH4z/8ADwv9tD/oq2tf9823/wAZo/4eF/tof9FW1r/vm2/+M18Z0UAfZn/Dwv8AbQ/6KtrX/fNt/wDGaP8Ah4X+2h/0VbWv++bb/wCM18Z0UAfZn/Dwv9tD/oq2tf8AfNt/8Zo/4eF/tof9FW1r/vm2/wDjNfGdFAH2Z/w8L/bQ/wCira1/3zbf/GaP+Hhf7aH/AEVbWv8Avm2/+M18Z0UAfZn/AA8L/bQ/6KtrX/fNt/8AGaP+Hhf7aH/RVta/75tv/jNfGdFAH2Z/w8L/AG0P+ira1/3zbf8Axmj/AIeF/tof9FW1r/vm2/8AjNfGdFAH63/sVftq/tTfEb9qb4deCfG3xF1TVtD1bVGgvbKdYBHPGIJW2ttiVsblB4I6V/UbX8Z//BPT/k9D4U/9hpv/AEmmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+M/wD4eF/tof8ARVta/wC+bb/4zR/w8L/bQ/6KtrX/AHzbf/Ga+M6KAPsz/h4X+2h/0VbWv++bb/4zR/w8L/bQ/wCira1/3zbf/Ga+M6KAPsz/AIeF/tof9FW1r/vm2/8AjNH/AA8L/bQ/6KtrX/fNt/8AGa+M6KAPsz/h4X+2h/0VbWv++bb/AOM0f8PC/wBtD/oq2tf9823/AMZr4zooA+zP+Hhf7aH/AEVbWv8Avm2/+M0f8PC/20P+ira1/wB823/xmvjOigD7M/4eF/tof9FW1r/vm2/+M0f8PC/20P8Aoq2tf9823/xmvjOigD7M/wCHhf7aH/RVta/75tv/AIzR/wAPC/20P+ira1/3zbf/ABmvjOigD7M/4eF/tof9FW1r/vm2/wDjNH/Dwv8AbQ/6KtrX/fNt/wDGa+M6KAPsz/h4X+2h/wBFW1r/AL5tv/jNH/Dwv9tD/oq2tf8AfNt/8Zr4zooA+zP+Hhf7aH/RVta/75tv/jNH/Dwv9tD/AKKtrX/fNt/8Zr4zooA+zP8Ah4X+2h/0VbWv++bb/wCM0f8ADwv9tD/oq2tf9823/wAZr4zooA+zP+Hhf7aH/RVta/75tv8A4zR/w8L/AG0P+ira1/3zbf8AxmvjOigD7M/4eF/tof8ARVta/wC+bb/4zR/w8L/bQ/6KtrX/AHzbf/Ga+M6KAP6tv+CUnxr+Kfxx+CnizxH8WPEV14k1Kx8UyWVvcXYQPHbiytZBGPLRBje7HkZya/Uavxn/AOCJv/JvXjf/ALHOX/032dfsxQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf//X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKAPsz/gnp/yeh8Kf+w03/pNNX9mFfxn/APBPT/k9D4U/9hpv/Saav7MKACiiigAooooAKKKKACiiigAooooAKKKKAP4A6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKAPsz/gnp/yeh8Kf+w03/pNNX9mFfwq/BT4r638Dvin4d+LHhy0tb7UvDd0bu3t70ObeRzG0eJBGyPjDnowOa/Ub/h9l+0L/ANCR4M/79ah/8m0Af0yUV/M3/wAPsv2hf+hI8Gf9+tQ/+TaP+H2X7Qv/AEJHgz/v1qH/AMm0Af0yUV/M3/w+y/aF/wChI8Gf9+tQ/wDk2j/h9l+0L/0JHgz/AL9ah/8AJtAH9MlFfzN/8Psv2hf+hI8Gf9+tQ/8Ak2j/AIfZftC/9CR4M/79ah/8m0Af0yUV/M3/AMPsv2hf+hI8Gf8AfrUP/k2j/h9l+0L/ANCR4M/79ah/8m0Af0yUV/M3/wAPsv2hf+hI8Gf9+tQ/+TaP+H2X7Qv/AEJHgz/v1qH/AMm0Af0yUV/M3/w+y/aF/wChI8Gf9+tQ/wDk2j/h9l+0L/0JHgz/AL9ah/8AJtAH4z0V/TJ/w5N/Z6/6Hfxn/wB/dP8A/kKj/hyb+z1/0O/jP/v7p/8A8hUAfzN0V/TJ/wAOTf2ev+h38Z/9/dP/APkKj/hyb+z1/wBDv4z/AO/un/8AyFQB/M3RX9Mn/Dk39nr/AKHfxn/390//AOQqP+HJv7PX/Q7+M/8Av7p//wAhUAfzN0V/TJ/w5N/Z6/6Hfxn/AN/dP/8AkKj/AIcm/s9f9Dv4z/7+6f8A/IVAH8zdFf0yf8OTf2ev+h38Z/8Af3T/AP5Co/4cm/s9f9Dv4z/7+6f/APIVAH8zdFf0yf8ADk39nr/od/Gf/f3T/wD5Co/4cm/s9f8AQ7+M/wDv7p//AMhUAfzN0V/TJ/w5N/Z6/wCh38Z/9/dP/wDkKvwV/ag+FGifA74++M/hP4cu7q+03w3fi0t7i9KG4kQxRyZkMaomcueigYoA8FooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/AOxzl/8ATfZ1+zFfjP8A8ETf+TevG/8A2Ocv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/v8ooooAKKKKACiiigAooooAKKKKACiiigAr+M//goX/wAnofFb/sNL/wCk0Nf2YV/Gf/wUL/5PQ+K3/YaX/wBJoaAPjOiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/W/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP7/KKKKACiiigAooooAKKKKACiiigAooooAK/jP/4KF/8AJ6HxW/7DS/8ApNDX9mFfxn/8FC/+T0Pit/2Gl/8ASaGgD4zooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+/yiiigAooooAKKKKACiiigAooooAKKKKACv4z/+Chf/ACeh8Vv+w0v/AKTQ1/ZhX8Z//BQv/k9D4rf9hpf/AEmhoA+M6KKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/v8ooooAKKKKACiiigAooooAKKKKACiiigAr+M//goX/wAnofFb/sNL/wCk0Nf2YV/Gf/wUL/5PQ+K3/YaX/wBJoaAPjOiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/R/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP7/KKKKACiiigAooooAKKKKACiiigAooooAK/jP/4KF/8AJ6HxW/7DS/8ApNDX9mFfxn/8FC/+T0Pit/2Gl/8ASaGgD4zooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+/yiiigAooooAKKKKACiiigAooooAKKKKACv4z/+Chf/ACeh8Vv+w0v/AKTQ1/ZhX8Z//BQv/k9D4rf9hpf/AEmhoA+M6KKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD1L4KfCjW/jj8U/Dvwn8OXdrY6l4kujaW9xelxbxuI2kzIY1d8YQ9FJzX6jf8OTf2hf8Aod/Bn/f3UP8A5Cr4z/4J6f8AJ6Hwp/7DTf8ApNNX9mFAH8zf/Dk39oX/AKHfwZ/391D/AOQqP+HJv7Qv/Q7+DP8Av7qH/wAhV/TJRQB/M3/w5N/aF/6HfwZ/391D/wCQqP8Ahyb+0L/0O/gz/v7qH/yFX9MlFAH8zf8Aw5N/aF/6HfwZ/wB/dQ/+QqP+HJv7Qv8A0O/gz/v7qH/yFX9MlFAH8zf/AA5N/aF/6HfwZ/391D/5Co/4cm/tC/8AQ7+DP+/uof8AyFX9MlFAH8zf/Dk39oX/AKHfwZ/391D/AOQqP+HJv7Qv/Q7+DP8Av7qH/wAhV/TJRQB/M3/w5N/aF/6HfwZ/391D/wCQqP8Ahyb+0L/0O/gz/v7qH/yFX9MlFAH4z/8AD7L9nr/oSPGf/frT/wD5No/4fZfs9f8AQkeM/wDv1p//AMm1/M3RQB/TJ/w+y/Z6/wChI8Z/9+tP/wDk2j/h9l+z1/0JHjP/AL9af/8AJtfzN0UAf0yf8Psv2ev+hI8Z/wDfrT//AJNo/wCH2X7PX/QkeM/+/Wn/APybX8zdFAH9Mn/D7L9nr/oSPGf/AH60/wD+TaP+H2X7PX/QkeM/+/Wn/wDybX8zdFAH9Mn/AA+y/Z6/6Ejxn/360/8A+TaP+H2X7PX/AEJHjP8A79af/wDJtfzN0UAf0yf8Psv2ev8AoSPGf/frT/8A5No/4fZfs9f9CR4z/wC/Wn//ACbX8zdFAH9Mn/D7L9nr/oSPGf8A360//wCTa/BX9qD4r6J8cfj74z+LHhy0urHTfEl+Lu3t70ILiNBFHHiQRs6Zyh6MRivBaKACiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/ACb143/7HOX/ANN9nX7MV+M//BE3/k3rxv8A9jnL/wCm+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//U/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+M/wDwWy/5N68Ef9jnF/6b7ygD+ZuiiigAooooAKKKKACiiigAooooAKKKKAPsz/gnp/yeh8Kf+w03/pNNX9mFfxn/APBPT/k9D4U/9hpv/Saav7MKACiiigAooooAKKKKACiiigAooooAKKKKAP4A6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP6ZP+CJv/JvXjf/ALHOX/032dfsxX4z/wDBE3/k3rxv/wBjnL/6b7Ov2YoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr8Z/+C2X/JvXgj/sc4v/AE33lfsxX4z/APBbL/k3rwR/2OcX/pvvKAP5m6KKKACiiigAooooAKKKKACiiigAooooA+zP+Cen/J6Hwp/7DTf+k01f2YV/Gf8A8E9P+T0PhT/2Gm/9Jpq/swoAKKKKACiiigAooooAKKKKACiiigAooooA/gDooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/pk/4Im/8m9eN/8Asc5f/TfZ1+zFfjP/AMETf+TevG//AGOcv/pvs6/ZigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvxn/4LZf8m9eCP+xzi/8ATfeV+zFfjP8A8Fsv+TevBH/Y5xf+m+8oA/mbooooAKKKKACiiigAooooAKKKKACiiigD7M/4J6f8nofCn/sNN/6TTV/ZhX8Z/wDwT0/5PQ+FP/Yab/0mmr+zCgAooooAKKKKACiiigAooooAKKKKACiiigD+AOiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD+mT/gib/yb143/wCxzl/9N9nX7MV+M/8AwRN/5N68b/8AY5y/+m+zr9mKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/Gf/gtl/yb14I/7HOL/wBN95X7MV+XP/BVv4KfFP44/BTwn4c+E/h268SalY+KY724t7QoHjtxZXUZkPmOgxvdRwc5NAH8pNFfZn/DvT9tD/olOtf99W3/AMeo/wCHen7aH/RKda/76tv/AI9QB8Z0V9mf8O9P20P+iU61/wB9W3/x6j/h3p+2h/0SnWv++rb/AOPUAfGdFfZn/DvT9tD/AKJTrX/fVt/8eo/4d6ftof8ARKda/wC+rb/49QB8Z0V9mf8ADvT9tD/olOtf99W3/wAeo/4d6ftof9Ep1r/vq2/+PUAfGdFfZn/DvT9tD/olOtf99W3/AMeo/wCHen7aH/RKda/76tv/AI9QB8Z0V9mf8O9P20P+iU61/wB9W3/x6j/h3p+2h/0SnWv++rb/AOPUAH/BPT/k9D4U/wDYab/0mmr+zCv5cv2Kv2Kv2pvhz+1N8OvG3jb4dappOh6TqjT3t7O0BjgjMEq7m2ys2NzAcA9a/qNoAKKKKACiiigAooooAKKKKACiiigAooooA/gDor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD4zor7M/4d6ftof9Ep1r/vq2/wDj1H/DvT9tD/olOtf99W3/AMeoA+M6K+zP+Hen7aH/AESnWv8Avq2/+PUf8O9P20P+iU61/wB9W3/x6gD4zor7M/4d6ftof9Ep1r/vq2/+PUf8O9P20P8AolOtf99W3/x6gD4zor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD4zor7M/4d6ftof9Ep1r/vq2/wDj1H/DvT9tD/olOtf99W3/AMeoA+M6K+zP+Hen7aH/AESnWv8Avq2/+PUf8O9P20P+iU61/wB9W3/x6gD4zor7M/4d6ftof9Ep1r/vq2/+PUf8O9P20P8AolOtf99W3/x6gD4zor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD4zor7M/4d6ftof9Ep1r/vq2/wDj1H/DvT9tD/olOtf99W3/AMeoA+M6K+zP+Hen7aH/AESnWv8Avq2/+PUf8O9P20P+iU61/wB9W3/x6gD4zor7M/4d6ftof9Ep1r/vq2/+PUf8O9P20P8AolOtf99W3/x6gD4zor7M/wCHen7aH/RKda/76tv/AI9R/wAO9P20P+iU61/31bf/AB6gD9mP+CJv/JvXjf8A7HOX/wBN9nX7MV+XP/BKT4KfFP4HfBTxZ4c+LHh268N6lfeKZL23t7soXktzZWsYkHlu4xvRhyc5FfqNQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/9L9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//T/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9X9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//W/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//R/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//U/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9b9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//X/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9H9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9T9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//V/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9f9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Q/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q=="/>
</defs>
</svg>
`,L=(e,t)=>`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(e)}
    </script>
	 <script>
      var configuration = {
	  	favicon: "data:image/svg+xml;utf8,${encodeURIComponent(U)}",
	   	theme: "${t||"default"}",
        metaData: {
			title: "Better Auth API",
			description: "API Reference for your Better Auth Instance",
		}
      }

      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`,K=e=>{let t=e?.path??"/reference";return{id:"open-api",endpoints:{generateOpenAPISchema:(0,T.a)("/open-api/generate-schema",{method:"GET"},async e=>{let t=await D(e.context,e.context.options);return e.json(t)}),openAPIReference:(0,T.a)(t,{method:"GET",metadata:{isAction:!1}},async t=>{if(e?.disableDefaultReference)throw new S.APIError("NOT_FOUND");return new Response(L(await D(t.context,t.context.options),e?.theme),{headers:{"Content-Type":"text/html"}})})}}};e.s(["openAPI",()=>K],947576);var M=e.i(476902),B=u,j=l;let $=["/sign-up/email","/sign-in/email","/forget-password"],z="cloudflare-turnstile",F="google-recaptcha",q="hcaptcha",V="captchafox",H={[z]:"https://challenges.cloudflare.com/turnstile/v0/siteverify",[F]:"https://www.google.com/recaptcha/api/siteverify",[q]:"https://api.hcaptcha.com/siteverify",[V]:"https://api.captchafox.com/siteverify"},G=(0,B.d)({VERIFICATION_FAILED:"Captcha verification failed",MISSING_RESPONSE:"Missing CAPTCHA response",UNKNOWN_ERROR:"Something went wrong"}),W=(0,B.d)({MISSING_SECRET_KEY:"Missing secret key",SERVICE_UNAVAILABLE:"CAPTCHA service unavailable"}),Z=({message:e,status:t})=>({response:new Response(JSON.stringify({message:e}),{status:t})}),J=async({siteVerifyURL:e,captchaResponse:t,secretKey:r,remoteIP:i})=>{let n=await (0,j.betterFetch)(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:r,response:t,...i&&{remoteip:i}})});if(!n.data||n.error)throw Error(W.SERVICE_UNAVAILABLE);if(!n.data.success)return Z({message:G.VERIFICATION_FAILED,status:403})},Q=e=>{if("object"!=typeof e||null===e||Array.isArray(e))throw Error("Input must be a non-null object.");let t=new URLSearchParams;for(let[r,i]of Object.entries(e))null!=i&&t.append(r,String(i));return t.toString()},Y=e=>"score"in e&&"number"==typeof e.score,X=async({siteVerifyURL:e,captchaResponse:t,secretKey:r,minScore:i=.5,remoteIP:n})=>{let o=await (0,j.betterFetch)(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q({secret:r,response:t,...n&&{remoteip:n}})});if(!o.data||o.error)throw Error(W.SERVICE_UNAVAILABLE);if(!o.data.success||Y(o.data)&&o.data.score<i)return Z({message:G.VERIFICATION_FAILED,status:403})},ee=async({siteVerifyURL:e,captchaResponse:t,secretKey:r,siteKey:i,remoteIP:n})=>{let o=await (0,j.betterFetch)(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q({secret:r,response:t,...i&&{sitekey:i},...n&&{remoteip:n}})});if(!o.data||o.error)throw Error(W.SERVICE_UNAVAILABLE);if(!o.data.success)return Z({message:G.VERIFICATION_FAILED,status:403})},et=async({siteVerifyURL:e,captchaResponse:t,secretKey:r,siteKey:i,remoteIP:n})=>{let o=await (0,j.betterFetch)(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q({secret:r,response:t,...i&&{sitekey:i},...n&&{remoteIp:n}})});if(!o.data||o.error)throw Error(W.SERVICE_UNAVAILABLE);if(!o.data.success)return Z({message:G.VERIFICATION_FAILED,status:403})},er=e=>({id:"captcha",onRequest:async(t,r)=>{try{if(!(e.endpoints?.length?e.endpoints:$).some(e=>t.url.includes(e)))return;if(!e.secretKey)throw Error(W.MISSING_SECRET_KEY);let r=t.headers.get("x-captcha-response"),i=t.headers.get("x-captcha-user-remote-ip")??void 0;if(!r)return Z({message:G.MISSING_RESPONSE,status:400});let n={siteVerifyURL:e.siteVerifyURLOverride||H[e.provider],captchaResponse:r,secretKey:e.secretKey,remoteIP:i};if(e.provider===z)return await J(n);if(e.provider===F)return await X({...n,minScore:e.minScore});if(e.provider===q)return await ee({...n,siteKey:e.siteKey});if(e.provider===V)return await et({...n,siteKey:e.siteKey})}catch(i){let e=i instanceof Error?i.message:void 0;return r.logger.error(e??"Unknown error",{endpoint:t.url,message:i}),Z({message:G.UNKNOWN_ERROR,status:500})}}});e.s(["captcha",()=>er],418258),e.i(520187),e.i(888801);var ei=p,en=t,eo=r,ea=n,es=a,el=e.i(827957),eu=s;e.i(775638),e.i(216344),e.i(841604),e.i(482135);var ec=e.i(896101);function ed(e,t,r){return`${e.includes("?")?"&":"?"}error=${t}&error_description=${r}`}async function ep(e,t){e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Methods","POST, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),e.setHeader("Access-Control-Max-Age","86400");let r={codeExpiresIn:600,defaultScope:"openid",...t,scopes:["openid","profile","email","offline_access",...t?.scopes||[]]};if(!e.request)throw new en.APIError("UNAUTHORIZED",{error_description:"request not found",error:"invalid_request"});let i=await (0,d.g)(e);if(!i){await e.setSignedCookie("oidc_login_prompt",JSON.stringify(e.query),e.context.secret,{maxAge:600,path:"/",sameSite:"lax"});let r=e.request.url?.split("?")[1];throw e.redirect(`${t.loginPage}?${r}`)}let n=e.query;if(console.log(n),!n.client_id)throw e.redirect(`${e.context.baseURL}/error?error=invalid_client`);if(!n.response_type)throw e.redirect(ed(`${e.context.baseURL}/error`,"invalid_request","response_type is required"));let o=await e.context.adapter.findOne({model:"oauthApplication",where:[{field:"clientId",value:e.query.client_id}]}).then(e=>e?{...e,redirectURLs:e.redirectURLs.split(","),metadata:e.metadata?JSON.parse(e.metadata):{}}:null);if(console.log(o),!o)throw e.redirect(`${e.context.baseURL}/error?error=invalid_client`);let a=o.redirectURLs.find(t=>t===e.query.redirect_uri);if(!a||!n.redirect_uri)throw new en.APIError("BAD_REQUEST",{message:"Invalid redirect URI"});if(o.disabled)throw e.redirect(`${e.context.baseURL}/error?error=client_disabled`);if("code"!==n.response_type)throw e.redirect(`${e.context.baseURL}/error?error=unsupported_response_type`);let s=n.scope?.split(" ").filter(e=>e)||r.defaultScope.split(" "),l=s.filter(e=>!r.scopes.includes(e));if(l.length)throw e.redirect(ed(n.redirect_uri,"invalid_scope",`The following scopes are invalid: ${l.join(", ")}`));if((!n.code_challenge||!n.code_challenge_method)&&t.requirePKCE)throw e.redirect(ed(n.redirect_uri,"invalid_request","pkce is required"));if(n.code_challenge_method||(n.code_challenge_method="plain"),!["s256",t.allowPlainCodeChallengeMethod?"plain":"s256"].includes(n.code_challenge_method?.toLowerCase()||""))throw e.redirect(ed(n.redirect_uri,"invalid_request","invalid code_challenge method"));let u=(0,eu.g)(32,"a-z","A-Z","0-9"),c=1e3*r.codeExpiresIn,p=new Date(Date.now()+c);try{await e.context.internalAdapter.createVerificationValue({value:JSON.stringify({clientId:o.clientId,redirectURI:n.redirect_uri,scope:s,userId:i.user.id,authTime:new Date(i.session.createdAt).getTime(),requireConsent:"consent"===n.prompt,state:"consent"===n.prompt?n.state:null,codeChallenge:n.code_challenge,codeChallengeMethod:n.code_challenge_method,nonce:n.nonce}),identifier:u,expiresAt:p},e)}catch(t){throw e.redirect(ed(n.redirect_uri,"server_error","An error occurred while processing the request"))}let f=new URL(a);throw f.searchParams.set("code",u),f.searchParams.set("state",e.query.state),n.prompt,e.redirect(f.toString())}e.i(894849),e.i(334940),e.i(78096),e.i(926631),e.i(105570),e.i(1738),e.i(217202),e.i(69703),e.i(823390),e.i(49013),e.i(323591);let ef=(e,t)=>{let r=e.context.options.baseURL,i=e.context.baseURL;if(!r||!i)throw new en.APIError("INTERNAL_SERVER_ERROR",{error:"invalid_issuer",error_description:"issuer or baseURL is not set. If you're the app developer, please make sure to set the `baseURL` in your auth config."});return{issuer:r,authorization_endpoint:`${i}/mcp/authorize`,token_endpoint:`${i}/mcp/token`,userinfo_endpoint:`${i}/mcp/userinfo`,jwks_uri:`${i}/mcp/jwks`,registration_endpoint:`${i}/mcp/register`,scopes_supported:["openid","profile","email","offline_access"],response_types_supported:["code"],response_modes_supported:["query"],grant_types_supported:["authorization_code","refresh_token"],acr_values_supported:["urn:mace:incommon:iap:silver","urn:mace:incommon:iap:bronze"],subject_types_supported:["public"],id_token_signing_alg_values_supported:["RS256","none"],token_endpoint_auth_methods_supported:["client_secret_basic","client_secret_post","none"],code_challenge_methods_supported:["S256"],claims_supported:["sub","iss","aud","exp","nbf","iat","jti","email","email_verified","name"],...t?.metadata}},eh=(e,t)=>{let r=e.context.baseURL;return{resource:t?.resource??new URL(r).origin,authorization_servers:[r],jwks_uri:t?.oidcConfig?.metadata?.jwks_uri??`${r}/mcp/jwks`,scopes_supported:t?.oidcConfig?.metadata?.scopes_supported??["openid","profile","email","offline_access"],bearer_methods_supported:["header"],resource_signing_alg_values_supported:["RS256","none"]}},em=e=>{let t={codeExpiresIn:600,defaultScope:"openid",accessTokenExpiresIn:3600,refreshTokenExpiresIn:604800,allowPlainCodeChallengeMethod:!0,...e.oidcConfig,loginPage:e.loginPage,scopes:["openid","profile","email","offline_access",...e.oidcConfig?.scopes||[]]},r="oauthApplication",i="oauthAccessToken";return(0,M.o)(t),{id:"mcp",hooks:{after:[{matcher:()=>!0,handler:(0,d.c)(async e=>{let r=await e.getSignedCookie("oidc_login_prompt",e.context.secret),i=e.context.authCookies.sessionToken.name,n=(0,ea.p)(e.context.responseHeaders?.get("set-cookie")||""),o=n.has(i);if(!r||!o)return;e.setCookie("oidc_login_prompt","",{maxAge:0});let a=n.get(i)?.value,s=a?.split(".")[0];if(!s)return;let l=await e.context.internalAdapter.findSession(s);if(l)return e.query=JSON.parse(r),e.query.prompt="consent",e.context.session=l,await ep(e,t)})}]},endpoints:{getMcpOAuthConfig:(0,d.a)("/.well-known/oauth-authorization-server",{method:"GET",metadata:{client:!1}},async t=>{try{let r=ef(t,e);return t.json(r)}catch(e){return console.log(e),t.json(null)}}),getMCPProtectedResource:(0,d.a)("/.well-known/oauth-protected-resource",{method:"GET",metadata:{client:!1}},async t=>{let r=eh(t,e);return t.json(r)}),mcpOAuthAuthorize:(0,d.a)("/mcp/authorize",{method:"GET",query:ei.record(ei.string(),ei.any()),metadata:{openapi:{description:"Authorize an OAuth2 request using MCP",responses:{200:{description:"Authorization response generated successfully",content:{"application/json":{schema:{type:"object",additionalProperties:!0,description:"Authorization response, contents depend on the authorize function implementation"}}}}}}}},async e=>ep(e,t)),mcpOAuthToken:(0,d.a)("/mcp/token",{method:"POST",body:ei.record(ei.any(),ei.any()),metadata:{isAction:!1}},async e=>{e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Methods","POST, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),e.setHeader("Access-Control-Max-Age","86400");let{body:n}=e;if(!n)throw e.error("BAD_REQUEST",{error_description:"request body not found",error:"invalid_request"});if(n instanceof FormData&&(n=Object.fromEntries(n.entries())),!(n instanceof Object))throw new en.APIError("BAD_REQUEST",{error_description:"request body is not an object",error:"invalid_request"});let{client_id:o,client_secret:a}=n,s=e.request?.headers.get("authorization")||null;if(s&&!o&&!a&&s.startsWith("Basic "))try{let e=s.replace("Basic ",""),t=new TextDecoder().decode(eo.base64.decode(e));if(!t.includes(":"))throw new en.APIError("UNAUTHORIZED",{error_description:"invalid authorization header format",error:"invalid_client"});let[r,i]=t.split(":");if(!r||!i)throw new en.APIError("UNAUTHORIZED",{error_description:"invalid authorization header format",error:"invalid_client"});o=r,a=i}catch(e){throw new en.APIError("UNAUTHORIZED",{error_description:"invalid authorization header format",error:"invalid_client"})}let{grant_type:l,code:u,redirect_uri:c,refresh_token:d,code_verifier:p}=n;if("refresh_token"===l){if(!d)throw new en.APIError("BAD_REQUEST",{error_description:"refresh_token is required",error:"invalid_request"});let r=await e.context.adapter.findOne({model:"oauthAccessToken",where:[{field:"refreshToken",value:d.toString()}]});if(!r)throw new en.APIError("UNAUTHORIZED",{error_description:"invalid refresh token",error:"invalid_grant"});if(r.clientId!==o?.toString())throw new en.APIError("UNAUTHORIZED",{error_description:"invalid client_id",error:"invalid_client"});if(r.refreshTokenExpiresAt<new Date)throw new en.APIError("UNAUTHORIZED",{error_description:"refresh token expired",error:"invalid_grant"});let n=(0,eu.g)(32,"a-z","A-Z"),a=(0,eu.g)(32,"a-z","A-Z"),s=new Date(Date.now()+1e3*t.accessTokenExpiresIn),l=new Date(Date.now()+1e3*t.refreshTokenExpiresIn);return await e.context.adapter.create({model:i,data:{accessToken:n,refreshToken:a,accessTokenExpiresAt:s,refreshTokenExpiresAt:l,clientId:o.toString(),userId:r.userId,scopes:r.scopes,createdAt:new Date,updatedAt:new Date}}),e.json({access_token:n,token_type:"bearer",expires_in:t.accessTokenExpiresIn,refresh_token:a,scope:r.scopes})}if(!u)throw new en.APIError("BAD_REQUEST",{error_description:"code is required",error:"invalid_request"});if(t.requirePKCE&&!p)throw new en.APIError("BAD_REQUEST",{error_description:"code verifier is missing",error:"invalid_request"});let f=await e.context.internalAdapter.findVerificationValue(u.toString());if(!f)throw new en.APIError("UNAUTHORIZED",{error_description:"invalid code",error:"invalid_grant"});if(f.expiresAt<new Date)throw new en.APIError("UNAUTHORIZED",{error_description:"code expired",error:"invalid_grant"});if(await e.context.internalAdapter.deleteVerificationValue(f.id),!o)throw new en.APIError("UNAUTHORIZED",{error_description:"client_id is required",error:"invalid_client"});if(!l)throw new en.APIError("BAD_REQUEST",{error_description:"grant_type is required",error:"invalid_request"});if("authorization_code"!==l)throw new en.APIError("BAD_REQUEST",{error_description:"grant_type must be 'authorization_code'",error:"unsupported_grant_type"});if(!c)throw new en.APIError("BAD_REQUEST",{error_description:"redirect_uri is required",error:"invalid_request"});let h=await e.context.adapter.findOne({model:r,where:[{field:"clientId",value:o.toString()}]}).then(e=>e?{...e,redirectURLs:e.redirectURLs.split(","),metadata:e.metadata?JSON.parse(e.metadata):{}}:null);if(!h)throw new en.APIError("UNAUTHORIZED",{error_description:"invalid client_id",error:"invalid_client"});if(h.disabled)throw new en.APIError("UNAUTHORIZED",{error_description:"client is disabled",error:"invalid_client"});if("public"===h.type){if(!p)throw new en.APIError("BAD_REQUEST",{error_description:"code verifier is required for public clients",error:"invalid_request"})}else{if(!a)throw new en.APIError("UNAUTHORIZED",{error_description:"client_secret is required for confidential clients",error:"invalid_client"});if(h.clientSecret!==a.toString())throw new en.APIError("UNAUTHORIZED",{error_description:"invalid client_secret",error:"invalid_client"})}let m=JSON.parse(f.value);if(m.clientId!==o.toString())throw new en.APIError("UNAUTHORIZED",{error_description:"invalid client_id",error:"invalid_client"});if(m.redirectURI!==c.toString())throw new en.APIError("UNAUTHORIZED",{error_description:"invalid redirect_uri",error:"invalid_client"});if(m.codeChallenge&&!p)throw new en.APIError("BAD_REQUEST",{error_description:"code verifier is missing",error:"invalid_request"});if(("plain"===m.codeChallengeMethod?p:await (0,es.createHash)("SHA-256","base64urlnopad").digest(p))!==m.codeChallenge)throw new en.APIError("UNAUTHORIZED",{error_description:"code verification failed",error:"invalid_request"});let g=m.scope;await e.context.internalAdapter.deleteVerificationValue(f.id);let y=(0,eu.g)(32,"a-z","A-Z"),v=(0,eu.g)(32,"A-Z","a-z"),b=new Date(Date.now()+1e3*t.accessTokenExpiresIn),A=new Date(Date.now()+1e3*t.refreshTokenExpiresIn);await e.context.adapter.create({model:i,data:{accessToken:y,refreshToken:v,accessTokenExpiresAt:b,refreshTokenExpiresAt:A,clientId:o.toString(),userId:m.userId,scopes:g.join(" "),createdAt:new Date,updatedAt:new Date}});let w=await e.context.internalAdapter.findUserById(m.userId);if(!w)throw new en.APIError("UNAUTHORIZED",{error_description:"user not found",error:"invalid_grant"});let _={alg:"HS256",key:await (0,ec.getWebcryptoSubtle)().generateKey({name:"HMAC",hash:"SHA-256"},!0,["sign","verify"])},S={given_name:w.name.split(" ")[0],family_name:w.name.split(" ")[1],name:w.name,profile:w.image,updated_at:w.updatedAt.toISOString()},E={email:w.email,email_verified:w.emailVerified},T={...g.includes("profile")?S:{},...g.includes("email")?E:{}},I=t.getAdditionalUserInfoClaim?await t.getAdditionalUserInfoClaim(w,g,h):{},x=await new el.SignJWT({sub:w.id,aud:o.toString(),iat:Date.now(),auth_time:e.context.session?new Date(e.context.session.session.createdAt).getTime():void 0,nonce:m.nonce,acr:"urn:mace:incommon:iap:silver",...T,...I}).setProtectedHeader({alg:_.alg}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+t.accessTokenExpiresIn).sign(_.key);return e.json({access_token:y,token_type:"Bearer",expires_in:t.accessTokenExpiresIn,refresh_token:g.includes("offline_access")?v:void 0,scope:g.join(" "),id_token:g.includes("openid")?x:void 0},{headers:{"Cache-Control":"no-store",Pragma:"no-cache"}})}),registerMcpClient:(0,d.a)("/mcp/register",{method:"POST",body:ei.object({redirect_uris:ei.array(ei.string()),token_endpoint_auth_method:ei.enum(["none","client_secret_basic","client_secret_post"]).default("client_secret_basic").optional(),grant_types:ei.array(ei.enum(["authorization_code","implicit","password","client_credentials","refresh_token","urn:ietf:params:oauth:grant-type:jwt-bearer","urn:ietf:params:oauth:grant-type:saml2-bearer"])).default(["authorization_code"]).optional(),response_types:ei.array(ei.enum(["code","token"])).default(["code"]).optional(),client_name:ei.string().optional(),client_uri:ei.string().optional(),logo_uri:ei.string().optional(),scope:ei.string().optional(),contacts:ei.array(ei.string()).optional(),tos_uri:ei.string().optional(),policy_uri:ei.string().optional(),jwks_uri:ei.string().optional(),jwks:ei.record(ei.string(),ei.any()).optional(),metadata:ei.record(ei.any(),ei.any()).optional(),software_id:ei.string().optional(),software_version:ei.string().optional(),software_statement:ei.string().optional()}),metadata:{openapi:{description:"Register an OAuth2 application",responses:{200:{description:"OAuth2 application registered successfully",content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"Name of the OAuth2 application"},icon:{type:"string",nullable:!0,description:"Icon URL for the application"},metadata:{type:"object",additionalProperties:!0,nullable:!0,description:"Additional metadata for the application"},clientId:{type:"string",description:"Unique identifier for the client"},clientSecret:{type:"string",description:"Secret key for the client. Not included for public clients."},redirectURLs:{type:"array",items:{type:"string",format:"uri"},description:"List of allowed redirect URLs"},type:{type:"string",description:"Type of the client",enum:["web","public"]},authenticationScheme:{type:"string",description:"Authentication scheme used by the client",enum:["client_secret","none"]},disabled:{type:"boolean",description:"Whether the client is disabled",enum:[!1]},userId:{type:"string",nullable:!0,description:"ID of the user who registered the client, null if registered anonymously"},createdAt:{type:"string",format:"date-time",description:"Creation timestamp"},updatedAt:{type:"string",format:"date-time",description:"Last update timestamp"}},required:["name","clientId","redirectURLs","type","authenticationScheme","disabled","createdAt","updatedAt"]}}}}}}}},async e=>{let i=e.body,n=await (0,d.g)(e);if(e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Methods","POST, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),e.setHeader("Access-Control-Max-Age","86400"),e.headers?.set("Access-Control-Max-Age","86400"),(!i.grant_types||i.grant_types.includes("authorization_code")||i.grant_types.includes("implicit"))&&(!i.redirect_uris||0===i.redirect_uris.length))throw new en.APIError("BAD_REQUEST",{error:"invalid_redirect_uri",error_description:"Redirect URIs are required for authorization_code and implicit grant types"});if(i.grant_types&&i.response_types){if(i.grant_types.includes("authorization_code")&&!i.response_types.includes("code"))throw new en.APIError("BAD_REQUEST",{error:"invalid_client_metadata",error_description:"When 'authorization_code' grant type is used, 'code' response type must be included"});if(i.grant_types.includes("implicit")&&!i.response_types.includes("token"))throw new en.APIError("BAD_REQUEST",{error:"invalid_client_metadata",error_description:"When 'implicit' grant type is used, 'token' response type must be included"})}let o=t.generateClientId?.()||(0,eu.g)(32,"a-z","A-Z"),a=t.generateClientSecret?.()||(0,eu.g)(32,"a-z","A-Z"),s="none"===i.token_endpoint_auth_method?"public":"web",l="public"===s?"":a;return await e.context.adapter.create({model:r,data:{name:i.client_name,icon:i.logo_uri,metadata:i.metadata?JSON.stringify(i.metadata):null,clientId:o,clientSecret:l,redirectURLs:i.redirect_uris.join(","),type:s,authenticationScheme:i.token_endpoint_auth_method||"client_secret_basic",disabled:!1,userId:n?.session.userId,createdAt:new Date,updatedAt:new Date}}),new Response(JSON.stringify({client_id:o,client_id_issued_at:Math.floor(Date.now()/1e3),redirect_uris:i.redirect_uris,token_endpoint_auth_method:i.token_endpoint_auth_method||"client_secret_basic",grant_types:i.grant_types||["authorization_code"],response_types:i.response_types||["code"],client_name:i.client_name,client_uri:i.client_uri,logo_uri:i.logo_uri,scope:i.scope,contacts:i.contacts,tos_uri:i.tos_uri,policy_uri:i.policy_uri,jwks_uri:i.jwks_uri,jwks:i.jwks,software_id:i.software_id,software_version:i.software_version,software_statement:i.software_statement,metadata:i.metadata,..."public"!==s?{client_secret:l,client_secret_expires_at:0}:{}}),{status:201,headers:{"Content-Type":"application/json","Cache-Control":"no-store",Pragma:"no-cache"}})}),getMcpSession:(0,d.a)("/mcp/get-session",{method:"GET",requireHeaders:!0},async e=>{let t=e.headers?.get("Authorization")?.replace("Bearer ","");if(!t)return e.headers?.set("WWW-Authenticate","Bearer"),e.json(null);let r=await e.context.adapter.findOne({model:i,where:[{field:"accessToken",value:t}]});return r?e.json(r):e.json(null)})},schema:M.s}},eg=e=>{let t=["/callback/:id","/oauth2/callback/:id","/sign-in/email","/sign-up/email"],r=e=>t.includes(e.path)?e.params?.id?e.params.id:e.path.split("/").pop():null,i={cookieName:"better-auth.last_used_login_method",maxAge:2592e3,...e};return{id:"last-login-method",init:e=>({options:{databaseHooks:{user:{create:{async before(e,t){if(!i.storeInDatabase||!t)return;let n=i.customResolveMethod?.(t)??r(t);if(n)return{data:{...e,lastLoginMethod:n}}}}},session:{create:{async after(t,n){if(!i.storeInDatabase||!n)return;let o=i.customResolveMethod?.(n)??r(n);if(o&&t?.userId)try{await e.internalAdapter.updateUser(t.userId,{lastLoginMethod:o})}catch(t){e.logger.error("Failed to update lastLoginMethod",t)}}}}}}}),hooks:{after:[{matcher:()=>!0,handler:(0,d.c)(async e=>{let t=i.customResolveMethod?.(e)??r(e);if(t){let r=e.context.responseHeaders?.get("set-cookie"),n=e.context.authCookies.sessionToken.name;if(r&&r.includes(n)){let r={...e.context.authCookies.sessionToken.options,maxAge:i.maxAge,httpOnly:!1};e.setCookie(i.cookieName,t,r)}}})}]},schema:i.storeInDatabase?{user:{fields:{lastLoginMethod:{type:"string",input:!1,required:!1,fieldName:i.schema?.user?.lastLoginMethod||"lastLoginMethod"}}}}:void 0}};e.s(["lastLoginMethod",()=>eg,"mcp",()=>em],450900)},919801,e=>{"use strict";e.i(450900);var t=e.i(520187),t=t;let r=e.i(405614).succeed((0,t.a)());e.s(["apiKeyPlugin",0,r],919801)},95200,e=>{"use strict";e.i(919801),e.s([])},788557,e=>{"use strict";e.i(450900);var t=e.i(13681);let r=e.i(405614).succeed((0,t.bearer)());e.s(["bearerPlugin",0,r])},398373,e=>{"use strict";e.i(788557),e.s([])},4571,e=>{"use strict";var t=e.i(853053);e.i(450900);var r=e.i(418258),i=e.i(405614),n=e.i(392353);let o=i.gen(function*(){let e=yield*t.IamConfig;return(0,r.captcha)({provider:"google-recaptcha",secretKey:n.value(e.cloud.google.captcha.secretKey)})});e.s(["captchaPlugin",0,o])},336785,e=>{"use strict";e.i(4571),e.s([])},269416,e=>{"use strict";var t=e.i(136145);let r=e.i(405614).succeed((0,t.customSession)(async e=>({...e,user:e.user})));e.s(["customSessionPlugin",0,r])},551326,e=>{"use strict";e.i(269416),e.s([])},720145,e=>{"use strict";var t=e.i(894849);let r=e.i(405614).succeed((0,t.deviceAuthorization)({expiresIn:"3min",interval:"5s",deviceCodeLength:40,userCodeLength:8}));e.s(["deviceAuthorizationPlugin",0,r])},683648,e=>{"use strict";e.i(720145),e.s([])},87662,e=>{"use strict";var t=e.i(464589);e.s(["logger",()=>t.a])},577340,e=>{"use strict";var t=e.i(909879);e.s(["createAuthEndpoint",()=>t.a])},296573,e=>{"use strict";let t,r;var i,n,o,a,s,l,u,c,d,p,f,h,m,g,y,v,b,A,w,_,S,E,T,I,x,O,C,k,N,R,P,D,U,L,K,M,B,j,$,z,F,q,V,H,G,W,Z,J,Q,Y,X,ee,et,er,ei,en,eo,ea,es,el,eu,ec,ed,ep,ef,eh,em,eg,ey,ev,eb,eA,ew,e_,eS,eE,eT,eI,ex,eO,eC,ek,eN,eR,eP,eD,eU,eL,eK,eM,eB,ej,e$,ez,eF,eq,eV,eH,eG,eW,eZ,eJ,eQ,eY,eX,e0,e1,e2,e4,e3,e5,e6,e8,e9,e7,te,tt,tr,ti,tn,to,ta,ts,tl,tu,tc,td,tp,tf,th,tm,tg,ty,tv,tb,tA,tw,t_,tS,tE,tT,tI,tx,tO,tC,tk,tN,tR,tP,tD,tU,tL,tK,tM,tB,tj,t$,tz,tF,tq,tV,tH,tG,tW,tZ,tJ,tQ,tY,tX,t0,t1,t2,t4,t3,t5,t6,t8,t9,t7,re,rt,rr,ri,rn,ro,ra,rs,rl,ru,rc,rd,rp,rf,rh,rm,rg,ry,rv,rb,rA,rw,r_,rS,rE,rT,rI,rx,rO,rC,rk,rN,rR,rP,rD,rU,rL,rK,rM,rB,rj,r$,rz,rF,rq,rV,rH,rG,rW,rZ,rJ,rQ,rY,rX,r0,r1,r2,r4,r3,r5,r6,r8,r9,r7,ie,it,ir,ii,io,ia,is,il,iu,ic,id,ip,ih,im,ig,iy,iv,ib,iA,iw,i_,iS,iE,iT,iI,ix,iO,iC,ik,iN,iR,iP,iD,iU,iL,iK,iM,iB,ij,i$,iz,iF,iq,iV,iH,iG,iW,iZ,iJ,iQ,iY,iX,i0,i1,i2,i4,i3,i5,i6,i8,i9,i7,ne,nt,nr,ni,nn,no,na,ns,nl,nu,nc,nd,np,nf,nh,nm,ng,ny,nv,nb,nA,nw,n_,nS,nE,nT,nI,nx,nO,nC,nk,nN,nR,nP,nD,nU,nL=e.i(853053);e.i(849436);var nK=e.i(87662);e.i(822381);var nM=e.i(577340);e.i(450900);var nB=e.i(731167);e.s([],147628),e.i(147628),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(i||(i={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(n||(n={}));let nj=i.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),n$=e=>{switch(typeof e){case"undefined":return nj.undefined;case"string":return nj.string;case"number":return Number.isNaN(e)?nj.nan:nj.number;case"boolean":return nj.boolean;case"function":return nj.function;case"bigint":return nj.bigint;case"symbol":return nj.symbol;case"object":if(Array.isArray(e))return nj.array;if(null===e)return nj.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return nj.promise;if("undefined"!=typeof Map&&e instanceof Map)return nj.map;if("undefined"!=typeof Set&&e instanceof Set)return nj.set;if("undefined"!=typeof Date&&e instanceof Date)return nj.date;return nj.object;default:return nj.unknown}};e.s(["ZodParsedType",0,nj,"getParsedType",0,n$,"objectUtil",()=>n,"util",()=>i],612836);let nz=i.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nF=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class nq extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof nq))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}nq.create=e=>new nq(e),e.s(["ZodError",()=>nq,"ZodIssueCode",0,nz,"quotelessJson",0,nF],10278);let nV=(e,t)=>{let r;switch(e.code){case nz.invalid_type:r=e.received===nj.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case nz.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.jsonStringifyReplacer)}`;break;case nz.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.joinValues(e.keys,", ")}`;break;case nz.invalid_union:r="Invalid input";break;case nz.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.joinValues(e.options)}`;break;case nz.invalid_enum_value:r=`Invalid enum value. Expected ${i.joinValues(e.options)}, received '${e.received}'`;break;case nz.invalid_arguments:r="Invalid function arguments";break;case nz.invalid_return_type:r="Invalid function return type";break;case nz.invalid_date:r="Invalid date";break;case nz.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case nz.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case nz.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case nz.custom:r="Invalid input";break;case nz.invalid_intersection_types:r="Intersection results could not be merged";break;case nz.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case nz.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.assertNever(e)}return{message:r}},nH=nV;function nG(e){nH=e}function nW(){return nH}e.s(["getErrorMap",()=>nW,"setErrorMap",()=>nG],510705),e.i(510705),e.s(["defaultErrorMap",0,nV,"getErrorMap",()=>nW,"setErrorMap",()=>nG],148366),e.i(148366);let nZ=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,o=[...r,...n.path||[]],a={...n,path:o};if(void 0!==n.message)return{...n,path:o,message:n.message};let s="";for(let e of i.filter(e=>!!e).slice().reverse())s=e(a,{data:t,defaultError:s}).message;return{...n,path:o,message:s}},nJ=[];function nQ(e,t){let r=nW(),i=nZ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===nV?void 0:nV].filter(e=>!!e)});e.common.issues.push(i)}class nY{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return nX;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return nY.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return nX;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let nX=Object.freeze({status:"aborted"}),n0=e=>({status:"dirty",value:e}),n1=e=>({status:"valid",value:e}),n2=e=>"aborted"===e.status,n4=e=>"dirty"===e.status,n3=e=>"valid"===e.status,n5=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,n0,"EMPTY_PATH",0,nJ,"INVALID",0,nX,"OK",0,n1,"ParseStatus",()=>nY,"addIssueToContext",()=>nQ,"isAborted",0,n2,"isAsync",0,n5,"isDirty",0,n4,"isValid",0,n3,"makeIssue",0,nZ],937314),e.i(937314),e.s([],998549),e.i(998549),e.i(612836),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(o||(o={}));class n6{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let n8=(e,t)=>{if(n3(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new nq(e.common.issues);return this._error=t,this._error}}};function n9(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:o}=e;return"invalid_enum_value"===t.code?{message:o??n.defaultError}:void 0===n.data?{message:o??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:o??r??n.defaultError}},description:n}}class n7{get description(){return this._def.description}_getType(e){return n$(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:n$(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nY,ctx:{common:e.parent.common,data:e.data,parsedType:n$(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(n5(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n$(e)},i=this._parseSync({data:e,path:r.path,parent:r});return n8(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n$(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return n3(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>n3(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n$(e)},i=this._parse({data:e,path:r.path,parent:r});return n8(r,await (n5(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let n=e(t),o=()=>i.addIssue({code:nz.custom,...r(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(o(),!1)):!!n||(o(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new o1({schema:this,typeName:a.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return o2.create(this,this._def)}nullable(){return o4.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oL.create(this)}promise(){return o0.create(this,this._def)}or(e){return oB.create([this,e],this._def)}and(e){return oF.create(this,e,this._def)}transform(e){return new o1({...n9(this._def),schema:this,typeName:a.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new o3({...n9(this._def),innerType:this,defaultValue:t,typeName:a.ZodDefault})}brand(){return new o9({typeName:a.ZodBranded,type:this,...n9(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new o5({...n9(this._def),innerType:this,catchValue:t,typeName:a.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return o7.create(this,e)}readonly(){return ae.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let oe=/^c[^\s-]{8,}$/i,ot=/^[0-9a-z]+$/,or=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oi=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,on=/^[a-z0-9_-]{21}$/i,oo=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oa=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,os=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ol="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ou=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,od=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,op=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,of=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,om="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",og=RegExp(`^${om}$`);function oy(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function ov(e){return RegExp(`^${oy(e)}$`)}function ob(e){let t=`${om}T${oy(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function oA(e,t){return!!(("v4"===t||!t)&&ou.test(e)||("v6"===t||!t)&&od.test(e))}function ow(e,t){if(!oo.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}function o_(e,t){return!!(("v4"===t||!t)&&oc.test(e)||("v6"===t||!t)&&op.test(e))}class oS extends n7{_parse(e){let r;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nj.string){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.string,received:t.parsedType}),nX}let n=new nY;for(let o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(nQ(r=this._getOrReturnCtx(e,r),{code:nz.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if("max"===o.kind)e.data.length>o.value&&(nQ(r=this._getOrReturnCtx(e,r),{code:nz.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if("length"===o.kind){let t=e.data.length>o.value,i=e.data.length<o.value;(t||i)&&(r=this._getOrReturnCtx(e,r),t?nQ(r,{code:nz.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&nQ(r,{code:nz.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if("email"===o.kind)os.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"email",code:nz.invalid_string,message:o.message}),n.dirty());else if("emoji"===o.kind)t||(t=RegExp(ol,"u")),t.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"emoji",code:nz.invalid_string,message:o.message}),n.dirty());else if("uuid"===o.kind)oi.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"uuid",code:nz.invalid_string,message:o.message}),n.dirty());else if("nanoid"===o.kind)on.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"nanoid",code:nz.invalid_string,message:o.message}),n.dirty());else if("cuid"===o.kind)oe.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"cuid",code:nz.invalid_string,message:o.message}),n.dirty());else if("cuid2"===o.kind)ot.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"cuid2",code:nz.invalid_string,message:o.message}),n.dirty());else if("ulid"===o.kind)or.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"ulid",code:nz.invalid_string,message:o.message}),n.dirty());else if("url"===o.kind)try{new URL(e.data)}catch{nQ(r=this._getOrReturnCtx(e,r),{validation:"url",code:nz.invalid_string,message:o.message}),n.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"regex",code:nz.invalid_string,message:o.message}),n.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(nQ(r=this._getOrReturnCtx(e,r),{code:nz.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(nQ(r=this._getOrReturnCtx(e,r),{code:nz.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(nQ(r=this._getOrReturnCtx(e,r),{code:nz.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):"datetime"===o.kind?ob(o).test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{code:nz.invalid_string,validation:"datetime",message:o.message}),n.dirty()):"date"===o.kind?og.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{code:nz.invalid_string,validation:"date",message:o.message}),n.dirty()):"time"===o.kind?ov(o).test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{code:nz.invalid_string,validation:"time",message:o.message}),n.dirty()):"duration"===o.kind?oa.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"duration",code:nz.invalid_string,message:o.message}),n.dirty()):"ip"===o.kind?oA(e.data,o.version)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"ip",code:nz.invalid_string,message:o.message}),n.dirty()):"jwt"===o.kind?ow(e.data,o.alg)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"jwt",code:nz.invalid_string,message:o.message}),n.dirty()):"cidr"===o.kind?o_(e.data,o.version)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"cidr",code:nz.invalid_string,message:o.message}),n.dirty()):"base64"===o.kind?of.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"base64",code:nz.invalid_string,message:o.message}),n.dirty()):"base64url"===o.kind?oh.test(e.data)||(nQ(r=this._getOrReturnCtx(e,r),{validation:"base64url",code:nz.invalid_string,message:o.message}),n.dirty()):i.assertNever(o);return{status:n.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:nz.invalid_string,...o.errToObj(r)})}_addCheck(e){return new oS({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...o.errToObj(e)})}url(e){return this._addCheck({kind:"url",...o.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...o.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...o.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...o.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...o.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...o.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...o.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...o.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...o.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...o.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...o.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...o.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...o.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...o.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...o.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...o.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...o.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...o.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...o.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...o.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...o.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...o.errToObj(t)})}nonempty(e){return this.min(1,o.errToObj(e))}trim(){return new oS({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oS({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oS({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function oE(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}oS.create=e=>new oS({checks:[],typeName:a.ZodString,coerce:e?.coerce??!1,...n9(e)});class oT extends n7{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nj.number){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.number,received:t.parsedType}),nX}let r=new nY;for(let n of this._def.checks)"int"===n.kind?i.isInteger(e.data)||(nQ(t=this._getOrReturnCtx(e,t),{code:nz.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==oE(e.data,n.value)&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(nQ(t=this._getOrReturnCtx(e,t),{code:nz.not_finite,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,i){return new oT({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(i)}]})}_addCheck(e){return new oT({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:o.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:o.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:o.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:o.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&i.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}oT.create=e=>new oT({checks:[],typeName:a.ZodNumber,coerce:e?.coerce||!1,...n9(e)});class oI extends n7{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==nj.bigint)return this._getInvalidInput(e);let r=new nY;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.bigint,received:t.parsedType}),nX}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,i){return new oI({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(i)}]})}_addCheck(e){return new oI({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}oI.create=e=>new oI({checks:[],typeName:a.ZodBigInt,coerce:e?.coerce??!1,...n9(e)});class ox extends n7{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nj.boolean){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.boolean,received:t.parsedType}),nX}return n1(e.data)}}ox.create=e=>new ox({typeName:a.ZodBoolean,coerce:e?.coerce||!1,...n9(e)});class oO extends n7{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nj.date){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.date,received:t.parsedType}),nX}if(Number.isNaN(e.data.getTime()))return nQ(this._getOrReturnCtx(e),{code:nz.invalid_date}),nX;let r=new nY;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(nQ(t=this._getOrReturnCtx(e,t),{code:nz.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):i.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oO({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:o.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:o.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}oO.create=e=>new oO({checks:[],coerce:e?.coerce||!1,typeName:a.ZodDate,...n9(e)});class oC extends n7{_parse(e){if(this._getType(e)!==nj.symbol){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.symbol,received:t.parsedType}),nX}return n1(e.data)}}oC.create=e=>new oC({typeName:a.ZodSymbol,...n9(e)});class ok extends n7{_parse(e){if(this._getType(e)!==nj.undefined){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.undefined,received:t.parsedType}),nX}return n1(e.data)}}ok.create=e=>new ok({typeName:a.ZodUndefined,...n9(e)});class oN extends n7{_parse(e){if(this._getType(e)!==nj.null){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.null,received:t.parsedType}),nX}return n1(e.data)}}oN.create=e=>new oN({typeName:a.ZodNull,...n9(e)});class oR extends n7{constructor(){super(...arguments),this._any=!0}_parse(e){return n1(e.data)}}oR.create=e=>new oR({typeName:a.ZodAny,...n9(e)});class oP extends n7{constructor(){super(...arguments),this._unknown=!0}_parse(e){return n1(e.data)}}oP.create=e=>new oP({typeName:a.ZodUnknown,...n9(e)});class oD extends n7{_parse(e){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.never,received:t.parsedType}),nX}}oD.create=e=>new oD({typeName:a.ZodNever,...n9(e)});class oU extends n7{_parse(e){if(this._getType(e)!==nj.undefined){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.void,received:t.parsedType}),nX}return n1(e.data)}}oU.create=e=>new oU({typeName:a.ZodVoid,...n9(e)});class oL extends n7{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==nj.array)return nQ(t,{code:nz.invalid_type,expected:nj.array,received:t.parsedType}),nX;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(nQ(t,{code:e?nz.too_big:nz.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(nQ(t,{code:nz.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(nQ(t,{code:nz.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new n6(t,e,t.path,r)))).then(e=>nY.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new n6(t,e,t.path,r)));return nY.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new oL({...this._def,minLength:{value:e,message:o.toString(t)}})}max(e,t){return new oL({...this._def,maxLength:{value:e,message:o.toString(t)}})}length(e,t){return new oL({...this._def,exactLength:{value:e,message:o.toString(t)}})}nonempty(e){return this.min(1,e)}}function oK(e){if(e instanceof oM){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=o2.create(oK(i))}return new oM({...e._def,shape:()=>t})}if(e instanceof oL)return new oL({...e._def,type:oK(e.element)});if(e instanceof o2)return o2.create(oK(e.unwrap()));if(e instanceof o4)return o4.create(oK(e.unwrap()));if(e instanceof oq)return oq.create(e.items.map(e=>oK(e)));else return e}oL.create=(e,t)=>new oL({type:e,minLength:null,maxLength:null,exactLength:null,typeName:a.ZodArray,...n9(t)});class oM extends n7{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=i.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==nj.object){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.object,received:t.parsedType}),nX}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof oD&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||o.push(e);let a=[];for(let e of n){let t=i[e],n=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new n6(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof oD){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of o)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&(nQ(r,{code:nz.unrecognized_keys,keys:o}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of o){let i=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new n6(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>nY.mergeObjectSync(t,e)):nY.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return o.errToObj,new oM({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:o.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new oM({...this._def,unknownKeys:"strip"})}passthrough(){return new oM({...this._def,unknownKeys:"passthrough"})}extend(e){return new oM({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oM({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:a.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new oM({...this._def,catchall:e})}pick(e){let t={};for(let r of i.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new oM({...this._def,shape:()=>t})}omit(e){let t={};for(let r of i.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new oM({...this._def,shape:()=>t})}deepPartial(){return oK(this)}partial(e){let t={};for(let r of i.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new oM({...this._def,shape:()=>t})}required(e){let t={};for(let r of i.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof o2;)e=e._def.innerType;t[r]=e}return new oM({...this._def,shape:()=>t})}keyof(){return oQ(i.objectKeys(this.shape))}}oM.create=(e,t)=>new oM({shape:()=>e,unknownKeys:"strip",catchall:oD.create(),typeName:a.ZodObject,...n9(t)}),oM.strictCreate=(e,t)=>new oM({shape:()=>e,unknownKeys:"strict",catchall:oD.create(),typeName:a.ZodObject,...n9(t)}),oM.lazycreate=(e,t)=>new oM({shape:e,unknownKeys:"strip",catchall:oD.create(),typeName:a.ZodObject,...n9(t)});class oB extends n7{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new nq(e.ctx.common.issues));return nQ(t,{code:nz.invalid_union,unionErrors:r}),nX}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},o=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new nq(e));return nQ(t,{code:nz.invalid_union,unionErrors:n}),nX}}get options(){return this._def.options}}oB.create=(e,t)=>new oB({options:e,typeName:a.ZodUnion,...n9(t)});let oj=e=>{if(e instanceof oZ)return oj(e.schema);if(e instanceof o1)return oj(e.innerType());if(e instanceof oJ)return[e.value];if(e instanceof oY)return e.options;if(e instanceof oX)return i.objectValues(e.enum);else if(e instanceof o3)return oj(e._def.innerType);else if(e instanceof ok)return[void 0];else if(e instanceof oN)return[null];else if(e instanceof o2)return[void 0,...oj(e.unwrap())];else if(e instanceof o4)return[null,...oj(e.unwrap())];else if(e instanceof o9)return oj(e.unwrap());else if(e instanceof ae)return oj(e.unwrap());else if(e instanceof o5)return oj(e._def.innerType);else return[]};class o$ extends n7{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nj.object)return nQ(t,{code:nz.invalid_type,expected:nj.object,received:t.parsedType}),nX;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(nQ(t,{code:nz.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),nX)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=oj(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new o$({typeName:a.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...n9(r)})}}function oz(e,t){let r=n$(e),n=n$(t);if(e===t)return{valid:!0,data:e};if(r===nj.object&&n===nj.object){let r=i.objectKeys(t),n=i.objectKeys(e).filter(e=>-1!==r.indexOf(e)),o={...e,...t};for(let r of n){let i=oz(e[r],t[r]);if(!i.valid)return{valid:!1};o[r]=i.data}return{valid:!0,data:o}}if(r===nj.array&&n===nj.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let n=oz(e[i],t[i]);if(!n.valid)return{valid:!1};r.push(n.data)}return{valid:!0,data:r}}if(r===nj.date&&n===nj.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class oF extends n7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(n2(e)||n2(i))return nX;let n=oz(e.value,i.value);return n.valid?((n4(e)||n4(i))&&t.dirty(),{status:t.value,value:n.data}):(nQ(r,{code:nz.invalid_intersection_types}),nX)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}oF.create=(e,t,r)=>new oF({left:e,right:t,typeName:a.ZodIntersection,...n9(r)});class oq extends n7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nj.array)return nQ(r,{code:nz.invalid_type,expected:nj.array,received:r.parsedType}),nX;if(r.data.length<this._def.items.length)return nQ(r,{code:nz.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nX;!this._def.rest&&r.data.length>this._def.items.length&&(nQ(r,{code:nz.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new n6(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>nY.mergeArray(t,e)):nY.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new oq({...this._def,rest:e})}}oq.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new oq({items:e,typeName:a.ZodTuple,rest:null,...n9(t)})};class oV extends n7{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nj.object)return nQ(r,{code:nz.invalid_type,expected:nj.object,received:r.parsedType}),nX;let i=[],n=this._def.keyType,o=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new n6(r,e,r.path,e)),value:o._parse(new n6(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?nY.mergeObjectAsync(t,i):nY.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new oV(t instanceof n7?{keyType:e,valueType:t,typeName:a.ZodRecord,...n9(r)}:{keyType:oS.create(),valueType:e,typeName:a.ZodRecord,...n9(t)})}}class oH extends n7{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nj.map)return nQ(r,{code:nz.invalid_type,expected:nj.map,received:r.parsedType}),nX;let i=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([e,t],o)=>({key:i._parse(new n6(r,e,r.path,[o,"key"])),value:n._parse(new n6(r,t,r.path,[o,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return nX;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return nX;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}oH.create=(e,t,r)=>new oH({valueType:t,keyType:e,typeName:a.ZodMap,...n9(r)});class oG extends n7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nj.set)return nQ(r,{code:nz.invalid_type,expected:nj.set,received:r.parsedType}),nX;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(nQ(r,{code:nz.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(nQ(r,{code:nz.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function o(e){let r=new Set;for(let i of e){if("aborted"===i.status)return nX;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>n._parse(new n6(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>o(e)):o(a)}min(e,t){return new oG({...this._def,minSize:{value:e,message:o.toString(t)}})}max(e,t){return new oG({...this._def,maxSize:{value:e,message:o.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}oG.create=(e,t)=>new oG({valueType:e,minSize:null,maxSize:null,typeName:a.ZodSet,...n9(t)});class oW extends n7{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nj.function)return nQ(t,{code:nz.invalid_type,expected:nj.function,received:t.parsedType}),nX;function r(e,r){return nZ({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nW(),nV].filter(e=>!!e),issueData:{code:nz.invalid_arguments,argumentsError:r}})}function i(e,r){return nZ({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nW(),nV].filter(e=>!!e),issueData:{code:nz.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof o0){let e=this;return n1(async function(...t){let a=new nq([]),s=await e._def.args.parseAsync(t,n).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(o,this,s);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw a.addIssue(i(l,e)),a})})}{let e=this;return n1(function(...t){let a=e._def.args.safeParse(t,n);if(!a.success)throw new nq([r(t,a.error)]);let s=Reflect.apply(o,this,a.data),l=e._def.returns.safeParse(s,n);if(!l.success)throw new nq([i(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new oW({...this._def,args:oq.create(e).rest(oP.create())})}returns(e){return new oW({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new oW({args:e||oq.create([]).rest(oP.create()),returns:t||oP.create(),typeName:a.ZodFunction,...n9(r)})}}class oZ extends n7{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}oZ.create=(e,t)=>new oZ({getter:e,typeName:a.ZodLazy,...n9(t)});class oJ extends n7{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return nQ(t,{received:t.data,code:nz.invalid_literal,expected:this._def.value}),nX}return{status:"valid",value:e.data}}get value(){return this._def.value}}function oQ(e,t){return new oY({values:e,typeName:a.ZodEnum,...n9(t)})}oJ.create=(e,t)=>new oJ({value:e,typeName:a.ZodLiteral,...n9(t)});class oY extends n7{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return nQ(t,{expected:i.joinValues(r),received:t.parsedType,code:nz.invalid_type}),nX}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return nQ(t,{received:t.data,code:nz.invalid_enum_value,options:r}),nX}return n1(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return oY.create(e,{...this._def,...t})}exclude(e,t=this._def){return oY.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}oY.create=oQ;class oX extends n7{_parse(e){let t=i.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==nj.string&&r.parsedType!==nj.number){let e=i.objectValues(t);return nQ(r,{expected:i.joinValues(e),received:r.parsedType,code:nz.invalid_type}),nX}if(this._cache||(this._cache=new Set(i.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=i.objectValues(t);return nQ(r,{received:r.data,code:nz.invalid_enum_value,options:e}),nX}return n1(e.data)}get enum(){return this._def.values}}oX.create=(e,t)=>new oX({values:e,typeName:a.ZodNativeEnum,...n9(t)});class o0 extends n7{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==nj.promise&&!1===t.common.async?(nQ(t,{code:nz.invalid_type,expected:nj.promise,received:t.parsedType}),nX):n1((t.parsedType===nj.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}o0.create=(e,t)=>new o0({type:e,typeName:a.ZodPromise,...n9(t)});class o1 extends n7{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===a.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,o={addIssue:e=>{nQ(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===n.type){let e=n.transform(r.data,o);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return nX;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?nX:"dirty"===i.status||"dirty"===t.value?n0(i.value):i});{if("aborted"===t.value)return nX;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?nX:"dirty"===i.status||"dirty"===t.value?n0(i.value):i}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,o);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?nX:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?nX:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>n3(e)?Promise.resolve(n.transform(e.value,o)).then(e=>({status:t.value,value:e})):nX);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!n3(e))return nX;let i=n.transform(e.value,o);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}i.assertNever(n)}}o1.create=(e,t,r)=>new o1({schema:e,typeName:a.ZodEffects,effect:t,...n9(r)}),o1.createWithPreprocess=(e,t,r)=>new o1({schema:t,effect:{type:"preprocess",transform:e},typeName:a.ZodEffects,...n9(r)});class o2 extends n7{_parse(e){return this._getType(e)===nj.undefined?n1(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}o2.create=(e,t)=>new o2({innerType:e,typeName:a.ZodOptional,...n9(t)});class o4 extends n7{_parse(e){return this._getType(e)===nj.null?n1(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}o4.create=(e,t)=>new o4({innerType:e,typeName:a.ZodNullable,...n9(t)});class o3 extends n7{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===nj.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}o3.create=(e,t)=>new o3({innerType:e,typeName:a.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...n9(t)});class o5 extends n7{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return n5(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new nq(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new nq(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}o5.create=(e,t)=>new o5({innerType:e,typeName:a.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...n9(t)});class o6 extends n7{_parse(e){if(this._getType(e)!==nj.nan){let t=this._getOrReturnCtx(e);return nQ(t,{code:nz.invalid_type,expected:nj.nan,received:t.parsedType}),nX}return{status:"valid",value:e.data}}}o6.create=e=>new o6({typeName:a.ZodNaN,...n9(e)});let o8=Symbol("zod_brand");class o9 extends n7{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class o7 extends n7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?nX:"dirty"===e.status?(t.dirty(),n0(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?nX:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new o7({in:e,out:t,typeName:a.ZodPipeline})}}class ae extends n7{_parse(e){let t=this._def.innerType._parse(e),r=e=>(n3(e)&&(e.value=Object.freeze(e.value)),e);return n5(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function at(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ar(e,t={},r){return e?oR.create().superRefine((i,n)=>{let o=e(i);if(o instanceof Promise)return o.then(e=>{if(!e){let e=at(t,i),o=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=at(t,i),o=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:o})}}):oR.create()}ae.create=(e,t)=>new ae({innerType:e,typeName:a.ZodReadonly,...n9(t)});let ai={object:oM.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(a||(a={}));let an=(e,t={message:`Input not instance of ${e.name}`})=>ar(t=>t instanceof e,t),ao=oS.create,aa=oT.create,as=o6.create,al=oI.create,au=ox.create,ac=oO.create,ad=oC.create,ap=ok.create,af=oN.create,ah=oR.create,am=oP.create,ag=oD.create,ay=oU.create,av=oL.create,ab=oM.create,aA=oM.strictCreate,aw=oB.create,a_=o$.create,aS=oF.create,aE=oq.create,aT=oV.create,aI=oH.create,ax=oG.create,aO=oW.create,aC=oZ.create,ak=oJ.create,aN=oY.create,aR=oX.create,aP=o0.create,aD=o1.create,aU=o2.create,aL=o4.create,aK=o1.createWithPreprocess,aM=o7.create,aB=()=>ao().optional(),aj=()=>aa().optional(),a$=()=>au().optional(),az={string:e=>oS.create({...e,coerce:!0}),number:e=>oT.create({...e,coerce:!0}),boolean:e=>ox.create({...e,coerce:!0}),bigint:e=>oI.create({...e,coerce:!0}),date:e=>oO.create({...e,coerce:!0})},aF=nX;e.s(["BRAND",0,o8,"NEVER",0,aF,"Schema",()=>n7,"ZodAny",()=>oR,"ZodArray",()=>oL,"ZodBigInt",()=>oI,"ZodBoolean",()=>ox,"ZodBranded",()=>o9,"ZodCatch",()=>o5,"ZodDate",()=>oO,"ZodDefault",()=>o3,"ZodDiscriminatedUnion",()=>o$,"ZodEffects",()=>o1,"ZodEnum",()=>oY,"ZodFirstPartyTypeKind",()=>a,"ZodFunction",()=>oW,"ZodIntersection",()=>oF,"ZodLazy",()=>oZ,"ZodLiteral",()=>oJ,"ZodMap",()=>oH,"ZodNaN",()=>o6,"ZodNativeEnum",()=>oX,"ZodNever",()=>oD,"ZodNull",()=>oN,"ZodNullable",()=>o4,"ZodNumber",()=>oT,"ZodObject",()=>oM,"ZodOptional",()=>o2,"ZodPipeline",()=>o7,"ZodPromise",()=>o0,"ZodReadonly",()=>ae,"ZodRecord",()=>oV,"ZodSchema",()=>n7,"ZodSet",()=>oG,"ZodString",()=>oS,"ZodSymbol",()=>oC,"ZodTransformer",()=>o1,"ZodTuple",()=>oq,"ZodType",()=>n7,"ZodUndefined",()=>ok,"ZodUnion",()=>oB,"ZodUnknown",()=>oP,"ZodVoid",()=>oU,"any",()=>ah,"array",()=>av,"bigint",()=>al,"boolean",()=>au,"coerce",0,az,"custom",()=>ar,"date",()=>ac,"datetimeRegex",()=>ob,"discriminatedUnion",()=>a_,"effect",()=>aD,"enum",()=>aN,"function",()=>aO,"instanceof",()=>an,"intersection",()=>aS,"late",0,ai,"lazy",()=>aC,"literal",()=>ak,"map",()=>aI,"nan",()=>as,"nativeEnum",()=>aR,"never",()=>ag,"null",()=>af,"nullable",()=>aL,"number",()=>aa,"object",()=>ab,"oboolean",()=>a$,"onumber",()=>aj,"optional",()=>aU,"ostring",()=>aB,"pipeline",()=>aM,"preprocess",()=>aK,"promise",()=>aP,"record",()=>aT,"set",()=>ax,"strictObject",()=>aA,"string",()=>ao,"symbol",()=>ad,"transformer",()=>aD,"tuple",()=>aE,"undefined",()=>ap,"union",()=>aw,"unknown",()=>am,"void",()=>ay],890791),e.i(890791),e.i(10278),e.s(["BRAND",0,o8,"DIRTY",0,n0,"EMPTY_PATH",0,nJ,"INVALID",0,nX,"NEVER",0,aF,"OK",0,n1,"ParseStatus",()=>nY,"Schema",()=>n7,"ZodAny",()=>oR,"ZodArray",()=>oL,"ZodBigInt",()=>oI,"ZodBoolean",()=>ox,"ZodBranded",()=>o9,"ZodCatch",()=>o5,"ZodDate",()=>oO,"ZodDefault",()=>o3,"ZodDiscriminatedUnion",()=>o$,"ZodEffects",()=>o1,"ZodEnum",()=>oY,"ZodError",()=>nq,"ZodFirstPartyTypeKind",()=>a,"ZodFunction",()=>oW,"ZodIntersection",()=>oF,"ZodIssueCode",0,nz,"ZodLazy",()=>oZ,"ZodLiteral",()=>oJ,"ZodMap",()=>oH,"ZodNaN",()=>o6,"ZodNativeEnum",()=>oX,"ZodNever",()=>oD,"ZodNull",()=>oN,"ZodNullable",()=>o4,"ZodNumber",()=>oT,"ZodObject",()=>oM,"ZodOptional",()=>o2,"ZodParsedType",0,nj,"ZodPipeline",()=>o7,"ZodPromise",()=>o0,"ZodReadonly",()=>ae,"ZodRecord",()=>oV,"ZodSchema",()=>n7,"ZodSet",()=>oG,"ZodString",()=>oS,"ZodSymbol",()=>oC,"ZodTransformer",()=>o1,"ZodTuple",()=>oq,"ZodType",()=>n7,"ZodUndefined",()=>ok,"ZodUnion",()=>oB,"ZodUnknown",()=>oP,"ZodVoid",()=>oU,"addIssueToContext",()=>nQ,"any",()=>ah,"array",()=>av,"bigint",()=>al,"boolean",()=>au,"coerce",0,az,"custom",()=>ar,"date",()=>ac,"datetimeRegex",()=>ob,"defaultErrorMap",0,nV,"discriminatedUnion",()=>a_,"effect",()=>aD,"enum",()=>aN,"function",()=>aO,"getErrorMap",()=>nW,"getParsedType",0,n$,"instanceof",()=>an,"intersection",()=>aS,"isAborted",0,n2,"isAsync",0,n5,"isDirty",0,n4,"isValid",0,n3,"late",0,ai,"lazy",()=>aC,"literal",()=>ak,"makeIssue",0,nZ,"map",()=>aI,"nan",()=>as,"nativeEnum",()=>aR,"never",()=>ag,"null",()=>af,"nullable",()=>aL,"number",()=>aa,"object",()=>ab,"objectUtil",()=>n,"oboolean",()=>a$,"onumber",()=>aj,"optional",()=>aU,"ostring",()=>aB,"pipeline",()=>aM,"preprocess",()=>aK,"promise",()=>aP,"quotelessJson",0,nF,"record",()=>aT,"set",()=>ax,"setErrorMap",()=>nG,"strictObject",()=>aA,"string",()=>ao,"symbol",()=>ad,"transformer",()=>aD,"tuple",()=>aE,"undefined",()=>ap,"union",()=>aw,"unknown",()=>am,"util",()=>i,"void",()=>ay],815781);var aq=e.i(815781),aq=aq;let aV=e=>{let t=e.dubClient,r=e.oauth?(0,nB.genericOAuth)({config:[{providerId:"dub",authorizationUrl:"https://app.dub.co/oauth/authorize",tokenUrl:"https://api.dub.co/oauth/token",clientId:e.oauth?.clientId,clientSecret:e.oauth?.clientSecret,pkce:e.oauth?.pkce===void 0||e.oauth.pkce}]}):void 0;return{id:"dub",endpoints:{linkDub:(0,nM.createAuthEndpoint)("/dub/link",{method:"POST",body:aq.object({callbackURL:aq.string().url()})},async e=>{if(!r)throw e.error("NOT_FOUND",{message:"Dub OAuth is not configured"});return await r.endpoints.oAuth2LinkAccount({...e,body:{providerId:"dub",callbackURL:e.body.callbackURL}})})},init:()=>({options:{databaseHooks:{user:{create:{after:async(r,i)=>{let n=i?.getCookie("dub_id");n&&!e.disableLeadTracking&&i&&(e.customLeadTrack?await e.customLeadTrack(r,i):await t.track.lead({clickId:n,eventName:e.leadEventName||"Sign Up",customerExternalId:r.id,customerName:r.name,customerEmail:r.email,customerAvatar:r.image}).catch(e=>{nK.logger.error(e)}),i?.setCookie("dub_id","",{expires:new Date(0),maxAge:0}))}}}}}})}},aH={beforeRequest:async(e,t)=>{if(t.headers.get("Authorization"))return t;let r="";if("undefined"!=typeof process&&(r=process.env.DUB_API_KEY??""),!r)throw Error("The DUB_API_KEY environment variable is missing or empty; either provide it, or instantiate the Dub client with an token option, like new Dub({ token: 'My Token' }).");return t.headers.set("Authorization",`Bearer ${r}`),t}},aG={beforeRequest:async(e,t)=>{let r="";if("undefined"!=typeof process&&(r=process.env.DUB_BASE_URL??""),!r)return t;let i=new URL(t.url),n=new URL(r);return i.protocol=n.protocol,i.host=n.host,i.port=n.port,i.username=n.username,i.password=n.password,new Request(i.toString(),t)}};function aW(e){e.registerBeforeRequestHook(aH),e.registerBeforeRequestHook(aG)}class aZ{constructor(){for(const e of(this.sdkInitHooks=[],this.beforeCreateRequestHooks=[],this.beforeRequestHooks=[],this.afterSuccessHooks=[],this.afterErrorHooks=[],[]))"sdkInit"in e&&this.registerSDKInitHook(e),"beforeCreateRequest"in e&&this.registerBeforeCreateRequestHook(e),"beforeRequest"in e&&this.registerBeforeRequestHook(e),"afterSuccess"in e&&this.registerAfterSuccessHook(e),"afterError"in e&&this.registerAfterErrorHook(e);aW(this)}registerSDKInitHook(e){this.sdkInitHooks.push(e)}registerBeforeCreateRequestHook(e){this.beforeCreateRequestHooks.push(e)}registerBeforeRequestHook(e){this.beforeRequestHooks.push(e)}registerAfterSuccessHook(e){this.afterSuccessHooks.push(e)}registerAfterErrorHook(e){this.afterErrorHooks.push(e)}sdkInit(e){return this.sdkInitHooks.reduce((e,t)=>t.sdkInit(e),e)}beforeCreateRequest(e,t){let r=t;for(let t of this.beforeCreateRequestHooks)r=t.beforeCreateRequest(e,r);return r}async beforeRequest(e,t){let r=t;for(let t of this.beforeRequestHooks)r=await t.beforeRequest(e,r);return r}async afterSuccess(e,t){let r=t;for(let t of this.afterSuccessHooks)r=await t.afterSuccess(e,r);return r}async afterError(e,t,r){let i=t,n=r;for(let t of this.afterErrorHooks){let r=await t.afterError(e,i,n);i=r.response,n=r.error}return{response:i,error:n}}}class aJ extends Error{constructor(e,t){let r=e;t?.cause&&(r+=`: ${t.cause}`),super(r,t),this.name="HTTPClientError",void 0===this.cause&&(this.cause=t?.cause)}}class aQ extends aJ{constructor(){super(...arguments),this.name="UnexpectedClientError"}}class aY extends aJ{constructor(){super(...arguments),this.name="InvalidRequestError"}}class aX extends aJ{constructor(){super(...arguments),this.name="RequestAbortedError"}}class a0 extends aJ{constructor(){super(...arguments),this.name="RequestTimeoutError"}}class a1 extends aJ{constructor(){super(...arguments),this.name="ConnectionError"}}function a2(e){return{ok:!0,value:e}}function a4(e){return{ok:!1,error:e}}async function a3(e){let t=await e;if(!t.ok)throw t.error;return t.value}!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(s||(s={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(l||(l={}));let a5=s.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a6=e=>{switch(typeof e){case"undefined":return a5.undefined;case"string":return a5.string;case"number":return Number.isNaN(e)?a5.nan:a5.number;case"boolean":return a5.boolean;case"function":return a5.function;case"bigint":return a5.bigint;case"symbol":return a5.symbol;case"object":if(Array.isArray(e))return a5.array;if(null===e)return a5.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return a5.promise;if("undefined"!=typeof Map&&e instanceof Map)return a5.map;if("undefined"!=typeof Set&&e instanceof Set)return a5.set;if("undefined"!=typeof Date&&e instanceof Date)return a5.date;return a5.object;default:return a5.unknown}},a8=s.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class a9 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof a9))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,s.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}a9.create=e=>new a9(e);let a7=(e,t)=>{let r;switch(e.code){case a8.invalid_type:r=e.received===a5.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case a8.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,s.jsonStringifyReplacer)}`;break;case a8.unrecognized_keys:r=`Unrecognized key(s) in object: ${s.joinValues(e.keys,", ")}`;break;case a8.invalid_union:r="Invalid input";break;case a8.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${s.joinValues(e.options)}`;break;case a8.invalid_enum_value:r=`Invalid enum value. Expected ${s.joinValues(e.options)}, received '${e.received}'`;break;case a8.invalid_arguments:r="Invalid function arguments";break;case a8.invalid_return_type:r="Invalid function return type";break;case a8.invalid_date:r="Invalid date";break;case a8.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:s.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case a8.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case a8.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case a8.custom:r="Invalid input";break;case a8.invalid_intersection_types:r="Intersection results could not be merged";break;case a8.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case a8.not_finite:r="Number must be finite";break;default:r=t.defaultError,s.assertNever(e)}return{message:r}},se=a7;function st(){return se}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(u||(u={}));let sr=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,o=[...r,...n.path||[]],a={...n,path:o};if(void 0!==n.message)return{...n,path:o,message:n.message};let s="";for(let e of i.filter(e=>!!e).slice().reverse())s=e(a,{data:t,defaultError:s}).message;return{...n,path:o,message:s}};function si(e,t){let r=st(),i=sr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===a7?void 0:a7].filter(e=>!!e)});e.common.issues.push(i)}class sn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return so;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return sn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return so;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let so=Object.freeze({status:"aborted"}),sa=e=>({status:"dirty",value:e}),ss=e=>({status:"valid",value:e}),sl=e=>"aborted"===e.status,su=e=>"dirty"===e.status,sc=e=>"valid"===e.status,sd=e=>"undefined"!=typeof Promise&&e instanceof Promise;class sp{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let sf=(e,t)=>{if(sc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new a9(e.common.issues);return this._error=t,this._error}}};function sh(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:o}=e;return"invalid_enum_value"===t.code?{message:o??n.defaultError}:void 0===n.data?{message:o??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:o??r??n.defaultError}},description:n}}class sm{get description(){return this._def.description}_getType(e){return a6(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a6(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sn,ctx:{common:e.parent.common,data:e.data,parsedType:a6(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(sd(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a6(e)},i=this._parseSync({data:e,path:r.path,parent:r});return sf(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a6(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return sc(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>sc(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a6(e)},i=this._parse({data:e,path:r.path,parent:r});return sf(r,await (sd(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let n=e(t),o=()=>i.addIssue({code:a8.custom,...r(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(o(),!1)):!!n||(o(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new ls({schema:this,typeName:c.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ll.create(this,this._def)}nullable(){return lu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sY.create(this)}promise(){return la.create(this,this._def)}or(e){return s1.create([this,e],this._def)}and(e){return s5.create(this,e,this._def)}transform(e){return new ls({...sh(this._def),schema:this,typeName:c.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new lc({...sh(this._def),innerType:this,defaultValue:t,typeName:c.ZodDefault})}brand(){return new lf({typeName:c.ZodBranded,type:this,...sh(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new ld({...sh(this._def),innerType:this,catchValue:t,typeName:c.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return lh.create(this,e)}readonly(){return lm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let sg=/^c[^\s-]{8,}$/i,sy=/^[0-9a-z]+$/,sv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sA=/^[a-z0-9_-]{21}$/i,sw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,s_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",sT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sR=RegExp(`^${sN}$`);function sP(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function sD(e){return RegExp(`^${sP(e)}$`)}function sU(e){let t=`${sN}T${sP(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function sL(e,t){return!!(("v4"===t||!t)&&sT.test(e)||("v6"===t||!t)&&sx.test(e))}function sK(e,t){if(!sw.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}function sM(e,t){return!!(("v4"===t||!t)&&sI.test(e)||("v6"===t||!t)&&sO.test(e))}class sB extends sm{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==a5.string){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.string,received:t.parsedType}),so}let i=new sn;for(let n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),i.dirty());else if("max"===n.kind)e.data.length>n.value&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),i.dirty());else if("length"===n.kind){let r=e.data.length>n.value,o=e.data.length<n.value;(r||o)&&(t=this._getOrReturnCtx(e,t),r?si(t,{code:a8.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&si(t,{code:a8.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),i.dirty())}else if("email"===n.kind)sS.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"email",code:a8.invalid_string,message:n.message}),i.dirty());else if("emoji"===n.kind)r||(r=RegExp(sE,"u")),r.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:a8.invalid_string,message:n.message}),i.dirty());else if("uuid"===n.kind)sb.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:a8.invalid_string,message:n.message}),i.dirty());else if("nanoid"===n.kind)sA.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:a8.invalid_string,message:n.message}),i.dirty());else if("cuid"===n.kind)sg.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:a8.invalid_string,message:n.message}),i.dirty());else if("cuid2"===n.kind)sy.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:a8.invalid_string,message:n.message}),i.dirty());else if("ulid"===n.kind)sv.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:a8.invalid_string,message:n.message}),i.dirty());else if("url"===n.kind)try{new URL(e.data)}catch{si(t=this._getOrReturnCtx(e,t),{validation:"url",code:a8.invalid_string,message:n.message}),i.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,n.regex.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"regex",code:a8.invalid_string,message:n.message}),i.dirty())):"trim"===n.kind?e.data=e.data.trim():"includes"===n.kind?e.data.includes(n.value,n.position)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),i.dirty()):"toLowerCase"===n.kind?e.data=e.data.toLowerCase():"toUpperCase"===n.kind?e.data=e.data.toUpperCase():"startsWith"===n.kind?e.data.startsWith(n.value)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_string,validation:{startsWith:n.value},message:n.message}),i.dirty()):"endsWith"===n.kind?e.data.endsWith(n.value)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_string,validation:{endsWith:n.value},message:n.message}),i.dirty()):"datetime"===n.kind?sU(n).test(e.data)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_string,validation:"datetime",message:n.message}),i.dirty()):"date"===n.kind?sR.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_string,validation:"date",message:n.message}),i.dirty()):"time"===n.kind?sD(n).test(e.data)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_string,validation:"time",message:n.message}),i.dirty()):"duration"===n.kind?s_.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"duration",code:a8.invalid_string,message:n.message}),i.dirty()):"ip"===n.kind?sL(e.data,n.version)||(si(t=this._getOrReturnCtx(e,t),{validation:"ip",code:a8.invalid_string,message:n.message}),i.dirty()):"jwt"===n.kind?sK(e.data,n.alg)||(si(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:a8.invalid_string,message:n.message}),i.dirty()):"cidr"===n.kind?sM(e.data,n.version)||(si(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:a8.invalid_string,message:n.message}),i.dirty()):"base64"===n.kind?sC.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"base64",code:a8.invalid_string,message:n.message}),i.dirty()):"base64url"===n.kind?sk.test(e.data)||(si(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:a8.invalid_string,message:n.message}),i.dirty()):s.assertNever(n);return{status:i.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:a8.invalid_string,...u.errToObj(r)})}_addCheck(e){return new sB({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...u.errToObj(e)})}url(e){return this._addCheck({kind:"url",...u.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...u.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...u.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...u.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...u.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...u.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...u.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...u.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...u.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...u.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...u.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...u.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...u.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...u.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...u.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...u.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...u.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...u.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...u.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...u.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...u.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...u.errToObj(t)})}nonempty(e){return this.min(1,u.errToObj(e))}trim(){return new sB({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sB({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sB({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function sj(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}sB.create=e=>new sB({checks:[],typeName:c.ZodString,coerce:e?.coerce??!1,...sh(e)});class s$ extends sm{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==a5.number){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.number,received:t.parsedType}),so}let r=new sn;for(let i of this._def.checks)"int"===i.kind?s.isInteger(e.data)||(si(t=this._getOrReturnCtx(e,t),{code:a8.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==sj(e.data,i.value)&&(si(t=this._getOrReturnCtx(e,t),{code:a8.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(si(t=this._getOrReturnCtx(e,t),{code:a8.not_finite,message:i.message}),r.dirty()):s.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,u.toString(t))}gt(e,t){return this.setLimit("min",e,!1,u.toString(t))}lte(e,t){return this.setLimit("max",e,!0,u.toString(t))}lt(e,t){return this.setLimit("max",e,!1,u.toString(t))}setLimit(e,t,r,i){return new s$({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:u.toString(i)}]})}_addCheck(e){return new s$({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:u.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:u.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:u.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:u.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:u.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:u.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:u.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:u.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:u.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&s.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}s$.create=e=>new s$({checks:[],typeName:c.ZodNumber,coerce:e?.coerce||!1,...sh(e)});class sz extends sm{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==a5.bigint)return this._getInvalidInput(e);let r=new sn;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(si(t=this._getOrReturnCtx(e,t),{code:a8.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):s.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.bigint,received:t.parsedType}),so}gte(e,t){return this.setLimit("min",e,!0,u.toString(t))}gt(e,t){return this.setLimit("min",e,!1,u.toString(t))}lte(e,t){return this.setLimit("max",e,!0,u.toString(t))}lt(e,t){return this.setLimit("max",e,!1,u.toString(t))}setLimit(e,t,r,i){return new sz({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:u.toString(i)}]})}_addCheck(e){return new sz({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:u.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:u.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:u.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:u.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:u.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}sz.create=e=>new sz({checks:[],typeName:c.ZodBigInt,coerce:e?.coerce??!1,...sh(e)});class sF extends sm{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==a5.boolean){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.boolean,received:t.parsedType}),so}return ss(e.data)}}sF.create=e=>new sF({typeName:c.ZodBoolean,coerce:e?.coerce||!1,...sh(e)});class sq extends sm{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==a5.date){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.date,received:t.parsedType}),so}if(Number.isNaN(e.data.getTime()))return si(this._getOrReturnCtx(e),{code:a8.invalid_date}),so;let r=new sn;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(si(t=this._getOrReturnCtx(e,t),{code:a8.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):s.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sq({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:u.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:u.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}sq.create=e=>new sq({checks:[],coerce:e?.coerce||!1,typeName:c.ZodDate,...sh(e)});class sV extends sm{_parse(e){if(this._getType(e)!==a5.symbol){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.symbol,received:t.parsedType}),so}return ss(e.data)}}sV.create=e=>new sV({typeName:c.ZodSymbol,...sh(e)});class sH extends sm{_parse(e){if(this._getType(e)!==a5.undefined){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.undefined,received:t.parsedType}),so}return ss(e.data)}}sH.create=e=>new sH({typeName:c.ZodUndefined,...sh(e)});class sG extends sm{_parse(e){if(this._getType(e)!==a5.null){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.null,received:t.parsedType}),so}return ss(e.data)}}sG.create=e=>new sG({typeName:c.ZodNull,...sh(e)});class sW extends sm{constructor(){super(...arguments),this._any=!0}_parse(e){return ss(e.data)}}sW.create=e=>new sW({typeName:c.ZodAny,...sh(e)});class sZ extends sm{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ss(e.data)}}sZ.create=e=>new sZ({typeName:c.ZodUnknown,...sh(e)});class sJ extends sm{_parse(e){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.never,received:t.parsedType}),so}}sJ.create=e=>new sJ({typeName:c.ZodNever,...sh(e)});class sQ extends sm{_parse(e){if(this._getType(e)!==a5.undefined){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.void,received:t.parsedType}),so}return ss(e.data)}}sQ.create=e=>new sQ({typeName:c.ZodVoid,...sh(e)});class sY extends sm{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==a5.array)return si(t,{code:a8.invalid_type,expected:a5.array,received:t.parsedType}),so;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(si(t,{code:e?a8.too_big:a8.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(si(t,{code:a8.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(si(t,{code:a8.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new sp(t,e,t.path,r)))).then(e=>sn.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new sp(t,e,t.path,r)));return sn.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new sY({...this._def,minLength:{value:e,message:u.toString(t)}})}max(e,t){return new sY({...this._def,maxLength:{value:e,message:u.toString(t)}})}length(e,t){return new sY({...this._def,exactLength:{value:e,message:u.toString(t)}})}nonempty(e){return this.min(1,e)}}function sX(e){if(e instanceof s0){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=ll.create(sX(i))}return new s0({...e._def,shape:()=>t})}if(e instanceof sY)return new sY({...e._def,type:sX(e.element)});if(e instanceof ll)return ll.create(sX(e.unwrap()));if(e instanceof lu)return lu.create(sX(e.unwrap()));if(e instanceof s6)return s6.create(e.items.map(e=>sX(e)));else return e}sY.create=(e,t)=>new sY({type:e,minLength:null,maxLength:null,exactLength:null,typeName:c.ZodArray,...sh(t)});class s0 extends sm{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=s.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==a5.object){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.object,received:t.parsedType}),so}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof sJ&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||o.push(e);let a=[];for(let e of n){let t=i[e],n=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new sp(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof sJ){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of o)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&(si(r,{code:a8.unrecognized_keys,keys:o}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of o){let i=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new sp(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>sn.mergeObjectSync(t,e)):sn.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return u.errToObj,new s0({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:u.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new s0({...this._def,unknownKeys:"strip"})}passthrough(){return new s0({...this._def,unknownKeys:"passthrough"})}extend(e){return new s0({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new s0({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:c.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new s0({...this._def,catchall:e})}pick(e){let t={};for(let r of s.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new s0({...this._def,shape:()=>t})}omit(e){let t={};for(let r of s.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new s0({...this._def,shape:()=>t})}deepPartial(){return sX(this)}partial(e){let t={};for(let r of s.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new s0({...this._def,shape:()=>t})}required(e){let t={};for(let r of s.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ll;)e=e._def.innerType;t[r]=e}return new s0({...this._def,shape:()=>t})}keyof(){return li(s.objectKeys(this.shape))}}s0.create=(e,t)=>new s0({shape:()=>e,unknownKeys:"strip",catchall:sJ.create(),typeName:c.ZodObject,...sh(t)}),s0.strictCreate=(e,t)=>new s0({shape:()=>e,unknownKeys:"strict",catchall:sJ.create(),typeName:c.ZodObject,...sh(t)}),s0.lazycreate=(e,t)=>new s0({shape:e,unknownKeys:"strip",catchall:sJ.create(),typeName:c.ZodObject,...sh(t)});class s1 extends sm{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new a9(e.ctx.common.issues));return si(t,{code:a8.invalid_union,unionErrors:r}),so}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},o=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new a9(e));return si(t,{code:a8.invalid_union,unionErrors:n}),so}}get options(){return this._def.options}}s1.create=(e,t)=>new s1({options:e,typeName:c.ZodUnion,...sh(t)});let s2=e=>{if(e instanceof lt)return s2(e.schema);if(e instanceof ls)return s2(e.innerType());if(e instanceof lr)return[e.value];if(e instanceof ln)return e.options;if(e instanceof lo)return s.objectValues(e.enum);else if(e instanceof lc)return s2(e._def.innerType);else if(e instanceof sH)return[void 0];else if(e instanceof sG)return[null];else if(e instanceof ll)return[void 0,...s2(e.unwrap())];else if(e instanceof lu)return[null,...s2(e.unwrap())];else if(e instanceof lf)return s2(e.unwrap());else if(e instanceof lm)return s2(e.unwrap());else if(e instanceof ld)return s2(e._def.innerType);else return[]};class s4 extends sm{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a5.object)return si(t,{code:a8.invalid_type,expected:a5.object,received:t.parsedType}),so;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(si(t,{code:a8.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),so)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=s2(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new s4({typeName:c.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...sh(r)})}}function s3(e,t){let r=a6(e),i=a6(t);if(e===t)return{valid:!0,data:e};if(r===a5.object&&i===a5.object){let r=s.objectKeys(t),i=s.objectKeys(e).filter(e=>-1!==r.indexOf(e)),n={...e,...t};for(let r of i){let i=s3(e[r],t[r]);if(!i.valid)return{valid:!1};n[r]=i.data}return{valid:!0,data:n}}if(r===a5.array&&i===a5.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let n=s3(e[i],t[i]);if(!n.valid)return{valid:!1};r.push(n.data)}return{valid:!0,data:r}}if(r===a5.date&&i===a5.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class s5 extends sm{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(sl(e)||sl(i))return so;let n=s3(e.value,i.value);return n.valid?((su(e)||su(i))&&t.dirty(),{status:t.value,value:n.data}):(si(r,{code:a8.invalid_intersection_types}),so)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}s5.create=(e,t,r)=>new s5({left:e,right:t,typeName:c.ZodIntersection,...sh(r)});class s6 extends sm{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a5.array)return si(r,{code:a8.invalid_type,expected:a5.array,received:r.parsedType}),so;if(r.data.length<this._def.items.length)return si(r,{code:a8.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),so;!this._def.rest&&r.data.length>this._def.items.length&&(si(r,{code:a8.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new sp(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>sn.mergeArray(t,e)):sn.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new s6({...this._def,rest:e})}}s6.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new s6({items:e,typeName:c.ZodTuple,rest:null,...sh(t)})};class s8 extends sm{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a5.object)return si(r,{code:a8.invalid_type,expected:a5.object,received:r.parsedType}),so;let i=[],n=this._def.keyType,o=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new sp(r,e,r.path,e)),value:o._parse(new sp(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?sn.mergeObjectAsync(t,i):sn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new s8(t instanceof sm?{keyType:e,valueType:t,typeName:c.ZodRecord,...sh(r)}:{keyType:sB.create(),valueType:e,typeName:c.ZodRecord,...sh(t)})}}class s9 extends sm{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a5.map)return si(r,{code:a8.invalid_type,expected:a5.map,received:r.parsedType}),so;let i=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([e,t],o)=>({key:i._parse(new sp(r,e,r.path,[o,"key"])),value:n._parse(new sp(r,t,r.path,[o,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return so;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return so;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}s9.create=(e,t,r)=>new s9({valueType:t,keyType:e,typeName:c.ZodMap,...sh(r)});class s7 extends sm{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a5.set)return si(r,{code:a8.invalid_type,expected:a5.set,received:r.parsedType}),so;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(si(r,{code:a8.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(si(r,{code:a8.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function o(e){let r=new Set;for(let i of e){if("aborted"===i.status)return so;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>n._parse(new sp(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>o(e)):o(a)}min(e,t){return new s7({...this._def,minSize:{value:e,message:u.toString(t)}})}max(e,t){return new s7({...this._def,maxSize:{value:e,message:u.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}s7.create=(e,t)=>new s7({valueType:e,minSize:null,maxSize:null,typeName:c.ZodSet,...sh(t)});class le extends sm{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a5.function)return si(t,{code:a8.invalid_type,expected:a5.function,received:t.parsedType}),so;function r(e,r){return sr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,st(),a7].filter(e=>!!e),issueData:{code:a8.invalid_arguments,argumentsError:r}})}function i(e,r){return sr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,st(),a7].filter(e=>!!e),issueData:{code:a8.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof la){let e=this;return ss(async function(...t){let a=new a9([]),s=await e._def.args.parseAsync(t,n).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(o,this,s);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw a.addIssue(i(l,e)),a})})}{let e=this;return ss(function(...t){let a=e._def.args.safeParse(t,n);if(!a.success)throw new a9([r(t,a.error)]);let s=Reflect.apply(o,this,a.data),l=e._def.returns.safeParse(s,n);if(!l.success)throw new a9([i(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new le({...this._def,args:s6.create(e).rest(sZ.create())})}returns(e){return new le({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new le({args:e||s6.create([]).rest(sZ.create()),returns:t||sZ.create(),typeName:c.ZodFunction,...sh(r)})}}class lt extends sm{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}lt.create=(e,t)=>new lt({getter:e,typeName:c.ZodLazy,...sh(t)});class lr extends sm{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return si(t,{received:t.data,code:a8.invalid_literal,expected:this._def.value}),so}return{status:"valid",value:e.data}}get value(){return this._def.value}}function li(e,t){return new ln({values:e,typeName:c.ZodEnum,...sh(t)})}lr.create=(e,t)=>new lr({value:e,typeName:c.ZodLiteral,...sh(t)});class ln extends sm{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return si(t,{expected:s.joinValues(r),received:t.parsedType,code:a8.invalid_type}),so}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return si(t,{received:t.data,code:a8.invalid_enum_value,options:r}),so}return ss(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ln.create(e,{...this._def,...t})}exclude(e,t=this._def){return ln.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ln.create=li;class lo extends sm{_parse(e){let t=s.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==a5.string&&r.parsedType!==a5.number){let e=s.objectValues(t);return si(r,{expected:s.joinValues(e),received:r.parsedType,code:a8.invalid_type}),so}if(this._cache||(this._cache=new Set(s.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=s.objectValues(t);return si(r,{received:r.data,code:a8.invalid_enum_value,options:e}),so}return ss(e.data)}get enum(){return this._def.values}}lo.create=(e,t)=>new lo({values:e,typeName:c.ZodNativeEnum,...sh(t)});class la extends sm{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==a5.promise&&!1===t.common.async?(si(t,{code:a8.invalid_type,expected:a5.promise,received:t.parsedType}),so):ss((t.parsedType===a5.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}la.create=(e,t)=>new la({type:e,typeName:c.ZodPromise,...sh(t)});class ls extends sm{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===c.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{si(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return so;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?so:"dirty"===i.status||"dirty"===t.value?sa(i.value):i});{if("aborted"===t.value)return so;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?so:"dirty"===i.status||"dirty"===t.value?sa(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?so:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?so:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>sc(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):so);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!sc(e))return so;let o=i.transform(e.value,n);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}s.assertNever(i)}}ls.create=(e,t,r)=>new ls({schema:e,typeName:c.ZodEffects,effect:t,...sh(r)}),ls.createWithPreprocess=(e,t,r)=>new ls({schema:t,effect:{type:"preprocess",transform:e},typeName:c.ZodEffects,...sh(r)});class ll extends sm{_parse(e){return this._getType(e)===a5.undefined?ss(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ll.create=(e,t)=>new ll({innerType:e,typeName:c.ZodOptional,...sh(t)});class lu extends sm{_parse(e){return this._getType(e)===a5.null?ss(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lu.create=(e,t)=>new lu({innerType:e,typeName:c.ZodNullable,...sh(t)});class lc extends sm{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===a5.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}lc.create=(e,t)=>new lc({innerType:e,typeName:c.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...sh(t)});class ld extends sm{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sd(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new a9(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new a9(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ld.create=(e,t)=>new ld({innerType:e,typeName:c.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...sh(t)});class lp extends sm{_parse(e){if(this._getType(e)!==a5.nan){let t=this._getOrReturnCtx(e);return si(t,{code:a8.invalid_type,expected:a5.nan,received:t.parsedType}),so}return{status:"valid",value:e.data}}}lp.create=e=>new lp({typeName:c.ZodNaN,...sh(e)}),Symbol("zod_brand");class lf extends sm{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class lh extends sm{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?so:"dirty"===e.status?(t.dirty(),sa(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?so:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new lh({in:e,out:t,typeName:c.ZodPipeline})}}class lm extends sm{_parse(e){let t=this._def.innerType._parse(e),r=e=>(sc(e)&&(e.value=Object.freeze(e.value)),e);return sd(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function lg(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ly(e,t={},r){return e?sW.create().superRefine((i,n)=>{let o=e(i);if(o instanceof Promise)return o.then(e=>{if(!e){let e=lg(t,i),o=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=lg(t,i),o=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:o})}}):sW.create()}lm.create=(e,t)=>new lm({innerType:e,typeName:c.ZodReadonly,...sh(t)}),s0.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(c||(c={}));let lv=(e,t={message:`Input not instance of ${e.name}`})=>ly(t=>t instanceof e,t),lb=sB.create,lA=s$.create;lp.create,sz.create;let lw=sF.create;sq.create,sV.create,sH.create,sG.create;let l_=sW.create;sZ.create,sJ.create,sQ.create;let lS=sY.create,lE=s0.create;s0.strictCreate;let lT=s1.create;s4.create,s5.create,s6.create;let lI=s8.create;s9.create,s7.create,le.create;let lx=lt.create,lO=lr.create;ln.create;let lC=lo.create;la.create,ls.create,ll.create;let lk=lu.create;function lN(e){return btoa(String.fromCodePoint(...e))}function lR(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}function lP(e){return new TextEncoder().encode(e)}function lD(e){return lN(lP(e))}ls.createWithPreprocess,lh.create,lv(Uint8Array).or(lb().transform(lP)),lv(Uint8Array).or(lb().transform(lR));let lU=Object.prototype.hasOwnProperty;function lL(e,t){let r=/\{([a-zA-Z0-9_][a-zA-Z0-9_-]*?)\}/g;return function(i={}){return e.replace(r,function(e,r){if(!lU.call(i,r))throw Error(`Parameter '${r}' is required`);let n=i[r];if("string"!=typeof n&&"number"!=typeof n)throw Error(`Parameter '${r}' must be a string or number`);return t?.charEncoding==="percent"?encodeURIComponent(`${n}`):`${n}`})}}let lK=["https://api.dub.co"];function lM(e){let t=e.serverURL,r={};if(!t){let r=e.serverIdx??0;if(r<0||r>=lK.length)throw Error(`Invalid server index ${r}`);t=lK[r]||""}return new URL(lL(t)(r))}let lB="speakeasy-sdk/typescript 0.67.0 2.722.2 0.0.1 dub";function lj(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}class l$ extends Error{constructor(e){super(e),this.name="EncodingError"}}function lz(e){return(t,r,i)=>{let n="",o=i?.explode?lJ(t,r):[[t,r]];if(o.every(([e,t])=>null==t))return;let a=e=>i?.charEncoding==="percent"?encodeURIComponent(e):e,s=e=>a(lQ(e)),l=a(e);return o.forEach(([e,t])=>{let r="",i=null;null==t||null==(i=Array.isArray(t)?lX(t,e=>`${s(e)}`)?.join(l):lj(t)?l0(Object.entries(t),([e,t])=>`${a(e)}${l}${s(t)}`)?.join(l):`${s(t)}`)||(r=`${a(e)}=${i}`)&&"="!==r&&(n+=`&${r}`)}),n.slice(1)}}let lF=lz(","),lq=lz(" "),lV=lz("|");function lH(e,t,r){if(null!=t){if(!lj(t))throw new l$(`Value of parameter '${e}' which uses deepObject encoding must be an object or null`);return lG(e,t,r)}}function lG(e,t,r){if(null==t)return;let i="",n=e=>r?.charEncoding==="percent"?encodeURIComponent(e):e;if(!lj(t))throw new l$(`Expected parameter '${e}' to be an object.`);return Object.entries(t).forEach(([t,o])=>{if(null==o)return;let a=`${e}[${t}]`;if(lj(o)){let e=lG(a,o,r);i+=null==e?"":`&${e}`;return}let s=Array.isArray(o)?o:[o],l=lX(s,e=>`${n(a)}=${n(lQ(e))}`)?.join("&");i+=null==l?"":`&${l}`}),i.slice(1)}function lW(e,t,r){if(void 0===t)return;let i=e=>r?.charEncoding==="percent"?encodeURIComponent(e):e,n=i(JSON.stringify(t,lY));return r?.explode?n:`${i(e)}=${n}`}let lZ=(e,t,r)=>{let i="",n=r?.explode?lJ(e,t):[[e,t]];if(n.every(([e,t])=>null==t))return;let o=e=>r?.charEncoding==="percent"?encodeURIComponent(e):e,a=e=>o(lQ(e));return n.forEach(([e,n])=>{let s="";if(null!=n){if(Array.isArray(n))s=lX(n,e=>`${a(e)}`)?.join(",");else if(lj(n)){let e=l0(Object.entries(n),([e,t])=>`,${o(e)},${a(t)}`);s=e?.join("").slice(1)}else{let i=r?.explode&&lj(t)?`${e}=`:"";s=`${i}${a(n)}`}i+=s?`,${s}`:""}}),i.slice(1)};function lJ(e,t){return Array.isArray(t)?t.map(t=>[e,t]):lj(t)?Object.entries(t??{}).map(([e,t])=>[e,t]):[[e,t]]}function lQ(e){return null==e?"":e instanceof Date?e.toISOString():e instanceof Uint8Array?lN(e):"object"==typeof e?JSON.stringify(e,lY):`${e}`}function lY(e,t){return t instanceof Uint8Array?lN(t):t}function lX(e,t){let r=e.reduce((e,r)=>{if(null==r)return e;let i=t(r);return null==i||e.push(i),e},[]);return r.length?r:null}function l0(e,t){let r=[];for(let[i,n]of e){if(null==n)continue;let e=t([i,n]);null!=e&&r.push(e)}return r.length?r:null}function l1(...e){return e.filter(Boolean).join("&")}function l2(e){return function(t,r){let i={...r,explode:r?.explode??!0,charEncoding:r?.charEncoding??"percent"};return l1(...Object.entries(t).map(([t,r])=>e(t,r,i)))}}l2(lW);let l4=l2(lF);l2(lq),l2(lV),l2(lH);let l3=(e,t)=>null==t?fetch(e):fetch(e,t);class l5{constructor(e={}){this.options=e,this.requestHooks=[],this.requestErrorHooks=[],this.responseHooks=[],this.fetcher=e.fetcher||l3}async request(e){let t=e;for(let e of this.requestHooks){let r=await e(t);r&&(t=r)}try{let e=await this.fetcher(t);for(let r of this.responseHooks)await r(e,t);return e}catch(e){for(let r of this.requestErrorHooks)await r(e,t);throw e}}addHook(...e){if("beforeRequest"===e[0])this.requestHooks.push(e[1]);else if("requestError"===e[0])this.requestErrorHooks.push(e[1]);else if("response"===e[0])this.responseHooks.push(e[1]);else throw Error(`Invalid hook type: ${e[0]}`);return this}removeHook(...e){let t;if("beforeRequest"===e[0])t=this.requestHooks;else if("requestError"===e[0])t=this.requestErrorHooks;else if("response"===e[0])t=this.responseHooks;else throw Error(`Invalid hook type: ${e[0]}`);let r=t.findIndex(t=>t===e[1]);return r>=0&&t.splice(r,1),this}clone(){let e=new l5(this.options);return e.requestHooks=this.requestHooks.slice(),e.requestErrorHooks=this.requestErrorHooks.slice(),e.responseHooks=this.responseHooks.slice(),e}}let l6=/\s*;\s*/g;function l8(e,t){if("*"===t)return!0;let r=e.headers.get("content-type")?.trim()||"application/octet-stream";r=r.toLowerCase();let[i="",...n]=t.toLowerCase().trim().split(l6);if(2!==i.split("/").length)return!1;let[o="",...a]=r.split(l6),[s="",l=""]=o.split("/");if(!s||!l||"*/*"!==i&&o!==i&&`${s}/*`!==i&&`*/${l}`!==i||a.length<n.length)return!1;let u=new Set(a);for(let e of n)if(!u.has(e))return!1;return!0}let l9=RegExp("^[0-9]xx$","i");function l7(e,t){let r=`${e.status}`,i=Array.isArray(t)?t:[t];return!!i.length&&i.some(e=>{let t=`${e}`;if("default"===t)return!0;if(!l9.test(`${t}`))return t===r;let i=t.charAt(0);if(!i)throw Error("Invalid status code range");let n=r.charAt(0);if(!n)throw Error(`Invalid response status code: ${r}`);return n===i})}function ue(e,t,r){return l7(e,t)&&l8(e,r)}function ut(e){if("object"!=typeof e||null==e)return!1;let t=e instanceof TypeError&&e.message.toLowerCase().startsWith("failed to fetch"),r=e instanceof TypeError&&e.message.toLowerCase().startsWith("fetch failed"),i="name"in e&&"ConnectionError"===e.name,n="code"in e&&"string"==typeof e.code&&"econnreset"===e.code.toLowerCase();return t||r||n||i}function ur(e){if("object"!=typeof e||null==e)return!1;let t="name"in e&&"TimeoutError"===e.name,r="code"in e&&23===e.code,i="code"in e&&"string"==typeof e.code&&"econnaborted"===e.code.toLowerCase();return t||r||i}function ui(e){if("object"!=typeof e||null==e)return!1;let t="name"in e&&"AbortError"===e.name,r="code"in e&&20===e.code,i="code"in e&&"string"==typeof e.code&&"econnaborted"===e.code.toLowerCase();return t||r||i}let un={initialInterval:500,maxInterval:6e4,exponent:1.5,maxElapsedTime:36e5};class uo extends Error{constructor(e,t){let r=e;t?.cause&&(r+=`: ${t.cause}`),super(r,t),this.name="PermanentError",void 0===this.cause&&(this.cause=t?.cause),Object.setPrototypeOf(this,uo.prototype)}}class ua extends Error{constructor(e,t){super(e),this.response=t,this.name="TemporaryError",Object.setPrototypeOf(this,ua.prototype)}}async function us(e,t){return"backoff"===t.config.strategy?ud(ul(e,{statusCodes:t.statusCodes,retryConnectionErrors:!!t.config.retryConnectionErrors}),t.config.backoff??un):await e()}function ul(e,t){return async()=>{try{let r=await e();if(uc(r,t.statusCodes))throw new ua("Response failed with retryable status code",r);return r}catch(e){if(e instanceof ua||t.retryConnectionErrors&&(ur(e)||ut(e)))throw e;throw new uo("Permanent error",{cause:e})}}}let uu=RegExp("^[0-9]xx$","i");function uc(e,t){let r=`${e.status}`;return t.some(e=>{if(!uu.test(e))return e===r;let t=e.charAt(0);if(!t)throw Error("Invalid status code range");let i=r.charAt(0);if(!i)throw Error(`Invalid response status code: ${r}`);return i===t})}async function ud(e,t){let{maxElapsedTime:r,initialInterval:i,exponent:n,maxInterval:o}=t,a=Date.now(),s=0;for(;;)try{return await e()}catch(l){if(l instanceof uo)throw l.cause;if(Date.now()-a>r){if(l instanceof ua)return l.response;throw l}let e=0;l instanceof ua&&(e=up(l.response)),e<=0&&(e=i*Math.pow(s,n)+1e3*Math.random());let t=Math.min(e,o);await uf(t),s++}}function up(e){let t=e.headers.get("retry-after")||"";if(!t)return 0;let r=Number(t);if(Number.isInteger(r))return 1e3*r;let i=Date.parse(t);if(Number.isInteger(i)){let e=i-Date.now();return e>0?Math.ceil(e):0}return 0}async function uf(e){return new Promise(t=>setTimeout(t,e))}var uh=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},um=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};let ug="undefined"==typeof globalThis?null:globalThis,uy="object"==typeof ug&&null!=ug&&"importScripts"in ug&&"function"==typeof ug.importScripts||"undefined"!=typeof navigator&&"serviceWorker"in navigator;class uv{constructor(e={}){d.set(this,void 0),p.set(this,void 0),f.set(this,void 0);const t=e;"object"==typeof t&&null!=t&&"hooks"in t&&t.hooks instanceof aZ?uh(this,p,t.hooks,"f"):uh(this,p,new aZ,"f");const r=lM(e);r&&(r.pathname=r.pathname.replace(/\/+$/,"")+"/");const{baseURL:i,client:n}=um(this,p,"f").sdkInit({baseURL:r,client:e.httpClient||new l5});this._baseURL=i,uh(this,d,n,"f"),this._options={...e,hooks:um(this,p,"f")},uh(this,f,this._options.debugLogger,"f")}_createRequest(e,t,r){let i,{method:n,path:o,query:a,headers:s,security:l}=t,u=t.baseURL??this._baseURL;if(!u)return a4(new aY("No base URL provided for operation"));let c=new URL(u),d=new URL(o,c);o&&(c.pathname+=c.pathname.endsWith("/")?"":"/",c.pathname+=d.pathname.replace(/^\/+/,""));let f=a||"",h=[];for(let[e,t]of Object.entries(l?.queryParams||{})){let r=lF(e,t,{charEncoding:"percent"});void 0!==r&&h.push(r)}if(h.length&&(f+=`&${h.join("&")}`),f){let e=f.startsWith("&")?f.slice(1):f;c.search=`?${e}`}let m=new Headers(s),g=l?.basic.username,y=l?.basic.password;if(null!=g||null!=y){let e=lD([g||"",y||""].join(":"));m.set("Authorization",`Basic ${e}`)}for(let[e,t]of new Headers(l?.headers||{}))m.set(e,t);let v=m.get("cookie")||"";for(let[e,t]of Object.entries(l?.cookies||{}))v+=`; ${e}=${t}`;for(let[e,t]of(v=v.startsWith("; ")?v.slice(2):v,m.set("cookie",v),new Headers(r?.headers??r?.fetchOptions?.headers)))m.set(e,t);uy||m.set(t.uaHeader??"user-agent",t.userAgent??lB);let b={...r?.fetchOptions,...r};!b?.signal&&t.timeoutMs&&t.timeoutMs>0&&(b.signal=AbortSignal.timeout(t.timeoutMs)),t.body instanceof ReadableStream&&Object.assign(b,{duplex:"half"});try{i=um(this,p,"f").beforeCreateRequest(e,{url:c,options:{...b,body:t.body??null,headers:m,method:n}})}catch(e){return a4(new aQ("Create request hook failed to execute",{cause:e}))}return a2(new Request(i.url,i.options))}async _do(e,t){let{context:r,errorCodes:i}=t;return us(async()=>{let t=await um(this,p,"f").beforeRequest(r,e.clone());await uw(um(this,f,"f"),t).catch(e=>um(this,f,"f")?.log("Failed to log request:",e));let n=await um(this,d,"f").request(t);try{if(l7(n,i)){let e=await um(this,p,"f").afterError(r,n,null);if(e.error)throw e.error;n=e.response||n}else n=await um(this,p,"f").afterSuccess(r,n)}finally{await u_(um(this,f,"f"),n,t).catch(e=>um(this,f,"f")?.log("Failed to log response:",e))}return n},{config:t.retryConfig,statusCodes:t.retryCodes}).then(e=>a2(e),e=>{switch(!0){case ui(e):return a4(new aX("Request aborted by client",{cause:e}));case ur(e):return a4(new a0("Request timed out",{cause:e}));case ut(e):return a4(new a1("Unable to make request",{cause:e}));default:return a4(new aQ("Unexpected HTTP client error",{cause:e}))}})}}d=new WeakMap,p=new WeakMap,f=new WeakMap;let ub=/(application|text)\/.*?\+*json.*/,uA=/(application|text)\/(.*?\+*\bjsonl\b.*|.*?\+*\bx-ndjson\b.*)/;async function uw(e,t){if(!e)return;let r=t.headers.get("content-type"),i=r?.split(";")[0]||"";for(let[r,i]of(e.group(`> Request: ${t.method} ${t.url}`),e.group("Headers:"),t.headers.entries()))e.log(`${r}: ${i}`);switch(e.groupEnd(),e.group("Body:"),!0){case ub.test(i):e.log(await t.clone().json());break;case i.startsWith("text/"):e.log(await t.clone().text());break;case"multipart/form-data"===i:for(let[r,i]of(await t.clone().formData())){let t=i instanceof Blob?"<Blob>":i;e.log(`${r}: ${t}`)}break;default:e.log(`<${r}>`)}e.groupEnd(),e.groupEnd()}async function u_(e,t,r){if(!e)return;let i=t.headers.get("content-type"),n=i?.split(";")[0]||"";for(let[i,n]of(e.group(`< Response: ${r.method} ${r.url}`),e.log("Status Code:",t.status,t.statusText),e.group("Headers:"),t.headers.entries()))e.log(`${i}: ${n}`);switch(e.groupEnd(),e.group("Body:"),!0){case l8(t,"application/json")||ub.test(n)&&!uA.test(n):e.log(await t.clone().json());break;case l8(t,"application/jsonl")||uA.test(n):e.log(await t.clone().text());break;case l8(t,"text/event-stream"):e.log(`<${i}>`);break;case l8(t,"text/*"):e.log(await t.clone().text());break;case l8(t,"multipart/form-data"):for(let[r,i]of(await t.clone().formData())){let t=i instanceof Blob?"<Blob>":i;e.log(`${r}: ${t}`)}break;default:e.log(`<${i}>`)}e.groupEnd(),e.groupEnd()}class uS extends Error{constructor(e,t){super(e),this.statusCode=t.response.status,this.body=t.body,this.headers=t.response.headers,this.contentType=t.response.headers.get("content-type")||"",this.rawResponse=t.response,this.name="DubError"}}class uE extends Error{static[Symbol.hasInstance](e){return e instanceof Error&&"rawValue"in e&&"rawMessage"in e&&"pretty"in e&&"function"==typeof e.pretty}constructor(e,t,r){super(`${e}: ${t}`),this.name="SDKValidationError",this.cause=t,this.rawValue=r,this.rawMessage=e}pretty(){return this.cause instanceof a9?`${this.rawMessage}
${uT(this.cause)}`:this.toString()}}function uT(e,t=0){let r="  ".repeat(t);r=(t>0?`${r}`:r)+" ".repeat(t);let i="",n=e=>i+=`
${r}${e}`,o=e.issues.length,a=1===o?`${o} issue found`:`${o} issues found`;for(let r of(o&&n(` ${a}:`),e.issues)){let e=r.path.join(".");switch(e=e?`<root>.${e}`:"<root>",n(`  [${e}]: ${r.message} (${r.code})`),r.code){case"invalid_literal":case"invalid_type":n(`     Want: ${r.expected}`),n(`      Got: ${r.received}`);break;case"unrecognized_keys":n(`     Keys: ${r.keys.join(", ")}`);break;case"invalid_enum_value":n(`     Allowed: ${r.options.join(", ")}`),n(`         Got: ${r.received}`);break;case"invalid_union_discriminator":n(`     Allowed: ${r.options.join(", ")}`);break;case"invalid_union":{let e=r.unionErrors.length;n(`    Attemped to deserialize into one of ${e} union members:`),r.unionErrors.forEach((r,i)=>{n(`    Member ${i+1} of ${e}`),n(`${uT(r,t+1)}`)})}}}return e.issues.length&&n(`*`),i.slice(1)}class uI extends uS{constructor(e,t){super(e,t),this.name="ResponseValidationError",this.cause=t.cause,this.rawValue=t.rawValue,this.rawMessage=t.rawMessage}pretty(){return this.cause instanceof a9?`${this.rawMessage}
${uT(this.cause)}`:this.toString()}}class ux extends uS{constructor(e,t){e&&(e+=": "),e+=`Status ${t.response.status}`;const r=t.response.headers.get("content-type")||'""';"application/json"!==r&&(e+=` Content-Type ${r.includes(" ")?`"${r}"`:r}`);const i=t.body||'""';e+=i.length>100?"\n":". ";let n=i;if(i.length>1e4){const e=i.substring(0,1e4),t=i.length-1e4;n=`${e}...and ${t} more chars`}e+=`Body: ${n}`,super(e=e.trim(),t),this.name="SDKError"}}let uO={jsonl:"application/jsonl",json:"application/json",text:"text/plain",bytes:"application/octet-stream",stream:"application/octet-stream",sse:"text/event-stream",nil:"*",fail:"*"};function uC(e,t,r){return{...r,err:!0,enc:"json",codes:e,schema:t}}function uk(e,t,r){return{...r,enc:"json",codes:e,schema:t}}function uN(e,t,r){return{...r,enc:"text",codes:e,schema:t}}function uR(e){return{enc:"fail",codes:e}}function uP(...e){return async function(t,r,i){let n,o,a;for(let r of e){let{codes:e}=r,i="ctype"in r?r.ctype:uO[r.enc];if(i&&ue(t,e,i)||!i&&l7(t,e)){o=r;break}}if(!o)return[{ok:!1,error:new ux("Unexpected Status or Content-Type",{response:t,request:r,body:await t.text().catch(()=>"")})},n];let s=o.enc,l="";switch(s){case"json":n=JSON.parse(l=await t.text());break;case"jsonl":case"stream":case"sse":n=t.body;break;case"bytes":n=new Uint8Array(await t.arrayBuffer());break;case"text":case"fail":n=l=await t.text();break;case"nil":l=await t.text(),n=void 0;break;default:throw Error(`Unsupported response type: ${s}`)}if("fail"===o.enc)return[{ok:!1,error:new ux("API error occurred",{request:r,response:t,body:l})},n];let u=o.key||i?.resultKey;if(a="err"in o?{...i?.extraFields,...o.hdrs?{Headers:uU(t.headers)}:null,...lj(n)?n:null,request$:r,response$:t,body$:l}:u?{...i?.extraFields,...o.hdrs?{Headers:uU(t.headers)}:null,[u]:n}:o.hdrs?{...i?.extraFields,...o.hdrs?{Headers:uU(t.headers)}:null,...lj(n)?n:null}:n,!("err"in o))return[uL(a,e=>o.schema.parse(e),"Response validation failed",{request:r,response:t,body:l}),n];{let e=uL(a,e=>o.schema.parse(e),"Response validation failed",{request:r,response:t,body:l});return[e.ok?{ok:!1,error:e.value}:e,n]}}}let uD=/, */;function uU(e){let t={};for(let[r,i]of e.entries())t[r]=i.split(uD);return t}function uL(e,t,r,i){try{return a2(t(e))}catch(t){return a4(new uI(r,{cause:t,rawValue:e,rawMessage:r,...i}))}}function uK(e,t){let r={};if(!Object.keys(t).length)return e;for(let[i,n]of Object.entries(e)){let e=t[i];null!==e&&(r[e??i]=n)}return r}function uM(e){let t={};for(let[r,i]of Object.entries(e))void 0!==i&&(t[r]=i);return t}function uB(e,t,r){try{return a2(t(e))}catch(t){return a4(new uE(r,t,e))}}!function(e){e.Incomplete="incomplete",e.UnrecognisedSecurityType="unrecognized_security_type"}(h||(h={}));class uj extends Error{constructor(e,t){super(t),this.code=e,this.name="SecurityError"}static incomplete(){return new uj(h.Incomplete,"Security requirements not met in order to perform the operation")}static unrecognizedType(e){return new uj(h.UnrecognisedSecurityType,`Unrecognised security type: ${e}`)}}function u$(...e){let t={basic:{},headers:{},queryParams:{},cookies:{},oauth2:{type:"none"}},r=e.find(e=>e.every(e=>{if(null==e.value)return!1;if("http:basic"===e.type)return null!=e.value.username||null!=e.value.password;if("http:custom"===e.type)return null;if("oauth2:password"===e.type)return"string"==typeof e.value&&!!e.value;if("oauth2:client_credentials"===e.type)return"string"==typeof e.value?!!e.value:null!=e.value.clientID||null!=e.value.clientSecret;else if("string"==typeof e.value)return!!e.value;else throw Error(`Unrecognized security type: ${e.type} (value type: ${typeof e.value})`)}));return null==r?null:(r.forEach(e=>{if(null==e.value)return;let{type:r}=e;switch(r){case"apiKey:header":t.headers[e.fieldName]=e.value;break;case"apiKey:query":t.queryParams[e.fieldName]=e.value;break;case"apiKey:cookie":t.cookies[e.fieldName]=e.value;break;case"http:basic":uz(t,e);break;case"http:custom":case"oauth2:client_credentials":break;case"http:bearer":case"oauth2":case"oauth2:password":case"openIdConnect":uF(t,e);break;default:throw uj.unrecognizedType(r)}}),t)}function uz(e,t){null!=t.value&&(e.basic=t.value)}function uF(e,t){if("string"!=typeof t.value||!t.value)return;let r=t.value;"bearer "!==r.slice(0,7).toLowerCase()&&(r=`Bearer ${r}`),void 0!==t.fieldName&&(e.headers[t.fieldName]=r)}function uq(e){return u$([{fieldName:"Authorization",type:"http:bearer",value:e?.token}])}async function uV(e){if(null!=e)return"function"==typeof e?e():e}let uH={BadRequest:"bad_request"};class uG extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="BadRequest"}}let uW=lC(uH),uZ=uW;!function(e){e.inboundSchema=uW,e.outboundSchema=uZ}(m||(m={}));let uJ=lE({code:uW,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),uQ=lE({code:uZ,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=uJ,e.outboundSchema=uQ}(g||(g={}));let uY=lE({error:lx(()=>uJ),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new uG(e,{request:e.request$,response:e.response$,body:e.body$})),uX=lv(uG).transform(e=>e.data$).pipe(lE({error:lx(()=>uQ)}));!function(e){e.inboundSchema=uY,e.outboundSchema=uX}(y||(y={}));let u0={Conflict:"conflict"};class u1 extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="Conflict"}}let u2=lC(u0),u4=u2;!function(e){e.inboundSchema=u2,e.outboundSchema=u4}(v||(v={}));let u3=lE({code:u2,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),u5=lE({code:u4,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=u3,e.outboundSchema=u5}(b||(b={}));let u6=lE({error:lx(()=>u3),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new u1(e,{request:e.request$,response:e.response$,body:e.body$})),u8=lv(u1).transform(e=>e.data$).pipe(lE({error:lx(()=>u5)}));!function(e){e.inboundSchema=u6,e.outboundSchema=u8}(A||(A={}));let u9={Forbidden:"forbidden"};class u7 extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="Forbidden"}}let ce=lC(u9),ct=ce;!function(e){e.inboundSchema=ce,e.outboundSchema=ct}(w||(w={}));let cr=lE({code:ce,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),ci=lE({code:ct,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cr,e.outboundSchema=ci}(_||(_={}));let cn=lE({error:lx(()=>cr),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new u7(e,{request:e.request$,response:e.response$,body:e.body$})),co=lv(u7).transform(e=>e.data$).pipe(lE({error:lx(()=>ci)}));!function(e){e.inboundSchema=cn,e.outboundSchema=co}(S||(S={}));let ca={InternalServerError:"internal_server_error"};class cs extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="InternalServerError"}}let cl=lC(ca),cu=cl;!function(e){e.inboundSchema=cl,e.outboundSchema=cu}(E||(E={}));let cc=lE({code:cl,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),cd=lE({code:cu,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cc,e.outboundSchema=cd}(T||(T={}));let cp=lE({error:lx(()=>cc),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new cs(e,{request:e.request$,response:e.response$,body:e.body$})),cf=lv(cs).transform(e=>e.data$).pipe(lE({error:lx(()=>cd)}));!function(e){e.inboundSchema=cp,e.outboundSchema=cf}(I||(I={}));let ch={InviteExpired:"invite_expired"};class cm extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="InviteExpired"}}let cg=lC(ch),cy=cg;!function(e){e.inboundSchema=cg,e.outboundSchema=cy}(x||(x={}));let cv=lE({code:cg,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),cb=lE({code:cy,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cv,e.outboundSchema=cb}(O||(O={}));let cA=lE({error:lx(()=>cv),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new cm(e,{request:e.request$,response:e.response$,body:e.body$})),cw=lv(cm).transform(e=>e.data$).pipe(lE({error:lx(()=>cb)}));!function(e){e.inboundSchema=cA,e.outboundSchema=cw}(C||(C={}));let c_={NotFound:"not_found"};class cS extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="NotFound"}}let cE=lC(c_),cT=cE;!function(e){e.inboundSchema=cE,e.outboundSchema=cT}(k||(k={}));let cI=lE({code:cE,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),cx=lE({code:cT,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cI,e.outboundSchema=cx}(N||(N={}));let cO=lE({error:lx(()=>cI),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new cS(e,{request:e.request$,response:e.response$,body:e.body$})),cC=lv(cS).transform(e=>e.data$).pipe(lE({error:lx(()=>cx)}));!function(e){e.inboundSchema=cO,e.outboundSchema=cC}(R||(R={}));let ck={RateLimitExceeded:"rate_limit_exceeded"};class cN extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="RateLimitExceeded"}}let cR=lC(ck),cP=cR;!function(e){e.inboundSchema=cR,e.outboundSchema=cP}(P||(P={}));let cD=lE({code:cR,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),cU=lE({code:cP,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cD,e.outboundSchema=cU}(D||(D={}));let cL=lE({error:lx(()=>cD),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new cN(e,{request:e.request$,response:e.response$,body:e.body$})),cK=lv(cN).transform(e=>e.data$).pipe(lE({error:lx(()=>cU)}));!function(e){e.inboundSchema=cL,e.outboundSchema=cK}(U||(U={}));let cM={Unauthorized:"unauthorized"};class cB extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="Unauthorized"}}let cj=lC(cM),c$=cj;!function(e){e.inboundSchema=cj,e.outboundSchema=c$}(L||(L={}));let cz=lE({code:cj,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),cF=lE({code:c$,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cz,e.outboundSchema=cF}(K||(K={}));let cq=lE({error:lx(()=>cz),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new cB(e,{request:e.request$,response:e.response$,body:e.body$})),cV=lv(cB).transform(e=>e.data$).pipe(lE({error:lx(()=>cF)}));!function(e){e.inboundSchema=cq,e.outboundSchema=cV}(M||(M={}));let cH={UnprocessableEntity:"unprocessable_entity"};class cG extends uS{constructor(e,t){super(e.error?.message||`API error occurred: ${JSON.stringify(e)}`,t),this.data$=e,this.error=e.error,this.name="UnprocessableEntity"}}let cW=lC(cH),cZ=cW;!function(e){e.inboundSchema=cW,e.outboundSchema=cZ}(B||(B={}));let cJ=lE({code:cW,message:lb(),doc_url:lb().optional()}).transform(e=>uK(e,{doc_url:"docUrl"})),cQ=lE({code:cZ,message:lb(),docUrl:lb().optional()}).transform(e=>uK(e,{docUrl:"doc_url"}));!function(e){e.inboundSchema=cJ,e.outboundSchema=cQ}(j||(j={}));let cY=lE({error:lx(()=>cJ),request$:lv(Request),response$:lv(Response),body$:lb()}).transform(e=>new cG(e,{request:e.request$,response:e.response$,body:e.body$})),cX=lv(cG).transform(e=>e.data$).pipe(lE({error:lx(()=>cQ)}));!function(e){e.inboundSchema=cY,e.outboundSchema=cX}($||($={}));let c0=lE({browser:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),c1=lE({browser:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=c0,e.outboundSchema=c1}(z||(z={}));let c2=lE({country:lb(),region:lb(),city:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),c4=lE({country:lb(),region:lb(),city:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=c2,e.outboundSchema=c4}(F||(F={}));let c3=lC({Af:"AF",An:"AN",As:"AS",Eu:"EU",Na:"NA",Oc:"OC",Sa:"SA"}),c5=c3;!function(e){e.inboundSchema=c3,e.outboundSchema=c5}(q||(q={}));let c6=lE({continent:c3,clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),c8=lE({continent:c5,clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=c6,e.outboundSchema=c8}(V||(V={}));let c9=lE({clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),c7=lE({clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=c9,e.outboundSchema=c7}(H||(H={}));let de={Wildcard:"*"},dt=lC({Wildcard:"*"}),dr=dt;!function(e){e.inboundSchema=dt,e.outboundSchema=dr}(G||(G={}));let di=lC(de),dn=di;!function(e){e.inboundSchema=di,e.outboundSchema=dn}(W||(W={}));let da=lE({country:lb(),region:dt.default("*"),city:di.default("*"),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),ds=lE({country:lb(),region:dr.default("*"),city:dn.default("*"),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=da,e.outboundSchema=ds}(Z||(Z={}));let dl=lE({device:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),du=lE({device:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dl,e.outboundSchema=du}(J||(J={}));let dc=lE({os:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),dd=lE({os:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dc,e.outboundSchema=dd}(Q||(Q={}));let dp=lE({referer:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),df=lE({referer:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dp,e.outboundSchema=df}(Y||(Y={}));let dh=lE({refererUrl:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),dm=lE({refererUrl:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dh,e.outboundSchema=dm}(X||(X={}));let dg=lC({Wildcard:"*"}),dy=dg;!function(e){e.inboundSchema=dg,e.outboundSchema=dy}(ee||(ee={}));let dv=lE({country:lb(),region:lb(),city:dg.default("*"),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),db=lE({country:lb(),region:lb(),city:dy.default("*"),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dv,e.outboundSchema=db}(et||(et={}));let dA=lE({start:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),dw=lE({start:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dA,e.outboundSchema=dw}(er||(er={}));let d_=lE({link:lb(),id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),comments:lk(lb()).optional(),title:lk(lb()).optional(),createdAt:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),dS=lE({link:lb(),id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),comments:lk(lb()).optional(),title:lk(lb()).optional(),createdAt:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=d_,e.outboundSchema=dS}(ei||(ei={}));let dE=lE({url:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),dT=lE({url:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dE,e.outboundSchema=dT}(en||(en={}));let dI=lC({Qr:"qr",Link:"link",Pageview:"pageview",Deeplink:"deeplink"}),dx=dI;!function(e){e.inboundSchema=dI,e.outboundSchema=dx}(eo||(eo={}));let dO=lE({trigger:dI,clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),dC=lE({trigger:dx,clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=dO,e.outboundSchema=dC}(ea||(ea={}));let dk=lC({Red:"red",Yellow:"yellow",Green:"green",Blue:"blue",Purple:"purple",Brown:"brown",Pink:"pink"}),dN=dk;!function(e){e.inboundSchema=dk,e.outboundSchema=dN}(es||(es={}));let dR=lE({id:lb(),name:lb(),color:dk}),dP=lE({id:lb(),name:lb(),color:dN});!function(e){e.inboundSchema=dR,e.outboundSchema=dP}(el||(el={}));let dD=lC({Click:"click"}),dU=dD;!function(e){e.inboundSchema=dD,e.outboundSchema=dU}(eu||(eu={}));let dL=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()}),dK=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()});!function(e){e.inboundSchema=dL,e.outboundSchema=dK}(ec||(ec={}));let dM=lE({url:lb(),percentage:lA()}),dB=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=dM,e.outboundSchema=dB}(ed||(ed={}));let dj=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>dM))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),d$=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>dB))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=dj,e.outboundSchema=d$}(ep||(ep={}));let dz=lE({event:dD,timestamp:lb(),click:lx(()=>dL),link:lx(()=>dj),click_id:lb(),link_id:lb(),domain:lb(),key:lb(),url:lb(),continent:lb(),country:lb(),city:lb(),device:lb(),browser:lb(),os:lb(),qr:lA(),ip:lb()}).transform(e=>uK(e,{click_id:"clickId",link_id:"linkId"})),dF=lE({event:dU,timestamp:lb(),click:lx(()=>dK),link:lx(()=>d$),clickId:lb(),linkId:lb(),domain:lb(),key:lb(),url:lb(),continent:lb(),country:lb(),city:lb(),device:lb(),browser:lb(),os:lb(),qr:lA(),ip:lb()}).transform(e=>uK(e,{clickId:"click_id",linkId:"link_id"}));!function(e){e.inboundSchema=dz,e.outboundSchema=dF}(ef||(ef={}));let dq={Click:"click",Lead:"lead",Sale:"sale",Custom:"custom"},dV={Pending:"pending",Processed:"processed",Paid:"paid",Refunded:"refunded",Duplicate:"duplicate",Fraud:"fraud",Canceled:"canceled"},dH=lC({CommissionCreated:"commission.created"}),dG=dH;!function(e){e.inboundSchema=dH,e.outboundSchema=dG}(eh||(eh={}));let dW=lC(dq),dZ=dW;!function(e){e.inboundSchema=dW,e.outboundSchema=dZ}(em||(em={}));let dJ=lC(dV),dQ=dJ;!function(e){e.inboundSchema=dJ,e.outboundSchema=dQ}(eg||(eg={}));let dY=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb()),totalClicks:lA(),totalLeads:lA(),totalConversions:lA(),totalSales:lA(),totalSaleAmount:lA(),totalCommissions:lA()}),dX=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb()),totalClicks:lA(),totalLeads:lA(),totalConversions:lA(),totalSales:lA(),totalSaleAmount:lA(),totalCommissions:lA()});!function(e){e.inboundSchema=dY,e.outboundSchema=dX}(ey||(ey={}));let d0=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),d1=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=d0,e.outboundSchema=d1}(ev||(ev={}));let d2=lE({id:lb(),type:dW.optional(),amount:lA(),earnings:lA(),currency:lb(),status:dJ,invoiceId:lk(lb()),description:lk(lb()),quantity:lA(),userId:lk(lb()).optional(),createdAt:lb(),updatedAt:lb(),partner:lx(()=>dY),customer:lk(lx(()=>d0)).optional()}),d4=lE({id:lb(),type:dZ.optional(),amount:lA(),earnings:lA(),currency:lb(),status:dQ,invoiceId:lk(lb()),description:lk(lb()),quantity:lA(),userId:lk(lb()).optional(),createdAt:lb(),updatedAt:lb(),partner:lx(()=>dX),customer:lk(lx(()=>d1)).optional()});!function(e){e.inboundSchema=d2,e.outboundSchema=d4}(eb||(eb={}));let d3=lE({id:lb(),event:dH,createdAt:lb(),data:lx(()=>d2)}),d5=lE({id:lb(),event:dG,createdAt:lb(),data:lx(()=>d4)});!function(e){e.inboundSchema=d3,e.outboundSchema=d5}(eA||(eA={}));let d6=lC({Af:"AF",An:"AN",As:"AS",Eu:"EU",Na:"NA",Oc:"OC",Sa:"SA"}),d8=d6;!function(e){e.inboundSchema=d6,e.outboundSchema=d8}(ew||(ew={}));let d9=lE({id:lb(),autoRenewalDisabledAt:lk(lb()),createdAt:lb(),expiresAt:lb(),renewalFee:lA()}),d7=lE({id:lb(),autoRenewalDisabledAt:lk(lb()),createdAt:lb(),expiresAt:lb(),renewalFee:lA()});!function(e){e.inboundSchema=d9,e.outboundSchema=d7}(e_||(e_={}));let pe=lE({id:lb(),slug:lb(),verified:lw().default(!1),primary:lw().default(!1),archived:lw().default(!1),placeholder:lk(lb()),expiredUrl:lk(lb()),notFoundUrl:lk(lb()),logo:lk(lb()),assetLinks:lk(lb()).default(null),appleAppSiteAssociation:lk(lb()).default(null),createdAt:lb(),updatedAt:lb(),registeredDomain:lk(lx(()=>d9))}),pt=lE({id:lb(),slug:lb(),verified:lw().default(!1),primary:lw().default(!1),archived:lw().default(!1),placeholder:lk(lb()),expiredUrl:lk(lb()),notFoundUrl:lk(lb()),logo:lk(lb()),assetLinks:lk(lb()).default(null),appleAppSiteAssociation:lk(lb()).default(null),createdAt:lb(),updatedAt:lb(),registeredDomain:lk(lx(()=>d7))});!function(e){e.inboundSchema=pe,e.outboundSchema=pt}(eS||(eS={}));let pr={Write:"write",Read:"read"},pi=lC({Default:"default",Mega:"mega"}),pn=pi;!function(e){e.inboundSchema=pi,e.outboundSchema=pn}(eE||(eE={}));let po=lC(pr),pa=po;!function(e){e.inboundSchema=po,e.outboundSchema=pa}(eT||(eT={}));let ps=lE({id:lb(),name:lb(),type:pi,accessLevel:lk(po).default(null),createdAt:lb(),updatedAt:lb()}),pl=lE({id:lb(),name:lb(),type:pn,accessLevel:lk(pa).default(null),createdAt:lb(),updatedAt:lb()});!function(e){e.inboundSchema=ps,e.outboundSchema=pl}(eI||(eI={}));let pu=lC({LeadCreated:"lead.created"}),pc=pu;!function(e){e.inboundSchema=pu,e.outboundSchema=pc}(ex||(ex={}));let pd=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),pp=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=pd,e.outboundSchema=pp}(eO||(eO={}));let pf=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()}),ph=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()});!function(e){e.inboundSchema=pf,e.outboundSchema=ph}(eC||(eC={}));let pm=lE({url:lb(),percentage:lA()}),pg=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=pm,e.outboundSchema=pg}(ek||(ek={}));let py=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>pm))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),pv=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>pg))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=py,e.outboundSchema=pv}(eN||(eN={}));let pb=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb()),totalClicks:lA(),totalLeads:lA(),totalConversions:lA(),totalSales:lA(),totalSaleAmount:lA(),totalCommissions:lA()}),pA=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb()),totalClicks:lA(),totalLeads:lA(),totalConversions:lA(),totalSales:lA(),totalSaleAmount:lA(),totalCommissions:lA()});!function(e){e.inboundSchema=pb,e.outboundSchema=pA}(eR||(eR={}));let pw=lE({eventName:lb(),customer:lx(()=>pd),click:lx(()=>pf),link:lx(()=>py),partner:lk(lx(()=>pb)).optional(),metadata:lk(lI(l_()))}),p_=lE({eventName:lb(),customer:lx(()=>pp),click:lx(()=>ph),link:lx(()=>pv),partner:lk(lx(()=>pA)).optional(),metadata:lk(lI(l_()))});!function(e){e.inboundSchema=pw,e.outboundSchema=p_}(eP||(eP={}));let pS=lE({id:lb(),event:pu,createdAt:lb(),data:lx(()=>pw)}),pE=lE({id:lb(),event:pc,createdAt:lb(),data:lx(()=>p_)});!function(e){e.inboundSchema=pS,e.outboundSchema=pE}(eD||(eD={}));let pT=lC({Lead:"lead"}),pI=pT;!function(e){e.inboundSchema=pT,e.outboundSchema=pI}(eU||(eU={}));let px=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()}),pO=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()});!function(e){e.inboundSchema=px,e.outboundSchema=pO}(eL||(eL={}));let pC=lE({url:lb(),percentage:lA()}),pk=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=pC,e.outboundSchema=pk}(eK||(eK={}));let pN=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>pC))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),pR=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>pk))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=pN,e.outboundSchema=pR}(eM||(eM={}));let pP=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),pD=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=pP,e.outboundSchema=pD}(eB||(eB={}));let pU=lE({event:pT,timestamp:lb(),eventId:lb(),eventName:lb(),metadata:lk(l_()).optional(),click:lx(()=>px),link:lx(()=>pN),customer:lx(()=>pP),click_id:lb(),link_id:lb(),domain:lb(),key:lb(),url:lb(),continent:lb(),country:lb(),city:lb(),device:lb(),browser:lb(),os:lb(),qr:lA(),ip:lb()}).transform(e=>uK(e,{click_id:"clickId",link_id:"linkId"})),pL=lE({event:pI,timestamp:lb(),eventId:lb(),eventName:lb(),metadata:lk(l_()).optional(),click:lx(()=>pO),link:lx(()=>pR),customer:lx(()=>pD),clickId:lb(),linkId:lb(),domain:lb(),key:lb(),url:lb(),continent:lb(),country:lb(),city:lb(),device:lb(),browser:lb(),os:lb(),qr:lA(),ip:lb()}).transform(e=>uK(e,{clickId:"click_id",linkId:"link_id"}));!function(e){e.inboundSchema=pU,e.outboundSchema=pL}(ej||(ej={}));let pK=lC({LinkClicked:"link.clicked"}),pM=pK;!function(e){e.inboundSchema=pK,e.outboundSchema=pM}(e$||(e$={}));let pB=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()}),pj=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()});!function(e){e.inboundSchema=pB,e.outboundSchema=pj}(ez||(ez={}));let p$=lE({url:lb(),percentage:lA()}),pz=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=p$,e.outboundSchema=pz}(eF||(eF={}));let pF=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>p$))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),pq=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>pz))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=pF,e.outboundSchema=pq}(eq||(eq={}));let pV=lE({click:lx(()=>pB),link:lx(()=>pF)}),pH=lE({click:lx(()=>pj),link:lx(()=>pq)});!function(e){e.inboundSchema=pV,e.outboundSchema=pH}(eV||(eV={}));let pG=lE({id:lb(),event:pK,createdAt:lb(),data:lx(()=>pV)}),pW=lE({id:lb(),event:pM,createdAt:lb(),data:lx(()=>pH)});!function(e){e.inboundSchema=pG,e.outboundSchema=pW}(eH||(eH={}));let pZ=lC({BadRequest:"bad_request",NotFound:"not_found",InternalServerError:"internal_server_error",Unauthorized:"unauthorized",Forbidden:"forbidden",RateLimitExceeded:"rate_limit_exceeded",InviteExpired:"invite_expired",InvitePending:"invite_pending",ExceededLimit:"exceeded_limit",Conflict:"conflict",UnprocessableEntity:"unprocessable_entity"}),pJ=pZ;!function(e){e.inboundSchema=pZ,e.outboundSchema=pJ}(eG||(eG={}));let pQ=lE({link:l_().optional(),error:lb(),code:pZ}),pY=lE({link:l_().optional(),error:lb(),code:pJ});!function(e){e.inboundSchema=pQ,e.outboundSchema=pY}(eW||(eW={}));let pX=lE({url:lb(),percentage:lA()}),p0=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=pX,e.outboundSchema=p0}(eZ||(eZ={}));let p1=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw().default(!1),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw().default(!1),expiresAt:lk(lb()),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw().default(!1),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw().default(!1),doIndex:lw().default(!1),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw().default(!1),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>pX))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lk(lb()),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),p2=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw().default(!1),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw().default(!1),expiresAt:lk(lb()),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw().default(!1),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw().default(!1),doIndex:lw().default(!1),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw().default(!1),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>p0))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lk(lb()),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=p1,e.outboundSchema=p2}(eJ||(eJ={}));let p4={LinkUpdated:"link.updated"},p3={LinkCreated:"link.created"},p5=lC({LinkDeleted:"link.deleted"}),p6=p5;!function(e){e.inboundSchema=p5,e.outboundSchema=p6}(eQ||(eQ={}));let p8=lC(p4),p9=p8;!function(e){e.inboundSchema=p8,e.outboundSchema=p9}(eY||(eY={}));let p7=lC(p3),fe=p7;!function(e){e.inboundSchema=p7,e.outboundSchema=fe}(eX||(eX={}));let ft=lT([p7,p8,p5]),fr=lT([fe,p9,p6]);!function(e){e.inboundSchema=ft,e.outboundSchema=fr}(e0||(e0={}));let fi=lE({url:lb(),percentage:lA()}),fo=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=fi,e.outboundSchema=fo}(e1||(e1={}));let fa=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>fi))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),fs=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>fo))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=fa,e.outboundSchema=fs}(e2||(e2={}));let fl=lE({id:lb(),event:lT([p7,p8,p5]),createdAt:lb(),data:lx(()=>fa)}),fu=lE({id:lb(),event:lT([fe,p9,p6]),createdAt:lb(),data:lx(()=>fs)});!function(e){e.inboundSchema=fl,e.outboundSchema=fu}(e4||(e4={}));let fc=lE({clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),earnings:lA().default(0)}),fd=lE({clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),earnings:lA().default(0)});!function(e){e.inboundSchema=fc,e.outboundSchema=fd}(e3||(e3={}));let fp=lE({start:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),earnings:lA().default(0)}),ff=lE({start:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),earnings:lA().default(0)});!function(e){e.inboundSchema=fp,e.outboundSchema=ff}(e5||(e5={}));let fh=lE({link:lb(),id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),comments:lk(lb()).optional(),title:lk(lb()).optional(),createdAt:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),earnings:lA().default(0)}),fm=lE({link:lb(),id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),comments:lk(lb()).optional(),title:lk(lb()).optional(),createdAt:lb(),clicks:lA().default(0),leads:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),earnings:lA().default(0)});!function(e){e.inboundSchema=fh,e.outboundSchema=fm}(e6||(e6={}));let fg={Pending:"pending",Approved:"approved",Rejected:"rejected",Invited:"invited",Declined:"declined",Deactivated:"deactivated",Banned:"banned",Archived:"archived"},fy={TosViolation:"tos_violation",InappropriateContent:"inappropriate_content",FakeTraffic:"fake_traffic",Fraud:"fraud",Spam:"spam",BrandAbuse:"brand_abuse"},fv=lC({PartnerEnrolled:"partner.enrolled"}),fb=fv;!function(e){e.inboundSchema=fv,e.outboundSchema=fb}(e8||(e8={}));let fA=lC(fg),fw=fA;!function(e){e.inboundSchema=fA,e.outboundSchema=fw}(e9||(e9={}));let f_=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),fS=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=f_,e.outboundSchema=fS}(e7||(e7={}));let fE=lC(fy),fT=fE;!function(e){e.inboundSchema=fE,e.outboundSchema=fT}(te||(te={}));let fI=lE({id:lb(),name:lb(),companyName:lk(lb()),email:lk(lb()),image:lk(lb()),description:lk(lb()).optional(),country:lk(lb()),paypalEmail:lk(lb()),stripeConnectId:lk(lb()),payoutsEnabledAt:lk(lb()),programId:lb(),groupId:lk(lb()).optional(),partnerId:lb(),tenantId:lk(lb()),createdAt:lb(),status:fA,links:lk(lS(lx(()=>f_))),totalCommissions:lA().default(0),clickRewardId:lk(lb()).optional(),leadRewardId:lk(lb()).optional(),saleRewardId:lk(lb()).optional(),discountId:lk(lb()).optional(),applicationId:lk(lb()).optional(),bannedAt:lk(lb()).optional(),bannedReason:lk(fE).optional(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),netRevenue:lA().default(0),website:lk(lb()).optional(),youtube:lk(lb()).optional(),twitter:lk(lb()).optional(),linkedin:lk(lb()).optional(),instagram:lk(lb()).optional(),tiktok:lk(lb()).optional()}),fx=lE({id:lb(),name:lb(),companyName:lk(lb()),email:lk(lb()),image:lk(lb()),description:lk(lb()).optional(),country:lk(lb()),paypalEmail:lk(lb()),stripeConnectId:lk(lb()),payoutsEnabledAt:lk(lb()),programId:lb(),groupId:lk(lb()).optional(),partnerId:lb(),tenantId:lk(lb()),createdAt:lb(),status:fw,links:lk(lS(lx(()=>fS))),totalCommissions:lA().default(0),clickRewardId:lk(lb()).optional(),leadRewardId:lk(lb()).optional(),saleRewardId:lk(lb()).optional(),discountId:lk(lb()).optional(),applicationId:lk(lb()).optional(),bannedAt:lk(lb()).optional(),bannedReason:lk(fT).optional(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),netRevenue:lA().default(0),website:lk(lb()).optional(),youtube:lk(lb()).optional(),twitter:lk(lb()).optional(),linkedin:lk(lb()).optional(),instagram:lk(lb()).optional(),tiktok:lk(lb()).optional()});!function(e){e.inboundSchema=fI,e.outboundSchema=fx}(tt||(tt={}));let fO=lE({id:lb(),event:fv,createdAt:lb(),data:lx(()=>fI)}),fC=lE({id:lb(),event:fb,createdAt:lb(),data:lx(()=>fx)});!function(e){e.inboundSchema=fO,e.outboundSchema=fC}(tr||(tr={}));let fk=lC({SaleCreated:"sale.created"}),fN=fk;!function(e){e.inboundSchema=fk,e.outboundSchema=fN}(ti||(ti={}));let fR=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),fP=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=fR,e.outboundSchema=fP}(tn||(tn={}));let fD=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()}),fU=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()});!function(e){e.inboundSchema=fD,e.outboundSchema=fU}(to||(to={}));let fL=lE({url:lb(),percentage:lA()}),fK=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=fL,e.outboundSchema=fK}(ta||(ta={}));let fM=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>fL))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),fB=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>fK))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=fM,e.outboundSchema=fB}(ts||(ts={}));let fj=lE({amount:lA(),currency:lb(),paymentProcessor:lb(),invoiceId:lk(lb())}),f$=lE({amount:lA(),currency:lb(),paymentProcessor:lb(),invoiceId:lk(lb())});!function(e){e.inboundSchema=fj,e.outboundSchema=f$}(tl||(tl={}));let fz=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb()),totalClicks:lA(),totalLeads:lA(),totalConversions:lA(),totalSales:lA(),totalSaleAmount:lA(),totalCommissions:lA()}),fF=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb()),totalClicks:lA(),totalLeads:lA(),totalConversions:lA(),totalSales:lA(),totalSaleAmount:lA(),totalCommissions:lA()});!function(e){e.inboundSchema=fz,e.outboundSchema=fF}(tu||(tu={}));let fq=lE({eventName:lb(),customer:lx(()=>fR),click:lx(()=>fD),link:lx(()=>fM),sale:lx(()=>fj),partner:lk(lx(()=>fz)).optional(),metadata:lk(lI(l_()))}),fV=lE({eventName:lb(),customer:lx(()=>fP),click:lx(()=>fU),link:lx(()=>fB),sale:lx(()=>f$),partner:lk(lx(()=>fF)).optional(),metadata:lk(lI(l_()))});!function(e){e.inboundSchema=fq,e.outboundSchema=fV}(tc||(tc={}));let fH=lE({id:lb(),event:fk,createdAt:lb(),data:lx(()=>fq)}),fG=lE({id:lb(),event:fN,createdAt:lb(),data:lx(()=>fV)});!function(e){e.inboundSchema=fH,e.outboundSchema=fG}(td||(td={}));let fW={Stripe:"stripe",Shopify:"shopify",Polar:"polar",Paddle:"paddle",Revenuecat:"revenuecat",Custom:"custom"},fZ=lC({Sale:"sale"}),fJ=fZ;!function(e){e.inboundSchema=fZ,e.outboundSchema=fJ}(tp||(tp={}));let fQ=lC(fW),fY=fQ;!function(e){e.inboundSchema=fQ,e.outboundSchema=fY}(tf||(tf={}));let fX=lE({amount:lA().int(),invoiceId:lk(lb()).default(null),paymentProcessor:fQ.default("custom")}),f0=lE({amount:lA().int(),invoiceId:lk(lb()).default(null),paymentProcessor:fY.default("custom")});!function(e){e.inboundSchema=fX,e.outboundSchema=f0}(th||(th={}));let f1=lE({url:lb(),percentage:lA()}),f2=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=f1,e.outboundSchema=f2}(tm||(tm={}));let f4=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dR)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utm_source:lk(lb()),utm_medium:lk(lb()),utm_campaign:lk(lb()),utm_term:lk(lb()),utm_content:lk(lb()),testVariants:lk(lS(lx(()=>f1))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),f3=lE({id:lb(),domain:lb(),key:lb(),url:lb(),trackConversion:lw(),externalId:lk(lb()),tenantId:lk(lb()),programId:lk(lb()),partnerId:lk(lb()),archived:lw(),expiresAt:lb(),expiredUrl:lk(lb()),password:lk(lb()),proxy:lw(),title:lk(lb()),description:lk(lb()),image:lk(lb()),video:lk(lb()),rewrite:lw(),doIndex:lw(),ios:lk(lb()),android:lk(lb()),geo:lk(lI(lb())),publicStats:lw(),tags:lk(lS(dP)),folderId:lk(lb()),webhookIds:lS(lb()),comments:lk(lb()),shortLink:lb(),qrCode:lb(),utmSource:lk(lb()),utmMedium:lk(lb()),utmCampaign:lk(lb()),utmTerm:lk(lb()),utmContent:lk(lb()),testVariants:lk(lS(lx(()=>f2))).optional(),testStartedAt:lk(lb()),testCompletedAt:lk(lb()),userId:lk(lb()),workspaceId:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),lastClicked:lb(),createdAt:lb(),updatedAt:lb(),tagId:lk(lb()),projectId:lb()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=f4,e.outboundSchema=f3}(tg||(tg={}));let f5=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()}),f6=lE({id:lb(),timestamp:lb(),url:lb(),country:lb(),city:lb(),region:lb(),continent:lb(),device:lb(),browser:lb(),os:lb(),trigger:lk(lb()).optional(),referer:lb(),refererUrl:lb(),qr:lw(),ip:lb()});!function(e){e.inboundSchema=f5,e.outboundSchema=f6}(ty||(ty={}));let f8=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),f9=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=f8,e.outboundSchema=f9}(tv||(tv={}));let f7=lE({event:fZ,timestamp:lb(),eventId:lb(),eventName:lb(),sale:lx(()=>fX),metadata:lk(l_()).optional(),link:lx(()=>f4),click:lx(()=>f5),customer:lx(()=>f8),saleAmount:lA(),invoice_id:lb(),payment_processor:lb(),click_id:lb(),link_id:lb(),domain:lb(),key:lb(),url:lb(),continent:lb(),country:lb(),city:lb(),device:lb(),browser:lb(),os:lb(),qr:lA(),ip:lb()}).transform(e=>uK(e,{invoice_id:"invoiceId",payment_processor:"paymentProcessor",click_id:"clickId",link_id:"linkId"})),he=lE({event:fJ,timestamp:lb(),eventId:lb(),eventName:lb(),sale:lx(()=>f0),metadata:lk(l_()).optional(),link:lx(()=>f3),click:lx(()=>f6),customer:lx(()=>f9),saleAmount:lA(),invoiceId:lb(),paymentProcessor:lb(),clickId:lb(),linkId:lb(),domain:lb(),key:lb(),url:lb(),continent:lb(),country:lb(),city:lb(),device:lb(),browser:lb(),os:lb(),qr:lA(),ip:lb()}).transform(e=>uK(e,{invoiceId:"invoice_id",paymentProcessor:"payment_processor",clickId:"click_id",linkId:"link_id"}));!function(e){e.inboundSchema=f7,e.outboundSchema=he}(tb||(tb={}));let ht=lE({token:lb()}),hr=lE({token:lb()});!function(e){e.inboundSchema=ht,e.outboundSchema=hr}(tA||(tA={}));let hi=lT([fl,pG,pS,fH,fO,d3]),hn=lT([fu,pW,pE,fG,fC,d5]);!function(e){e.inboundSchema=hi,e.outboundSchema=hn}(tw||(tw={}));let ho={Owner:"owner",Member:"member"},ha=lC({Free:"free",Pro:"pro",Business:"business",BusinessPlus:"business plus",BusinessExtra:"business extra",BusinessMax:"business max",Advanced:"advanced",Enterprise:"enterprise"}),hs=ha;!function(e){e.inboundSchema=ha,e.outboundSchema=hs}(t_||(t_={}));let hl=lC(ho),hu=hl;!function(e){e.inboundSchema=hl,e.outboundSchema=hu}(tS||(tS={}));let hc=lE({role:hl,defaultFolderId:lk(lb())}),hd=lE({role:hu,defaultFolderId:lk(lb())});!function(e){e.inboundSchema=hc,e.outboundSchema=hd}(tE||(tE={}));let hp=lE({slug:lb(),primary:lw().default(!1),verified:lw().default(!1)}),hf=lE({slug:lb(),primary:lw().default(!1),verified:lw().default(!1)});!function(e){e.inboundSchema=hp,e.outboundSchema=hf}(tT||(tT={}));let hh=lE({id:lb(),name:lb(),slug:lb(),logo:lk(lb()).default(null),inviteCode:lk(lb()),plan:ha,stripeId:lk(lb()),billingCycleStart:lA(),paymentFailedAt:lk(lb()),stripeConnectId:lk(lb()),totalLinks:lA(),usage:lA(),usageLimit:lA(),linksUsage:lA(),linksLimit:lA(),payoutsUsage:lA(),payoutsLimit:lA(),payoutFee:lA(),domainsLimit:lA(),tagsLimit:lA(),foldersUsage:lA(),foldersLimit:lA(),groupsLimit:lA(),usersLimit:lA(),aiUsage:lA(),aiLimit:lA(),conversionEnabled:lw(),dotLinkClaimed:lw(),createdAt:lb(),users:lS(lx(()=>hc)),domains:lS(lx(()=>hp)),flags:lI(lw()).optional(),store:lk(lI(l_())),allowedHostnames:lk(lS(lb())),ssoEmailDomain:lk(lb()),ssoEnforcedAt:lk(lb())}),hm=lE({id:lb(),name:lb(),slug:lb(),logo:lk(lb()).default(null),inviteCode:lk(lb()),plan:hs,stripeId:lk(lb()),billingCycleStart:lA(),paymentFailedAt:lk(lb()),stripeConnectId:lk(lb()),totalLinks:lA(),usage:lA(),usageLimit:lA(),linksUsage:lA(),linksLimit:lA(),payoutsUsage:lA(),payoutsLimit:lA(),payoutFee:lA(),domainsLimit:lA(),tagsLimit:lA(),foldersUsage:lA(),foldersLimit:lA(),groupsLimit:lA(),usersLimit:lA(),aiUsage:lA(),aiLimit:lA(),conversionEnabled:lw(),dotLinkClaimed:lw(),createdAt:lb(),users:lS(lx(()=>hd)),domains:lS(lx(()=>hf)),flags:lI(lw()).optional(),store:lk(lI(l_())),allowedHostnames:lk(lS(lb())),ssoEmailDomain:lk(lb()),ssoEnforcedAt:lk(lb())});!function(e){e.inboundSchema=hh,e.outboundSchema=hm}(tI||(tI={}));let hg=lT([lb(),lS(lb())]),hy=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=hg,e.outboundSchema=hy}(tx||(tx={}));let hv=lT([lb(),lS(lb())]),hb=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=hv,e.outboundSchema=hb}(tO||(tO={}));let hA=lE({url:lb(),percentage:lA()}),hw=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=hA,e.outboundSchema=hw}(tC||(tC={}));let h_=lE({url:lb(),domain:lb().optional(),key:lb().optional(),keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),prefix:lb().optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>hA))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),hS=lE({url:lb(),domain:lb().optional(),key:lb().optional(),keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),prefix:lb().optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>hw))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=h_,e.outboundSchema=hS}(tk||(tk={}));let hE=lT([p1,pQ]),hT=lT([p2,pY]);!function(e){e.inboundSchema=hE,e.outboundSchema=hT}(tN||(tN={}));let hI=lE({linkIds:lS(lb())}),hx=lE({linkIds:lS(lb())});!function(e){e.inboundSchema=hI,e.outboundSchema=hx}(tR||(tR={}));let hO=lE({deletedCount:lA()}),hC=lE({deletedCount:lA()});!function(e){e.inboundSchema=hO,e.outboundSchema=hC}(tP||(tP={}));let hk=lT([lb(),lS(lb())]),hN=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=hk,e.outboundSchema=hN}(tD||(tD={}));let hR=lT([lb(),lS(lb())]),hP=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=hR,e.outboundSchema=hP}(tU||(tU={}));let hD=lE({url:lb(),percentage:lA()}),hU=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=hD,e.outboundSchema=hU}(tL||(tL={}));let hL=lE({url:lb().optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>hD))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),hK=lE({url:lb().optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>hU))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=hL,e.outboundSchema=hK}(tK||(tK={}));let hM=lE({linkIds:lS(lb()).optional(),externalIds:lS(lb()).optional(),data:lx(()=>hL)}),hB=lE({linkIds:lS(lb()).optional(),externalIds:lS(lb()).optional(),data:lx(()=>hK)});!function(e){e.inboundSchema=hM,e.outboundSchema=hB}(tM||(tM={}));let hj=lT([lb(),lS(lb())]),h$=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=hj,e.outboundSchema=h$}(tB||(tB={}));let hz=lE({domains:lT([lb(),lS(lb())])}),hF=lE({domains:lT([lb(),lS(lb())])});!function(e){e.inboundSchema=hz,e.outboundSchema=hF}(tj||(tj={}));let hq=lE({domain:lb(),available:lw(),price:lk(lb()),premium:lk(lw())}),hV=lE({domain:lb(),available:lw(),price:lk(lb()),premium:lk(lw())});!function(e){e.inboundSchema=hq,e.outboundSchema=hV}(t$||(t$={}));let hH={Percentage:"percentage",Flat:"flat"},hG=lE({email:lk(lb()).optional(),name:lk(lb()).optional(),avatar:lk(lb()).optional(),externalId:lb(),stripeCustomerId:lk(lb()).optional()}),hW=lE({email:lk(lb()).optional(),name:lk(lb()).optional(),avatar:lk(lb()).optional(),externalId:lb(),stripeCustomerId:lk(lb()).optional()});!function(e){e.inboundSchema=hG,e.outboundSchema=hW}(tz||(tz={}));let hZ=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())}),hJ=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())});!function(e){e.inboundSchema=hZ,e.outboundSchema=hJ}(tF||(tF={}));let hQ=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())}),hY=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())});!function(e){e.inboundSchema=hQ,e.outboundSchema=hY}(tq||(tq={}));let hX=lC(hH),h0=hX;!function(e){e.inboundSchema=hX,e.outboundSchema=h0}(tV||(tV={}));let h1=lE({id:lb(),amount:lA(),type:hX,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()}),h2=lE({id:lb(),amount:lA(),type:h0,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()});!function(e){e.inboundSchema=h1,e.outboundSchema=h2}(tH||(tH={}));let h4=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>hZ)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>hQ)).optional(),discount:lk(lx(()=>h1)).optional()}),h3=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>hJ)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>hY)).optional(),discount:lk(lx(()=>h2)).optional()});!function(e){e.inboundSchema=h4,e.outboundSchema=h3}(tG||(tG={}));let h5=lE({slug:lb(),expiredUrl:lk(lb()).optional(),notFoundUrl:lk(lb()).optional(),archived:lw().default(!1),placeholder:lk(lb()).optional(),logo:lk(lb()).optional(),assetLinks:lk(lb()).optional(),appleAppSiteAssociation:lk(lb()).optional()}),h6=lE({slug:lb(),expiredUrl:lk(lb()).optional(),notFoundUrl:lk(lb()).optional(),archived:lw().default(!1),placeholder:lk(lb()).optional(),logo:lk(lb()).optional(),assetLinks:lk(lb()).optional(),appleAppSiteAssociation:lk(lb()).optional()});!function(e){e.inboundSchema=h5,e.outboundSchema=h6}(tW||(tW={}));let h8=lC({Write:"write",Read:"read"}),h9=h8;!function(e){e.inboundSchema=h8,e.outboundSchema=h9}(tZ||(tZ={}));let h7=lE({name:lb(),accessLevel:lk(h8).default(null)}),me=lE({name:lb(),accessLevel:lk(h9).default(null)});!function(e){e.inboundSchema=h7,e.outboundSchema=me}(tJ||(tJ={}));let mt=lT([lb(),lS(lb())]),mr=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=mt,e.outboundSchema=mr}(tQ||(tQ={}));let mi=lT([lb(),lS(lb())]),mn=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=mi,e.outboundSchema=mn}(tY||(tY={}));let mo=lE({url:lb(),percentage:lA()}),ma=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=mo,e.outboundSchema=ma}(tX||(tX={}));let ms=lE({url:lb(),domain:lb().optional(),key:lb().optional(),keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),prefix:lb().optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>mo))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),ml=lE({url:lb(),domain:lb().optional(),key:lb().optional(),keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),prefix:lb().optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>ma))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=ms,e.outboundSchema=ml}(t0||(t0={}));let mu={Pending:"pending",Approved:"approved",Rejected:"rejected",Invited:"invited",Declined:"declined",Deactivated:"deactivated",Banned:"banned",Archived:"archived"},mc={TosViolation:"tos_violation",InappropriateContent:"inappropriate_content",FakeTraffic:"fake_traffic",Fraud:"fraud",Spam:"spam",BrandAbuse:"brand_abuse"},md=lT([lb(),lS(lb())]),mp=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=md,e.outboundSchema=mp}(t1||(t1={}));let mf=lT([lb(),lS(lb())]),mh=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=mf,e.outboundSchema=mh}(t2||(t2={}));let mm=lE({url:lb(),percentage:lA()}),mg=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=mm,e.outboundSchema=mg}(t4||(t4={}));let my=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>mm))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),mv=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>mg))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=my,e.outboundSchema=mv}(t3||(t3={}));let mb=lE({name:lk(lb()).optional(),email:lb(),username:lk(lb()).optional(),image:lk(lb()).optional(),tenantId:lb().optional(),groupId:lb().optional(),country:lk(lb()).optional(),description:lk(lb()).optional(),linkProps:lx(()=>my).optional()}),mA=lE({name:lk(lb()).optional(),email:lb(),username:lk(lb()).optional(),image:lk(lb()).optional(),tenantId:lb().optional(),groupId:lb().optional(),country:lk(lb()).optional(),description:lk(lb()).optional(),linkProps:lx(()=>mv).optional()});!function(e){e.inboundSchema=mb,e.outboundSchema=mA}(t5||(t5={}));let mw=lC(mu),m_=mw;!function(e){e.inboundSchema=mw,e.outboundSchema=m_}(t6||(t6={}));let mS=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),mE=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=mS,e.outboundSchema=mE}(t8||(t8={}));let mT=lC(mc),mI=mT;!function(e){e.inboundSchema=mT,e.outboundSchema=mI}(t9||(t9={}));let mx=lE({id:lb(),name:lb(),companyName:lk(lb()),email:lk(lb()),image:lk(lb()),description:lk(lb()).optional(),country:lk(lb()),paypalEmail:lk(lb()),stripeConnectId:lk(lb()),payoutsEnabledAt:lk(lb()),programId:lb(),groupId:lk(lb()).optional(),partnerId:lb(),tenantId:lk(lb()),createdAt:lb(),status:mw,links:lk(lS(lx(()=>mS))),totalCommissions:lA().default(0),clickRewardId:lk(lb()).optional(),leadRewardId:lk(lb()).optional(),saleRewardId:lk(lb()).optional(),discountId:lk(lb()).optional(),applicationId:lk(lb()).optional(),bannedAt:lk(lb()).optional(),bannedReason:lk(mT).optional(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),netRevenue:lA().default(0),website:lk(lb()).optional(),youtube:lk(lb()).optional(),twitter:lk(lb()).optional(),linkedin:lk(lb()).optional(),instagram:lk(lb()).optional(),tiktok:lk(lb()).optional()}),mO=lE({id:lb(),name:lb(),companyName:lk(lb()),email:lk(lb()),image:lk(lb()),description:lk(lb()).optional(),country:lk(lb()),paypalEmail:lk(lb()),stripeConnectId:lk(lb()),payoutsEnabledAt:lk(lb()),programId:lb(),groupId:lk(lb()).optional(),partnerId:lb(),tenantId:lk(lb()),createdAt:lb(),status:m_,links:lk(lS(lx(()=>mE))),totalCommissions:lA().default(0),clickRewardId:lk(lb()).optional(),leadRewardId:lk(lb()).optional(),saleRewardId:lk(lb()).optional(),discountId:lk(lb()).optional(),applicationId:lk(lb()).optional(),bannedAt:lk(lb()).optional(),bannedReason:lk(mI).optional(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),netRevenue:lA().default(0),website:lk(lb()).optional(),youtube:lk(lb()).optional(),twitter:lk(lb()).optional(),linkedin:lk(lb()).optional(),instagram:lk(lb()).optional(),tiktok:lk(lb()).optional()});!function(e){e.inboundSchema=mx,e.outboundSchema=mO}(t7||(t7={}));let mC=lT([lb(),lS(lb())]),mk=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=mC,e.outboundSchema=mk}(re||(re={}));let mN=lT([lb(),lS(lb())]),mR=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=mN,e.outboundSchema=mR}(rt||(rt={}));let mP=lE({url:lb(),percentage:lA()}),mD=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=mP,e.outboundSchema=mD}(rr||(rr={}));let mU=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>mP))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),mL=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>mD))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=mU,e.outboundSchema=mL}(ri||(ri={}));let mK=lE({partnerId:lk(lb()).optional(),tenantId:lk(lb()).optional(),url:lk(lb()).optional(),key:lb().optional(),comments:lk(lb()).optional(),linkProps:lx(()=>mU).optional()}),mM=lE({partnerId:lk(lb()).optional(),tenantId:lk(lb()).optional(),url:lk(lb()).optional(),key:lb().optional(),comments:lk(lb()).optional(),linkProps:lx(()=>mL).optional()});!function(e){e.inboundSchema=mK,e.outboundSchema=mM}(rn||(rn={}));let mB=lT([lb(),lS(lb())]),mj=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=mB,e.outboundSchema=mj}(ro||(ro={}));let m$=lT([lb(),lS(lb())]),mz=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=m$,e.outboundSchema=mz}(ra||(ra={}));let mF=lE({url:lb(),percentage:lA()}),mq=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=mF,e.outboundSchema=mq}(rs||(rs={}));let mV=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>mF))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),mH=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>mq))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=mV,e.outboundSchema=mH}(rl||(rl={}));let mG=lE({name:lk(lb()).optional(),email:lb(),username:lk(lb()).optional(),image:lk(lb()).optional(),tenantId:lb().optional(),groupId:lb().optional(),country:lk(lb()).optional(),description:lk(lb()).optional(),linkProps:lx(()=>mV).optional()}),mW=lE({name:lk(lb()).optional(),email:lb(),username:lk(lb()).optional(),image:lk(lb()).optional(),tenantId:lb().optional(),groupId:lb().optional(),country:lk(lb()).optional(),description:lk(lb()).optional(),linkProps:lx(()=>mH).optional()});!function(e){e.inboundSchema=mG,e.outboundSchema=mW}(ru||(ru={}));let mZ=lE({partnerId:lb().optional(),tenantId:lb().optional(),partner:lx(()=>mG).optional()}),mJ=lE({partnerId:lb().optional(),tenantId:lb().optional(),partner:lx(()=>mW).optional()});!function(e){e.inboundSchema=mZ,e.outboundSchema=mJ}(rc||(rc={}));let mQ=lE({publicToken:lb(),expires:lb()}),mY=lE({publicToken:lb(),expires:lb()});!function(e){e.inboundSchema=mQ,e.outboundSchema=mY}(rd||(rd={}));let mX=lC({Red:"red",Yellow:"yellow",Green:"green",Blue:"blue",Purple:"purple",Brown:"brown",Pink:"pink"}),m0=mX;!function(e){e.inboundSchema=mX,e.outboundSchema=m0}(rp||(rp={}));let m1=lE({name:lb().optional(),color:mX.optional(),tag:lb().optional()}),m2=lE({name:lb().optional(),color:m0.optional(),tag:lb().optional()});!function(e){e.inboundSchema=m1,e.outboundSchema=m2}(rf||(rf={}));let m4=lE({id:lb()}),m3=lE({id:lb()});!function(e){e.inboundSchema=m4,e.outboundSchema=m3}(rh||(rh={}));let m5=lE({id:lb()}),m6=lE({id:lb()});!function(e){e.inboundSchema=m5,e.outboundSchema=m6}(rm||(rm={}));let m8=lE({slug:lb()}),m9=lE({slug:lb()});!function(e){e.inboundSchema=m8,e.outboundSchema=m9}(rg||(rg={}));let m7=lE({slug:lb()}),ge=lE({slug:lb()});!function(e){e.inboundSchema=m7,e.outboundSchema=ge}(ry||(ry={}));let gt=lE({id:lb()}),gr=lE({id:lb()});!function(e){e.inboundSchema=gt,e.outboundSchema=gr}(rv||(rv={}));let gi=lE({id:lb()}),gn=lE({id:lb()});!function(e){e.inboundSchema=gi,e.outboundSchema=gn}(rb||(rb={}));let go=lE({linkId:lb()}),ga=lE({linkId:lb()});!function(e){e.inboundSchema=go,e.outboundSchema=ga}(rA||(rA={}));let gs=lE({id:lb()}),gl=lE({id:lb()});!function(e){e.inboundSchema=gs,e.outboundSchema=gl}(rw||(rw={}));let gu=lE({id:lb()}),gc=lE({id:lb()});!function(e){e.inboundSchema=gu,e.outboundSchema=gc}(r_||(r_={}));let gd=lE({id:lb()}),gp=lE({id:lb()});!function(e){e.inboundSchema=gd,e.outboundSchema=gp}(rS||(rS={}));let gf={Percentage:"percentage",Flat:"flat"},gh=lE({id:lb(),includeExpandedFields:lw().optional()}),gm=lE({id:lb(),includeExpandedFields:lw().optional()});!function(e){e.inboundSchema=gh,e.outboundSchema=gm}(rE||(rE={}));let gg=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())}),gy=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())});!function(e){e.inboundSchema=gg,e.outboundSchema=gy}(rT||(rT={}));let gv=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())}),gb=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())});!function(e){e.inboundSchema=gv,e.outboundSchema=gb}(rI||(rI={}));let gA=lC(gf),gw=gA;!function(e){e.inboundSchema=gA,e.outboundSchema=gw}(rx||(rx={}));let g_=lE({id:lb(),amount:lA(),type:gA,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()}),gS=lE({id:lb(),amount:lA(),type:gw,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()});!function(e){e.inboundSchema=g_,e.outboundSchema=gS}(rO||(rO={}));let gE=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>gg)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>gv)).optional(),discount:lk(lx(()=>g_)).optional()}),gT=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>gy)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>gb)).optional(),discount:lk(lx(()=>gS)).optional()});!function(e){e.inboundSchema=gE,e.outboundSchema=gT}(rC||(rC={}));let gI={Asc:"asc",Desc:"desc"},gx={Percentage:"percentage",Flat:"flat"},gO=lC({CreatedAt:"createdAt",SaleAmount:"saleAmount"}),gC=gO;!function(e){e.inboundSchema=gO,e.outboundSchema=gC}(rk||(rk={}));let gk=lC(gI),gN=gk;!function(e){e.inboundSchema=gk,e.outboundSchema=gN}(rN||(rN={}));let gR=lE({email:lb().optional(),externalId:lb().optional(),search:lb().optional(),country:lb().optional(),linkId:lb().optional(),includeExpandedFields:lw().optional(),sortBy:gO.default("createdAt"),sortOrder:gk.default("desc"),page:lA().default(1),pageSize:lA().default(100)}),gP=lE({email:lb().optional(),externalId:lb().optional(),search:lb().optional(),country:lb().optional(),linkId:lb().optional(),includeExpandedFields:lw().optional(),sortBy:gC.default("createdAt"),sortOrder:gN.default("desc"),page:lA().default(1),pageSize:lA().default(100)});!function(e){e.inboundSchema=gR,e.outboundSchema=gP}(rR||(rR={}));let gD=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())}),gU=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())});!function(e){e.inboundSchema=gD,e.outboundSchema=gU}(rP||(rP={}));let gL=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())}),gK=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())});!function(e){e.inboundSchema=gL,e.outboundSchema=gK}(rD||(rD={}));let gM=lC(gx),gB=gM;!function(e){e.inboundSchema=gM,e.outboundSchema=gB}(rU||(rU={}));let gj=lE({id:lb(),amount:lA(),type:gM,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()}),g$=lE({id:lb(),amount:lA(),type:gB,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()});!function(e){e.inboundSchema=gj,e.outboundSchema=g$}(rL||(rL={}));let gz=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>gD)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>gL)).optional(),discount:lk(lx(()=>gj)).optional()}),gF=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>gU)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>gK)).optional(),discount:lk(lx(()=>g$)).optional()});!function(e){e.inboundSchema=gz,e.outboundSchema=gF}(rK||(rK={}));let gq=lE({domain:lb().optional(),key:lb().optional(),linkId:lb().optional(),externalId:lb().optional()}),gV=lE({domain:lb().optional(),key:lb().optional(),linkId:lb().optional(),externalId:lb().optional()});!function(e){e.inboundSchema=gq,e.outboundSchema=gV}(rM||(rM={}));let gH={CreatedAt:"createdAt",Clicks:"clicks",SaleAmount:"saleAmount",LastClicked:"lastClicked"},gG={Asc:"asc",Desc:"desc"},gW={CreatedAt:"createdAt",Clicks:"clicks",SaleAmount:"saleAmount",LastClicked:"lastClicked"},gZ=lT([lb(),lS(lb())]),gJ=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=gZ,e.outboundSchema=gJ}(rB||(rB={}));let gQ=lT([lb(),lS(lb())]),gY=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=gQ,e.outboundSchema=gY}(rj||(rj={}));let gX=lC(gH),g0=gX;!function(e){e.inboundSchema=gX,e.outboundSchema=g0}(r$||(r$={}));let g1=lC(gG),g2=g1;!function(e){e.inboundSchema=g1,e.outboundSchema=g2}(rz||(rz={}));let g4=lC(gW),g3=g4;!function(e){e.inboundSchema=g4,e.outboundSchema=g3}(rF||(rF={}));let g5=lE({domain:lb().optional(),tagId:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),search:lb().optional(),userId:lb().optional(),tenantId:lb().optional(),showArchived:lw().default(!1),withTags:lw().default(!1),sortBy:gX.default("createdAt"),sortOrder:g1.default("desc"),sort:g4.default("createdAt"),page:lA().default(1),pageSize:lA().default(100)}),g6=lE({domain:lb().optional(),tagId:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),search:lb().optional(),userId:lb().optional(),tenantId:lb().optional(),showArchived:lw().default(!1),withTags:lw().default(!1),sortBy:g0.default("createdAt"),sortOrder:g2.default("desc"),sort:g3.default("createdAt"),page:lA().default(1),pageSize:lA().default(100)});!function(e){e.inboundSchema=g5,e.outboundSchema=g6}(rq||(rq={}));let g8=lE({Result:lS(p1)}).transform(e=>uK(e,{Result:"result"})),g9=lE({result:lS(p2)}).transform(e=>uK(e,{result:"Result"}));!function(e){e.inboundSchema=g8,e.outboundSchema=g9}(rV||(rV={}));let g7={FolderId:"folderId"},ye={UserId:"userId"},yt={TagId:"tagId"},yr={Domain:"domain"},yi=lT([lb(),lS(lb())]),yn=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=yi,e.outboundSchema=yn}(rH||(rH={}));let yo=lT([lb(),lS(lb())]),ya=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=yo,e.outboundSchema=ya}(rG||(rG={}));let ys=lC(g7),yl=ys;!function(e){e.inboundSchema=ys,e.outboundSchema=yl}(rW||(rW={}));let yu=lC(ye),yc=yu;!function(e){e.inboundSchema=yu,e.outboundSchema=yc}(rZ||(rZ={}));let yd=lC(yt),yp=yd;!function(e){e.inboundSchema=yd,e.outboundSchema=yp}(rJ||(rJ={}));let yf=lC(yr),yh=yf;!function(e){e.inboundSchema=yf,e.outboundSchema=yh}(rQ||(rQ={}));let ym=lT([yf,yd,yu,ys]),yg=lT([yh,yp,yc,yl]);!function(e){e.inboundSchema=ym,e.outboundSchema=yg}(rY||(rY={}));let yy=lE({domain:lb().optional(),tagId:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),search:lb().optional(),userId:lb().optional(),tenantId:lb().optional(),showArchived:lw().default(!1),withTags:lw().default(!1),groupBy:lT([yf,yd,yu,ys]).optional()}),yv=lE({domain:lb().optional(),tagId:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),search:lb().optional(),userId:lb().optional(),tenantId:lb().optional(),showArchived:lw().default(!1),withTags:lw().default(!1),groupBy:lT([yh,yp,yc,yl]).optional()});!function(e){e.inboundSchema=yy,e.outboundSchema=yv}(rX||(rX={}));let yb=lC({L:"L",M:"M",Q:"Q",H:"H"}),yA=yb;!function(e){e.inboundSchema=yb,e.outboundSchema=yA}(r0||(r0={}));let yw=lE({url:lb(),logo:lb().optional(),size:lA().default(600),level:yb.default("L"),fgColor:lb().default("#000000"),bgColor:lb().default("#FFFFFF"),hideLogo:lw().default(!1),margin:lA().default(2),includeMargin:lw().default(!0)}),y_=lE({url:lb(),logo:lb().optional(),size:lA().default(600),level:yA.default("L"),fgColor:lb().default("#000000"),bgColor:lb().default("#FFFFFF"),hideLogo:lw().default(!1),margin:lA().default(2),includeMargin:lw().default(!0)});!function(e){e.inboundSchema=yw,e.outboundSchema=y_}(r1||(r1={}));let yS={Asc:"asc",Desc:"desc"},yE=lC({Name:"name",CreatedAt:"createdAt"}),yT=yE;!function(e){e.inboundSchema=yE,e.outboundSchema=yT}(r2||(r2={}));let yI=lC(yS),yx=yI;!function(e){e.inboundSchema=yI,e.outboundSchema=yx}(r4||(r4={}));let yO=lT([lb(),lS(lb())]),yC=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=yO,e.outboundSchema=yC}(r3||(r3={}));let yk=lE({sortBy:yE.default("name"),sortOrder:yI.default("asc"),search:lb().optional(),ids:lT([lb(),lS(lb())]).optional(),page:lA().default(1),pageSize:lA().default(100)}),yN=lE({sortBy:yT.default("name"),sortOrder:yx.default("asc"),search:lb().optional(),ids:lT([lb(),lS(lb())]).optional(),page:lA().default(1),pageSize:lA().default(100)});!function(e){e.inboundSchema=yk,e.outboundSchema=yN}(r5||(r5={}));let yR=lE({idOrSlug:lb()}),yP=lE({idOrSlug:lb()});!function(e){e.inboundSchema=yR,e.outboundSchema=yP}(r6||(r6={}));let yD={Pending:"pending",Processed:"processed",Paid:"paid",Refunded:"refunded",Duplicate:"duplicate",Fraud:"fraud",Canceled:"canceled"},yU={CreatedAt:"createdAt",Amount:"amount"},yL={Asc:"asc",Desc:"desc"},yK={TwentyFourh:"24h",Sevend:"7d",Thirtyd:"30d",Ninetyd:"90d",Oney:"1y",Mtd:"mtd",Qtd:"qtd",Ytd:"ytd",All:"all"},yM={Click:"click",Lead:"lead",Sale:"sale",Custom:"custom"},yB={Pending:"pending",Processed:"processed",Paid:"paid",Refunded:"refunded",Duplicate:"duplicate",Fraud:"fraud",Canceled:"canceled"},yj=lC({Click:"click",Lead:"lead",Sale:"sale",Custom:"custom"}),y$=yj;!function(e){e.inboundSchema=yj,e.outboundSchema=y$}(r8||(r8={}));let yz=lC(yD),yF=yz;!function(e){e.inboundSchema=yz,e.outboundSchema=yF}(r9||(r9={}));let yq=lC(yU),yV=yq;!function(e){e.inboundSchema=yq,e.outboundSchema=yV}(r7||(r7={}));let yH=lC(yL),yG=yH;!function(e){e.inboundSchema=yH,e.outboundSchema=yG}(ie||(ie={}));let yW=lC(yK),yZ=yW;!function(e){e.inboundSchema=yW,e.outboundSchema=yZ}(it||(it={}));let yJ=lE({type:yj.optional(),customerId:lb().optional(),payoutId:lb().optional(),partnerId:lb().optional(),tenantId:lb().optional(),groupId:lb().optional(),invoiceId:lb().optional(),status:yz.optional(),sortBy:yq.default("createdAt"),sortOrder:yH.default("desc"),interval:yW.default("all"),start:lb().optional(),end:lb().optional(),page:lA().default(1),pageSize:lA().default(100)}),yQ=lE({type:y$.optional(),customerId:lb().optional(),payoutId:lb().optional(),partnerId:lb().optional(),tenantId:lb().optional(),groupId:lb().optional(),invoiceId:lb().optional(),status:yF.optional(),sortBy:yV.default("createdAt"),sortOrder:yG.default("desc"),interval:yZ.default("all"),start:lb().optional(),end:lb().optional(),page:lA().default(1),pageSize:lA().default(100)});!function(e){e.inboundSchema=yJ,e.outboundSchema=yQ}(ir||(ir={}));let yY=lC(yM),yX=yY;!function(e){e.inboundSchema=yY,e.outboundSchema=yX}(ii||(ii={}));let y0=lC(yB),y1=y0;!function(e){e.inboundSchema=y0,e.outboundSchema=y1}(io||(io={}));let y2=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb())}),y4=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb())});!function(e){e.inboundSchema=y2,e.outboundSchema=y4}(ia||(ia={}));let y3=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),y5=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=y3,e.outboundSchema=y5}(is||(is={}));let y6=lE({id:lb(),type:yY.optional(),amount:lA(),earnings:lA(),currency:lb(),status:y0,invoiceId:lk(lb()),description:lk(lb()),quantity:lA(),userId:lk(lb()).optional(),createdAt:lb(),updatedAt:lb(),partner:lx(()=>y2),customer:lk(lx(()=>y3)).optional()}),y8=lE({id:lb(),type:yX.optional(),amount:lA(),earnings:lA(),currency:lb(),status:y1,invoiceId:lk(lb()),description:lk(lb()),quantity:lA(),userId:lk(lb()).optional(),createdAt:lb(),updatedAt:lb(),partner:lx(()=>y4),customer:lk(lx(()=>y5)).optional()});!function(e){e.inboundSchema=y6,e.outboundSchema=y8}(il||(il={}));let y9=lE({archived:lw().default(!1),search:lb().optional(),page:lA().default(1),pageSize:lA().default(50)}),y7=lE({archived:lw().default(!1),search:lb().optional(),page:lA().default(1),pageSize:lA().default(50)});!function(e){e.inboundSchema=y9,e.outboundSchema=y7}(iu||(iu={}));let ve=lE({Result:lS(pe)}).transform(e=>uK(e,{Result:"result"})),vt=lE({result:lS(pt)}).transform(e=>uK(e,{result:"Result"}));!function(e){e.inboundSchema=ve,e.outboundSchema=vt}(ic||(ic={}));let vr={TwentyFourh:"24h",Sevend:"7d",Thirtyd:"30d",Ninetyd:"90d",Oney:"1y",Mtd:"mtd",Qtd:"qtd",Ytd:"ytd",All:"all"},vi={Qr:"qr",Link:"link",Pageview:"pageview",Deeplink:"deeplink"},vn={New:"new",Recurring:"recurring"},vo={Asc:"asc",Desc:"desc"},va={Timestamp:"timestamp"},vs={Asc:"asc",Desc:"desc"},vl=lC({Clicks:"clicks",Leads:"leads",Sales:"sales"}),vu=vl;!function(e){e.inboundSchema=vl,e.outboundSchema=vu}(id||(id={}));let vc=lC(vr),vd=vc;!function(e){e.inboundSchema=vc,e.outboundSchema=vd}(ip||(ip={}));let vp=lC(vi),vf=vp;!function(e){e.inboundSchema=vp,e.outboundSchema=vf}(ih||(ih={}));let vh=lT([lb(),lS(lb())]),vm=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=vh,e.outboundSchema=vm}(im||(im={}));let vg=lC(vn),vy=vg;!function(e){e.inboundSchema=vg,e.outboundSchema=vy}(ig||(ig={}));let vv=lC(vo),vb=vv;!function(e){e.inboundSchema=vv,e.outboundSchema=vb}(iy||(iy={}));let vA=lC(va),vw=vA;!function(e){e.inboundSchema=vA,e.outboundSchema=vw}(iv||(iv={}));let v_=lC(vs),vS=v_;!function(e){e.inboundSchema=v_,e.outboundSchema=vS}(ib||(ib={}));let vE=lE({event:vl.default("clicks"),domain:lb().optional(),key:lb().optional(),linkId:lb().optional(),externalId:lb().optional(),tenantId:lb().optional(),programId:lb().optional(),partnerId:lb().optional(),customerId:lb().optional(),interval:vc.optional(),start:lb().optional(),end:lb().optional(),timezone:lb().default("UTC"),country:lb().optional(),city:lb().optional(),region:lb().optional(),continent:d6.optional(),device:lb().optional(),browser:lb().optional(),os:lb().optional(),trigger:vp.optional(),referer:lb().optional(),refererUrl:lb().optional(),url:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),root:lw().optional(),saleType:vg.optional(),query:lb().optional(),tagId:lb().optional(),qr:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),page:lA().default(1),limit:lA().default(100),sortOrder:vv.default("desc"),sortBy:vA.default("timestamp"),order:v_.default("desc")}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),vT=lE({event:vu.default("clicks"),domain:lb().optional(),key:lb().optional(),linkId:lb().optional(),externalId:lb().optional(),tenantId:lb().optional(),programId:lb().optional(),partnerId:lb().optional(),customerId:lb().optional(),interval:vd.optional(),start:lb().optional(),end:lb().optional(),timezone:lb().default("UTC"),country:lb().optional(),city:lb().optional(),region:lb().optional(),continent:d8.optional(),device:lb().optional(),browser:lb().optional(),os:lb().optional(),trigger:vf.optional(),referer:lb().optional(),refererUrl:lb().optional(),url:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),root:lw().optional(),saleType:vy.optional(),query:lb().optional(),tagId:lb().optional(),qr:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),page:lA().default(1),limit:lA().default(100),sortOrder:vb.default("desc"),sortBy:vw.default("timestamp"),order:vS.default("desc")}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=vE,e.outboundSchema=vT}(iA||(iA={}));let vI=lT([f7.and(lE({event:lO("sale")}).transform(e=>({event:e.event}))),pU.and(lE({event:lO("lead")}).transform(e=>({event:e.event}))),dz.and(lE({event:lO("click")}).transform(e=>({event:e.event})))]),vx=lT([he.and(lE({event:lO("sale")}).transform(e=>({event:e.event}))),pL.and(lE({event:lO("lead")}).transform(e=>({event:e.event}))),dF.and(lE({event:lO("click")}).transform(e=>({event:e.event})))]);!function(e){e.inboundSchema=vI,e.outboundSchema=vx}(iw||(iw={}));let vO=lE({search:lb().optional(),page:lA().default(1),pageSize:lA().default(50)}),vC=lE({search:lb().optional(),page:lA().default(1),pageSize:lA().default(50)});!function(e){e.inboundSchema=vO,e.outboundSchema=vC}(i_||(i_={}));let vk={CreatedAt:"createdAt",Clicks:"clicks",Leads:"leads",Conversions:"conversions",Sales:"sales",SaleAmount:"saleAmount",TotalCommissions:"totalCommissions",NetRevenue:"netRevenue"},vN={Asc:"asc",Desc:"desc"},vR={Pending:"pending",Approved:"approved",Rejected:"rejected",Invited:"invited",Declined:"declined",Deactivated:"deactivated",Banned:"banned",Archived:"archived"},vP={TosViolation:"tos_violation",InappropriateContent:"inappropriate_content",FakeTraffic:"fake_traffic",Fraud:"fraud",Spam:"spam",BrandAbuse:"brand_abuse"},vD=lC({Pending:"pending",Approved:"approved",Rejected:"rejected",Invited:"invited",Declined:"declined",Deactivated:"deactivated",Banned:"banned",Archived:"archived"}),vU=vD;!function(e){e.inboundSchema=vD,e.outboundSchema=vU}(iS||(iS={}));let vL=lC(vk),vK=vL;!function(e){e.inboundSchema=vL,e.outboundSchema=vK}(iE||(iE={}));let vM=lC(vN),vB=vM;!function(e){e.inboundSchema=vM,e.outboundSchema=vB}(iT||(iT={}));let vj=lE({status:vD.optional(),country:lb().optional(),sortBy:vL.default("saleAmount"),sortOrder:vM.default("desc"),email:lb().optional(),tenantId:lb().optional(),search:lb().optional(),includeExpandedFields:lw().optional(),page:lA().default(1),pageSize:lA().default(100)}),v$=lE({status:vU.optional(),country:lb().optional(),sortBy:vK.default("saleAmount"),sortOrder:vB.default("desc"),email:lb().optional(),tenantId:lb().optional(),search:lb().optional(),includeExpandedFields:lw().optional(),page:lA().default(1),pageSize:lA().default(100)});!function(e){e.inboundSchema=vj,e.outboundSchema=v$}(iI||(iI={}));let vz=lC(vR),vF=vz;!function(e){e.inboundSchema=vz,e.outboundSchema=vF}(ix||(ix={}));let vq=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),vV=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=vq,e.outboundSchema=vV}(iO||(iO={}));let vH=lC(vP),vG=vH;!function(e){e.inboundSchema=vH,e.outboundSchema=vG}(iC||(iC={}));let vW=lE({id:lb(),name:lb(),companyName:lk(lb()),email:lk(lb()),image:lk(lb()),description:lk(lb()).optional(),country:lk(lb()),paypalEmail:lk(lb()),stripeConnectId:lk(lb()),payoutsEnabledAt:lk(lb()),programId:lb(),groupId:lk(lb()).optional(),partnerId:lb(),tenantId:lk(lb()),createdAt:lb(),status:vz,links:lk(lS(lx(()=>vq))),totalCommissions:lA().default(0),clickRewardId:lk(lb()).optional(),leadRewardId:lk(lb()).optional(),saleRewardId:lk(lb()).optional(),discountId:lk(lb()).optional(),applicationId:lk(lb()).optional(),bannedAt:lk(lb()).optional(),bannedReason:lk(vH).optional(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),netRevenue:lA().default(0),website:lk(lb()).optional(),youtube:lk(lb()).optional(),twitter:lk(lb()).optional(),linkedin:lk(lb()).optional(),instagram:lk(lb()).optional(),tiktok:lk(lb()).optional()}),vZ=lE({id:lb(),name:lb(),companyName:lk(lb()),email:lk(lb()),image:lk(lb()),description:lk(lb()).optional(),country:lk(lb()),paypalEmail:lk(lb()),stripeConnectId:lk(lb()),payoutsEnabledAt:lk(lb()),programId:lb(),groupId:lk(lb()).optional(),partnerId:lb(),tenantId:lk(lb()),createdAt:lb(),status:vF,links:lk(lS(lx(()=>vV))),totalCommissions:lA().default(0),clickRewardId:lk(lb()).optional(),leadRewardId:lk(lb()).optional(),saleRewardId:lk(lb()).optional(),discountId:lk(lb()).optional(),applicationId:lk(lb()).optional(),bannedAt:lk(lb()).optional(),bannedReason:lk(vG).optional(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0),netRevenue:lA().default(0),website:lk(lb()).optional(),youtube:lk(lb()).optional(),twitter:lk(lb()).optional(),linkedin:lk(lb()).optional(),instagram:lk(lb()).optional(),tiktok:lk(lb()).optional()});!function(e){e.inboundSchema=vW,e.outboundSchema=vZ}(ik||(ik={}));let vJ=lE({domain:lb()}),vQ=lE({domain:lb()});!function(e){e.inboundSchema=vJ,e.outboundSchema=vQ}(iN||(iN={}));let vY=lE({domain:lb(),status:lb(),expiration:lk(lA())}),vX=lE({domain:lb(),status:lb(),expiration:lk(lA())});!function(e){e.inboundSchema=vY,e.outboundSchema=vX}(iR||(iR={}));let v0={Count:"count",Timeseries:"timeseries",Continents:"continents",Regions:"regions",Countries:"countries",Cities:"cities",Devices:"devices",Browsers:"browsers",Os:"os",Trigger:"trigger",Triggers:"triggers",Referers:"referers",RefererUrls:"referer_urls",TopPartners:"top_partners",TopLinks:"top_links",TopUrls:"top_urls",UtmSources:"utm_sources",UtmMediums:"utm_mediums",UtmCampaigns:"utm_campaigns",UtmTerms:"utm_terms",UtmContents:"utm_contents"},v1={TwentyFourh:"24h",Sevend:"7d",Thirtyd:"30d",Ninetyd:"90d",Oney:"1y",Mtd:"mtd",Qtd:"qtd",Ytd:"ytd",All:"all"},v2={Qr:"qr",Link:"link",Pageview:"pageview",Deeplink:"deeplink"},v4={New:"new",Recurring:"recurring"},v3=lC({Clicks:"clicks",Leads:"leads",Sales:"sales",Composite:"composite"}),v5=v3;!function(e){e.inboundSchema=v3,e.outboundSchema=v5}(iP||(iP={}));let v6=lC(v0),v8=v6;!function(e){e.inboundSchema=v6,e.outboundSchema=v8}(iD||(iD={}));let v9=lC(v1),v7=v9;!function(e){e.inboundSchema=v9,e.outboundSchema=v7}(iU||(iU={}));let be=lC(v2),bt=be;!function(e){e.inboundSchema=be,e.outboundSchema=bt}(iL||(iL={}));let br=lT([lb(),lS(lb())]),bi=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=br,e.outboundSchema=bi}(iK||(iK={}));let bn=lC(v4),bo=bn;!function(e){e.inboundSchema=bn,e.outboundSchema=bo}(iM||(iM={}));let ba=lE({event:v3.default("clicks"),groupBy:v6.default("count"),domain:lb().optional(),key:lb().optional(),linkId:lb().optional(),externalId:lb().optional(),tenantId:lb().optional(),programId:lb().optional(),partnerId:lb().optional(),customerId:lb().optional(),interval:v9.optional(),start:lb().optional(),end:lb().optional(),timezone:lb().default("UTC"),country:lb().optional(),city:lb().optional(),region:lb().optional(),continent:d6.optional(),device:lb().optional(),browser:lb().optional(),os:lb().optional(),trigger:be.optional(),referer:lb().optional(),refererUrl:lb().optional(),url:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),root:lw().optional(),saleType:bn.optional(),query:lb().optional(),tagId:lb().optional(),qr:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),bs=lE({event:v5.default("clicks"),groupBy:v8.default("count"),domain:lb().optional(),key:lb().optional(),linkId:lb().optional(),externalId:lb().optional(),tenantId:lb().optional(),programId:lb().optional(),partnerId:lb().optional(),customerId:lb().optional(),interval:v7.optional(),start:lb().optional(),end:lb().optional(),timezone:lb().default("UTC"),country:lb().optional(),city:lb().optional(),region:lb().optional(),continent:d8.optional(),device:lb().optional(),browser:lb().optional(),os:lb().optional(),trigger:bt.optional(),referer:lb().optional(),refererUrl:lb().optional(),url:lb().optional(),tagIds:lT([lb(),lS(lb())]).optional(),folderId:lb().optional(),root:lw().optional(),saleType:bo.optional(),query:lb().optional(),tagId:lb().optional(),qr:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=ba,e.outboundSchema=bs}(iB||(iB={}));let bl=lT([c9,lS(dA),lS(c6),lS(da),lS(dv),lS(c2),lS(dl),lS(c0),lS(dc),lS(dO),lS(dp),lS(dh),lS(d_),lS(dE)]),bu=lT([c7,lS(dw),lS(c8),lS(ds),lS(db),lS(c4),lS(du),lS(c1),lS(dd),lS(dC),lS(df),lS(dm),lS(dS),lS(dT)]);!function(e){e.inboundSchema=bl,e.outboundSchema=bu}(ij||(ij={}));let bc=lE({partnerId:lb().optional(),tenantId:lb().optional()}),bd=lE({partnerId:lb().optional(),tenantId:lb().optional()});!function(e){e.inboundSchema=bc,e.outboundSchema=bd}(i$||(i$={}));let bp=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)}),bf=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),clicks:lA().default(0),leads:lA().default(0),conversions:lA().default(0),sales:lA().default(0),saleAmount:lA().default(0)});!function(e){e.inboundSchema=bp,e.outboundSchema=bf}(iz||(iz={}));let bh={TopLinks:"top_links",Timeseries:"timeseries",Count:"count"},bm=lC({TwentyFourh:"24h",Sevend:"7d",Thirtyd:"30d",Ninetyd:"90d",Oney:"1y",Mtd:"mtd",Qtd:"qtd",Ytd:"ytd",All:"all"}),bg=bm;!function(e){e.inboundSchema=bm,e.outboundSchema=bg}(iF||(iF={}));let by=lC(bh),bv=by;!function(e){e.inboundSchema=by,e.outboundSchema=bv}(iq||(iq={}));let bb=lE({partnerId:lb().optional(),tenantId:lb().optional(),interval:bm.optional(),start:lb().optional(),end:lb().optional(),timezone:lb().default("UTC"),query:lb().optional(),groupBy:by.default("count")}),bA=lE({partnerId:lb().optional(),tenantId:lb().optional(),interval:bg.optional(),start:lb().optional(),end:lb().optional(),timezone:lb().default("UTC"),query:lb().optional(),groupBy:bv.default("count")});!function(e){e.inboundSchema=bb,e.outboundSchema=bA}(iV||(iV={}));let bw=lT([fc,lS(fp),lS(fh)]),b_=lT([fd,lS(ff),lS(fm)]);!function(e){e.inboundSchema=bw,e.outboundSchema=b_}(iH||(iH={}));let bS=lC({Async:"async",Wait:"wait",Deferred:"deferred"}),bE=bS;!function(e){e.inboundSchema=bS,e.outboundSchema=bE}(iG||(iG={}));let bT=lE({clickId:lb(),eventName:lb(),customerExternalId:lb(),customerName:lk(lb()).default(null),customerEmail:lk(lb()).default(null),customerAvatar:lk(lb()).default(null),mode:bS.default("async"),eventQuantity:lk(lA()).optional(),metadata:lk(lI(l_())).optional()}),bI=lE({clickId:lb(),eventName:lb(),customerExternalId:lb(),customerName:lk(lb()).default(null),customerEmail:lk(lb()).default(null),customerAvatar:lk(lb()).default(null),mode:bE.default("async"),eventQuantity:lk(lA()).optional(),metadata:lk(lI(l_())).optional()});!function(e){e.inboundSchema=bT,e.outboundSchema=bI}(iW||(iW={}));let bx=lE({id:lb()}),bO=lE({id:lb()});!function(e){e.inboundSchema=bx,e.outboundSchema=bO}(iZ||(iZ={}));let bC=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),partnerId:lk(lb()),programId:lk(lb()),tenantId:lk(lb()),externalId:lk(lb())}),bk=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),partnerId:lk(lb()),programId:lk(lb()),tenantId:lk(lb()),externalId:lk(lb())});!function(e){e.inboundSchema=bC,e.outboundSchema=bk}(iJ||(iJ={}));let bN=lE({name:lk(lb()),email:lk(lb()),avatar:lk(lb()),externalId:lk(lb())}),bR=lE({name:lk(lb()),email:lk(lb()),avatar:lk(lb()),externalId:lk(lb())});!function(e){e.inboundSchema=bN,e.outboundSchema=bR}(iQ||(iQ={}));let bP=lE({click:lx(()=>bx),link:lk(lx(()=>bC)),customer:lx(()=>bN)}),bD=lE({click:lx(()=>bO),link:lk(lx(()=>bk)),customer:lx(()=>bR)});!function(e){e.inboundSchema=bP,e.outboundSchema=bD}(iY||(iY={}));let bU=lC({Stripe:"stripe",Shopify:"shopify",Polar:"polar",Paddle:"paddle",Revenuecat:"revenuecat",Custom:"custom"}),bL=bU;!function(e){e.inboundSchema=bU,e.outboundSchema=bL}(iX||(iX={}));let bK=lE({customerExternalId:lb(),amount:lA().int(),currency:lb().default("usd"),eventName:lb().default("Purchase"),paymentProcessor:bU.default("custom"),invoiceId:lk(lb()).default(null),metadata:lk(lI(l_())).optional(),leadEventName:lk(lb()).default(null),clickId:lk(lb()).optional(),customerName:lk(lb()).default(null),customerEmail:lk(lb()).default(null),customerAvatar:lk(lb()).default(null)}),bM=lE({customerExternalId:lb(),amount:lA().int(),currency:lb().default("usd"),eventName:lb().default("Purchase"),paymentProcessor:bL.default("custom"),invoiceId:lk(lb()).default(null),metadata:lk(lI(l_())).optional(),leadEventName:lk(lb()).default(null),clickId:lk(lb()).optional(),customerName:lk(lb()).default(null),customerEmail:lk(lb()).default(null),customerAvatar:lk(lb()).default(null)});!function(e){e.inboundSchema=bK,e.outboundSchema=bM}(i0||(i0={}));let bB=lE({id:lb(),name:lk(lb()),email:lk(lb()),avatar:lk(lb()),externalId:lk(lb())}),bj=lE({id:lb(),name:lk(lb()),email:lk(lb()),avatar:lk(lb()),externalId:lk(lb())});!function(e){e.inboundSchema=bB,e.outboundSchema=bj}(i1||(i1={}));let b$=lE({amount:lA(),currency:lb(),paymentProcessor:lb(),invoiceId:lk(lb()),metadata:lk(lI(l_()))}),bz=lE({amount:lA(),currency:lb(),paymentProcessor:lb(),invoiceId:lk(lb()),metadata:lk(lI(l_()))});!function(e){e.inboundSchema=b$,e.outboundSchema=bz}(i2||(i2={}));let bF=lE({eventName:lb(),customer:lk(lx(()=>bB)),sale:lk(lx(()=>b$))}),bq=lE({eventName:lb(),customer:lk(lx(()=>bj)),sale:lk(lx(()=>bz))});!function(e){e.inboundSchema=bF,e.outboundSchema=bq}(i4||(i4={}));let bV={Click:"click",Lead:"lead",Sale:"sale",Custom:"custom"},bH={Pending:"pending",Processed:"processed",Paid:"paid",Refunded:"refunded",Duplicate:"duplicate",Fraud:"fraud",Canceled:"canceled"},bG=lC({Refunded:"refunded",Duplicate:"duplicate",Canceled:"canceled",Fraud:"fraud"}),bW=bG;!function(e){e.inboundSchema=bG,e.outboundSchema=bW}(i3||(i3={}));let bZ=lE({amount:lA().optional(),modifyAmount:lA().optional(),currency:lb().default("usd"),status:bG.optional()}),bJ=lE({amount:lA().optional(),modifyAmount:lA().optional(),currency:lb().default("usd"),status:bW.optional()});!function(e){e.inboundSchema=bZ,e.outboundSchema=bJ}(i5||(i5={}));let bQ=lE({id:lb(),RequestBody:lx(()=>bZ).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),bY=lE({id:lb(),requestBody:lx(()=>bJ).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=bQ,e.outboundSchema=bY}(i6||(i6={}));let bX=lC(bV),b0=bX;!function(e){e.inboundSchema=bX,e.outboundSchema=b0}(i8||(i8={}));let b1=lC(bH),b2=b1;!function(e){e.inboundSchema=b1,e.outboundSchema=b2}(i9||(i9={}));let b4=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb())}),b3=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb()),payoutsEnabledAt:lk(lb()),country:lk(lb())});!function(e){e.inboundSchema=b4,e.outboundSchema=b3}(i7||(i7={}));let b5=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()}),b6=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb()});!function(e){e.inboundSchema=b5,e.outboundSchema=b6}(ne||(ne={}));let b8=lE({id:lb(),type:bX.optional(),amount:lA(),earnings:lA(),currency:lb(),status:b1,invoiceId:lk(lb()),description:lk(lb()),quantity:lA(),userId:lk(lb()).optional(),createdAt:lb(),updatedAt:lb(),partner:lx(()=>b4),customer:lk(lx(()=>b5)).optional()}),b9=lE({id:lb(),type:b0.optional(),amount:lA(),earnings:lA(),currency:lb(),status:b2,invoiceId:lk(lb()),description:lk(lb()),quantity:lA(),userId:lk(lb()).optional(),createdAt:lb(),updatedAt:lb(),partner:lx(()=>b3),customer:lk(lx(()=>b6)).optional()});!function(e){e.inboundSchema=b8,e.outboundSchema=b9}(nt||(nt={}));let b7={Percentage:"percentage",Flat:"flat"},Ae=lE({email:lk(lb()).optional(),name:lk(lb()).optional(),avatar:lk(lb()).optional(),externalId:lb().optional(),stripeCustomerId:lk(lb()).optional()}),At=lE({email:lk(lb()).optional(),name:lk(lb()).optional(),avatar:lk(lb()).optional(),externalId:lb().optional(),stripeCustomerId:lk(lb()).optional()});!function(e){e.inboundSchema=Ae,e.outboundSchema=At}(nr||(nr={}));let Ar=lE({id:lb(),includeExpandedFields:lw().optional(),RequestBody:lx(()=>Ae).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),Ai=lE({id:lb(),includeExpandedFields:lw().optional(),requestBody:lx(()=>At).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=Ar,e.outboundSchema=Ai}(ni||(ni={}));let An=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())}),Ao=lE({id:lb(),domain:lb(),key:lb(),shortLink:lb(),url:lb(),programId:lk(lb())});!function(e){e.inboundSchema=An,e.outboundSchema=Ao}(nn||(nn={}));let Aa=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())}),As=lE({id:lb(),name:lb(),email:lk(lb()),image:lk(lb())});!function(e){e.inboundSchema=Aa,e.outboundSchema=As}(no||(no={}));let Al=lC(b7),Au=Al;!function(e){e.inboundSchema=Al,e.outboundSchema=Au}(na||(na={}));let Ac=lE({id:lb(),amount:lA(),type:Al,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()}),Ad=lE({id:lb(),amount:lA(),type:Au,maxDuration:lk(lA()),couponId:lk(lb()),couponTestId:lk(lb()),description:lk(lb()).optional(),partnersCount:lk(lA()).optional()});!function(e){e.inboundSchema=Ac,e.outboundSchema=Ad}(ns||(ns={}));let Ap=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>An)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>Aa)).optional(),discount:lk(lx(()=>Ac)).optional()}),Af=lE({id:lb(),externalId:lb(),name:lb(),email:lk(lb()).optional(),avatar:lk(lb()).optional(),country:lk(lb()).optional(),sales:lk(lA()).optional(),saleAmount:lk(lA()).optional(),createdAt:lb(),link:lk(lx(()=>Ao)).optional(),programId:lk(lb()).optional(),partner:lk(lx(()=>As)).optional(),discount:lk(lx(()=>Ad)).optional()});!function(e){e.inboundSchema=Ap,e.outboundSchema=Af}(nl||(nl={}));let Ah=lE({slug:lb().optional(),expiredUrl:lk(lb()).optional(),notFoundUrl:lk(lb()).optional(),archived:lw().default(!1),placeholder:lk(lb()).optional(),logo:lk(lb()).optional(),assetLinks:lk(lb()).optional(),appleAppSiteAssociation:lk(lb()).optional()}),Am=lE({slug:lb().optional(),expiredUrl:lk(lb()).optional(),notFoundUrl:lk(lb()).optional(),archived:lw().default(!1),placeholder:lk(lb()).optional(),logo:lk(lb()).optional(),assetLinks:lk(lb()).optional(),appleAppSiteAssociation:lk(lb()).optional()});!function(e){e.inboundSchema=Ah,e.outboundSchema=Am}(nu||(nu={}));let Ag=lE({slug:lb(),RequestBody:lx(()=>Ah).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),Ay=lE({slug:lb(),requestBody:lx(()=>Am).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=Ag,e.outboundSchema=Ay}(nc||(nc={}));let Av=lC({Write:"write",Read:"read"}),Ab=Av;!function(e){e.inboundSchema=Av,e.outboundSchema=Ab}(nd||(nd={}));let AA=lE({name:lb().optional(),accessLevel:lk(Av).default(null)}),Aw=lE({name:lb().optional(),accessLevel:lk(Ab).default(null)});!function(e){e.inboundSchema=AA,e.outboundSchema=Aw}(np||(np={}));let A_=lE({id:lb(),RequestBody:lx(()=>AA).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),AS=lE({id:lb(),requestBody:lx(()=>Aw).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=A_,e.outboundSchema=AS}(nf||(nf={}));let AE=lT([lb(),lS(lb())]),AT=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=AE,e.outboundSchema=AT}(nh||(nh={}));let AI=lT([lb(),lS(lb())]),Ax=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=AI,e.outboundSchema=Ax}(nm||(nm={}));let AO=lE({url:lb(),percentage:lA()}),AC=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=AO,e.outboundSchema=AC}(ng||(ng={}));let Ak=lE({url:lb().optional(),domain:lb().optional(),key:lb().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>AO))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),AN=lE({url:lb().optional(),domain:lb().optional(),key:lb().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>AC))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=Ak,e.outboundSchema=AN}(ny||(ny={}));let AR=lE({linkId:lb(),RequestBody:lx(()=>Ak).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),AP=lE({linkId:lb(),requestBody:lx(()=>AN).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=AR,e.outboundSchema=AP}(nv||(nv={}));let AD=lC({Red:"red",Yellow:"yellow",Green:"green",Blue:"blue",Purple:"purple",Brown:"brown",Pink:"pink"}),AU=AD;!function(e){e.inboundSchema=AD,e.outboundSchema=AU}(nb||(nb={}));let AL=lE({name:lb().optional(),color:AD.optional(),tag:lb().optional()}),AK=lE({name:lb().optional(),color:AU.optional(),tag:lb().optional()});!function(e){e.inboundSchema=AL,e.outboundSchema=AK}(nA||(nA={}));let AM=lE({id:lb(),RequestBody:lx(()=>AL).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),AB=lE({id:lb(),requestBody:lx(()=>AK).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=AM,e.outboundSchema=AB}(nw||(nw={}));let Aj=lE({name:lb().optional(),slug:lb().optional(),logo:lk(lb()).optional(),conversionEnabled:lw().optional()}),A$=lE({name:lb().optional(),slug:lb().optional(),logo:lk(lb()).optional(),conversionEnabled:lw().optional()});!function(e){e.inboundSchema=Aj,e.outboundSchema=A$}(n_||(n_={}));let Az=lE({idOrSlug:lb(),RequestBody:lx(()=>Aj).optional()}).transform(e=>uK(e,{RequestBody:"requestBody"})),AF=lE({idOrSlug:lb(),requestBody:lx(()=>A$).optional()}).transform(e=>uK(e,{requestBody:"RequestBody"}));!function(e){e.inboundSchema=Az,e.outboundSchema=AF}(nS||(nS={}));let Aq=lT([lb(),lS(lb())]),AV=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=Aq,e.outboundSchema=AV}(nE||(nE={}));let AH=lT([lb(),lS(lb())]),AG=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=AH,e.outboundSchema=AG}(nT||(nT={}));let AW=lE({url:lb(),percentage:lA()}),AZ=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=AW,e.outboundSchema=AZ}(nI||(nI={}));let AJ=lE({url:lb(),domain:lb().optional(),key:lb().optional(),keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),prefix:lb().optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>AW))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),AQ=lE({url:lb(),domain:lb().optional(),key:lb().optional(),keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),programId:lk(lb()).optional(),partnerId:lk(lb()).optional(),prefix:lb().optional(),trackConversion:lw().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),geo:lk(lI(lb())).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),webhookIds:lk(lS(lb())).optional(),testVariants:lk(lS(lx(()=>AZ))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional(),publicStats:lw().optional(),tagId:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=AJ,e.outboundSchema=AQ}(nx||(nx={}));let AY=lT([lb(),lS(lb())]),AX=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=AY,e.outboundSchema=AX}(nO||(nO={}));let A0=lT([lb(),lS(lb())]),A1=lT([lb(),lS(lb())]);!function(e){e.inboundSchema=A0,e.outboundSchema=A1}(nC||(nC={}));let A2=lE({url:lb(),percentage:lA()}),A4=lE({url:lb(),percentage:lA()});!function(e){e.inboundSchema=A2,e.outboundSchema=A4}(nk||(nk={}));let A3=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utm_source:lk(lb()).optional(),utm_medium:lk(lb()).optional(),utm_campaign:lk(lb()).optional(),utm_term:lk(lb()).optional(),utm_content:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>A2))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utm_source:"utmSource",utm_medium:"utmMedium",utm_campaign:"utmCampaign",utm_term:"utmTerm",utm_content:"utmContent"})),A5=lE({keyLength:lA().optional(),externalId:lk(lb()).optional(),tenantId:lk(lb()).optional(),prefix:lb().optional(),archived:lw().optional(),tagIds:lT([lb(),lS(lb())]).optional(),tagNames:lT([lb(),lS(lb())]).optional(),folderId:lk(lb()).optional(),comments:lk(lb()).optional(),expiresAt:lk(lb()).optional(),expiredUrl:lk(lb()).optional(),password:lk(lb()).optional(),proxy:lw().optional(),title:lk(lb()).optional(),description:lk(lb()).optional(),image:lk(lb()).optional(),video:lk(lb()).optional(),rewrite:lw().optional(),ios:lk(lb()).optional(),android:lk(lb()).optional(),doIndex:lw().optional(),utmSource:lk(lb()).optional(),utmMedium:lk(lb()).optional(),utmCampaign:lk(lb()).optional(),utmTerm:lk(lb()).optional(),utmContent:lk(lb()).optional(),ref:lk(lb()).optional(),testVariants:lk(lS(lx(()=>A4))).optional(),testStartedAt:lk(lb()).optional(),testCompletedAt:lk(lb()).optional()}).transform(e=>uK(e,{utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"}));!function(e){e.inboundSchema=A3,e.outboundSchema=A5}(nN||(nN={}));let A6=lE({partnerId:lk(lb()).optional(),tenantId:lk(lb()).optional(),url:lk(lb()).optional(),key:lb().optional(),comments:lk(lb()).optional(),linkProps:lx(()=>A3).optional()}),A8=lE({partnerId:lk(lb()).optional(),tenantId:lk(lb()).optional(),url:lk(lb()).optional(),key:lb().optional(),comments:lk(lb()).optional(),linkProps:lx(()=>A5).optional()});!function(e){e.inboundSchema=A6,e.outboundSchema=A8}(nR||(nR={}));var A9=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},A7=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class we{constructor(e){nP.set(this,void 0),nD.set(this,void 0),this[nU]="APIPromise",A9(this,nP,e instanceof Promise?e:Promise.resolve(e),"f"),A9(this,nD,e instanceof Promise?A7(this,nP,"f").then(([e])=>e):Promise.resolve(e[0]),"f")}then(e,t){return A7(this,nP,"f").then(e?([t])=>e(t):void 0,t)}catch(e){return A7(this,nD,"f").catch(e)}finally(e){return A7(this,nD,"f").finally(e)}$inspect(){return A7(this,nP,"f")}}function wt(e,t,r){return new we(wr(e,t,r))}async function wr(e,t,r){let i=uB(t,e=>bs.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/analytics")(),s=l4({browser:n?.browser,city:n?.city,continent:n?.continent,country:n?.country,customerId:n?.customerId,device:n?.device,domain:n?.domain,end:n?.end,event:n?.event,externalId:n?.externalId,folderId:n?.folderId,groupBy:n?.groupBy,interval:n?.interval,key:n?.key,linkId:n?.linkId,os:n?.os,partnerId:n?.partnerId,programId:n?.programId,qr:n?.qr,query:n?.query,ref:n?.ref,referer:n?.referer,refererUrl:n?.refererUrl,region:n?.region,root:n?.root,saleType:n?.saleType,start:n?.start,tagId:n?.tagId,tagIds:n?.tagIds,tenantId:n?.tenantId,timezone:n?.timezone,trigger:n?.trigger,url:n?.url,utm_campaign:n?.utm_campaign,utm_content:n?.utm_content,utm_medium:n?.utm_medium,utm_source:n?.utm_source,utm_term:n?.utm_term}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"retrieveAnalytics",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,bl),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}nP=new WeakMap,nD=new WeakMap,nU=Symbol.toStringTag;class wi extends uv{async retrieve(e,t){return a3(wt(this,e,t))}}function wn(e,t,r){return new we(wo(e,t,r))}async function wo(e,t,r){let i=uB(t,e=>yQ.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/commissions")(),s=l4({customerId:n?.customerId,end:n?.end,groupId:n?.groupId,interval:n?.interval,invoiceId:n?.invoiceId,page:n?.page,pageSize:n?.pageSize,partnerId:n?.partnerId,payoutId:n?.payoutId,sortBy:n?.sortBy,sortOrder:n?.sortOrder,start:n?.start,status:n?.status,tenantId:n?.tenantId,type:n?.type}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"listCommissions",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(y6)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function wa(e,t,r){return new we(ws(e,t,r))}async function ws(e,t,r){let i=uB(t,e=>bY.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=lW("body",n.RequestBody,{explode:!0}),a={id:lZ("id",n.id,{explode:!1,charEncoding:"percent"})},s=lL("/commissions/{id}")(a),l=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"updateCommission",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"PATCH",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,b8),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}class wl extends uv{async list(e,t){return a3(wn(this,e,t))}async update(e,t){return a3(wa(this,e,t))}}function wu(e,t,r){return new we(wc(e,t,r))}async function wc(e,t,r){let i=uB(t,e=>hW.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/customers")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createCustomer",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,h4),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function wd(e,t,r){return new we(wp(e,t,r))}async function wp(e,t,r){let i=uB({id:t},e=>m3.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={id:lZ("id",n.id,{explode:!1,charEncoding:"percent"})},s=lL("/customers/{id}")(a),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"deleteCustomer",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"DELETE",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,m5),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function wf(e,t,r){return new we(wh(e,t,r))}async function wh(e,t,r){let i=uB(t,e=>gm.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={id:lZ("id",n.id,{explode:!1,charEncoding:"percent"})},s=lL("/customers/{id}")(a),l=l4({includeExpandedFields:n.includeExpandedFields}),u=new Headers(uM({Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getCustomer",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,query:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,gE),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}function wm(e,t,r){return new we(wg(e,t,r))}async function wg(e,t,r){let i=uB(t,e=>gP.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/customers")(),s=l4({country:n?.country,email:n?.email,externalId:n?.externalId,includeExpandedFields:n?.includeExpandedFields,linkId:n?.linkId,page:n?.page,pageSize:n?.pageSize,search:n?.search,sortBy:n?.sortBy,sortOrder:n?.sortOrder}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getCustomers",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(gz)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function wy(e,t,r){return new we(wv(e,t,r))}async function wv(e,t,r){let i=uB(t,e=>Ai.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=lW("body",n.RequestBody,{explode:!0}),a={id:lZ("id",n.id,{explode:!1,charEncoding:"percent"})},s=lL("/customers/{id}")(a),l=l4({includeExpandedFields:n.includeExpandedFields}),u=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"updateCustomer",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"PATCH",baseURL:r?.serverURL,path:s,headers:u,query:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,Ap),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}class wb extends uv{async list(e,t){return a3(wm(this,e,t))}async create(e,t){return a3(wu(this,e,t))}async get(e,t){return a3(wf(this,e,t))}async update(e,t){return a3(wy(this,e,t))}async delete(e,t){return a3(wd(this,e,t))}}function wA(e,t,r){return new we(ww(e,t,r))}async function ww(e,t,r){let i=uB(t,e=>hF.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/domains/status")(),s=l4({domains:n.domains},{explode:!1}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"checkDomainStatus",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(hq)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function w_(e,t,r){return new we(wS(e,t,r))}async function wS(e,t,r){let i=uB(t,e=>h6.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/domains")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createDomain",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,pe),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function wE(e,t,r){return new we(wT(e,t,r))}async function wT(e,t,r){let i=uB({slug:t},e=>m9.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={slug:lZ("slug",n.slug,{explode:!1,charEncoding:"percent"})},s=lL("/domains/{slug}")(a),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"deleteDomain",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"DELETE",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,m7),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function wI(e,t){return{[Symbol.asyncIterator]:async function*(){if(yield e,t(e))return;let r=e;for(r=await r.next();null!=r;r=await r.next())if(yield r,t(r))return}}}function wx(e){return{...e,next:()=>null,[Symbol.asyncIterator]:async function*(){yield e}}}async function wO(e){let t=await e;if(!t.ok)throw t.error;return{...t.value,next:wC(t.next),"~next":t["~next"],[Symbol.asyncIterator]:async function*(){for await(let e of t){if(!e.ok)throw e.error;yield e.value}}}}function wC(e){return()=>{let t=e();return null==t?null:t.then(e=>{if(!e.ok)throw e.error;return{...e.value,next:wC(e.next)}})}}function wk(e,t,r){return new we(wN(e,t,r))}async function wN(e,t,r){let i=uB(t,e=>y7.optional().parse(e),"Input validation failed");if(!i.ok)return[wx(i),{status:"invalid"}];let n=i.value,o=null,a=lL("/domains")(),s=l4({archived:n?.archived,page:n?.page,pageSize:n?.pageSize,search:n?.search}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"listDomains",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[wx(p),{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[wx(h),{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y,v]=await uP(uk(200,ve,{key:"Result"}),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});if(!y.ok)return[wx(y),{status:"complete",request:f,response:m}];let b=i=>{let n=(t?.page??1)+1;if(!i)return{next:()=>null};let o=i;if(!Array.isArray(o)||!o.length)return{next:()=>null};let a=t?.pageSize??50;return o.length<a?{next:()=>null}:{next:()=>wk(e,{...t,page:n},r),"~next":{page:n}}},A={...y,...b(v)};return[{...A,...wI(A,e=>!e.ok)},{status:"complete",request:f,response:m}]}function wR(e,t,r){return new we(wP(e,t,r))}async function wP(e,t,r){let i=uB(t,e=>vQ.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/domains/register")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"registerDomain",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,vY),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function wD(e,t,r,i){return new we(wU(e,t,r,i))}async function wU(e,t,r,i){let n=uB({slug:t,requestBody:r},e=>Ay.parse(e),"Input validation failed");if(!n.ok)return[n,{status:"invalid"}];let o=n.value,a=lW("body",o.RequestBody,{explode:!0}),s={slug:lZ("slug",o.slug,{explode:!1,charEncoding:"percent"})},l=lL("/domains/{slug}")(s),u=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:i?.serverURL??e._baseURL??"",operationID:"updateDomain",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:i?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:i?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"PATCH",baseURL:i?.serverURL,path:l,headers:u,body:a,userAgent:e._options.userAgent,timeoutMs:i?.timeoutMs||e._options.timeoutMs||-1},i);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,pe),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}Symbol("URL_OVERRIDE");class wL extends uv{async create(e,t){return a3(w_(this,e,t))}async list(e,t){return wO(wk(this,e,t))}async update(e,t,r){return a3(wD(this,e,t,r))}async delete(e,t){return a3(wE(this,e,t))}async register(e,t){return a3(wR(this,e,t))}async checkStatus(e,t){return a3(wA(this,e,t))}}function wK(e,t,r){return new we(wM(e,t,r))}async function wM(e,t,r){let i=uB(t,e=>mJ.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/tokens/embed/referrals")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createReferralsEmbedToken",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,mQ),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}class wB extends uv{async referrals(e,t){return a3(wK(this,e,t))}}function wj(e,t,r){return new we(w$(e,t,r))}async function w$(e,t,r){let i=uB(t,e=>vT.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/events")(),s=l4({browser:n?.browser,city:n?.city,continent:n?.continent,country:n?.country,customerId:n?.customerId,device:n?.device,domain:n?.domain,end:n?.end,event:n?.event,externalId:n?.externalId,folderId:n?.folderId,interval:n?.interval,key:n?.key,limit:n?.limit,linkId:n?.linkId,order:n?.order,os:n?.os,page:n?.page,partnerId:n?.partnerId,programId:n?.programId,qr:n?.qr,query:n?.query,ref:n?.ref,referer:n?.referer,refererUrl:n?.refererUrl,region:n?.region,root:n?.root,saleType:n?.saleType,sortBy:n?.sortBy,sortOrder:n?.sortOrder,start:n?.start,tagId:n?.tagId,tagIds:n?.tagIds,tenantId:n?.tenantId,timezone:n?.timezone,trigger:n?.trigger,url:n?.url,utm_campaign:n?.utm_campaign,utm_content:n?.utm_content,utm_medium:n?.utm_medium,utm_source:n?.utm_source,utm_term:n?.utm_term}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"listEvents",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(vI)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}class wz extends uv{async list(e,t){return a3(wj(this,e,t))}}function wF(e,t,r){return new we(wq(e,t,r))}async function wq(e,t,r){let i=uB(t,e=>me.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/folders")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createFolder",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,ps),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function wV(e,t,r){return new we(wH(e,t,r))}async function wH(e,t,r){let i=uB({id:t},e=>gr.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={id:lZ("id",n.id,{explode:!1,charEncoding:"percent"})},s=lL("/folders/{id}")(a),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"deleteFolder",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"DELETE",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,gi),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function wG(e,t,r){return new we(wW(e,t,r))}async function wW(e,t,r){let i=uB(t,e=>vC.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/folders")(),s=l4({page:n?.page,pageSize:n?.pageSize,search:n?.search}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"listFolders",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(ps)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function wZ(e,t,r,i){return new we(wJ(e,t,r,i))}async function wJ(e,t,r,i){let n=uB({id:t,requestBody:r},e=>AS.parse(e),"Input validation failed");if(!n.ok)return[n,{status:"invalid"}];let o=n.value,a=lW("body",o.RequestBody,{explode:!0}),s={id:lZ("id",o.id,{explode:!1,charEncoding:"percent"})},l=lL("/folders/{id}")(s),u=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:i?.serverURL??e._baseURL??"",operationID:"updateFolder",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:i?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:i?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"PATCH",baseURL:i?.serverURL,path:l,headers:u,body:a,userAgent:e._options.userAgent,timeoutMs:i?.timeoutMs||e._options.timeoutMs||-1},i);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,ps),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}class wQ extends uv{async create(e,t){return a3(wF(this,e,t))}async list(e,t){return a3(wG(this,e,t))}async update(e,t,r){return a3(wZ(this,e,t,r))}async delete(e,t){return a3(wV(this,e,t))}}function wY(e,t,r){return new we(wX(e,t,r))}async function wX(e,t,r){let i=uB(t,e=>yv.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/links/count")(),s=l1(l4({tagIds:n?.tagIds,tagNames:n?.tagNames},{explode:!1}),l4({domain:n?.domain,folderId:n?.folderId,groupBy:n?.groupBy,search:n?.search,showArchived:n?.showArchived,tagId:n?.tagId,tenantId:n?.tenantId,userId:n?.userId,withTags:n?.withTags})),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getLinksCount",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lA()),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function w0(e,t,r){return new we(w1(e,t,r))}async function w1(e,t,r){let i=uB(t,e=>ml.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/links")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createLink",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,p1),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function w2(e,t,r){return new we(w4(e,t,r))}async function w4(e,t,r){let i=uB(t,e=>lS(hS).optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/links/bulk")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"bulkCreateLinks",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,lS(hE)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function w3(e,t,r){return new we(w5(e,t,r))}async function w5(e,t,r){let i=uB({linkId:t},e=>ga.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={linkId:lZ("linkId",n.linkId,{explode:!1,charEncoding:"percent"})},s=lL("/links/{linkId}")(a),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"deleteLink",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"DELETE",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,gs),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function w6(e,t,r){return new we(w8(e,t,r))}async function w8(e,t,r){let i=uB(t,e=>hx.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/links/bulk")(),s=l4({linkIds:n.linkIds},{explode:!1}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"bulkDeleteLinks",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"DELETE",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,hO),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function w9(e,t,r){return new we(w7(e,t,r))}async function w7(e,t,r){let i=uB(t,e=>gV.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/links/info")(),s=l4({domain:n?.domain,externalId:n?.externalId,key:n?.key,linkId:n?.linkId}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getLinkInfo",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,p1),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _e(e,t,r){return new we(_t(e,t,r))}async function _t(e,t,r){let i=uB(t,e=>g6.optional().parse(e),"Input validation failed");if(!i.ok)return[wx(i),{status:"invalid"}];let n=i.value,o=null,a=lL("/links")(),s=l1(l4({tagIds:n?.tagIds,tagNames:n?.tagNames},{explode:!1}),l4({domain:n?.domain,folderId:n?.folderId,page:n?.page,pageSize:n?.pageSize,search:n?.search,showArchived:n?.showArchived,sort:n?.sort,sortBy:n?.sortBy,sortOrder:n?.sortOrder,tagId:n?.tagId,tenantId:n?.tenantId,userId:n?.userId,withTags:n?.withTags})),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getLinks",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[wx(p),{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[wx(h),{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y,v]=await uP(uk(200,g8,{key:"Result"}),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});if(!y.ok)return[wx(y),{status:"complete",request:f,response:m}];let b=i=>{let n=(t?.page??1)+1;if(!i)return{next:()=>null};let o=i;if(!Array.isArray(o)||!o.length)return{next:()=>null};let a=t?.pageSize??100;return o.length<a?{next:()=>null}:{next:()=>_e(e,{...t,page:n},r),"~next":{page:n}}},A={...y,...b(v)};return[{...A,...wI(A,e=>!e.ok)},{status:"complete",request:f,response:m}]}function _r(e,t,r,i){return new we(_i(e,t,r,i))}async function _i(e,t,r,i){let n=uB({linkId:t,requestBody:r},e=>AP.parse(e),"Input validation failed");if(!n.ok)return[n,{status:"invalid"}];let o=n.value,a=lW("body",o.RequestBody,{explode:!0}),s={linkId:lZ("linkId",o.linkId,{explode:!1,charEncoding:"percent"})},l=lL("/links/{linkId}")(s),u=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:i?.serverURL??e._baseURL??"",operationID:"updateLink",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:i?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:i?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"PATCH",baseURL:i?.serverURL,path:l,headers:u,body:a,userAgent:e._options.userAgent,timeoutMs:i?.timeoutMs||e._options.timeoutMs||-1},i);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,p1),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}function _n(e,t,r){return new we(_o(e,t,r))}async function _o(e,t,r){let i=uB(t,e=>hB.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/links/bulk")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"bulkUpdateLinks",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"PATCH",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,lS(p1)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function _a(e,t,r){return new we(_s(e,t,r))}async function _s(e,t,r){let i=uB(t,e=>AQ.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/links/upsert")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"upsertLink",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"PUT",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,p1),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}class _l extends uv{async create(e,t){return a3(w0(this,e,t))}async list(e,t){return wO(_e(this,e,t))}async count(e,t){return a3(wY(this,e,t))}async get(e,t){return a3(w9(this,e,t))}async update(e,t,r){return a3(_r(this,e,t,r))}async delete(e,t){return a3(w3(this,e,t))}async createMany(e,t){return a3(w2(this,e,t))}async updateMany(e,t){return a3(_n(this,e,t))}async deleteMany(e,t){return a3(w6(this,e,t))}async upsert(e,t){return a3(_a(this,e,t))}}function _u(e,t,r){return new we(_c(e,t,r))}async function _c(e,t,r){let i=uB(t,e=>bA.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/partners/analytics")(),s=l4({end:n?.end,groupBy:n?.groupBy,interval:n?.interval,partnerId:n?.partnerId,query:n?.query,start:n?.start,tenantId:n?.tenantId,timezone:n?.timezone}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"retrievePartnerAnalytics",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,bw),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _d(e,t,r){return new we(_p(e,t,r))}async function _p(e,t,r){let i=uB(t,e=>mA.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/partners")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createPartner",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,mx),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function _f(e,t,r){return new we(_h(e,t,r))}async function _h(e,t,r){let i=uB(t,e=>mM.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/partners/links")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createPartnerLink",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,p1),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function _m(e,t,r){return new we(_g(e,t,r))}async function _g(e,t,r){let i=uB(t,e=>v$.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/partners")(),s=l4({country:n?.country,email:n?.email,includeExpandedFields:n?.includeExpandedFields,page:n?.page,pageSize:n?.pageSize,search:n?.search,sortBy:n?.sortBy,sortOrder:n?.sortOrder,status:n?.status,tenantId:n?.tenantId}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"listPartners",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(vW)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _y(e,t,r){return new we(_v(e,t,r))}async function _v(e,t,r){let i=uB(t,e=>bd.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/partners/links")(),s=l4({partnerId:n?.partnerId,tenantId:n?.tenantId}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"retrieveLinks",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(bp)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _b(e,t,r){return new we(_A(e,t,r))}async function _A(e,t,r){let i=uB(t,e=>A8.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/partners/links/upsert")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"upsertPartnerLink",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"PUT",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,p1),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}class _w extends uv{async create(e,t){return a3(_d(this,e,t))}async list(e,t){return a3(_m(this,e,t))}async createLink(e,t){return a3(_f(this,e,t))}async retrieveLinks(e,t){return a3(_y(this,e,t))}async upsertLink(e,t){return a3(_b(this,e,t))}async analytics(e,t){return a3(_u(this,e,t))}}function __(e,t,r){return new we(_S(e,t,r))}async function _S(e,t,r){let i=uB(t,e=>y_.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/qr")(),s=l4({bgColor:n.bgColor,fgColor:n.fgColor,hideLogo:n.hideLogo,includeMargin:n.includeMargin,level:n.level,logo:n.logo,margin:n.margin,size:n.size,url:n.url}),l=new Headers(uM({Accept:"image/png"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getQRCode",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uN(200,lb(),{ctype:"image/png"}),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}class _E extends uv{async get(e,t){return a3(__(this,e,t))}}function _T(e,t,r){return new we(_I(e,t,r))}async function _I(e,t,r){let i=uB(t,e=>m2.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/tags")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"createTag",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(201,dR),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function _x(e,t,r){return new we(_O(e,t,r))}async function _O(e,t,r){let i=uB({id:t},e=>gc.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={id:lZ("id",n.id,{explode:!1,charEncoding:"percent"})},s=lL("/tags/{id}")(a),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"deleteTag",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"DELETE",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,gd),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _C(e,t,r){return new we(_k(e,t,r))}async function _k(e,t,r){let i=uB(t,e=>yN.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a=lL("/tags")(),s=l4({ids:n?.ids,page:n?.page,pageSize:n?.pageSize,search:n?.search,sortBy:n?.sortBy,sortOrder:n?.sortOrder}),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getTags",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:a,headers:l,query:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,lS(dR)),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _N(e,t,r,i){return new we(_R(e,t,r,i))}async function _R(e,t,r,i){let n=uB({id:t,requestBody:r},e=>AB.parse(e),"Input validation failed");if(!n.ok)return[n,{status:"invalid"}];let o=n.value,a=lW("body",o.RequestBody,{explode:!0}),s={id:lZ("id",o.id,{explode:!1,charEncoding:"percent"})},l=lL("/tags/{id}")(s),u=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:i?.serverURL??e._baseURL??"",operationID:"updateTag",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:i?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:i?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"PATCH",baseURL:i?.serverURL,path:l,headers:u,body:a,userAgent:e._options.userAgent,timeoutMs:i?.timeoutMs||e._options.timeoutMs||-1},i);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,dR),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}class _P extends uv{async create(e,t){return a3(_T(this,e,t))}async list(e,t){return a3(_C(this,e,t))}async update(e,t,r){return a3(_N(this,e,t,r))}async delete(e,t){return a3(_x(this,e,t))}}function _D(e,t,r){return new we(_U(e,t,r))}async function _U(e,t,r){let i=uB(t,e=>bI.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/track/lead")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"trackLead",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,bP),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}function _L(e,t,r){return new we(_K(e,t,r))}async function _K(e,t,r){let i=uB(t,e=>bM.optional().parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=void 0===n?null:lW("body",n,{explode:!0}),a=lL("/track/sale")(),s=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),l=await uV(e._options.token),u=uq(null==l?{}:{token:l}),c={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"trackSale",oAuth2Scopes:[],resolvedSecurity:u,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(c,{security:u,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!d.ok)return[d,{status:"invalid"}];let p=d.value,f=await e._do(p,{context:c,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:c.retryConfig,retryCodes:c.retryCodes});if(!f.ok)return[f,{status:"request-error",request:p}];let h=f.value,m={HttpMeta:{Response:h,Request:p}},[g]=await uP(uk(200,bF),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(h,p,{extraFields:m});return!g.ok,[g,{status:"complete",request:p,response:h}]}class _M extends uv{async lead(e,t){return a3(_D(this,e,t))}async sale(e,t){return a3(_L(this,e,t))}}function _B(e,t,r){return new we(_j(e,t,r))}async function _j(e,t,r){let i=uB(t,e=>yP.parse(e),"Input validation failed");if(!i.ok)return[i,{status:"invalid"}];let n=i.value,o=null,a={idOrSlug:lZ("idOrSlug",n.idOrSlug,{explode:!1,charEncoding:"percent"})},s=lL("/workspaces/{idOrSlug}")(a),l=new Headers(uM({Accept:"application/json"})),u=await uV(e._options.token),c=uq(null==u?{}:{token:u}),d={options:e._options,baseURL:r?.serverURL??e._baseURL??"",operationID:"getWorkspace",oAuth2Scopes:[],resolvedSecurity:c,securitySource:e._options.token,retryConfig:r?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=e._createRequest(d,{security:c,method:"GET",baseURL:r?.serverURL,path:s,headers:l,body:o,userAgent:e._options.userAgent,timeoutMs:r?.timeoutMs||e._options.timeoutMs||-1},r);if(!p.ok)return[p,{status:"invalid"}];let f=p.value,h=await e._do(f,{context:d,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!h.ok)return[h,{status:"request-error",request:f}];let m=h.value,g={HttpMeta:{Response:m,Request:f}},[y]=await uP(uk(200,hh),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(m,f,{extraFields:g});return!y.ok,[y,{status:"complete",request:f,response:m}]}function _$(e,t,r,i){return new we(_z(e,t,r,i))}async function _z(e,t,r,i){let n=uB({idOrSlug:t,requestBody:r},e=>AF.parse(e),"Input validation failed");if(!n.ok)return[n,{status:"invalid"}];let o=n.value,a=lW("body",o.RequestBody,{explode:!0}),s={idOrSlug:lZ("idOrSlug",o.idOrSlug,{explode:!1,charEncoding:"percent"})},l=lL("/workspaces/{idOrSlug}")(s),u=new Headers(uM({"Content-Type":"application/json",Accept:"application/json"})),c=await uV(e._options.token),d=uq(null==c?{}:{token:c}),p={options:e._options,baseURL:i?.serverURL??e._baseURL??"",operationID:"updateWorkspace",oAuth2Scopes:[],resolvedSecurity:d,securitySource:e._options.token,retryConfig:i?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:i?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(p,{security:d,method:"PATCH",baseURL:i?.serverURL,path:l,headers:u,body:a,userAgent:e._options.userAgent,timeoutMs:i?.timeoutMs||e._options.timeoutMs||-1},i);if(!f.ok)return[f,{status:"invalid"}];let h=f.value,m=await e._do(h,{context:p,errorCodes:["400","401","403","404","409","410","422","429","4XX","500","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!m.ok)return[m,{status:"request-error",request:h}];let g=m.value,y={HttpMeta:{Response:g,Request:h}},[v]=await uP(uk(200,hh),uC(400,uY),uC(401,cq),uC(403,cn),uC(404,cO),uC(409,u6),uC(410,cA),uC(422,cY),uC(429,cL),uC(500,cp),uR("4XX"),uR("5XX"))(g,h,{extraFields:y});return!v.ok,[v,{status:"complete",request:h,response:g}]}class _F extends uv{async get(e,t){return a3(_B(this,e,t))}async update(e,t,r){return a3(_$(this,e,t,r))}}class _q extends uv{get links(){return this._links??(this._links=new _l(this._options))}get analytics(){return this._analytics??(this._analytics=new wi(this._options))}get events(){return this._events??(this._events=new wz(this._options))}get tags(){return this._tags??(this._tags=new _P(this._options))}get folders(){return this._folders??(this._folders=new wQ(this._options))}get domains(){return this._domains??(this._domains=new wL(this._options))}get track(){return this._track??(this._track=new _M(this._options))}get customers(){return this._customers??(this._customers=new wb(this._options))}get partners(){return this._partners??(this._partners=new _w(this._options))}get commissions(){return this._commissions??(this._commissions=new wl(this._options))}get workspaces(){return this._workspaces??(this._workspaces=new _F(this._options))}get embedTokens(){return this._embedTokens??(this._embedTokens=new wB(this._options))}get qrCodes(){return this._qrCodes??(this._qrCodes=new _E(this._options))}}var _V=e.i(405614),_H=e.i(392353);let _G=_V.gen(function*(){let e=yield*nL.IamConfig;return aV({dubClient:new _q({token:_H.value(e.marketing.dub.token)})})});e.s(["dubAnalyticsPlugin",0,_G],296573)},697520,e=>{"use strict";e.i(296573),e.s([])},220016,e=>{"use strict";var t=e.i(731167);let r=e.i(405614).succeed((0,t.genericOAuth)({config:[]}));e.s(["genericOAuthPlugin",0,r])},734913,e=>{"use strict";e.i(220016),e.s([])},270689,e=>{"use strict";var t=e.i(888801);let r=e.i(405614).succeed((0,t.haveIBeenPwned)({customPasswordCompromisedMessage:"The password you entered has been compromised. Please choose a different password."}));e.s(["haveIBeenPwnedPlugin",0,r])},943089,e=>{"use strict";e.i(270689),e.s([])},892028,e=>{"use strict";var t=e.i(175409);let r=e.i(405614).succeed((0,t.jwt)());e.s(["jwtPlugin",0,r])},835240,e=>{"use strict";e.i(892028),e.s([])},310930,e=>{"use strict";var t=e.i(450900);let r=e.i(405614).succeed((0,t.lastLoginMethod)());e.s(["lastLoginMethodPlugin",0,r])},57476,e=>{"use strict";e.i(310930),e.s([])},172566,(e,t,r)=>{"use strict";t.exports.parse=function(e){var t=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i.exec(e);if(!t)return null;t.shift();var r=null,i=[];t[2]&&(r=(a=t[2].split("-")).shift(),i=a);var n=[];t[5]&&(n=t[5].split("-")).shift();var o=[];if(t[6]){(a=t[6].split("-")).shift();for(var a,s,l=[];a.length;){var u=a.shift();1===u.length?s?(o.push({singleton:s,extension:l}),s=u,l=[]):s=u:l.push(u)}o.push({singleton:s,extension:l})}var c=[];t[7]&&((c=t[7].split("-")).shift(),c.shift());var d=[];return t[8]&&(d=t[8].split("-")).shift(),{langtag:{language:{language:r,extlang:i},script:t[3]||null,region:t[4]||null,variant:n,extension:o,privateuse:c},privateuse:d,grandfathered:{irregular:t[0]||null,regular:t[1]||null}}}},33422,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e.r(172566),n=function(){function e(){this.languageTagsWithValues={},this.defaultLanguageTag=null}return e.prototype.languages=function(e){var t=this;if(e.length<1)throw Error("No language tags defined. Provide at least 1 language tag to match.");this.languageTagsWithValues={},e.forEach(function(e){var r=i.parse(e);if(!r)throw TypeError("'".concat(e,"' is not bcp47 compliant. More about bcp47 https://tools.ietf.org/html/bcp47."));var n=r.langtag.language.language;if(!n)throw TypeError("".concat(e," is not supported."));var o=r.langtag;o.value=e;var a={language:{language:o.language.language.toLowerCase(),extlang:o.language.extlang.map(function(e){return e.toLowerCase()})},region:o.region&&o.region.toLowerCase(),script:o.script&&o.script.toLowerCase(),variant:o.variant.map(function(e){return e.toLowerCase()}),privateuse:o.privateuse.map(function(e){return e.toLowerCase()}),extension:o.extension.map(function(e){return{extension:e.extension&&e.extension.map(function(e){return e.toLowerCase()}),singleton:e.singleton.toLowerCase()}}),value:e};t.languageTagsWithValues[n]?t.languageTagsWithValues[n].push(a):t.languageTagsWithValues[n]=[a]}),this.defaultLanguageTag=e[0]},e.prototype.get=function(e){return this.parse(e)[0]},e.prototype.create=function(){return null},e.prototype.parse=function(e){if(!e)return[this.defaultLanguageTag];for(var t=_(e),r=[],n=0,o=t;n<o.length;n++){var a=o[n],s=i.parse(a.tag);if(s){var l=s.langtag;if(this.languageTagsWithValues[l.language.language])e:for(var u=0,c=this.languageTagsWithValues[l.language.language];u<c.length;u++){for(var d=c[u],p=0,f=0,h=["privateuse","extension","variant","region","script"];f<h.length;f++){var m=h[f],g=d[m];if(!g){var y=l[m];switch(y&&p++,m){case"privateuse":case"variant":for(var v=0;v<y.length;v++)y[v]&&p++;break;case"extension":for(var v=0;v<y.length;v++)for(var b=y[v].extension,A=0;A<b.length;A++)!y[v].extension[A]&&p++}continue}var w=l[m];if(!w)continue e;switch(m){case"privateuse":case"variant":for(var v=0;v<g.length;v++)if(!w[v]||g[v]!==w[v].toLowerCase())continue e;break;case"extension":for(var v=0;v<g.length;v++)for(var b=g[v].extension,A=0;A<b.length;A++)if(!w[v]||!w[v].extension[A]||b[A]!==w[v].extension[A].toLowerCase())continue e;break;default:if(g!==w.toLowerCase())continue e}}r.push({unmatchedRequestedSubTag:p,quality:a.quality,languageTag:d.value})}}}return r.length>0?r.sort(function(e,t){var r=t.quality-e.quality;return 0!=r?r:e.unmatchedRequestedSubTag-t.unmatchedRequestedSubTag}).map(function(e){return e.languageTag}):[this.defaultLanguageTag];function _(e){return e.split(",").map(function(e){var t=e.replace(/\s+/,"").split(";");return{tag:t[0],quality:t[1]?parseFloat(t[1].split("=")[1]):1}}).filter(function(e){return!!e&&!!e.tag&&e})}},e}();function o(){var e=new n;return e.create=function(){return new n},e}t.exports=o(),t.exports.default=o(),r.default=o()},317920,e=>{"use strict";var t=e.i(909879);e.s(["createAuthMiddleware",()=>t.c])},614591,e=>{"use strict";let t;e.i(548383);var r,i,n,o=e.i(945545);e.i(505463);var a=e.i(587373);let s=e=>({components:{MuiDataGrid:{defaultProps:{localeText:e}}}}),l=s({noRowsLabel:"  ",noResultsOverlayLabel:"    .",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>1!==e?`${e}   `:` `,toolbarQuickFilterPlaceholder:"...",toolbarQuickFilterLabel:"",toolbarQuickFilterDeleteIconLabel:"",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"  CSV",toolbarExportPrint:"",toolbarExportExcel:"  ",columnsManagementSearchTitle:"",columnsManagementNoColumns:"  ",columnsManagementShowHideAllText:"/ ",columnsManagementReset:" ",columnsManagementDeleteIconLabel:"",filterPanelAddFilter:" ",filterPanelRemoveAll:" ",filterPanelDeleteIconLabel:"",filterPanelLogicOperator:" ",filterPanelOperator:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:"",filterOperatorAfter:"",filterOperatorOnOrAfter:"  ",filterOperatorBefore:"",filterOperatorOnOrBefore:"  ",filterOperatorIsEmpty:"",filterOperatorIsNotEmpty:" ",filterOperatorIsAnyOf:" ","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:" ",headerFilterOperatorEquals:"",headerFilterOperatorStartsWith:" ",headerFilterOperatorEndsWith:" ",headerFilterOperatorIs:"",headerFilterOperatorNot:" ",headerFilterOperatorAfter:" ",headerFilterOperatorOnOrAfter:"   ",headerFilterOperatorBefore:" ",headerFilterOperatorOnOrBefore:"   ",headerFilterOperatorIsEmpty:" ",headerFilterOperatorIsNotEmpty:"  ",headerFilterOperatorIsAnyOf:"  ","headerFilterOperator=":"","headerFilterOperator!=":" ","headerFilterOperator>":" ","headerFilterOperator>=":"   ","headerFilterOperator<":" ","headerFilterOperator<=":"   ",filterValueAny:"",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuManageColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:" ",columnMenuSortDesc:" ",columnHeaderFiltersTooltipActive:e=>1!==e?`${e}   `:` `,columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?`  ${e.toLocaleString()}  `:`   `,footerTotalRows:" :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()}  ${t.toLocaleString()}`,checkboxSelectionHeaderName:"  ",checkboxSelectionSelectAllRows:"  ",checkboxSelectionUnselectAllRows:"   ",checkboxSelectionSelectRow:" ",checkboxSelectionUnselectRow:"  ",booleanCellTrueLabel:"",booleanCellFalseLabel:"",actionsCellMore:"",pinToLeft:" ",pinToRight:" ",unpin:" ",treeDataGroupingHeaderName:"",treeDataExpand:" ",treeDataCollapse:" ",groupingColumnHeaderName:"",groupColumn:e=>`  ${e}`,unGroupColumn:e=>`   ${e}`,detailPanelToggle:"/  ",expandDetailPanel:"",collapseDetailPanel:"",paginationRowsPerPage:"   :",paginationItemAriaLabel:e=>"first"===e?"   ":"last"===e?"   ":"next"===e?"   ":"   ",rowReorderingHeaderName:"  ",aggregationMenuItemHeader:" ",aggregationFunctionLabelSum:"",aggregationFunctionLabelAvg:"",aggregationFunctionLabelMin:" ",aggregationFunctionLabelMax:" ",aggregationFunctionLabelSize:""}),u=s({noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>1!==e?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarCharts:"Charts",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnMenuManageCharts:"Manage charts",columnHeaderFiltersTooltipActive:e=>1!==e?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>1!==e?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:r,estimated:i})=>{if(!i)return`${e}${t} of ${-1!==r?r:`more than ${t}`}`;let n=i&&i>t?`around ${i}`:`more than ${t}`;return`${e}${t} of ${-1!==r?r:n}`},paginationItemAriaLabel:e=>"first"===e?"Go to first page":"last"===e?"Go to last page":"next"===e?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelNone:"none",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",chartsNoCharts:"There are no charts available",chartsChartNotSelected:"Select a chart type to configure its options",chartsTabChart:"Chart",chartsTabFields:"Fields",chartsTabCustomize:"Customize",chartsCloseButton:"Close charts configuration",chartsSyncButtonLabel:"Sync chart",chartsSearchPlaceholder:"Search fields",chartsSearchLabel:"Search fields",chartsSearchClear:"Clear search",chartsNoFields:"No fields",chartsFieldBlocked:"This field cannot be added to any section",chartsCategories:"Categories",chartsSeries:"Series",chartsMenuAddToDimensions:e=>`Add to ${e}`,chartsMenuAddToValues:e=>`Add to ${e}`,chartsMenuMoveUp:"Move up",chartsMenuMoveDown:"Move down",chartsMenuMoveToTop:"Move to top",chartsMenuMoveToBottom:"Move to bottom",chartsMenuOptions:"Field options",chartsMenuRemove:"Remove",chartsDragToDimensions:e=>`Drag here to use column as ${e}`,chartsDragToValues:e=>`Drag here to use column as ${e}`,aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt",promptFieldPlaceholderWithRecording:"Type or record a prompt",promptFieldPlaceholderListening:"Listening for prompt",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,r)=>"is any of"===t?`${e} is any of: ${r}`:`${e} ${t} ${r}`,promptChangeFilterDescription:(e,t,r)=>"is any of"===t?`Filter where ${e} is any of: ${r}`:`Filter where ${e} ${t} ${r}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`}),c=s({noRowsLabel:"Pas de rsultats",noResultsOverlayLabel:"Aucun rsultat.",noColumnsOverlayLabel:"Aucune colonne",noColumnsOverlayManageColumns:"Grer les colonnes",toolbarDensity:"Densit",toolbarDensityLabel:"Densit",toolbarDensityCompact:"Compacte",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Masquer les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:e=>e>1?`${e} filtres actifs`:`${e} filtre actif`,toolbarQuickFilterPlaceholder:"Rechercher",toolbarQuickFilterLabel:"Recherche",toolbarQuickFilterDeleteIconLabel:"Supprimer",toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"Tlcharger en CSV",toolbarExportPrint:"Imprimer",toolbarExportExcel:"Tlcharger pour Excel",toolbarAssistant:"Assistant IA",columnsManagementSearchTitle:"Rechercher",columnsManagementNoColumns:"Pas de colonnes",columnsManagementShowHideAllText:"Afficher/masquer toutes",columnsManagementReset:"Rinitialiser",columnsManagementDeleteIconLabel:"Effacer",filterPanelAddFilter:"Ajouter un filtre",filterPanelRemoveAll:"Tout supprimer",filterPanelDeleteIconLabel:"Supprimer",filterPanelLogicOperator:"Oprateur logique",filterPanelOperator:"Oprateur",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorDoesNotContain:"ne contient pas",filterOperatorEquals:"est gal ",filterOperatorDoesNotEqual:"n'est pas gal ",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorAfter:"postrieur",filterOperatorOnOrAfter:"gal ou postrieur",filterOperatorBefore:"antrieur",filterOperatorOnOrBefore:"gal ou antrieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",filterOperatorIsAnyOf:"fait partie de","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contient",headerFilterOperatorDoesNotContain:"Ne contient pas",headerFilterOperatorEquals:"Est gal ",headerFilterOperatorDoesNotEqual:"N'est pas gal ",headerFilterOperatorStartsWith:"Commence par",headerFilterOperatorEndsWith:"Se termine par",headerFilterOperatorIs:"Est",headerFilterOperatorNot:"N'est pas",headerFilterOperatorAfter:"Postrieur",headerFilterOperatorOnOrAfter:"gal ou postrieur",headerFilterOperatorBefore:"Antrieur",headerFilterOperatorOnOrBefore:"gal ou antrieur",headerFilterOperatorIsEmpty:"Est vide",headerFilterOperatorIsNotEmpty:"N'est pas vide",headerFilterOperatorIsAnyOf:"Fait partie de","headerFilterOperator=":"Est gal ","headerFilterOperator!=":"N'est pas gal ","headerFilterOperator>":"Est suprieur ","headerFilterOperator>=":"Est suprieur ou gal ","headerFilterOperator<":"Est infrieur ","headerFilterOperator<=":"Est infrieur ou gal ",headerFilterClear:"Effacer le filtre",filterValueAny:"tous",filterValueTrue:"vrai",filterValueFalse:"faux",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`Menu pour la colonne ${e}`,columnMenuShowColumns:"Afficher les colonnes",columnMenuManageColumns:"Grer les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Masquer",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:e=>e>1?`${e} filtres actifs`:`${e} filtre actif`,columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:e=>e>1?`${e.toLocaleString()} lignes s\xe9lectionn\xe9es`:`${e.toLocaleString()} ligne s\xe9lectionn\xe9e`,footerTotalRows:"Total de lignes :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} sur ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Slection",checkboxSelectionSelectAllRows:"Slectionner toutes les lignes",checkboxSelectionUnselectAllRows:"Dslectionner toutes les lignes",checkboxSelectionSelectRow:"Slectionner la ligne",checkboxSelectionUnselectRow:"Dslectionner la ligne",booleanCellTrueLabel:"vrai",booleanCellFalseLabel:"faux",actionsCellMore:"Plus",pinToLeft:"pingler  gauche",pinToRight:"pingler  droite",unpin:"Dspingler",treeDataGroupingHeaderName:"Groupe",treeDataExpand:"afficher les enfants",treeDataCollapse:"masquer les enfants",groupingColumnHeaderName:"Groupe",groupColumn:e=>`Grouper par ${e}`,unGroupColumn:e=>`Arr\xeater de grouper par ${e}`,detailPanelToggle:"Afficher/masquer les dtails",expandDetailPanel:"Afficher",collapseDetailPanel:"Masquer",paginationRowsPerPage:"Lignes par page :",paginationDisplayedRows:({from:e,to:t,count:r,estimated:i})=>{if(!i)return`${e}${t} sur ${-1!==r?r:`plus de ${t}`}`;let n=i&&i>t?`environ ${i}`:`plus de ${t}`;return`${e}${t} sur ${-1!==r?r:n}`},paginationItemAriaLabel:e=>"first"===e?"Aller  la premire page":"last"===e?"Aller  la dernire page":"next"===e?"Aller  la page suivante":"Aller  la page prcdente",rowReorderingHeaderName:"Positionnement des lignes",aggregationMenuItemHeader:"Agrgation",aggregationFunctionLabelSum:"Somme",aggregationFunctionLabelAvg:"Moyenne",aggregationFunctionLabelMin:"Minimum",aggregationFunctionLabelMax:"Maximum",aggregationFunctionLabelSize:"Nombre d'lments",chartsNoCharts:"Aucun graphique disponible",chartsChartNotSelected:"Slectionnez un type de graphique pour configurer ses options",chartsTabChart:"Graphique",chartsTabFields:"Champs",chartsTabCustomize:"Personnaliser",chartsCloseButton:"Fermer la configuration des graphiques",chartsSyncButtonLabel:"Synchroniser le graphique",chartsSearchPlaceholder:"Rechercher des champs",chartsSearchLabel:"Rechercher des champs",chartsSearchClear:"Effacer la recherche",chartsNoFields:"Aucun champ",chartsCategories:"Catgories",chartsSeries:"Sries",chartsMenuAddToDimensions:e=>`Ajouter aux ${e}`,chartsMenuAddToValues:e=>`Ajouter aux ${e}`,chartsMenuMoveUp:"Dplacer vers le haut",chartsMenuMoveDown:"Dplacer vers le bas",chartsMenuMoveToTop:"Dplacer en haut",chartsMenuMoveToBottom:"Dplacer en bas",chartsMenuOptions:"Options du champ",chartsMenuRemove:"Supprimer",chartsDragToDimensions:e=>`Faites glisser ici pour utiliser la colonne comme ${e}`,chartsDragToValues:e=>`Faites glisser ici pour utiliser la colonne comme ${e}`}),d=s({noRowsLabel:"",noResultsOverlayLabel:"",noColumnsOverlayLabel:"",noColumnsOverlayManageColumns:"",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:"",toolbarFilters:"",toolbarFiltersLabel:"",toolbarFiltersTooltipHide:"",toolbarFiltersTooltipShow:"",toolbarFiltersTooltipActive:e=>`${e} `,toolbarQuickFilterPlaceholder:"",toolbarQuickFilterLabel:"",toolbarQuickFilterDeleteIconLabel:"",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"CSV",toolbarExportPrint:"",toolbarExportExcel:"Excel",columnsManagementSearchTitle:"",columnsManagementNoColumns:"",columnsManagementShowHideAllText:"/",columnsManagementReset:"",columnsManagementDeleteIconLabel:"",filterPanelAddFilter:"",filterPanelRemoveAll:"",filterPanelDeleteIconLabel:"",filterPanelLogicOperator:"",filterPanelOperator:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:"",filterOperatorContains:"",filterOperatorDoesNotContain:"",filterOperatorEquals:"",filterOperatorDoesNotEqual:"",filterOperatorStartsWith:"",filterOperatorEndsWith:"",filterOperatorIs:"",filterOperatorNot:"",filterOperatorAfter:"",filterOperatorOnOrAfter:"",filterOperatorBefore:"",filterOperatorOnOrBefore:"",filterOperatorIsEmpty:"",filterOperatorIsNotEmpty:"",filterOperatorIsAnyOf:"","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"",headerFilterOperatorDoesNotContain:"",headerFilterOperatorEquals:"",headerFilterOperatorDoesNotEqual:"",headerFilterOperatorStartsWith:"",headerFilterOperatorEndsWith:"",headerFilterOperatorIs:"",headerFilterOperatorNot:"",headerFilterOperatorAfter:"",headerFilterOperatorOnOrAfter:"",headerFilterOperatorBefore:"",headerFilterOperatorOnOrBefore:"",headerFilterOperatorIsEmpty:"",headerFilterOperatorIsNotEmpty:"",headerFilterOperatorIsAnyOf:"","headerFilterOperator=":"","headerFilterOperator!=":"","headerFilterOperator>":"","headerFilterOperator>=":"","headerFilterOperator<":"","headerFilterOperator<=":"",headerFilterClear:"",filterValueAny:"",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuAriaLabel:e=>`${e} `,columnMenuShowColumns:"",columnMenuManageColumns:"",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:"",columnMenuSortAsc:"",columnMenuSortDesc:"",columnHeaderFiltersTooltipActive:e=>`${e} `,columnHeaderFiltersLabel:"",columnHeaderSortIconLabel:"",footerRowSelected:e=>`${e.toLocaleString()}`,footerTotalRows:":",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"",checkboxSelectionSelectAllRows:"",checkboxSelectionUnselectAllRows:"",checkboxSelectionSelectRow:"",checkboxSelectionUnselectRow:"",booleanCellTrueLabel:"",booleanCellFalseLabel:"",actionsCellMore:"",pinToLeft:"",pinToRight:"",unpin:"",treeDataGroupingHeaderName:"",treeDataExpand:"",treeDataCollapse:"",groupingColumnHeaderName:"",groupColumn:e=>`${e}`,unGroupColumn:e=>`${e}`,detailPanelToggle:"",expandDetailPanel:"",collapseDetailPanel:"",paginationRowsPerPage:":",paginationDisplayedRows:({from:e,to:t,count:r,estimated:i})=>{if(!i)return`${e}${t}  ${-1!==r?r:` ${t}`}`;let n=i&&i>t?` ${i}`:` ${t}`;return`${e}${t}  ${-1!==r?r:n}`},paginationItemAriaLabel:e=>"first"===e?"":"last"===e?"":"next"===e?"":"",rowReorderingHeaderName:"",aggregationMenuItemHeader:"",aggregationFunctionLabelSum:"",aggregationFunctionLabelAvg:"",aggregationFunctionLabelMin:"",aggregationFunctionLabelMax:"",aggregationFunctionLabelSize:"",promptFieldLabel:"",promptFieldPlaceholder:"",promptFieldPlaceholderWithRecording:"",promptFieldPlaceholderListening:"",promptFieldSend:"",promptFieldRecord:"",promptFieldStopRecording:""});function p(){return(p=Object.assign.bind()).apply(null,arguments)}let f=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:p({},e)}}}}),h=f({previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,t)=>`Select ${e}. ${!t?"No time selected":`Selected time is ${t}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"}),m={hours:"heures",minutes:"minutes",seconds:"secondes",meridiem:"mridien"},g=f({previousMonth:"Mois prcdent",nextMonth:"Mois suivant",openPreviousView:"Ouvrir la vue prcdente",openNextView:"Ouvrir la vue suivante",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"La vue anne est ouverte, ouvrir la vue calendrier":"La vue calendrier est ouverte, ouvrir la vue anne",start:"Dbut",end:"Fin",startDate:"Date de dbut",startTime:"Heure de dbut",endDate:"Date de fin",endTime:"Heure de fin",cancelButtonLabel:"Annuler",clearButtonLabel:"Vider",okButtonLabel:"OK",todayButtonLabel:"Aujourd'hui",nextStepButtonLabel:"Suivant",datePickerToolbarTitle:"Choisir une date",dateTimePickerToolbarTitle:"Choisir la date et l'heure",timePickerToolbarTitle:"Choisir l'heure",dateRangePickerToolbarTitle:"Choisir la plage de dates",clockLabelText:(e,t)=>`Choix des ${m[e]}. ${!t?"Aucune heure choisie":`L'heure choisie est ${t}`}`,hoursClockNumberText:e=>`${e} heures`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} secondes`,selectViewText:e=>`Choisir ${m[e]}`,calendarWeekNumberHeaderLabel:"Semaine",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Semaine ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choisir la date, la date s\xe9lectionn\xe9e est ${e}`:"Choisir la date",openTimePickerDialogue:e=>e?`Choisir l'heure, l'heure s\xe9lectionn\xe9e est ${e}`:"Choisir l'heure",fieldClearLabel:"Effacer la valeur",timeTableLabel:"choix de l'heure",dateTableLabel:"choix de la date",fieldYearPlaceholder:e=>"A".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"JJ",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Anne",month:"Mois",day:"Jour",weekDay:"Jour de la semaine",hours:"Heures",minutes:"Minutes",seconds:"Secondes",meridiem:"Mridien",empty:"Vider"}),y={hours:"",minutes:"",seconds:"",meridiem:""},v=f({previousMonth:"",nextMonth:"",openPreviousView:"",openNextView:"",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"":"",start:"",end:"",startDate:"",startTime:"",endDate:"",endTime:"",cancelButtonLabel:"",clearButtonLabel:"",okButtonLabel:"",todayButtonLabel:"",nextStepButtonLabel:"",datePickerToolbarTitle:"",dateTimePickerToolbarTitle:"",timePickerToolbarTitle:"",dateRangePickerToolbarTitle:"",timeRangePickerToolbarTitle:"",clockLabelText:(e,t)=>` ${y[e]}. ${!t?"":`${t}`}`,hoursClockNumberText:e=>`${e}`,minutesClockNumberText:e=>`${e}`,secondsClockNumberText:e=>`${e}`,selectViewText:e=>` ${y[e]}`,calendarWeekNumberHeaderLabel:"",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`${e}`:"",openTimePickerDialogue:e=>e?`${e}`:"",openRangePickerDialogue:e=>e?` ${e}`:"",fieldClearLabel:"",timeTableLabel:"",dateTableLabel:"",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"",month:"",day:"",weekDay:"",hours:"",minutes:"",seconds:"",meridiem:"",empty:""});var b=e.i(435146),A=e.i(411237),w=a;e.i(888850);var _=e.i(98282);let S={AED:"United Arab Emirates dirham",AFN:"Afghan afghani",ALL:"Albanian lek",AMD:"Armenian dram",ANG:"Netherlands Antillean guilder",AOA:"Angolan kwanza",ARS:"Argentine peso",AUD:"Australian dollar",AWG:"Aruban florin",AZN:"Azerbaijani manat",BAM:"Bosnia and Herzegovina convertible mark",BBD:"Barbados dollar",BDT:"Bangladeshi taka",BGN:"Bulgarian lev",BHD:"Bahraini dinar",BIF:"Burundian franc",BMD:"Bermudian dollar",BND:"Brunei dollar",BOB:"Boliviano",BRL:"Brazilian real",BSD:"Bahamian dollar",BTN:"Bhutanese ngultrum",BWP:"Botswana pula",BYN:"Belarusian ruble",BZD:"Belize dollar",CAD:"Canadian dollar",CDF:"Congolese franc",CHF:"Swiss franc",CLP:"Chilean peso",CNY:"Renminbi (Chinese) yuan",COP:"Colombian peso",CRC:"Costa Rican colon",CUC:"Cuban convertible peso",CUP:"Cuban peso",CVE:"Cape Verdean escudo",CZK:"Czech koruna",DJF:"Djiboutian franc",DKK:"Danish krone",DOP:"Dominican peso",DZD:"Algerian dinar",EGP:"Egyptian pound",ERN:"Eritrean nakfa",ETB:"Ethiopian birr",EUR:"Euro",FJD:"Fijian dollar",FKP:"Falkland Islands pound",GBP:"Pound sterling",GEL:"Georgian lari",GHS:"Ghanaian cedi",GIP:"Gibraltar pound",GMD:"Gambian dalasi",GNF:"Guinean franc",GTQ:"Guatemalan quetzal",GYD:"Guyanese dollar",HKD:"Hong Kong dollar",HNL:"Honduran lempira",HRK:"Croatian kuna",HTG:"Haitian gourde",HUF:"Hungarian forint",IDR:"Indonesian rupiah",ILS:"Israeli new shekel",INR:"Indian rupee",IQD:"Iraqi dinar",IRR:"Iranian rial",ISK:"Icelandic krna",JMD:"Jamaican dollar",JOD:"Jordanian dinar",JPY:"Japanese yen",KES:"Kenyan shilling",KGS:"Kyrgyzstani som",KHR:"Cambodian riel",KMF:"Comoro franc",KPW:"North Korean won",KRW:"South Korean won",KWD:"Kuwaiti dinar",KYD:"Cayman Islands dollar",KZT:"Kazakhstani tenge",LAK:"Lao kip",LBP:"Lebanese pound",LKR:"Sri Lankan rupee",LRD:"Liberian dollar",LSL:"Lesotho loti",LYD:"Libyan dinar",MAD:"Moroccan dirham",MDL:"Moldovan leu",MGA:"Malagasy ariary",MKD:"Macedonian denar",MMK:"Burmese kyat",MNT:"Mongolian tgrg",MOP:"Macanese pataca",MRU:"Mauritanian ouguiya",MUR:"Mauritian rupee",MVR:"Maldivian rufiyaa",MWK:"Malawian kwacha",MXN:"Mexican peso",MYR:"Malaysian ringgit",MZN:"Mozambican metical",NAD:"Namibian dollar",NGN:"Nigerian naira",NIO:"Nicaraguan crdoba",NOK:"Norwegian krone",NPR:"Nepalese rupee",NZD:"New Zealand dollar",OMR:"Omani rial",PAB:"Panamanian balboa",PEN:"Peruvian sol",PGK:"Papua New Guinean kina",PHP:"Philippine peso",PKR:"Pakistani rupee",PLN:"Polish zoty",PYG:"Paraguayan guaran",QAR:"Qatari riyal",RON:"Romanian leu",RSD:"Serbian dinar",RUB:"Russian ruble",RWF:"Rwandan franc",SAR:"Saudi riyal",SBD:"Solomon Islands dollar",SCR:"Seychelles rupee",SDG:"Sudanese pound",SEK:"Swedish krona/kronor",SGD:"Singapore dollar",SHP:"Saint Helena pound",SLL:"Sierra Leonean leone",SOS:"Somali shilling",SRD:"Surinamese dollar",SSP:"South Sudanese pound",STN:"So Tom and Prncipe dobra",SVC:"Salvadoran coln",SYP:"Syrian pound",SZL:"Swazi lilangeni",THB:"Thai baht",TJS:"Tajikistani somoni",TMT:"Turkmenistan manat",TND:"Tunisian dinar",TOP:"Tongan paanga",TRY:"Turkish lira",TTD:"Trinidad and Tobago dollar",TWD:"New Taiwan dollar",TZS:"Tanzanian shilling",UAH:"Ukrainian hryvnia",UGX:"Ugandan shilling",USD:"United States dollar",UYU:"Uruguayan peso",UZS:"Uzbekistani som",VES:"Venezuelan bolvar soberano",VND:"Vietnamese ng",VUV:"Vanuatu vatu",WST:"Samoan tl",XAF:"Central African CFA franc",XCD:"East Caribbean dollar",XOF:"West African CFA franc",XPF:"CFP franc",YER:"Yemeni rial",ZAR:"South African rand",ZMW:"Zambian kwacha",ZWL:"Zimbabwean dollar"};!function(e){({Options:e.Options,Enum:e.Enum,Mock:e.Mock,JSONSchema:e.JSONSchema,Pretty:e.Pretty,Equivalence:e.Equivalence,Schema:e.Schema}=(0,w.stringLiteralKit)(..._.RecordUtils.recordKeys(S)))}(r||(r={})),function(e){({Options:e.Options,Schema:e.Schema,Enum:e.Enum,Mock:e.Mock,JSONSchema:e.JSONSchema,Pretty:e.Pretty,Equivalence:e.Equivalence}=(0,a.stringLiteralKit)("en","fr","cn","ar"))}(i||(i={}));let E=o.BS.stringLiteralKit("default","pt-BR","pt-PT","es-ES","fr-FR","pl-PL","id-ID","ja-JP","ar-SA","el-GR","sv-SE","it-IT","de-DE","de-DE-informal","de-DE-formal","zh-Hant","zh-Hans","ko-KR","hi-HI","tr-TR","nl-NL","nl-NL-informal","nl-NL-formal","fa-IR","ru-RU","mr-MR");class T extends E.Schema{static Options=E.Options;static Enum=E.Enum}class I extends A.transformLiterals(["en","default"],["fr","fr-FR"],["cn","zh-Hant"],["ar","ar-SA"]){}let x=i.Enum.en,O="common",C="i18next",k=!1;!function(e){({Options:e.Options,Schema:e.Schema,Enum:e.Enum,Mock:e.Mock,JSONSchema:e.JSONSchema,Pretty:e.Pretty,Equivalence:e.Equivalence}=(0,a.stringLiteralKit)("AC","AD","AE","AF","AG","AI","AL","AM","AO","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TA","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"))}(n||(n={})),b.make({value:i.Enum.en,label:"English",countryCode:n.Enum.US,adapterLocale:"en",numberFormat:{code:"en-US",currency:r.Enum.USD},systemValue:{components:{...h.components,...u.components}}},{value:i.Enum.fr,label:"French",countryCode:n.Enum.FR,adapterLocale:"fr",numberFormat:{code:"fr-FR",currency:r.Enum.EUR},systemValue:{components:{...g.components,...c.components}}},{value:i.Enum.cn,label:"Chinese",countryCode:n.Enum.CN,adapterLocale:"zh",numberFormat:{code:"zh-CN",currency:r.Enum.CNY},systemValue:{components:{...v.components,...d.components}}},{value:i.Enum.ar,label:"Arabic",countryCode:n.Enum.SD,adapterLocale:"ar",numberFormat:{code:"ar-SD",currency:r.Enum.SAR},systemValue:{components:{...l.components}}});var N=e.i(33422);let R=e=>"string"==typeof e,P=()=>{let e,t,r=new Promise((r,i)=>{e=r,t=i});return r.resolve=e,r.reject=t,r},D=e=>null==e?"":""+e,U=(e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})},L=/###/g,K=e=>e&&e.indexOf("###")>-1?e.replace(L,"."):e,M=e=>!e||R(e),B=(e,t,r)=>{let i=R(t)?t.split("."):t,n=0;for(;n<i.length-1;){if(M(e))return{};let t=K(i[n]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return M(e)?{}:{obj:e,k:K(i[n])}},j=(e,t,r)=>{let{obj:i,k:n}=B(e,t,Object);if(void 0!==i||1===t.length){i[n]=r;return}let o=t[t.length-1],a=t.slice(0,t.length-1),s=B(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,s=B(e,a=a.slice(0,a.length-1),Object),s?.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},$=(e,t,r,i)=>{let{obj:n,k:o}=B(e,t,Object);n[o]=n[o]||[],n[o].push(r)},z=(e,t)=>{let{obj:r,k:i}=B(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,i))return r[i]},F=(e,t,r)=>{let i=z(e,r);return void 0!==i?i:z(t,r)},q=(e,t,r)=>{for(let i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?R(e[i])||e[i]instanceof String||R(t[i])||t[i]instanceof String?r&&(e[i]=t[i]):q(e[i],t[i],r):e[i]=t[i]);return e},V=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let G=e=>R(e)?e.replace(/[&<>"'\/]/g,e=>H[e]):e;class W{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}let Z=[" ",",","?","!",";"],J=new W(20),Q=(e,t,r)=>{t=t||"",r=r||"";let i=Z.filter(e=>0>t.indexOf(e)&&0>r.indexOf(e));if(0===i.length)return!0;let n=J.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`),o=!n.test(e);if(!o){let t=e.indexOf(r);t>0&&!n.test(e.substring(0,t))&&(o=!0)}return o},Y=(e,t,r=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}let i=t.split(r),n=e;for(let e=0;e<i.length;){let t;if(!n||"object"!=typeof n)return;let o="";for(let a=e;a<i.length;++a)if(a!==e&&(o+=r),o+=i[a],void 0!==(t=n[o])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<i.length-1)continue;e+=a-e+1;break}n=t}return n},X=e=>e?.replace("_","-"),ee={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class et{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||ee,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(R(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new et(this.logger,{...{prefix:`${this.prefix}:${e}:`},...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new et(this.logger,e)}}var er=new et;class ei{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,r])=>{for(let i=0;i<r;i++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,i])=>{for(let n=0;n<i;n++)r.apply(r,[e,...t])})}}class en extends ei{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){let n,o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],r&&(Array.isArray(r)?n.push(...r):R(r)&&o?n.push(...r.split(o)):n.push(r)));let s=z(this.data,n);return(!s&&!t&&!r&&e.indexOf(".")>-1&&(e=n[0],t=n[1],r=n.slice(2).join(".")),!s&&a&&R(r))?Y(this.data?.[e]?.[t],r,o):s}addResource(e,t,r,i,n={silent:!1}){let o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),j(this.data,a,i),n.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(let i in r)(R(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,n,o={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=t,t=a[1]),this.addNamespaces(t);let s=z(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?q(s,r,n):s={...s,...r},j(this.data,a,s),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var eo={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,i,n){return e.forEach(e=>{t=this.processors[e]?.process(t,r,i,n)??t}),t}};let ea=Symbol("i18next/PATH_KEY");function es(){let e,t=[],r=Object.create(null);return r.get=(i,n)=>(e?.revoke?.(),n===ea)?t:(t.push(n),(e=Proxy.revocable(i,r)).proxy),Proxy.revocable(Object.create(null),r).proxy}function el(e,t){let{[ea]:r}=e(es());return r.join(t?.keySeparator??".")}let eu={},ec=e=>!R(e)&&"boolean"!=typeof e&&"number"!=typeof e;class ed extends ei{constructor(e,t={}){super(),U(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=er.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){let r={...t};if(null==e)return!1;let i=this.resolve(e,r);if(i?.res===void 0)return!1;let n=ec(i.res);return!1!==r.returnObjects||!n}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,n=t.ns||this.options.defaultNS||[],o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Q(e,r,i);if(o&&!a){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:R(n)?[n]:n};let o=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(o[0])>-1)&&(n=o.shift()),e=o.join(i)}return{key:e,namespaces:R(n)?[n]:n}}translate(e,t,r){let i="object"==typeof t?{...t}:t;if("object"!=typeof i&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof i&&(i={...i}),i||(i={}),null==e)return"";"function"==typeof e&&(e=el(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let n=void 0!==i.returnDetails?i.returnDetails:this.options.returnDetails,o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],i),l=s[s.length-1],u=void 0!==i.nsSeparator?i.nsSeparator:this.options.nsSeparator;void 0===u&&(u=":");let c=i.lng||this.language,d=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c?.toLowerCase()==="cimode")return d?n?{res:`${l}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${u}${a}`:n?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:a;let p=this.resolve(e,i),f=p?.res,h=p?.usedKey||a,m=p?.exactUsedKey||a,g=["[object Number]","[object Function]","[object RegExp]"],y=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==i.count&&!R(i.count),A=ed.hasDefaultValue(i),w=b?this.pluralResolver.getSuffix(c,i.count,i):"",_=i.ordinal&&b?this.pluralResolver.getSuffix(c,i.count,{ordinal:!1}):"",S=b&&!i.ordinal&&0===i.count,E=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${w}`]||i[`defaultValue${_}`]||i.defaultValue,T=f;v&&!f&&A&&(T=E);let I=ec(T),x=Object.prototype.toString.apply(T);if(v&&T&&I&&0>g.indexOf(x)&&!(R(y)&&Array.isArray(T))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,T,{...i,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(p.res=e,p.usedParams=this.getUsedParamsDetails(i),p):e}if(o){let e=Array.isArray(T),t=e?[]:{},r=e?m:h;for(let e in T)if(Object.prototype.hasOwnProperty.call(T,e)){let n=`${r}${o}${e}`;A&&!f?t[e]=this.translate(n,{...i,defaultValue:ec(E)?E[e]:void 0,...{joinArrays:!1,ns:s}}):t[e]=this.translate(n,{...i,joinArrays:!1,ns:s}),t[e]===n&&(t[e]=T[e])}f=t}}else if(v&&R(y)&&Array.isArray(f))(f=f.join(y))&&(f=this.extendTranslation(f,e,i,r));else{let t=!1,n=!1;!this.isValidLookup(f)&&A&&(t=!0,f=E),this.isValidLookup(f)||(n=!0,f=a);let s=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&n?void 0:f,d=A&&E!==f&&this.options.updateMissing;if(n||t||d){if(this.logger.log(d?"updateKey":"missingKey",c,l,a,d?E:f),o){let e=this.resolve(a,{...i,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(i.lng||this.language):e.push(i.lng||this.language);let r=(e,t,r)=>{let n=A&&r!==f?r:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,n,d,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,n,d,i),this.emit("missingKey",e,l,t,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{let t=this.pluralResolver.getSuffixes(e,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&0>t.indexOf(`${this.options.pluralSeparator}zero`)&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{r([e],a+t,i[`defaultValue${t}`]||E)})}):r(e,a,E))}f=this.extendTranslation(f,e,i,p,r),n&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}${u}${a}`),(n||t)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${a}`:a,t?f:void 0,i))}return n?(p.res=f,p.usedParams=this.getUsedParamsDetails(i),p):f}extendTranslation(e,t,r,i,n){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){let o;r.interpolation&&this.interpolator.init({...r,...{interpolation:{...this.options.interpolation,...r.interpolation}}});let a=R(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let s=r.replace&&!R(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),e=this.interpolator.interpolate(e,s,r.lng||this.language||i.usedLng,r),a){let t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(...e)=>n?.[0]!==e[0]||r.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),r)),r.interpolation&&this.interpolator.reset()}let o=r.postProcess||this.options.postProcess,a=R(o)?[o]:o;return null!=e&&a?.length&&!1!==r.applyPostProcessor&&(e=eo.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,n,o,a;return R(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(r))return;let s=this.extractFromKey(e,t),l=s.key;i=l;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));let c=void 0!==t.count&&!R(t.count),d=c&&!t.ordinal&&0===t.count,p=void 0!==t.context&&(R(t.context)||"number"==typeof t.context)&&""!==t.context,f=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);u.forEach(e=>{this.isValidLookup(r)||(a=e,!eu[`${f[0]}-${e}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(eu[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${f.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(i=>{let a;if(this.isValidLookup(r))return;o=i;let s=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,i,e,t);else{let e;c&&(e=this.pluralResolver.getSuffix(i,t.count,t));let r=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(t.ordinal&&0===e.indexOf(n)&&s.push(l+e.replace(n,this.options.pluralSeparator)),s.push(l+e),d&&s.push(l+r)),p){let i=`${l}${this.options.contextSeparator||"_"}${t.context}`;s.push(i),c&&(t.ordinal&&0===e.indexOf(n)&&s.push(i+e.replace(n,this.options.pluralSeparator)),s.push(i+e),d&&s.push(i+r))}}for(;a=s.pop();)this.isValidLookup(r)||(n=a,r=this.getResource(i,e,a,t))}))})}),{res:r,usedKey:i,exactUsedKey:n,usedLng:o,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){let t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!R(e.replace),i=r?e.replace:e;if(r&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r)for(let e of(i={...i},t))delete i[e];return i}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}class ep{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=er.create("languageUtils")}getScriptPartFromCode(e){if(!(e=X(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=X(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(R(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)?t:this.options.lowerCaseLng?e.toLowerCase():e}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let r=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let r=this.getScriptPartFromCode(e);if(this.isSupportedCode(r))return t=r;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&(e.indexOf("-")>0&&0>i.indexOf("-")&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),R(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),i=[],n=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return R(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):R(e)&&n(this.formatLanguageCode(e)),r.forEach(e=>{0>i.indexOf(e)&&n(this.formatLanguageCode(e))}),i}}let ef={zero:0,one:1,two:2,few:3,many:4,other:5},eh={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class em{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=er.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){let r,i=X("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:n});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];try{r=new Intl.PluralRules(i,{type:n})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),eh;if(!e.match(/-|_/))return eh;let i=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(i,t)}return this.pluralRulesCache[o]=r,r}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return(r||(r=this.getRule("dev",t)),r)?r.resolvedOptions().pluralCategories.sort((e,t)=>ef[e]-ef[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}let eg=(e,t,r,i=".",n=!0)=>{let o=F(e,t,r);return!o&&n&&R(r)&&void 0===(o=Y(e,r,i))&&(o=Y(t,r,i)),o},ey=e=>e.replace(/\$/g,"$$$$");class ev{constructor(e={}){this.logger=er.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:n,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:G,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==i&&i,this.prefix=n?V(n):o||"{{",this.suffix=a?V(a):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?V(d):p||V("$t("),this.nestingSuffix=f?V(f):h||V(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e?.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let n,o,a,s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(0>e.indexOf(this.formatSeparator)){let n=eg(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,r,{...i,...t,interpolationkey:e}):n}let n=e.split(this.formatSeparator),o=n.shift().trim(),a=n.join(this.formatSeparator).trim();return this.format(eg(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...i,...t,interpolationkey:o})};this.resetRegExp();let u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>ey(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?ey(this.escape(e)):ey(e)}].forEach(t=>{for(a=0;n=t.regex.exec(e);){let r=n[1].trim();if(void 0===(o=l(r)))if("function"==typeof u){let t=u(e,n,i);o=R(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,r))o="";else if(c){o=n[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),o="";else R(o)||this.useRawValueToEscape||(o=D(o));let s=t.safeValue(o);if(e=e.replace(n[0],s),c?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=n[0].length):t.regex.lastIndex=0,++a>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,n,o,a=(e,t)=>{let r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;let i=e.split(RegExp(`${r}[ ]*{`)),n=`{${i[1]}`;e=i[0];let a=(n=this.interpolate(n,o)).match(/'/g),s=n.match(/"/g);((a?.length??0)%2!=0||s)&&s.length%2==0||(n=n.replace(/'/g,'"'));try{o=JSON.parse(n),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${n}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;i=this.nestingRegexp.exec(e);){let s=[];(o=(o={...r}).replace&&!R(o.replace)?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;let l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(-1!==l&&(s=i[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),(n=t(a.call(this,i[1].trim(),o),o))&&i[0]===e&&!R(n))return n;R(n)||(n=D(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),s.length&&(n=s.reduce((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}let eb=e=>{let t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){let i=e.split("(");t=i[0].toLowerCase().trim();let n=i[1].substring(0,i[1].length-1);"currency"===t&&0>n.indexOf(":")?r.currency||(r.currency=n.trim()):"relativetime"===t&&0>n.indexOf(":")?r.range||(r.range=n.trim()):n.split(";").forEach(e=>{if(e){let[t,...i]=e.split(":"),n=i.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();r[o]||(r[o]=n),"false"===n&&(r[o]=!1),"true"===n&&(r[o]=!0),isNaN(n)||(r[o]=parseInt(n,10))}})}return{formatName:t,formatOptions:r}},eA=e=>{let t={};return(r,i,n)=>{let o=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(o={...o,[n.interpolationkey]:void 0});let a=i+JSON.stringify(o),s=t[a];return s||(s=e(X(i),n),t[a]=s),s(r)}},ew=e=>(t,r,i)=>e(X(r),i)(t);class e_{constructor(e={}){this.logger=er.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";let r=t.cacheInBuiltFormats?eA:ew;this.formats={number:r((e,t)=>{let r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:r((e,t)=>{let r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:r((e,t)=>{let r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:r((e,t)=>{let r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:r((e,t)=>{let r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=eA(t)}format(e,t,r,i={}){let n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&0>n[0].indexOf(")")&&n.find(e=>e.indexOf(")")>-1)){let e=n.findIndex(e=>e.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,e)].join(this.formatSeparator)}return n.reduce((e,t)=>{let{formatName:n,formatOptions:o}=eb(t);if(this.formats[n]){let t=e;try{let a=i?.formatParams?.[i.interpolationkey]||{},s=a.locale||a.lng||i.locale||i.lng||r;t=this.formats[n](e,s,{...o,...i,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${n}`),e},e)}}let eS=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class eE extends ei{constructor(e,t,r,i={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=er.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,t,r,i){let n={},o={},a={},s={};return e.forEach(e=>{let i=!0;t.forEach(t=>{let a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,i=!1,void 0===o[a]&&(o[a]=!0),void 0===n[a]&&(n[a]=!0),void 0===s[t]&&(s[t]=!0)))}),i||(a[e]=!0)}),(Object.keys(n).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(n),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,r){let i=e.split("|"),n=i[0],o=i[1];t&&this.emit("failedLoading",n,o,t),!t&&r&&this.store.addResourceBundle(n,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let a={};this.queue.forEach(r=>{$(r.loaded,[n],o),eS(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{a[e]||(a[e]={});let t=r.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r,i=0,n=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:n,callback:o});this.readingCalls++;let a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,r,i+1,2*n,o)},n):o(a,s)},s=this.backend[r].bind(this.backend);if(2===s.length){try{let r=s(e,t);r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}return}return s(e,t,a)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();R(e)&&(e=this.languageUtils.toResolveHierarchy(e)),R(t)&&(t=[t]);let n=this.queueLoad(e,t,r,i);if(!n.toLoad.length)return n.pending.length||i(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){let r=e.split("|"),i=r[0],n=r[1];this.read(i,n,"read",void 0,void 0,(r,o)=>{r&&this.logger.warn(`${t}loading namespace ${n} for language ${i} failed`,r),!r&&o&&this.logger.log(`${t}loaded namespace ${n} for language ${i}`,o),this.loaded(e,r,o)})}saveMissing(e,t,r,i,n,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t))return void this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=r&&""!==r){if(this.backend?.create){let s={...o,isUpdate:n},l=this.backend.create.bind(this.backend);if(l.length<6)try{let n;(n=5===l.length?l(e,t,r,i,s):l(e,t,r,i))&&"function"==typeof n.then?n.then(e=>a(null,e)).catch(a):a(null,n)}catch(e){a(e)}else l(e,t,r,i,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,i)}}}let eT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),R(e[1])&&(t.defaultValue=e[1]),R(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),eI=e=>(R(e.ns)&&(e.ns=[e.ns]),R(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),R(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),ex=()=>{},eO=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class eC extends ei{constructor(e={},t){if(super(),this.options=eI(e),this.services={},this.logger=er,this.modules={external:[]},eO(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(R(e.ns)?e.defaultNS=e.ns:0>e.ns.indexOf("translation")&&(e.defaultNS=e.ns[0]));let r=eT();this.options={...r,...this.options,...eI(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?er.init(i(this.modules.logger),this.options):er.init(null,this.options),e=this.modules.formatter?this.modules.formatter:e_;let t=new ep(this.options);this.store=new en(this.options.resources,this.options);let n=this.services;n.logger=er,n.resourceStore=this.store,n.languageUtils=t,n.pluralResolver=new em(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),e&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(n.formatter=i(e),n.formatter.init&&n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new ev(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new eE(i(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(n.languageDetector=i(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=i(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new ed(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ex),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});let n=P(),o=()=>{let e=(e,r)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(r),t(e,r)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?o():setTimeout(o,0),n}loadResources(e,t=ex){let r=t,i=R(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};i?t(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){let i=P();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ex),this.services.backendConnector.reload(e,t,e=>{i.resolve(),r(e)}),i}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&eo.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&0>this.languages.indexOf(e)&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;let r=P();this.emit("languageChanging",e);let i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},n=(n,o)=>{o?this.isLanguageChangingTo===e&&(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((...e)=>this.t(...e)),t&&t(n,(...e)=>this.t(...e))},o=t=>{e||t||!this.services.languageDetector||(t=[]);let r=R(t)?t:t&&t[0],o=this.store.hasLanguageSomeTranslations(r)?r:this.services.languageUtils.getBestMatchFromCodes(R(t)?[t]:t);o&&(this.language||i(o),this.translator.language||this.translator.changeLanguage(o),this.services.languageDetector?.cacheUserLanguage?.(o)),this.loadResources(o,e=>{n(e,o)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}getFixedT(e,t,r){let i=(e,t,...n)=>{let o,a;(o="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(n)):{...t}).lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||r||i.keyPrefix);let s=this.options.keySeparator||".";return o.keyPrefix&&Array.isArray(e)?a=e.map(e=>("function"==typeof e&&(e=el(e,{...this.options,...t})),`${o.keyPrefix}${s}${e}`)):("function"==typeof e&&(e=el(e,{...this.options,...t})),a=o.keyPrefix?`${o.keyPrefix}${s}${e}`:e),this.t(a,o)};return R(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;let o=(e,t)=>{let r=this.services.backendConnector.state[`${e}|${t}`];return -1===r||0===r||2===r};if(t.precheck){let e=t.precheck(this,o);if(void 0!==e)return e}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(n,e)))}loadNamespaces(e,t){let r=P();return this.options.ns?(R(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=P();R(e)&&(e=[e]);let i=this.options.preload||[],n=e.filter(e=>0>i.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=i.concat(n),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let t=new Intl.Locale(e);if(t&&t.getTextInfo){let e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(e){}let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new ep(eT());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new eC(e,t)}cloneInstance(e={},t=ex){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},n=new eC(i);return(void 0!==e.debug||void 0!==e.prefix)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r&&(n.store=new en(Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((r,i)=>(r[i]={...e[t][i]},r),e[t]),e),{}),i),n.services.resourceStore=n.store),n.translator=new ed(n.services,i),n.translator.on("*",(e,...t)=>{n.emit(e,...t)}),n.init(i,t),n.translator.options=i,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let ek=eC.createInstance();ek.createInstance=eC.createInstance;let eN=ek.createInstance;ek.dir,ek.init,ek.loadResources,ek.reloadResources,ek.use,ek.changeLanguage,ek.getFixedT,ek.t,ek.exists,ek.setDefaultNamespace,ek.hasLoadedNamespace,ek.loadNamespaces,ek.loadLanguages;var eR=e.i(629492),eP=e.i(29396);let eD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},eL=e=>eU[e],eK={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(eD,eL)},eM=(e={})=>{eK={...eK,...e}},eB=e=>{t=e},ej={type:"3rdParty",init(e){eM(e.options.react),eB(e)}};var e$=e.i(842862);e.i(65632);let ez=function(e){return{type:"backend",init:function(e,t,r){},read:function(t,r,i){if("function"==typeof e){if(e.length<3){try{var n=e(t,r);n&&"function"==typeof n.then?n.then(function(e){return i(null,e&&e.default||e)}).catch(i):i(null,n)}catch(e){i(e)}return}e(t,r,i);return}i(null,e&&e[t]&&e[t][r])}}}((t,r)=>e.f({"./langs//ar/common.json":{id:()=>384653,module:()=>e.A(384653)},"./langs//ar/messages.json":{id:()=>780080,module:()=>e.A(780080)},"./langs//ar/navbar.json":{id:()=>400034,module:()=>e.A(400034)},"./langs//cn/common.json":{id:()=>743822,module:()=>e.A(743822)},"./langs//cn/messages.json":{id:()=>154218,module:()=>e.A(154218)},"./langs//cn/navbar.json":{id:()=>549754,module:()=>e.A(549754)},"./langs//en/common.json":{id:()=>600420,module:()=>e.A(600420)},"./langs//en/messages.json":{id:()=>541924,module:()=>e.A(541924)},"./langs//en/navbar.json":{id:()=>516103,module:()=>e.A(516103)},"./langs//fr/common.json":{id:()=>713676,module:()=>e.A(713676)},"./langs//fr/messages.json":{id:()=>50719,module:()=>e.A(50719)},"./langs//fr/navbar.json":{id:()=>99759,module:()=>e.A(99759)},"./langs/ar/common.json":{id:()=>384653,module:()=>e.A(384653)},"./langs/ar/messages.json":{id:()=>780080,module:()=>e.A(780080)},"./langs/ar/navbar.json":{id:()=>400034,module:()=>e.A(400034)},"./langs/cn/common.json":{id:()=>743822,module:()=>e.A(743822)},"./langs/cn/messages.json":{id:()=>154218,module:()=>e.A(154218)},"./langs/cn/navbar.json":{id:()=>549754,module:()=>e.A(549754)},"./langs/en/common.json":{id:()=>600420,module:()=>e.A(600420)},"./langs/en/messages.json":{id:()=>541924,module:()=>e.A(541924)},"./langs/en/navbar.json":{id:()=>516103,module:()=>e.A(516103)},"./langs/fr/common.json":{id:()=>713676,module:()=>e.A(713676)},"./langs/fr/messages.json":{id:()=>50719,module:()=>e.A(50719)},"./langs/fr/navbar.json":{id:()=>99759,module:()=>e.A(99759)}}).import(`./langs/${t}/${r}.json`)),eF=(e,t=O)=>({supportedLngs:i.Options,fallbackLng:x,lng:e??x,fallbackNS:O,defaultNS:O,ns:t});async function eq(){let e=await (0,eR.cookies)(),t=await (0,eR.headers)(),r=e.get(C)?.value,i=r&&N.default.get(r),n=t.get("accept-language")??void 0,o=n&&k&&N.default.get(n);return i||o||x}async function eV(e,t){let r=eN(),i=eF(e,t);return await r.use(ej).use(ez).init(i),r}N.default.languages([...i.Options]),(0,eP.cache)(async(e=O,t={})=>{let r=await eq(),i=await eV(r,e);return{t:i.getFixedT(r,Array.isArray(e)?e[0]:e,t?.keyPrefix),i18n:i}}),e.i(450900);var eH=e.i(317920),eG={"ar-SA":{USER_NOT_FOUND:"  ",FAILED_TO_CREATE_USER:"    ",FAILED_TO_UPDATE_USER:"    ",USER_ALREADY_EXISTS:"  ",USER_EMAIL_NOT_FOUND:"    ",USER_ALREADY_HAS_PASSWORD:"    .       .",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"  .    .",FAILED_TO_CREATE_SESSION:"   ",FAILED_TO_GET_SESSION:"   ",SESSION_EXPIRED:"  .       .",INVALID_PASSWORD:"   ",INVALID_EMAIL:"   ",INVALID_EMAIL_OR_PASSWORD:"      ",INVALID_TOKEN:"  ",EMAIL_NOT_VERIFIED:"     ",CREDENTIAL_ACCOUNT_NOT_FOUND:"    ",PASSWORD_TOO_SHORT:"   ",PASSWORD_TOO_LONG:"   ",SOCIAL_ACCOUNT_ALREADY_LINKED:"   ",PROVIDER_NOT_FOUND:"   ",ID_TOKEN_NOT_SUPPORTED:"   ",FAILED_TO_GET_USER_INFO:"    ",EMAIL_CAN_NOT_BE_UPDATED:"    ",FAILED_TO_UNLINK_LAST_ACCOUNT:"     ",ACCOUNT_NOT_FOUND:"  "}},eW={"da-DK":{USER_NOT_FOUND:"Brugeren blev ikke fundet",FAILED_TO_CREATE_USER:"Fejl under oprettelse af bruger",FAILED_TO_UPDATE_USER:"Fejl under opdatering af bruger",USER_ALREADY_EXISTS:"Brugeren eksisterer allerede",USER_EMAIL_NOT_FOUND:"Brugerens e-mail blev ikke fundet",USER_ALREADY_HAS_PASSWORD:"Brugeren har allerede en adgangskode",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Brugeren eksisterer allerede. Brug en anden e-mail.",FAILED_TO_CREATE_SESSION:"Fejl under oprettelse af session",FAILED_TO_GET_SESSION:"Kunne ikke hente session",SESSION_EXPIRED:"Sessionen er udlbet",INVALID_PASSWORD:"Ugyldig adgangskode",INVALID_EMAIL:"Ugyldig e-mail",INVALID_EMAIL_OR_PASSWORD:"Ugyldig e-mail eller adgangskode",INVALID_TOKEN:"Ugyldigt token",EMAIL_NOT_VERIFIED:"E-mailen er ikke bekrftet",CREDENTIAL_ACCOUNT_NOT_FOUND:"Loginoplysningerne blev ikke fundet",PASSWORD_TOO_SHORT:"Adgangskoden er for kort",PASSWORD_TOO_LONG:"Adgangskoden er for lang",SOCIAL_ACCOUNT_ALREADY_LINKED:"Den sociale konto er allerede forbundet",PROVIDER_NOT_FOUND:"Udbyderen blev ikke fundet",ID_TOKEN_NOT_SUPPORTED:"ID-token understttes ikke",FAILED_TO_GET_USER_INFO:"Kunne ikke hente brugeroplysninger",EMAIL_CAN_NOT_BE_UPDATED:"E-mailen kan ikke opdateres",FAILED_TO_UNLINK_LAST_ACCOUNT:"Fejl ved afkobling af sidste konto",ACCOUNT_NOT_FOUND:"Kontoen blev ikke fundet"}},eZ={USER_NOT_FOUND:"Benutzer nicht gefunden",FAILED_TO_CREATE_USER:"Benutzer konnte nicht erstellt werden",FAILED_TO_UPDATE_USER:"Benutzer konnte nicht aktualisiert werden",USER_ALREADY_EXISTS:"Benutzer bereits vorhanden",USER_EMAIL_NOT_FOUND:"E-Mail-Adresse des Benutzers nicht gefunden",USER_ALREADY_HAS_PASSWORD:"Benutzer hat bereits ein Passwort. Bitte gib es ein, um das Konto zu lschen.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Benutzer existiert bereits. Verwende eine andere E-Mail-Adresse.",FAILED_TO_CREATE_SESSION:"Sitzung konnte nicht erstellt werden",FAILED_TO_GET_SESSION:"Sitzung konnte nicht abgerufen werden",SESSION_EXPIRED:"Sitzung abgelaufen. Bitte melde dich erneut an, um diese Aktion auszufhren.",INVALID_PASSWORD:"Ungltiges Passwort",INVALID_EMAIL:"Ungltige E-Mail-Adresse",INVALID_EMAIL_OR_PASSWORD:"Ungltige E-Mail-Adresse oder Passwort",INVALID_TOKEN:"Ungltiger Token",EMAIL_NOT_VERIFIED:"E-Mail-Adresse nicht verifiziert",CREDENTIAL_ACCOUNT_NOT_FOUND:"Konto nicht gefunden",PASSWORD_TOO_SHORT:"Passwort zu kurz",PASSWORD_TOO_LONG:"Passwort zu lang",SOCIAL_ACCOUNT_ALREADY_LINKED:"Konto bereits verknpft",PROVIDER_NOT_FOUND:"Anbieter nicht gefunden",ID_TOKEN_NOT_SUPPORTED:"id_token nicht untersttzt",FAILED_TO_GET_USER_INFO:"Informationen des Benutzers konnten nicht abgerufen werden",EMAIL_CAN_NOT_BE_UPDATED:"E-Mail-Adresse konnte nicht aktualisiert werden",FAILED_TO_UNLINK_LAST_ACCOUNT:"Du kannst das letzte Konto nicht trennen",ACCOUNT_NOT_FOUND:"Konto nicht gefunden"},eJ={...eZ,USER_ALREADY_HAS_PASSWORD:"Der Benutzer hat bereits ein Passwort. Bitte geben Sie es ein, um das Konto zu lschen.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Benutzer existiert bereits. Verwenden Sie eine andere E-Mail-Adresse.",SESSION_EXPIRED:"Sitzung abgelaufen. Bitte melden Sie sich erneut an, um diese Aktion auszufhren.",FAILED_TO_UNLINK_LAST_ACCOUNT:"Sie knnen das letzte Konto nicht trennen"},eQ={"de-DE":eZ,"de-DE-formal":eJ,"de-DE-informal":eZ},eY={"el-GR":{USER_NOT_FOUND:"   ",FAILED_TO_CREATE_USER:"  ",FAILED_TO_UPDATE_USER:"  ",USER_ALREADY_EXISTS:"   ",USER_EMAIL_NOT_FOUND:" email    ",USER_ALREADY_HAS_PASSWORD:"    ",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"   .   email.",FAILED_TO_CREATE_SESSION:"  ",FAILED_TO_GET_SESSION:"  ",SESSION_EXPIRED:"  ",INVALID_PASSWORD:" ",INVALID_EMAIL:" email",INVALID_EMAIL_OR_PASSWORD:" email  ",INVALID_TOKEN:" token",EMAIL_NOT_VERIFIED:" email   ",CREDENTIAL_ACCOUNT_NOT_FOUND:"   ",PASSWORD_TOO_SHORT:"    ",PASSWORD_TOO_LONG:"    ",SOCIAL_ACCOUNT_ALREADY_LINKED:"      ",PROVIDER_NOT_FOUND:"   ",ID_TOKEN_NOT_SUPPORTED:" id_token  ",FAILED_TO_GET_USER_INFO:"    ",EMAIL_CAN_NOT_BE_UPDATED:" email    ",FAILED_TO_UNLINK_LAST_ACCOUNT:"    ",ACCOUNT_NOT_FOUND:"   "}},eX={"es-ES":{USER_NOT_FOUND:"Usuario no encontrado",FAILED_TO_CREATE_USER:"Error al crear usuario",FAILED_TO_UPDATE_USER:"Error al actualizar usuario",USER_ALREADY_EXISTS:"Usuario ya existe",USER_EMAIL_NOT_FOUND:"Email del usuario no encontrado",USER_ALREADY_HAS_PASSWORD:"El usuario ya tiene una contrasea. Proporcione esa contrasea para eliminar la cuenta.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Usuario ya existe. Use otro email.",FAILED_TO_CREATE_SESSION:"Error al crear sesin",FAILED_TO_GET_SESSION:"Error al obtener sesin",SESSION_EXPIRED:"Sesin expirada. Inicie sesin nuevamente para realizar esta accin.",INVALID_PASSWORD:"Contrasea invlida",INVALID_EMAIL:"Email invlido",INVALID_EMAIL_OR_PASSWORD:"Email o contrasea invlidos",INVALID_TOKEN:"Token invlido",EMAIL_NOT_VERIFIED:"Email no verificado",CREDENTIAL_ACCOUNT_NOT_FOUND:"Cuenta de credenciales no encontrada",PASSWORD_TOO_SHORT:"Contrasea demasiado corta",PASSWORD_TOO_LONG:"Contrasea demasiado larga",SOCIAL_ACCOUNT_ALREADY_LINKED:"Cuenta ya vinculada",PROVIDER_NOT_FOUND:"Proveedor no encontrado",ID_TOKEN_NOT_SUPPORTED:"id_token no soportado",FAILED_TO_GET_USER_INFO:"Error al obtener informacin del usuario",EMAIL_CAN_NOT_BE_UPDATED:"Email no puede ser actualizado",FAILED_TO_UNLINK_LAST_ACCOUNT:"No puede desvincular su ltima cuenta",ACCOUNT_NOT_FOUND:"Cuenta no encontrada"}},e0={"fa-IR":{USER_NOT_FOUND:"  ",FAILED_TO_CREATE_USER:"    ",FAILED_TO_UPDATE_USER:"    ",USER_ALREADY_EXISTS:"    ",USER_EMAIL_NOT_FOUND:"   ",USER_ALREADY_HAS_PASSWORD:"    .          .",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"    .     .",FAILED_TO_CREATE_SESSION:"   ",FAILED_TO_GET_SESSION:"   ",SESSION_EXPIRED:"   .       .",INVALID_PASSWORD:"   ",INVALID_EMAIL:"  ",INVALID_EMAIL_OR_PASSWORD:"     ",INVALID_TOKEN:"  ",EMAIL_NOT_VERIFIED:"   ",CREDENTIAL_ACCOUNT_NOT_FOUND:"     ",PASSWORD_TOO_SHORT:"    ",PASSWORD_TOO_LONG:"    ",SOCIAL_ACCOUNT_ALREADY_LINKED:"       ",PROVIDER_NOT_FOUND:"  ",ID_TOKEN_NOT_SUPPORTED:"  (ID Token)  ",FAILED_TO_GET_USER_INFO:"    ",EMAIL_CAN_NOT_BE_UPDATED:"    ",FAILED_TO_UNLINK_LAST_ACCOUNT:"      ",ACCOUNT_NOT_FOUND:"  "}},e1={"fr-FR":{USER_NOT_FOUND:"Utilisateur non trouv",FAILED_TO_CREATE_USER:"chec de la cration de l'utilisateur",FAILED_TO_UPDATE_USER:"chec de la mise  jour de l'utilisateur",USER_ALREADY_EXISTS:"Utilisateur dj existant",USER_EMAIL_NOT_FOUND:"E-mail de l'utilisateur non trouv",USER_ALREADY_HAS_PASSWORD:"L'utilisateur a dj un mot de passe. Veuillez le fournir pour supprimer le compte.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Utilisateur dj existant. Utilisez un autre e-mail.",FAILED_TO_CREATE_SESSION:"chec de la cration de la session",FAILED_TO_GET_SESSION:"chec de la rcupration de la session",SESSION_EXPIRED:"Session expire. Veuillez vous authentifier  nouveau pour effectuer cette action.",INVALID_PASSWORD:"Mot de passe invalide",INVALID_EMAIL:"E-mail invalide",INVALID_EMAIL_OR_PASSWORD:"E-mail ou mot de passe invalides",INVALID_TOKEN:"Token invalide",EMAIL_NOT_VERIFIED:"E-mail non vrifi",CREDENTIAL_ACCOUNT_NOT_FOUND:"Compte d'identification non trouv",PASSWORD_TOO_SHORT:"Mot de passe trop court",PASSWORD_TOO_LONG:"Mot de passe trop long",SOCIAL_ACCOUNT_ALREADY_LINKED:"Compte dj li",PROVIDER_NOT_FOUND:"Fournisseur non trouv",ID_TOKEN_NOT_SUPPORTED:"id_token non pris en charge",FAILED_TO_GET_USER_INFO:"chec de la rcupration des informations de l'utilisateur",EMAIL_CAN_NOT_BE_UPDATED:"L'e-mail ne peut pas tre mis  jour",FAILED_TO_UNLINK_LAST_ACCOUNT:"Vous ne pouvez pas dissocier votre dernier compte",ACCOUNT_NOT_FOUND:"Compte non trouv"}},e2={"hi-HI":{USER_NOT_FOUND:"  ",FAILED_TO_CREATE_USER:"   ",FAILED_TO_UPDATE_USER:"    ",USER_ALREADY_EXISTS:"    ",USER_EMAIL_NOT_FOUND:"    ",USER_ALREADY_HAS_PASSWORD:"                ",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"        ",FAILED_TO_CREATE_SESSION:"   ",FAILED_TO_GET_SESSION:"    ",SESSION_EXPIRED:"               ",INVALID_PASSWORD:" ",INVALID_EMAIL:" ",INVALID_EMAIL_OR_PASSWORD:"    ",INVALID_TOKEN:" ",EMAIL_NOT_VERIFIED:"    ",CREDENTIAL_ACCOUNT_NOT_FOUND:"    ",PASSWORD_TOO_SHORT:"   ",PASSWORD_TOO_LONG:"   ",SOCIAL_ACCOUNT_ALREADY_LINKED:"     ",PROVIDER_NOT_FOUND:"  ",ID_TOKEN_NOT_SUPPORTED:"id_token   ",FAILED_TO_GET_USER_INFO:"     ",EMAIL_CAN_NOT_BE_UPDATED:"     ",FAILED_TO_UNLINK_LAST_ACCOUNT:"      ",ACCOUNT_NOT_FOUND:"  "}},e4={"id-ID":{USER_NOT_FOUND:"Pengguna tidak ditemukan",FAILED_TO_CREATE_USER:"Gagal membuat pengguna",FAILED_TO_UPDATE_USER:"Gagal memperbarui pengguna",USER_ALREADY_EXISTS:"Pengguna sudah ada",USER_EMAIL_NOT_FOUND:"Email pengguna tidak ditemukan",USER_ALREADY_HAS_PASSWORD:"Pengguna sudah memiliki kata sandi. Gunakan kata sandi sebelumnya untuk menghapus akun.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Pengguna sudah ada. Gunakan email lain.",FAILED_TO_CREATE_SESSION:"Gagal membuat sesi",FAILED_TO_GET_SESSION:"Gagal mendapatkan sesi",SESSION_EXPIRED:"Sesi telah kedaluwarsa. Silakan autentikasi ulang untuk melanjutkan.",INVALID_PASSWORD:"Kata sandi tidak valid",INVALID_EMAIL:"Alamat email tidak valid",INVALID_EMAIL_OR_PASSWORD:"Email atau kata sandi salah",INVALID_TOKEN:"Token tidak valid",EMAIL_NOT_VERIFIED:"Email belum diverifikasi",CREDENTIAL_ACCOUNT_NOT_FOUND:"Tidak ditemukan kredensial akun",PASSWORD_TOO_SHORT:"Kata sandi terlalu pendek",PASSWORD_TOO_LONG:"Kata sandi terlalu panjang",SOCIAL_ACCOUNT_ALREADY_LINKED:"Akun sosial ini sudah terhubung",PROVIDER_NOT_FOUND:"Penyedia tidak ditemukan",ID_TOKEN_NOT_SUPPORTED:"`id_token` tidak didukung",FAILED_TO_GET_USER_INFO:"Gagal mengambil informasi pengguna",EMAIL_CAN_NOT_BE_UPDATED:"Alamat email tidak dapat diperbarui",FAILED_TO_UNLINK_LAST_ACCOUNT:"Anda tidak dapat menghapus tautan akun terakhir Anda",ACCOUNT_NOT_FOUND:"Akun tidak ditemukan"}},e3={"it-IT":{USER_NOT_FOUND:"Utente non trovato",FAILED_TO_CREATE_USER:"Errore nella creazione dell'utente",FAILED_TO_UPDATE_USER:"Errore nell'aggiornamento dell'utente",USER_ALREADY_EXISTS:"Utente gi esistente",USER_EMAIL_NOT_FOUND:"Email dell'utente non trovata",USER_ALREADY_HAS_PASSWORD:"L'utente ha gi una password. Forniscila per eliminare l'account.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Utente gi esistente. Usa un altro email.",FAILED_TO_CREATE_SESSION:"Errore nella creazione della sessione",FAILED_TO_GET_SESSION:"Errore nel recupero della sessione",SESSION_EXPIRED:"Sessione scaduta. Autenticati nuovamente per eseguire questa azione.",INVALID_PASSWORD:"Password non valida",INVALID_EMAIL:"Email non valida",INVALID_EMAIL_OR_PASSWORD:"Email o password non valide",INVALID_TOKEN:"Token non valido",EMAIL_NOT_VERIFIED:"Email non verificata",CREDENTIAL_ACCOUNT_NOT_FOUND:"Account delle credenziali non trovato",PASSWORD_TOO_SHORT:"Password troppo corta",PASSWORD_TOO_LONG:"Password troppo lunga",SOCIAL_ACCOUNT_ALREADY_LINKED:"Account gi collegato",PROVIDER_NOT_FOUND:"Provider non trovato",ID_TOKEN_NOT_SUPPORTED:"id_token non supportato",FAILED_TO_GET_USER_INFO:"Errore nel recupero delle informazioni dell'utente",EMAIL_CAN_NOT_BE_UPDATED:"L'email non pu essere aggiornata",FAILED_TO_UNLINK_LAST_ACCOUNT:"Non puoi scollegare il tuo ultimo account",ACCOUNT_NOT_FOUND:"Account non trovato"}},e5={"ja-JP":{USER_NOT_FOUND:"",FAILED_TO_CREATE_USER:"",FAILED_TO_UPDATE_USER:"",USER_ALREADY_EXISTS:"",USER_EMAIL_NOT_FOUND:"",USER_ALREADY_HAS_PASSWORD:"",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"",FAILED_TO_CREATE_SESSION:"",FAILED_TO_GET_SESSION:"",SESSION_EXPIRED:"",INVALID_PASSWORD:"",INVALID_EMAIL:"",INVALID_EMAIL_OR_PASSWORD:"",INVALID_TOKEN:"",EMAIL_NOT_VERIFIED:"",CREDENTIAL_ACCOUNT_NOT_FOUND:"",PASSWORD_TOO_SHORT:"",PASSWORD_TOO_LONG:"",SOCIAL_ACCOUNT_ALREADY_LINKED:"",PROVIDER_NOT_FOUND:"",ID_TOKEN_NOT_SUPPORTED:"id_token",FAILED_TO_GET_USER_INFO:"",EMAIL_CAN_NOT_BE_UPDATED:"",FAILED_TO_UNLINK_LAST_ACCOUNT:"",ACCOUNT_NOT_FOUND:""}},e6={"ko-KR":{USER_NOT_FOUND:"   ",FAILED_TO_CREATE_USER:"  ",FAILED_TO_UPDATE_USER:"  ",USER_ALREADY_EXISTS:"  ",USER_EMAIL_NOT_FOUND:"    ",USER_ALREADY_HAS_PASSWORD:"   .     .",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"  .   .",FAILED_TO_CREATE_SESSION:"  ",FAILED_TO_GET_SESSION:"  ",SESSION_EXPIRED:" .     .",INVALID_PASSWORD:" ",INVALID_EMAIL:" ",INVALID_EMAIL_OR_PASSWORD:"   ",INVALID_TOKEN:" ",EMAIL_NOT_VERIFIED:"  ",CREDENTIAL_ACCOUNT_NOT_FOUND:"     ",PASSWORD_TOO_SHORT:"  ",PASSWORD_TOO_LONG:"  ",SOCIAL_ACCOUNT_ALREADY_LINKED:"   ",PROVIDER_NOT_FOUND:"   ",ID_TOKEN_NOT_SUPPORTED:"id_token  ",FAILED_TO_GET_USER_INFO:"   ",EMAIL_CAN_NOT_BE_UPDATED:"   ",FAILED_TO_UNLINK_LAST_ACCOUNT:"     ",ACCOUNT_NOT_FOUND:"   "}},e8={"mr-MR":{USER_NOT_FOUND:"  ",FAILED_TO_CREATE_USER:"   ",FAILED_TO_UPDATE_USER:"   ",USER_ALREADY_EXISTS:"   ",USER_EMAIL_NOT_FOUND:"   ",USER_ALREADY_HAS_PASSWORD:"     .      .",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"   .   .",FAILED_TO_CREATE_SESSION:"   ",FAILED_TO_GET_SESSION:"  ",SESSION_EXPIRED:"   .       .",INVALID_PASSWORD:" ",INVALID_EMAIL:" ",INVALID_EMAIL_OR_PASSWORD:"    ",INVALID_TOKEN:" ",EMAIL_NOT_VERIFIED:"   ",CREDENTIAL_ACCOUNT_NOT_FOUND:"   ",PASSWORD_TOO_SHORT:"   ",PASSWORD_TOO_LONG:"   ",SOCIAL_ACCOUNT_ALREADY_LINKED:"    ",PROVIDER_NOT_FOUND:"  ",ID_TOKEN_NOT_SUPPORTED:"id_token  ",FAILED_TO_GET_USER_INFO:"   ",EMAIL_CAN_NOT_BE_UPDATED:"    ",FAILED_TO_UNLINK_LAST_ACCOUNT:"    ",ACCOUNT_NOT_FOUND:"  "}},e9={USER_NOT_FOUND:"Gebruiker niet gevonden",FAILED_TO_CREATE_USER:"Gebruiker kon niet worden aangemaakt",FAILED_TO_UPDATE_USER:"Gebruiker kon niet worden bijgewerkt",USER_ALREADY_EXISTS:"Gebruiker bestaat al",USER_EMAIL_NOT_FOUND:"E-mailadres van gebruiker niet gevonden",USER_ALREADY_HAS_PASSWORD:"Gebruiker heeft al een wachtwoord. Voer het in om het account te verwijderen.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Gebruiker bestaat al. Gebruik een ander e-mailadres.",FAILED_TO_CREATE_SESSION:"Sessie kon niet worden aangemaakt",FAILED_TO_GET_SESSION:"Sessie kon niet worden opgehaald",SESSION_EXPIRED:"Sessie verlopen. Log opnieuw in om deze actie uit te voeren.",INVALID_PASSWORD:"Ongeldig wachtwoord",INVALID_EMAIL:"Ongeldig e-mailadres",INVALID_EMAIL_OR_PASSWORD:"Ongeldig e-mailadres of wachtwoord",INVALID_TOKEN:"Ongeldig token",EMAIL_NOT_VERIFIED:"E-mailadres niet geverifieerd",CREDENTIAL_ACCOUNT_NOT_FOUND:"Account niet gevonden",PASSWORD_TOO_SHORT:"Wachtwoord te kort",PASSWORD_TOO_LONG:"Wachtwoord te lang",SOCIAL_ACCOUNT_ALREADY_LINKED:"Account al gekoppeld",PROVIDER_NOT_FOUND:"Provider niet gevonden",ID_TOKEN_NOT_SUPPORTED:"id_token niet ondersteund",FAILED_TO_GET_USER_INFO:"Gebruikersgegevens konden niet worden opgehaald",EMAIL_CAN_NOT_BE_UPDATED:"E-mailadres kon niet worden bijgewerkt",FAILED_TO_UNLINK_LAST_ACCOUNT:"Je kunt het laatste account niet ontkoppelen",ACCOUNT_NOT_FOUND:"Account niet gevonden"},e7={...e9,FAILED_TO_UNLINK_LAST_ACCOUNT:"U kunt het laatste account niet ontkoppelen"},te={"nl-NL":e9,"nl-NL-formal":e7,"nl-NL-informal":e9},tt={"pl-PL":{USER_NOT_FOUND:"Nie znaleziono uytkownika",FAILED_TO_CREATE_USER:"Wystpi problem podczas tworzenia uytkownika",FAILED_TO_UPDATE_USER:"Wystpi problem podczas aktulizacji uytkownika",USER_ALREADY_EXISTS:"Uytkownik ju istnieje",USER_EMAIL_NOT_FOUND:"Nie znaleziono adresu email",USER_ALREADY_HAS_PASSWORD:"Uytkownik ju posiada ustawione haso",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Uytkownik ju istnieje. Uyj innego adresu email.",FAILED_TO_CREATE_SESSION:"Wystpi problem podczas tworzenia sesji",FAILED_TO_GET_SESSION:"Nie mona przetworzy sesji",SESSION_EXPIRED:"Sesja wygasa. Aby wykona t czynno, naley dokona ponownego uwierzytelnienia.",INVALID_PASSWORD:"Niepoprawne haso",INVALID_EMAIL:"Niepoprawny adres email",INVALID_EMAIL_OR_PASSWORD:"Adres email lub haso s niepoprawne",INVALID_TOKEN:"Niepoprawny token",EMAIL_NOT_VERIFIED:"Email nie zosta zweryfikowany",CREDENTIAL_ACCOUNT_NOT_FOUND:"Nie posiadasz adnego hasa",PASSWORD_TOO_SHORT:"Haso jest za krtkie",PASSWORD_TOO_LONG:"Haso jest za dugie",SOCIAL_ACCOUNT_ALREADY_LINKED:"To konto ju jest poczone",PROVIDER_NOT_FOUND:"Nie znaleziono dostawcy",ID_TOKEN_NOT_SUPPORTED:"id_token nie jest obsugiwany",FAILED_TO_GET_USER_INFO:"Wystpi bd podczas pobierania informacji o uytkowniku",EMAIL_CAN_NOT_BE_UPDATED:"Nie mona zaktulizowa adresu email",FAILED_TO_UNLINK_LAST_ACCOUNT:"Nie moesz odczy swojego ostatniego konta",ACCOUNT_NOT_FOUND:"Nie znaleziono konta"}},tr={"pt-BR":{USER_NOT_FOUND:"Usurio no encontrado",FAILED_TO_CREATE_USER:"Falha ao criar usurio",FAILED_TO_UPDATE_USER:"Falha ao atualizar usurio",USER_ALREADY_EXISTS:"Usurio j existe",USER_EMAIL_NOT_FOUND:"Email do usurio no encontrado",USER_ALREADY_HAS_PASSWORD:"Usurio j possui uma senha. Fornea-a para excluir a conta.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Usurio j existe. Use outro email.",FAILED_TO_CREATE_SESSION:"Falha ao criar sesso",FAILED_TO_GET_SESSION:"Falha ao obter sesso",SESSION_EXPIRED:"Sesso expirada. Autentique-se novamente para realizar esta ao.",INVALID_PASSWORD:"Senha invlida",INVALID_EMAIL:"Email invlido",INVALID_EMAIL_OR_PASSWORD:"Email ou senha invlidos",INVALID_TOKEN:"Token invlido",EMAIL_NOT_VERIFIED:"Email no verificado",CREDENTIAL_ACCOUNT_NOT_FOUND:"Conta de credenciais no encontrada",PASSWORD_TOO_SHORT:"Senha muito curta",PASSWORD_TOO_LONG:"Senha muito longa",SOCIAL_ACCOUNT_ALREADY_LINKED:"Conta j vinculada",PROVIDER_NOT_FOUND:"Provedor no encontrado",ID_TOKEN_NOT_SUPPORTED:"id_token no suportado",FAILED_TO_GET_USER_INFO:"Falha ao obter informaes do usurio",EMAIL_CAN_NOT_BE_UPDATED:"Email no pode ser atualizado",FAILED_TO_UNLINK_LAST_ACCOUNT:"Voc no pode desvincular sua ltima conta",ACCOUNT_NOT_FOUND:"Conta no encontrada"},"pt-PT":{USER_NOT_FOUND:"Utilizador no encontrado",FAILED_TO_CREATE_USER:"Falha ao criar utilizador",FAILED_TO_UPDATE_USER:"Falha ao actualizar utilizador",USER_ALREADY_EXISTS:"Utilizador j existe",USER_EMAIL_NOT_FOUND:"E-mail do utilizador no encontrado",USER_ALREADY_HAS_PASSWORD:"Utilizador j possui uma palavra-passe. Fornea-a para eliminar a conta.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Utilizador j existe. Use outro e-mail.",FAILED_TO_CREATE_SESSION:"Falha ao criar sesso",FAILED_TO_GET_SESSION:"Falha ao obter sesso",SESSION_EXPIRED:"Sesso expirada. Autentique-se novamente para realizar esta aco.",INVALID_PASSWORD:"Palavra-passe invlida",INVALID_EMAIL:"E-mail invlido",INVALID_EMAIL_OR_PASSWORD:"E-mail ou palavra-passe invlidos",INVALID_TOKEN:"Token invlido",EMAIL_NOT_VERIFIED:"E-mail no verificado",CREDENTIAL_ACCOUNT_NOT_FOUND:"Conta de credenciais no encontrada",PASSWORD_TOO_SHORT:"Palavra-passe muito curta",PASSWORD_TOO_LONG:"Palavra-passe muito longa",SOCIAL_ACCOUNT_ALREADY_LINKED:"Conta j associada",PROVIDER_NOT_FOUND:"Fornecedor no encontrado",ID_TOKEN_NOT_SUPPORTED:"id_token no suportado",FAILED_TO_GET_USER_INFO:"Falha ao obter informaes do utilizador",EMAIL_CAN_NOT_BE_UPDATED:"E-mail no pode ser actualizado",FAILED_TO_UNLINK_LAST_ACCOUNT:"No pode desassociar a sua ltima conta",ACCOUNT_NOT_FOUND:"Conta no encontrada"}},ti={"ru-RU":{USER_NOT_FOUND:"  ",FAILED_TO_CREATE_USER:"   ",FAILED_TO_UPDATE_USER:"   ",USER_ALREADY_EXISTS:"  ",USER_EMAIL_NOT_FOUND:"Email   ",USER_ALREADY_HAS_PASSWORD:"    .      .",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"  .   email.",FAILED_TO_CREATE_SESSION:"   ",FAILED_TO_GET_SESSION:"   ",SESSION_EXPIRED:" .        .",INVALID_PASSWORD:" ",INVALID_EMAIL:" email",INVALID_EMAIL_OR_PASSWORD:" email  ",INVALID_TOKEN:" ",EMAIL_NOT_VERIFIED:"Email  ",CREDENTIAL_ACCOUNT_NOT_FOUND:"   ",PASSWORD_TOO_SHORT:"  ",PASSWORD_TOO_LONG:"  ",SOCIAL_ACCOUNT_ALREADY_LINKED:"  ",PROVIDER_NOT_FOUND:"  ",ID_TOKEN_NOT_SUPPORTED:"id_token  ",FAILED_TO_GET_USER_INFO:"     ",EMAIL_CAN_NOT_BE_UPDATED:"Email  ",FAILED_TO_UNLINK_LAST_ACCOUNT:"   ",ACCOUNT_NOT_FOUND:"  "}},tn={"sv-SE":{USER_NOT_FOUND:"Anvndaren hittades inte",FAILED_TO_CREATE_USER:"Lyckades inte skapa anvndare",FAILED_TO_UPDATE_USER:"Lyckades inte uppdatera anvndare",USER_ALREADY_EXISTS:"Anvndaren finns redan",USER_EMAIL_NOT_FOUND:"Anvndarens e-post hittades inte",USER_ALREADY_HAS_PASSWORD:"Anvndaren har redan ett lsenord",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Anvndaren finns redan. Anvnd en annan e-postadress.",FAILED_TO_CREATE_SESSION:"Lyckades inte skapa session",FAILED_TO_GET_SESSION:"Lyckades inte hmta session",SESSION_EXPIRED:"Sessionen har gtt ut",INVALID_PASSWORD:"Ogiltigt lsenord",INVALID_EMAIL:"Ogiltig e-postadress",INVALID_EMAIL_OR_PASSWORD:"Ogiltig e-postadress eller lsenord",INVALID_TOKEN:"Ogiltig token",EMAIL_NOT_VERIFIED:"E-postadress har inte verifierats",CREDENTIAL_ACCOUNT_NOT_FOUND:"Inloggningsuppgifter hittades inte",PASSWORD_TOO_SHORT:"Lsenordet r fr kort",PASSWORD_TOO_LONG:"Lsenordet r fr lngt",SOCIAL_ACCOUNT_ALREADY_LINKED:"Socialt konto r redan lnkat",PROVIDER_NOT_FOUND:"Leverantr hittades inte",ID_TOKEN_NOT_SUPPORTED:"ID-token stds inte",FAILED_TO_GET_USER_INFO:"Kunde inte hmta anvndaruppgifter",EMAIL_CAN_NOT_BE_UPDATED:"E-postadress kan inte uppdateras",FAILED_TO_UNLINK_LAST_ACCOUNT:"Du kan inte koppla bort det sista kontot",ACCOUNT_NOT_FOUND:"Konto hittades inte"}},to={"tr-TR":{USER_NOT_FOUND:"Kullanc bulunamad",FAILED_TO_CREATE_USER:"Kullanc oluturulamad",FAILED_TO_UPDATE_USER:"Kullanc gncellenemedi",USER_ALREADY_EXISTS:"Kullanc zaten mevcut",USER_EMAIL_NOT_FOUND:"Kullanc e-posta adresi bulunamad",USER_ALREADY_HAS_PASSWORD:"Kullancnn zaten bir ifresi var. Hesab silmek iin ltfen ifreyi girin.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"Kullanc zaten mevcut. Baka bir e-posta adresi kullann.",FAILED_TO_CREATE_SESSION:"Oturum oluturulamad",FAILED_TO_GET_SESSION:"Oturum alnamad",SESSION_EXPIRED:"Oturum sresi doldu. Bu ilemi gerekletirmek iin ltfen tekrar giri yapn.",INVALID_PASSWORD:"Geersiz ifre",INVALID_EMAIL:"Geersiz e-posta adresi",INVALID_EMAIL_OR_PASSWORD:"Geersiz e-posta adresi veya ifre",INVALID_TOKEN:"Geersiz token",EMAIL_NOT_VERIFIED:"E-posta adresi dorulanmam",CREDENTIAL_ACCOUNT_NOT_FOUND:"Hesap bulunamad",PASSWORD_TOO_SHORT:"ifre ok ksa",PASSWORD_TOO_LONG:"ifre ok uzun",SOCIAL_ACCOUNT_ALREADY_LINKED:"Hesap zaten bal",PROVIDER_NOT_FOUND:"Salayc bulunamad",ID_TOKEN_NOT_SUPPORTED:"id_token desteklenmiyor",FAILED_TO_GET_USER_INFO:"Kullanc bilgileri alnamad",EMAIL_CAN_NOT_BE_UPDATED:"E-posta adresi gncellenemedi",FAILED_TO_UNLINK_LAST_ACCOUNT:"Son hesabn balantsn kaldramazsnz",ACCOUNT_NOT_FOUND:"Hesap bulunamad"}},ta={"zh-Hant":{USER_NOT_FOUND:"",FAILED_TO_CREATE_USER:"",FAILED_TO_UPDATE_USER:"",USER_ALREADY_EXISTS:"",USER_EMAIL_NOT_FOUND:"",USER_ALREADY_HAS_PASSWORD:"",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"",FAILED_TO_CREATE_SESSION:"",FAILED_TO_GET_SESSION:"",SESSION_EXPIRED:"",INVALID_PASSWORD:"",INVALID_EMAIL:"",INVALID_EMAIL_OR_PASSWORD:"",INVALID_TOKEN:"",EMAIL_NOT_VERIFIED:"",CREDENTIAL_ACCOUNT_NOT_FOUND:"",PASSWORD_TOO_SHORT:"",PASSWORD_TOO_LONG:"",SOCIAL_ACCOUNT_ALREADY_LINKED:"",PROVIDER_NOT_FOUND:"",ID_TOKEN_NOT_SUPPORTED:" id_token",FAILED_TO_GET_USER_INFO:"",EMAIL_CAN_NOT_BE_UPDATED:"",FAILED_TO_UNLINK_LAST_ACCOUNT:"",ACCOUNT_NOT_FOUND:""},"zh-Hans":{USER_NOT_FOUND:"",FAILED_TO_CREATE_USER:"",FAILED_TO_UPDATE_USER:"",USER_ALREADY_EXISTS:"",USER_EMAIL_NOT_FOUND:"",USER_ALREADY_HAS_PASSWORD:"",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"",FAILED_TO_CREATE_SESSION:"",FAILED_TO_GET_SESSION:"",SESSION_EXPIRED:"",INVALID_PASSWORD:"",INVALID_EMAIL:"",INVALID_EMAIL_OR_PASSWORD:"",INVALID_TOKEN:"",EMAIL_NOT_VERIFIED:"",CREDENTIAL_ACCOUNT_NOT_FOUND:"",PASSWORD_TOO_SHORT:"",PASSWORD_TOO_LONG:"",SOCIAL_ACCOUNT_ALREADY_LINKED:"",PROVIDER_NOT_FOUND:"",ID_TOKEN_NOT_SUPPORTED:" id_token",FAILED_TO_GET_USER_INFO:"",EMAIL_CAN_NOT_BE_UPDATED:"",FAILED_TO_UNLINK_LAST_ACCOUNT:"",ACCOUNT_NOT_FOUND:""}},ts={...eG,...eW,...eQ,...eY,...eX,...e0,...e1,...e2,...e4,...e3,...e5,...e6,...e8,...te,...tt,...tr,...ti,...tn,...to,...ta},tl=e=>null!=e&&"object"==typeof e&&"code"in e&&"message"in e,tu=e=>null!=e&&"object"==typeof e&&"body"in e,tc=(e,t)=>{if(!t)return e;let r={};for(let[t,i]of Object.entries(e))r[t]={...i};for(let[e,i]of Object.entries(t))i&&(r[e]?r[e]={...r[e],...i}:r[e]={...i});return r},td=(e,t,r,i,n)=>{if("default"===t)return n||e;let o=i[t]?.[e];if(o)return o;if(r!==t&&"default"!==r){let t=i[r]?.[e];if(t)return t}return n||e},tp=e=>{let{defaultLocale:t="default",fallbackLocale:r="default",translations:i,getLocale:n}=e,o=t,a=r,s=tc(ts,i),l=n?async e=>{try{let r=await n(e);return r in s||"default"===r?r:(console.warn(`[better-auth-localization] Locale "${String(r)}" not found in translations. Available locales: ${Object.keys(s).join(", ")}. Falling back to "${String(t)}"`),o)}catch(e){return console.error(`[better-auth-localization] Error resolving locale: ${e}`),o}}:()=>o;return{id:"better-auth-localization",hooks:{after:[{matcher:()=>!0,handler:(0,eH.createAuthMiddleware)(async e=>{let{request:t}=e,{returned:r}=e.context;if(!tu(r)||!tl(r.body))return;let{body:i,statusCode:n}=r,o=await l(t);if("default"===o)return;let u=td(i.code,o,a,s,i.message);if(u)return e.error(n||"UNPROCESSABLE_ENTITY",{message:u,code:i.code})})}]}}},tf=e.i(64317),th=e.i(405614),tm=e$,tg=A;class ty extends tf.TaggedError("NextCookiesError"){}let tv=th.succeed(tp({defaultLocale:"default",fallbackLocale:"default",getLocale:async()=>tm.pipe(th.tryPromise({try:eq,catch:e=>new ty({type:"failed_to_detect_language",cause:e,message:"Failed to detect language"})}),th.flatMap(tg.decode(I)),th.tapError(e=>th.logError(e)),th.orElseSucceed(()=>"default"),th.runPromise)}));e.s(["localizationPlugin",0,tv],614591)},535207,e=>{"use strict";e.i(614591),e.s([])},199214,e=>{"use strict";var t=e.i(450900);let r=e.i(405614).succeed((0,t.mcp)({loginPage:"/auth/sign-in"}));e.s(["mcpPlugin",0,r])},796397,e=>{"use strict";e.i(199214),e.s([])},515004,e=>{"use strict";var t=e.i(424181);let r=e.i(405614).succeed((0,t.multiSession)());e.s(["multiSessionPlugin",0,r])},249204,e=>{"use strict";e.i(515004),e.s([])},758023,e=>{"use strict";e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770);var t=e.i(681393);e.i(154456);var r=e.i(909879);e.i(446610),e.i(537430),e.i(339127),e.i(282318),e.i(172381),e.i(362160),e.i(775638),e.i(216344),e.i(841604),e.i(482135),e.i(533078),e.i(896101),e.i(136145),e.i(894849),e.i(408972),e.i(973088),e.i(130717),e.i(181984),e.i(795080),e.i(805650),e.i(649330),e.i(129776),e.i(323591),e.i(127155),e.i(66655),e.i(105570);let i=()=>({id:"next-cookies",hooks:{after:[{matcher:e=>!0,handler:(0,r.c)(async r=>{let i=r.context.responseHeaders;if((!("_flag"in r)||"router"!==r._flag)&&i instanceof Headers){let r,n=i?.get("set-cookie");if(!n)return;let o=(0,t.p)(n),{cookies:a}=await e.A(863183);try{r=await a()}catch(e){if(e instanceof Error&&e.message.startsWith("`cookies` was called outside a request scope."))return;throw e}o.forEach((e,t)=>{if(!t)return;let i={sameSite:e.samesite,secure:e.secure,maxAge:e["max-age"],httpOnly:e.httponly,domain:e.domain,path:e.path};try{r.set(t,decodeURIComponent(e.value),i)}catch(e){}});return}})}]}}),n=e.i(405614).succeed(i());e.s(["nextCookiesPlugin",0,n],758023)},12425,e=>{"use strict";e.i(758023),e.s([])},408663,e=>{"use strict";var t=e.i(387164);let r=e.i(405614).succeed((0,t.oAuthProxy)());e.s(["oauthProxyPlugin",0,r])},203083,e=>{"use strict";e.i(408663),e.s([])},510385,e=>{"use strict";e.i(154456),e.i(446610),e.i(909879),e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(681393),e.i(537430),e.i(66655),e.i(339127),e.i(805650);var t=e.i(476902);e.i(282318),e.i(926631),e.i(362160),e.i(973088),e.i(533078),e.i(172381),e.i(181984),e.i(408972),e.i(130717),e.i(649330),e.i(129776),e.i(795080),e.i(896101);var r=t;let i=e.i(405614).succeed((0,r.o)({loginPage:"/sign-in"}));e.s(["oidcProviderPlugin",0,i],510385)},814199,e=>{"use strict";e.i(510385),e.s([])},990309,e=>{"use strict";var t=e.i(853053);e.i(450900);var r=e.i(264380),i=e.i(405614),n=e.i(842862),o=e.i(65632),a=e.i(392353);let s=i.gen(function*(){let e=yield*t.IamConfig;return(0,r.oneTap)({clientId:n.pipe(e.oauth.provider.google.clientId,o.match({onNone:()=>"not a real client id",onSome:e=>a.value(e)}))})});e.s(["oneTapPlugin",0,s])},189665,e=>{"use strict";e.i(990309),e.s([])},479824,e=>{"use strict";e.i(154456),e.i(909879),e.i(446610),e.i(338270),e.i(530501),e.i(35972),e.i(464589),e.i(323770),e.i(537430),e.i(339127),e.i(282318),e.i(172381),e.i(362160),e.i(775638),e.i(216344),e.i(841604),e.i(482135),e.i(533078),e.i(896101),e.i(136145);var t=e.i(520187);e.i(894849),e.i(973088),e.i(681393),e.i(408972),e.i(130717),e.i(181984),e.i(795080),e.i(805650),e.i(649330),e.i(129776),e.i(323591),e.i(127155),e.i(66655),e.i(744957),e.i(1738),e.i(105570);var r=t;let i=e.i(405614).succeed((0,r.o)());e.s(["oneTimeTokenPlugin",0,i],479824)},646490,e=>{"use strict";e.i(479824),e.s([])},323202,e=>{"use strict";e.i(450900);var t=e.i(947576);let r=e.i(405614).succeed((0,t.openAPI)());e.s(["openApiPlugin",0,r])},816686,e=>{"use strict";e.i(323202),e.s([])},308173,e=>{"use strict";e.i(886899),e.s([],308173)},894207,e=>{"use strict";e.i(841190),e.i(154456),e.i(909879),e.i(973088),e.i(681393),e.i(408972),e.i(338270),e.i(530501),e.i(35972),e.i(130717),e.i(464589),e.i(181984),e.i(323770),e.i(795080),e.i(446610),e.i(282318),e.i(805650),e.i(172381),e.i(362160),e.i(339127),e.i(533078),e.i(649330),e.i(537430),e.i(129776),e.i(1738),e.i(775638),e.i(217202),e.i(216344),e.i(323591),e.i(69703),e.s([])},51711,e=>{"use strict";var t=e.i(841190);e.s(["organization",()=>t.o])},366534,e=>e.a(async(t,r)=>{try{e.i(308173);var i=e.i(886899);e.i(140104);var n=e.i(602999);e.i(944824);var o=e.i(735967);e.i(822676);var a=e.i(489878);e.i(894207);var s=e.i(51711),l=e.i(875225),u=e.i(772767),c=e.i(405614),d=e.i(847279),p=e.i(411237),f=e.i(862396),h=e.i(69232);e.i(632600);var m=e.i(619711),g=t([h]);[h]=g.then?(await g)():g,a.Organization.OrganizationTypeEnum.individual,a.Organization.SubscriptionTierEnum.free,a.Organization.SubscriptionStatusEnum.active,m.commonExtraFields,m.commonExtraFields,m.commonExtraFields,m.commonExtraFields,m.commonExtraFields;let y=c.gen(function*(){let{db:e}=yield*i.IamDb.IamDb,{sendInvitation:t}=yield*h.AuthEmailService,r=yield*c.runtime(),s=d.runPromise(r);return{allowUserToCreateOrganization:!0,organizationLimit:1,creatorRole:"owner",membershipLimit:2,sendInvitationEmail:async e=>void await c.flatMap(p.decode(h.InvitationEmailPayload)({email:e.email,invitedByUsername:e.inviter.user.name,invitedByEmail:e.inviter.user.email,teamName:e.organization.name}),t).pipe(s),teams:{enabled:!0,maximumTeams:10,allowRemovingAllTeams:!1},cancelPendingInvitationsOnReInvite:!0,requireEmailVerificationOnInvitation:!0,schema:{organization:{additionalFields:{type:{type:"string",required:!0,defaultValue:a.Organization.OrganizationTypeEnum.individual},ownerUserId:{type:"string",required:!1},isPersonal:{type:"boolean",required:!0},maxMembers:{type:"number",required:!1},features:{type:"json",required:!1},settings:{type:"json",required:!1},subscriptionTier:{type:"string",required:!1,defaultValue:a.Organization.SubscriptionTierEnum.free},subscriptionStatus:{type:"string",required:!1,defaultValue:a.Organization.SubscriptionStatusEnum.active},...m.commonExtraFields}},member:{additionalFields:{status:{type:"string",required:!0,defaultValue:"active"},invitedBy:{type:"string",required:!1},invitedAt:{type:"date",required:!1},joinedAt:{type:"date",required:!1},lastActiveAt:{type:"date",required:!1},permissions:{type:"string",required:!1},...m.commonExtraFields}},invitation:{additionalFields:{...m.commonExtraFields}},team:{additionalFields:{description:{type:"string",required:!1},metadata:{type:"string",required:!1},logo:{type:"string",required:!1},...m.commonExtraFields}},organizationRole:{additionalFields:{...m.commonExtraFields}}},dynamicAccessControl:{enabled:!0},organizationHooks:{beforeCreateOrganization:async e=>{let{organization:t,user:r}=e;return{data:{...t,type:a.Organization.OrganizationTypeEnum.team,ownerUserId:r.id,isPersonal:!1,subscriptionTier:a.Organization.SubscriptionTierEnum.free,subscriptionStatus:a.Organization.SubscriptionStatusEnum.active,source:"user_created"}}},afterCreateOrganization:async({organization:t,member:r,user:i})=>{let d=c.gen(function*(){let t=yield*u.now,i=u.toDate(t);return yield*e.update(n.IamDbSchema.member).set({status:a.Organization.SubscriptionStatusEnum.active,joinedAt:i,lastActiveAt:i}).where(l.eq(n.IamDbSchema.member.id,f.decodeUnknownSync(o.IamEntityIds.MemberId)(r.id)))}).pipe(c.match({onSuccess:()=>console.log(`Team organization ${t.name} created for user ${i.id}`),onFailure:e=>console.error(`Failed to create team organization ${t.name} for user ${i.id}: ${e}`)}));await s(d)}}}}),v=c.gen(function*(){let e=yield*y;return(0,s.organization)(e)});e.s(["organizationPlugin",0,v]),r()}catch(e){r(e)}},!1),988424,e=>e.a(async(t,r)=>{try{var i=e.i(366534),n=t([i]);[i]=n.then?(await n)():n,e.s([]),r()}catch(e){r(e)}},!1),289064,(e,t,r)=>{var i;!function(t){!function(r){var i="object"==typeof globalThis?globalThis:e.g,n=o(t);function o(e,t){return function(r,i){Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),t&&t(r,i)}}void 0!==i.Reflect&&(n=o(i.Reflect,n)),r(n,i),void 0===i.Reflect&&(i.Reflect=t)}(function(e,t){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s=({__proto__:[]})instanceof Array,l=!a&&!s,u={create:a?function(){return et(Object.create(null))}:s?function(){return et({__proto__:null})}:function(){return et({})},has:l?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),d="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:Y(),p="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:X(),f="function"==typeof WeakMap?WeakMap:ee(),h=i?Symbol.for("@reflect-metadata:registry"):void 0,m=W(),g=Z(m);function y(e,t){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(t);if(!x(i)&&!O(i)){if(!M(i))throw TypeError();t=i}}return t}function v(e,t,r,i){for(var n=e.length-1;n>=0;--n){var o=(0,e[n])(t,r,i);if(!x(o)&&!O(o)){if(!k(o))throw TypeError();i=o}}return i}function b(e,t,r){if(A(e,t,r))return!0;var i=H(t);return!O(i)&&b(e,i,r)}function A(e,t,r){var i=Q(t,r,!1);return!x(i)&&P(i.OrdinaryHasOwnMetadata(e,t,r))}function w(e,t,r){if(A(e,t,r))return _(e,t,r);var i=H(t);if(!O(i))return w(e,i,r)}function _(e,t,r){var i=Q(t,r,!1);if(!x(i))return i.OrdinaryGetOwnMetadata(e,t,r)}function S(e,t,r,i){Q(r,i,!0).OrdinaryDefineOwnMetadata(e,t,r,i)}function E(e,t){var r=T(e,t),i=H(e);if(null===i)return r;var n=E(i,t);if(n.length<=0)return r;if(r.length<=0)return n;for(var o=new p,a=[],s=0,l=r;s<l.length;s++){var u=l[s],c=o.has(u);c||(o.add(u),a.push(u))}for(var d=0,f=n;d<f.length;d++){var u=f[d],c=o.has(u);c||(o.add(u),a.push(u))}return a}function T(e,t){var r=Q(e,t,!1);return r?r.OrdinaryOwnMetadataKeys(e,t):[]}function I(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function x(e){return void 0===e}function O(e){return null===e}function C(e){return"symbol"==typeof e}function k(e){return"object"==typeof e?null!==e:"function"==typeof e}function N(e,t){switch(I(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=$(e,n);if(void 0!==i){var o=i.call(e,r);if(k(o))throw TypeError();return o}return R(e,"default"===r?"number":r)}function R(e,t){if("string"===t){var r=e.toString;if(K(r)){var i=r.call(e);if(!k(i))return i}var n=e.valueOf;if(K(n)){var i=n.call(e);if(!k(i))return i}}else{var n=e.valueOf;if(K(n)){var i=n.call(e);if(!k(i))return i}var o=e.toString;if(K(o)){var i=o.call(e);if(!k(i))return i}}throw TypeError()}function P(e){return!!e}function D(e){return""+e}function U(e){var t=N(e,3);return C(t)?t:D(t)}function L(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function K(e){return"function"==typeof e}function M(e){return"function"==typeof e}function B(e){switch(I(e)){case 3:case 4:return!0;default:return!1}}function j(e,t){return e===t||e!=e&&t!=t}function $(e,t){var r=e[t];if(null!=r){if(!K(r))throw TypeError();return r}}function z(e){var t=$(e,o);if(!K(t))throw TypeError();var r=t.call(e);if(!k(r))throw TypeError();return r}function F(e){return e.value}function q(e){var t=e.next();return!t.done&&t}function V(e){var t=e.return;t&&t.call(e)}function H(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c||t!==c)return t;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return t;var n=i.constructor;return"function"!=typeof n||n===e?t:n}function G(){x(h)||void 0===t.Reflect||h in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=J(t.Reflect));var e,r,i,n,o=new f,a={registerProvider:s,getProvider:u,setProvider:m};return a;function s(t){if(!Object.isExtensible(a))throw Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case x(r):r=t;break;case r===t:break;case x(i):i=t;break;case i===t:break;default:void 0===n&&(n=new p),n.add(t)}}function l(t,o){if(!x(r)){if(r.isProviderFor(t,o))return r;if(!x(i)){if(i.isProviderFor(t,o))return r;if(!x(n))for(var a=z(n);;){var s=q(a);if(!s)return;var l=F(s);if(l.isProviderFor(t,o))return V(a),l}}}if(!x(e)&&e.isProviderFor(t,o))return e}function u(e,t){var r,i=o.get(e);return x(i)||(r=i.get(t)),x(r)&&(x(r=l(e,t))||(x(i)&&(i=new d,o.set(e,i)),i.set(t,r))),r}function c(e){if(x(e))throw TypeError();return r===e||i===e||!x(n)&&n.has(e)}function m(e,t,r){if(!c(r))throw Error("Metadata provider not registered.");var i=u(e,t);if(i!==r){if(!x(i))return!1;var n=o.get(e);x(n)&&(n=new d,o.set(e,n)),n.set(t,r)}return!0}}function W(){var e;return!x(h)&&k(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[h]),x(e)&&(e=G()),!x(h)&&k(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,h,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function Z(e){var t=new f,r={isProviderFor:function(e,r){var i=t.get(e);return!x(i)&&i.has(r)},OrdinaryDefineOwnMetadata:a,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:o,OrdinaryOwnMetadataKeys:s,OrdinaryDeleteMetadata:l};return m.registerProvider(r),r;function i(i,n,o){var a=t.get(i),s=!1;if(x(a)){if(!o)return;a=new d,t.set(i,a),s=!0}var l=a.get(n);if(x(l)){if(!o)return;if(l=new d,a.set(n,l),!e.setProvider(i,n,r))throw a.delete(n),s&&t.delete(i),Error("Wrong provider for target.")}return l}function n(e,t,r){var n=i(t,r,!1);return!x(n)&&P(n.has(e))}function o(e,t,r){var n=i(t,r,!1);if(!x(n))return n.get(e)}function a(e,t,r,n){i(r,n,!0).set(e,t)}function s(e,t){var r=[],n=i(e,t,!1);if(x(n))return r;for(var o=z(n.keys()),a=0;;){var s=q(o);if(!s)return r.length=a,r;var l=F(s);try{r[a]=l}catch(e){try{V(o)}finally{throw e}}a++}}function l(e,r,n){var o=i(r,n,!1);if(x(o)||!o.delete(e))return!1;if(0===o.size){var a=t.get(r);x(a)||(a.delete(n),0===a.size&&t.delete(a))}return!0}}function J(e){var t=e.defineMetadata,r=e.hasOwnMetadata,i=e.getOwnMetadata,n=e.getOwnMetadataKeys,o=e.deleteMetadata,a=new f;return{isProviderFor:function(e,t){var r=a.get(e);return!!(!x(r)&&r.has(t))||!!n(e,t).length&&(x(r)&&(r=new p,a.set(e,r)),r.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:r,OrdinaryGetOwnMetadata:i,OrdinaryOwnMetadataKeys:n,OrdinaryDeleteMetadata:o}}function Q(e,t,r){var i=m.getProvider(e,t);if(!x(i))return i;if(r){if(m.setProvider(e,t,g))return g;throw Error("Illegal state.")}}function Y(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var i=this._keys.length,n=r+1;n<i;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,j(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,i)},t.prototype.values=function(){return new r(this._keys,this._values,n)},t.prototype.entries=function(){return new r(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){if(!j(this._cacheKey,e)){this._cacheIndex=-1;for(var r=0;r<this._keys.length;r++)if(j(this._keys[r],e)){this._cacheIndex=r;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function n(e,t){return t}function a(e,t){return[e,t]}}function X(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ee(){var e=16,t=u.create(),i=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do e="@@WeakMap@@"+l();while(u.has(t,e))return t[e]=!0,e}function o(e,t){if(!r.call(e,i)){if(!t)return;Object.defineProperty(e,i,{value:u.create()})}return e[i]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):a(t,e),t}return a(Array(e),e)}function l(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",i=0;i<e;++i){var n=t[i];(4===i||6===i||8===i)&&(r+="-"),n<16&&(r+="0"),r+=n.toString(16).toLowerCase()}return r}}function et(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,r,i){if(x(r)){if(!L(e)||!M(t))throw TypeError();return y(e,t)}if(!L(e)||!k(t)||!k(i)&&!x(i)&&!O(i))throw TypeError();return O(i)&&(i=void 0),v(e,t,r=U(r),i)}),e("metadata",function(e,t){return function(r,i){if(!k(r)||!x(i)&&!B(i))throw TypeError();S(e,t,r,i)}}),e("defineMetadata",function(e,t,r,i){if(!k(r))throw TypeError();return x(i)||(i=U(i)),S(e,t,r,i)}),e("hasMetadata",function(e,t,r){if(!k(t))throw TypeError();return x(r)||(r=U(r)),b(e,t,r)}),e("hasOwnMetadata",function(e,t,r){if(!k(t))throw TypeError();return x(r)||(r=U(r)),A(e,t,r)}),e("getMetadata",function(e,t,r){if(!k(t))throw TypeError();return x(r)||(r=U(r)),w(e,t,r)}),e("getOwnMetadata",function(e,t,r){if(!k(t))throw TypeError();return x(r)||(r=U(r)),_(e,t,r)}),e("getMetadataKeys",function(e,t){if(!k(e))throw TypeError();return x(t)||(t=U(t)),E(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!k(e))throw TypeError();return x(t)||(t=U(t)),T(e,t)}),e("deleteMetadata",function(e,t,r){if(!k(t)||(x(r)||(r=U(r)),!k(t)))throw TypeError();x(r)||(r=U(r));var i=Q(t,r,!1);return!x(i)&&i.OrdinaryDeleteMetadata(e,t,r)})})}(i||(i={}))},826608,e=>{"use strict";let t;var r,i,n,o,a,s,l,u,c,d,p,f,h,m,g,y,v,b,A,w,_,S,E,T,I,x,O,C,k,N,R,P,D,U,L,K,M,B,j,$,z,F,q,V,H,G,W,Z,J,Q,Y,X,ee,et,er,ei,en,eo,ea,es,el,eu,ec,ed,ep,ef,eh,em,eg,ey,ev,eb,eA,ew,e_,eS,eE,eT,eI,ex,eO,eC,ek,eN,eR,eP,eD,eU,eL,eK,eM,eB,ej,e$,ez,eF,eq,eV,eH,eG,eW,eZ,eJ,eQ,eY,eX,e0,e1,e2,e4,e3,e5,e6,e8,e9,e7,te,tt,tr,ti,tn,to,ta,ts,tl,tu,tc,td,tp,tf,th,tm,tg=e.i(853053);e.s([],643130);let ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",tb=e=>{let t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),r=ty.length;for(let i=0;i<r;i++)t[e.charCodeAt(i)]=i;return t},tA=tb(ty),tw=tb(tv),t_=/^[-A-Za-z0-9\-_]*$/,tS=/^[-A-Za-z0-9+/]*={0,3}$/,tE={};tE.toArrayBuffer=(e,t)=>{let r=e.length,i=.75*e.length,n,o=0,a,s,l,u;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);let c=new ArrayBuffer(i),d=new Uint8Array(c),p=t?tw:tA;for(n=0;n<r;n+=4)a=p[e.charCodeAt(n)],s=p[e.charCodeAt(n+1)],l=p[e.charCodeAt(n+2)],u=p[e.charCodeAt(n+3)],d[o++]=a<<2|s>>4,d[o++]=(15&s)<<4|l>>2,d[o++]=(3&l)<<6|63&u;return c},tE.fromArrayBuffer=(e,t)=>{let r=new Uint8Array(e),i,n="",o=r.length,a=t?tv:ty;for(i=0;i<o;i+=3)n+=a[r[i]>>2],n+=a[(3&r[i])<<4|r[i+1]>>4],n+=a[(15&r[i+1])<<2|r[i+2]>>6],n+=a[63&r[i+2]];let s=o%3;return 2===s?n=n.substring(0,n.length-1)+(t?"":"="):1===s&&(n=n.substring(0,n.length-2)+(t?"":"==")),n},tE.toString=(e,t)=>new TextDecoder().decode(tE.toArrayBuffer(e,t)),tE.fromString=(e,t)=>tE.fromArrayBuffer(new TextEncoder().encode(e),t),tE.validate=(e,t)=>{if(!("string"==typeof e||e instanceof String))return!1;try{return t?t_.test(e):tS.test(e)}catch(e){return!1}},tE.base64=tE;let tT=tE;function tI(e,t="base64url"){return new Uint8Array(tT.toArrayBuffer(e,"base64url"===t))}function tx(e,t="base64url"){let r=new Uint8Array(e);return tT.fromArrayBuffer(r.buffer,"base64url"===t)}function tO(e){let t=tT.toArrayBuffer(e,!0);return tT.fromArrayBuffer(t)}function tC(e){return tT.fromString(e,!0)}function tk(e){return tT.toString(e,!0)}function tN(e){return tT.validate(e,!1)}function tR(e){return e=tP(e),tT.validate(e,!0)}function tP(e){return e.replace(/=/g,"")}function tD(e,t,r){let i;if(t<24)return[t,1];let n=e.byteLength-r-1,o=new DataView(e.buffer,r+1),a=0;switch(t){case 24:n>0&&(i=o.getUint8(0),a=2);break;case 25:n>1&&(i=o.getUint16(0,!1),a=3);break;case 26:n>3&&(i=o.getUint32(0,!1),a=5);break;case 27:if(n>7){let e=o.getBigUint64(0,!1);if(e>=24n&&e<=Number.MAX_SAFE_INTEGER)return[Number(e),9]}}if(i&&i>=24)return[i,a];throw Error("Length not supported or not well formed")}e.s(["fromBuffer",()=>tx,"fromUTF8String",()=>tC,"isBase64",()=>tN,"isBase64URL",()=>tR,"toBase64",()=>tO,"toBuffer",()=>tI,"toUTF8String",()=>tk,"trimPadding",()=>tP],905089);let tU=0,tL=1,tK=2,tM=3,tB=4,tj=5,t$=6,tz=7;function tF(e,t){let r,i=e<<5;if(t<0)throw Error("CBOR Data Item argument must not be negative");if("number"==typeof t){if(!Number.isInteger(t))throw Error("CBOR Data Item argument must be an integer");r=BigInt(t)}else r=t;if(e==tL){if(0n==r)throw Error("CBOR Data Item argument cannot be zero when negative");r-=1n}if(r>0xffffffffffffffffn)throw Error("CBOR number out of range");let n=new Uint8Array(8);return(new DataView(n.buffer).setBigUint64(0,r,!1),r<=23)?[i|n[7]]:r<=255?[24|i,n[7]]:r<=65535?[25|i,...n.slice(6)]:r<=0xffffffff?[26|i,...n.slice(4)]:[27|i,...n]}class tq{constructor(e,t){Object.defineProperty(this,"tagId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tagValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tagId=e,this.tagValue=t}get tag(){return this.tagId}get value(){return this.tagValue}}function tV(e,t,r){return tD(e,t,r)}function tH(e,t,r){let[i,n]=tV(e,t,r);return[-i-1,n]}function tG(e,t,r){let[i,n]=tD(e,t,r),o=r+n;return[new Uint8Array(e.buffer.slice(o,o+i)),n+i]}let tW=new TextDecoder;function tZ(e,t,r){let[i,n]=tG(e,t,r);return[tW.decode(i),n]}function tJ(e,t,r){if(0===t)return[[],1];let[i,n]=tD(e,t,r),o=n,a=[];for(let t=0;t<i;t++){if(e.byteLength-r-o<=0)throw Error("array is not supported or well formed");let[t,i]=t4(e,r+o);a.push(t),o+=i}return[a,o]}let tQ="Map is not supported or well formed";function tY(e,t,r){if(0===t)return[new Map,1];let[i,n]=tD(e,t,r),o=n,a=new Map;for(let t=0;t<i;t++){let t=e.byteLength-r-o;if(t<=0)throw Error(tQ);let[i,n]=t4(e,r+o);if(o+=n,(t-=n)<=0||"string"!=typeof i&&"number"!=typeof i||a.has(i))throw Error(tQ);let[s,l]=t4(e,r+o);o+=l,a.set(i,s)}return[a,o]}function tX(e,t){if(t+3>e.byteLength)throw Error("CBOR stream ended before end of Float 16");let r=e.getUint16(t+1,!1);if(31744==r)return[1/0,3];if(32256==r)return[NaN,3];if(64512==r)return[-1/0,3];throw Error("Float16 data is unsupported")}function t0(e,t){if(t+5>e.byteLength)throw Error("CBOR stream ended before end of Float 32");return[e.getFloat32(t+1,!1),5]}function t1(e,t){if(t+9>e.byteLength)throw Error("CBOR stream ended before end of Float 64");return[e.getFloat64(t+1,!1),9]}function t2(e,t,r){let[i,n]=tD(e,t,r),[o,a]=t4(e,r+n);return[new tq(i,o),n+a]}function t4(e,t){if(t>=e.byteLength)throw Error("CBOR stream ended before tag value");let r=e.getUint8(t),i=r>>5,n=31&r;switch(i){case tU:return tV(e,n,t);case tL:return tH(e,n,t);case tK:return tG(e,n,t);case tM:return tZ(e,n,t);case tB:return tJ(e,n,t);case tj:return tY(e,n,t);case t$:return t2(e,n,t);case tz:switch(n){case 20:return[!1,1];case 21:return[!0,1];case 22:return[null,1];case 23:return[void 0,1];case 25:return tX(e,t);case 26:return t0(e,t);case 27:return t1(e,t)}}throw Error(`Unsupported or not well formed at ${t}`)}function t3(e){return!0===e?245:!1===e?244:null===e?246:247}function t5(e){if(Math.fround(e)==e||!Number.isFinite(e)||Number.isNaN(e)){let t=new Uint8Array(5);return t[0]=250,new DataView(t.buffer).setFloat32(1,e,!1),t}{let t=new Uint8Array(9);return t[0]=251,new DataView(t.buffer).setFloat64(1,e,!1),t}}function t6(e){if("number"==typeof e){if(Number.isSafeInteger(e))if(e<0)return tF(tL,Math.abs(e));else return tF(tU,e);return[t5(e)]}return e<0n?tF(tL,-(1n*e)):tF(tU,e)}let t8=new TextEncoder;function t9(e,t){t.push(...tF(tM,e.length)),t.push(t8.encode(e))}function t7(e,t){t.push(...tF(tK,e.length)),t.push(e)}function re(e,t){for(let r of(t.push(...tF(tB,e.length)),e))ri(r,t)}function rt(e,t){for(let[r,i]of(t.push(new Uint8Array(tF(tj,e.size))),e.entries()))ri(r,t),ri(i,t)}function rr(e,t){t.push(...tF(t$,e.tag)),ri(e.value,t)}function ri(e,t){if("boolean"==typeof e||null===e||void 0==e)return void t.push(t3(e));if("number"==typeof e||"bigint"==typeof e)return void t.push(...t6(e));if("string"==typeof e)return void t9(e,t);if(e instanceof Uint8Array)return void t7(e,t);if(Array.isArray(e))return void re(e,t);if(e instanceof Map)return void rt(e,t);if(e instanceof tq)return void rr(e,t);throw Error("Not implemented")}function rn(e,t){if(0===e.byteLength||e.byteLength<=t||t<0)throw Error("No data");return e instanceof Uint8Array?t4(new DataView(e.buffer),t):e instanceof ArrayBuffer?t4(new DataView(e),t):t4(e,t)}function ro(e){let t=[];ri(e,t);let r=0;for(let e of t)"number"==typeof e?r+=1:r+=e.length;let i=new Uint8Array(r),n=0;for(let e of t)"number"==typeof e?(i[n]=e,n+=1):(i.set(e,n),n+=e.length);return i}function ra(e){let[t]=rn(new Uint8Array(e),0);return t}function rs(e){return ro(e)}function rl(e){let t=e.get(r.kty);return rd(t)&&t===i.OKP}function ru(e){let t=e.get(r.kty);return rd(t)&&t===i.EC2}function rc(e){let t=e.get(r.kty);return rd(t)&&t===i.RSA}function rd(e){return Object.values(i).indexOf(e)>=0}function rp(e){return Object.values(n).indexOf(e)>=0}function rf(e){return Object.values(o).indexOf(e)>=0}function rh(e){if([o.RS1].indexOf(e)>=0)return"SHA-1";if([o.ES256,o.PS256,o.RS256].indexOf(e)>=0)return"SHA-256";if([o.ES384,o.PS384,o.RS384].indexOf(e)>=0)return"SHA-384";if([o.ES512,o.PS512,o.RS512,o.EdDSA].indexOf(e)>=0)return"SHA-512";throw Error(`Could not map COSE alg value of ${e} to a WebCrypto alg`)}function rm(){return new Promise((e,r)=>{if(t)return e(t);let i=ry.stubThisGlobalThisCrypto();return i?e(t=i):r(new rg)})}e.s(["decodeFirst",()=>ra,"encode",()=>rs],405114),e.s([],643006),function(e){e[e.kty=1]="kty",e[e.alg=3]="alg",e[e.crv=-1]="crv",e[e.x=-2]="x",e[e.y=-3]="y",e[e.n=-1]="n",e[e.e=-2]="e"}(r||(r={})),function(e){e[e.OKP=1]="OKP",e[e.EC2=2]="EC2",e[e.RSA=3]="RSA"}(i||(i={})),function(e){e[e.P256=1]="P256",e[e.P384=2]="P384",e[e.P521=3]="P521",e[e.ED25519=6]="ED25519",e[e.SECP256K1=8]="SECP256K1"}(n||(n={})),function(e){e[e.ES256=-7]="ES256",e[e.EdDSA=-8]="EdDSA",e[e.ES384=-35]="ES384",e[e.ES512=-36]="ES512",e[e.PS256=-37]="PS256",e[e.PS384=-38]="PS384",e[e.PS512=-39]="PS512",e[e.ES256K=-47]="ES256K",e[e.RS256=-257]="RS256",e[e.RS384=-258]="RS384",e[e.RS512=-259]="RS512",e[e.RS1=-65535]="RS1"}(o||(o={}));class rg extends Error{constructor(){super("An instance of the Crypto API could not be located"),this.name="MissingWebCrypto"}}let ry={stubThisGlobalThisCrypto:()=>globalThis.crypto};async function rv(e,t){let r=await rm(),i=rh(t);return new Uint8Array(await r.subtle.digest(i,e))}async function rb(e){return(await rm()).getRandomValues(e),e}async function rA(e){let t=await rm(),{keyData:r,algorithm:i}=e;return t.subtle.importKey("jwk",r,i,!1,["verify"])}var rw=e.i(905089),rw=rw;async function r_(e){let t,{cosePublicKey:i,signature:o,data:a,shaHashOverride:s}=e,l=await rm(),u=i.get(r.alg),c=i.get(r.crv),d=i.get(r.x),p=i.get(r.y);if(!u)throw Error("Public key was missing alg (EC2)");if(!c)throw Error("Public key was missing crv (EC2)");if(!d)throw Error("Public key was missing x (EC2)");if(!p)throw Error("Public key was missing y (EC2)");if(c===n.P256)t="P-256";else if(c===n.P384)t="P-384";else if(c===n.P521)t="P-521";else throw Error(`Unexpected COSE crv value of ${c} (EC2)`);let f={kty:"EC",crv:t,x:rw.fromBuffer(d),y:rw.fromBuffer(p),ext:!1},h={name:"ECDSA",namedCurve:t},m=await rA({keyData:f,algorithm:h}),g=rh(u);s&&(g=rh(s));let y={name:"ECDSA",hash:{name:g}};return l.subtle.verify(y,m,o,a)}var rw=rw;function rS(e){if([o.EdDSA].indexOf(e)>=0)return"Ed25519";if([o.ES256,o.ES384,o.ES512,o.ES256K].indexOf(e)>=0)return"ECDSA";if([o.RS256,o.RS384,o.RS512,o.RS1].indexOf(e)>=0)return"RSASSA-PKCS1-v1_5";if([o.PS256,o.PS384,o.PS512].indexOf(e)>=0)return"RSA-PSS";throw Error(`Could not map COSE alg value of ${e} to a WebCrypto key alg name`)}async function rE(e){let{cosePublicKey:t,signature:i,data:n,shaHashOverride:o}=e,a=await rm(),s=t.get(r.alg),l=t.get(r.n),u=t.get(r.e);if(!s)throw Error("Public key was missing alg (RSA)");if(!rf(s))throw Error(`Public key had invalid alg ${s} (RSA)`);if(!l)throw Error("Public key was missing n (RSA)");if(!u)throw Error("Public key was missing e (RSA)");let c={kty:"RSA",alg:"",n:rw.fromBuffer(l),e:rw.fromBuffer(u),ext:!1},d={name:rS(s),hash:{name:rh(s)}},p={name:rS(s)};if(o&&(d.hash.name=rh(o)),"RSASSA-PKCS1-v1_5"===d.name)"SHA-256"===d.hash.name?c.alg="RS256":"SHA-384"===d.hash.name?c.alg="RS384":"SHA-512"===d.hash.name?c.alg="RS512":"SHA-1"===d.hash.name&&(c.alg="RS1");else if("RSA-PSS"===d.name){let e=0;"SHA-256"===d.hash.name?(c.alg="PS256",e=32):"SHA-384"===d.hash.name?(c.alg="PS384",e=48):"SHA-512"===d.hash.name&&(c.alg="PS512",e=64),p.saltLength=e}else throw Error(`Unexpected RSA key algorithm ${s} (${d.name})`);let f=await rA({keyData:c,algorithm:d});return a.subtle.verify(p,f,i,n)}function rT(e,t){return e.length==t.length&&e.every((e,r)=>e===t[r])}function rI(e){return Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}function rx(e){if(!e)return Uint8Array.from([]);if(!(0!==e.length&&e.length%2==0&&!/[^a-fA-F0-9]/u.test(e)))throw Error("Invalid hex string");let t=e.match(/.{1,2}/g)??[];return Uint8Array.from(t.map(e=>parseInt(e,16)))}function rO(e){let t=0,r=new Uint8Array(e.reduce((e,t)=>e+t.length,0));return e.forEach(e=>{r.set(e,t),t+=e.length}),r}function rC(e){return new globalThis.TextDecoder("utf-8").decode(e)}function rk(e){return new globalThis.TextEncoder().encode(e)}function rN(e){return Uint8Array.from(e.split("").map(e=>e.charCodeAt(0)))}function rR(e){return new DataView(e.buffer,e.byteOffset,e.length)}e.s(["areEqual",()=>rT,"concat",()=>rO,"fromASCIIString",()=>rN,"fromHex",()=>rx,"fromUTF8String",()=>rk,"toDataView",()=>rR,"toHex",()=>rI,"toUTF8String",()=>rC],654420);var rP=e.i(654420),rP=rP;function rD(e){let t=rP.toHex(e);return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}var rw=rw;function rU(e){let t;if("string"==typeof e)if(rw.isBase64URL(e))t=rw.toBase64(e);else if(rw.isBase64(e))t=e;else throw Error("Certificate is not a valid base64 or base64url string");else t=rw.fromBuffer(e,"base64");let r="";for(let e=0;e<Math.ceil(t.length/64);e+=1){let i=64*e;r+=`${t.substr(i,64)}
`}return`-----BEGIN CERTIFICATE-----
${r}-----END CERTIFICATE-----
`}var rL=e.i(405114),rL=rL,rP=rP;function rK(e){let t=rL.decodeFirst(e),i=Uint8Array.from([4]),n=t.get(r.x),o=t.get(r.y);if(!n)throw Error("COSE public key was missing x");return o?rP.concat([i,n,o]):rP.concat([i,n])}var rL=rL;function rM(e){return rB.stubThis(rL.decodeFirst(e))}let rB={stubThis:e=>e};var rw=rw;function rj(e){let t=JSON.parse(rw.toUTF8String(e));return r$.stubThis(t)}let r$={stubThis:e=>e};var rL=rL;function rz(e){return rF.stubThis(rL.decodeFirst(e))}let rF={stubThis:e=>e};e.s(["digest",()=>rv,"getRandomValues",()=>rb,"verify",()=>pe],134722),e.i(643006);var rq=e.i(134722),rq=rq;async function rV(){let e=new Uint8Array(32);return await rq.getRandomValues(e),rH.stubThis(e)}let rH={stubThis:e=>e},rG="[object ArrayBuffer]";class rW{static isArrayBuffer(e){return Object.prototype.toString.call(e)===rG}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=rW.toUint8Array(e),i=rW.toUint8Array(t);if(r.length!==i.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let i=new Uint8Array(r),n=0;for(let e of t){let t=this.toUint8Array(e);i.set(t,n),n+=t.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}}let rZ="string",rJ=/^[0-9a-f\s]+$/i,rQ=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,rY=/^[a-zA-Z0-9-_]+$/;class rX{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=rW.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class r0{static toString(e,t=!1){let r=rW.toArrayBuffer(e),i=new DataView(r),n="";for(let e=0;e<r.byteLength;e+=2)n+=String.fromCharCode(i.getUint16(e,t));return n}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),i=new DataView(r);for(let r=0;r<e.length;r++)i.setUint16(2*r,e.charCodeAt(r),t);return r}}class r1{static isHex(e){return typeof e===rZ&&rJ.test(e)}static isBase64(e){return typeof e===rZ&&rQ.test(e)}static isBase64Url(e){return typeof e===rZ&&rY.test(e)}static ToString(e,t="utf8"){let r=rW.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return r0.toString(r,!0);case"utf16":case"utf16be":return r0.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return r0.fromString(e,!0);case"utf16":case"utf16be":return r0.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=rW.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!r1.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!r1.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=r1.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return rX.fromString(e);case"utf16":case"utf16be":return r0.fromString(e);case"utf16le":case"usc2":return r0.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=r1.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return rX.toString(e);case"utf16":case"utf16be":return r0.toString(e);case"utf16le":case"usc2":return r0.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r.buffer}static ToBinary(e){let t=rW.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=rW.toUint8Array(e),r="",i=t.length;for(let e=0;e<i;e++){let i=t[e];i<16&&(r+="0"),r+=i.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!r1.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let i=t.slice(e,e+2);r[e/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,t=!1){return r0.toString(e,t)}static FromUtf16String(e,t=!1){return r0.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function r2(...e){let t=new Uint8Array(e.map(e=>e.byteLength).reduce((e,t)=>e+t)),r=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let i of e)t[r++]=i}),t.buffer}function r4(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}function r3(e,t){let r=0;if(1===e.length)return e[0];for(let i=e.length-1;i>=0;i--)r+=e[e.length-1-i]*Math.pow(2,t*i);return r}function r5(e,t,r=-1){let i=r,n=e,o=0,a=Math.pow(2,t);for(let r=1;r<8;r++){if(e<a){let e;if(i<0)e=new ArrayBuffer(r),o=r;else{if(i<r)return new ArrayBuffer(0);e=new ArrayBuffer(i),o=i}let a=new Uint8Array(e);for(let e=r-1;e>=0;e--){let r=Math.pow(2,e*t);a[o-e-1]=Math.floor(n/r),n-=a[o-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function r6(...e){let t=0,r=0;for(let r of e)t+=r.length;let i=new Uint8Array(new ArrayBuffer(t));for(let t of e)i.set(t,r),r+=t.length;return i}function r8(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let e=0;e<this.valueHex.byteLength;e++)t[e]=0;t[0]=128&e[0];let r=r3(t,8),i=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let t=0;t<this.valueHex.byteLength;t++)i[t]=e[t];return i[0]&=127,r3(i,8)-r}function r9(e){let t=e<0?-1*e:e,r=128;for(let i=1;i<8;i++){if(t<=r){if(e<0){let e=r5(r-t,8,i),n=new Uint8Array(e);return n[0]|=128,e}let n=r5(t,8,i),o=new Uint8Array(n);if(128&o[0]){let e=n.slice(0),t=new Uint8Array(e);o=new Uint8Array(n=new ArrayBuffer(n.byteLength+1));for(let r=0;r<e.byteLength;r++)o[r+1]=t[r];o[0]=0}return n}r*=256}return new ArrayBuffer(0)}function r7(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}function ie(e,t){let r=e.toString(10);if(t<r.length)return"";let i=t-r.length,n=Array(i);for(let e=0;e<i;e++)n[e]="0";return n.join("").concat(r)}function it(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ir(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let i=new Uint8Array(t);for(let t=0;t<e.length;t++){let n=e[t];i.set(new Uint8Array(n),r),r+=n.byteLength}return i.buffer}function ii(e,t,r,i){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):i<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-i<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}r1.DEFAULT_UTF8_ENCODING="utf8";class io{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return ir(this.items)}}let ia=[new Uint8Array([1])],is="0123456789",il="name",iu="valueHexView",ic="isHexOnly",id="idBlock",ip="tagClass",ih="tagNumber",im="isConstructed",ig="fromBER",iy="toBER",iv="local",ib="",iA=new ArrayBuffer(0),iw=new Uint8Array(0),i_="EndOfContent",iS="OCTET STRING",iE="BIT STRING";function iT(e){var t;return(t=class extends e{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}constructor(...e){var t;super(...e);const r=e[0]||{};this.isHexOnly=null!=(t=r.isHexOnly)&&t,this.valueHexView=r.valueHex?rW.toUint8Array(r.valueHex):iw}fromBER(e,t,r){let i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!ii(this,i,t,r))return -1;let n=t+r;return(this.valueHexView=i.subarray(t,n),this.valueHexView.length)?(this.blockLength=r,n):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",iA)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:r1.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class iI{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:t=ib,warnings:r=[],valueBeforeDecode:i=iw}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=rW.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:r1.ToHex(this.valueBeforeDecodeView)}}}iI.NAME="baseBlock";class ix extends iI{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}ix.NAME="valueBlock";class iO extends iT(iI){constructor({idBlock:e={}}={}){var t,r,i,n;super(),e?(this.isHexOnly=null!=(t=e.isHexOnly)&&t,this.valueHexView=e.valueHex?rW.toUint8Array(e.valueHex):iw,this.tagClass=null!=(r=e.tagClass)?r:-1,this.tagNumber=null!=(i=e.tagNumber)?i:-1,this.isConstructed=null!=(n=e.isConstructed)&&n):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",iA}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=r5(this.tagNumber,7),i=new Uint8Array(r),n=r.byteLength,o=new Uint8Array(n+1);if(o[0]=31|t,!e){for(let e=0;e<n-1;e++)o[e+1]=128|i[e];o[n]=i[n-1]}return o.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let i=rW.toUint8Array(e);if(!ii(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;switch(192&n[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&n[0])==32,this.isHexOnly=!1;let o=31&n[0];if(31!==o)this.tagNumber=o,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&n[e];){if(t[e-1]=127&n[e],++e>=n.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){let e=new Uint8Array(r+=255);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&n[e];let i=new Uint8Array(e);for(let r=0;r<e;r++)i[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(i),this.blockLength<=9?this.tagNumber=r3(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}iO.NAME="identificationBlock";class iC extends iI{constructor({lenBlock:e={}}={}){var t,r,i;super(),this.isIndefiniteForm=null!=(t=e.isIndefiniteForm)&&t,this.longFormUsed=null!=(r=e.longFormUsed)&&r,this.length=null!=(i=e.length)?i:0}fromBER(e,t,r){let i=rW.toUint8Array(e);if(!ii(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;if(255===n[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===n[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&n[0]),!1===this.longFormUsed)return this.length=n[0],this.blockLength=1,t+this.blockLength;let o=127&n[0];if(o>8)return this.error="Too big integer",-1;if(o+1>n.length)return this.error="End of input reached before message was fully decoded",-1;let a=t+1,s=i.subarray(a,a+o);return 0===s[o-1]&&this.warnings.push("Needlessly long encoded length"),this.length=r3(s,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let i=r5(this.length,8);if(i.byteLength>127)return this.error="Too big length",iA;if(t=new ArrayBuffer(i.byteLength+1),e)return t;let n=new Uint8Array(i);(r=new Uint8Array(t))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=n[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}iC.NAME="lengthBlock";let ik={};class iN extends iI{constructor({name:e=ib,optional:t=!1,primitiveSchema:r,...i}={},n){super(i),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new iO(i),this.lenBlock=new iC(i),this.valueBlock=n?new n(i):new ix(i)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(e,t){let r=t||new io;t||iR(this);let i=this.idBlock.toBER(e);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let i=this.lenBlock.toBER(e);r.write(i),r.write(t)}return t?iA:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():r1.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,t=r1.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${t}`}isEqual(e){return this===e||e instanceof this.constructor&&r7(this.toBER(),e.toBER())}}function iR(e){var t;if(e instanceof ik.Constructed)for(let t of e.valueBlock.value)iR(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!(null==(t=e.lenBlock)?void 0:t.isIndefiniteForm)}iN.NAME="BaseBlock";class iP extends iN{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=ib,...t}={},r){super(t,r),e&&this.fromString(e)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}iP.NAME="BaseStringBlock";class iD extends iT(ix){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}iD.NAME="PrimitiveValueBlock";class iU extends iN{constructor(e={}){super(e,iD),this.idBlock.isConstructed=!1}}function iL(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}function iK(e,t=0,r=e.length){let i=t,n=new iN({},ix),o=new iI;if(!ii(o,e,t,r))return n.error=o.error,{offset:-1,result:n};if(!e.subarray(t,t+r).length)return n.error="Zero buffer length",{offset:-1,result:n};let a=n.idBlock.fromBER(e,t,r);if(n.idBlock.warnings.length&&n.warnings.concat(n.idBlock.warnings),-1===a)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=a,r-=n.idBlock.blockLength,a=n.lenBlock.fromBER(e,t,r),n.lenBlock.warnings.length&&n.warnings.concat(n.lenBlock.warnings),-1===a)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=a,r-=n.lenBlock.blockLength,!n.idBlock.isConstructed&&n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let s=iN;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};s=ik.EndOfContent;break;case 1:s=ik.Boolean;break;case 2:s=ik.Integer;break;case 3:s=ik.BitString;break;case 4:s=ik.OctetString;break;case 5:s=ik.Null;break;case 6:s=ik.ObjectIdentifier;break;case 10:s=ik.Enumerated;break;case 12:s=ik.Utf8String;break;case 13:s=ik.RelativeObjectIdentifier;break;case 14:s=ik.TIME;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:s=ik.Sequence;break;case 17:s=ik.Set;break;case 18:s=ik.NumericString;break;case 19:s=ik.PrintableString;break;case 20:s=ik.TeletexString;break;case 21:s=ik.VideotexString;break;case 22:s=ik.IA5String;break;case 23:s=ik.UTCTime;break;case 24:s=ik.GeneralizedTime;break;case 25:s=ik.GraphicString;break;case 26:s=ik.VisibleString;break;case 27:s=ik.GeneralString;break;case 28:s=ik.UniversalString;break;case 29:s=ik.CharacterString;break;case 30:s=ik.BmpString;break;case 31:s=ik.DATE;break;case 32:s=ik.TimeOfDay;break;case 33:s=ik.DateTime;break;case 34:s=ik.Duration;break;default:{let e=n.idBlock.isConstructed?new ik.Constructed:new ik.Primitive;e.idBlock=n.idBlock,e.lenBlock=n.lenBlock,e.warnings=n.warnings,n=e}}}else s=n.idBlock.isConstructed?ik.Constructed:ik.Primitive;return a=(n=iL(n,s)).fromBER(e,t,n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecodeView=e.subarray(i,i+n.blockLength),{offset:a,result:n}}function iM(e){if(!e.byteLength){let e=new iN({},ix);return e.error="Input buffer has zero length",{offset:-1,result:e}}return iK(rW.toUint8Array(e).slice(),0,e.byteLength)}function iB(e,t){return e?1:t}a=iU,(()=>{ik.Primitive=a})(),iU.NAME="PRIMITIVE";class ij extends ix{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){let i=rW.toUint8Array(e);if(!ii(this,i,t,r))return -1;if(this.valueBeforeDecodeView=i.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let n=t;for(;iB(this.isIndefiniteForm,r)>0;){let e=iK(i,n,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(n=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===i_)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===i_?this.value.pop():this.warnings.push("No EndOfContent block encoded")),n}toBER(e,t){let r=t||new io;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?iA:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}ij.NAME="ConstructedValueBlock";class i$ extends iN{constructor(e={}){super(e,ij),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}s=i$,(()=>{ik.Constructed=s})(),i$.NAME="CONSTRUCTED";class iz extends ix{fromBER(e,t,r){return t}toBER(e){return iA}}iz.override="EndOfContentValueBlock";class iF extends iN{constructor(e={}){super(e,iz),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}l=iF,(()=>{ik.EndOfContent=l})(),iF.NAME=i_;class iq extends iN{constructor(e={}){super(e,ix),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}u=iq,(()=>{ik.Null=u})(),iq.NAME="NULL";class iV extends iT(ix){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=255*!!e}constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=rW.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,t,r){let i=rW.toUint8Array(e);return ii(this,i,t,r)?(this.valueHexView=i.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,r8.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}iV.NAME="BooleanValueBlock";class iH extends iN{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,iV),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}c=iH,(()=>{ik.Boolean=c})(),iH.NAME="BOOLEAN";class iG extends iT(ij){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=ij.prototype.fromBER.call(this,e,t,r)))return i;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===i_)if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;else break;if(t!==iS)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,r),this.blockLength=r;return i}toBER(e,t){return this.isConstructed?ij.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}iG.NAME="OctetStringValueBlock";class iW extends iN{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!=(i=r.isConstructed)||(r.isConstructed=!!(null==(n=r.value)?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},iG),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){let e=iK(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch{}}return super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return i$.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,t=r1.ToHex(this.valueBlock.valueHexView);return`${e} : ${t}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof d&&e.push(t.valueBlock.valueHexView);return rW.concat(e)}}d=iW,(()=>{ik.OctetString=d})(),iW.NAME=iS;class iZ extends iT(ij){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let i=-1;if(this.isConstructed){if(-1===(i=ij.prototype.fromBER.call(this,e,t,r)))return i;for(let e of this.value){let t=e.constructor.NAME;if(t===i_)if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;else break;if(t!==iE)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return i}let n=rW.toUint8Array(e);if(!ii(this,n,t,r))return -1;let o=n.subarray(t,t+r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=o.subarray(1);try{if(e.byteLength){let t=iK(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch{}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,t+r}toBER(e,t){if(this.isConstructed)return ij.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return iA;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}iZ.NAME="BitStringValueBlock";class iJ extends iN{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!=(i=r.isConstructed)||(r.isConstructed=!!(null==(n=r.value)?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},iZ),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return i$.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join(""),r=this.constructor.NAME,i=t.substring(0,t.length-this.valueBlock.unusedBits);return`${r} : ${i}`}}}function iQ(e,t){let r=new Uint8Array([0]),i=new Uint8Array(e),n=new Uint8Array(t),o=i.slice(0),a=o.length-1,s=n.slice(0),l=s.length-1,u=0,c=l<a?a:l,d=0;for(let e=c;e>=0;e--,d++)u=!0==d<s.length?o[a-d]+s[l-d]+r[0]:o[a-d]+r[0],r[0]=u/10,!0==d>=o.length?o=r6(new Uint8Array([u%10]),o):o[a-d]=u%10;return r[0]>0&&(o=r6(r,o)),o}function iY(e){if(e>=ia.length)for(let t=ia.length;t<=e;t++){let e=new Uint8Array([0]),r=ia[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let i=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=i[0]/10,r[t]=i[0]%10}e[0]>0&&(r=r6(e,r)),ia.push(r)}return ia[e]}function iX(e,t){let r,i=0,n=new Uint8Array(e),o=new Uint8Array(t),a=n.slice(0),s=a.length-1,l=o.slice(0),u=l.length-1,c=0;for(let e=u;e>=0;e--,c++)!0==(r=a[s-c]-l[u-c]-i)<0?(i=1,a[s-c]=r+10):(i=0,a[s-c]=r);if(i>0)for(let e=s-u+1;e>=0;e--,c++)if((r=a[s-c]-i)<0)i=1,a[s-c]=r+10;else{i=0,a[s-c]=r;break}return a.slice()}p=iJ,(()=>{ik.BitString=p})(),iJ.NAME=iE;class i0 extends iT(ix){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=r8.call(this)))}constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(r9(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,i=0){let n=this.fromBER(e,t,r);if(-1===n)return n;let o=this.valueHexView;return 0===o[0]&&(128&o[1])!=0?this.valueHexView=o.subarray(1):0!==i&&o.length<i&&(i-o.length>1&&(i=o.length+1),this.valueHexView=o.subarray(i-o.length)),n}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let i=super.fromBER(e,t,r);return -1===i||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e,t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),i=0,n=this.valueHexView,o="",a=!1;for(let a=n.byteLength-1;a>=0;a--){e=n[a];for(let n=0;n<8;n++)(1&e)==1&&(i===t?(r=iX(iY(i),r),o="-"):r=iQ(r,iY(i))),i++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(a=!0),a&&(o+=is.charAt(r[e]));return!1===a&&(o+=is.charAt(0)),o}}f=i0,i0.NAME="IntegerValueBlock",(()=>{Object.defineProperty(f.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}})})();class i1 extends iN{constructor(e={}){super(e,i0),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return it(),BigInt(this.valueBlock.toString())}static fromBigInt(e){it();let t=BigInt(e),r=new io,i=t.toString(16).replace(/^-/,""),n=new Uint8Array(r1.FromHex(i));if(t<0){let e=new Uint8Array(n.length+(128&n[0]?1:0));e[0]|=128;let i=BigInt(`0x${r1.ToHex(e)}`)+t,o=rW.toUint8Array(r1.FromHex(i.toString(16)));o[0]|=128,r.write(o)}else 128&n[0]&&r.write(new Uint8Array([0])),r.write(n);return new h({valueHex:r.final()})}convertToDER(){let e=new h({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new h({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}h=i1,(()=>{ik.Integer=h})(),i1.NAME="INTEGER";class i2 extends i1{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}m=i2,(()=>{ik.Enumerated=m})(),i2.NAME="ENUMERATED";class i4 extends iT(ix){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let i=rW.toUint8Array(e);if(!ii(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let o=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)o[e]=this.valueHexView[e];return(this.valueHexView=o,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=r3(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){it();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+128*(e+1<r.length);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=r5(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",iA;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r}toString(){let e="";if(this.isHexOnly)e=r1.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}i4.NAME="sidBlock";class i3 extends ix{constructor({value:e=ib,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new i4;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,iA;t.push(i)}return ir(t)}fromString(e){this.value=[];let t=0,r=0,i="",n=!1;do if(i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,n){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(i,10);if(isNaN(r))return;e.valueDec=r+t,n=!1}else{let e=new i4;if(i>Number.MAX_SAFE_INTEGER)it(),e.valueBigInt=BigInt(i);else if(e.valueDec=parseInt(i,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,n=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?(i=`{${i}}`,this.value[r].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}i3.NAME="ObjectIdentifierValueBlock";class i5 extends iN{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,i3),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}g=i5,(()=>{ik.ObjectIdentifier=g})(),i5.NAME="OBJECT IDENTIFIER";class i6 extends iT(iI){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let i=rW.toUint8Array(e);if(!ii(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let o=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)o[e]=this.valueHexView[e];return(this.valueHexView=o,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=r3(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=r5(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",iA;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r.buffer}toString(){return this.isHexOnly?r1.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}i6.NAME="relativeSidBlock";class i8 extends ix{constructor({value:e=ib,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new i6;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let i=this.value[t].toBER(e);if(0===i.byteLength)return this.error=this.value[t].error,iA;r.push(i)}return ir(r)}fromString(e){this.value=[];let t=0,r=0,i="";do{i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let n=new i6;if(n.valueDec=parseInt(i,10),isNaN(n.valueDec))break;this.value.push(n)}while(-1!==r)return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=i=`{${i}}`:e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}i8.NAME="RelativeObjectIdentifierValueBlock";class i9 extends iN{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,i8),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}y=i9,(()=>{ik.RelativeObjectIdentifier=y})(),i9.NAME="RelativeObjectIdentifier";class i7 extends i${constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}v=i7,(()=>{ik.Sequence=v})(),i7.NAME="SEQUENCE";class ne extends i${constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}b=ne,(()=>{ik.Set=b})(),ne.NAME="SET";class nt extends iT(ix){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=ib}toJSON(){return{...super.toJSON(),value:this.value}}}nt.NAME="StringValueBlock";class nr extends nt{}nr.NAME="SimpleStringValueBlock";class ni extends iP{constructor({...e}={}){super(e,nr)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,rW.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);this.valueBlock.value=e}}ni.NAME="SIMPLE STRING";class nn extends ni{fromBuffer(e){this.valueBlock.valueHexView=rW.toUint8Array(e);try{this.valueBlock.value=r1.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=r1.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(r1.FromUtf8String(e)),this.valueBlock.value=e}}nn.NAME="Utf8StringValueBlock";class no extends nn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}A=no,(()=>{ik.Utf8String=A})(),no.NAME="UTF8String";class na extends ni{fromBuffer(e){this.valueBlock.value=r1.ToUtf16String(e),this.valueBlock.valueHexView=rW.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(r1.FromUtf16String(e))}}na.NAME="BmpStringValueBlock";class ns extends na{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}w=ns,(()=>{ik.BmpString=w})(),ns.NAME="BMPString";class nl extends ni{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let i=0;i<t;i++){let t=new Uint8Array(r5(e.charCodeAt(i),8));if(t.length>4)continue;let n=4-t.length;for(let e=t.length-1;e>=0;e--)r[4*i+e+n]=t[e]}this.valueBlock.value=e}}nl.NAME="UniversalStringValueBlock";class nu extends nl{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}_=nu,(()=>{ik.UniversalString=_})(),nu.NAME="UniversalString";class nc extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}S=nc,(()=>{ik.NumericString=S})(),nc.NAME="NumericString";class nd extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}E=nd,(()=>{ik.PrintableString=E})(),nd.NAME="PrintableString";class np extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}T=np,(()=>{ik.TeletexString=T})(),np.NAME="TeletexString";class nf extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}I=nf,(()=>{ik.VideotexString=I})(),nf.NAME="VideotexString";class nh extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}x=nh,(()=>{ik.IA5String=x})(),nh.NAME="IA5String";class nm extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}O=nm,(()=>{ik.GraphicString=O})(),nm.NAME="GraphicString";class ng extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}C=ng,(()=>{ik.VisibleString=C})(),ng.NAME="VisibleString";class ny extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}k=ny,(()=>{ik.GeneralString=k})(),ny.NAME="GeneralString";class nv extends ni{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}N=nv,(()=>{ik.CharacterString=N})(),nv.NAME="CharacterString";class nb extends ng{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,rW.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=ie(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=ie(this.month,2),e[2]=ie(this.day,2),e[3]=ie(this.hour,2),e[4]=ie(this.minute,2),e[5]=ie(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}R=nb,(()=>{ik.UTCTime=R})(),nb.NAME="UTCTime";class nA extends nb{constructor(e={}){var t;super(e),null!=(t=this.millisecond)||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,i="",n="",o=0,a=0,s=0;if("Z"===e[e.length-1])i=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");i=e}if(r){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=i.indexOf("+"),r="";if(-1===t&&(t=i.indexOf("-"),e=-1),-1!==t){if(r=i.substring(t+1),i=i.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let n=parseInt(r.substring(0,2),10);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");if(a=e*n,4===r.length){if(isNaN((n=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");s=e*n}}}let l=i.indexOf(".");if(-1===l&&(l=i.indexOf(",")),-1!==l){let e=new Number(`0${i.substring(l)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");o=e.valueOf(),n=i.substring(0,l)}else n=i;switch(!0){case 8===n.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==l)throw Error("Wrong input string for conversion");break;case 10===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*o;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*o;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=1e3*o;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let u=t.exec(n);if(null===u)throw Error("Wrong input string for conversion");for(let e=1;e<u.length;e++)switch(e){case 1:this.year=parseInt(u[e],10);break;case 2:this.month=parseInt(u[e],10);break;case 3:this.day=parseInt(u[e],10);break;case 4:this.hour=parseInt(u[e],10)+a;break;case 5:this.minute=parseInt(u[e],10)+s;break;case 6:this.second=parseInt(u[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(ie(this.year,4)),e.push(ie(this.month,2)),e.push(ie(this.day,2)),e.push(ie(this.hour,2)),e.push(ie(this.minute,2)),e.push(ie(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(ie(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}P=nA,(()=>{ik.GeneralizedTime=P})(),nA.NAME="GeneralizedTime";class nw extends no{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}D=nw,(()=>{ik.DATE=D})(),nw.NAME="DATE";class n_ extends no{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}U=n_,(()=>{ik.TimeOfDay=U})(),n_.NAME="TimeOfDay";class nS extends no{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}L=nS,(()=>{ik.DateTime=L})(),nS.NAME="DateTime";class nE extends no{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}K=nE,(()=>{ik.Duration=K})(),nE.NAME="Duration";class nT extends no{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}M=nT,(()=>{ik.TIME=M})(),nT.NAME="TIME";class nI{constructor({name:e=ib,optional:t=!1}={}){this.name=e,this.optional=t}}class nx extends nI{constructor({value:e=[],...t}={}){super(t),this.value=e}}class nO extends nI{constructor({value:e=new nI,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class nC{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=rW.toUint8Array(e)}constructor({data:e=iw}={}){this.dataView=rW.toUint8Array(e)}fromBER(e,t,r){let i=t+r;return this.dataView=rW.toUint8Array(e).subarray(t,i),i}toBER(e){return this.dataView.slice().buffer}}function nk(e,t,r){if(r instanceof nx){for(let i of r.value)if(nk(e,t,i).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(il)&&(e.name=r.name),e}}if(r instanceof nI)return r.hasOwnProperty(il)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||id in r==!1||ig in r.idBlock==!1||iy in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty(ip))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty(ih))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty(im))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!(ic in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(iu in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,n=t.idBlock.valueHexView;if(i.length!==n.length)return{verified:!1,result:e};for(let t=0;t<i.length;t++)if(i[t]!==n[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&(e[r.name]=t)),r instanceof ik.Constructed){let i=0,n={verified:!1,result:{error:"Unknown error"}},o=r.valueBlock.value.length;if(o>0&&r.valueBlock.value[0]instanceof nO&&(o=t.valueBlock.value.length),0===o)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let a=0;a<o;a++)if(a-i>=t.valueBlock.value.length){if(!1===r.valueBlock.value[a].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof nO){if(!1===(n=nk(e,t.valueBlock.value[a],r.valueBlock.value[0].value)).verified)if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&delete e[r.name]),n;else i++;if(il in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let i={};void 0===(i=iv in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(i[r.valueBlock.value[0].name]=[]),i[r.valueBlock.value[0].name].push(t.valueBlock.value[a])}}else if(!1===(n=nk(e,t.valueBlock.value[a-i],r.valueBlock.value[a])).verified)if(!r.valueBlock.value[a].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&delete e[r.name]),n;else i++;if(!1===n.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&iu in t.valueBlock){let i=iK(t.valueBlock.valueHexView);if(-1===i.offset){let t={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ib),r.name&&(delete e[r.name],t.name=r.name)),t}return nk(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}function nN(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=iK(rW.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:nk(r.result,r.result,t)}e.s(["Any",()=>nI,"BaseBlock",()=>iN,"BaseStringBlock",()=>iP,"BitString",()=>iJ,"BmpString",()=>ns,"Boolean",()=>iH,"CharacterString",()=>nv,"Choice",()=>nx,"Constructed",()=>i$,"DATE",()=>nw,"DateTime",()=>nS,"Duration",()=>nE,"EndOfContent",()=>iF,"Enumerated",()=>i2,"GeneralString",()=>ny,"GeneralizedTime",()=>nA,"GraphicString",()=>nm,"HexBlock",()=>iT,"IA5String",()=>nh,"Integer",()=>i1,"Null",()=>iq,"NumericString",()=>nc,"ObjectIdentifier",()=>i5,"OctetString",()=>iW,"Primitive",()=>iU,"PrintableString",()=>nd,"RawData",()=>nC,"RelativeObjectIdentifier",()=>i9,"Repeated",()=>nO,"Sequence",()=>i7,"Set",()=>ne,"TIME",()=>nT,"TeletexString",()=>np,"TimeOfDay",()=>n_,"UTCTime",()=>nb,"UniversalString",()=>nu,"Utf8String",()=>no,"ValueBlock",()=>ix,"VideotexString",()=>nf,"ViewWriter",()=>io,"VisibleString",()=>ng,"compareSchema",()=>nk,"fromBER",()=>iM,"verifySchema",()=>nN],323577),function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(B||(B={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(j||(j={}));class nR{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if("number"==typeof e)this.fromNumber(e);else if(rW.isBufferSource(e))this.unusedBits=t,this.value=rW.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof iJ))throw TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new iJ({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new iJ({name:e})}toNumber(){let e="";for(let t of new Uint8Array(this.value))e+=t.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2),r=t.length+7>>3;this.unusedBits=(r<<3)-t.length;let i=new Uint8Array(r);t=t.padStart(r<<3,"0").split("").reverse().join("");let n=0;for(;n<r;)i[n]=parseInt(t.slice(n<<3,(n<<3)+8),2),n++;this.value=i.buffer}}class nP{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){"number"==typeof e?this.buffer=new ArrayBuffer(e):rW.isBufferSource(e)?this.buffer=rW.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof iW))throw TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new iW({valueHex:this.buffer})}toSchema(e){return new iW({name:e})}}let nD={fromASN:e=>e instanceof iq?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new iq;let t=iM(e);if(t.result.error)throw Error(t.result.error);return t.result}},nU={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new i1({value:+e})},nL={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new i2({value:e})},nK={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new i1({valueHex:e})},nM={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new iJ({valueHex:e})},nB={fromASN:e=>e.valueBlock.toString(),toASN:e=>new i5({value:e})},nj={fromASN:e=>e.valueBlock.value,toASN:e=>new iH({value:e})},n$={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new iW({valueHex:e})},nz={fromASN:e=>new nP(e.getValue()),toASN:e=>e.toASN()};function nF(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let nq=nF(no),nV=nF(ns),nH=nF(nu),nG=nF(nc),nW=nF(nd),nZ=nF(np),nJ=nF(nf),nQ=nF(nh),nY=nF(nm),nX=nF(ng),n0=nF(ny),n1=nF(nv),n2={fromASN:e=>e.toDate(),toASN:e=>new nb({valueDate:e})},n4={fromASN:e=>e.toDate(),toASN:e=>new nA({valueDate:e})},n3={fromASN:()=>null,toASN:()=>new iq};function n5(e){switch(e){case j.Any:return nD;case j.BitString:return nM;case j.BmpString:return nV;case j.Boolean:return nj;case j.CharacterString:return n1;case j.Enumerated:return nL;case j.GeneralString:return n0;case j.GeneralizedTime:return n4;case j.GraphicString:return nY;case j.IA5String:return nQ;case j.Integer:return nU;case j.Null:return n3;case j.NumericString:return nG;case j.ObjectIdentifier:return nB;case j.OctetString:return n$;case j.PrintableString:return nW;case j.TeletexString:return nZ;case j.UTCTime:return n2;case j.UniversalString:return nH;case j.Utf8String:return nq;case j.VideotexString:return nJ;case j.VisibleString:return nX;default:return null}}var n6=e.i(323577);function n8(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||n8(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}function n9(e){var t;if(e){let r=Object.getPrototypeOf(e);return(null==(t=null==r?void 0:r.prototype)?void 0:t.constructor)===Array||n9(r)}return!1}function n7(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}class oe{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:B.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),i=[];for(let e in r.items){let n,o=r.items[e],a=t?e:"";if("number"==typeof o.type){let e=j[o.type],t=n6[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);n=new t({name:a})}else n8(o.type)?n=new o.type().toSchema(a):o.optional?this.get(o.type).type===B.Choice?n=new n6.Any({name:a}):(n=this.create(o.type,!1)).name=a:n=new n6.Any({name:a});let s=!!o.optional||void 0!==o.defaultValue;if(o.repeated&&(n.name="",n=new("set"===o.repeated?n6.Set:n6.Sequence)({name:"",value:[new n6.Repeated({name:a,value:n})]})),null!==o.context&&void 0!==o.context)if(o.implicit)if("number"==typeof o.type||n8(o.type)){let e=o.repeated?n6.Constructed:n6.Primitive;i.push(new e({name:a,optional:s,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);let e=!!o.repeated,t=e?n:this.get(o.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,i.push(new n6.Constructed({name:e?"":a,optional:s,idBlock:{tagClass:3,tagNumber:o.context},value:t}))}else i.push(new n6.Constructed({optional:s,idBlock:{tagClass:3,tagNumber:o.context},value:[n]}));else n.optional=s,i.push(n)}switch(r.type){case B.Sequence:return new n6.Sequence({value:i,name:""});case B.Set:return new n6.Set({value:i,name:""});case B.Choice:return new n6.Choice({value:i,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}let ot=new oe,or=e=>t=>{let r;ot.has(t)?r=ot.get(t):(r=ot.createDefault(t),ot.set(t,r)),Object.assign(r,e)},oi=e=>(t,r)=>{let i;ot.has(t.constructor)?i=ot.get(t.constructor):(i=ot.createDefault(t.constructor),ot.set(t.constructor,i));let n=Object.assign({},e);if("number"==typeof n.type&&!n.converter){let i=n5(e.type);if(!i)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);n.converter=i}n.raw=e.raw,i.items[r]=n};var on=n6;class oo extends Error{constructor(){super(...arguments),this.schemas=[]}}class oa{static parse(e,t){let r=on.fromBER(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){try{if(n8(t))return new t().fromASN(e);let r=ot.get(t);ot.cache(t);let i=r.schema,n=this.handleChoiceTypes(e,r,t,i);if(null==n?void 0:n.result)return n.result;(null==n?void 0:n.targetSchema)&&(i=n.targetSchema);let o=this.handleSequenceTypes(e,r,t,i);if(o&&"isManualMapping"in o)return o.result;let a=o,s=new t;if(n9(t))return this.handleArrayTypes(e,r,t);return this.processSchemaItems(r,a,s),s}catch(e){throw e instanceof oo&&e.schemas.push(t.name),e}}static handleChoiceTypes(e,t,r,i){if(e.constructor===on.Constructed&&t.type===B.Choice&&3===e.idBlock.tagClass)for(let i in t.items){let n=t.items[i];if(n.context===e.idBlock.tagNumber&&n.implicit&&"function"==typeof n.type&&ot.has(n.type)){let t=ot.get(n.type);if(t&&t.type===B.Sequence){let t=new on.Sequence;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in t.valueBlock){t.valueBlock.value=e.valueBlock.value;let o=this.fromASN(t,n.type),a=new r;return a[i]=o,{result:a}}}}}else if(e.constructor===on.Constructed&&t.type!==B.Choice){let r=new on.Constructed({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:t.schema.valueBlock.value});for(let r in t.items)delete e[r];return{targetSchema:r}}return null}static handleSequenceTypes(e,t,r,i){if(t.type===B.Sequence){if(Object.keys(t.items).filter(e=>{let r=t.items[e];return r.optional&&"function"==typeof r.type&&ot.has(r.type)&&ot.get(r.type).type===B.Choice}).length>0&&"value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"CertReqMsg"===r.name)return this.handleManualMapping(e,t,r);let n=on.compareSchema({},e,i);if(!n.verified)throw new oo(`Data does not match to ${r.name} ASN1 schema.${n.result.error?` ${n.result.error}`:""}`);return n}{let t=on.compareSchema({},e,i);if(!t.verified)throw new oo(`Data does not match to ${r.name} ASN1 schema.${t.result.error?` ${t.result.error}`:""}`);return t}}static handleManualMapping(e,t,r){let i=new r,n=e.valueBlock.value,o=Object.keys(t.items),a=0;for(let e=0;e<o.length;e++){let r=o[e],s=t.items[r];if(a>=n.length)break;if(s.repeated){i[r]=this.processRepeatedField(n,a,s);break}if("number"==typeof s.type)i[r]=this.processPrimitiveField(n[a],s),a++;else if(this.isOptionalChoiceField(s)){let e=this.processOptionalChoiceField(n[a],s);e.processed&&(i[r]=e.value,a++)}else i[r]=this.fromASN(n[a],s.type),a++}return{result:i,verified:!0,isManualMapping:!0}}static processRepeatedField(e,t,r){let i=e.slice(t);if(1===i.length&&"Sequence"===i[0].constructor.name){let e=i[0];e.valueBlock&&e.valueBlock.value&&Array.isArray(e.valueBlock.value)&&(i=e.valueBlock.value)}if("number"!=typeof r.type)return i.filter(e=>e&&e.valueBlock).map(e=>{try{return this.fromASN(e,r.type)}catch{return}}).filter(e=>void 0!==e);{let e=n5(r.type);if(!e)throw Error(`No converter for ASN.1 type ${r.type}`);return i.filter(e=>e&&e.valueBlock).map(t=>{try{return e.fromASN(t)}catch{return}}).filter(e=>void 0!==e)}}static processPrimitiveField(e,t){let r=n5(t.type);if(!r)throw Error(`No converter for ASN.1 type ${t.type}`);return r.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&"function"==typeof e.type&&ot.has(e.type)&&ot.get(e.type).type===B.Choice}static processOptionalChoiceField(e,t){try{let r=this.fromASN(e,t.type);return{processed:!0,value:r}}catch(e){if(e instanceof oo&&/Wrong values for Choice type/.test(e.message))return{processed:!1};throw e}}static handleArrayTypes(e,t,r){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let i=t.itemType;if("number"!=typeof i)return r.from(e.valueBlock.value,e=>this.fromASN(e,i));{let t=n5(i);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(e.valueBlock.value,e=>t.fromASN(e))}}static processSchemaItems(e,t,r){for(let i in e.items){let n,o=t.result[i];if(!o)continue;let a=e.items[i],s=a.type;(n="number"==typeof s||n8(s)?this.processPrimitiveSchemaItem(o,a,s):this.processComplexSchemaItem(o,a,s))&&"object"==typeof n&&"value"in n&&"raw"in n?(r[i]=n.value,r[`${i}Raw`]=n.raw):r[i]=n}}static processPrimitiveSchemaItem(e,t,r){var i;let n=null!=(i=t.converter)?i:n8(r)?new r:null;if(!n)throw Error("Converter is empty");return t.repeated?this.processRepeatedPrimitiveItem(e,t,n):this.processSinglePrimitiveItem(e,t,r,n)}static processRepeatedPrimitiveItem(e,t,r){if(!t.implicit)return Array.from(e,e=>r.fromASN(e));{let i=new("sequence"===t.repeated?on.Sequence:on.Set);i.valueBlock=e.valueBlock;let n=on.fromBER(i.toBER(!1));if(-1===n.offset)throw Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock&&Array.isArray(n.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");return Array.from(n.result.valueBlock.value,e=>r.fromASN(e))}}static processSinglePrimitiveItem(e,t,r,i){let n=e;if(t.implicit){let e;if(n8(r))e=new r().toSchema("");else{let t=j[r],i=on[t];if(!i)throw Error(`Cannot get '${t}' class from asn1js module`);e=new i}e.valueBlock=n.valueBlock,n=on.fromBER(e.toBER(!1)).result}return i.fromASN(n)}static processComplexSchemaItem(e,t,r){if(t.repeated){if(!Array.isArray(e))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,e=>this.fromASN(e,r))}{let i=this.handleImplicitTagging(e,t,r);if(this.isOptionalChoiceField(t))try{return this.fromASN(i,r)}catch(e){if(e instanceof oo&&/Wrong values for Choice type/.test(e.message))return;throw e}{let n=this.fromASN(i,r);return t.raw?{value:n,raw:e.valueBeforeDecodeView}:n}}}static handleImplicitTagging(e,t,r){if(t.implicit&&"number"==typeof t.context){let t=ot.get(r);if(t.type===B.Sequence){let t=new on.Sequence;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in t.valueBlock)return t.valueBlock.value=e.valueBlock.value,t}else if(t.type===B.Set){let t=new on.Set;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in t.valueBlock)return t.valueBlock.value=e.valueBlock.value,t}}return e}}class os{static serialize(e){return e instanceof iN?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&n8(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,i=ot.get(r);ot.cache(r);let n=[];if(i.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof i.itemType){let t=n5(i.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);n=e.map(e=>t.toASN(e))}else n=e.map(e=>this.toAsnItem({type:i.itemType},"[]",r,e))}else for(let t in i.items){let o=i.items[t],a=e[t];if(void 0===a||o.defaultValue===a||"object"==typeof o.defaultValue&&"object"==typeof a&&n7(this.serialize(o.defaultValue),this.serialize(a)))continue;let s=os.toAsnItem(o,t,r,a);if("number"==typeof o.context)if(o.implicit)if(!o.repeated&&("number"==typeof o.type||n8(o.type))){let e={};e.valueHex=s instanceof iq?s.valueBeforeDecodeView:s.valueBlock.toBER(),n.push(new iU({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},...e}))}else n.push(new i$({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:s.valueBlock.value}));else n.push(new i$({optional:o.optional,idBlock:{tagClass:3,tagNumber:o.context},value:[s]}));else o.repeated?n=n.concat(s):n.push(s)}switch(i.type){case B.Sequence:t=new i7({value:n});break;case B.Set:t=new ne({value:n});break;case B.Choice:if(!n[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=n[0]}return t}static toAsnItem(e,t,r,i){let n;if("number"==typeof e.type){let o=e.converter;if(!o)throw Error(`Property '${t}' doesn't have converter for type ${j[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>o.toASN(e));n=new("sequence"===e.repeated?i7:ne)({value:t})}else n=o.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>this.toASN(e));n=new("sequence"===e.repeated?i7:ne)({value:t})}else n=this.toASN(i);return n}}class ol extends Array{constructor(e=[]){if("number"==typeof e)super(e);else for(const t of(super(),e))this.push(t)}}class ou{static serialize(e){return os.serialize(e)}static parse(e,t){return oa.parse(e,t)}static toString(e){let t=iM(rW.isBufferSource(e)?rW.toArrayBuffer(e):ou.serialize(e));if(-1===t.offset)throw Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}function oc(e,t,r,i){var n,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(o<3?n(a):o>3?n(t,r,a):n(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function od(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)}function op(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError;class of{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){let t=e.split(".");if(4!==t.length)throw Error("Invalid IPv4 address");return t.map(e=>{let t=parseInt(e,10);if(isNaN(t)||t<0||t>255)throw Error("Invalid IPv4 address part");return t})}static parseIPv6(e){let t=this.expandIPv6(e).split(":");if(8!==t.length)throw Error("Invalid IPv6 address");return t.reduce((e,t)=>{let r=parseInt(t,16);if(isNaN(r)||r<0||r>65535)throw Error("Invalid IPv6 address part");return e.push(r>>8&255),e.push(255&r),e},[])}static expandIPv6(e){if(!e.includes("::"))return e;let t=e.split("::");if(t.length>2)throw Error("Invalid IPv6 address");let r=t[0]?t[0].split(":"):[],i=t[1]?t[1].split(":"):[],n=8-(r.length+i.length);if(n<0)throw Error("Invalid IPv6 address");return[...r,...Array(n).fill("0"),...i].join(":")}static formatIPv6(e){let t=[];for(let r=0;r<16;r+=2)t.push((e[r]<<8|e[r+1]).toString(16));return this.compressIPv6(t.join(":"))}static compressIPv6(e){let t=e.split(":"),r=-1,i=0,n=-1,o=0;for(let e=0;e<t.length;e++)"0"===t[e]?(-1===n&&(n=e),o++):(o>i&&(r=n,i=o),n=-1,o=0);if(o>i&&(r=n,i=o),i>1){let e=t.slice(0,r).join(":"),n=t.slice(r+i).join(":");return`${e}::${n}`}return e}static parseCIDR(e){let[t,r]=e.split("/"),i=parseInt(r,10);if(this.isIPv4(t)){if(i<0||i>32)throw Error("Invalid IPv4 prefix length");return[this.parseIPv4(t),i]}if(i<0||i>128)throw Error("Invalid IPv6 prefix length");return[this.parseIPv6(t),i]}static decodeIP(e){if(64===e.length&&0===parseInt(e,16))return"::/0";if(16!==e.length)return e;let t=parseInt(e.slice(8),16).toString(2).split("").reduce((e,t)=>e+ +t,0),r=e.slice(0,8).replace(/(.{2})/g,e=>`${parseInt(e,16)}.`);return r=r.slice(0,-1),`${r}/${t}`}static toString(e){let t=new Uint8Array(e);if(4===t.length)return Array.from(t).join(".");if(16===t.length)return this.formatIPv6(t);if(8===t.length||32===t.length){let e=t.length/2,r=t.slice(0,e),i=t.slice(e);if(t.every(e=>0===e))return 8===t.length?"0.0.0.0/0":"::/0";let n=i.reduce((e,t)=>e+(t.toString(2).match(/1/g)||[]).length,0);if(8===t.length){let e=Array.from(r).join(".");return`${e}/${n}`}{let e=this.formatIPv6(r);return`${e}/${n}`}}return this.decodeIP(r1.ToHex(e))}static fromString(e){if(e.includes("/")){let[t,r]=this.parseCIDR(e),i=new Uint8Array(t.length),n=r;for(let e=0;e<i.length;e++)n>=8?(i[e]=255,n-=8):n>0&&(i[e]=255<<8-n,n=0);let o=new Uint8Array(2*t.length);return o.set(t,0),o.set(i,t.length),o.buffer}return new Uint8Array(this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e)).buffer}}let oh=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};oc([oi({type:j.TeletexString})],oh.prototype,"teletexString",void 0),oc([oi({type:j.PrintableString})],oh.prototype,"printableString",void 0),oc([oi({type:j.UniversalString})],oh.prototype,"universalString",void 0),oc([oi({type:j.Utf8String})],oh.prototype,"utf8String",void 0),oc([oi({type:j.BmpString})],oh.prototype,"bmpString",void 0),oh=oc([or({type:B.Choice})],oh);let om=class extends oh{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?r1.ToHex(this.anyValue):super.toString())}};oc([oi({type:j.IA5String})],om.prototype,"ia5String",void 0),oc([oi({type:j.Any})],om.prototype,"anyValue",void 0),om=oc([or({type:B.Choice})],om);class og{constructor(e={}){this.type="",this.value=new om,Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],og.prototype,"type",void 0),oc([oi({type:om})],og.prototype,"value",void 0);let oy=$=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,$.prototype)}};oy=$=oc([or({type:B.Set,itemType:og})],oy);let ov=z=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,z.prototype)}};ov=z=oc([or({type:B.Sequence,itemType:oy})],ov);let ob=F=class extends ov{constructor(e){super(e),Object.setPrototypeOf(this,F.prototype)}};ob=F=oc([or({type:B.Sequence})],ob);let oA={fromASN:e=>of.toString(n$.fromASN(e)),toASN:e=>n$.toASN(of.fromString(e))};class ow{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],ow.prototype,"typeId",void 0),oc([oi({type:j.Any,context:0})],ow.prototype,"value",void 0);class o_{constructor(e={}){this.partyName=new oh,Object.assign(this,e)}}oc([oi({type:oh,optional:!0,context:0,implicit:!0})],o_.prototype,"nameAssigner",void 0),oc([oi({type:oh,context:1,implicit:!0})],o_.prototype,"partyName",void 0);let oS=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:ow,context:0,implicit:!0})],oS.prototype,"otherName",void 0),oc([oi({type:j.IA5String,context:1,implicit:!0})],oS.prototype,"rfc822Name",void 0),oc([oi({type:j.IA5String,context:2,implicit:!0})],oS.prototype,"dNSName",void 0),oc([oi({type:j.Any,context:3,implicit:!0})],oS.prototype,"x400Address",void 0),oc([oi({type:ob,context:4,implicit:!1})],oS.prototype,"directoryName",void 0),oc([oi({type:o_,context:5})],oS.prototype,"ediPartyName",void 0),oc([oi({type:j.IA5String,context:6,implicit:!0})],oS.prototype,"uniformResourceIdentifier",void 0),oc([oi({type:j.OctetString,context:7,implicit:!0,converter:oA})],oS.prototype,"iPAddress",void 0),oc([oi({type:j.ObjectIdentifier,context:8,implicit:!0})],oS.prototype,"registeredID",void 0),oS=oc([or({type:B.Choice})],oS);let oE="1.3.6.1.5.5.7",oT=`${oE}.1`,oI=`${oE}.3`,ox=`${oE}.48`,oO=`${ox}.1`,oC=`${ox}.2`,ok=`${ox}.3`,oN=`${ox}.5`,oR="2.5.29",oP=`${oT}.1`;class oD{constructor(e={}){this.accessMethod="",this.accessLocation=new oS,Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],oD.prototype,"accessMethod",void 0),oc([oi({type:oS})],oD.prototype,"accessLocation",void 0);let oU=q=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,q.prototype)}};oU=q=oc([or({type:B.Sequence,itemType:oD})],oU);let oL=`${oR}.35`;class oK extends nP{}class oM{constructor(e={}){e&&Object.assign(this,e)}}oc([oi({type:oK,context:0,optional:!0,implicit:!0})],oM.prototype,"keyIdentifier",void 0),oc([oi({type:oS,context:1,optional:!0,implicit:!0,repeated:"sequence"})],oM.prototype,"authorityCertIssuer",void 0),oc([oi({type:j.Integer,context:2,optional:!0,implicit:!0,converter:nK})],oM.prototype,"authorityCertSerialNumber",void 0);let oB=`${oR}.19`;class oj{constructor(e={}){this.cA=!1,Object.assign(this,e)}}oc([oi({type:j.Boolean,defaultValue:!1})],oj.prototype,"cA",void 0),oc([oi({type:j.Integer,optional:!0})],oj.prototype,"pathLenConstraint",void 0);let o$=V=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,V.prototype)}};o$=V=oc([or({type:B.Sequence,itemType:oS})],o$);let oz=H=class extends o${constructor(e){super(e),Object.setPrototypeOf(this,H.prototype)}};oz=H=oc([or({type:B.Sequence})],oz);let oF=`${oR}.32`,oq=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};oc([oi({type:j.IA5String})],oq.prototype,"ia5String",void 0),oc([oi({type:j.VisibleString})],oq.prototype,"visibleString",void 0),oc([oi({type:j.BmpString})],oq.prototype,"bmpString",void 0),oc([oi({type:j.Utf8String})],oq.prototype,"utf8String",void 0),oq=oc([or({type:B.Choice})],oq);class oV{constructor(e={}){this.organization=new oq,this.noticeNumbers=[],Object.assign(this,e)}}oc([oi({type:oq})],oV.prototype,"organization",void 0),oc([oi({type:j.Integer,repeated:"sequence"})],oV.prototype,"noticeNumbers",void 0);class oH{constructor(e={}){Object.assign(this,e)}}oc([oi({type:oV,optional:!0})],oH.prototype,"noticeRef",void 0),oc([oi({type:oq,optional:!0})],oH.prototype,"explicitText",void 0);let oG=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:j.IA5String})],oG.prototype,"cPSuri",void 0),oc([oi({type:oH})],oG.prototype,"userNotice",void 0),oG=oc([or({type:B.Choice})],oG);class oW{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],oW.prototype,"policyQualifierId",void 0),oc([oi({type:j.Any})],oW.prototype,"qualifier",void 0);class oZ{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],oZ.prototype,"policyIdentifier",void 0),oc([oi({type:oW,repeated:"sequence",optional:!0})],oZ.prototype,"policyQualifiers",void 0);let oJ=G=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,G.prototype)}};oJ=G=oc([or({type:B.Sequence,itemType:oZ})],oJ);let oQ=class{constructor(e=0){this.value=e}};oc([oi({type:j.Integer})],oQ.prototype,"value",void 0),oQ=oc([or({type:B.Choice})],oQ);let oY=class extends oQ{};oY=oc([or({type:B.Choice})],oY);let oX=`${oR}.31`;!function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"}(Z||(Z={}));class o0 extends nR{toJSON(){let e=[],t=this.toNumber();return t&Z.aACompromise&&e.push("aACompromise"),t&Z.affiliationChanged&&e.push("affiliationChanged"),t&Z.cACompromise&&e.push("cACompromise"),t&Z.certificateHold&&e.push("certificateHold"),t&Z.cessationOfOperation&&e.push("cessationOfOperation"),t&Z.keyCompromise&&e.push("keyCompromise"),t&Z.privilegeWithdrawn&&e.push("privilegeWithdrawn"),t&Z.superseded&&e.push("superseded"),t&Z.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let o1=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:oS,context:0,repeated:"sequence",implicit:!0})],o1.prototype,"fullName",void 0),oc([oi({type:oy,context:1,implicit:!0})],o1.prototype,"nameRelativeToCRLIssuer",void 0),o1=oc([or({type:B.Choice})],o1);class o2{constructor(e={}){Object.assign(this,e)}}oc([oi({type:o1,context:0,optional:!0})],o2.prototype,"distributionPoint",void 0),oc([oi({type:o0,context:1,optional:!0,implicit:!0})],o2.prototype,"reasons",void 0),oc([oi({type:oS,context:2,optional:!0,repeated:"sequence",implicit:!0})],o2.prototype,"cRLIssuer",void 0);let o4=W=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,W.prototype)}};o4=W=oc([or({type:B.Sequence,itemType:o2})],o4);let o3=J=class extends o4{constructor(e){super(e),Object.setPrototypeOf(this,J.prototype)}};o3=J=oc([or({type:B.Sequence,itemType:o2})],o3);class o5{constructor(e={}){this.onlyContainsUserCerts=o5.ONLY,this.onlyContainsCACerts=o5.ONLY,this.indirectCRL=o5.ONLY,this.onlyContainsAttributeCerts=o5.ONLY,Object.assign(this,e)}}o5.ONLY=!1,oc([oi({type:o1,context:0,optional:!0})],o5.prototype,"distributionPoint",void 0),oc([oi({type:j.Boolean,context:1,defaultValue:o5.ONLY,implicit:!0})],o5.prototype,"onlyContainsUserCerts",void 0),oc([oi({type:j.Boolean,context:2,defaultValue:o5.ONLY,implicit:!0})],o5.prototype,"onlyContainsCACerts",void 0),oc([oi({type:o0,context:3,optional:!0,implicit:!0})],o5.prototype,"onlySomeReasons",void 0),oc([oi({type:j.Boolean,context:4,defaultValue:o5.ONLY,implicit:!0})],o5.prototype,"indirectCRL",void 0),oc([oi({type:j.Boolean,context:5,defaultValue:o5.ONLY,implicit:!0})],o5.prototype,"onlyContainsAttributeCerts",void 0);let o6=`${oR}.21`;!function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(Q||(Q={}));let o8=class{constructor(e=Q.unspecified){this.reason=Q.unspecified,this.reason=e}toJSON(){return Q[this.reason]}toString(){return this.toJSON()}};oc([oi({type:j.Enumerated})],o8.prototype,"reason",void 0),o8=oc([or({type:B.Choice})],o8);let o9=`${oR}.37`,o7=Y=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,Y.prototype)}};o7=Y=oc([or({type:B.Sequence,itemType:j.ObjectIdentifier})],o7);let ae=`${oI}.1`,at=`${oI}.2`,ar=`${oI}.3`,ai=`${oI}.4`,an=`${oI}.8`,ao=`${oI}.9`,aa=class{constructor(e=new ArrayBuffer(0)){this.value=e}};oc([oi({type:j.Integer,converter:nK})],aa.prototype,"value",void 0),aa=oc([or({type:B.Choice})],aa);let as=`${oR}.24`,al=class{constructor(e){this.value=new Date,e&&(this.value=e)}};oc([oi({type:j.GeneralizedTime})],al.prototype,"value",void 0),al=oc([or({type:B.Choice})],al);let au=`${oR}.18`,ac=X=class extends o${constructor(e){super(e),Object.setPrototypeOf(this,X.prototype)}};ac=X=oc([or({type:B.Sequence})],ac);let ad=`${oR}.15`;!function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(ee||(ee={}));class ap extends nR{toJSON(){let e=this.toNumber(),t=[];return e&ee.cRLSign&&t.push("crlSign"),e&ee.dataEncipherment&&t.push("dataEncipherment"),e&ee.decipherOnly&&t.push("decipherOnly"),e&ee.digitalSignature&&t.push("digitalSignature"),e&ee.encipherOnly&&t.push("encipherOnly"),e&ee.keyAgreement&&t.push("keyAgreement"),e&ee.keyCertSign&&t.push("keyCertSign"),e&ee.keyEncipherment&&t.push("keyEncipherment"),e&ee.nonRepudiation&&t.push("nonRepudiation"),t}toString(){return`[${this.toJSON().join(", ")}]`}}class af{constructor(e={}){this.base=new oS,this.minimum=0,Object.assign(this,e)}}oc([oi({type:oS})],af.prototype,"base",void 0),oc([oi({type:j.Integer,context:0,defaultValue:0,implicit:!0})],af.prototype,"minimum",void 0),oc([oi({type:j.Integer,context:1,optional:!0,implicit:!0})],af.prototype,"maximum",void 0);let ah=et=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,et.prototype)}};ah=et=oc([or({type:B.Sequence,itemType:af})],ah);class am{constructor(e={}){Object.assign(this,e)}}oc([oi({type:ah,context:0,optional:!0,implicit:!0})],am.prototype,"permittedSubtrees",void 0),oc([oi({type:ah,context:1,optional:!0,implicit:!0})],am.prototype,"excludedSubtrees",void 0);class ag{constructor(e={}){Object.assign(this,e)}}oc([oi({type:j.Integer,context:0,implicit:!0,optional:!0,converter:nK})],ag.prototype,"requireExplicitPolicy",void 0),oc([oi({type:j.Integer,context:1,implicit:!0,optional:!0,converter:nK})],ag.prototype,"inhibitPolicyMapping",void 0);class ay{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],ay.prototype,"issuerDomainPolicy",void 0),oc([oi({type:j.ObjectIdentifier})],ay.prototype,"subjectDomainPolicy",void 0);let av=er=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,er.prototype)}};av=er=oc([or({type:B.Sequence,itemType:ay})],av);let ab=`${oR}.17`,aA=ei=class extends o${constructor(e){super(e),Object.setPrototypeOf(this,ei.prototype)}};aA=ei=oc([or({type:B.Sequence})],aA);class aw{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],aw.prototype,"type",void 0),oc([oi({type:j.Any,repeated:"set"})],aw.prototype,"values",void 0);let a_=en=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,en.prototype)}};a_=en=oc([or({type:B.Sequence,itemType:aw})],a_);let aS=`${oR}.14`;class aE extends oK{}class aT{constructor(e={}){Object.assign(this,e)}}oc([oi({type:j.GeneralizedTime,context:0,implicit:!0,optional:!0})],aT.prototype,"notBefore",void 0),oc([oi({type:j.GeneralizedTime,context:1,implicit:!0,optional:!0})],aT.prototype,"notAfter",void 0),function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"}(eo||(eo={}));class aI extends nR{toJSON(){let e=[],t=this.toNumber();return t&eo.pKIXCertificate&&e.push("pKIXCertificate"),t&eo.newExtensions&&e.push("newExtensions"),t&eo.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class ax{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new aI,Object.assign(this,e)}}oc([oi({type:j.GeneralString})],ax.prototype,"entrustVers",void 0),oc([oi({type:aI})],ax.prototype,"entrustInfoFlags",void 0);let aO=ea=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ea.prototype)}};aO=ea=oc([or({type:B.Sequence,itemType:oD})],aO);class aC{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof aC&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&r4(e.parameters,this.parameters)||e.parameters===this.parameters)}}oc([oi({type:j.ObjectIdentifier})],aC.prototype,"algorithm",void 0),oc([oi({type:j.Any,optional:!0})],aC.prototype,"parameters",void 0);class ak{constructor(e={}){this.algorithm=new aC,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:aC})],ak.prototype,"algorithm",void 0),oc([oi({type:j.BitString})],ak.prototype,"subjectPublicKey",void 0);let aN=class{constructor(e){if(e)if("string"==typeof e||"number"==typeof e||e instanceof Date){const t=new Date(e);t.getUTCFullYear()>2049?this.generalTime=t:this.utcTime=t}else Object.assign(this,e)}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw Error("Cannot get time from CHOICE object");return e}};oc([oi({type:j.UTCTime})],aN.prototype,"utcTime",void 0),oc([oi({type:j.GeneralizedTime})],aN.prototype,"generalTime",void 0),aN=oc([or({type:B.Choice})],aN);class aR{constructor(e){this.notBefore=new aN(new Date),this.notAfter=new aN(new Date),e&&(this.notBefore=new aN(e.notBefore),this.notAfter=new aN(e.notAfter))}}oc([oi({type:aN})],aR.prototype,"notBefore",void 0),oc([oi({type:aN})],aR.prototype,"notAfter",void 0);class aP{constructor(e={}){this.extnID="",this.critical=aP.CRITICAL,this.extnValue=new nP,Object.assign(this,e)}}aP.CRITICAL=!1,oc([oi({type:j.ObjectIdentifier})],aP.prototype,"extnID",void 0),oc([oi({type:j.Boolean,defaultValue:aP.CRITICAL})],aP.prototype,"critical",void 0),oc([oi({type:nP})],aP.prototype,"extnValue",void 0);let aD=es=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,es.prototype)}};aD=es=oc([or({type:B.Sequence,itemType:aP})],aD),function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"}(el||(el={}));class aU{constructor(e={}){this.version=el.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new aC,this.issuer=new ob,this.validity=new aR,this.subject=new ob,this.subjectPublicKeyInfo=new ak,Object.assign(this,e)}}oc([oi({type:j.Integer,context:0,defaultValue:el.v1})],aU.prototype,"version",void 0),oc([oi({type:j.Integer,converter:nK})],aU.prototype,"serialNumber",void 0),oc([oi({type:aC})],aU.prototype,"signature",void 0),oc([oi({type:ob})],aU.prototype,"issuer",void 0),oc([oi({type:aR})],aU.prototype,"validity",void 0),oc([oi({type:ob})],aU.prototype,"subject",void 0),oc([oi({type:ak})],aU.prototype,"subjectPublicKeyInfo",void 0),oc([oi({type:j.BitString,context:1,implicit:!0,optional:!0})],aU.prototype,"issuerUniqueID",void 0),oc([oi({type:j.BitString,context:2,implicit:!0,optional:!0})],aU.prototype,"subjectUniqueID",void 0),oc([oi({type:aD,context:3,optional:!0})],aU.prototype,"extensions",void 0);class aL{constructor(e={}){this.tbsCertificate=new aU,this.signatureAlgorithm=new aC,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:aU,raw:!0})],aL.prototype,"tbsCertificate",void 0),oc([oi({type:aC})],aL.prototype,"signatureAlgorithm",void 0),oc([oi({type:j.BitString})],aL.prototype,"signatureValue",void 0);class aK{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new aN,Object.assign(this,e)}}oc([oi({type:j.Integer,converter:nK})],aK.prototype,"userCertificate",void 0),oc([oi({type:aN})],aK.prototype,"revocationDate",void 0),oc([oi({type:aP,optional:!0,repeated:"sequence"})],aK.prototype,"crlEntryExtensions",void 0);class aM{constructor(e={}){this.signature=new aC,this.issuer=new ob,this.thisUpdate=new aN,Object.assign(this,e)}}oc([oi({type:j.Integer,optional:!0})],aM.prototype,"version",void 0),oc([oi({type:aC})],aM.prototype,"signature",void 0),oc([oi({type:ob})],aM.prototype,"issuer",void 0),oc([oi({type:aN})],aM.prototype,"thisUpdate",void 0),oc([oi({type:aN,optional:!0})],aM.prototype,"nextUpdate",void 0),oc([oi({type:aK,repeated:"sequence",optional:!0})],aM.prototype,"revokedCertificates",void 0),oc([oi({type:aP,optional:!0,context:0,repeated:"sequence"})],aM.prototype,"crlExtensions",void 0);class aB{constructor(e={}){this.tbsCertList=new aM,this.signatureAlgorithm=new aC,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:aM,raw:!0})],aB.prototype,"tbsCertList",void 0),oc([oi({type:aC})],aB.prototype,"signatureAlgorithm",void 0),oc([oi({type:j.BitString})],aB.prototype,"signature",void 0);let aj={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN"};function a$(e){let t=oa.parse(e,aL),r=t.tbsCertificate,i={combined:""};r.issuer.forEach(([e])=>{let t=aj[e.type];t&&(i[t]=e.value.toString())}),i.combined=az(i);let n={combined:""};r.subject.forEach(([e])=>{let t=aj[e.type];t&&(n[t]=e.value.toString())}),n.combined=az(n);let o=!1;if(r.extensions)for(let e of r.extensions)e.extnID===oB&&(o=oa.parse(e.extnValue,oj).cA);return{issuer:i,subject:n,version:r.version,basicConstraintsCA:o,notBefore:r.validity.notBefore.getTime(),notAfter:r.validity.notAfter.getTime(),parsedCertificate:t}}function az(e){let t=[];return e.C&&t.push(e.C),e.O&&t.push(e.O),e.OU&&t.push(e.OU),e.CN&&t.push(e.CN),t.join(" : ")}e.i(289064);class aF{constructor(e={}){this.issuer=new ob,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:ob})],aF.prototype,"issuer",void 0),oc([oi({type:j.Integer,converter:nK})],aF.prototype,"serialNumber",void 0);let aq=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:aE,context:0,implicit:!0})],aq.prototype,"subjectKeyIdentifier",void 0),oc([oi({type:aF})],aq.prototype,"issuerAndSerialNumber",void 0),aq=oc([or({type:B.Choice})],aq),function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2",e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v5=5]="v5"}(eu||(eu={}));let aV=class extends aC{};aV=oc([or({type:B.Sequence})],aV);let aH=class extends aC{};aH=oc([or({type:B.Sequence})],aH);let aG=class extends aC{};aG=oc([or({type:B.Sequence})],aG);let aW=class extends aC{};aW=oc([or({type:B.Sequence})],aW);let aZ=class extends aC{};aZ=oc([or({type:B.Sequence})],aZ);let aJ=class extends aC{};aJ=oc([or({type:B.Sequence})],aJ);class aQ{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],aQ.prototype,"attrType",void 0),oc([oi({type:j.Any,repeated:"set"})],aQ.prototype,"attrValues",void 0);class aY{constructor(e={}){this.version=eu.v0,this.sid=new aq,this.digestAlgorithm=new aV,this.signatureAlgorithm=new aH,this.signature=new nP,Object.assign(this,e)}}oc([oi({type:j.Integer})],aY.prototype,"version",void 0),oc([oi({type:aq})],aY.prototype,"sid",void 0),oc([oi({type:aV})],aY.prototype,"digestAlgorithm",void 0),oc([oi({type:aQ,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],aY.prototype,"signedAttrs",void 0),oc([oi({type:aH})],aY.prototype,"signatureAlgorithm",void 0),oc([oi({type:nP})],aY.prototype,"signature",void 0),oc([oi({type:aQ,repeated:"set",context:1,implicit:!0,optional:!0})],aY.prototype,"unsignedAttrs",void 0);let aX=ec=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ec.prototype)}};aX=ec=oc([or({type:B.Set,itemType:aY})],aX);let a0=class extends aN{};a0=oc([or({type:B.Choice})],a0);let a1=class extends aY{};a1=oc([or({type:B.Sequence})],a1);class a2{constructor(e={}){this.acIssuer=new oS,this.acSerial=0,this.attrs=[],Object.assign(this,e)}}oc([oi({type:oS})],a2.prototype,"acIssuer",void 0),oc([oi({type:j.Integer})],a2.prototype,"acSerial",void 0),oc([oi({type:aw,repeated:"sequence"})],a2.prototype,"attrs",void 0);let a4=ed=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ed.prototype)}};a4=ed=oc([or({type:B.Sequence,itemType:j.ObjectIdentifier})],a4);class a3{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}}oc([oi({type:j.Integer,optional:!0})],a3.prototype,"pathLenConstraint",void 0),oc([oi({type:a4,implicit:!0,context:0,optional:!0})],a3.prototype,"permittedAttrs",void 0),oc([oi({type:a4,implicit:!0,context:1,optional:!0})],a3.prototype,"excludedAttrs",void 0),oc([oi({type:j.Boolean,defaultValue:!0})],a3.prototype,"permitUnSpecified",void 0);class a5{constructor(e={}){this.issuer=new o$,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:o$})],a5.prototype,"issuer",void 0),oc([oi({type:j.Integer,converter:nK})],a5.prototype,"serial",void 0),oc([oi({type:j.BitString,optional:!0})],a5.prototype,"issuerUID",void 0),function(e){e[e.publicKey=0]="publicKey",e[e.publicKeyCert=1]="publicKeyCert",e[e.otherObjectTypes=2]="otherObjectTypes"}(ep||(ep={}));class a6{constructor(e={}){this.digestedObjectType=ep.publicKey,this.digestAlgorithm=new aC,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.Enumerated})],a6.prototype,"digestedObjectType",void 0),oc([oi({type:j.ObjectIdentifier,optional:!0})],a6.prototype,"otherObjectTypeID",void 0),oc([oi({type:aC})],a6.prototype,"digestAlgorithm",void 0),oc([oi({type:j.BitString})],a6.prototype,"objectDigest",void 0);class a8{constructor(e={}){Object.assign(this,e)}}oc([oi({type:o$,optional:!0})],a8.prototype,"issuerName",void 0),oc([oi({type:a5,context:0,implicit:!0,optional:!0})],a8.prototype,"baseCertificateID",void 0),oc([oi({type:a6,context:1,implicit:!0,optional:!0})],a8.prototype,"objectDigestInfo",void 0);let a9=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:oS,repeated:"sequence"})],a9.prototype,"v1Form",void 0),oc([oi({type:a8,context:0,implicit:!0})],a9.prototype,"v2Form",void 0),a9=oc([or({type:B.Choice})],a9);class a7{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}}oc([oi({type:j.GeneralizedTime})],a7.prototype,"notBeforeTime",void 0),oc([oi({type:j.GeneralizedTime})],a7.prototype,"notAfterTime",void 0);class se{constructor(e={}){Object.assign(this,e)}}oc([oi({type:a5,implicit:!0,context:0,optional:!0})],se.prototype,"baseCertificateID",void 0),oc([oi({type:o$,implicit:!0,context:1,optional:!0})],se.prototype,"entityName",void 0),oc([oi({type:a6,implicit:!0,context:2,optional:!0})],se.prototype,"objectDigestInfo",void 0),function(e){e[e.v2=1]="v2"}(ef||(ef={}));class st{constructor(e={}){this.version=ef.v2,this.holder=new se,this.issuer=new a9,this.signature=new aC,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new a7,this.attributes=[],Object.assign(this,e)}}oc([oi({type:j.Integer})],st.prototype,"version",void 0),oc([oi({type:se})],st.prototype,"holder",void 0),oc([oi({type:a9})],st.prototype,"issuer",void 0),oc([oi({type:aC})],st.prototype,"signature",void 0),oc([oi({type:j.Integer,converter:nK})],st.prototype,"serialNumber",void 0),oc([oi({type:a7})],st.prototype,"attrCertValidityPeriod",void 0),oc([oi({type:aw,repeated:"sequence"})],st.prototype,"attributes",void 0),oc([oi({type:j.BitString,optional:!0})],st.prototype,"issuerUniqueID",void 0),oc([oi({type:aD,optional:!0})],st.prototype,"extensions",void 0);class sr{constructor(e={}){this.acinfo=new st,this.signatureAlgorithm=new aC,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:st})],sr.prototype,"acinfo",void 0),oc([oi({type:aC})],sr.prototype,"signatureAlgorithm",void 0),oc([oi({type:j.BitString})],sr.prototype,"signatureValue",void 0),function(e){e[e.unmarked=1]="unmarked",e[e.unclassified=2]="unclassified",e[e.restricted=4]="restricted",e[e.confidential=8]="confidential",e[e.secret=16]="secret",e[e.topSecret=32]="topSecret"}(eh||(eh={}));class si extends nR{}class sn{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier,implicit:!0,context:0})],sn.prototype,"type",void 0),oc([oi({type:j.Any,implicit:!0,context:1})],sn.prototype,"value",void 0);class so{constructor(e={}){this.policyId="",this.classList=new si(eh.unclassified),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],so.prototype,"policyId",void 0),oc([oi({type:si,defaultValue:new si(eh.unclassified)})],so.prototype,"classList",void 0),oc([oi({type:sn,repeated:"set"})],so.prototype,"securityCategories",void 0);class sa{constructor(e={}){Object.assign(this,e)}}oc([oi({type:nP})],sa.prototype,"cotets",void 0),oc([oi({type:j.ObjectIdentifier})],sa.prototype,"oid",void 0),oc([oi({type:j.Utf8String})],sa.prototype,"string",void 0);class ss{constructor(e={}){this.values=[],Object.assign(this,e)}}oc([oi({type:o$,implicit:!0,context:0,optional:!0})],ss.prototype,"policyAuthority",void 0),oc([oi({type:sa,repeated:"sequence"})],ss.prototype,"values",void 0);class sl{constructor(e={}){this.targetCertificate=new a5,Object.assign(this,e)}}oc([oi({type:a5})],sl.prototype,"targetCertificate",void 0),oc([oi({type:oS,optional:!0})],sl.prototype,"targetName",void 0),oc([oi({type:a6,optional:!0})],sl.prototype,"certDigestInfo",void 0);let su=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:oS,context:0,implicit:!0})],su.prototype,"targetName",void 0),oc([oi({type:oS,context:1,implicit:!0})],su.prototype,"targetGroup",void 0),oc([oi({type:sl,context:2,implicit:!0})],su.prototype,"targetCert",void 0),su=oc([or({type:B.Choice})],su);let sc=em=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,em.prototype)}};sc=em=oc([or({type:B.Sequence,itemType:su})],sc);let sd=eg=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eg.prototype)}};sd=eg=oc([or({type:B.Sequence,itemType:sc})],sd);class sp{constructor(e={}){Object.assign(this,e)}}oc([oi({type:o$,implicit:!0,context:0,optional:!0})],sp.prototype,"roleAuthority",void 0),oc([oi({type:oS,implicit:!0,context:1})],sp.prototype,"roleName",void 0);class sf{constructor(e={}){this.service=new oS,this.ident=new oS,Object.assign(this,e)}}oc([oi({type:oS})],sf.prototype,"service",void 0),oc([oi({type:oS})],sf.prototype,"ident",void 0),oc([oi({type:nP,optional:!0})],sf.prototype,"authInfo",void 0);class sh{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],sh.prototype,"otherCertFormat",void 0),oc([oi({type:j.Any})],sh.prototype,"otherCert",void 0);let sm=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:aL})],sm.prototype,"certificate",void 0),oc([oi({type:sr,context:2,implicit:!0})],sm.prototype,"v2AttrCert",void 0),oc([oi({type:sh,context:3,implicit:!0})],sm.prototype,"other",void 0),sm=oc([or({type:B.Choice})],sm);let sg=ey=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ey.prototype)}};sg=ey=oc([or({type:B.Set,itemType:sm})],sg);class sy{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],sy.prototype,"contentType",void 0),oc([oi({type:j.Any,context:0})],sy.prototype,"content",void 0);let sv=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:nP})],sv.prototype,"single",void 0),oc([oi({type:j.Any})],sv.prototype,"any",void 0),sv=oc([or({type:B.Choice})],sv);class sb{constructor(e={}){this.eContentType="",Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],sb.prototype,"eContentType",void 0),oc([oi({type:sv,context:0,optional:!0})],sb.prototype,"eContent",void 0);let sA=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:nP,context:0,implicit:!0,optional:!0})],sA.prototype,"value",void 0),oc([oi({type:nP,converter:nz,context:0,implicit:!0,optional:!0,repeated:"sequence"})],sA.prototype,"constructedValue",void 0),sA=oc([or({type:B.Choice})],sA);class sw{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new aW,Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],sw.prototype,"contentType",void 0),oc([oi({type:aW})],sw.prototype,"contentEncryptionAlgorithm",void 0),oc([oi({type:sA,optional:!0})],sw.prototype,"encryptedContent",void 0);class s_{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],s_.prototype,"keyAttrId",void 0),oc([oi({type:j.Any,optional:!0})],s_.prototype,"keyAttr",void 0);class sS{constructor(e={}){this.subjectKeyIdentifier=new aE,Object.assign(this,e)}}oc([oi({type:aE})],sS.prototype,"subjectKeyIdentifier",void 0),oc([oi({type:j.GeneralizedTime,optional:!0})],sS.prototype,"date",void 0),oc([oi({type:s_,optional:!0})],sS.prototype,"other",void 0);let sE=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:sS,context:0,implicit:!0,optional:!0})],sE.prototype,"rKeyId",void 0),oc([oi({type:aF,optional:!0})],sE.prototype,"issuerAndSerialNumber",void 0),sE=oc([or({type:B.Choice})],sE);class sT{constructor(e={}){this.rid=new sE,this.encryptedKey=new nP,Object.assign(this,e)}}oc([oi({type:sE})],sT.prototype,"rid",void 0),oc([oi({type:nP})],sT.prototype,"encryptedKey",void 0);let sI=ev=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ev.prototype)}};sI=ev=oc([or({type:B.Sequence,itemType:sT})],sI);class sx{constructor(e={}){this.algorithm=new aC,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:aC})],sx.prototype,"algorithm",void 0),oc([oi({type:j.BitString})],sx.prototype,"publicKey",void 0);let sO=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:aE,context:0,implicit:!0,optional:!0})],sO.prototype,"subjectKeyIdentifier",void 0),oc([oi({type:sx,context:1,implicit:!0,optional:!0})],sO.prototype,"originatorKey",void 0),oc([oi({type:aF,optional:!0})],sO.prototype,"issuerAndSerialNumber",void 0),sO=oc([or({type:B.Choice})],sO);class sC{constructor(e={}){this.version=eu.v3,this.originator=new sO,this.keyEncryptionAlgorithm=new aG,this.recipientEncryptedKeys=new sI,Object.assign(this,e)}}oc([oi({type:j.Integer})],sC.prototype,"version",void 0),oc([oi({type:sO,context:0})],sC.prototype,"originator",void 0),oc([oi({type:nP,context:1,optional:!0})],sC.prototype,"ukm",void 0),oc([oi({type:aG})],sC.prototype,"keyEncryptionAlgorithm",void 0),oc([oi({type:sI})],sC.prototype,"recipientEncryptedKeys",void 0);let sk=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:aE,context:0,implicit:!0})],sk.prototype,"subjectKeyIdentifier",void 0),oc([oi({type:aF})],sk.prototype,"issuerAndSerialNumber",void 0),sk=oc([or({type:B.Choice})],sk);class sN{constructor(e={}){this.version=eu.v0,this.rid=new sk,this.keyEncryptionAlgorithm=new aG,this.encryptedKey=new nP,Object.assign(this,e)}}oc([oi({type:j.Integer})],sN.prototype,"version",void 0),oc([oi({type:sk})],sN.prototype,"rid",void 0),oc([oi({type:aG})],sN.prototype,"keyEncryptionAlgorithm",void 0),oc([oi({type:nP})],sN.prototype,"encryptedKey",void 0);class sR{constructor(e={}){this.keyIdentifier=new nP,Object.assign(this,e)}}oc([oi({type:nP})],sR.prototype,"keyIdentifier",void 0),oc([oi({type:j.GeneralizedTime,optional:!0})],sR.prototype,"date",void 0),oc([oi({type:s_,optional:!0})],sR.prototype,"other",void 0);class sP{constructor(e={}){this.version=eu.v4,this.kekid=new sR,this.keyEncryptionAlgorithm=new aG,this.encryptedKey=new nP,Object.assign(this,e)}}oc([oi({type:j.Integer})],sP.prototype,"version",void 0),oc([oi({type:sR})],sP.prototype,"kekid",void 0),oc([oi({type:aG})],sP.prototype,"keyEncryptionAlgorithm",void 0),oc([oi({type:nP})],sP.prototype,"encryptedKey",void 0);class sD{constructor(e={}){this.version=eu.v0,this.keyEncryptionAlgorithm=new aG,this.encryptedKey=new nP,Object.assign(this,e)}}oc([oi({type:j.Integer})],sD.prototype,"version",void 0),oc([oi({type:aJ,context:0,optional:!0})],sD.prototype,"keyDerivationAlgorithm",void 0),oc([oi({type:aG})],sD.prototype,"keyEncryptionAlgorithm",void 0),oc([oi({type:nP})],sD.prototype,"encryptedKey",void 0);class sU{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],sU.prototype,"oriType",void 0),oc([oi({type:j.Any})],sU.prototype,"oriValue",void 0);let sL=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:sN,optional:!0})],sL.prototype,"ktri",void 0),oc([oi({type:sC,context:1,implicit:!0,optional:!0})],sL.prototype,"kari",void 0),oc([oi({type:sP,context:2,implicit:!0,optional:!0})],sL.prototype,"kekri",void 0),oc([oi({type:sD,context:3,implicit:!0,optional:!0})],sL.prototype,"pwri",void 0),oc([oi({type:sU,context:4,implicit:!0,optional:!0})],sL.prototype,"ori",void 0),sL=oc([or({type:B.Choice})],sL);let sK=eb=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eb.prototype)}};sK=eb=oc([or({type:B.Set,itemType:sL})],sK);class sM{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],sM.prototype,"otherRevInfoFormat",void 0),oc([oi({type:j.Any})],sM.prototype,"otherRevInfo",void 0);let sB=class{constructor(e={}){this.other=new sM,Object.assign(this,e)}};oc([oi({type:sM,context:1,implicit:!0})],sB.prototype,"other",void 0),sB=oc([or({type:B.Choice})],sB);let sj=eA=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eA.prototype)}};sj=eA=oc([or({type:B.Set,itemType:sB})],sj);class s${constructor(e={}){Object.assign(this,e)}}oc([oi({type:sg,context:0,implicit:!0,optional:!0})],s$.prototype,"certs",void 0),oc([oi({type:sj,context:1,implicit:!0,optional:!0})],s$.prototype,"crls",void 0);let sz=ew=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ew.prototype)}};sz=ew=oc([or({type:B.Set,itemType:aQ})],sz);class sF{constructor(e={}){this.version=eu.v0,this.recipientInfos=new sK,this.encryptedContentInfo=new sw,Object.assign(this,e)}}oc([oi({type:j.Integer})],sF.prototype,"version",void 0),oc([oi({type:s$,context:0,implicit:!0,optional:!0})],sF.prototype,"originatorInfo",void 0),oc([oi({type:sK})],sF.prototype,"recipientInfos",void 0),oc([oi({type:sw})],sF.prototype,"encryptedContentInfo",void 0),oc([oi({type:sz,context:1,implicit:!0,optional:!0})],sF.prototype,"unprotectedAttrs",void 0);let sq="1.2.840.113549.1.7.2",sV=e_=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,e_.prototype)}};sV=e_=oc([or({type:B.Set,itemType:aV})],sV);class sH{constructor(e={}){this.version=eu.v0,this.digestAlgorithms=new sV,this.encapContentInfo=new sb,this.signerInfos=new aX,Object.assign(this,e)}}oc([oi({type:j.Integer})],sH.prototype,"version",void 0),oc([oi({type:sV})],sH.prototype,"digestAlgorithms",void 0),oc([oi({type:sb})],sH.prototype,"encapContentInfo",void 0),oc([oi({type:sg,context:0,implicit:!0,optional:!0})],sH.prototype,"certificates",void 0),oc([oi({type:sj,context:1,implicit:!0,optional:!0})],sH.prototype,"crls",void 0),oc([oi({type:aX})],sH.prototype,"signerInfos",void 0);let sG="1.2.840.10045.2.1",sW="1.2.840.10045.4.1",sZ="1.2.840.10045.4.3.1",sJ="1.2.840.10045.4.3.2",sQ="1.2.840.10045.4.3.3",sY="1.2.840.10045.4.3.4",sX="1.2.840.10045.3.1.7",s0="1.3.132.0.34",s1="1.3.132.0.35";function s2(e){return new aC({algorithm:e})}let s4=s2(sW);s2(sZ);let s3=s2(sJ),s5=s2(sQ),s6=s2(sY),s8=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:j.ObjectIdentifier})],s8.prototype,"fieldType",void 0),oc([oi({type:j.Any})],s8.prototype,"parameters",void 0),s8=oc([or({type:B.Sequence})],s8);class s9 extends nP{}let s7=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:j.OctetString})],s7.prototype,"a",void 0),oc([oi({type:j.OctetString})],s7.prototype,"b",void 0),oc([oi({type:j.BitString,optional:!0})],s7.prototype,"seed",void 0),s7=oc([or({type:B.Sequence})],s7),function(e){e[e.ecpVer1=1]="ecpVer1"}(eS||(eS={}));let le=class{constructor(e={}){this.version=eS.ecpVer1,Object.assign(this,e)}};oc([oi({type:j.Integer})],le.prototype,"version",void 0),oc([oi({type:s8})],le.prototype,"fieldID",void 0),oc([oi({type:s7})],le.prototype,"curve",void 0),oc([oi({type:s9})],le.prototype,"base",void 0),oc([oi({type:j.Integer,converter:nK})],le.prototype,"order",void 0),oc([oi({type:j.Integer,optional:!0})],le.prototype,"cofactor",void 0),le=oc([or({type:B.Sequence})],le);let lt=class{constructor(e={}){Object.assign(this,e)}};oc([oi({type:j.ObjectIdentifier})],lt.prototype,"namedCurve",void 0),oc([oi({type:j.Null})],lt.prototype,"implicitCurve",void 0),oc([oi({type:le})],lt.prototype,"specifiedCurve",void 0),lt=oc([or({type:B.Choice})],lt);class lr{constructor(e={}){this.version=1,this.privateKey=new nP,Object.assign(this,e)}}oc([oi({type:j.Integer})],lr.prototype,"version",void 0),oc([oi({type:nP})],lr.prototype,"privateKey",void 0),oc([oi({type:lt,context:0,optional:!0})],lr.prototype,"parameters",void 0),oc([oi({type:j.BitString,context:1,optional:!0})],lr.prototype,"publicKey",void 0);class li{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.Integer,converter:nK})],li.prototype,"r",void 0),oc([oi({type:j.Integer,converter:nK})],li.prototype,"s",void 0);let ln="1.2.840.113549.1.1",lo=`${ln}.1`,la=`${ln}.7`,ls=`${ln}.9`,ll=`${ln}.10`,lu=`${ln}.2`,lc=`${ln}.4`,ld=`${ln}.5`,lp=`${ln}.14`,lf=`${ln}.11`,lh=`${ln}.12`,lm=`${ln}.13`,lg=`${ln}.15`,ly=`${ln}.16`,lv="1.3.14.3.2.26",lb="2.16.840.1.101.3.4.2.4",lA="2.16.840.1.101.3.4.2.1",lw="2.16.840.1.101.3.4.2.2",l_="2.16.840.1.101.3.4.2.3",lS="2.16.840.1.101.3.4.2.5",lE="2.16.840.1.101.3.4.2.6",lT="1.2.840.113549.2.5",lI=`${ln}.8`;function lx(e){return new aC({algorithm:e,parameters:null})}lx("1.2.840.113549.2.2"),lx(lT);let lO=lx(lv);lx(lb),lx(lA),lx(lw),lx(l_),lx(lS),lx(lE);let lC=new aC({algorithm:lI,parameters:ou.serialize(lO)}),lk=new aC({algorithm:ls,parameters:ou.serialize(n$.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});lx(lo),lx(lu),lx(lc),lx(ld),lx(lg),lx(ly),lx(lh),lx(lm),lx(lg),lx(ly);class lN{constructor(e={}){this.hashAlgorithm=new aC(lO),this.maskGenAlgorithm=new aC({algorithm:lI,parameters:ou.serialize(lO)}),this.pSourceAlgorithm=new aC(lk),Object.assign(this,e)}}oc([oi({type:aC,context:0,defaultValue:lO})],lN.prototype,"hashAlgorithm",void 0),oc([oi({type:aC,context:1,defaultValue:lC})],lN.prototype,"maskGenAlgorithm",void 0),oc([oi({type:aC,context:2,defaultValue:lk})],lN.prototype,"pSourceAlgorithm",void 0),new aC({algorithm:la,parameters:ou.serialize(new lN)});class lR{constructor(e={}){this.hashAlgorithm=new aC(lO),this.maskGenAlgorithm=new aC({algorithm:lI,parameters:ou.serialize(lO)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}oc([oi({type:aC,context:0,defaultValue:lO})],lR.prototype,"hashAlgorithm",void 0),oc([oi({type:aC,context:1,defaultValue:lC})],lR.prototype,"maskGenAlgorithm",void 0),oc([oi({type:j.Integer,context:2,defaultValue:20})],lR.prototype,"saltLength",void 0),oc([oi({type:j.Integer,context:3,defaultValue:1})],lR.prototype,"trailerField",void 0),new aC({algorithm:ll,parameters:ou.serialize(new lR)});class lP{constructor(e={}){this.digestAlgorithm=new aC,this.digest=new nP,Object.assign(this,e)}}oc([oi({type:aC})],lP.prototype,"digestAlgorithm",void 0),oc([oi({type:nP})],lP.prototype,"digest",void 0);class lD{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.Integer,converter:nK})],lD.prototype,"prime",void 0),oc([oi({type:j.Integer,converter:nK})],lD.prototype,"exponent",void 0),oc([oi({type:j.Integer,converter:nK})],lD.prototype,"coefficient",void 0);let lU=eE=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eE.prototype)}};lU=eE=oc([or({type:B.Sequence,itemType:lD})],lU);class lL{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.Integer})],lL.prototype,"version",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"modulus",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"publicExponent",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"privateExponent",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"prime1",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"prime2",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"exponent1",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"exponent2",void 0),oc([oi({type:j.Integer,converter:nK})],lL.prototype,"coefficient",void 0),oc([oi({type:lU,optional:!0})],lL.prototype,"otherPrimeInfos",void 0);class lK{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.Integer,converter:nK})],lK.prototype,"modulus",void 0),oc([oi({type:j.Integer,converter:nK})],lK.prototype,"publicExponent",void 0),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(eT||(eT={}));let lM=eT;var lB=function(e,t){return(lB=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function lj(e,t){function r(){this.constructor=e}lB(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function l$(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})}function lz(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function lF(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lq(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}function lV(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lq(arguments[t]));return e}var lH="injectionTokens";function lG(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(lH,e)||{};return Object.keys(r).forEach(function(e){t[+e]=r[e]}),t}function lW(e){return!!e.useClass}function lZ(e){return!!e.useFactory}var lJ=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,r=this,i=!1,n=function(){return i||(t=e(r.wrap()),i=!0),t};return new Proxy({},this.createHandler(n))},e.prototype.createHandler=function(e){var t={},r=function(r){t[r]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t[0]=e(),Reflect[r].apply(void 0,lV(t))}};return this.reflectMethods.forEach(r),t},e}();function lQ(e){return"string"==typeof e||"symbol"==typeof e}function lY(e){return"object"==typeof e&&"token"in e&&"multiple"in e}function lX(e){return"object"==typeof e&&"token"in e&&"transform"in e}function l0(e){return"function"==typeof e||e instanceof lJ}function l1(e){return!!e.useToken}function l2(e){return void 0!=e.useValue}function l4(e){return lW(e)||l2(e)||l1(e)||lZ(e)}let l3=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),l5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lj(t,e),t}(l3),l6=function(){return function(){this.scopedResolutions=new Map}}();function l8(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}function l9(e,t,r){return void 0===r&&(r="    "),lV([e],t.message.split("\n").map(function(e){return r+e})).join("\n")}function l7(e,t,r){var i=lq(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return l9("Cannot inject the dependency "+l8(void 0===i?null:i,t)+' of "'+e.name+'" constructor. Reason:',r)}function ue(e){return"function"==typeof e.dispose&&!(e.dispose.length>0)}var ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lj(t,e),t}(l3),ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lj(t,e),t}(l3);let ui=function(){return function(){this.preResolution=new ut,this.postResolution=new ur}}();var un=new Map,uo=new(function(){function e(e){this.parent=e,this._registry=new l5,this.interceptors=new ui,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,r){if(void 0===r&&(r={lifecycle:lM.Transient}),this.ensureNotDisposed(),l1(i=l4(t)?t:{useClass:t}))for(var i,n=[e],o=i;null!=o;){var a=o.useToken;if(n.includes(a))throw Error("Token registration cycle detected! "+lV(n,[a]).join(" -> "));n.push(a);var s=this._registry.get(a);o=s&&l1(s.provider)?s.provider:null}if((r.lifecycle===lM.Singleton||r.lifecycle==lM.ContainerScoped||r.lifecycle==lM.ResolutionScoped)&&(l2(i)||lZ(i)))throw Error('Cannot use lifecycle "'+lM[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:i,options:r}),this},e.prototype.registerType=function(e,t){return(this.ensureNotDisposed(),lQ(t))?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),lQ(e)){if(lQ(t))return this.register(e,{useToken:t},{lifecycle:lM.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:lM.Singleton});throw Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return t&&!lQ(t)&&(r=t),this.register(e,{useClass:r},{lifecycle:lM.Singleton})},e.prototype.resolve=function(e,t,r){void 0===t&&(t=new l6),void 0===r&&(r=!1),this.ensureNotDisposed();var i=this.getRegistration(e);if(!i&&lQ(e)){if(r)return;throw Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),i){var n=this.resolveRegistration(i,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}if(l0(e)){var n=this.construct(e,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}throw Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var r,i;if(this.interceptors.preResolution.has(e)){var n=[];try{for(var o=lF(this.interceptors.preResolution.getAll(e)),a=o.next();!a.done;a=o.next()){var s=a.value;"Once"!=s.options.frequency&&n.push(s),s.callback(e,t)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,n)}},e.prototype.executePostResolutionInterceptor=function(e,t,r){var i,n;if(this.interceptors.postResolution.has(e)){var o=[];try{for(var a=lF(this.interceptors.postResolution.getAll(e)),s=a.next();!s.done;s=a.next()){var l=s.value;"Once"!=l.options.frequency&&o.push(l),l.callback(e,t,r)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}this.interceptors.postResolution.setAll(e,o)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===lM.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var r,i=e.options.lifecycle===lM.Singleton,n=e.options.lifecycle===lM.ContainerScoped,o=i||n;return r=l2(e.provider)?e.provider.useValue:l1(e.provider)?o?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):lW(e.provider)?o?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):lZ(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===lM.ResolutionScoped&&t.scopedResolutions.set(e,r),r},e.prototype.resolveAll=function(e,t,r){var i=this;void 0===t&&(t=new l6),void 0===r&&(r=!1),this.ensureNotDisposed();var n=this.getAllRegistrations(e);if(!n&&lQ(e)){if(r)return[];throw Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),n){var o=n.map(function(e){return i.resolveRegistration(e,t)});return this.executePostResolutionInterceptor(e,o,"All"),o}var a=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,a,"All"),a},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var r=lF(this._registry.entries()),i=r.next();!i.done;i=r.next()){var n=lq(i.value,2),o=n[0],a=n[1];this._registry.setAll(o,a.filter(function(e){return!l2(e.provider)}).map(function(e){return e.instance=void 0,e}))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){this.ensureNotDisposed();var t,r,i=new e(this);try{for(var n=lF(this._registry.entries()),o=n.next();!o.done;o=n.next()){var a=lq(o.value,2),s=a[0],l=a[1];l.some(function(e){return e.options.lifecycle===lM.ContainerScoped})&&i._registry.setAll(s,l.map(function(e){return e.options.lifecycle===lM.ContainerScoped?{provider:e.provider,options:e.options}:e}))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return i},e.prototype.beforeResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},e.prototype.afterResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},e.prototype.dispose=function(){return l$(this,void 0,void 0,function(){var e;return lz(this,function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(t){var r=t.dispose();r&&e.push(r)}),[4,Promise.all(e)];case 1:return t.sent(),[2]}})})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var r=this;if(e instanceof lJ)return e.createProxy(function(e){return r.resolve(e,t)});var i=function(){var i=un.get(e);if(!i||0===i.length)if(0===e.length)return new e;else throw Error('TypeInfo not known for "'+e.name+'"');var n=i.map(r.resolveParams(t,e));return new(e.bind.apply(e,lV([void 0],n)))}();return ue(i)&&this.disposables.add(i),i},e.prototype.resolveParams=function(e,t){var r=this;return function(i,n){var o,a,s;try{if(lY(i))if(lX(i))return i.multiple?(o=r.resolve(i.transform)).transform.apply(o,lV([r.resolveAll(i.token,new l6,i.isOptional)],i.transformArgs)):(a=r.resolve(i.transform)).transform.apply(a,lV([r.resolve(i.token,e,i.isOptional)],i.transformArgs));else return i.multiple?r.resolveAll(i.token,new l6,i.isOptional):r.resolve(i.token,e,i.isOptional);if(lX(i))return(s=r.resolve(i.transform,e)).transform.apply(s,lV([r.resolve(i.token,e)],i.transformArgs));return r.resolve(i,e)}catch(e){throw Error(l7(t,n,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw Error("This container has been disposed, you cannot interact with a disposed container")},e}());let ua=function(e){return function(t){un.set(t,lG(t)),e&&e.token&&(Array.isArray(e.token)?e.token.forEach(function(e){uo.register(e,t)}):uo.register(e.token,t))}};if(e.s([],399226),"undefined"==typeof Reflect||!Reflect.getMetadata)throw Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");e.i(399226);class us{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}}oc([oi({type:j.ObjectIdentifier})],us.prototype,"attrId",void 0),oc([oi({type:j.Any,repeated:"set"})],us.prototype,"attrValues",void 0);let ul=eI=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eI.prototype)}};ul=eI=oc([or({type:B.Sequence,itemType:us})],ul);let uu=ex=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ex.prototype)}};uu=ex=oc([or({type:B.Sequence,itemType:sy})],uu);let uc="1.2.840.113549",ud=`${uc}.1`;class up{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],up.prototype,"certId",void 0),oc([oi({type:j.Any,context:0})],up.prototype,"certValue",void 0);class uf{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],uf.prototype,"crlId",void 0),oc([oi({type:j.Any,context:0})],uf.prototype,"crltValue",void 0);class uh extends nP{}class um{constructor(e={}){this.encryptionAlgorithm=new aC,this.encryptedData=new uh,Object.assign(this,e)}}oc([oi({type:aC})],um.prototype,"encryptionAlgorithm",void 0),oc([oi({type:uh})],um.prototype,"encryptedData",void 0),function(e){e[e.v1=0]="v1"}(eC||(eC={}));class ug extends nP{}let uy=eO=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eO.prototype)}};uy=eO=oc([or({type:B.Sequence,itemType:aw})],uy);class uv{constructor(e={}){this.version=eC.v1,this.privateKeyAlgorithm=new aC,this.privateKey=new ug,Object.assign(this,e)}}oc([oi({type:j.Integer})],uv.prototype,"version",void 0),oc([oi({type:aC})],uv.prototype,"privateKeyAlgorithm",void 0),oc([oi({type:ug})],uv.prototype,"privateKey",void 0),oc([oi({type:uy,implicit:!0,context:0,optional:!0})],uv.prototype,"attributes",void 0);let ub=class extends uv{};ub=oc([or({type:B.Sequence})],ub);let uA=class extends um{};uA=oc([or({type:B.Sequence})],uA);class uw{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],uw.prototype,"secretTypeId",void 0),oc([oi({type:j.Any,context:0})],uw.prototype,"secretValue",void 0);class u_{constructor(e={}){this.mac=new lP,this.macSalt=new nP,this.iterations=1,Object.assign(this,e)}}oc([oi({type:lP})],u_.prototype,"mac",void 0),oc([oi({type:nP})],u_.prototype,"macSalt",void 0),oc([oi({type:j.Integer,defaultValue:1})],u_.prototype,"iterations",void 0);class uS{constructor(e={}){this.version=3,this.authSafe=new sy,this.macData=new u_,Object.assign(this,e)}}oc([oi({type:j.Integer})],uS.prototype,"version",void 0),oc([oi({type:sy})],uS.prototype,"authSafe",void 0),oc([oi({type:u_,optional:!0})],uS.prototype,"macData",void 0);class uE{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:j.ObjectIdentifier})],uE.prototype,"bagId",void 0),oc([oi({type:j.Any,context:0})],uE.prototype,"bagValue",void 0),oc([oi({type:us,repeated:"set",optional:!0})],uE.prototype,"bagAttributes",void 0);let uT=ek=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,ek.prototype)}};uT=ek=oc([or({type:B.Sequence,itemType:uE})],uT);let uI="1.2.840.113549.1.9",ux=`${uI}.7`,uO=`${uI}.14`,uC=class extends oh{constructor(e={}){super(e)}toString(){return({}).toString(),this.ia5String||super.toString()}};oc([oi({type:j.IA5String})],uC.prototype,"ia5String",void 0),uC=oc([or({type:B.Choice})],uC);let uk=class extends sy{};uk=oc([or({type:B.Sequence})],uk);let uN=class extends uS{};uN=oc([or({type:B.Sequence})],uN);let uR=class extends um{};uR=oc([or({type:B.Sequence})],uR);let uP=class{constructor(e=""){this.value=e}toString(){return this.value}};oc([oi({type:j.IA5String})],uP.prototype,"value",void 0),uP=oc([or({type:B.Choice})],uP);let uD=class extends uC{};uD=oc([or({type:B.Choice})],uD);let uU=class extends oh{};uU=oc([or({type:B.Choice})],uU);let uL=class{constructor(e=new Date){this.value=e}};oc([oi({type:j.GeneralizedTime})],uL.prototype,"value",void 0),uL=oc([or({type:B.Choice})],uL);let uK=class extends oh{};uK=oc([or({type:B.Choice})],uK);let uM=class{constructor(e="M"){this.value=e}toString(){return this.value}};oc([oi({type:j.PrintableString})],uM.prototype,"value",void 0),uM=oc([or({type:B.Choice})],uM);let uB=class{constructor(e=""){this.value=e}toString(){return this.value}};oc([oi({type:j.PrintableString})],uB.prototype,"value",void 0),uB=oc([or({type:B.Choice})],uB);let uj=class extends uB{};uj=oc([or({type:B.Choice})],uj);let u$=class extends oh{};u$=oc([or({type:B.Choice})],u$);let uz=class{constructor(e=""){this.value=e}toString(){return this.value}};oc([oi({type:j.ObjectIdentifier})],uz.prototype,"value",void 0),uz=oc([or({type:B.Choice})],uz);let uF=class extends aN{};uF=oc([or({type:B.Choice})],uF);let uq=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};oc([oi({type:j.Integer})],uq.prototype,"value",void 0),uq=oc([or({type:B.Choice})],uq);let uV=class extends aY{};uV=oc([or({type:B.Sequence})],uV);let uH=class extends oh{};uH=oc([or({type:B.Choice})],uH);let uG=eN=class extends aD{constructor(e){super(e),Object.setPrototypeOf(this,eN.prototype)}};uG=eN=oc([or({type:B.Sequence})],uG);let uW=eR=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eR.prototype)}};uW=eR=oc([or({type:B.Set,itemType:aQ})],uW);let uZ=class{constructor(e=""){this.value=e}toString(){return this.value}};oc([oi({type:j.BmpString})],uZ.prototype,"value",void 0),uZ=oc([or({type:B.Choice})],uZ);let uJ=class extends aC{};uJ=oc([or({type:B.Sequence})],uJ);let uQ=eP=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eP.prototype)}};uQ=eP=oc([or({type:B.Sequence,itemType:uJ})],uQ);let uY=eD=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,eD.prototype)}};uY=eD=oc([or({type:B.Sequence,itemType:aw})],uY);class uX{constructor(e={}){this.version=0,this.subject=new ob,this.subjectPKInfo=new ak,this.attributes=new uY,Object.assign(this,e)}}oc([oi({type:j.Integer})],uX.prototype,"version",void 0),oc([oi({type:ob})],uX.prototype,"subject",void 0),oc([oi({type:ak})],uX.prototype,"subjectPKInfo",void 0),oc([oi({type:uY,implicit:!0,context:0})],uX.prototype,"attributes",void 0);class u0{constructor(e={}){this.certificationRequestInfo=new uX,this.signatureAlgorithm=new aC,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}oc([oi({type:uX,raw:!0})],u0.prototype,"certificationRequestInfo",void 0),oc([oi({type:aC})],u0.prototype,"signatureAlgorithm",void 0),oc([oi({type:j.BitString})],u0.prototype,"signature",void 0);let u1="crypto.algorithm";class u2{getAlgorithms(){return uo.resolveAll(u1)}toAsnAlgorithm(e){for(let t of({...e},this.getAlgorithms())){let r=t.toAsnAlgorithm(e);if(r)return r}if(/^[0-9.]+$/.test(e.name)){let t=new aC({algorithm:e.name});return"parameters"in e&&(t.parameters=e.parameters),t}throw Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(let t of this.getAlgorithms()){let r=t.toWebAlgorithm(e);if(r)return r}return{name:e.algorithm,parameters:e.parameters}}}let u4="crypto.algorithmProvider";uo.registerSingleton(u4,u2);let u3="1.3.36.3.3.2.8.1.1",u5=`${u3}.1`,u6=`${u3}.2`,u8=`${u3}.3`,u9=`${u3}.4`,u7=`${u3}.5`,ce=`${u3}.6`,ct=`${u3}.7`,cr=`${u3}.8`,ci=`${u3}.9`,cn=`${u3}.10`,co=`${u3}.11`,ca=`${u3}.12`,cs=`${u3}.13`,cl=`${u3}.14`,cu="brainpoolP160r1",cc="brainpoolP160t1",cd="brainpoolP192r1",cp="brainpoolP192t1",cf="brainpoolP224r1",ch="brainpoolP224t1",cm="brainpoolP256r1",cg="brainpoolP256t1",cy="brainpoolP320r1",cv="brainpoolP320t1",cb="brainpoolP384r1",cA="brainpoolP384t1",cw="brainpoolP512r1",c_="brainpoolP512t1",cS="ECDSA",cE=eU=class{toAsnAlgorithm(e){if(e.name.toLowerCase()===cS.toLowerCase()){if("hash"in e)switch(("string"==typeof e.hash?e.hash:e.hash.name).toLowerCase()){case"sha-1":return s4;case"sha-256":return s3;case"sha-384":return s5;case"sha-512":return s6}else if("namedCurve"in e){let t="";switch(e.namedCurve){case"P-256":t=sX;break;case"K-256":t=eU.SECP256K1;break;case"P-384":t=s0;break;case"P-521":t=s1;break;case cu:t=u5;break;case cc:t=u6;break;case cd:t=u8;break;case cp:t=u9;break;case cf:t=u7;break;case ch:t=ce;break;case cm:t=ct;break;case cg:t=cr;break;case cy:t=ci;break;case cv:t=cn;break;case cb:t=co;break;case cA:t=ca;break;case cw:t=cs;break;case c_:t=cl}if(t)return new aC({algorithm:sG,parameters:ou.serialize(new lt({namedCurve:t}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case sW:return{name:cS,hash:{name:"SHA-1"}};case sJ:return{name:cS,hash:{name:"SHA-256"}};case sQ:return{name:cS,hash:{name:"SHA-384"}};case sY:return{name:cS,hash:{name:"SHA-512"}};case sG:if(!e.parameters)throw TypeError("Cannot get required parameters from EC algorithm");switch(ou.parse(e.parameters,lt).namedCurve){case sX:return{name:cS,namedCurve:"P-256"};case eU.SECP256K1:return{name:cS,namedCurve:"K-256"};case s0:return{name:cS,namedCurve:"P-384"};case s1:return{name:cS,namedCurve:"P-521"};case u5:return{name:cS,namedCurve:cu};case u6:return{name:cS,namedCurve:cc};case u8:return{name:cS,namedCurve:cd};case u9:return{name:cS,namedCurve:cp};case u7:return{name:cS,namedCurve:cf};case ce:return{name:cS,namedCurve:ch};case ct:return{name:cS,namedCurve:cm};case cr:return{name:cS,namedCurve:cg};case ci:return{name:cS,namedCurve:cy};case cn:return{name:cS,namedCurve:cv};case co:return{name:cS,namedCurve:cb};case ca:return{name:cS,namedCurve:cA};case cs:return{name:cS,namedCurve:cw};case cl:return{name:cS,namedCurve:c_}}}return null}};cE.SECP256K1="1.3.132.0.10",cE=eU=oc([ua()],cE),uo.registerSingleton(u1,cE);let cT=Symbol("name"),cI=Symbol("value");class cx{constructor(e,t={},r=""){for(const i in this[cT]=e,this[cI]=r,t)this[i]=t[i]}}cx.NAME=cT,cx.VALUE=cI;class cO{static toTextObject(e){let t=new cx("Algorithm Identifier",{},cC.toString(e.algorithm));if(e.parameters)if(e.algorithm===sG){let r=new cE().toWebAlgorithm(e);r&&"namedCurve"in r?t["Named Curve"]=r.namedCurve:t.Parameters=e.parameters}else t.Parameters=e.parameters;return t}}class cC{static toString(e){let t=this.items[e];return t||e}}cC.items={[lv]:"sha1",[lb]:"sha224",[lA]:"sha256",[lw]:"sha384",[l_]:"sha512",[lo]:"rsaEncryption",[ld]:"sha1WithRSAEncryption",[lp]:"sha224WithRSAEncryption",[lf]:"sha256WithRSAEncryption",[lh]:"sha384WithRSAEncryption",[lm]:"sha512WithRSAEncryption",[sG]:"ecPublicKey",[sW]:"ecdsaWithSHA1",[sZ]:"ecdsaWithSHA224",[sJ]:"ecdsaWithSHA256",[sQ]:"ecdsaWithSHA384",[sY]:"ecdsaWithSHA512",[ae]:"TLS WWW server authentication",[at]:"TLS WWW client authentication",[ar]:"Code Signing",[ai]:"E-mail Protection",[an]:"Time Stamping",[ao]:"OCSP Signing",[sq]:"Signed Data"};class ck{static serialize(e){return this.serializeObj(e).join("\n")}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,t=0){let r=[],i=this.pad(t++),n="",o=e[cx.VALUE];for(let a in o&&(n=` ${o}`),r.push(`${i}${e[cx.NAME]}:${n}`),i=this.pad(t),e){if("symbol"==typeof a)continue;let n=e[a],o=a?`${a}: `:"";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)r.push(`${i}${o}${n}`);else if(n instanceof Date)r.push(`${i}${o}${n.toUTCString()}`);else if(Array.isArray(n))for(let e of n)e[cx.NAME]=a,r.push(...this.serializeObj(e,t));else if(n instanceof cx)n[cx.NAME]=a,r.push(...this.serializeObj(n,t));else if(rW.isBufferSource(n))a?(r.push(`${i}${o}`),r.push(...this.serializeBufferSource(n,t+1))):r.push(...this.serializeBufferSource(n,t));else if("toTextObject"in n){let e=n.toTextObject();e[cx.NAME]=a,r.push(...this.serializeObj(e,t))}else throw TypeError("Cannot serialize data in text format. Unsupported type.")}return r}static serializeBufferSource(e,t=0){let r=this.pad(t),i=rW.toUint8Array(e),n=[];for(let e=0;e<i.length;){let t=[];for(let r=0;r<16&&e<i.length;r++){8===r&&t.push("");let n=i[e++].toString(16).padStart(2,"0");t.push(n)}n.push(`${r}${t.join(" ")}`)}return n}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}ck.oidSerializer=cC,ck.algorithmSerializer=cO;class cN{get rawData(){return od(this,eL,"f")||op(this,eL,ou.serialize(this.asn),"f"),od(this,eL,"f")}constructor(...e){eL.set(this,void 0),rW.isBufferSource(e[0])?(this.asn=ou.parse(e[0],e[1]),op(this,eL,rW.toArrayBuffer(e[0]),"f")):this.asn=e[0],this.onInit(this.asn)}equal(e){return e instanceof cN&&r4(e.rawData,this.rawData)}toString(e="text"){switch(e){case"asn":return ou.toString(this.rawData);case"text":return ck.serialize(this.toTextObject());case"hex":return r1.ToHex(this.rawData);case"base64":return r1.ToBase64(this.rawData);case"base64url":return r1.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){let e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new cx(this.getTextName(),{},e)}}eL=new WeakMap,cN.NAME="ASN";class cR extends cN{constructor(...e){let t;super(t=rW.isBufferSource(e[0])?rW.toArrayBuffer(e[0]):ou.serialize(new aP({extnID:e[0],critical:e[1],extnValue:new nP(rW.toArrayBuffer(e[2]))})),aP)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[cx.NAME]===cR.NAME&&(e[cx.NAME]=cC.toString(this.type)),e}}class cP{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&void 0!==e.extractable}constructor(){this.items=new Map,this[eK]="CryptoProvider","undefined"!=typeof self&&"undefined"!=typeof crypto?this.set(cP.DEFAULT,crypto):e.g.crypto&&e.g.crypto.subtle&&this.set(cP.DEFAULT,e.g.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,t){return this.items.forEach(e,t)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=cP.DEFAULT){let t=this.items.get(e.toLowerCase());if(!t)throw Error(`Cannot get Crypto by name '${e}'`);return t}set(e,t){if("string"==typeof e){if(!t)throw TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),t)}else this.items.set(cP.DEFAULT,e);return this}}eK=Symbol.toStringTag,cP.DEFAULT="default";let cD=new cP,cU=/^[0-2](?:\.[1-9][0-9]*)+$/;function cL(e){return new RegExp(cU).test(e)}class cK{constructor(e={}){for(const t in this.items={},e)this.register(t,e[t])}get(e){return this.items[e]||null}findId(e){return cL(e)?e:this.get(e)}register(e,t){this.items[e]=t,this.items[t]=e}}let cM=new cK;function cB(e,t){return`\\${r1.ToHex(r1.FromUtf8String(t)).toUpperCase()}`}function cj(e){return e.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,cB)}cM.register("CN","2.5.4.3"),cM.register("L","2.5.4.7"),cM.register("ST","2.5.4.8"),cM.register("O","2.5.4.10"),cM.register("OU","2.5.4.11"),cM.register("C","2.5.4.6"),cM.register("DC","0.9.2342.19200300.100.1.25"),cM.register("E","1.2.840.113549.1.9.1"),cM.register("G","2.5.4.42"),cM.register("I","2.5.4.43"),cM.register("SN","2.5.4.4"),cM.register("T","2.5.4.12");class c${static isASCII(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,t={}){for(const e in this.extraNames=new cK,this.asn=new ob,t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];this.extraNames.register(e,r)}"string"==typeof e?this.asn=this.fromString(e):e instanceof ob?this.asn=e:rW.isBufferSource(e)?this.asn=ou.parse(e,ob):this.asn=this.fromJSON(e)}getField(e){let t=this.extraNames.findId(e)||cM.findId(e),r=[];for(let e of this.asn)for(let i of e)i.type===t&&r.push(i.value.toString());return r}getName(e){return this.extraNames.get(e)||cM.get(e)}toString(){return this.asn.map(e=>e.map(e=>{let t=this.getName(e.type)||e.type,r=e.value.anyValue?`#${r1.ToHex(e.value.anyValue)}`:cj(e.value.toString());return`${t}=${r}`}).join("+")).join(", ")}toJSON(){var e;let t=[];for(let r of this.asn){let i={};for(let t of r){let r=this.getName(t.type)||t.type;null!=(e=i[r])||(i[r]=[]),i[r].push(t.value.anyValue?`#${r1.ToHex(t.value.anyValue)}`:t.value.toString())}t.push(i)}return t}fromString(e){let t=new ob,r=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+"\\](?=[,+]|$))|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g,i=null,n=",";for(;i=r.exec(`${e},`);){let[,e,r]=i,o=r[r.length-1];(","===o||"+"===o)&&(r=r.slice(0,r.length-1),i[3]=o);let a=i[3];e=this.getTypeOid(e);let s=this.createAttribute(e,r);"+"===n?t[t.length-1].push(s):t.push(new oy([s])),n=a}return t}fromJSON(e){let t=new ob;for(let r of e){let e=new oy;for(let t in r){let i=this.getTypeOid(t);for(let n of r[t]){let t=this.createAttribute(i,n);e.push(t)}}t.push(e)}return t}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,t){let r=new og({type:e});if("object"==typeof t)for(let e in t)switch(e){case"ia5String":r.value.ia5String=t[e];break;case"utf8String":r.value.utf8String=t[e];break;case"universalString":r.value.universalString=t[e];break;case"bmpString":r.value.bmpString=t[e];break;case"printableString":r.value.printableString=t[e]}else if("#"===t[0])r.value.anyValue=r1.FromHex(t.slice(1));else{let i=this.processStringValue(t);e===this.getName("E")||e===this.getName("DC")?r.value.ia5String=i:c$.isPrintableString(i)?r.value.printableString=i:r.value.utf8String=i}return r}processStringValue(e){let t=/"(.*?[^\\])?"/.exec(e);return t&&(e=t[1]),e.replace(/\\0a/ig,"\n").replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return ou.serialize(this.asn)}async getThumbprint(...e){var t;let r,i="SHA-1";return!(e.length>=1)||(null==(t=e[0])?void 0:t.subtle)?r=e[0]||cD.get():(i=e[0]||i,r=e[1]||cD.get()),await r.subtle.digest(i,this.toArrayBuffer())}}let cz="Cannot initialize GeneralName from ASN.1 data.",cF=`${cz} Unsupported string format in use.`,cq=`${cz} Value doesn't match to GUID regular expression.`,cV=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,cH="1.3.6.1.4.1.311.25.1",cG="1.3.6.1.4.1.311.20.2.3",cW="dns",cZ="dn",cJ="email",cQ="ip",cY="url",cX="guid",c0="upn",c1="id";class c2 extends cN{constructor(...e){let t;if(2===e.length)switch(e[0]){case cZ:{const r=new c$(e[1]).toArrayBuffer(),i=ou.parse(r,ob);t=new oS({directoryName:i});break}case cW:t=new oS({dNSName:e[1]});break;case cJ:t=new oS({rfc822Name:e[1]});break;case cX:{const r=RegExp(cV,"i").exec(e[1]);if(!r)throw Error("Cannot parse GUID value. Value doesn't match to regular expression");const i=r.slice(1).map((e,t)=>t<3?r1.ToHex(new Uint8Array(r1.FromHex(e)).reverse()):e).join("");t=new oS({otherName:new ow({typeId:cH,value:ou.serialize(new nP(r1.FromHex(i)))})});break}case cQ:t=new oS({iPAddress:e[1]});break;case c1:t=new oS({registeredID:e[1]});break;case c0:t=new oS({otherName:new ow({typeId:cG,value:ou.serialize(nq.toASN(e[1]))})});break;case cY:t=new oS({uniformResourceIdentifier:e[1]});break;default:throw Error("Cannot create GeneralName. Unsupported type of the name")}else t=rW.isBufferSource(e[0])?ou.parse(e[0],oS):e[0];super(t)}onInit(e){if(void 0!=e.dNSName)this.type=cW,this.value=e.dNSName;else if(void 0!=e.rfc822Name)this.type=cJ,this.value=e.rfc822Name;else if(void 0!=e.iPAddress)this.type=cQ,this.value=e.iPAddress;else if(void 0!=e.uniformResourceIdentifier)this.type=cY,this.value=e.uniformResourceIdentifier;else if(void 0!=e.registeredID)this.type=c1,this.value=e.registeredID;else if(void 0!=e.directoryName)this.type=cZ,this.value=new c$(e.directoryName).toString();else if(void 0!=e.otherName)if(e.otherName.typeId===cH){this.type=cX;let t=ou.parse(e.otherName.value,nP),r=RegExp(cV,"i").exec(r1.ToHex(t));if(!r)throw Error(cq);this.value=r.slice(1).map((e,t)=>t<3?r1.ToHex(new Uint8Array(r1.FromHex(e)).reverse()):e).join("-")}else if(e.otherName.typeId===cG)this.type=c0,this.value=ou.parse(e.otherName.value,oh).toString();else throw Error(cF);else throw Error(cF)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case cZ:case cW:case cX:case cQ:case c1:case c0:case cY:e=this.type.toUpperCase();break;case cJ:e="Email";break;default:throw Error("Unsupported GeneralName type")}let t=this.value;return this.type===c1&&(t=cC.toString(t)),new cx(e,void 0,t)}}class c4 extends cN{constructor(e){let t;if(e instanceof o$)t=e;else if(Array.isArray(e)){const r=[];for(const t of e)if(t instanceof oS)r.push(t);else{const e=ou.parse(new c2(t.type,t.value).rawData,oS);r.push(e)}t=new o$(r)}else if(rW.isBufferSource(e))t=ou.parse(e,o$);else throw Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(t)}onInit(e){let t=[];for(let r of e){let e=null;try{e=new c2(r)}catch{continue}t.push(e)}this.items=t}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){let e=super.toTextObjectEmpty();for(let t of this.items){let r=t.toTextObject(),i=e[r[cx.NAME]];Array.isArray(i)||(i=[],e[r[cx.NAME]]=i),i.push(r)}return e}}c4.NAME="GeneralNames";let c3="-{5}",c5="\\n",c6=`[^${c5}]+`,c8=`${c3}BEGIN (${c6}(?=${c3}))${c3}`,c9=`${c3}END \\1${c3}`,c7="\\n",de=`[^:${c5}]+`,dt=`(?:[^${c5}]+${c7}(?: +[^${c5}]+${c7})*)`,dr="[a-zA-Z0-9=+/]+",di=`(?:${dr}${c7})+`,dn=`${c8}${c7}(?:((?:${de}: ${dt})+))?${c7}?(${di})${c9}`;class da{static isPem(e){return"string"==typeof e&&RegExp(dn,"g").test(e.replace(/\r/g,""))}static decodeWithHeaders(e){e=e.replace(/\r/g,"");let t=RegExp(dn,"g"),r=[],i=null;for(;i=t.exec(e);){let e=i[3].replace(RegExp(`[${c5}]+`,"g"),""),t={type:i[1],headers:[],rawData:r1.FromBase64(e)},n=i[2];if(n){let e=n.split(RegExp(c7,"g")),r=null;for(let i of e){let[e,n]=i.split(/:(.*)/);if(void 0===n){if(!r)throw Error("Cannot parse PEM string. Incorrect header value");r.value+=e.trim()}else r&&t.headers.push(r),r={key:e,value:n.trim()}}r&&t.headers.push(r)}r.push(t)}return r}static decode(e){return this.decodeWithHeaders(e).map(e=>e.rawData)}static decodeFirst(e){let t=this.decode(e);if(!t.length)throw RangeError("PEM string doesn't contain any objects");return t[0]}static encode(e,t){if(Array.isArray(e)){let r=[];return t?e.forEach(e=>{if(!rW.isBufferSource(e))throw TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");r.push(this.encodeStruct({type:t,rawData:rW.toArrayBuffer(e)}))}):e.forEach(e=>{if(!("type"in e))throw TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");r.push(this.encodeStruct(e))}),r.join("\n")}if(!t)throw Error("Required argument 'tag' is missed");return this.encodeStruct({type:t,rawData:rW.toArrayBuffer(e)})}static encodeStruct(e){var t;let r,i=e.type.toLocaleUpperCase(),n=[];if(n.push(`-----BEGIN ${i}-----`),null==(t=e.headers)?void 0:t.length){for(let t of e.headers)n.push(`${t.key}: ${t.value}`);n.push("")}let o=r1.ToBase64(e.rawData),a=0,s=[];for(;a<o.length;)if(o.length-a<64?r=o.substring(a):(r=o.substring(a,a+64),a+=64),0!==r.length){if(s.push(r),r.length<64)break}else break;return n.push(...s),n.push(`-----END ${i}-----`),n.join("\n")}}da.CertificateTag="CERTIFICATE",da.CrlTag="CRL",da.CertificateRequestTag="CERTIFICATE REQUEST",da.PublicKeyTag="PUBLIC KEY",da.PrivateKeyTag="PRIVATE KEY";class ds extends cN{static isAsnEncoded(e){return rW.isBufferSource(e)||"string"==typeof e}static toArrayBuffer(e){if("string"==typeof e)if(da.isPem(e))return da.decode(e)[0];else if(r1.isHex(e))return r1.FromHex(e);else if(r1.isBase64(e))return r1.FromBase64(e);else if(r1.isBase64Url(e))return r1.FromBase64Url(e);else throw TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url");{let t=rW.toUint8Array(e);if(t.length>0&&48===t[0])return rW.toArrayBuffer(e);let r=r1.ToBinary(e);if(da.isPem(r))return da.decode(r)[0];if(r1.isHex(r))return r1.FromHex(r);if(r1.isBase64(r))return r1.FromBase64(r);else if(r1.isBase64Url(r))return r1.FromBase64Url(r);throw TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}}constructor(...e){ds.isAsnEncoded(e[0])?super(ds.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){return"pem"===e?da.encode(this.rawData,this.tag):super.toString(e)}}class dl extends ds{static async create(e,t=cD.get()){if(e instanceof dl)return e;if(cP.isCryptoKey(e)){if("public"!==e.type)throw TypeError("Public key is required");return new dl(await t.subtle.exportKey("spki",e))}if(e.publicKey)return e.publicKey;if(rW.isBufferSource(e))return new dl(e);throw TypeError("Unsupported PublicKeyType")}constructor(e){ds.isAsnEncoded(e)?super(e,ak):super(e),this.tag=da.PublicKeyTag}async export(...e){let t,r=["verify"],i={hash:"SHA-256",...this.algorithm};e.length>1?(i=e[0]||i,r=e[1]||r,t=e[2]||cD.get()):t=e[0]||cD.get();let n=this.rawData,o=ou.parse(this.rawData,ak);return o.algorithm.algorithm===ll&&(n=du(o,n)),t.subtle.importKey("spki",n,i,!0,r)}onInit(e){let t=uo.resolve(u4),r=this.algorithm=t.toWebAlgorithm(e.algorithm);if(e.algorithm.algorithm===lo){let t=ou.parse(e.subjectPublicKey,lK),i=rW.toUint8Array(t.modulus);r.publicExponent=rW.toUint8Array(t.publicExponent),r.modulusLength=(!i[0]?i.slice(1):i).byteLength<<3}}async getThumbprint(...e){var t;let r,i="SHA-1";return!(e.length>=1)||(null==(t=e[0])?void 0:t.subtle)?r=e[0]||cD.get():(i=e[0]||i,r=e[1]||cD.get()),await r.subtle.digest(i,this.rawData)}async getKeyIdentifier(...e){let t,r="SHA-1";1===e.length?"string"==typeof e[0]?(r=e[0],t=cD.get()):t=e[0]:2===e.length?(r=e[0],t=e[1]):t=cD.get();let i=ou.parse(this.rawData,ak);return await t.subtle.digest(r,i.subjectPublicKey)}toTextObject(){let e=this.toTextObjectEmpty(),t=ou.parse(this.rawData,ak);return e.Algorithm=ck.serializeAlgorithm(t.algorithm),t.algorithm.algorithm===sG?e["EC Point"]=t.subjectPublicKey:e["Raw Data"]=t.subjectPublicKey,e}}function du(e,t){return e.algorithm=new aC({algorithm:lo,parameters:null}),t=ou.serialize(e)}class dc extends cR{static async create(e,t=!1,r=cD.get()){if("name"in e&&"serialNumber"in e)return new dc(e,t);let i=await dl.create(e,r),n=await i.getKeyIdentifier(r);return new dc(r1.ToHex(n),t)}constructor(...e){if(rW.isBufferSource(e[0]))super(e[0]);else if("string"==typeof e[0])super(oL,e[1],ou.serialize(new oM({keyIdentifier:new oK(r1.FromHex(e[0]))})));else{const t=e[0];super(oL,e[1],ou.serialize(new oM({authorityCertIssuer:t.name instanceof c4?ou.parse(t.name.rawData,o$):t.name,authorityCertSerialNumber:r1.FromHex(t.serialNumber)})))}}onInit(e){super.onInit(e);let t=ou.parse(e.extnValue,oM);t.keyIdentifier&&(this.keyId=r1.ToHex(t.keyIdentifier)),(t.authorityCertIssuer||t.authorityCertSerialNumber)&&(this.certId={name:t.authorityCertIssuer||[],serialNumber:t.authorityCertSerialNumber?r1.ToHex(t.authorityCertSerialNumber):""})}toTextObject(){let e=this.toTextObjectWithoutValue(),t=ou.parse(this.value,oM);return t.authorityCertIssuer&&(e["Authority Issuer"]=new c4(t.authorityCertIssuer).toTextObject()),t.authorityCertSerialNumber&&(e["Authority Serial Number"]=t.authorityCertSerialNumber),t.keyIdentifier&&(e[""]=t.keyIdentifier),e}}dc.NAME="Authority Key Identifier";class dd extends cR{constructor(...e){if(rW.isBufferSource(e[0])){super(e[0]);const t=ou.parse(this.value,oj);this.ca=t.cA,this.pathLength=t.pathLenConstraint}else super(oB,e[2],ou.serialize(new oj({cA:e[0],pathLenConstraint:e[1]}))),this.ca=e[0],this.pathLength=e[1]}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),void 0!==this.pathLength&&(e["Path Length"]=this.pathLength),e}}dd.NAME="Basic Constraints",function(e){e.serverAuth="1.3.6.1.5.5.7.3.1",e.clientAuth="1.3.6.1.5.5.7.3.2",e.codeSigning="1.3.6.1.5.5.7.3.3",e.emailProtection="1.3.6.1.5.5.7.3.4",e.timeStamping="1.3.6.1.5.5.7.3.8",e.ocspSigning="1.3.6.1.5.5.7.3.9"}(eM||(eM={}));class dp extends cR{constructor(...e){if(rW.isBufferSource(e[0])){super(e[0]);const t=ou.parse(this.value,o7);this.usages=t.map(e=>e)}else super(o9,e[1],ou.serialize(new o7(e[0]))),this.usages=e[0]}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(e=>cC.toString(e)).join(", "),e}}dp.NAME="Extended Key Usages",function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(eB||(eB={}));class df extends cR{constructor(...e){if(rW.isBufferSource(e[0])){super(e[0]);const t=ou.parse(this.value,ap);this.usages=t.toNumber()}else super(ad,e[1],ou.serialize(new ap(e[0]))),this.usages=e[0]}toTextObject(){let e=this.toTextObjectWithoutValue(),t=ou.parse(this.value,ap);return e[""]=t.toJSON().join(", "),e}}df.NAME="Key Usages";class dh extends cR{static async create(e,t=!1,r=cD.get()){let i=await dl.create(e,r),n=await i.getKeyIdentifier(r);return new dh(r1.ToHex(n),t)}constructor(...e){if(rW.isBufferSource(e[0])){super(e[0]);const t=ou.parse(this.value,aE);this.keyId=r1.ToHex(t)}else{const t="string"==typeof e[0]?r1.FromHex(e[0]):e[0];super(aS,e[1],ou.serialize(new aE(t))),this.keyId=r1.ToHex(t)}}toTextObject(){let e=this.toTextObjectWithoutValue(),t=ou.parse(this.value,aE);return e[""]=t,e}}dh.NAME="Subject Key Identifier";class dm extends cR{constructor(...e){rW.isBufferSource(e[0])?super(e[0]):super(ab,e[1],new c4(e[0]||[]).rawData)}onInit(e){super.onInit(e);let t=ou.parse(e.extnValue,aA);this.names=new c4(t)}toTextObject(){let e=this.toTextObjectWithoutValue(),t=this.names.toTextObject();for(let r in t)e[r]=t[r];return e}}dm.NAME="Subject Alternative Name";class dg{static register(e,t){this.items.set(e,t)}static create(e){let t=new cR(e),r=this.items.get(t.type);return r?new r(e):t}}dg.items=new Map;class dy extends cR{constructor(...e){var t;if(rW.isBufferSource(e[0])){super(e[0]);const t=ou.parse(this.value,oJ);this.policies=t.map(e=>e.policyIdentifier)}else{const r=e[0];super(oF,null!=(t=e[1])&&t,ou.serialize(new oJ(r.map(e=>new oZ({policyIdentifier:e}))))),this.policies=r}}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(e=>new cx("",{},cC.toString(e))),e}}dy.NAME="Certificate Policies",dg.register(oF,dy);class dv extends cR{constructor(...e){var t;rW.isBufferSource(e[0])?super(e[0]):Array.isArray(e[0])&&"string"==typeof e[0][0]?super(oX,e[1],ou.serialize(new o4(e[0].map(e=>new o2({distributionPoint:new o1({fullName:[new oS({uniformResourceIdentifier:e})]})}))))):super(oX,e[1],ou.serialize(new o4(e[0]))),null!=(t=this.distributionPoints)||(this.distributionPoints=[])}onInit(e){super.onInit(e);let t=ou.parse(e.extnValue,o4);this.distributionPoints=t}toTextObject(){let e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(e=>{var t;let r={};return e.distributionPoint&&(r[""]=null==(t=e.distributionPoint.fullName)?void 0:t.map(e=>new c2(e).toString()).join(", ")),e.reasons&&(r.Reasons=e.reasons.toString()),e.cRLIssuer&&(r["CRL Issuer"]=e.cRLIssuer.map(e=>e.toString()).join(", ")),r}),e}}dv.NAME="CRL Distribution Points";class db extends cR{constructor(...e){var t,r,i,n;if(rW.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof oU)super(oP,e[1],ou.serialize(new oU(e[0])));else{const t=e[0],r=new oU;dw(r,t,oO,"ocsp"),dw(r,t,oC,"caIssuers"),dw(r,t,ok,"timeStamping"),dw(r,t,oN,"caRepository"),super(oP,e[1],ou.serialize(r))}null!=(t=this.ocsp)||(this.ocsp=[]),null!=(r=this.caIssuers)||(this.caIssuers=[]),null!=(i=this.timeStamping)||(this.timeStamping=[]),null!=(n=this.caRepository)||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],ou.parse(e.extnValue,oU).forEach(e=>{switch(e.accessMethod){case oO:this.ocsp.push(new c2(e.accessLocation));break;case oC:this.caIssuers.push(new c2(e.accessLocation));break;case ok:this.timeStamping.push(new c2(e.accessLocation));break;case oN:this.caRepository.push(new c2(e.accessLocation))}})}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ocsp.length&&dA(e,"OCSP",this.ocsp),this.caIssuers.length&&dA(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&dA(e,"Time Stamping",this.timeStamping),this.caRepository.length&&dA(e,"CA Repository",this.caRepository),e}}function dA(e,t,r){if(1===r.length)e[t]=r[0].toTextObject();else{let i=new cx("");r.forEach((e,t)=>{let r=e.toTextObject(),n=`${r[cx.NAME]} ${t+1}`,o=i[n];Array.isArray(o)||(o=[],i[n]=o),o.push(r)}),e[t]=i}}function dw(e,t,r,i){let n=t[i];n&&(Array.isArray(n)?n:[n]).forEach(t=>{"string"==typeof t&&(t=new c2("url",t)),e.push(new oD({accessMethod:r,accessLocation:ou.parse(t.rawData,oS)}))})}db.NAME="Authority Info Access";class d_ extends cR{constructor(...e){rW.isBufferSource(e[0])?super(e[0]):super(au,e[1],new c4(e[0]||[]).rawData)}onInit(e){super.onInit(e);let t=ou.parse(e.extnValue,o$);this.names=new c4(t)}toTextObject(){let e=this.toTextObjectWithoutValue(),t=this.names.toTextObject();for(let r in t)e[r]=t[r];return e}}d_.NAME="Issuer Alternative Name";class dS extends cN{constructor(...e){let t;if(rW.isBufferSource(e[0]))t=rW.toArrayBuffer(e[0]);else{const r=e[0],i=Array.isArray(e[1])?e[1].map(e=>rW.toArrayBuffer(e)):[];t=ou.serialize(new aw({type:r,values:i}))}super(t,aw)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Value=this.values.map(e=>new cx("",{"":e})),e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty();return e[cx.NAME]===dS.NAME&&(e[cx.NAME]=cC.toString(this.type)),e}}dS.NAME="Attribute";class dE extends dS{constructor(...e){var t;rW.isBufferSource(e[0])?super(e[0]):super(ux,[ou.serialize(new uH({printableString:e[0]}))]),null!=(t=this.password)||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){let e=ou.parse(this.values[0],uH);this.password=e.toString()}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[cx.VALUE]=this.password,e}}dE.NAME="Challenge Password";class dT extends dS{constructor(...e){var t;if(rW.isBufferSource(e[0]))super(e[0]);else{const t=e[0],r=new aD;for(const e of t)r.push(ou.parse(e.rawData,aP));super(uO,[ou.serialize(r)])}null!=(t=this.items)||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){let e=ou.parse(this.values[0],aD);this.items=e.map(e=>dg.create(ou.serialize(e)))}}toTextObject(){let e=this.toTextObjectWithoutValue();for(let t of this.items.map(e=>e.toTextObject()))e[t[cx.NAME]]=t;return e}}dT.NAME="Extensions";class dI{static register(e,t){this.items.set(e,t)}static create(e){let t=new dS(e),r=this.items.get(t.type);return r?new r(e):t}}dI.items=new Map;let dx="crypto.signatureFormatter";class dO{toAsnSignature(e,t){return rW.toArrayBuffer(t)}toWebSignature(e,t){return rW.toArrayBuffer(t)}}let dC=ej=class{static createPssParams(e,t){let r=ej.getHashAlgorithm(e);return r?new lR({hashAlgorithm:r,maskGenAlgorithm:new aC({algorithm:lI,parameters:ou.serialize(r)}),saltLength:t}):null}static getHashAlgorithm(e){let t=uo.resolve(u4);return"string"==typeof e?t.toAsnAlgorithm({name:e}):"object"==typeof e&&e&&"name"in e?t.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if(!("hash"in e))return new aC({algorithm:lo,parameters:null});{let t;if("string"==typeof e.hash)t=e.hash;else if(e.hash&&"object"==typeof e.hash&&"name"in e.hash&&"string"==typeof e.hash.name)t=e.hash.name.toUpperCase();else throw Error("Cannot get hash algorithm name");switch(t.toLowerCase()){case"sha-1":return new aC({algorithm:ld,parameters:null});case"sha-256":return new aC({algorithm:lf,parameters:null});case"sha-384":return new aC({algorithm:lh,parameters:null});case"sha-512":return new aC({algorithm:lm,parameters:null})}}break;case"rsa-pss":if(!("hash"in e))return new aC({algorithm:ll,parameters:null});{if(!("saltLength"in e&&"number"==typeof e.saltLength))throw Error("Cannot get 'saltLength' from 'alg' argument");let t=ej.createPssParams(e.hash,e.saltLength);if(!t)throw Error("Cannot create PSS parameters");return new aC({algorithm:ll,parameters:ou.serialize(t)})}}return null}toWebAlgorithm(e){switch(e.algorithm){case lo:return{name:"RSASSA-PKCS1-v1_5"};case ld:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case lf:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case lh:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case lm:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case ll:if(!e.parameters)return{name:"RSA-PSS"};{let t=ou.parse(e.parameters,lR);return{name:"RSA-PSS",hash:uo.resolve(u4).toWebAlgorithm(t.hashAlgorithm),saltLength:t.saltLength}}}return null}};dC=ej=oc([ua()],dC),uo.registerSingleton(u1,dC);let dk=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new aC({algorithm:lv});case"sha-256":return new aC({algorithm:lA});case"sha-384":return new aC({algorithm:lw});case"sha-512":return new aC({algorithm:l_})}return null}toWebAlgorithm(e){switch(e.algorithm){case lv:return{name:"SHA-1"};case lA:return{name:"SHA-256"};case lw:return{name:"SHA-384"};case l_:return{name:"SHA-512"}}return null}};dk=oc([ua()],dk),uo.registerSingleton(u1,dk);class dN{addPadding(e,t){let r=rW.toUint8Array(t),i=new Uint8Array(e);return i.set(r,e-r.length),i.buffer}removePadding(e,t=!1){let r=rW.toUint8Array(e);for(let e=0;e<r.length;e++)if(r[e]){r=r.slice(e);break}if(t&&r[0]>127){let e=new Uint8Array(r.length+1);return e.set(r,1),e.buffer}return r.buffer}toAsnSignature(e,t){if("ECDSA"===e.name){let r=e.namedCurve,i=dN.namedCurveSize.get(r)||dN.defaultNamedCurveSize,n=new li,o=rW.toUint8Array(t);return n.r=this.removePadding(o.slice(0,i),!0),n.s=this.removePadding(o.slice(i,i+i),!0),ou.serialize(n)}return null}toWebSignature(e,t){if("ECDSA"===e.name){let r=ou.parse(t,li),i=e.namedCurve,n=dN.namedCurveSize.get(i)||dN.defaultNamedCurveSize;return r2(this.addPadding(n,this.removePadding(r.r)),this.addPadding(n,this.removePadding(r.s)))}return null}}dN.namedCurveSize=new Map,dN.defaultNamedCurveSize=32;let dR="1.3.101.110",dP="1.3.101.111",dD="1.3.101.112",dU="1.3.101.113",dL=class{toAsnAlgorithm(e){let t=null;switch(e.name.toLowerCase()){case"ed25519":t=dD;break;case"x25519":t=dR;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":t=dD;break;case"ed448":t=dU}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":t=dR;break;case"x448":t=dP}}return t?new aC({algorithm:t}):null}toWebAlgorithm(e){switch(e.algorithm){case dD:return{name:"Ed25519"};case dU:return{name:"EdDSA",namedCurve:"Ed448"};case dR:return{name:"X25519"};case dP:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};dL=oc([ua()],dL),uo.registerSingleton(u1,dL);class dK extends ds{get subjectName(){return od(this,ez,"f")||op(this,ez,new c$(this.asn.certificationRequestInfo.subject),"f"),od(this,ez,"f")}get subject(){return od(this,eF,"f")||op(this,eF,this.subjectName.toString(),"f"),od(this,eF,"f")}get signatureAlgorithm(){if(!od(this,eq,"f")){let e=uo.resolve(u4);op(this,eq,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return od(this,eq,"f")}get signature(){return od(this,eV,"f")||op(this,eV,this.asn.signature,"f"),od(this,eV,"f")}get publicKey(){return od(this,eH,"f")||op(this,eH,new dl(this.asn.certificationRequestInfo.subjectPKInfo),"f"),od(this,eH,"f")}get attributes(){return od(this,eG,"f")||op(this,eG,this.asn.certificationRequestInfo.attributes.map(e=>dI.create(ou.serialize(e))),"f"),od(this,eG,"f")}get extensions(){if(!od(this,eW,"f")){op(this,eW,[],"f");let e=this.getAttribute(uO);e instanceof dT&&op(this,eW,e.items,"f")}return od(this,eW,"f")}get tbs(){return od(this,e$,"f")||op(this,e$,this.asn.certificationRequestInfoRaw||ou.serialize(this.asn.certificationRequestInfo),"f"),od(this,e$,"f")}constructor(e){const t=ds.isAsnEncoded(e)?[e,u0]:[e];super(t[0],t[1]),e$.set(this,void 0),ez.set(this,void 0),eF.set(this,void 0),eq.set(this,void 0),eV.set(this,void 0),eH.set(this,void 0),eG.set(this,void 0),eW.set(this,void 0),this.tag=da.CertificateRequestTag}onInit(e){}getAttribute(e){for(let t of this.attributes)if(t.type===e)return t;return null}getAttributes(e){return this.attributes.filter(t=>t.type===e)}getExtension(e){for(let t of this.extensions)if(t.type===e)return t;return null}getExtensions(e){return this.extensions.filter(t=>t.type===e)}async verify(e=cD.get()){let t={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(t,["verify"],e),i=uo.resolveAll(dx).reverse(),n=null;for(let e of i)if(n=e.toWebSignature(t,this.signature))break;if(!n)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,r,n,this.tbs)}toTextObject(){let e=this.toTextObjectEmpty(),t=ou.parse(this.rawData,u0),r=t.certificationRequestInfo,i=new cx("",{Version:`${el[r.version]} (${r.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){let e=new cx("");for(let t of this.attributes){let r=t.toTextObject();e[r[cx.NAME]]=r}i.Attributes=e}return e.Data=i,e.Signature=new cx("",{Algorithm:ck.serializeAlgorithm(t.signatureAlgorithm),"":t.signature}),e}}e$=new WeakMap,ez=new WeakMap,eF=new WeakMap,eq=new WeakMap,eV=new WeakMap,eH=new WeakMap,eG=new WeakMap,eW=new WeakMap,dK.NAME="PKCS#10 Certificate Request";class dM extends ds{get publicKey(){return od(this,e6,"f")||op(this,e6,new dl(this.asn.tbsCertificate.subjectPublicKeyInfo),"f"),od(this,e6,"f")}get serialNumber(){if(!od(this,eJ,"f")){let e=new Uint8Array(this.asn.tbsCertificate.serialNumber);e.length>1&&0===e[0]&&e[1]>127&&(e=e.slice(1)),op(this,eJ,r1.ToHex(e),"f")}return od(this,eJ,"f")}get subjectName(){return od(this,eQ,"f")||op(this,eQ,new c$(this.asn.tbsCertificate.subject),"f"),od(this,eQ,"f")}get subject(){return od(this,eY,"f")||op(this,eY,this.subjectName.toString(),"f"),od(this,eY,"f")}get issuerName(){return od(this,eX,"f")||op(this,eX,new c$(this.asn.tbsCertificate.issuer),"f"),od(this,eX,"f")}get issuer(){return od(this,e0,"f")||op(this,e0,this.issuerName.toString(),"f"),od(this,e0,"f")}get notBefore(){if(!od(this,e1,"f")){let e=this.asn.tbsCertificate.validity.notBefore.utcTime||this.asn.tbsCertificate.validity.notBefore.generalTime;if(!e)throw Error("Cannot get 'notBefore' value");op(this,e1,e,"f")}return od(this,e1,"f")}get notAfter(){if(!od(this,e2,"f")){let e=this.asn.tbsCertificate.validity.notAfter.utcTime||this.asn.tbsCertificate.validity.notAfter.generalTime;if(!e)throw Error("Cannot get 'notAfter' value");op(this,e2,e,"f")}return od(this,e2,"f")}get signatureAlgorithm(){if(!od(this,e4,"f")){let e=uo.resolve(u4);op(this,e4,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return od(this,e4,"f")}get signature(){return od(this,e3,"f")||op(this,e3,this.asn.signatureValue,"f"),od(this,e3,"f")}get extensions(){return!od(this,e5,"f")&&(op(this,e5,[],"f"),this.asn.tbsCertificate.extensions&&op(this,e5,this.asn.tbsCertificate.extensions.map(e=>dg.create(ou.serialize(e))),"f")),od(this,e5,"f")}get tbs(){return od(this,eZ,"f")||op(this,eZ,this.asn.tbsCertificateRaw||ou.serialize(this.asn.tbsCertificate),"f"),od(this,eZ,"f")}constructor(e){const t=ds.isAsnEncoded(e)?[e,aL]:[e];super(t[0],t[1]),eZ.set(this,void 0),eJ.set(this,void 0),eQ.set(this,void 0),eY.set(this,void 0),eX.set(this,void 0),e0.set(this,void 0),e1.set(this,void 0),e2.set(this,void 0),e4.set(this,void 0),e3.set(this,void 0),e5.set(this,void 0),e6.set(this,void 0),this.tag=da.CertificateTag}onInit(e){}getExtension(e){for(let t of this.extensions)if("string"==typeof e){if(t.type===e)return t}else if(t instanceof e)return t;return null}getExtensions(e){return this.extensions.filter(t=>"string"==typeof e?t.type===e:t instanceof e)}async verify(e={},t=cD.get()){let r,i,n=e.publicKey;try{if(n)if("publicKey"in n)r={...n.publicKey.algorithm,...this.signatureAlgorithm},i=await n.publicKey.export(r,["verify"],t);else if(n instanceof dl)r={...n.algorithm,...this.signatureAlgorithm},i=await n.export(r,["verify"],t);else if(rW.isBufferSource(n)){let e=new dl(n);r={...e.algorithm,...this.signatureAlgorithm},i=await e.export(r,["verify"],t)}else r={...n.algorithm,...this.signatureAlgorithm},i=n;else r={...this.publicKey.algorithm,...this.signatureAlgorithm},i=await this.publicKey.export(r,["verify"],t)}catch(e){return!1}let o=uo.resolveAll(dx).reverse(),a=null;for(let e of o)if(a=e.toWebSignature(r,this.signature))break;if(!a)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");let s=await t.subtle.verify(this.signatureAlgorithm,i,a,this.tbs);if(e.signatureOnly)return s;{let t=(e.date||new Date).getTime();return s&&this.notBefore.getTime()<t&&t<this.notAfter.getTime()}}async getThumbprint(...e){let t,r="SHA-1";return e[0]&&(e[0].subtle?t=e[0]:(r=e[0]||r,t=e[1])),null!=t||(t=cD.get()),await t.subtle.digest(r,this.rawData)}async isSelfSigned(e=cD.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){let e=this.toTextObjectEmpty(),t=ou.parse(this.rawData,aL),r=t.tbsCertificate,i=new cx("",{Version:`${el[r.version]} (${r.version})`,"Serial Number":r.serialNumber,"Signature Algorithm":ck.serializeAlgorithm(r.signature),Issuer:this.issuer,Validity:new cx("",{"Not Before":r.validity.notBefore.getTime(),"Not After":r.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(r.issuerUniqueID&&(i["Issuer Unique ID"]=r.issuerUniqueID),r.subjectUniqueID&&(i["Subject Unique ID"]=r.subjectUniqueID),this.extensions.length){let e=new cx("");for(let t of this.extensions){let r=t.toTextObject();e[r[cx.NAME]]=r}i.Extensions=e}return e.Data=i,e.Signature=new cx("",{Algorithm:ck.serializeAlgorithm(t.signatureAlgorithm),"":t.signatureValue}),e}}function dB(e,t=cD.get()){let r=rW.toUint8Array(r1.FromHex(e||"")),i=r&&r.length&&r.some(e=>e>0)?new Uint8Array(r):void 0;i||(i=t.getRandomValues(new Uint8Array(16)));let n=0;for(;n<i.length-1&&0===i[n];)n++;if((i=i.slice(n))[0]>127){let e=new Uint8Array(i.length+1);e[0]=0,e.set(i,1),i=e}return i.buffer}eZ=new WeakMap,eJ=new WeakMap,eQ=new WeakMap,eY=new WeakMap,eX=new WeakMap,e0=new WeakMap,e1=new WeakMap,e2=new WeakMap,e4=new WeakMap,e3=new WeakMap,e5=new WeakMap,e6=new WeakMap,dM.NAME="Certificate",function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(tr||(tr={}));class dj extends cN{get serialNumber(){return od(this,e8,"f")||op(this,e8,r1.ToHex(this.asn.userCertificate),"f"),od(this,e8,"f")}get revocationDate(){return od(this,e9,"f")||op(this,e9,this.asn.revocationDate.getTime(),"f"),od(this,e9,"f")}get reason(){return void 0===od(this,e7,"f")&&this.extensions,od(this,e7,"f")}get invalidity(){return void 0===od(this,te,"f")&&this.extensions,od(this,te,"f")}get extensions(){return!od(this,tt,"f")&&(op(this,tt,[],"f"),this.asn.crlEntryExtensions&&op(this,tt,this.asn.crlEntryExtensions.map(e=>{let t=dg.create(ou.serialize(e));switch(t.type){case o6:void 0===od(this,e7,"f")&&op(this,e7,ou.parse(t.value,o8).reason,"f");break;case as:void 0===od(this,te,"f")&&op(this,te,ou.parse(t.value,al).value,"f")}return t}),"f")),od(this,tt,"f")}constructor(...e){let t;if(rW.isBufferSource(e[0])?t=rW.toArrayBuffer(e[0]):"string"==typeof e[0]?t=ou.serialize(new aK({userCertificate:dB(e[0]),revocationDate:new aN(e[1]),crlEntryExtensions:e[2]})):e[0]instanceof aK&&(t=e[0]),!t)throw TypeError("Cannot create X509CrlEntry instance. Wrong constructor arguments.");super(t,aK),e8.set(this,void 0),e9.set(this,void 0),e7.set(this,void 0),te.set(this,void 0),tt.set(this,void 0)}onInit(e){}}e8=new WeakMap,e9=new WeakMap,e7=new WeakMap,te=new WeakMap,tt=new WeakMap;class d$ extends ds{get version(){return this.asn.tbsCertList.version}get signatureAlgorithm(){if(!od(this,tn,"f")){let e=uo.resolve(u4);op(this,tn,e.toWebAlgorithm(this.asn.signatureAlgorithm),"f")}return od(this,tn,"f")}get signature(){return this.asn.signature}get issuer(){return this.issuerName.toString()}get issuerName(){return od(this,to,"f")||op(this,to,new c$(this.asn.tbsCertList.issuer),"f"),od(this,to,"f")}get thisUpdate(){if(!od(this,ta,"f")){let e=this.asn.tbsCertList.thisUpdate.getTime();if(!e)throw Error("Cannot get 'thisUpdate' value");op(this,ta,e,"f")}return od(this,ta,"f")}get nextUpdate(){var e;return void 0===od(this,ts,"f")&&op(this,ts,(null==(e=this.asn.tbsCertList.nextUpdate)?void 0:e.getTime())||void 0,"f"),od(this,ts,"f")}get entries(){var e;return od(this,tl,"f")||op(this,tl,(null==(e=this.asn.tbsCertList.revokedCertificates)?void 0:e.map(e=>new dj(e)))||[],"f"),od(this,tl,"f")}get extensions(){return!od(this,tu,"f")&&(op(this,tu,[],"f"),this.asn.tbsCertList.crlExtensions&&op(this,tu,this.asn.tbsCertList.crlExtensions.map(e=>dg.create(ou.serialize(e))),"f")),od(this,tu,"f")}get tbs(){return od(this,ti,"f")||op(this,ti,this.asn.tbsCertListRaw||ou.serialize(this.asn.tbsCertList),"f"),od(this,ti,"f")}get tbsCertListSignatureAlgorithm(){return this.asn.tbsCertList.signature}get certListSignatureAlgorithm(){return this.asn.signatureAlgorithm}constructor(e){super(e,ds.isAsnEncoded(e)?aB:void 0),this.tag=da.CrlTag,ti.set(this,void 0),tn.set(this,void 0),to.set(this,void 0),ta.set(this,void 0),ts.set(this,void 0),tl.set(this,void 0),tu.set(this,void 0)}onInit(e){}getExtension(e){for(let t of this.extensions)if("string"==typeof e){if(t.type===e)return t}else if(t instanceof e)return t;return null}getExtensions(e){return this.extensions.filter(t=>"string"==typeof e?t.type===e:t instanceof e)}async verify(e,t=cD.get()){let r,i;if(!this.certListSignatureAlgorithm.isEqual(this.tbsCertListSignatureAlgorithm))throw Error("algorithm identifier in the sequence tbsCertList and CertificateList mismatch");let n=e.publicKey;try{n instanceof dM?(r={...n.publicKey.algorithm,...n.signatureAlgorithm},i=await n.publicKey.export(r,["verify"])):n instanceof dl?(r={...n.algorithm,...this.signatureAlgorithm},i=await n.export(r,["verify"])):(r={...n.algorithm,...this.signatureAlgorithm},i=n)}catch(e){return!1}let o=uo.resolveAll(dx).reverse(),a=null;for(let e of o)if(a=e.toWebSignature(r,this.signature))break;if(!a)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");return await t.subtle.verify(this.signatureAlgorithm,i,a,this.tbs)}async getThumbprint(...e){let t,r="SHA-1";return e[0]&&(e[0].subtle?t=e[0]:(r=e[0]||r,t=e[1])),null!=t||(t=cD.get()),await t.subtle.digest(r,this.rawData)}findRevoked(e){let t=dB("string"==typeof e?e:e.serialNumber);for(let e of this.asn.tbsCertList.revokedCertificates||[])if(rW.isEqual(e.userCertificate,t))return new dj(ou.serialize(e));return null}}function dz(e){return dF.stubThis(e)}ti=new WeakMap,tn=new WeakMap,to=new WeakMap,ta=new WeakMap,ts=new WeakMap,tl=new WeakMap,tu=new WeakMap,dg.register(oB,dd),dg.register(o9,dp),dg.register(ad,df),dg.register(aS,dh),dg.register(oL,dc),dg.register(ab,dm),dg.register(oX,dv),dg.register(oP,db),dg.register(au,d_),dI.register(ux,dE),dI.register(uO,dT),uo.registerSingleton(dx,dO),uo.registerSingleton(dx,dN),dN.namedCurveSize.set("P-256",32),dN.namedCurveSize.set("K-256",32),dN.namedCurveSize.set("P-384",48),dN.namedCurveSize.set("P-521",66);let dF={stubThis:e=>globalThis.fetch(e)},dq={};async function dV(e){let t,r,i,n,o,a,{extensions:s}=e;if(!s)return!1;if(s.forEach(e=>{e instanceof dc?t=e:e instanceof dh?r=e:e instanceof dv&&(i=e)}),t&&t.keyId?a=t.keyId:r&&(a=r.keyId),a){let t=dq[a];if(t){let r=new Date;if(!t.nextUpdate||t.nextUpdate>r)return t.revokedCerts.indexOf(e.serialNumber)>=0}}let l=i?.distributionPoints?.[0].distributionPoint?.fullName?.[0].uniformResourceIdentifier;if(!l)return!1;try{let e=await dz(l);n=await e.arrayBuffer()}catch(e){return!1}try{o=new d$(n)}catch(e){return!1}let u={revokedCerts:[],nextUpdate:void 0};o.nextUpdate&&(u.nextUpdate=o.nextUpdate);let c=o.entries;if(c){for(let e of c){let t=e.serialNumber;u.revokedCerts.push(t)}return a&&(dq[a]=u),u.revokedCerts.indexOf(e.serialNumber)>=0}return!1}var rL=rL;function dH(e){let t;try{t=rL.decodeFirst(e)}catch(t){let e=t;throw Error(`Error decoding authenticator extensions: ${e.message}`)}return dG(t)}function dG(e){let t={};for(let[r,i]of e)i instanceof Map?t[r]=dG(i):t[r]=i;return t}var rL=rL,rP=rP;function dW(e){let t,r,i,n,o;if(e.byteLength<37)throw Error(`Authenticator data was ${e.byteLength} bytes, expected at least 37 bytes`);let a=0,s=rP.toDataView(e),l=e.slice(a,a+=32),u=e.slice(a,a+=1),c=u[0],d={up:!!(1&c),uv:!!(4&c),be:!!(8&c),bs:!!(16&c),at:!!(64&c),ed:!!(128&c),flagsInt:c},p=e.slice(a,a+4),f=s.getUint32(a,!1);if(a+=4,d.at){t=e.slice(a,a+=16);let n=s.getUint16(a);a+=2,r=e.slice(a,a+=n);let o=rP.fromHex("a301634f4b500327206745643235353139"),l=e.slice(a,a+o.byteLength),u=!1;rP.areEqual(o,l)&&(u=!0,e[a]=164);let c=rL.decodeFirst(e.slice(a)),d=Uint8Array.from(rL.encode(c));u&&(e[a]=163),i=d,a+=d.byteLength}if(d.ed){let t=rL.decodeFirst(e.slice(a));n=dH(o=Uint8Array.from(rL.encode(t))),a+=o.byteLength}if(e.byteLength>a)throw Error("Leftover bytes detected while parsing authenticator data");return dZ.stubThis({rpIdHash:l,flagsBuf:u,flags:d,counter:f,counterBuf:p,aaguid:t,credentialID:r,credentialPublicKey:i,extensionsData:n,extensionsDataBuffer:o})}let dZ={stubThis:e=>e};var rq=rq,rP=rP;function dJ(e,t=-7){return"string"==typeof e&&(e=rP.fromUTF8String(e)),rq.digest(e,t)}async function dQ(e,t=[]){if(0===t.length)return!0;let r=await rm(),i=e.map(e=>new dM(e));for(let t=0;t<i.length;t++){let r=i[t],n=e[t];try{await dY(r)}catch(e){throw Error(`Found revoked certificate in x5c:
${n}`)}try{dX(r.notBefore,r.notAfter)}catch(e){throw Error(`Found certificate out of validity period in x5c:
${n}`)}}let n=t.map(e=>{try{return new dM(e)}catch(t){throw Error(`Could not parse trust anchor certificate:
${e}`,{cause:t})}}),o=[];for(let e=0;e<n.length;e++){let t=n[e];try{await dY(t)}catch(e){continue}try{dX(t.notBefore,t.notAfter)}catch(e){continue}o.push(t)}if(0===o.length)throw Error("No specified trust anchor was valid for verifying x5c");let a=!1;for(let e of n)try{let t=i.concat([e]);if(new Set(t).size!==t.length)throw Error("Invalid certificate path: found duplicate certificates");for(let e=0;e<t.length-1;e++){let i=t[e],n=t[e+1];if(!await i.verify({publicKey:n.publicKey,signatureOnly:!0},r))throw new d0;if(n.subject===n.issuer){if(!await n.verify({publicKey:n.publicKey,signatureOnly:!0},r))throw new d0;break}}a=!1;break}catch(e){if(e instanceof d0)a=!0;else throw Error("Unexpected error while validating certificate path",{cause:e})}if(a)throw new d0;return!0}async function dY(e){if(await dV(e))throw Error("Found revoked certificate in certificate path")}function dX(e,t){let r=new Date(Date.now());if(e>r||t<r)throw Error("Certificate is not yet valid or expired")}class d0 extends Error{constructor(){super("Subject issuer did not match issuer subject"),this.name="InvalidSubjectAndIssuer"}}var rq=rq;function d1(e){let t;if("1.2.840.10045.4.3.2"===e)t=o.ES256;else if("1.2.840.10045.4.3.3"===e)t=o.ES384;else if("1.2.840.10045.4.3.4"===e)t=o.ES512;else if("1.2.840.113549.1.1.11"===e)t=o.RS256;else if("1.2.840.113549.1.1.12"===e)t=o.RS384;else if("1.2.840.113549.1.1.13"===e)t=o.RS512;else if("1.2.840.113549.1.1.5"===e)t=o.RS1;else throw Error(`Unable to map X.509 signature algorithm ${e} to a COSE algorithm`);return t}function d2(e){let t=new Map,{tbsCertificate:o}=oa.parse(e,aL),{subjectPublicKeyInfo:a,signature:s}=o,l=s.algorithm,u=a.algorithm.algorithm;if(u===sG){let e,o;if(!a.algorithm.parameters)throw Error("Certificate public key was missing parameters (EC2)");let s=oa.parse(new Uint8Array(a.algorithm.parameters),lt),u=-999,{namedCurve:c}=s;if(c===sX)u=n.P256;else if(c===s0)u=n.P384;else throw Error(`Certificate public key contained unexpected namedCurve ${c} (EC2)`);let d=new Uint8Array(a.subjectPublicKey);if(4===d[0]){let t=1,r=(d.length-1)/2;e=d.slice(t,t+=r),o=d.slice(t)}else throw Error('TODO: Figure out how to handle public keys in "compressed form"');let p=new Map;p.set(r.kty,i.EC2),p.set(r.alg,d1(l)),p.set(r.crv,u),p.set(r.x,e),p.set(r.y,o),t=p}else if(u===lo){let e=oa.parse(a.subjectPublicKey,lK),n=new Map;n.set(r.kty,i.RSA),n.set(r.alg,d1(l)),n.set(r.n,new Uint8Array(e.modulus)),n.set(r.e,new Uint8Array(e.publicExponent)),t=n}else throw Error(`Certificate public key contained unexpected algorithm ID ${u}`);return t}function d4(e){let{signature:t,data:r,credentialPublicKey:i,x509Certificate:n,hashAlgorithm:o}=e;if(!n&&!i)throw Error('Must declare either "leafCert" or "credentialPublicKey"');if(n&&i)throw Error('Must not declare both "leafCert" and "credentialPublicKey"');let a=new Map;return i?a=rz(i):n&&(a=d2(n)),d3.stubThis(rq.verify({cosePublicKey:a,signature:t,data:r,shaHashOverride:o}))}let d3={stubThis:e=>e};e.i(643130);var d5=rw;async function d6(e){let t,{cosePublicKey:i,signature:o,data:a}=e,s=await rm(),l=i.get(r.alg),u=i.get(r.crv),c=i.get(r.x);if(!l)throw Error("Public key was missing alg (OKP)");if(!rf(l))throw Error(`Public key had invalid alg ${l} (OKP)`);if(!u)throw Error("Public key was missing crv (OKP)");if(!c)throw Error("Public key was missing x (OKP)");if(u===n.ED25519)t="Ed25519";else throw Error(`Unexpected COSE crv value of ${u} (OKP)`);let d={kty:"OKP",crv:t,alg:"EdDSA",x:d5.fromBuffer(c),ext:!1},p={name:t,namedCurve:t},f=await rA({keyData:d,algorithm:p}),h={name:t};return s.subtle.verify(h,f,o,a)}var rP=rP;function d8(e,t){let r=oa.parse(e,li),i=new Uint8Array(r.r),n=new Uint8Array(r.s),o=d9(t),a=d7(i,o),s=d7(n,o);return rP.concat([a,s])}function d9(e){switch(e){case n.P256:return 32;case n.P384:return 48;case n.P521:return 66;default:throw Error(`Unexpected COSE crv value of ${e} (EC2)`)}}function d7(e,t){let r;if(e.length<t)(r=new Uint8Array(t)).set(e,t-e.length);else if(e.length===t)r=e;else if(e.length===t+1&&0===e[0]&&(128&e[1])==128)r=e.subarray(1);else throw Error(`Invalid signature component length ${e.length}, expected ${t}`);return r}function pe(e){let{cosePublicKey:t,signature:i,data:n,shaHashOverride:o}=e;if(ru(t)){let e=t.get(r.crv);if(!rp(e))throw Error(`unknown COSE curve ${e}`);return r_({cosePublicKey:t,signature:d8(i,e),data:n,shaHashOverride:o})}if(rc(t))return rE({cosePublicKey:t,signature:i,data:n,shaHashOverride:o});if(rl(t))return d6({cosePublicKey:t,signature:i,data:n});let a=t.get(r.kty);throw Error(`Signature verification with public key of kty ${a} is not supported by this method`)}var rq=rq;async function pt(){let e=new Uint8Array(32);return await rq.getRandomValues(e),pr.stubThis(e)}let pr={stubThis:e=>e};var rw=rw,rP=rP;let pi=[-8,-7,-36,-37,-38,-39,-257,-258,-259,-65535],pn={residentKey:"preferred",userVerification:"preferred"},po=[-8,-7,-257];async function pa(e){let{rpName:t,rpID:r,userName:i,userID:n,challenge:o=await pt(),userDisplayName:a="",timeout:s=6e4,attestationType:l="none",excludeCredentials:u=[],authenticatorSelection:c=pn,extensions:d,supportedAlgorithmIDs:p=po,preferredAuthenticatorType:f}=e,h=p.map(e=>({alg:e,type:"public-key"}));void 0===c.residentKey?c.requireResidentKey&&(c.residentKey="required"):c.requireResidentKey="required"===c.residentKey;let m=o;if("string"==typeof m&&(m=rP.fromUTF8String(m)),"string"==typeof n)throw Error("String values for `userID` are no longer supported. See https://simplewebauthn.dev/docs/advanced/server/custom-user-ids");let g=n;g||(g=await rV());let y=[];return f&&("securityKey"===f?(y.push("security-key"),c.authenticatorAttachment="cross-platform"):"localDevice"===f?(y.push("client-device"),c.authenticatorAttachment="platform"):"remoteDevice"===f&&(y.push("hybrid"),c.authenticatorAttachment="cross-platform")),{challenge:rw.fromBuffer(m),rp:{name:t,id:r},user:{id:rw.fromBuffer(g),name:i,displayName:a},pubKeyCredParams:h,timeout:s,attestation:l,excludeCredentials:u.map(e=>{if(!rw.isBase64URL(e.id))throw Error(`excludeCredential id "${e.id}" is not a valid base64url string`);return{...e,id:rw.trimPadding(e.id),type:"public-key"}}),authenticatorSelection:c,extensions:{...d,credProps:!0},hints:y}}function ps({be:e,bs:t}){let r=t,i="singleDevice";if(e&&(i="multiDevice"),"singleDevice"===i&&r)throw new pl("Single-device credential indicated that it was backed up, which should be impossible.");return{credentialDeviceType:i,credentialBackedUp:r}}class pl extends Error{constructor(e){super(e),this.name="InvalidBackupFlags"}}var rP=rP;async function pu(e,t){try{return await Promise.any(t.map(t=>new Promise((r,i)=>{dJ(rP.fromASCIIString(t)).then(n=>{rP.areEqual(e,n)?r(t):i()})})))}catch(e){if("AggregateError"===e.name)throw new pc;throw e}}class pc extends Error{constructor(){super("Unexpected RP ID hash"),this.name="UnexpectedRPIDHash"}}var rw=rw;let pd=`-----BEGIN CERTIFICATE-----
MIIDdTCCAl2gAwIBAgILBAAAAAABFUtaw5QwDQYJKoZIhvcNAQEFBQAwVzELMAkG
A1UEBhMCQkUxGTAXBgNVBAoTEEdsb2JhbFNpZ24gbnYtc2ExEDAOBgNVBAsTB1Jv
b3QgQ0ExGzAZBgNVBAMTEkdsb2JhbFNpZ24gUm9vdCBDQTAeFw05ODA5MDExMjAw
MDBaFw0yODAxMjgxMjAwMDBaMFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9i
YWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290IENBMRswGQYDVQQDExJHbG9iYWxT
aWduIFJvb3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDaDuaZ
jc6j40+Kfvvxi4Mla+pIH/EqsLmVEQS98GPR4mdmzxzdzxtIK+6NiY6arymAZavp
xy0Sy6scTHAHoT0KMM0VjU/43dSMUBUc71DuxC73/OlS8pF94G3VNTCOXkNz8kHp
1Wrjsok6Vjk4bwY8iGlbKk3Fp1S4bInMm/k8yuX9ifUSPJJ4ltbcdG6TRGHRjcdG
snUOhugZitVtbNV4FpWi6cgKOOvyJBNPc1STE4U6G7weNLWLBYy5d4ux2x8gkasJ
U26Qzns3dLlwR5EiUWMWea6xrkEmCMgZK9FGqkjWZCrXgzT/LCrBbBlDSgeF59N8
9iFo7+ryUp9/k5DPAgMBAAGjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMBAf8E
BTADAQH/MB0GA1UdDgQWBBRge2YaRQ2XyolQL30EzTSo//z9SzANBgkqhkiG9w0B
AQUFAAOCAQEA1nPnfE920I2/7LqivjTFKDK1fPxsnCwrvQmeU79rXqoRSLblCKOz
yj1hTdNGCbM+w6DjY1Ub8rrvrTnhQ7k4o+YviiY776BQVvnGCv04zcQLcFGUl5gE
38NflNUVyRRBnMRddWQVDf9VMOyGj/8N7yy5Y0b2qvzfvGn9LhJIZJrglfCm7ymP
AbEVtQwdpf5pLGkkeB6zpxxxYu7KyJesF12KwvhHhm4qxFYxldBniYUr+WymXUad
DKqC5JlR3XC321Y9YeRq4VzW9v493kHMB65jUr9TU/Qr6cf9tveCX4XSQRjbgbME
HMUfpIBvFSDJ3gyICh3WZlXi/EjJKSZp4A==
-----END CERTIFICATE-----
`,pp=`-----BEGIN CERTIFICATE-----
MIIFYDCCA0igAwIBAgIJAOj6GWMU0voYMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMTYwNTI2MTYyODUyWhcNMjYwNTI0MTYy
ODUyWjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaOBpjCBozAdBgNVHQ4EFgQUNmHhAHyIBQlRi0RsR/8aTMnqTxIwHwYD
VR0jBBgwFoAUNmHhAHyIBQlRi0RsR/8aTMnqTxIwDwYDVR0TAQH/BAUwAwEB/zAO
BgNVHQ8BAf8EBAMCAYYwQAYDVR0fBDkwNzA1oDOgMYYvaHR0cHM6Ly9hbmRyb2lk
Lmdvb2dsZWFwaXMuY29tL2F0dGVzdGF0aW9uL2NybC8wDQYJKoZIhvcNAQELBQAD
ggIBACDIw41L3KlXG0aMiS//cqrG+EShHUGo8HNsw30W1kJtjn6UBwRM6jnmiwfB
Pb8VA91chb2vssAtX2zbTvqBJ9+LBPGCdw/E53Rbf86qhxKaiAHOjpvAy5Y3m00m
qC0w/Zwvju1twb4vhLaJ5NkUJYsUS7rmJKHHBnETLi8GFqiEsqTWpG/6ibYCv7rY
DBJDcR9W62BW9jfIoBQcxUCUJouMPH25lLNcDc1ssqvC2v7iUgI9LeoM1sNovqPm
QUiG9rHli1vXxzCyaMTjwftkJLkf6724DFhuKug2jITV0QkXvaJWF4nUaHOTNA4u
JU9WDvZLI1j83A+/xnAJUucIv/zGJ1AMH2boHqF8CY16LpsYgBt6tKxxWH00XcyD
CdW2KlBCeqbQPcsFmWyWugxdcekhYsAWyoSf818NUsZdBWBaR/OukXrNLfkQ79Iy
ZohZbvabO/X+MVT3rriAoKc8oE2Uws6DF+60PV7/WIPjNvXySdqspImSN78mflxD
qwLqRBYkA3I75qppLGG9rp7UCdRjxMl8ZDBld+7yvHVgt1cVzJx9xnyGCC23Uaic
MDSXYrB4I4WHXPGjxhZuCuPBLTdOLU8YRvMYdEvYebWHMpvwGCF6bAx3JBpIeOQ1
wDB5y0USicV3YgYGmi+NZfhA4URSh77Yd6uuJOJENRaNVTzk
-----END CERTIFICATE-----
`,pf=`-----BEGIN CERTIFICATE-----
MIIFHDCCAwSgAwIBAgIJANUP8luj8tazMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMTkxMTIyMjAzNzU4WhcNMzQxMTE4MjAz
NzU4WjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaNjMGEwHQYDVR0OBBYEFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMB8GA1Ud
IwQYMBaAFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMA8GA1UdEwEB/wQFMAMBAf8wDgYD
VR0PAQH/BAQDAgIEMA0GCSqGSIb3DQEBCwUAA4ICAQBOMaBc8oumXb2voc7XCWnu
XKhBBK3e2KMGz39t7lA3XXRe2ZLLAkLM5y3J7tURkf5a1SutfdOyXAmeE6SRo83U
h6WszodmMkxK5GM4JGrnt4pBisu5igXEydaW7qq2CdC6DOGjG+mEkN8/TA6p3cno
L/sPyz6evdjLlSeJ8rFBH6xWyIZCbrcpYEJzXaUOEaxxXxgYz5/cTiVKN2M1G2ok
QBUIYSY6bjEL4aUN5cfo7ogP3UvliEo3Eo0YgwuzR2v0KR6C1cZqZJSTnghIC/vA
D32KdNQ+c3N+vl2OTsUVMC1GiWkngNx1OO1+kXW+YTnnTUOtOIswUP/Vqd5SYgAI
mMAfY8U9/iIgkQj6T2W6FsScy94IN9fFhE1UtzmLoBIuUFsVXJMTz+Jucth+IqoW
Fua9v1R93/k98p41pjtFX+H8DslVgfP097vju4KDlqN64xV1grw3ZLl4CiOe/A91
oeLm2UHOq6wn3esB4r2EIQKb6jTVGu5sYCcdWpXr0AUVqcABPdgL+H7qJguBw09o
jm6xNIrw2OocrDKsudk/okr/AwqEyPKw9WnMlQgLIKw1rODG2NvU9oR3GVGdMkUB
ZutL8VuFkERQGt6vQ2OCw0sV47VMkuYbacK/xyZFiRcrPJPb41zgbQj9XAEyLKCH
ex0SdDrx+tWUDqG8At2JHA==
-----END CERTIFICATE-----
`,ph=`
-----BEGIN CERTIFICATE-----
MIIFHDCCAwSgAwIBAgIJAMNrfES5rhgxMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMjExMTE3MjMxMDQyWhcNMzYxMTEzMjMx
MDQyWjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaNjMGEwHQYDVR0OBBYEFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMB8GA1Ud
IwQYMBaAFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMA8GA1UdEwEB/wQFMAMBAf8wDgYD
VR0PAQH/BAQDAgIEMA0GCSqGSIb3DQEBCwUAA4ICAQBTNNZe5cuf8oiq+jV0itTG
zWVhSTjOBEk2FQvh11J3o3lna0o7rd8RFHnN00q4hi6TapFhh4qaw/iG6Xg+xOan
63niLWIC5GOPFgPeYXM9+nBb3zZzC8ABypYuCusWCmt6Tn3+Pjbz3MTVhRGXuT/T
QH4KGFY4PhvzAyXwdjTOCXID+aHud4RLcSySr0Fq/L+R8TWalvM1wJJPhyRjqRCJ
erGtfBagiALzvhnmY7U1qFcS0NCnKjoO7oFedKdWlZz0YAfu3aGCJd4KHT0MsGiL
Zez9WP81xYSrKMNEsDK+zK5fVzw6jA7cxmpXcARTnmAuGUeI7VVDhDzKeVOctf3a
0qQLwC+d0+xrETZ4r2fRGNw2YEs2W8Qj6oDcfPvq9JySe7pJ6wcHnl5EZ0lwc4xH
7Y4Dx9RA1JlfooLMw3tOdJZH0enxPXaydfAD3YifeZpFaUzicHeLzVJLt9dvGB0b
HQLE4+EqKFgOZv2EoP686DQqbVS1u+9k0p2xbMA105TBIk7npraa8VM0fnrRKi7w
lZKwdH+aNAyhbXRW9xsnODJ+g8eF452zvbiKKngEKirK5LGieoXBX7tZ9D1GNBH2
Ob3bKOwwIWdEFle/YF/h6zWgdeoaNGDqVBrLr2+0DtWoiB1aDEjLWl9FmyIUyUm7
mD/vFDkzF+wm7cyWpQpCVQ==
-----END CERTIFICATE-----
`,pm=`
-----BEGIN CERTIFICATE-----
MIIFHDCCAwSgAwIBAgIJAPHBcqaZ6vUdMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMjIwMzIwMTgwNzQ4WhcNNDIwMzE1MTgw
NzQ4WjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaNjMGEwHQYDVR0OBBYEFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMB8GA1Ud
IwQYMBaAFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMA8GA1UdEwEB/wQFMAMBAf8wDgYD
VR0PAQH/BAQDAgIEMA0GCSqGSIb3DQEBCwUAA4ICAQB8cMqTllHc8U+qCrOlg3H7
174lmaCsbo/bJ0C17JEgMLb4kvrqsXZs01U3mB/qABg/1t5Pd5AORHARs1hhqGIC
W/nKMav574f9rZN4PC2ZlufGXb7sIdJpGiO9ctRhiLuYuly10JccUZGEHpHSYM2G
tkgYbZba6lsCPYAAP83cyDV+1aOkTf1RCp/lM0PKvmxYN10RYsK631jrleGdcdkx
oSK//mSQbgcWnmAEZrzHoF1/0gso1HZgIn0YLzVhLSA/iXCX4QT2h3J5z3znluKG
1nv8NQdxei2DIIhASWfu804CA96cQKTTlaae2fweqXjdN1/v2nqOhngNyz1361mF
mr4XmaKH/ItTwOe72NI9ZcwS1lVaCvsIkTDCEXdm9rCNPAY10iTunIHFXRh+7KPz
lHGewCq/8TOohBRn0/NNfh7uRslOSZ/xKbN9tMBtw37Z8d2vvnXq/YWdsm1+JLVw
n6yYD/yacNJBlwpddla8eaVMjsF6nBnIgQOf9zKSe06nSTqvgwUHosgOECZJZ1Eu
zbH4yswbt02tKtKEFhx+v+OTge/06V+jGsqTWLsfrOCNLuA8H++z+pUENmpqnnHo
vaI47gC+TNpkgYGkkBT6B/m/U01BuOBBTzhIlMEZq9qkDWuM2cA5kW5V3FJUcfHn
w1IdYIg2Wxg7yHcQZemFQg==
-----END CERTIFICATE-----
`,pg=`-----BEGIN CERTIFICATE-----
MIICEjCCAZmgAwIBAgIQaB0BbHo84wIlpQGUKEdXcTAKBggqhkjOPQQDAzBLMR8w
HQYDVQQDDBZBcHBsZSBXZWJBdXRobiBSb290IENBMRMwEQYDVQQKDApBcHBsZSBJ
bmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMB4XDTIwMDMxODE4MjEzMloXDTQ1MDMx
NTAwMDAwMFowSzEfMB0GA1UEAwwWQXBwbGUgV2ViQXV0aG4gUm9vdCBDQTETMBEG
A1UECgwKQXBwbGUgSW5jLjETMBEGA1UECAwKQ2FsaWZvcm5pYTB2MBAGByqGSM49
AgEGBSuBBAAiA2IABCJCQ2pTVhzjl4Wo6IhHtMSAzO2cv+H9DQKev3//fG59G11k
xu9eI0/7o6V5uShBpe1u6l6mS19S1FEh6yGljnZAJ+2GNP1mi/YK2kSXIuTHjxA/
pcoRf7XkOtO4o1qlcaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUJtdk
2cV4wlpn0afeaxLQG2PxxtcwDgYDVR0PAQH/BAQDAgEGMAoGCCqGSM49BAMDA2cA
MGQCMFrZ+9DsJ1PW9hfNdBywZDsWDbWFp28it1d/5w2RPkRX3Bbn/UbDTNLx7Jr3
jAGGiQIwHFj+dJZYUJR786osByBelJYsVZd2GbHQu209b5RCmGQ21gpSAk9QZW4B
1bWeT0vT
-----END CERTIFICATE-----
`,py=`-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----
 `;class pv{constructor(){Object.defineProperty(this,"pemCertificates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pemCertificates=new Map}setRootCertificates(e){let{identifier:t,certificates:r}=e,i=[];for(let e of r)e instanceof Uint8Array?i.push(rU(e)):i.push(e);this.pemCertificates.set(t,i)}getRootCertificates(e){let{identifier:t}=e;return this.pemCertificates.get(t)??[]}}let pb=new pv;pb.setRootCertificates({identifier:"android-key",certificates:[pp,pf,ph,pm]}),pb.setRootCertificates({identifier:"android-safetynet",certificates:[pd]}),pb.setRootCertificates({identifier:"apple",certificates:[pg]}),pb.setRootCertificates({identifier:"mds",certificates:[py]});var rP=rP;async function pA(e){let{attStmt:t,clientDataHash:r,rpIdHash:i,credentialID:n,credentialPublicKey:a,aaguid:s,rootCertificates:l}=e,u=Uint8Array.from([0]),c=rK(a),d=rP.concat([u,i,r,n,c]),p=t.get("sig"),f=t.get("x5c");if(!f)throw Error("No attestation certificate provided in attestation statement (FIDOU2F)");if(!p)throw Error("No attestation signature provided in attestation statement (FIDOU2F)");let h=Number.parseInt(rP.toHex(s),16);if(0!==h)throw Error(`AAGUID "${h}" was not expected value`);try{await dQ(f.map(rU),l)}catch(t){let e=t;throw Error(`${e.message} (FIDOU2F)`)}return d4({signature:p,data:d,x509Certificate:f[0],hashAlgorithm:o.ES256})}var rP=rP,rP=rP;let pw="1.3.6.1.4.1.45724.1.1.4";function p_(e,t){if(!e)return!0;let r=e.find(e=>e.extnID===pw);if(!r)return!0;let i=new Uint8Array(oa.parse(r.extnValue,nP).buffer);if(!rP.areEqual(t,i)){let e=rP.toHex(i),r=rP.toHex(t);throw Error(`Certificate extension id-fido-gen-ce-aaguid (${pw}) value of "${e}" was present but not equal to attestation statement AAGUID value of "${r}"`)}return!0}function pS(e){return(e,...t)=>{}}var rw=rw;function pE(e){let t=e.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----","").replace(/[\n ]/g,"");return rw.toBuffer(t,"base64")}var rw=rw;function pT(e){let t=e.split(".");return[JSON.parse(rw.toUTF8String(t[0])),JSON.parse(rw.toUTF8String(t[1])),t[2]]}var rw=rw,rP=rP;function pI(e,t){let[i,n,a]=e.split("."),s=d2(t),l=rP.fromUTF8String(`${i}.${n}`),u=rw.toBuffer(a);if(ru(s))return r_({data:l,signature:u,cosePublicKey:s,shaHashOverride:o.ES256});if(rc(s))return rE({data:l,signature:u,cosePublicKey:s});let c=s.get(r.kty);throw Error(`JWT verification with public key of kty ${c} is not supported by this method`)}let px="https://mds.fidoalliance.org/";!function(e){e[e.DISABLED=0]="DISABLED",e[e.REFRESHING=1]="REFRESHING",e[e.READY=2]="READY"}(tc||(tc={}));let pO=pS("MetadataService");class pC{constructor(){Object.defineProperty(this,"mdsCache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"statementCache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:tc.DISABLED}),Object.defineProperty(this,"verificationMode",{enumerable:!0,configurable:!0,writable:!0,value:"strict"})}async initialize(e={}){let{mdsServers:t=[px],statements:r,verificationMode:i}=e;if(this.setState(tc.REFRESHING),r?.length){let e=0;r.forEach(t=>{t.aaguid&&(this.statementCache[t.aaguid]={entry:{metadataStatement:t,statusReports:[],timeOfLastStatusChange:"1970-01-01"},url:""},e+=1)}),pO(`Cached ${e} local statements`)}if(t?.length){let e=Object.keys(this.statementCache).length,r=t.length;for(let e of t)try{await this.downloadBlob({url:e,no:0,nextUpdate:new Date(0)})}catch(t){pO(`Could not download BLOB from ${e}:`,t),r-=1}let i=Object.keys(this.statementCache).length-e;pO(`Cached ${i} statements from ${r} metadata server(s)`)}i&&(this.verificationMode=i),this.setState(tc.READY)}async getStatement(e){if(this.state===tc.DISABLED||!e)return;e instanceof Uint8Array&&(e=rD(e)),await this.pauseUntilReady();let t=this.statementCache[e];if(!t){if("strict"===this.verificationMode)throw Error(`No metadata statement found for aaguid "${e}"`);return}if(t.url){let e=this.mdsCache[t.url];if(new Date>e.nextUpdate)try{this.setState(tc.REFRESHING),await this.downloadBlob(e)}finally{this.setState(tc.READY)}}let{entry:r}=t;for(let t of r.statusReports){let{status:r}=t;if("USER_VERIFICATION_BYPASS"===r||"ATTESTATION_KEY_COMPROMISE"===r||"USER_KEY_REMOTE_COMPROMISE"===r||"USER_KEY_PHYSICAL_COMPROMISE"===r)throw Error(`Detected compromised aaguid "${e}"`)}return r.metadataStatement}async downloadBlob(e){let{url:t,no:r}=e,i=await dz(t),n=await i.text(),o=pT(n),a=o[0],s=o[1];if(s.no<=r)throw Error(`Latest BLOB no. "${s.no}" is not greater than previous ${r}`);let l=a.x5c.map(rU);try{let e=pb.getRootCertificates({identifier:"mds"});await dQ(l,e)}catch(e){throw Error("BLOB certificate path could not be validated",{cause:e})}let u=l[0];if(!await pI(n,pE(u)))throw Error("BLOB signature could not be verified");for(let e of s.entries)e.aaguid&&(this.statementCache[e.aaguid]={entry:e,url:t});let[c,d,p]=s.nextUpdate.split("-");this.mdsCache[t]={...e,no:s.no,nextUpdate:new Date(parseInt(c,10),parseInt(d,10)-1,parseInt(p,10))}}pauseUntilReady(){return new Promise(this.state===tc.READY?e=>{e()}:(e,t)=>{let r=7e4,i=700,n=globalThis.setInterval(()=>{i<1?(clearInterval(n),t(`State did not become ready in ${r/1e3} seconds`)):this.state===tc.READY&&(clearInterval(n),e()),i-=1},100)})}setState(e){this.state=e,e===tc.DISABLED?pO("MetadataService is DISABLED"):e===tc.REFRESHING?pO("MetadataService is REFRESHING"):e===tc.READY&&pO("MetadataService is READY")}}let pk=new pC;async function pN({statement:e,credentialPublicKey:t,x5c:n,attestationStatementAlg:o}){let{authenticationAlgorithms:a,authenticatorGetInfo:s,attestationRootCertificates:l}=e,u=new Set;a.forEach(e=>{let t=pR[e];t&&u.add(t)});let c=rz(t),d=c.get(r.kty),p=c.get(r.alg);if(!d)throw Error("Credential public key was missing kty");if(!p)throw Error("Credential public key was missing alg");if(!d)throw Error("Credential public key was missing kty");let f={kty:d,alg:p};ru(c)&&(f.crv=c.get(r.crv));let h=!1;for(let e of u)if(e.alg===f.alg&&e.kty===f.kty&&((e.kty===i.EC2||e.kty===i.OKP)&&e.crv===f.crv,h=!0),h)break;if(!h){let e=JSON.stringify(a.map(e=>`'${e}' (COSE info: ${pP(pR[e])})`),null,2).replace(/"/g,""),t=pP(f);throw Error(`Public key parameters ${t} did not match any of the following metadata algorithms:
${e}`)}if(void 0!==o&&s?.algorithms!==void 0){let e=s.algorithms.map(e=>e.alg);if(0>e.indexOf(o))throw Error(`Attestation statement alg ${o} did not match one of ${e}`)}let m=n.map(rU),g=l.map(rU),y=!1;if(1===m.length&&g.indexOf(m[0])>=0&&(y=!0),!y)try{await dQ(m,g)}catch(t){let e=t;throw Error(`Could not validate certificate path with any metadata root certificates: ${e.message}`)}return!0}let pR={secp256r1_ecdsa_sha256_raw:{kty:2,alg:-7,crv:1},secp256r1_ecdsa_sha256_der:{kty:2,alg:-7,crv:1},rsassa_pss_sha256_raw:{kty:3,alg:-37},rsassa_pss_sha256_der:{kty:3,alg:-37},secp256k1_ecdsa_sha256_raw:{kty:2,alg:-47,crv:8},secp256k1_ecdsa_sha256_der:{kty:2,alg:-47,crv:8},rsassa_pss_sha384_raw:{kty:3,alg:-38},rsassa_pkcsv15_sha256_raw:{kty:3,alg:-257},rsassa_pkcsv15_sha384_raw:{kty:3,alg:-258},rsassa_pkcsv15_sha512_raw:{kty:3,alg:-259},rsassa_pkcsv15_sha1_raw:{kty:3,alg:-65535},secp384r1_ecdsa_sha384_raw:{kty:2,alg:-35,crv:2},secp512r1_ecdsa_sha256_raw:{kty:2,alg:-36,crv:3},ed25519_eddsa_sha512_raw:{kty:1,alg:-8,crv:6}};function pP(e){let{kty:t,alg:r,crv:n}=e;return t!==i.RSA?`{ kty: ${t}, alg: ${r}, crv: ${n} }`:`{ kty: ${t}, alg: ${r} }`}async function pD(e){let{attStmt:t,clientDataHash:r,authData:i,credentialPublicKey:n,aaguid:o,rootCertificates:a}=e,s=t.get("sig"),l=t.get("x5c"),u=t.get("alg");if(!s)throw Error("No attestation signature provided in attestation statement (Packed)");if(!u)throw Error("Attestation statement did not contain alg (Packed)");if(!rf(u))throw Error(`Attestation statement contained invalid alg ${u} (Packed)`);let c=rP.concat([i,r]),d=!1;if(l){let{subject:e,basicConstraintsCA:t,version:r,notBefore:i,notAfter:p,parsedCertificate:f}=a$(l[0]),{OU:h,CN:m,O:g,C:y}=e;if("Authenticator Attestation"!==h)throw Error('Certificate OU was not "Authenticator Attestation" (Packed|Full)');if(!m)throw Error("Certificate CN was empty (Packed|Full)");if(!g)throw Error("Certificate O was empty (Packed|Full)");if(!y||2!==y.length)throw Error("Certificate C was not two-character ISO 3166 code (Packed|Full)");if(t)throw Error("Certificate basic constraints CA was not `false` (Packed|Full)");if(2!==r)throw Error("Certificate version was not `3` (ASN.1 value of 2) (Packed|Full)");let v=new Date;if(i>v)throw Error(`Certificate not good before "${i.toString()}" (Packed|Full)`);if(p<(v=new Date))throw Error(`Certificate not good after "${p.toString()}" (Packed|Full)`);try{await p_(f.tbsCertificate.extensions,o)}catch(t){let e=t;throw Error(`${e.message} (Packed|Full)`)}let b=await pk.getStatement(o);if(b){if(0>b.attestationTypes.indexOf("basic_full"))throw Error("Metadata does not indicate support for full attestations (Packed|Full)");try{await pN({statement:b,credentialPublicKey:n,x5c:l,attestationStatementAlg:u})}catch(t){let e=t;throw Error(`${e.message} (Packed|Full)`)}}else try{await dQ(l.map(rU),a)}catch(t){let e=t;throw Error(`${e.message} (Packed|Full)`)}d=await d4({signature:s,data:c,x509Certificate:l[0]})}else d=await d4({signature:s,data:c,credentialPublicKey:n,hashAlgorithm:u});return d}var rw=rw,rP=rP;async function pU(e){let{attStmt:t,clientDataHash:r,authData:i,aaguid:n,rootCertificates:o,verifyTimestampMS:a=!0,credentialPublicKey:s,attestationSafetyNetEnforceCTSCheck:l}=e,u=t.get("alg"),c=t.get("response");if(!t.get("ver"))throw Error("No ver value in attestation (SafetyNet)");if(!c)throw Error("No response was included in attStmt by authenticator (SafetyNet)");let d=rP.toUTF8String(c).split("."),p=JSON.parse(rw.toUTF8String(d[0])),f=JSON.parse(rw.toUTF8String(d[1])),h=d[2],{nonce:m,ctsProfileMatch:g,timestampMs:y}=f;if(a){let e=Date.now();if(y>Date.now())throw Error(`Payload timestamp "${y}" was later than "${e}" (SafetyNet)`);let t=y+6e4;if(t<(e=Date.now()))throw Error(`Payload timestamp "${t}" has expired (SafetyNet)`)}let v=rP.concat([i,r]),b=await dJ(v);if(m!==rw.fromBuffer(b,"base64"))throw Error("Could not verify payload nonce (SafetyNet)");if(l&&!g)throw Error("Could not verify device integrity (SafetyNet)");let A=rw.toBuffer(p.x5c[0],"base64"),{subject:w}=a$(A);if("attest.android.com"!==w.CN)throw Error('Certificate common name was not "attest.android.com" (SafetyNet)');let _=await pk.getStatement(n);if(_)try{await pN({statement:_,credentialPublicKey:s,x5c:p.x5c,attestationStatementAlg:u})}catch(t){let e=t;throw Error(`${e.message} (SafetyNet)`)}else try{await dQ(p.x5c.map(rU),o)}catch(t){let e=t;throw Error(`${e.message} (SafetyNet)`)}let S=rP.fromUTF8String(`${d[0]}.${d[1]}`),E=rw.toBuffer(h);return await d4({signature:E,data:S,x509Certificate:A})}var rP=rP;let pL={196:"TPM_ST_RSP_COMMAND",32768:"TPM_ST_NULL",32769:"TPM_ST_NO_SESSIONS",32770:"TPM_ST_SESSIONS",32788:"TPM_ST_ATTEST_NV",32789:"TPM_ST_ATTEST_COMMAND_AUDIT",32790:"TPM_ST_ATTEST_SESSION_AUDIT",32791:"TPM_ST_ATTEST_CERTIFY",32792:"TPM_ST_ATTEST_QUOTE",32793:"TPM_ST_ATTEST_TIME",32794:"TPM_ST_ATTEST_CREATION",32801:"TPM_ST_CREATION",32802:"TPM_ST_VERIFIED",32803:"TPM_ST_AUTH_SECRET",32804:"TPM_ST_HASHCHECK",32805:"TPM_ST_AUTH_SIGNED",32809:"TPM_ST_FU_MANIFEST"},pK={0:"TPM_ALG_ERROR",1:"TPM_ALG_RSA",4:"TPM_ALG_SHA",4:"TPM_ALG_SHA1",5:"TPM_ALG_HMAC",6:"TPM_ALG_AES",7:"TPM_ALG_MGF1",8:"TPM_ALG_KEYEDHASH",10:"TPM_ALG_XOR",11:"TPM_ALG_SHA256",12:"TPM_ALG_SHA384",13:"TPM_ALG_SHA512",16:"TPM_ALG_NULL",18:"TPM_ALG_SM3_256",19:"TPM_ALG_SM4",20:"TPM_ALG_RSASSA",21:"TPM_ALG_RSAES",22:"TPM_ALG_RSAPSS",23:"TPM_ALG_OAEP",24:"TPM_ALG_ECDSA",25:"TPM_ALG_ECDH",26:"TPM_ALG_ECDAA",27:"TPM_ALG_SM2",28:"TPM_ALG_ECSCHNORR",29:"TPM_ALG_ECMQV",32:"TPM_ALG_KDF1_SP800_56A",33:"TPM_ALG_KDF2",34:"TPM_ALG_KDF1_SP800_108",35:"TPM_ALG_ECC",37:"TPM_ALG_SYMCIPHER",38:"TPM_ALG_CAMELLIA",64:"TPM_ALG_CTR",65:"TPM_ALG_OFB",66:"TPM_ALG_CBC",67:"TPM_ALG_CFB",68:"TPM_ALG_ECB"},pM={0:"TPM_ECC_NONE",1:"TPM_ECC_NIST_P192",2:"TPM_ECC_NIST_P224",3:"TPM_ECC_NIST_P256",4:"TPM_ECC_NIST_P384",5:"TPM_ECC_NIST_P521",16:"TPM_ECC_BN_P256",17:"TPM_ECC_BN_P638",32:"TPM_ECC_SM2_P256"},pB={"id:414D4400":{name:"AMD",id:"AMD"},"id:414E5400":{name:"Ant Group",id:"ANT"},"id:41544D4C":{name:"Atmel",id:"ATML"},"id:4252434D":{name:"Broadcom",id:"BRCM"},"id:4353434F":{name:"Cisco",id:"CSCO"},"id:464C5953":{name:"Flyslice Technologies",id:"FLYS"},"id:524F4343":{name:"Fuzhou Rockchip",id:"ROCC"},"id:474F4F47":{name:"Google",id:"GOOG"},"id:48504900":{name:"HPI",id:"HPI"},"id:48504500":{name:"HPE",id:"HPE"},"id:48495349":{name:"Huawei",id:"HISI"},"id:49424d00":{name:"IBM",id:"IBM"},"id:49424D00":{name:"IBM",id:"IBM"},"id:49465800":{name:"Infineon",id:"IFX"},"id:494E5443":{name:"Intel",id:"INTC"},"id:4C454E00":{name:"Lenovo",id:"LEN"},"id:4D534654":{name:"Microsoft",id:"MSFT"},"id:4E534D20":{name:"National Semiconductor",id:"NSM"},"id:4E545A00":{name:"Nationz",id:"NTZ"},"id:4E534700":{name:"NSING",id:"NSG"},"id:4E544300":{name:"Nuvoton Technology",id:"NTC"},"id:51434F4D":{name:"Qualcomm",id:"QCOM"},"id:534D534E":{name:"Samsung",id:"SMSN"},"id:53454345":{name:"SecEdge",id:"SECE"},"id:534E5300":{name:"Sinosun",id:"SNS"},"id:534D5343":{name:"SMSC",id:"SMSC"},"id:53544D20":{name:"STMicroelectronics",id:"STM"},"id:54584E00":{name:"Texas Instruments",id:"TXN"},"id:57454300":{name:"Winbond",id:"WEC"},"id:5345414C":{name:"Wisekey",id:"SEAL"},"id:FFFFF1D0":{name:"FIDO Alliance",id:"FIDO"}},pj={TPM_ECC_NIST_P256:1,TPM_ECC_NIST_P384:2,TPM_ECC_NIST_P521:3,TPM_ECC_BN_P256:1,TPM_ECC_SM2_P256:1};var rP=rP;function p$(e){let t=0,r=rP.toDataView(e),i=r.getUint32(t);t+=4;let n=r.getUint16(t);t+=2;let o=pL[n],a=r.getUint16(t);t+=2;let s=e.slice(t,t+=a),l=r.getUint16(t);t+=2;let u=e.slice(t,t+=l),c=e.slice(t,t+=8),d=r.getUint32(t);t+=4;let p=r.getUint32(t);t+=4;let f={clock:c,resetCount:d,restartCount:p,safe:!!e.slice(t,t+=1)},h=e.slice(t,t+=8),m=r.getUint16(t);t+=2;let g=e.slice(t,t+=m),y=rP.toDataView(g),v=r.getUint16(t);t+=2;let b=e.slice(t,t+=v);return{magic:i,type:o,qualifiedSigner:s,extraData:u,clockInfo:f,firmwareVersion:h,attested:{nameAlg:pK[y.getUint16(0)],nameAlgBuffer:g.slice(0,2),name:g,qualifiedName:b}}}var rP=rP;function pz(e){let t=0,r=rP.toDataView(e),i=pK[r.getUint16(t)];t+=2;let n=pK[r.getUint16(t)];t+=2;let o=r.getUint32(t);t+=4;let a={fixedTPM:!!(1&o),stClear:!!(2&o),fixedParent:!!(8&o),sensitiveDataOrigin:!!(16&o),userWithAuth:!!(32&o),adminWithPolicy:!!(64&o),noDA:!!(512&o),encryptedDuplication:!!(1024&o),restricted:!!(32768&o),decrypt:!!(65536&o),signOrEncrypt:!!(131072&o)},s=r.getUint16(t);t+=2;let l=e.slice(t,t+=s),u={},c=Uint8Array.from([]);if("TPM_ALG_RSA"===i){let i=pK[r.getUint16(t)];t+=2;let n=pK[r.getUint16(t)];t+=2;let o=r.getUint16(t);t+=2;let a=r.getUint32(t);t+=4,u.rsa={symmetric:i,scheme:n,keyBits:o,exponent:a};let s=r.getUint16(t);t+=2,c=e.slice(t,t+=s)}else if("TPM_ALG_ECC"===i){let i=pK[r.getUint16(t)];t+=2;let n=pK[r.getUint16(t)];t+=2;let o=pM[r.getUint16(t)];t+=2;let a=pK[r.getUint16(t)];t+=2,u.ecc={symmetric:i,scheme:n,curveID:o,kdf:a};let s=r.getUint16(t);t+=2;let l=e.slice(t,t+=s),d=r.getUint16(t);t+=2;let p=e.slice(t,t+=d);c=rP.concat([l,p])}else throw Error(`Unexpected type "${i}" (TPM)`);return{type:i,nameAlg:n,objectAttributes:a,authPolicy:l,parameters:u,unique:c}}async function pF(e){let t,i,{aaguid:n,attStmt:o,authData:a,credentialPublicKey:s,clientDataHash:l,rootCertificates:u}=e,c=o.get("ver"),d=o.get("sig"),p=o.get("alg"),f=o.get("x5c"),h=o.get("pubArea"),m=o.get("certInfo");if("2.0"!==c)throw Error(`Unexpected ver "${c}", expected "2.0" (TPM)`);if(!d)throw Error("No attestation signature provided in attestation statement (TPM)");if(!p)throw Error("Attestation statement did not contain alg (TPM)");if(!rf(p))throw Error(`Attestation statement contained invalid alg ${p} (TPM)`);if(!f)throw Error("No attestation certificate provided in attestation statement (TPM)");if(!h)throw Error("Attestation statement did not contain pubArea (TPM)");if(!m)throw Error("Attestation statement did not contain certInfo (TPM)");let{unique:g,type:y,parameters:v}=pz(h),b=rz(s);if("TPM_ALG_RSA"===y){if(!rc(b))throw Error(`Credential public key with kty ${b.get(r.kty)} did not match ${y}`);let e=b.get(r.n),t=b.get(r.e);if(!e)throw Error("COSE public key missing n (TPM|RSA)");if(!t)throw Error("COSE public key missing e (TPM|RSA)");if(!rP.areEqual(g,e))throw Error("PubArea unique is not same as credentialPublicKey (TPM|RSA)");if(!v.rsa)throw Error("Parsed pubArea type is RSA, but missing parameters.rsa (TPM|RSA)");let i=t,n=v.rsa.exponent||65537,o=i[0]+(i[1]<<8)+(i[2]<<16);if(n!==o)throw Error(`Unexpected public key exp ${o}, expected ${n} (TPM|RSA)`)}else if("TPM_ALG_ECC"===y){if(!ru(b))throw Error(`Credential public key with kty ${b.get(r.kty)} did not match ${y}`);let e=b.get(r.crv),t=b.get(r.x),i=b.get(r.y);if(!e)throw Error("COSE public key missing crv (TPM|ECC)");if(!t)throw Error("COSE public key missing x (TPM|ECC)");if(!i)throw Error("COSE public key missing y (TPM|ECC)");if(!rP.areEqual(g,rP.concat([t,i])))throw Error("PubArea unique is not same as public key x and y (TPM|ECC)");if(!v.ecc)throw Error("Parsed pubArea type is ECC, but missing parameters.ecc (TPM|ECC)");let n=v.ecc.curveID,o=pj[n];if(o!==e)throw Error(`Public area key curve ID "${n}" mapped to "${o}" which did not match public key crv of "${e}" (TPM|ECC)`)}else throw Error(`Unsupported pubArea.type "${y}"`);let{magic:A,type:w,attested:_,extraData:S}=p$(m);if(0xff544347!==A)throw Error(`Unexpected magic value "${A}", expected "0xff544347" (TPM)`);if("TPM_ST_ATTEST_CERTIFY"!==w)throw Error(`Unexpected type "${w}", expected "TPM_ST_ATTEST_CERTIFY" (TPM)`);let E=await dJ(h,pV(_.nameAlg)),T=rP.concat([_.nameAlgBuffer,E]);if(!rP.areEqual(_.name,T))throw Error("Attested name comparison failed (TPM)");let I=rP.concat([a,l]),x=await dJ(I,p);if(!rP.areEqual(S,x))throw Error("CertInfo extra data did not equal hashed attestation (TPM)");if(f.length<1)throw Error("No certificates present in x5c array (TPM)");let{basicConstraintsCA:O,version:C,subject:k,notAfter:N,notBefore:R}=a$(f[0]);if(O)throw Error("Certificate basic constraints CA was not `false` (TPM)");if(2!==C)throw Error("Certificate version was not `3` (ASN.1 value of 2) (TPM)");if(k.combined.length>0)throw Error("Certificate subject was not empty (TPM)");let P=new Date;if(R>P)throw Error(`Certificate not good before "${R.toString()}" (TPM)`);if(N<(P=new Date))throw Error(`Certificate not good after "${N.toString()}" (TPM)`);let D=oa.parse(f[0],aL);if(!D.tbsCertificate.extensions)throw Error("Certificate was missing extensions (TPM)");if(D.tbsCertificate.extensions.forEach(e=>{e.extnID===ab?t=oa.parse(e.extnValue,aA):e.extnID===o9&&(i=oa.parse(e.extnValue,o7))}),!t)throw Error("Certificate did not contain subjectAltName extension (TPM)");if(!t[0].directoryName?.[0].length)throw Error("Certificate subjectAltName extension directoryName was empty (TPM)");let{tcgAtTpmManufacturer:U,tcgAtTpmModel:L,tcgAtTpmVersion:K}=pq(t[0].directoryName);if(!U||!L||!K)throw Error("Certificate contained incomplete subjectAltName data (TPM)");if(!i)throw Error("Certificate did not contain ExtendedKeyUsage extension (TPM)");if(!pB[U])throw Error(`Could not match TPM manufacturer "${U}" (TPM)`);if("2.23.133.8.3"!==i[0])throw Error(`Unexpected extKeyUsage "${i[0]}", expected "2.23.133.8.3" (TPM)`);try{await p_(D.tbsCertificate.extensions,n)}catch(t){let e=t;throw Error(`${e.message} (TPM)`)}let M=await pk.getStatement(n);if(M)try{await pN({statement:M,credentialPublicKey:s,x5c:f,attestationStatementAlg:p})}catch(t){let e=t;throw Error(`${e.message} (TPM)`)}else try{await dQ(f.map(rU),u)}catch(t){let e=t;throw Error(`${e.message} (TPM)`)}return d4({signature:d,data:m,x509Certificate:f[0],hashAlgorithm:p})}function pq(e){let t,r,i,n="2.23.133.2.1",o="2.23.133.2.2",a="2.23.133.2.3";return e.forEach(e=>{e.forEach(e=>{e.type===n?t=e.value.toString():e.type===o?r=e.value.toString():e.type===a&&(i=e.value.toString())})}),{tcgAtTpmManufacturer:t,tcgAtTpmModel:r,tcgAtTpmVersion:i}}function pV(e){if("TPM_ALG_SHA256"===e)return o.ES256;if("TPM_ALG_SHA384"===e)return o.ES384;if("TPM_ALG_SHA512"===e)return o.ES512;throw Error(`Unexpected TPM attested name alg ${e}`)}let pH="1.3.6.1.4.1.11129.2.1.17";!function(e){e[e.verified=0]="verified",e[e.selfSigned=1]="selfSigned",e[e.unverified=2]="unverified",e[e.failed=3]="failed"}(tp||(tp={}));class pG{constructor(e={}){this.verifiedBootKey=new nP,this.deviceLocked=!1,this.verifiedBootState=tp.verified,Object.assign(this,e)}}oc([oi({type:nP})],pG.prototype,"verifiedBootKey",void 0),oc([oi({type:j.Boolean})],pG.prototype,"deviceLocked",void 0),oc([oi({type:j.Enumerated})],pG.prototype,"verifiedBootState",void 0),oc([oi({type:nP,optional:!0})],pG.prototype,"verifiedBootHash",void 0);let pW=td=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,td.prototype)}};pW=td=oc([or({type:B.Set,itemType:j.Integer})],pW);class pZ{constructor(e={}){Object.assign(this,e)}}oc([oi({context:1,type:pW,optional:!0})],pZ.prototype,"purpose",void 0),oc([oi({context:2,type:j.Integer,optional:!0})],pZ.prototype,"algorithm",void 0),oc([oi({context:3,type:j.Integer,optional:!0})],pZ.prototype,"keySize",void 0),oc([oi({context:5,type:pW,optional:!0})],pZ.prototype,"digest",void 0),oc([oi({context:6,type:pW,optional:!0})],pZ.prototype,"padding",void 0),oc([oi({context:10,type:j.Integer,optional:!0})],pZ.prototype,"ecCurve",void 0),oc([oi({context:200,type:j.Integer,optional:!0})],pZ.prototype,"rsaPublicExponent",void 0),oc([oi({context:203,type:pW,optional:!0})],pZ.prototype,"mgfDigest",void 0),oc([oi({context:303,type:j.Null,optional:!0})],pZ.prototype,"rollbackResistance",void 0),oc([oi({context:305,type:j.Null,optional:!0})],pZ.prototype,"earlyBootOnly",void 0),oc([oi({context:400,type:j.Integer,optional:!0})],pZ.prototype,"activeDateTime",void 0),oc([oi({context:401,type:j.Integer,optional:!0})],pZ.prototype,"originationExpireDateTime",void 0),oc([oi({context:402,type:j.Integer,optional:!0})],pZ.prototype,"usageExpireDateTime",void 0),oc([oi({context:405,type:j.Integer,optional:!0})],pZ.prototype,"usageCountLimit",void 0),oc([oi({context:503,type:j.Null,optional:!0})],pZ.prototype,"noAuthRequired",void 0),oc([oi({context:504,type:j.Integer,optional:!0})],pZ.prototype,"userAuthType",void 0),oc([oi({context:505,type:j.Integer,optional:!0})],pZ.prototype,"authTimeout",void 0),oc([oi({context:506,type:j.Null,optional:!0})],pZ.prototype,"allowWhileOnBody",void 0),oc([oi({context:507,type:j.Null,optional:!0})],pZ.prototype,"trustedUserPresenceRequired",void 0),oc([oi({context:508,type:j.Null,optional:!0})],pZ.prototype,"trustedConfirmationRequired",void 0),oc([oi({context:509,type:j.Null,optional:!0})],pZ.prototype,"unlockedDeviceRequired",void 0),oc([oi({context:600,type:j.Null,optional:!0})],pZ.prototype,"allApplications",void 0),oc([oi({context:601,type:nP,optional:!0})],pZ.prototype,"applicationId",void 0),oc([oi({context:701,type:j.Integer,optional:!0})],pZ.prototype,"creationDateTime",void 0),oc([oi({context:702,type:j.Integer,optional:!0})],pZ.prototype,"origin",void 0),oc([oi({context:703,type:j.Null,optional:!0})],pZ.prototype,"rollbackResistant",void 0),oc([oi({context:704,type:pG,optional:!0})],pZ.prototype,"rootOfTrust",void 0),oc([oi({context:705,type:j.Integer,optional:!0})],pZ.prototype,"osVersion",void 0),oc([oi({context:706,type:j.Integer,optional:!0})],pZ.prototype,"osPatchLevel",void 0),oc([oi({context:709,type:nP,optional:!0})],pZ.prototype,"attestationApplicationId",void 0),oc([oi({context:710,type:nP,optional:!0})],pZ.prototype,"attestationIdBrand",void 0),oc([oi({context:711,type:nP,optional:!0})],pZ.prototype,"attestationIdDevice",void 0),oc([oi({context:712,type:nP,optional:!0})],pZ.prototype,"attestationIdProduct",void 0),oc([oi({context:713,type:nP,optional:!0})],pZ.prototype,"attestationIdSerial",void 0),oc([oi({context:714,type:nP,optional:!0})],pZ.prototype,"attestationIdImei",void 0),oc([oi({context:715,type:nP,optional:!0})],pZ.prototype,"attestationIdMeid",void 0),oc([oi({context:716,type:nP,optional:!0})],pZ.prototype,"attestationIdManufacturer",void 0),oc([oi({context:717,type:nP,optional:!0})],pZ.prototype,"attestationIdModel",void 0),oc([oi({context:718,type:j.Integer,optional:!0})],pZ.prototype,"vendorPatchLevel",void 0),oc([oi({context:719,type:j.Integer,optional:!0})],pZ.prototype,"bootPatchLevel",void 0),oc([oi({context:720,type:j.Null,optional:!0})],pZ.prototype,"deviceUniqueAttestation",void 0),oc([oi({context:723,type:nP,optional:!0})],pZ.prototype,"attestationIdSecondImei",void 0),oc([oi({context:724,type:nP,optional:!0})],pZ.prototype,"moduleHash",void 0),function(e){e[e.software=0]="software",e[e.trustedEnvironment=1]="trustedEnvironment",e[e.strongBox=2]="strongBox"}(tf||(tf={})),function(e){e[e.KM2=1]="KM2",e[e.KM3=2]="KM3",e[e.KM4=3]="KM4",e[e.KM4_1=4]="KM4_1",e[e.keyMint1=100]="keyMint1",e[e.keyMint2=200]="keyMint2",e[e.keyMint3=300]="keyMint3",e[e.keyMint4=400]="keyMint4"}(th||(th={}));class pJ{constructor(e={}){this.attestationVersion=th.KM4,this.attestationSecurityLevel=tf.software,this.keymasterVersion=0,this.keymasterSecurityLevel=tf.software,this.attestationChallenge=new nP,this.uniqueId=new nP,this.softwareEnforced=new pZ,this.teeEnforced=new pZ,Object.assign(this,e)}}oc([oi({type:j.Integer})],pJ.prototype,"attestationVersion",void 0),oc([oi({type:j.Enumerated})],pJ.prototype,"attestationSecurityLevel",void 0),oc([oi({type:j.Integer})],pJ.prototype,"keymasterVersion",void 0),oc([oi({type:j.Enumerated})],pJ.prototype,"keymasterSecurityLevel",void 0),oc([oi({type:nP})],pJ.prototype,"attestationChallenge",void 0),oc([oi({type:nP})],pJ.prototype,"uniqueId",void 0),oc([oi({type:pZ})],pJ.prototype,"softwareEnforced",void 0),oc([oi({type:pZ})],pJ.prototype,"teeEnforced",void 0);class pQ{constructor(e={}){this.attestationVersion=th.keyMint4,this.attestationSecurityLevel=tf.software,this.keyMintVersion=0,this.keyMintSecurityLevel=tf.software,this.attestationChallenge=new nP,this.uniqueId=new nP,this.softwareEnforced=new pZ,this.hardwareEnforced=new pZ,Object.assign(this,e)}toLegacyKeyDescription(){return new pJ({attestationVersion:this.attestationVersion,attestationSecurityLevel:this.attestationSecurityLevel,keymasterVersion:this.keyMintVersion,keymasterSecurityLevel:this.keyMintSecurityLevel,attestationChallenge:this.attestationChallenge,uniqueId:this.uniqueId,softwareEnforced:this.softwareEnforced,teeEnforced:this.hardwareEnforced})}static fromLegacyKeyDescription(e){return new pQ({attestationVersion:e.attestationVersion,attestationSecurityLevel:e.attestationSecurityLevel,keyMintVersion:e.keymasterVersion,keyMintSecurityLevel:e.keymasterSecurityLevel,attestationChallenge:e.attestationChallenge,uniqueId:e.uniqueId,softwareEnforced:e.softwareEnforced,hardwareEnforced:e.teeEnforced})}}oc([oi({type:j.Integer})],pQ.prototype,"attestationVersion",void 0),oc([oi({type:j.Enumerated})],pQ.prototype,"attestationSecurityLevel",void 0),oc([oi({type:j.Integer})],pQ.prototype,"keyMintVersion",void 0),oc([oi({type:j.Enumerated})],pQ.prototype,"keyMintSecurityLevel",void 0),oc([oi({type:nP})],pQ.prototype,"attestationChallenge",void 0),oc([oi({type:nP})],pQ.prototype,"uniqueId",void 0),oc([oi({type:pZ})],pQ.prototype,"softwareEnforced",void 0),oc([oi({type:pZ})],pQ.prototype,"hardwareEnforced",void 0);let pY=class extends pZ{};pY=oc([or({type:B.Choice})],pY);let pX=tm=class extends ol{constructor(e){super(e),Object.setPrototypeOf(this,tm.prototype)}findProperty(e){let t=this.find(t=>e in t);if(t)return t[e]}};pX=tm=oc([or({type:B.Sequence,itemType:pY})],pX);class p0{get keyMintVersion(){return this.keymasterVersion}set keyMintVersion(e){this.keymasterVersion=e}get keyMintSecurityLevel(){return this.keymasterSecurityLevel}set keyMintSecurityLevel(e){this.keymasterSecurityLevel=e}get hardwareEnforced(){return this.teeEnforced}set hardwareEnforced(e){this.teeEnforced=e}constructor(e={}){this.attestationVersion=th.KM4,this.attestationSecurityLevel=tf.software,this.keymasterVersion=0,this.keymasterSecurityLevel=tf.software,this.attestationChallenge=new nP,this.uniqueId=new nP,this.softwareEnforced=new pX,this.teeEnforced=new pX,Object.assign(this,e)}}oc([oi({type:j.Integer})],p0.prototype,"attestationVersion",void 0),oc([oi({type:j.Enumerated})],p0.prototype,"attestationSecurityLevel",void 0),oc([oi({type:j.Integer})],p0.prototype,"keymasterVersion",void 0),oc([oi({type:j.Enumerated})],p0.prototype,"keymasterSecurityLevel",void 0),oc([oi({type:nP})],p0.prototype,"attestationChallenge",void 0),oc([oi({type:nP})],p0.prototype,"uniqueId",void 0),oc([oi({type:pX})],p0.prototype,"softwareEnforced",void 0),oc([oi({type:pX})],p0.prototype,"teeEnforced",void 0);let p1=class extends p0{constructor(e={}){"keymasterVersion"in e&&!("keyMintVersion"in e)&&(e.keyMintVersion=e.keymasterVersion),"keymasterSecurityLevel"in e&&!("keyMintSecurityLevel"in e)&&(e.keyMintSecurityLevel=e.keymasterSecurityLevel),"teeEnforced"in e&&!("hardwareEnforced"in e)&&(e.hardwareEnforced=e.teeEnforced),super(e)}};p1=oc([or({type:B.Sequence})],p1);class p2{constructor(e={}){Object.assign(this,e)}}oc([oi({type:j.OctetString})],p2.prototype,"packageName",void 0),oc([oi({type:j.Integer})],p2.prototype,"version",void 0);class p4{constructor(e={}){Object.assign(this,e)}}oc([oi({type:p2,repeated:"set"})],p4.prototype,"packageInfos",void 0),oc([oi({type:j.OctetString,repeated:"set"})],p4.prototype,"signatureDigests",void 0);var rP=rP;async function p3(e){let{authData:t,clientDataHash:r,attStmt:i,credentialPublicKey:n,aaguid:o,rootCertificates:a}=e,s=i.get("x5c"),l=i.get("sig"),u=i.get("alg");if(!s)throw Error("No attestation certificate provided in attestation statement (Android Key)");if(!l)throw Error("No attestation signature provided in attestation statement (Android Key)");if(!u)throw Error("Attestation statement did not contain alg (Android Key)");if(!rf(u))throw Error(`Attestation statement contained invalid alg ${u} (Android Key)`);let c=oa.parse(s[0],aL),d=new Uint8Array(c.tbsCertificate.subjectPublicKeyInfo.subjectPublicKey),p=rK(n);if(!rP.areEqual(p,d))throw Error("Credential public key does not equal leaf cert public key (Android Key)");let f=c.tbsCertificate.extensions?.find(e=>e.extnID===pH);if(!f)throw Error("Certificate did not contain extKeyStore (Android Key)");let{attestationChallenge:h,teeEnforced:m,softwareEnforced:g}=oa.parse(f.extnValue,pJ);if(!rP.areEqual(new Uint8Array(h.buffer),r))throw Error("Attestation challenge was not equal to client data hash (Android Key)");if(void 0!==m.allApplications||void 0!==g.allApplications)throw Error('teeEnforced contained "allApplications [600]" tag (Android Key)');let y=await pk.getStatement(o);if(y)try{await pN({statement:y,credentialPublicKey:n,x5c:s,attestationStatementAlg:u})}catch(t){let e=t;throw Error(`${e.message} (Android Key)`,{cause:e})}else{let e=s.slice(0,-1).map(rU),t=s.slice(-1).map(rU);try{await dQ(e,t)}catch(t){let e=t;throw Error(`${e.message} (Android Key)`,{cause:e})}if(a.length>0&&0>a.indexOf(t[0]))throw Error("x5c root certificate was not a known root certificate (Android Key)")}return d4({signature:l,data:rP.concat([t,r]),x509Certificate:s[0],hashAlgorithm:u})}var rP=rP;async function p5(e){let{attStmt:t,authData:r,clientDataHash:i,credentialPublicKey:n,rootCertificates:o}=e,a=t.get("x5c");if(!a)throw Error("No attestation certificate provided in attestation statement (Apple)");try{await dQ(a.map(rU),o)}catch(t){let e=t;throw Error(`${e.message} (Apple)`)}let{extensions:s,subjectPublicKeyInfo:l}=oa.parse(a[0],aL).tbsCertificate;if(!s)throw Error("credCert missing extensions (Apple)");let u=s.find(e=>"1.2.840.113635.100.8.2"===e.extnID);if(!u)throw Error('credCert missing "1.2.840.113635.100.8.2" extension (Apple)');let c=rP.concat([r,i]),d=await dJ(c),p=new Uint8Array(u.extnValue.buffer).slice(6);if(!rP.areEqual(d,p))throw Error("credCert nonce was not expected value (Apple)");let f=rK(n),h=new Uint8Array(l.subjectPublicKey);if(!rP.areEqual(f,h))throw Error("Credential public key does not equal credCert public key (Apple)");return!0}async function p6(e){let t,{response:i,expectedChallenge:n,expectedOrigin:o,expectedRPID:a,expectedType:s,requireUserPresence:l=!0,requireUserVerification:u=!0,supportedAlgorithmIDs:c=pi,attestationSafetyNetEnforceCTSCheck:d=!0}=e,{id:p,rawId:f,type:h,response:m}=i;if(!p)throw Error("Missing credential ID");if(p!==f)throw Error("Credential ID was not base64url-encoded");if("public-key"!==h)throw Error(`Unexpected credential type ${h}, expected "public-key"`);let g=rj(m.clientDataJSON),{type:y,origin:v,challenge:b,tokenBinding:A}=g;if(Array.isArray(s)){if(!s.includes(y)){let e=s.join(", ");throw Error(`Unexpected registration response type "${y}", expected one of: ${e}`)}}else if(s){if(y!==s)throw Error(`Unexpected registration response type "${y}", expected "${s}"`)}else if("webauthn.create"!==y)throw Error(`Unexpected registration response type: ${y}`);if("function"==typeof n){if(!await n(b))throw Error(`Custom challenge verifier returned false for registration response challenge "${b}"`)}else if(b!==n)throw Error(`Unexpected registration response challenge "${b}", expected "${n}"`);if(Array.isArray(o)){if(!o.includes(v))throw Error(`Unexpected registration response origin "${v}", expected one of: ${o.join(", ")}`)}else if(v!==o)throw Error(`Unexpected registration response origin "${v}", expected "${o}"`);if(A){if("object"!=typeof A)throw Error(`Unexpected value for TokenBinding "${A}"`);if(0>["present","supported","not-supported"].indexOf(A.status))throw Error(`Unexpected tokenBinding.status value of "${A.status}"`)}let w=rw.toBuffer(m.attestationObject),_=rM(w),S=_.get("fmt"),E=_.get("authData"),T=_.get("attStmt"),{aaguid:I,rpIdHash:x,flags:O,credentialID:C,counter:k,credentialPublicKey:N,extensionsData:R}=dW(E);if(a){let e=[];e="string"==typeof a?[a]:a,t=await pu(x,e)}if(l&&!O.up)throw Error("User presence was required, but user was not present");if(u&&!O.uv)throw Error("User verification was required, but user could not be verified");if(!C)throw Error("No credential ID was provided by authenticator");if(!N)throw Error("No public key was provided by authenticator");if(!I)throw Error("No AAGUID was present during registration");let P=rz(N).get(r.alg);if("number"!=typeof P)throw Error("Credential public key was missing numeric alg");if(!c.includes(P)){let e=c.join(", ");throw Error(`Unexpected public key alg "${P}", expected one of "${e}"`)}let D={aaguid:I,attStmt:T,authData:E,clientDataHash:await dJ(rw.toBuffer(m.clientDataJSON)),credentialID:C,credentialPublicKey:N,rootCertificates:pb.getRootCertificates({identifier:S}),rpIdHash:x,attestationSafetyNetEnforceCTSCheck:d},U=!1;if("fido-u2f"===S)U=await pA(D);else if("packed"===S)U=await pD(D);else if("android-safetynet"===S)U=await pU(D);else if("android-key"===S)U=await p3(D);else if("tpm"===S)U=await pF(D);else if("apple"===S)U=await p5(D);else if("none"===S){if(T.size>0)throw Error("None attestation had unexpected attestation statement");U=!0}else throw Error(`Unsupported Attestation Format: ${S}`);if(!U)return{verified:!1};let{credentialDeviceType:L,credentialBackedUp:K}=ps(O);return{verified:!0,registrationInfo:{fmt:S,aaguid:rD(I),credentialType:h,credential:{id:rw.fromBuffer(C),publicKey:N,counter:k,transports:i.response.transports},attestationObject:w,userVerified:O.uv,credentialDeviceType:L,credentialBackedUp:K,origin:g.origin,rpID:t,authenticatorExtensionResults:R}}}var rw=rw,rP=rP;async function p8(e){let{allowCredentials:t,challenge:r=await pt(),timeout:i=6e4,userVerification:n="preferred",extensions:o,rpID:a}=e,s=r;return"string"==typeof s&&(s=rP.fromUTF8String(s)),{rpId:a,challenge:rw.fromBuffer(s),allowCredentials:t?.map(e=>{if(!rw.isBase64URL(e.id))throw Error(`allowCredential id "${e.id}" is not a valid base64url string`);return{...e,id:rw.trimPadding(e.id),type:"public-key"}}),timeout:i,userVerification:n,extensions:o}}var rw=rw,rP=rP;async function p9(e){let{response:t,expectedChallenge:r,expectedOrigin:i,expectedRPID:n,expectedType:o,credential:a,requireUserVerification:s=!0,advancedFIDOConfig:l}=e,{id:u,rawId:c,type:d,response:p}=t;if(!u)throw Error("Missing credential ID");if(u!==c)throw Error("Credential ID was not base64url-encoded");if("public-key"!==d)throw Error(`Unexpected credential type ${d}, expected "public-key"`);if(!t)throw Error("Credential missing response");if("string"!=typeof p?.clientDataJSON)throw Error("Credential response clientDataJSON was not a string");let f=rj(p.clientDataJSON),{type:h,origin:m,challenge:g,tokenBinding:y}=f;if(Array.isArray(o)){if(!o.includes(h)){let e=o.join(", ");throw Error(`Unexpected authentication response type "${h}", expected one of: ${e}`)}}else if(o){if(h!==o)throw Error(`Unexpected authentication response type "${h}", expected "${o}"`)}else if("webauthn.get"!==h)throw Error(`Unexpected authentication response type: ${h}`);if("function"==typeof r){if(!await r(g))throw Error(`Custom challenge verifier returned false for registration response challenge "${g}"`)}else if(g!==r)throw Error(`Unexpected authentication response challenge "${g}", expected "${r}"`);if(Array.isArray(i)){if(!i.includes(m)){let e=i.join(", ");throw Error(`Unexpected authentication response origin "${m}", expected one of: ${e}`)}}else if(m!==i)throw Error(`Unexpected authentication response origin "${m}", expected "${i}"`);if(!rw.isBase64URL(p.authenticatorData))throw Error("Credential response authenticatorData was not a base64url string");if(!rw.isBase64URL(p.signature))throw Error("Credential response signature was not a base64url string");if(p.userHandle&&"string"!=typeof p.userHandle)throw Error("Credential response userHandle was not a string");if(y){if("object"!=typeof y)throw Error("ClientDataJSON tokenBinding was not an object");if(0>["present","supported","notSupported"].indexOf(y.status))throw Error(`Unexpected tokenBinding status ${y.status}`)}let v=rw.toBuffer(p.authenticatorData),{rpIdHash:b,flags:A,counter:w,extensionsData:_}=dW(v),S=[];S="string"==typeof n?[n]:n;let E=await pu(b,S);if(void 0!==l){let{userVerification:e}=l;if("required"===e&&!A.uv)throw Error("User verification required, but user could not be verified")}else{if(!A.up)throw Error("User not present during authentication");if(s&&!A.uv)throw Error("User verification required, but user could not be verified")}let T=await dJ(rw.toBuffer(p.clientDataJSON)),I=rP.concat([v,T]),x=rw.toBuffer(p.signature);if((w>0||a.counter>0)&&w<=a.counter)throw Error(`Response counter value ${w} was lower than expected ${a.counter}`);let{credentialDeviceType:O,credentialBackedUp:C}=ps(A);return{verified:await d4({signature:x,data:I,credentialPublicKey:a.publicKey}),authenticationInfo:{newCounter:w,credentialID:a.id,userVerified:A.uv,credentialDeviceType:O,credentialBackedUp:C,authenticatorExtensionResults:_,origin:f.origin,rpID:E}}}var p7=e.i(154456),fe=e.i(362160),ft=e.i(907855),fr=e.i(909879);e.i(446610);var fi=e.i(681393);e.i(338270),e.i(537430);var fo=e.i(66655);e.i(464589);var fa=e.i(649330);e.i(282318);var fs=e.i(530501);function fl(e,t){return e.rpID||(t?new URL(t).hostname:"localhost")}e.i(172381),e.i(339127),e.i(973088),e.i(130717),e.i(795080),e.i(35972),e.i(323770),e.i(805650),e.i(408972),e.i(533078),e.i(181984),e.i(129776);let fu=e=>{let t={origin:null,...e,advanced:{webAuthnChallengeCookie:"better-auth-passkey",...e?.advanced}},r=new Date(Date.now()+3e5),i=new Date,n=Math.floor((r.getTime()-i.getTime())/1e3),o={CHALLENGE_NOT_FOUND:"Challenge not found",YOU_ARE_NOT_ALLOWED_TO_REGISTER_THIS_PASSKEY:"You are not allowed to register this passkey",FAILED_TO_VERIFY_REGISTRATION:"Failed to verify registration",PASSKEY_NOT_FOUND:"Passkey not found",AUTHENTICATION_FAILED:"Authentication failed",UNABLE_TO_CREATE_SESSION:"Unable to create session",FAILED_TO_UPDATE_PASSKEY:"Failed to update passkey"};return{id:"passkey",endpoints:{generatePasskeyRegistrationOptions:(0,fr.a)("/passkey/generate-register-options",{method:"GET",use:[fr.f],query:ft.object({authenticatorAttachment:ft.enum(["platform","cross-platform"]).optional(),name:ft.string().optional()}).optional(),metadata:{client:!1,openapi:{description:"Generate registration options for a new passkey",responses:{200:{description:"Success",parameters:{query:{authenticatorAttachment:{description:`Type of authenticator to use for registration.
                          "platform" for device-specific authenticators,
                          "cross-platform" for authenticators that can be used across devices.`,required:!1},name:{description:`Optional custom name for the passkey.
                          This can help identify the passkey when managing multiple credentials.`,required:!1}}},content:{"application/json":{schema:{type:"object",properties:{challenge:{type:"string"},rp:{type:"object",properties:{name:{type:"string"},id:{type:"string"}}},user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},displayName:{type:"string"}}},pubKeyCredParams:{type:"array",items:{type:"object",properties:{type:{type:"string"},alg:{type:"number"}}}},timeout:{type:"number"},excludeCredentials:{type:"array",items:{type:"object",properties:{id:{type:"string"},type:{type:"string"},transports:{type:"array",items:{type:"string"}}}}},authenticatorSelection:{type:"object",properties:{authenticatorAttachment:{type:"string"},requireResidentKey:{type:"boolean"},userVerification:{type:"string"}}},attestation:{type:"string"},extensions:{type:"object"}}}}}}}}}},async e=>{let i,{session:o}=e.context,a=await e.context.adapter.findMany({model:"passkey",where:[{field:"userId",value:o.user.id}]}),s=new TextEncoder().encode((0,fe.g)(32,"a-z","0-9"));i=await pa({rpName:t.rpName||e.context.appName,rpID:fl(t,e.context.options.baseURL),userID:s,userName:e.query?.name||o.user.email||o.user.id,userDisplayName:o.user.email||o.user.id,attestationType:"none",excludeCredentials:a.map(e=>({id:e.credentialID,transports:e.transports?.split(",")})),authenticatorSelection:{residentKey:"preferred",userVerification:"preferred",...t.authenticatorSelection||{},...e.query?.authenticatorAttachment?{authenticatorAttachment:e.query.authenticatorAttachment}:{}}});let l=(0,fa.g)(32),u=e.context.createAuthCookie(t.advanced.webAuthnChallengeCookie);return await e.setSignedCookie(u.name,l,e.context.secret,{...u.attributes,maxAge:n}),await e.context.internalAdapter.createVerificationValue({identifier:l,value:JSON.stringify({expectedChallenge:i.challenge,userData:{id:o.user.id}}),expiresAt:r},e),e.json(i,{status:200})}),generatePasskeyAuthenticationOptions:(0,fr.a)("/passkey/generate-authenticate-options",{method:"POST",metadata:{openapi:{description:"Generate authentication options for a passkey",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{challenge:{type:"string"},rp:{type:"object",properties:{name:{type:"string"},id:{type:"string"}}},user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},displayName:{type:"string"}}},timeout:{type:"number"},allowCredentials:{type:"array",items:{type:"object",properties:{id:{type:"string"},type:{type:"string"},transports:{type:"array",items:{type:"string"}}}}},userVerification:{type:"string"},authenticatorSelection:{type:"object",properties:{authenticatorAttachment:{type:"string"},requireResidentKey:{type:"boolean"},userVerification:{type:"string"}}},extensions:{type:"object"}}}}}}}}}},async e=>{let i=await (0,fr.g)(e),o=[];i&&(o=await e.context.adapter.findMany({model:"passkey",where:[{field:"userId",value:i.user.id}]}));let a=await p8({rpID:fl(t,e.context.options.baseURL),userVerification:"preferred",...o.length?{allowCredentials:o.map(e=>({id:e.credentialID,transports:e.transports?.split(",")}))}:{}}),s={expectedChallenge:a.challenge,userData:{id:i?.user.id||""}},l=(0,fa.g)(32),u=e.context.createAuthCookie(t.advanced.webAuthnChallengeCookie);return await e.setSignedCookie(u.name,l,e.context.secret,{...u.attributes,maxAge:n}),await e.context.internalAdapter.createVerificationValue({identifier:l,value:JSON.stringify(s),expiresAt:r},e),e.json(a,{status:200})}),verifyPasskeyRegistration:(0,fr.a)("/passkey/verify-registration",{method:"POST",body:ft.object({response:ft.any(),name:ft.string().meta({description:"Name of the passkey"}).optional()}),use:[fr.f],metadata:{openapi:{description:"Verify registration of a new passkey",responses:{200:{description:"Success",content:{"application/json":{schema:{$ref:"#/components/schemas/Passkey"}}}},400:{description:"Bad request"}}}}},async r=>{let i=e?.origin||r.headers?.get("origin")||"";if(!i)return r.json(null,{status:400});let n=r.body.response,a=r.context.createAuthCookie(t.advanced.webAuthnChallengeCookie),s=await r.getSignedCookie(a.name,r.context.secret);if(!s)throw new p7.APIError("BAD_REQUEST",{message:o.CHALLENGE_NOT_FOUND});let l=await r.context.internalAdapter.findVerificationValue(s);if(!l)return r.json(null,{status:400});let{expectedChallenge:u,userData:c}=JSON.parse(l.value);if(c.id!==r.context.session.user.id)throw new p7.APIError("UNAUTHORIZED",{message:o.YOU_ARE_NOT_ALLOWED_TO_REGISTER_THIS_PASSKEY});try{let{verified:e,registrationInfo:o}=await p6({response:n,expectedChallenge:u,expectedOrigin:i,expectedRPID:fl(t,r.context.options.baseURL),requireUserVerification:!1});if(!e||!o)return r.json(null,{status:400});let{aaguid:a,credentialDeviceType:s,credentialBackedUp:l,credential:d,credentialType:p}=o,f=fs.base64.encode(d.publicKey),h={name:r.body.name,userId:c.id,credentialID:d.id,publicKey:f,counter:d.counter,deviceType:s,transports:n.response.transports.join(","),backedUp:l,createdAt:new Date,aaguid:a},m=await r.context.adapter.create({model:"passkey",data:h});return r.json(m,{status:200})}catch(e){throw console.log(e),new p7.APIError("INTERNAL_SERVER_ERROR",{message:o.FAILED_TO_VERIFY_REGISTRATION})}}),verifyPasskeyAuthentication:(0,fr.a)("/passkey/verify-authentication",{method:"POST",body:ft.object({response:ft.record(ft.any(),ft.any())}),metadata:{openapi:{description:"Verify authentication of a passkey",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}}}}}}}},$Infer:{body:{}}}},async r=>{let i=e?.origin||r.headers?.get("origin")||"";if(!i)throw new p7.APIError("BAD_REQUEST",{message:"origin missing"});let n=r.body.response,a=r.context.createAuthCookie(t.advanced.webAuthnChallengeCookie),s=await r.getSignedCookie(a.name,r.context.secret);if(!s)throw new p7.APIError("BAD_REQUEST",{message:o.CHALLENGE_NOT_FOUND});let l=await r.context.internalAdapter.findVerificationValue(s);if(!l)throw new p7.APIError("BAD_REQUEST",{message:o.CHALLENGE_NOT_FOUND});let{expectedChallenge:u}=JSON.parse(l.value),c=await r.context.adapter.findOne({model:"passkey",where:[{field:"credentialID",value:n.id}]});if(!c)throw new p7.APIError("UNAUTHORIZED",{message:o.PASSKEY_NOT_FOUND});try{let e=await p9({response:n,expectedChallenge:u,expectedOrigin:i,expectedRPID:fl(t,r.context.options.baseURL),credential:{id:c.credentialID,publicKey:fs.base64.decode(c.publicKey),counter:c.counter,transports:c.transports?.split(",")},requireUserVerification:!1}),{verified:a}=e;if(!a)throw new p7.APIError("UNAUTHORIZED",{message:o.AUTHENTICATION_FAILED});await r.context.adapter.update({model:"passkey",where:[{field:"id",value:c.id}],update:{counter:e.authenticationInfo.newCounter}});let s=await r.context.internalAdapter.createSession(c.userId,r);if(!s)throw new p7.APIError("INTERNAL_SERVER_ERROR",{message:o.UNABLE_TO_CREATE_SESSION});let l=await r.context.internalAdapter.findUserById(c.userId);if(!l)throw new p7.APIError("INTERNAL_SERVER_ERROR",{message:"User not found"});return await (0,fi.s)(r,{session:s,user:l}),r.json({session:s},{status:200})}catch(e){throw r.context.logger.error("Failed to verify authentication",e),new p7.APIError("BAD_REQUEST",{message:o.AUTHENTICATION_FAILED})}}),listPasskeys:(0,fr.a)("/passkey/list-user-passkeys",{method:"GET",use:[fr.s],metadata:{openapi:{description:"List all passkeys for the authenticated user",responses:{200:{description:"Passkeys retrieved successfully",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Passkey",required:["id","userId","publicKey","createdAt","updatedAt"]},description:"Array of passkey objects associated with the user"}}}}}}}},async e=>{let t=await e.context.adapter.findMany({model:"passkey",where:[{field:"userId",value:e.context.session.user.id}]});return e.json(t,{status:200})}),deletePasskey:(0,fr.a)("/passkey/delete-passkey",{method:"POST",body:ft.object({id:ft.string().meta({description:'The ID of the passkey to delete. Eg: "some-passkey-id"'})}),use:[fr.s],metadata:{openapi:{description:"Delete a specific passkey",responses:{200:{description:"Passkey deleted successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates whether the deletion was successful"}},required:["status"]}}}}}}}},async e=>(await e.context.adapter.delete({model:"passkey",where:[{field:"id",value:e.body.id}]}),e.json(null,{status:200}))),updatePasskey:(0,fr.a)("/passkey/update-passkey",{method:"POST",body:ft.object({id:ft.string().meta({description:'The ID of the passkey which will be updated. Eg: "passkey-id"'}),name:ft.string().meta({description:'The new name which the passkey will be updated to. Eg: "my-new-passkey-name"'})}),use:[fr.s],metadata:{openapi:{description:"Update a specific passkey's name",responses:{200:{description:"Passkey updated successfully",content:{"application/json":{schema:{type:"object",properties:{passkey:{$ref:"#/components/schemas/Passkey"}},required:["passkey"]}}}}}}}},async e=>{let t=await e.context.adapter.findOne({model:"passkey",where:[{field:"id",value:e.body.id}]});if(!t)throw new p7.APIError("NOT_FOUND",{message:o.PASSKEY_NOT_FOUND});if(t.userId!==e.context.session.user.id)throw new p7.APIError("UNAUTHORIZED",{message:o.YOU_ARE_NOT_ALLOWED_TO_REGISTER_THIS_PASSKEY});let r=await e.context.adapter.update({model:"passkey",where:[{field:"id",value:e.body.id}],update:{name:e.body.name}});if(!r)throw new p7.APIError("INTERNAL_SERVER_ERROR",{message:o.FAILED_TO_UPDATE_PASSKEY});return e.json({passkey:r},{status:200})})},schema:(0,fo.m)(fc,e?.schema),$ERROR_CODES:o}},fc={passkey:{fields:{name:{type:"string",required:!1},publicKey:{type:"string",required:!0},userId:{type:"string",references:{model:"user",field:"id"},required:!0},credentialID:{type:"string",required:!0},counter:{type:"number",required:!0},deviceType:{type:"string",required:!0},backedUp:{type:"boolean",required:!0},transports:{type:"string",required:!1},createdAt:{type:"date",required:!1},aaguid:{type:"string",required:!1}}}},fd=e.i(405614).gen(function*(){let e=yield*tg.IamConfig;return fu({rpID:e.app.domain,rpName:`${e.app.name} Auth`})});e.s(["passkeyPlugin",0,fd],826608)},193323,e=>{"use strict";e.i(826608),e.s([])},924977,e=>{"use strict";var t=e.i(683117);let r=e.i(405614).succeed((0,t.phoneNumber)());e.s(["phoneNumberPlugin",0,r])},95067,e=>{"use strict";e.i(924977),e.s([])},25271,e=>{"use strict";var t=e.i(853053),r=e.i(334940);let i=e.i(405614).gen(function*(){let e=yield*t.IamConfig;return(0,r.siwe)({domain:e.app.domain,getNonce:async()=>"beep",verifyMessage:async e=>!1})});e.s(["siwePlugin",0,i])},50461,e=>{"use strict";e.i(25271),e.s([])},689288,274444,e=>{"use strict";var t=e.i(909879);e.s(["sessionMiddleware",()=>t.s],689288),e.i(654048),e.i(562810),e.s([],274444)},902015,(e,t,r)=>{t.exports={options:{usePureJavaScript:!1}}},495461,(e,t,r)=>{var i={};t.exports=i;var n={};function o(e,t){var r=0,i=t.length,n=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%i,s=s/i|0;for(;s>0;)o.push(s%i),s=s/i|0}var l="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)l+=n;for(r=o.length-1;r>=0;--r)l+=t[o[r]];return l}i.encode=function(e,t,r){if("string"!=typeof t)throw TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw TypeError('"maxline" must be a number.');var i="";if(e instanceof Uint8Array){var n=0,a=t.length,s=t.charAt(0),l=[0];for(n=0;n<e.length;++n){for(var u=0,c=e[n];u<l.length;++u)c+=l[u]<<8,l[u]=c%a,c=c/a|0;for(;c>0;)l.push(c%a),c=c/a|0}for(n=0;0===e[n]&&n<e.length-1;++n)i+=s;for(n=l.length-1;n>=0;--n)i+=t[l[n]]}else i=o(e,t);if(r){var d=RegExp(".{1,"+r+"}","g");i=i.match(d).join("\r\n")}return i},i.decode=function(e,t){if("string"!=typeof e)throw TypeError('"input" must be a string.');if("string"!=typeof t)throw TypeError('"alphabet" must be a string.');var r=n[t];if(!r){r=n[t]=[];for(var i=0;i<t.length;++i)r[t.charCodeAt(i)]=i}e=e.replace(/\s/g,"");for(var o=t.length,a=t.charAt(0),s=[0],i=0;i<e.length;i++){var l=r[e.charCodeAt(i)];if(void 0===l)return;for(var u=0,c=l;u<s.length;++u)c+=s[u]*o,s[u]=255&c,c>>=8;for(;c>0;)s.push(255&c),c>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)s.push(0);return"undefined"!=typeof Buffer?Buffer.from(s.reverse()):new Uint8Array(s.reverse())}},826706,(e,t,r)=>{var i=e.r(902015),n=e.r(495461),o=t.exports=i.util=i.util||{};function a(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw Error("Only 8, 16, 24, or 32 bits supported: "+e)}function s(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof s||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&1){o.nextTick=process.nextTick,"function"==typeof setImmediate?o.setImmediate=setImmediate:o.setImmediate=o.nextTick;return}if("function"==typeof setImmediate){o.setImmediate=function(){return setImmediate.apply(void 0,arguments)},o.nextTick=function(e){return setImmediate(e)};return}if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof MutationObserver){var e,t=Date.now(),r=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var t=e.slice();e.length=0,t.forEach(function(e){e()})}).observe(i,{attributes:!0});var n=o.setImmediate;o.setImmediate=function(o){Date.now()-t>15?(t=Date.now(),n(o)):(e.push(o),1===e.length&&i.setAttribute("a",r=!r))}}o.nextTick=o.setImmediate}(),o.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,o.globalScope=function(){return o.isNodejs?e.g:"undefined"==typeof self?window:self}(),o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},o.ByteBuffer=s,o.ByteStringBuffer=s;var l=4096;function u(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=o.isArrayBuffer(e),i=o.isArrayBufferView(e);if(r||i){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>l&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){a(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0)return this.putBytes(r)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){a(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0)return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=u,o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+t);return i.set(r),this.data=new DataView(i.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var r,i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=i.byteLength-i.byteOffset;this.accommodate(n);var a=new Uint8Array(this.data.buffer,this.write);return a.set(i),this.write+=n,this}if(o.isArrayBuffer(e)){var i=new Uint8Array(e);this.accommodate(i.byteLength);var a=new Uint8Array(this.data.buffer);return a.set(i,this.write),this.write+=i.byteLength,this}if(e instanceof o.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&o.isArrayBufferView(e.data)){var i=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(i.byteLength);var a=new Uint8Array(e.data.byteLength,this.write);return a.set(i),this.write+=i.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),r=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,r,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),r=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,r,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),r=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(r),this;if("utf16"===t)return this.accommodate(2*e.length),r=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(r),this;throw Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){a(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0)return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return a(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){a(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0)return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},o.xorBytes=function(e,t,r){for(var i="",n="",o="",a=0,s=0;r>0;--r,++a)n=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(i+=o,o="",s=0),o+=String.fromCharCode(n),++s;return i+o},o.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";o.encode64=function(e,t){for(var r,i,n,o="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),i=e.charCodeAt(s++),n=e.charCodeAt(s++),o+=c.charAt(r>>2),o+=c.charAt((3&r)<<4|i>>4),isNaN(i)?o+="==":(o+=c.charAt((15&i)<<2|n>>6),o+=isNaN(n)?"=":c.charAt(63&n)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+o},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,i,n,o="",a=0;a<e.length;)t=d[e.charCodeAt(a++)-43],r=d[e.charCodeAt(a++)-43],i=d[e.charCodeAt(a++)-43],n=d[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==i&&(o+=String.fromCharCode((15&r)<<4|i>>2),64!==n&&(o+=String.fromCharCode((3&i)<<6|n)));return o},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:n.encode,decode:n.decode}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,r){var i=t;i||(i=new Uint8Array(e.length));for(var n=r=r||0,o=0;o<e.length;++o)i[n++]=e.charCodeAt(o);return t?n-r:i},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,r){var i=t;i||(i=new Uint8Array(Math.ceil(e.length/2)));var n=0,o=r=r||0;for(1&e.length&&(n=1,i[o++]=parseInt(e[0],16));n<e.length;n+=2)i[o++]=parseInt(e.substr(n,2),16);return t?o-r:i},o.binary.base64.encode=function(e,t){for(var r,i,n,o="",a="",s=0;s<e.byteLength;)r=e[s++],i=e[s++],n=e[s++],o+=c.charAt(r>>2),o+=c.charAt((3&r)<<4|i>>4),isNaN(i)?o+="==":(o+=c.charAt((15&i)<<2|n>>6),o+=isNaN(n)?"=":c.charAt(63&n)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+o},o.binary.base64.decode=function(e,t,r){var i,n,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var l=0,u=r=r||0;l<e.length;)i=d[e.charCodeAt(l++)-43],n=d[e.charCodeAt(l++)-43],o=d[e.charCodeAt(l++)-43],a=d[e.charCodeAt(l++)-43],s[u++]=i<<2|n>>4,64!==o&&(s[u++]=(15&n)<<4|o>>2,64!==a&&(s[u++]=(3&o)<<6|a));return t?u-r:s.subarray(0,u)},o.binary.base58.encode=function(e,t){return o.binary.baseN.encode(e,p,t)},o.binary.base58.decode=function(e,t){return o.binary.baseN.decode(e,p,t)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,r){e=o.encodeUtf8(e);var i=t;i||(i=new Uint8Array(e.length));for(var n=r=r||0,a=0;a<e.length;++a)i[n++]=e.charCodeAt(a);return t?n-r:i},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,r){var i=t;i||(i=new Uint8Array(2*e.length));for(var n=new Uint16Array(i.buffer),o=r=r||0,a=r,s=0;s<e.length;++s)n[a++]=e.charCodeAt(s),o+=2;return t?o-r:i},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,r){if(t=o.decode64(e.deflate(o.encode64(t)).rval),r){var i=2;32&t.charCodeAt(1)&&(i=6),t=t.substring(i,t.length-4)}return t},o.inflate=function(e,t,r){var i=e.inflate(o.encode64(t)).rval;return null===i?null:o.decode64(i)};var f=function(e,t,r){if(!e)throw Error("WebStorage not available.");if(null===r?i=e.removeItem(t):(r=o.encode64(JSON.stringify(r)),i=e.setItem(t,r)),void 0!==i&&!0!==i.rval){var i,n=Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},h=function(e,t){if(!e)throw Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var i=Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(o.decode64(r))),r},m=function(e,t,r,i){var n=h(e,t);null===n&&(n={}),n[r]=i,f(e,t,n)},g=function(e,t,r){var i=h(e,t);return null!==i&&(i=r in i?i[r]:null),i},y=function(e,t,r){var i=h(e,t);if(null!==i&&r in i){delete i[r];var n=!0;for(var o in i){n=!1;break}n&&(i=null),f(e,t,i)}},v=function(e,t){f(e,t,null)},b=function(e,t,r){var i,n=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){i=r[s];try{if("flash"===i||"both"===i){if(null===t[0])throw Error("Flash local storage not available.");n=e.apply(this,t),o="flash"===i}("web"===i||"both"===i)&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return n};o.setItem=function(e,t,r,i,n){b(m,arguments,n)},o.getItem=function(e,t,r,i){return b(g,arguments,i)},o.removeItem=function(e,t,r,i){b(y,arguments,i)},o.clearItems=function(e,t,r){b(v,arguments,r)},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){for(var t,r,i=/%./g,n=0,o=[],a=0;t=i.exec(e);){(r=e.substring(a,i.lastIndex-2)).length>0&&o.push(r),a=i.lastIndex;var s=t[0][1];switch(s){case"s":case"o":n<arguments.length?o.push(arguments[n+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},o.formatNumber=function(e,t,r,i){var n=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===i?".":i,l=n<0?"-":"",u=parseInt(n=Math.abs(+n||0).toFixed(o),10)+"",c=u.length>3?u.length%3:0;return l+(c?u.substr(0,c)+s:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(n-u).toFixed(o).slice(2):"")},o.formatSize=function(e){return e>=0x40000000?o.formatNumber(e/0x40000000,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes"},o.bytesFromIP=function(e){return -1!==e.indexOf(".")?o.bytesFromIPv4(e):-1!==e.indexOf(":")?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=o.createBuffer(),r=0;r<e.length;++r){var i=parseInt(e[r],10);if(isNaN(i))return null;t.putByte(i)}return t.getBytes()},o.bytesFromIPv6=function(e){for(var t=0,r=(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t)*2,i=o.createBuffer(),n=0;n<8;++n){if(!e[n]||0===e[n].length){i.fillWithByte(0,r),r=0;continue}var a=o.hexToBytes(e[n]);a.length<2&&i.putByte(0),i.putBytes(a)}return i.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],i=0,n=0;n<e.length;n+=2){for(var a=o.bytesToHex(e[n]+e[n+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var s=r[r.length-1],l=t.length;s&&l===s.end+1?(s.end=l,s.end-s.start>r[i].end-r[i].start&&(i=r.length-1)):r.push({start:l,end:l})}t.push(a)}if(r.length>0){var u=r[i];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"==typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"==typeof Blob)return o.cores=2,t(null,o.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}).toString(),")()"],{type:"application/javascript"}));function i(e,s,l){if(0===s)return o.cores=Math.max(1,Math.floor(e.reduce(function(e,t){return e+t},0)/e.length)),URL.revokeObjectURL(r),t(null,o.cores);n(l,function(t,r){e.push(a(l,r)),i(e,s-1,l)})}function n(e,t){for(var i=[],n=[],o=0;o<e;++o){var a=new Worker(r);a.addEventListener("message",function(r){if(n.push(r.data),n.length===e){for(var o=0;o<e;++o)i[o].terminate();t(null,n)}}),i.push(a)}for(var o=0;o<e;++o)i[o].postMessage(o)}function a(e,t){for(var r=[],i=0;i<e;++i)for(var n=t[i],o=r[i]=[],a=0;a<e;++a)if(i!==a){var s=t[a];(n.st>s.st&&n.st<s.et||s.st>n.st&&s.st<n.et)&&o.push(a)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}i([],5,16)}},37170,(e,t,r)=>{var i=e.r(902015);e.r(826706),t.exports=i.cipher=i.cipher||{},i.cipher.algorithms=i.cipher.algorithms||{},i.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=i.cipher.getAlgorithm(r))&&(r=r()),!r)throw Error("Unsupported algorithm: "+e);return new i.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},i.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=i.cipher.getAlgorithm(r))&&(r=r()),!r)throw Error("Unsupported algorithm: "+e);return new i.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},i.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),i.cipher.algorithms[e]=t},i.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in i.cipher.algorithms?i.cipher.algorithms[e]:null};var n=i.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};n.prototype.start=function(e){var t={};for(var r in e=e||{})t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=i.util.createBuffer(),this.output=e.output||i.util.createBuffer(),this.mode.start(t)},n.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},n.prototype.finish=function(e){e&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,(!!this._decrypt||!this.mode.pad||!!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),(!this._decrypt||!this.mode.unpad||!!this.mode.unpad(this.output,t))&&(!this.mode.afterFinish||!!this.mode.afterFinish(this.output,t)))}},367424,(e,t,r)=>{var i=e.r(902015);e.r(826706),i.cipher=i.cipher||{};var n=t.exports=i.cipher.modes=i.cipher.modes||{};function o(e,t){if("string"==typeof e&&(e=i.util.createBuffer(e)),i.util.isArray(e)&&e.length>4){var r=e;e=i.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!i.util.isArray(e)){for(var o=[],a=t/4,n=0;n<a;++n)o.push(e.getInt32());e=o}return e}function a(e){e[e.length-1]=e[e.length-1]+1|0}function s(e){return[e/0x100000000|0,0|e]}n.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},n.ecb.prototype.start=function(e){},n.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i])},n.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i])},n.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},n.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),i=e.at(r-1);return!(i>this.blockSize<<2)&&(e.truncate(i),!0)},n.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},n.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=o(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw Error("Invalid IV parameter.")},n.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]);this._prev=this._outBlock},n.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)},n.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},n.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),i=e.at(r-1);return!(i>this.blockSize<<2)&&(e.truncate(i),!0)},n.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialBlock=Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},n.cfb.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.cfb.prototype.encrypt=function(e,t,r){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32()^this._outBlock[n],t.putInt32(this._inBlock[n]);return}var o=(this.blockSize-i)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=e.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(o>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0},n.cfb.prototype.decrypt=function(e,t,r){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32(),t.putInt32(this._inBlock[n]^this._outBlock[n]);return}var o=(this.blockSize-i)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(o>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0},n.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},n.ofb.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.ofb.prototype.encrypt=function(e,t,r){var i=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var n=0;n<this._ints;++n)t.putInt32(e.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var o=(this.blockSize-i)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(o>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0},n.ofb.prototype.decrypt=n.ofb.prototype.encrypt,n.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},n.ctr.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.ctr.prototype.encrypt=function(e,t,r){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize)for(var n=0;n<this._ints;++n)t.putInt32(e.getInt32()^this._outBlock[n]);else{var o=(this.blockSize-i)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},n.ctr.prototype.decrypt=n.ctr.prototype.encrypt,n.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0,this._R=0xe1000000},n.gcm.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");var t,r=i.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?i.util.createBuffer(e.additionalData):i.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=i.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");this._hashBlock=Array(this._ints),this.tag=null,this._hashSubkey=Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=r.length();if(12===n)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*n)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=i.util.createBuffer(t),this._aDataLength=s(8*t.length());var o=t.length()%this.blockSize;for(o&&t.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},n.gcm.prototype.encrypt=function(e,t,r){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-i)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(o<=0||r){if(r){var s=i%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},n.gcm.prototype.decrypt=function(e,t,r){var i=e.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize},n.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=i.util.createBuffer();var n=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},n.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],i=t.slice(0),n=0;n<128;++n)e[n/32|0]&1<<31-n%32&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),this.pow(i,i);return r},n.gcm.prototype.pow=function(e,t){for(var r=1&e[3],i=3;i>0;--i)t[i]=e[i]>>>1|(1&e[i-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},n.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var i=e[r/8|0]>>>(7-r%8)*4&15,n=this._m[r][i];t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]}return t},n.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},n.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,i=4*r,n=16*r,o=Array(n),a=0;a<n;++a){var s=[0,0,0,0],l=a/i|0,u=(i-1-a%i)*t;s[l]=1<<t-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o},n.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,i=r>>>1,n=Array(r);n[i]=e.slice(0);for(var o=i>>>1;o>0;)this.pow(n[2*o],n[o]=[]),o>>=1;for(o=2;o<i;){for(var a=1;a<o;++a){var s=n[o],l=n[a];n[o+a]=[s[0]^l[0],s[1]^l[1],s[2]^l[2],s[3]^l[3]]}o*=2}for(n[0]=[0,0,0,0],o=i+1;o<r;++o){var u=n[o^i];n[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return n}},401258,(e,t,r)=>{var i,n,o,a,s,l=e.r(902015);function u(e,t){var r=function(){return new l.aes.Algorithm(e,t)};l.cipher.registerAlgorithm(e,r)}e.r(37170),e.r(367424),e.r(826706),t.exports=l.aes=l.aes||{},l.aes.startEncrypting=function(e,t,r,i){var n=m({key:e,output:r,decrypt:!1,mode:i});return n.start(t),n},l.aes.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},l.aes.startDecrypting=function(e,t,r,i){var n=m({key:e,output:r,decrypt:!0,mode:i});return n.start(t),n},l.aes.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},l.aes.Algorithm=function(e,t){c||p();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(r._w,e,t,!1)},decrypt:function(e,t){return h(r._w,e,t,!0)}}}),r._init=!1},l.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"==typeof r&&(16===r.length||24===r.length||32===r.length))r=l.util.createBuffer(r);else if(l.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=l.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}if(!l.util.isArray(r)){t=r,r=[];var n=t.length();if(16===n||24===n||32===n){n>>>=2;for(var i=0;i<n;++i)r.push(t.getInt32())}}if(!l.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw Error("Invalid key parameter.");var o=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=f(r,e.decrypt&&!a),this._init=!0}},l.aes._expandKey=function(e,t){return c||p(),f(e,t)},l.aes._updateBlock=h,u("AES-ECB",l.cipher.modes.ecb),u("AES-CBC",l.cipher.modes.cbc),u("AES-CFB",l.cipher.modes.cfb),u("AES-OFB",l.cipher.modes.ofb),u("AES-CTR",l.cipher.modes.ctr),u("AES-GCM",l.cipher.modes.gcm);var c=!1,d=4;function p(){c=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;i=Array(256),n=Array(256),a=[,,,,],s=[,,,,];for(var t=0;t<4;++t)a[t]=Array(256),s[t]=Array(256);for(var r,l,u,d,p,f,h,m=0,g=0,t=0;t<256;++t){d=(d=g^g<<1^g<<2^g<<3^g<<4)>>8^255&d^99,i[m]=d,n[d]=m,p=e[d],r=e[m],l=e[r],u=e[l],f=p<<24^d<<16^d<<8^(d^p),h=(r^l^u)<<24^(m^u)<<16^(m^l^u)<<8^(m^r^u);for(var y=0;y<4;++y)a[y][m]=f,s[y][d]=h,f=f<<24|f>>>8,h=h<<24|h>>>8;0===m?m=g=1:(m=r^e[e[e[r^u]]],g^=e[e[g]])}}function f(e,t){for(var r,n=e.slice(0),a=1,l=n.length,u=d*(l+6+1),c=l;c<u;++c)r=n[c-1],c%l==0?(r=i[r>>>16&255]<<24^i[r>>>8&255]<<16^i[255&r]<<8^i[r>>>24]^o[a]<<24,a++):l>6&&c%l==4&&(r=i[r>>>24]<<24^i[r>>>16&255]<<16^i[r>>>8&255]<<8^i[255&r]),n[c]=n[c-l]^r;if(t){var p,f=s[0],h=s[1],m=s[2],g=s[3],y=n.slice(0);u=n.length;for(var c=0,v=u-d;c<u;c+=d,v-=d)if(0===c||c===u-d)y[c]=n[v],y[c+1]=n[v+3],y[c+2]=n[v+2],y[c+3]=n[v+1];else for(var b=0;b<d;++b)p=n[v+b],y[c+(3&-b)]=f[i[p>>>24]]^h[i[p>>>16&255]]^m[i[p>>>8&255]]^g[i[255&p]];n=y}return n}function h(e,t,r,o){var l,u,c,d,p,f,h,m,g,y,v,b,A=e.length/4-1;o?(l=s[0],u=s[1],c=s[2],d=s[3],p=n):(l=a[0],u=a[1],c=a[2],d=a[3],p=i),f=t[0]^e[0],h=t[o?3:1]^e[1],m=t[2]^e[2],g=t[o?1:3]^e[3];for(var w=3,_=1;_<A;++_)y=l[f>>>24]^u[h>>>16&255]^c[m>>>8&255]^d[255&g]^e[++w],v=l[h>>>24]^u[m>>>16&255]^c[g>>>8&255]^d[255&f]^e[++w],b=l[m>>>24]^u[g>>>16&255]^c[f>>>8&255]^d[255&h]^e[++w],g=l[g>>>24]^u[f>>>16&255]^c[h>>>8&255]^d[255&m]^e[++w],f=y,h=v,m=b;r[0]=p[f>>>24]<<24^p[h>>>16&255]<<16^p[m>>>8&255]<<8^p[255&g]^e[++w],r[o?3:1]=p[h>>>24]<<24^p[m>>>16&255]<<16^p[g>>>8&255]<<8^p[255&f]^e[++w],r[2]=p[m>>>24]<<24^p[g>>>16&255]<<16^p[f>>>8&255]<<8^p[255&h]^e[++w],r[o?1:3]=p[g>>>24]<<24^p[f>>>16&255]<<16^p[h>>>8&255]<<8^p[255&m]^e[++w]}function m(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?l.cipher.createDecipher(r,e.key):l.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var n=null;r instanceof l.util.ByteBuffer&&(n=r,r={}),(r=r||{}).output=n,r.iv=e,i.call(t,r)},t}},131808,(e,t,r)=>{var i=e.r(902015);i.pki=i.pki||{};var n=t.exports=i.pki.oids=i.oids=i.oids||{};function o(e,t){n[e]=t,n[t]=e}function a(e,t){n[e]=t}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.3.101.112","EdDSA25519"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("1.3.14.3.2.29","sha1WithRSASignature"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("2.16.840.1.101.3.4.2.4","sha224"),o("2.16.840.1.101.3.4.2.5","sha512-224"),o("2.16.840.1.101.3.4.2.6","sha512-256"),o("1.2.840.113549.2.2","md2"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.4","surname"),o("2.5.4.5","serialNumber"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.9","streetAddress"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.5.4.12","title"),o("2.5.4.13","description"),o("2.5.4.15","businessCategory"),o("2.5.4.17","postalCode"),o("2.5.4.42","givenName"),o("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),o("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),o("2.16.840.1.113730.1.1","nsCertType"),o("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},474723,(e,t,r)=>{var i=e.r(902015);e.r(826706),e.r(131808);var n=t.exports=i.asn1=i.asn1||{};function o(e,t,r){if(r>t){var i=Error("Too few bytes to parse DER.");throw i.available=e.length(),i.remaining=t,i.requested=r,i}}n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},n.create=function(e,t,r,o,a){if(i.util.isArray(o)){for(var s=[],l=0;l<o.length;++l)void 0!==o[l]&&s.push(o[l]);o=s}var u={tagClass:e,type:t,constructed:r,composed:r||i.util.isArray(o),value:o};return a&&"bitStringContents"in a&&(u.bitStringContents=a.bitStringContents,u.original=n.copy(u)),u},n.copy=function(e,t){var r;if(i.util.isArray(e)){r=[];for(var o=0;o<e.length;++o)r.push(n.copy(e[o],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:n.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},n.equals=function(e,t,r){if(i.util.isArray(e)){if(!i.util.isArray(t)||e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!n.equals(e[o],t[o]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&n.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},n.getBerValueLength=function(e){var t=e.getByte();if(128!==t){var r=128&t;return r?e.getInt((127&t)<<3):t}};var a=function(e,t){var r,i=e.getByte();if(t--,128!==i){var n=128&i;if(n){var a=127&i;o(e,t,a),r=e.getInt(a<<3)}else r=i;if(r<0)throw Error("Negative length: "+r);return r}};function s(e,t,r,i){o(e,t,2);var l,u,c,d=e.getByte();t--;var p=192&d,f=31&d;l=e.length();var h=a(e,t);if(t-=l-e.length(),void 0!==h&&h>t){if(i.strict){var m=Error("Too few bytes to read ASN.1 value.");throw m.available=e.length(),m.remaining=t,m.requested=h,m}h=t}var g=(32&d)==32;if(g)if(u=[],void 0===h)for(;;){if(o(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}l=e.length(),u.push(s(e,t,r+1,i)),t-=l-e.length()}else for(;h>0;)l=e.length(),u.push(s(e,h,r+1,i)),t-=l-e.length(),h-=l-e.length();if(void 0===u&&p===n.Class.UNIVERSAL&&f===n.Type.BITSTRING&&(c=e.bytes(h)),void 0===u&&i.decodeBitStrings&&p===n.Class.UNIVERSAL&&f===n.Type.BITSTRING&&h>1){var y=e.read,v=t,b=0;if(f===n.Type.BITSTRING&&(o(e,t,1),b=e.getByte(),t--),0===b)try{l=e.length();var A={strict:!0,decodeBitStrings:!0},w=s(e,t,r+1,A),_=l-e.length();t-=_,f==n.Type.BITSTRING&&_++;var S=w.tagClass;_===h&&(S===n.Class.UNIVERSAL||S===n.Class.CONTEXT_SPECIFIC)&&(u=[w])}catch(e){}void 0===u&&(e.read=y,t=v)}if(void 0===u){if(void 0===h){if(i.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");h=t}if(f===n.Type.BMPSTRING)for(u="";h>0;h-=2)o(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(h),t-=h}var E=void 0===c?null:{bitStringContents:c};return n.create(p,f,g,u,E)}n.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=i.util.createBuffer(e));var r=e.length(),n=s(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var o=Error("Unparsed DER bytes remain after ASN.1 parsing.");throw o.byteCount=r,o.remaining=e.length(),o}return n},n.toDer=function(e){var t=i.util.createBuffer(),r=e.tagClass|e.type,o=i.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=n.equals(e,e.original))),a)o.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:o.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&o.putBuffer(n.toDer(e.value[s]))}else if(e.type===n.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)o.putInt16(e.value.charCodeAt(s));else e.type===n.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&(128&e.value.charCodeAt(1))==0||255===e.value.charCodeAt(0)&&(128&e.value.charCodeAt(1))==128)?o.putBytes(e.value.substr(1)):o.putBytes(e.value);if(t.putByte(r),127>=o.length())t.putByte(127&o.length());else{var l=o.length(),u="";do u+=String.fromCharCode(255&l),l>>>=8;while(l>0)t.putByte(128|u.length);for(var s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(o),t},n.oidToDer=function(e){var t,r,n,o,a=e.split("."),s=i.util.createBuffer();s.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var l=2;l<a.length;++l){t=!0,r=[],n=parseInt(a[l],10);do o=127&n,n>>>=7,t||(o|=128),r.push(o),t=!1;while(n>0)for(var u=r.length-1;u>=0;--u)s.putByte(r[u])}return s},n.derToOid=function(e){"string"==typeof e&&(e=i.util.createBuffer(e));var t,r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n<<=7,128&r?n+=127&r:(t+="."+(n+r),n=0);return t},n.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(e.substr(2,2),10)-1,n=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var l=e.charAt(10),u=10;"+"!==l&&"-"!==l&&(s=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,i,n),t.setUTCHours(o,a,s,0),u&&("+"===(l=e.charAt(u))||"-"===l)){var c=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);c*=6e4,"+"===l?t.setTime(t-c):t.setTime(+t+c)}return t},n.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),i=parseInt(e.substr(4,2),10)-1,n=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),l=0,u=0,c=!1;"Z"===e.charAt(e.length-1)&&(c=!0);var d=e.length-5,p=e.charAt(d);return("+"===p||"-"===p)&&(u=(60*parseInt(e.substr(d+1,2),10)+parseInt(e.substr(d+4,2),10))*6e4,"+"===p&&(u*=-1),c=!0),"."===e.charAt(14)&&(l=1e3*parseFloat(e.substr(14),10)),c?(t.setUTCFullYear(r,i,n),t.setUTCHours(o,a,s,l),t.setTime(+t+u)):(t.setFullYear(r,i,n),t.setHours(o,a,s,l)),t},n.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(t+="0"),t+=r[i];return t+"Z"},n.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(t+="0"),t+=r[i];return t+"Z"},n.integerToDer=function(e){var t=i.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-0x80000000&&e<0x80000000)return t.putSignedInt(e,32);var r=Error("Integer too large; max is 32-bits.");throw r.integer=e,r},n.derToInteger=function(e){"string"==typeof e&&(e=i.util.createBuffer(e));var t=8*e.length();if(t>32)throw Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},n.validate=function(e,t,r,o){var a=!1;if((e.tagClass===t.tagClass||void 0===t.tagClass)&&(e.type===t.type||void 0===t.type))if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&i.util.isArray(t.value))for(var s=0,l=0;a&&l<t.value.length;++l)a=t.value[l].optional||!1,e.value[s]&&((a=n.validate(e.value[s],t.value[l],r,o))?++s:t.value[l].optional&&(a=!0)),!a&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else o&&(e.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return a};var l=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(e,t,r){var o="";r=r||2,(t=t||0)>0&&(o+="\n");for(var a="",s=0;s<t*r;++s)a+=" ";switch(o+=a+"Tag: ",e.tagClass){case n.Class.UNIVERSAL:o+="Universal:";break;case n.Class.APPLICATION:o+="Application:";break;case n.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case n.Class.PRIVATE:o+="Private:"}if(e.tagClass===n.Class.UNIVERSAL)switch(o+=e.type,e.type){case n.Type.NONE:o+=" (None)";break;case n.Type.BOOLEAN:o+=" (Boolean)";break;case n.Type.INTEGER:o+=" (Integer)";break;case n.Type.BITSTRING:o+=" (Bit string)";break;case n.Type.OCTETSTRING:o+=" (Octet string)";break;case n.Type.NULL:o+=" (Null)";break;case n.Type.OID:o+=" (Object Identifier)";break;case n.Type.ODESC:o+=" (Object Descriptor)";break;case n.Type.EXTERNAL:o+=" (External or Instance of)";break;case n.Type.REAL:o+=" (Real)";break;case n.Type.ENUMERATED:o+=" (Enumerated)";break;case n.Type.EMBEDDED:o+=" (Embedded PDV)";break;case n.Type.UTF8:o+=" (UTF8)";break;case n.Type.ROID:o+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:o+=" (Sequence)";break;case n.Type.SET:o+=" (Set)";break;case n.Type.PRINTABLESTRING:o+=" (Printable String)";break;case n.Type.IA5String:o+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:o+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case n.Type.BMPSTRING:o+=" (BMP String)"}else o+=e.type;if(o+="\n",o+=a+"Constructed: "+e.constructed+"\n",e.composed){for(var u=0,c="",s=0;s<e.value.length;++s)void 0!==e.value[s]&&(u+=1,c+=n.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(c+=","));o+=a+"Sub values: "+u+c}else{if(o+=a+"Value: ",e.type===n.Type.OID){var d=n.derToOid(e.value);o+=d,i.pki&&i.pki.oids&&d in i.pki.oids&&(o+=" ("+i.pki.oids[d]+") ")}if(e.type===n.Type.INTEGER)try{o+=n.derToInteger(e.value)}catch(t){o+="0x"+i.util.bytesToHex(e.value)}else if(e.type===n.Type.BITSTRING){if(e.value.length>1?o+="0x"+i.util.bytesToHex(e.value.slice(1)):o+="(none)",e.value.length>0){var p=e.value.charCodeAt(0);1==p?o+=" (1 unused bit shown)":p>1&&(o+=" ("+p+" unused bits shown)")}}else if(e.type===n.Type.OCTETSTRING)l.test(e.value)||(o+="("+e.value+") "),o+="0x"+i.util.bytesToHex(e.value);else if(e.type===n.Type.UTF8)try{o+=i.util.decodeUtf8(e.value)}catch(t){if("URI malformed"===t.message)o+="0x"+i.util.bytesToHex(e.value)+" (malformed UTF8)";else throw t}else e.type===n.Type.PRINTABLESTRING||e.type===n.Type.IA5String?o+=e.value:l.test(e.value)?o+="0x"+i.util.bytesToHex(e.value):0===e.value.length?o+="[null]":o+=e.value}return o}},205189,(e,t,r)=>{var i=e.r(902015);t.exports=i.md=i.md||{},i.md.algorithms=i.md.algorithms||{}},382140,(e,t,r)=>{var i=e.r(902015);e.r(205189),e.r(826706),(t.exports=i.hmac=i.hmac||{}).create=function(){var e=null,t=null,r=null,n=null,o={};return o.start=function(o,a){if(null!==o)if("string"==typeof o)if((o=o.toLowerCase())in i.md.algorithms)t=i.md.algorithms[o].create();else throw Error('Unknown hash algorithm "'+o+'"');else t=o;if(null===a)a=e;else{if("string"==typeof a)a=i.util.createBuffer(a);else if(i.util.isArray(a)){var s=a;a=i.util.createBuffer();for(var l=0;l<s.length;++l)a.putByte(s[l])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=i.util.createBuffer(),n=i.util.createBuffer(),u=a.length();for(var l=0;l<u;++l){var s=a.at(l);r.putByte(54^s),n.putByte(92^s)}if(u<t.blockLength)for(var s=t.blockLength-u,l=0;l<s;++l)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},o.update=function(e){t.update(e)},o.getMac=function(){var e=t.digest().bytes();return t.start(),t.update(n),t.update(e),t.digest()},o.digest=o.getMac,o}},399073,(e,t,r)=>{var i=e.r(902015);e.r(205189),e.r(826706);var n=t.exports=i.md5=i.md5||{};i.md.md5=i.md.algorithms.md5=n,n.create=function(){u||c();var e=null,t=i.util.createBuffer(),r=Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var r=n.messageLengthSize/4,o=0;o<r;++o)n.fullMessageLength.push(0);return t=i.util.createBuffer(),e={h0:0x67452301,h1:0xefcdab89,h2:0x98badcfe,h3:0x10325476},n},n.start(),n.update=function(o,a){"utf8"===a&&(o=i.util.encodeUtf8(o));var s=o.length;n.messageLength+=s,s=[s/0x100000000>>>0,s>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=s[1],s[1]=s[0]+(n.fullMessageLength[l]/0x100000000>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,s[0]=s[1]/0x100000000>>>0;return t.putBytes(o),d(e,r,t),(t.read>2048||0===t.length())&&t.compact(),n},n.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1;a.putBytes(o.substr(0,n.blockLength-s));for(var l,u=0,c=n.fullMessageLength.length-1;c>=0;--c)u=(l=8*n.fullMessageLength[c]+u)/0x100000000>>>0,a.putInt32Le(l>>>0);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};d(p,r,a);var f=i.util.createBuffer();return f.putInt32Le(p.h0),f.putInt32Le(p.h1),f.putInt32Le(p.h2),f.putInt32Le(p.h3),f},n};var o=null,a=null,s=null,l=null,u=!1;function c(){o=String.fromCharCode(128)+i.util.fillString("\0",64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=Array(64);for(var e=0;e<64;++e)l[e]=Math.floor(0x100000000*Math.abs(Math.sin(e+1)));u=!0}function d(e,t,r){for(var i,n,o,u,c,d,p,f,h=r.length();h>=64;){for(f=0,n=e.h0,o=e.h1,u=e.h2,c=e.h3;f<16;++f)t[f]=r.getInt32Le(),i=n+(d=c^o&(u^c))+l[f]+t[f],p=s[f],n=c,c=u,u=o,o+=i<<p|i>>>32-p;for(;f<32;++f)i=n+(d=u^c&(o^u))+l[f]+t[a[f]],p=s[f],n=c,c=u,u=o,o+=i<<p|i>>>32-p;for(;f<48;++f)i=n+(d=o^u^c)+l[f]+t[a[f]],p=s[f],n=c,c=u,u=o,o+=i<<p|i>>>32-p;for(;f<64;++f)i=n+(d=u^(o|~c))+l[f]+t[a[f]],p=s[f],n=c,c=u,u=o,o+=i<<p|i>>>32-p;e.h0=e.h0+n|0,e.h1=e.h1+o|0,e.h2=e.h2+u|0,e.h3=e.h3+c|0,h-=64}}},893139,(e,t,r)=>{var i=e.r(902015);e.r(826706);var n=t.exports=i.pem=i.pem||{};function o(e){for(var t=e.name+": ",r=[],i=function(e,t){return" "+t},n=0;n<e.values.length;++n)r.push(e.values[n].replace(/^(\S+\r\n)/,i));t+=r.join(",")+"\r\n";for(var o=0,a=-1,n=0;n<t.length;++n,++o)if(o>65&&-1!==a){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),o=n-a-1,a=-1,++n}else(" "===t[n]||"	"===t[n]||","===t[n])&&(a=n);return t}function a(e){return e.replace(/^\s+/,"")}n.encode=function(e,t){t=t||{};var r,n="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(n+=o(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(n+=o(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),n+=o(r)),e.headers)for(var a=0;a<e.headers.length;++a)n+=o(e.headers[a]);return e.procType&&(n+="\r\n"),n+=i.util.encode64(e.body,t.maxline||64)+"\r\n",n+="-----END "+e.type+"-----\r\n"},n.decode=function(e){for(var t,r=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=n.exec(e);){var l=t[1];"NEW CERTIFICATE REQUEST"===l&&(l="CERTIFICATE REQUEST");var u={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(t[3])};if(r.push(u),t[2]){for(var c=t[2].split(s),d=0;t&&d<c.length;){for(var p=c[d].replace(/\s+$/,""),f=d+1;f<c.length;++f){var h=c[f];if(!/\s/.test(h[0]))break;p+=h,d=f}if(t=p.match(o)){for(var m={name:t[1],values:[]},g=t[2].split(","),y=0;y<g.length;++y)m.values.push(a(g[y]));if(u.procType)if(u.contentDomain||"Content-Domain"!==m.name)if(u.dekInfo||"DEK-Info"!==m.name)u.headers.push(m);else{if(0===m.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:g[0],parameters:g[1]||null}}else u.contentDomain=g[0]||"";else{if("Proc-Type"!==m.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==m.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:g[0],type:g[1]}}}++d}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw Error("Invalid PEM formatted message.");return r}},30369,(e,t,r)=>{var i=e.r(902015);function n(e,t){var r=function(){return new i.des.Algorithm(e,t)};i.cipher.registerAlgorithm(e,r)}e.r(37170),e.r(367424),e.r(826706),t.exports=i.des=i.des||{},i.des.startEncrypting=function(e,t,r,i){var n=m({key:e,output:r,decrypt:!1,mode:i||(null===t?"ECB":"CBC")});return n.start(t),n},i.des.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},i.des.startDecrypting=function(e,t,r,i){var n=m({key:e,output:r,decrypt:!0,mode:i||(null===t?"ECB":"CBC")});return n.start(t),n},i.des.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},i.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return h(r._keys,e,t,!1)},decrypt:function(e,t){return h(r._keys,e,t,!0)}}}),r._init=!1},i.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=i.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw Error("Invalid Triple-DES key size: "+8*t.length());this._keys=f(t),this._init=!0}},n("DES-ECB",i.cipher.modes.ecb),n("DES-CBC",i.cipher.modes.cbc),n("DES-CFB",i.cipher.modes.cfb),n("DES-OFB",i.cipher.modes.ofb),n("DES-CTR",i.cipher.modes.ctr),n("3DES-ECB",i.cipher.modes.ecb),n("3DES-CBC",i.cipher.modes.cbc),n("3DES-CFB",i.cipher.modes.cfb),n("3DES-OFB",i.cipher.modes.ofb),n("3DES-CTR",i.cipher.modes.ctr);var o=[0x1010400,0,65536,0x1010404,0x1010004,66564,4,65536,1024,0x1010400,0x1010404,1024,0x1000404,0x1010004,0x1000000,4,1028,0x1000400,0x1000400,66560,66560,0x1010000,0x1010000,0x1000404,65540,0x1000004,0x1000004,65540,0,1028,66564,0x1000000,65536,0x1010404,4,0x1010000,0x1010400,0x1000000,0x1000000,1024,0x1010004,65536,66560,0x1000004,1024,4,0x1000404,66564,0x1010404,65540,0x1010000,0x1000404,0x1000004,1028,66564,0x1010400,1028,0x1000400,0x1000400,0,65540,66560,0,0x1010004],a=[-0x7fef7fe0,-0x7fff8000,32768,1081376,1048576,32,-0x7fefffe0,-0x7fff7fe0,-0x7fffffe0,-0x7fef7fe0,-0x7fef8000,-0x80000000,-0x7fff8000,1048576,32,-0x7fefffe0,1081344,1048608,-0x7fff7fe0,0,-0x80000000,32768,1081376,-0x7ff00000,1048608,-0x7fffffe0,0,1081344,32800,-0x7fef8000,-0x7ff00000,32800,0,1081376,-0x7fefffe0,1048576,-0x7fff7fe0,-0x7ff00000,-0x7fef8000,32768,-0x7ff00000,-0x7fff8000,32,-0x7fef7fe0,1081376,32,32768,-0x80000000,32800,-0x7fef8000,1048576,-0x7fffffe0,1048608,-0x7fff7fe0,-0x7fffffe0,1048608,1081344,0,-0x7fff8000,32800,-0x80000000,-0x7fefffe0,-0x7fef7fe0,1081344],s=[520,0x8020200,0,0x8020008,0x8000200,0,131592,0x8000200,131080,0x8000008,0x8000008,131072,0x8020208,131080,0x8020000,520,0x8000000,8,0x8020200,512,131584,0x8020000,0x8020008,131592,0x8000208,131584,131072,0x8000208,8,0x8020208,512,0x8000000,0x8020200,0x8000000,131080,520,131072,0x8020200,0x8000200,0,512,131080,0x8020208,0x8000200,0x8000008,512,0,0x8020008,0x8000208,131072,0x8000000,0x8020208,8,131592,131584,0x8000008,0x8020000,0x8000208,520,0x8020000,131592,8,0x8020008,131584],l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,0x2080100,0x2080000,0x42000100,524288,256,0x40000000,0x2080000,0x40080100,524288,0x2000100,0x40080100,0x42000100,0x42080000,524544,0x40000000,0x2000000,0x40080000,0x40080000,0,0x40000100,0x42080100,0x42080100,0x2000100,0x42080000,0x40000100,0,0x42000000,0x2080100,0x2000000,0x42000000,524544,524288,0x42000100,256,0x2000000,0x40000000,0x2080000,0x42000100,0x40080100,0x2000100,0x40000000,0x42080000,0x2080100,0x40080100,256,0x2000000,0x42080000,0x42080100,524544,0x42000000,0x42080100,0x2080000,0,0x40080000,0x42000000,524544,0x2000100,0x40000100,524288,0,0x40080000,0x2080100,0x40000100],c=[0x20000010,0x20400000,16384,0x20404010,0x20400000,16,0x20404010,4194304,0x20004000,4210704,4194304,0x20000010,4194320,0x20004000,0x20000000,16400,0,4194320,0x20004010,16384,4210688,0x20004010,16,0x20400010,0x20400010,0,4210704,0x20404000,16400,4210688,0x20404000,0x20000000,0x20004000,16,0x20400010,4210688,0x20404010,4194304,16400,0x20000010,4194304,0x20004000,0x20000000,16400,0x20000010,0x20404010,4210688,0x20400000,4210704,0x20404000,0,0x20400010,16,16384,0x20400000,4210704,16384,4194320,0x20004010,0,0x20404000,0x20000000,4194320,0x20004010],d=[2097152,0x4200002,0x4000802,0,2048,0x4000802,2099202,0x4200800,0x4200802,2097152,0,0x4000002,2,0x4000000,0x4200002,2050,0x4000800,2099202,2097154,0x4000800,0x4000002,0x4200000,0x4200800,2097154,0x4200000,2048,2050,0x4200802,2099200,2,0x4000000,2099200,0x4000000,2099200,2097152,0x4000802,0x4000802,0x4200002,0x4200002,2,2097154,0x4000000,0x4000800,2097152,0x4200800,2050,2099202,0x4200800,2050,0x4000002,0x4200802,0x4200000,2099200,0,2,0x4200802,0,2099202,0x4200000,2048,0x4000002,0x4000800,2048,2097154],p=[0x10001040,4096,262144,0x10041040,0x10000000,0x10001040,64,0x10000000,262208,0x10040000,0x10041040,266240,0x10041000,266304,4096,64,0x10040000,0x10000040,0x10001000,4160,266240,262208,0x10040040,0x10041000,4160,0,0,0x10040040,0x10000040,0x10001000,266304,262144,266304,262144,0x10041000,4096,64,0x10040040,4096,266304,0x10001000,64,0x10000040,0x10040000,0x10040040,0x10000000,262144,0x10001040,0,0x10041040,262208,0x10000040,0x10040000,0x10001000,0x10001040,0,0x10041040,266240,266240,4160,4160,262208,0x10000000,0x10041000];function f(e){for(var t,r=[0,4,0x20000000,0x20000004,65536,65540,0x20010000,0x20010004,512,516,0x20000200,0x20000204,66048,66052,0x20010200,0x20010204],i=[0,1,1048576,1048577,0x4000000,0x4000001,0x4100000,0x4100001,256,257,1048832,1048833,0x4000100,0x4000101,0x4100100,0x4100101],n=[0,8,2048,2056,0x1000000,0x1000008,0x1000800,0x1000808,0,8,2048,2056,0x1000000,0x1000008,0x1000800,0x1000808],o=[0,2097152,0x8000000,0x8200000,8192,2105344,0x8002000,0x8202000,131072,2228224,0x8020000,0x8220000,139264,2236416,0x8022000,0x8222000],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,0x2000000,0x2000400,0x2000020,0x2000420,0x2000000,0x2000400,0x2000020,0x2000420],l=[0,0x10000000,524288,0x10080000,2,0x10000002,524290,0x10080002,0,0x10000000,524288,0x10080000,2,0x10000002,524290,0x10080002],u=[0,65536,2048,67584,0x20000000,0x20010000,0x20000800,0x20010800,131072,196608,133120,198656,0x20020000,0x20030000,0x20020800,0x20030800],c=[0,262144,0,262144,2,262146,2,262146,0x2000000,0x2040000,0x2000000,0x2040000,0x2000002,0x2040002,0x2000002,0x2040002],d=[0,0x10000000,8,0x10000008,0,0x10000000,8,0x10000008,1024,0x10000400,1032,0x10000408,1024,0x10000400,1032,0x10000408],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,0x1000000,512,0x1000200,2097152,0x1200000,2097664,0x1200200,0x4000000,0x5000000,0x4000200,0x5000200,0x4200000,0x5200000,0x4200200,0x5200200],h=[0,4096,0x8000000,0x8001000,524288,528384,0x8080000,0x8081000,16,4112,0x8000010,0x8001010,524304,528400,0x8080010,0x8081010],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,A=0;A<g;A++){var w=e.getInt32(),_=e.getInt32();t=(w>>>4^_)&0xf0f0f0f,_^=t,w^=t<<4,t=(_>>>-16^w)&65535,w^=t,_^=t<<-16,t=(w>>>2^_)&0x33333333,_^=t,w^=t<<2,t=(_>>>-16^w)&65535,w^=t,_^=t<<-16,t=(w>>>1^_)&0x55555555,_^=t,w^=t<<1,t=(_>>>8^w)&0xff00ff,w^=t,_^=t<<8,t=(w>>>1^_)&0x55555555,_^=t,w^=t<<1,t=w<<8|_>>>20&240,w=_<<24|_<<8&0xff0000|_>>>8&65280|_>>>24&240,_=t;for(var S=0;S<v.length;++S){v[S]?(w=w<<2|w>>>26,_=_<<2|_>>>26):(w=w<<1|w>>>27,_=_<<1|_>>>27),_&=-15;var E=r[(w&=-15)>>>28]|i[w>>>24&15]|n[w>>>20&15]|o[w>>>16&15]|a[w>>>12&15]|s[w>>>8&15]|l[w>>>4&15],T=u[_>>>28]|c[_>>>24&15]|d[_>>>20&15]|p[_>>>16&15]|f[_>>>12&15]|h[_>>>8&15]|m[_>>>4&15];t=(T>>>16^E)&65535,y[b++]=E^t,y[b++]=T^t<<16}}return y}function h(e,t,r,i){var n,f,h=32===e.length?3:9;n=3===h?i?[30,-2,-2]:[0,32,2]:i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],g=t[1];f=(m>>>4^g)&0xf0f0f0f,g^=f,m^=f<<4,f=(m>>>16^g)&65535,g^=f,m^=f<<16,f=(g>>>2^m)&0x33333333,m^=f,g^=f<<2,f=(g>>>8^m)&0xff00ff,m^=f,g^=f<<8,f=(m>>>1^g)&0x55555555,g^=f,m^=f<<1,m=m<<1|m>>>31,g=g<<1|g>>>31;for(var y=0;y<h;y+=3){for(var v=n[y+1],b=n[y+2],A=n[y];A!=v;A+=b){var w=g^e[A],_=(g>>>4|g<<28)^e[A+1];f=m,m=g,g=f^(a[w>>>24&63]|l[w>>>16&63]|c[w>>>8&63]|p[63&w]|o[_>>>24&63]|s[_>>>16&63]|u[_>>>8&63]|d[63&_])}f=m,m=g,g=f}f=((m=m>>>1|m<<31)>>>1^(g=g>>>1|g<<31))&0x55555555,g^=f,m^=f<<1,f=(g>>>8^m)&0xff00ff,m^=f,g^=f<<8,f=(g>>>2^m)&0x33333333,m^=f,g^=f<<2,f=(m>>>16^g)&65535,g^=f,m^=f<<16,f=(m>>>4^g)&0xf0f0f0f,g^=f,m^=f<<4,r[0]=m,r[1]=g}function m(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),n=(t=e.decrypt?i.cipher.createDecipher(r,e.key):i.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var o=null;r instanceof i.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=e,n.call(t,r)},t}},480399,(e,t,r)=>{var i,n=e.r(902015);e.r(382140),e.r(205189),e.r(826706);var o=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=e.r(254799)),t.exports=n.pbkdf2=o.pbkdf2=function(e,t,r,o,a,s){if("function"==typeof a&&(s=a,a=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===a||"object"!=typeof a)&&(i.pbkdf2Sync.length>4||!a||"sha1"===a))return("string"!=typeof a&&(a="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s)?4===i.pbkdf2Sync.length?i.pbkdf2(e,t,r,o,function(e,t){if(e)return s(e);s(null,t.toString("binary"))}):i.pbkdf2(e,t,r,o,a,function(e,t){if(e)return s(e);s(null,t.toString("binary"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,t,r,o).toString("binary"):i.pbkdf2Sync(e,t,r,o,a).toString("binary");if(null==a&&(a="sha1"),"string"==typeof a){if(!(a in n.md.algorithms))throw Error("Unknown hash algorithm: "+a);a=n.md[a].create()}var l=a.digestLength;if(o>0xffffffff*l){var u=Error("Derived key is too long.");if(s)return s(u);throw u}var c=Math.ceil(o/l),d=o-(c-1)*l,p=n.hmac.create();p.start(a,e);var f="";if(!s){for(var h=1;h<=c;++h){p.start(null,null),p.update(t),p.update(n.util.int32ToBytes(h)),g=v=p.digest().getBytes();for(var m=2;m<=r;++m)p.start(null,null),p.update(v),y=p.digest().getBytes(),g=n.util.xorBytes(g,y,l),v=y;f+=h<c?g:g.substr(0,d)}return f}var g,y,v,m,h=1;function b(){if(h>c)return s(null,f);p.start(null,null),p.update(t),p.update(n.util.int32ToBytes(h)),g=v=p.digest().getBytes(),m=2,A()}function A(){if(m<=r)return p.start(null,null),p.update(v),y=p.digest().getBytes(),g=n.util.xorBytes(g,y,l),v=y,++m,n.util.setImmediate(A);f+=h<c?g:g.substr(0,d),++h,b()}b()}},599470,(e,t,r)=>{var i=e.r(902015);e.r(205189),e.r(826706);var n=t.exports=i.sha256=i.sha256||{};i.md.sha256=i.md.algorithms.sha256=n,n.create=function(){a||l();var e=null,t=i.util.createBuffer(),r=Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var r=n.messageLengthSize/4,o=0;o<r;++o)n.fullMessageLength.push(0);return t=i.util.createBuffer(),e={h0:0x6a09e667,h1:0xbb67ae85,h2:0x3c6ef372,h3:0xa54ff53a,h4:0x510e527f,h5:0x9b05688c,h6:0x1f83d9ab,h7:0x5be0cd19},n},n.start(),n.update=function(o,a){"utf8"===a&&(o=i.util.encodeUtf8(o));var s=o.length;n.messageLength+=s,s=[s/0x100000000>>>0,s>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=s[1],s[1]=s[0]+(n.fullMessageLength[l]/0x100000000>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,s[0]=s[1]/0x100000000>>>0;return t.putBytes(o),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),n},n.digest=function(){var a,s=i.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1;s.putBytes(o.substr(0,n.blockLength-l));for(var c=8*n.fullMessageLength[0],d=0;d<n.fullMessageLength.length-1;++d)c+=(a=8*n.fullMessageLength[d+1])/0x100000000>>>0,s.putInt32(c>>>0),c=a>>>0;s.putInt32(c);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(p,r,s);var f=i.util.createBuffer();return f.putInt32(p.h0),f.putInt32(p.h1),f.putInt32(p.h2),f.putInt32(p.h3),f.putInt32(p.h4),f.putInt32(p.h5),f.putInt32(p.h6),f.putInt32(p.h7),f},n};var o=null,a=!1,s=null;function l(){o=String.fromCharCode(128)+i.util.fillString("\0",64),s=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],a=!0}function u(e,t,r){for(var i,n,o,a,l,u,c,d,p,f,h,m,g,y,v,b=r.length();b>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)i=((i=t[c-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=((n=t[c-15])>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,t[c]=i+t[c-7]+n+t[c-16]|0;for(c=0,d=e.h0,p=e.h1,f=e.h2,h=e.h3,m=e.h4,g=e.h5,y=e.h6,v=e.h7;c<64;++c)a=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),l=y^m&(g^y),o=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),u=d&p|f&(d^p),i=v+a+l+s[c]+t[c],n=o+u,v=y,y=g,g=m,m=h+i>>>0,h=f,f=p,p=d,d=i+n>>>0;e.h0=e.h0+d|0,e.h1=e.h1+p|0,e.h2=e.h2+f|0,e.h3=e.h3+h|0,e.h4=e.h4+m|0,e.h5=e.h5+g|0,e.h6=e.h6+y|0,e.h7=e.h7+v|0,b-=64}}},930756,(e,t,r)=>{var i=e.r(902015);e.r(826706);var n=null;!i.util.isNodejs||i.options.usePureJavaScript||process.versions["node-webkit"]||(n=e.r(254799)),(t.exports=i.prng=i.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,o=Array(32),a=0;a<32;++a)o[a]=r.create();function s(e){if(t.pools[0].messageLength>=32)return u(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,function(r,i){if(r)return e(r);t.collect(i),u(),e()})}function l(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=0xffffffff===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,i=0;i<32;++i)t.reseeds%r==0&&(e.update(t.pools[i].digest().getBytes()),t.pools[i].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var n=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(n),t.generated=0}function c(e){var t=null,r=i.util.globalScope,n=r.crypto||r.msCrypto;n&&n.getRandomValues&&(t=function(e){return n.getRandomValues(e)});var o=i.util.createBuffer();if(t)for(;o.length()<e;){var a=new Uint32Array(Math.floor(Math.max(1,Math.min(e-o.length(),65536)/4)));try{t(a);for(var s=0;s<a.length;++s)o.putInt32(a[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(o.length()<e)for(var l,u,c,d=Math.floor(65536*Math.random());o.length()<e;){d=0|(u=(0x7fffffff&(u=16807*(65535&d)+(((32767&(l=16807*(d>>16)))<<16)+(l>>15))))+(u>>31));for(var s=0;s<3;++s)c=d>>>(s<<3)^Math.floor(256*Math.random()),o.putByte(255&c)}return o.getBytes(e)}return t.pools=o,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var n=t.plugin.cipher,o=t.plugin.increment,a=t.plugin.formatKey,l=t.plugin.formatSeed,u=i.util.createBuffer();function c(d){if(d)return r(d);if(u.length()>=e)return r(null,u.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return i.util.nextTick(function(){s(c)});var p=n(t.key,t.seed);t.generated+=p.length,u.putBytes(p),t.key=a(n(t.key,o(t.seed))),t.seed=l(n(t.key,t.seed)),i.util.setImmediate(c)}t.key=null,c()},t.generateSync=function(e){var r=t.plugin.cipher,n=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var s=i.util.createBuffer();s.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&l();var u=r(t.key,t.seed);t.generated+=u.length,s.putBytes(u),t.key=o(r(t.key,n(t.seed))),t.seed=a(r(t.key,t.seed))}return s.getBytes(e)},n?(t.seedFile=function(e,t){n.randomBytes(e,function(e,r){if(e)return t(e);t(null,r.toString())})},t.seedFileSync=function(e){return n.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var r=e.length,i=0;i<r;++i)t.pools[t.pool].update(e.substr(i,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var i="",n=0;n<r;n+=8)i+=String.fromCharCode(e>>n&255);t.collect(i)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){function r(e){var i=e.data;i.forge&&i.forge.prng&&(self.removeEventListener("message",r),t(i.forge.prng.err,i.forge.prng.bytes))}self.addEventListener("message",r),self.postMessage({forge:{prng:{needed:e}}})};else{var r=function(r){var i=r.data;i.forge&&i.forge.prng&&t.seedFile(i.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})};e.addEventListener("message",r)}},t}},602828,(e,t,r)=>{var i=e.r(902015);e.r(401258),e.r(599470),e.r(930756),e.r(826706),function(){if(i.random&&i.random.getBytes){t.exports=i.random;return}!function(e){var r={},n=[,,,,],o=i.util.createBuffer();function a(){var e=i.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=i.util.createBuffer(e);return(e=[,,,,])[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),i.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=i.util.createBuffer(e);return(e=[,,,,])[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return i.aes._updateBlock(e,t,n,!1),o.putInt32(n[0]),o.putInt32(n[1]),o.putInt32(n[2]),o.putInt32(n[3]),o.getBytes()},r.increment=function(e){return++e[3],e},r.md=i.md.sha256;var s=a(),l=null,u=i.util.globalScope,c=u.crypto||u.msCrypto;if(c&&c.getRandomValues&&(l=function(e){return c.getRandomValues(e)}),i.options.usePureJavaScript||!i.util.isNodejs&&!l){if(s.collectInt(+new Date,32),"undefined"!=typeof navigator){var d="";for(var p in navigator)try{"string"==typeof navigator[p]&&(d+=navigator[p])}catch(e){}s.collect(d),d=null}e&&(e().mousemove(function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)}),e().keypress(function(e){s.collectInt(e.charCode,8)}))}if(i.random)for(var p in s)i.random[p]=s[p];else i.random=s;i.random.createInstance=a,t.exports=i.random}("undefined"!=typeof jQuery?jQuery:null)}()},863045,(e,t,r)=>{var i=e.r(902015);e.r(826706);var n=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},s=function(e,t){return(65535&e)>>t|e<<16-t&65535};t.exports=i.rc2=i.rc2||{},i.rc2.expandKey=function(e,t){"string"==typeof e&&(e=i.util.createBuffer(e)),t=t||128;var r,o=e,a=e.length(),s=t,l=Math.ceil(s/8),u=255>>(7&s);for(r=a;r<128;r++)o.putByte(n[o.at(r-1)+o.at(r-a)&255]);for(o.setAt(128-l,n[o.at(128-l)&u]),r=127-l;r>=0;r--)o.setAt(r,n[o.at(r+1)^o.at(r+l)]);return o};var l=function(e,t,r){var n,l,u,c,d=!1,p=null,f=null,h=null,m=[];for(u=0,e=i.rc2.expandKey(e,t);u<64;u++)m.push(e.getInt16Le());r?(n=function(e){for(u=0;u<4;u++)e[u]+=m[c]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),e[u]=a(e[u],o[u]),c++},l=function(e){for(u=0;u<4;u++)e[u]+=m[63&e[(u+3)%4]]}):(n=function(e){for(u=3;u>=0;u--)e[u]=s(e[u],o[u]),e[u]-=m[c]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),c--},l=function(e){for(u=3;u>=0;u--)e[u]-=m[63&e[(u+3)%4]]});var g=function(e){var t=[];for(u=0;u<4;u++){var i=p.getInt16Le();null!==h&&(r?i^=h.getInt16Le():h.putInt16Le(i)),t.push(65535&i)}c=63*!r;for(var n=0;n<e.length;n++)for(var o=0;o<e[n][0];o++)e[n][1](t);for(u=0;u<4;u++)null!==h&&(r?h.putInt16Le(t[u]):t[u]^=h.getInt16Le()),f.putInt16Le(t[u])},y=null;return y={start:function(e,t){e&&"string"==typeof e&&(e=i.util.createBuffer(e)),d=!1,p=i.util.createBuffer(),f=t||new i.util.createBuffer,h=e,y.output=f},update:function(e){for(d||p.putBuffer(e);p.length()>=8;)g([[5,n],[1,l],[6,n],[1,l],[5,n]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,p,!r);else{var i=8===p.length()?8:8-p.length();p.fillWithByte(i,i)}if(t&&(d=!0,y.update()),!r&&(t=0===p.length()))if(e)t=e(8,f,!r);else{var n=f.length(),o=f.at(n-1);o>n?t=!1:f.truncate(o)}return t}}};i.rc2.startEncrypting=function(e,t,r){var n=i.rc2.createEncryptionCipher(e,128);return n.start(t,r),n},i.rc2.createEncryptionCipher=function(e,t){return l(e,t,!0)},i.rc2.startDecrypting=function(e,t,r){var n=i.rc2.createDecryptionCipher(e,128);return n.start(t,r),n},i.rc2.createDecryptionCipher=function(e,t){return l(e,t,!1)}},68995,(e,t,r)=>{var i,n,o,a=e.r(902015);t.exports=a.jsbn=a.jsbn||{};var s=!0;function l(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function u(){return new l(null)}function c(e,t,r,i,n,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[i]+n;n=Math.floor(a/0x4000000),r.data[i++]=0x3ffffff&a}return n}function d(e,t,r,i,n,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this.data[e],u=this.data[e++]>>15,c=s*l+u*a;n=((l=a*l+((32767&c)<<15)+r.data[i]+(0x3fffffff&n))>>>30)+(c>>>15)+s*u+(n>>>30),r.data[i++]=0x3fffffff&l}return n}function p(e,t,r,i,n,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this.data[e],u=this.data[e++]>>14,c=s*l+u*a;n=((l=a*l+((16383&c)<<14)+r.data[i]+n)>>28)+(c>>14)+s*u,r.data[i++]=0xfffffff&l}return n}a.jsbn.BigInteger=l,"undefined"==typeof navigator?(l.prototype.am=p,i=28):s&&"Microsoft Internet Explorer"==navigator.appName?(l.prototype.am=d,i=30):s&&"Netscape"!=navigator.appName?(l.prototype.am=c,i=26):(l.prototype.am=p,i=28),l.prototype.DB=i,l.prototype.DM=(1<<i)-1,l.prototype.DV=1<<i;var f=52;l.prototype.FV=Math.pow(2,f),l.prototype.F1=f-i,l.prototype.F2=2*i-f;var h="0123456789abcdefghijklmnopqrstuvwxyz",m=[];for(o=0,n=48;o<=9;++o)m[n++]=o;for(o=10,n=97;o<36;++o)m[n++]=o;for(o=10,n=65;o<36;++o)m[n++]=o;function g(e){return h.charAt(e)}function y(e,t){var r=m[e.charCodeAt(t)];return null==r?-1:r}function v(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function b(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function A(e){var t=u();return t.fromInt(e),t}function w(e,t){if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var r,i=e.length,n=!1,o=0;--i>=0;){var a=8==r?255&e[i]:y(e,i);if(a<0){"-"==e.charAt(i)&&(n=!0);continue}n=!1,0==o?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB)}8==r&&(128&e[0])!=0&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&l.ZERO.subTo(this,this)}function _(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function S(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var t,r,i=(1<<t)-1,n=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(n=!0,o=g(r));a>=0;)s<t?r=(this.data[a]&(1<<s)-1)<<t-s|this.data[--a]>>(s+=this.DB-t):(r=this.data[a]>>(s-=t)&i,s<=0&&(s+=this.DB,--a)),r>0&&(n=!0),n&&(o+=g(r));return n?o:"0"}function E(){var e=u();return l.ZERO.subTo(this,e),e}function T(){return this.s<0?this.negate():this}function I(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0}function x(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function O(){return this.t<=0?0:this.DB*(this.t-1)+x(this.data[this.t-1]^this.s&this.DM)}function C(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function k(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function N(e,t){var r,i=e%this.DB,n=this.DB-i,o=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>n|s,s=(this.data[r]&o)<<i;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function R(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var i=e%this.DB,n=this.DB-i,o=(1<<i)-1;t.data[0]=this.data[r]>>i;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<n,t.data[a-r]=this.data[a]>>i;i>0&&(t.data[this.t-r-1]|=(this.s&o)<<n),t.t=this.t-r,t.clamp()}function P(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this.data[r]-e.data[r],t.data[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this.data[r],t.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e.data[r],t.data[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t.data[r++]=this.DV+i:i>0&&(t.data[r++]=i),t.t=r,t.clamp()}function D(e,t){var r=this.abs(),i=e.abs(),n=r.t;for(t.t=n+i.t;--n>=0;)t.data[n]=0;for(n=0;n<i.t;++n)t.data[n+r.t]=r.am(0,i.data[n],t,n,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&l.ZERO.subTo(t,t)}function U(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function L(e,t,r){var i=e.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){null!=t&&t.fromInt(0),null!=r&&this.copyTo(r);return}null==r&&(r=u());var o=u(),a=this.s,s=e.s,c=this.DB-x(i.data[i.t-1]);c>0?(i.lShiftTo(c,o),n.lShiftTo(c,r)):(i.copyTo(o),n.copyTo(r));var d=o.t,p=o.data[d-1];if(0!=p){var f=p*(1<<this.F1)+(d>1?o.data[d-2]>>this.F2:0),h=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,y=r.t,v=y-d,b=null==t?u():t;for(o.dlShiftTo(v,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),l.ONE.dlShiftTo(d,b),b.subTo(o,o);o.t<d;)o.data[o.t++]=0;for(;--v>=0;){var A=r.data[--y]==p?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+g)*m);if((r.data[y]+=o.am(0,A,r,v,0,d))<A)for(o.dlShiftTo(v,b),r.subTo(b,r);r.data[y]<--A;)r.subTo(b,r)}null!=t&&(r.drShiftTo(d,t),a!=s&&l.ZERO.subTo(t,t)),r.t=d,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&l.ZERO.subTo(r,r)}}}function K(e){var t=u();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(l.ZERO)>0&&e.subTo(t,t),t}function M(e){this.m=e}function B(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function j(e){return e}function $(e){e.divRemTo(this.m,null,e)}function z(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function F(e,t){e.squareTo(t),this.reduce(t)}function q(){if(this.t<1)return 0;var e=this.data[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function V(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H(e){var t=u();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(l.ZERO)>0&&this.m.subTo(t,t),t}function G(e){var t=u();return e.copyTo(t),this.reduce(t),t}function W(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],i=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,i,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Z(e,t){e.squareTo(t),this.reduce(t)}function J(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Q(){return(this.t>0?1&this.data[0]:this.s)==0}function Y(e,t){if(e>0xffffffff||e<1)return l.ONE;var r=u(),i=u(),n=t.convert(this),o=x(e)-1;for(n.copyTo(r);--o>=0;)if(t.sqrTo(r,i),(e&1<<o)>0)t.mulTo(i,n,r);else{var a=r;r=i,i=a}return t.revert(r)}function X(e,t){var r;return r=e<256||t.isEven()?new M(t):new V(t),this.exp(e,r)}function ee(){var e=u();return this.copyTo(e),e}function et(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;else if(0==this.t)return -1}else if(1==this.t)return this.data[0];else if(0==this.t)return 0;return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function er(){return 0==this.t?this.s:this.data[0]<<24>>24}function ei(){return 0==this.t?this.s:this.data[0]<<16>>16}function en(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function eo(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function ea(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=A(r),n=u(),o=u(),a="";for(this.divRemTo(i,n,o);n.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,n.divRemTo(i,n,o);return o.intValue().toString(e)+a}function es(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),n=!1,o=0,a=0,s=0;s<e.length;++s){var u=y(e,s);if(u<0){"-"==e.charAt(s)&&0==this.signum()&&(n=!0);continue}a=t*a+u,++o>=r&&(this.dMultiply(i),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),n&&l.ZERO.subTo(this,this)}function el(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(l.ONE.shiftLeft(e-1),eg,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(l.ONE.shiftLeft(e-1),this);else{var i=[],n=7&e;i.length=(e>>3)+1,t.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function eu(){var e=this.t,t=[];t[0]=this.s;var r,i=this.DB-e*this.DB%8,n=0;if(e-- >0)for(i<this.DB&&(r=this.data[e]>>i)!=(this.s&this.DM)>>i&&(t[n++]=r|this.s<<this.DB-i);e>=0;)i<8?r=(this.data[e]&(1<<i)-1)<<8-i|this.data[--e]>>(i+=this.DB-8):(r=this.data[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),(128&r)!=0&&(r|=-256),0==n&&(128&this.s)!=(128&r)&&++n,(n>0||r!=this.s)&&(t[n++]=r);return t}function ec(e){return 0==this.compareTo(e)}function ed(e){return 0>this.compareTo(e)?this:e}function ep(e){return this.compareTo(e)>0?this:e}function ef(e,t,r){var i,n,o=Math.min(e.t,this.t);for(i=0;i<o;++i)r.data[i]=t(this.data[i],e.data[i]);if(e.t<this.t){for(n=e.s&this.DM,i=o;i<this.t;++i)r.data[i]=t(this.data[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=o;i<e.t;++i)r.data[i]=t(n,e.data[i]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function eh(e,t){return e&t}function em(e){var t=u();return this.bitwiseTo(e,eh,t),t}function eg(e,t){return e|t}function ey(e){var t=u();return this.bitwiseTo(e,eg,t),t}function ev(e,t){return e^t}function eb(e){var t=u();return this.bitwiseTo(e,ev,t),t}function eA(e,t){return e&~t}function ew(e){var t=u();return this.bitwiseTo(e,eA,t),t}function e_(){for(var e=u(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function eS(e){var t=u();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function eE(e){var t=u();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function eT(e){if(0==e)return -1;var t=0;return(65535&e)==0&&(e>>=16,t+=16),(255&e)==0&&(e>>=8,t+=8),(15&e)==0&&(e>>=4,t+=4),(3&e)==0&&(e>>=2,t+=2),(1&e)==0&&++t,t}function eI(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+eT(this.data[e]);return this.s<0?this.t*this.DB:-1}function ex(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function eO(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=ex(this.data[r]^t);return e}function eC(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:(this.data[t]&1<<e%this.DB)!=0}function ek(e,t){var r=l.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function eN(e){return this.changeBit(e,eg)}function eR(e){return this.changeBit(e,eA)}function eP(e){return this.changeBit(e,ev)}function eD(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this.data[r]+e.data[r],t.data[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;r<this.t;)i+=this.data[r],t.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i+=e.data[r],t.data[r++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t.data[r++]=i:i<-1&&(t.data[r++]=this.DV+i),t.t=r,t.clamp()}function eU(e){var t=u();return this.addTo(e,t),t}function eL(e){var t=u();return this.subTo(e,t),t}function eK(e){var t=u();return this.multiplyTo(e,t),t}function eM(e){var t=u();return this.divRemTo(e,t,null),t}function eB(e){var t=u();return this.divRemTo(e,null,t),t}function ej(e){var t=u(),r=u();return this.divRemTo(e,t,r),[t,r]}function e$(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function ez(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function eF(){}function eq(e){return e}function eV(e,t,r){e.multiplyTo(t,r)}function eH(e,t){e.squareTo(t)}function eG(e){return this.exp(e,new eF)}function eW(e,t,r){var i,n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function eZ(e,t,r){--t;var i=r.t=this.t+e.t-t;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)r.data[this.t+i-t]=this.am(t-i,e.data[i],r,0,0,this.t+i-t);r.clamp(),r.drShiftTo(1,r)}function eJ(e){this.r2=u(),this.q3=u(),l.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function eQ(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(0>e.compareTo(this.m))return e;var t=u();return e.copyTo(t),this.reduce(t),t}function eY(e){return e}function eX(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>e.compareTo(this.r2);)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function e0(e,t){e.squareTo(t),this.reduce(t)}function e1(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function e2(e,t){var r,i,n=e.bitLength(),o=A(1);if(n<=0)return o;r=n<18?1:n<48?3:n<144?4:n<768?5:6,i=n<8?new M(t):t.isEven()?new eJ(t):new V(t);var a=[],s=3,l=r-1,c=(1<<r)-1;if(a[1]=i.convert(this),r>1){var d=u();for(i.sqrTo(a[1],d);s<=c;)a[s]=u(),i.mulTo(d,a[s-2],a[s]),s+=2}var p,f,h=e.t-1,m=!0,g=u();for(n=x(e.data[h])-1;h>=0;){for(n>=l?p=e.data[h]>>n-l&c:(p=(e.data[h]&(1<<n+1)-1)<<l-n,h>0&&(p|=e.data[h-1]>>this.DB+n-l)),s=r;(1&p)==0;)p>>=1,--s;if((n-=s)<0&&(n+=this.DB,--h),m)a[p].copyTo(o),m=!1;else{for(;s>1;)i.sqrTo(o,g),i.sqrTo(g,o),s-=2;s>0?i.sqrTo(o,g):(f=o,o=g,g=f),i.mulTo(g,a[p],o)}for(;h>=0&&(e.data[h]&1<<n)==0;)i.sqrTo(o,g),f=o,o=g,g=f,--n<0&&(n=this.DB-1,--h)}return i.revert(o)}function e4(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(0>t.compareTo(r)){var i=t;t=r,r=i}var n=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(n<o&&(o=n),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function e3(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var i=this.t-1;i>=0;--i)r=(t*r+this.data[i])%e;return r}function e5(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return l.ZERO;for(var r=e.clone(),i=this.clone(),n=A(1),o=A(0),a=A(0),s=A(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(n.isEven()&&o.isEven()||(n.addTo(this,n),o.subTo(e,o)),n.rShiftTo(1,n)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(i)>=0?(r.subTo(i,r),t&&n.subTo(a,n),o.subTo(s,o)):(i.subTo(r,i),t&&a.subTo(n,a),s.subTo(o,s))}return 0!=i.compareTo(l.ONE)?l.ZERO:s.compareTo(e)>=0?s.subtract(e):0>s.signum()&&(s.addTo(e,s),0>s.signum())?s.add(e):s}M.prototype.convert=B,M.prototype.revert=j,M.prototype.reduce=$,M.prototype.mulTo=z,M.prototype.sqrTo=F,V.prototype.convert=H,V.prototype.revert=G,V.prototype.reduce=W,V.prototype.mulTo=J,V.prototype.sqrTo=Z,l.prototype.copyTo=v,l.prototype.fromInt=b,l.prototype.fromString=w,l.prototype.clamp=_,l.prototype.dlShiftTo=C,l.prototype.drShiftTo=k,l.prototype.lShiftTo=N,l.prototype.rShiftTo=R,l.prototype.subTo=P,l.prototype.multiplyTo=D,l.prototype.squareTo=U,l.prototype.divRemTo=L,l.prototype.invDigit=q,l.prototype.isEven=Q,l.prototype.exp=Y,l.prototype.toString=S,l.prototype.negate=E,l.prototype.abs=T,l.prototype.compareTo=I,l.prototype.bitLength=O,l.prototype.mod=K,l.prototype.modPowInt=X,l.ZERO=A(0),l.ONE=A(1),eF.prototype.convert=eq,eF.prototype.revert=eq,eF.prototype.mulTo=eV,eF.prototype.sqrTo=eH,eJ.prototype.convert=eQ,eJ.prototype.revert=eY,eJ.prototype.reduce=eX,eJ.prototype.mulTo=e1,eJ.prototype.sqrTo=e0;var e6=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],e8=0x4000000/e6[e6.length-1];function e9(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=e6[e6.length-1]){for(t=0;t<e6.length;++t)if(r.data[0]==e6[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<e6.length;){for(var i=e6[t],n=t+1;n<e6.length&&i<e8;)i*=e6[n++];for(i=r.modInt(i);t<n;)if(i%e6[t++]==0)return!1}return r.millerRabin(e)}function e7(e){var t,r=this.subtract(l.ONE),i=r.getLowestSetBit();if(i<=0)return!1;for(var n=r.shiftRight(i),o=te(),a=0;a<e;++a){do t=new l(this.bitLength(),o);while(0>=t.compareTo(l.ONE)||t.compareTo(r)>=0)var s=t.modPow(n,this);if(0!=s.compareTo(l.ONE)&&0!=s.compareTo(r)){for(var u=1;u++<i&&0!=s.compareTo(r);)if(0==(s=s.modPowInt(2,this)).compareTo(l.ONE))return!1;if(0!=s.compareTo(r))return!1}}return!0}function te(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}l.prototype.chunkSize=en,l.prototype.toRadix=ea,l.prototype.fromRadix=es,l.prototype.fromNumber=el,l.prototype.bitwiseTo=ef,l.prototype.changeBit=ek,l.prototype.addTo=eD,l.prototype.dMultiply=e$,l.prototype.dAddOffset=ez,l.prototype.multiplyLowerTo=eW,l.prototype.multiplyUpperTo=eZ,l.prototype.modInt=e3,l.prototype.millerRabin=e7,l.prototype.clone=ee,l.prototype.intValue=et,l.prototype.byteValue=er,l.prototype.shortValue=ei,l.prototype.signum=eo,l.prototype.toByteArray=eu,l.prototype.equals=ec,l.prototype.min=ed,l.prototype.max=ep,l.prototype.and=em,l.prototype.or=ey,l.prototype.xor=eb,l.prototype.andNot=ew,l.prototype.not=e_,l.prototype.shiftLeft=eS,l.prototype.shiftRight=eE,l.prototype.getLowestSetBit=eI,l.prototype.bitCount=eO,l.prototype.testBit=eC,l.prototype.setBit=eN,l.prototype.clearBit=eR,l.prototype.flipBit=eP,l.prototype.add=eU,l.prototype.subtract=eL,l.prototype.multiply=eK,l.prototype.divide=eM,l.prototype.remainder=eB,l.prototype.divideAndRemainder=ej,l.prototype.modPow=e2,l.prototype.modInverse=e5,l.prototype.pow=eG,l.prototype.gcd=e4,l.prototype.isProbablePrime=e9},701500,(e,t,r)=>{var i=e.r(902015);e.r(205189),e.r(826706);var n=t.exports=i.sha1=i.sha1||{};i.md.sha1=i.md.algorithms.sha1=n,n.create=function(){a||s();var e=null,t=i.util.createBuffer(),r=Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var r=n.messageLengthSize/4,o=0;o<r;++o)n.fullMessageLength.push(0);return t=i.util.createBuffer(),e={h0:0x67452301,h1:0xefcdab89,h2:0x98badcfe,h3:0x10325476,h4:0xc3d2e1f0},n},n.start(),n.update=function(o,a){"utf8"===a&&(o=i.util.encodeUtf8(o));var s=o.length;n.messageLength+=s,s=[s/0x100000000>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/0x100000000>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/0x100000000>>>0;return t.putBytes(o),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),n},n.digest=function(){var a,s=i.util.createBuffer();s.putBytes(t.bytes());var u=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1;s.putBytes(o.substr(0,n.blockLength-u));for(var c=8*n.fullMessageLength[0],d=0;d<n.fullMessageLength.length-1;++d)c+=(a=8*n.fullMessageLength[d+1])/0x100000000>>>0,s.putInt32(c>>>0),c=a>>>0;s.putInt32(c);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};l(p,r,s);var f=i.util.createBuffer();return f.putInt32(p.h0),f.putInt32(p.h1),f.putInt32(p.h2),f.putInt32(p.h3),f.putInt32(p.h4),f},n};var o=null,a=!1;function s(){o=String.fromCharCode(128)+i.util.fillString("\0",64),a=!0}function l(e,t,r){for(var i,n,o,a,s,l,u,c,d=r.length();d>=64;){for(c=0,n=e.h0,o=e.h1,a=e.h2,s=e.h3,l=e.h4;c<16;++c)i=r.getInt32(),t[c]=i,i=(n<<5|n>>>27)+(u=s^o&(a^s))+l+0x5a827999+i,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=n,n=i;for(;c<20;++c)i=(i=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|i>>>31,t[c]=i,i=(n<<5|n>>>27)+(u=s^o&(a^s))+l+0x5a827999+i,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=n,n=i;for(;c<32;++c)i=(i=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|i>>>31,t[c]=i,i=(n<<5|n>>>27)+(u=o^a^s)+l+0x6ed9eba1+i,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=n,n=i;for(;c<40;++c)i=(i=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|i>>>30,t[c]=i,i=(n<<5|n>>>27)+(u=o^a^s)+l+0x6ed9eba1+i,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=n,n=i;for(;c<60;++c)i=(i=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|i>>>30,t[c]=i,i=(n<<5|n>>>27)+(u=o&a|s&(o^a))+l+0x8f1bbcdc+i,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=n,n=i;for(;c<80;++c)i=(i=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|i>>>30,t[c]=i,i=(n<<5|n>>>27)+(u=o^a^s)+l+0xca62c1d6+i,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=n,n=i;e.h0=e.h0+n|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+l|0,d-=64}}},36748,(e,t,r)=>{var i=e.r(902015);e.r(826706),e.r(602828),e.r(701500);var n=t.exports=i.pkcs1=i.pkcs1||{};function o(e,t,r){r||(r=i.md.sha1.create());for(var n="",o=Math.ceil(t/r.digestLength),a=0;a<o;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+s),n+=r.digest().getBytes()}return n.substring(0,t)}n.encode_rsa_oaep=function(e,t,r){"string"==typeof r?(n=r,a=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,a=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md)),s?s.start():s=i.md.sha1.create(),l||(l=s);var n,a,s,l,u=Math.ceil(e.n.bitLength()/8),c=u-2*s.digestLength-2;if(t.length>c){var d=Error("RSAES-OAEP input message length is too long.");throw d.length=t.length,d.maxLength=c,d}n||(n=""),s.update(n,"raw");for(var p=s.digest(),f="",h=c-t.length,m=0;m<h;m++)f+="\0";var g=p.getBytes()+f+"\x01"+t;if(a){if(a.length!==s.digestLength){var d=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw d.seedLength=a.length,d.digestLength=s.digestLength,d}}else a=i.random.getBytes(s.digestLength);var y=o(a,u-s.digestLength-1,l),v=i.util.xorBytes(g,y,g.length),b=o(v,s.digestLength,l);return"\0"+i.util.xorBytes(a,b,a.length)+v},n.decode_rsa_oaep=function(e,t,r){"string"==typeof r?(n=r,a=arguments[3]||void 0):r&&(n=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var n,a,s,l=Math.ceil(e.n.bitLength()/8);if(t.length!==l){var u=Error("RSAES-OAEP encoded message length is invalid.");throw u.length=t.length,u.expectedLength=l,u}if(void 0===a?a=i.md.sha1.create():a.start(),s||(s=a),l<2*a.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),a.update(n,"raw");for(var c=a.digest().getBytes(),d=t.charAt(0),p=t.substring(1,a.digestLength+1),f=t.substring(1+a.digestLength),h=o(f,a.digestLength,s),m=o(i.util.xorBytes(p,h,p.length),l-a.digestLength-1,s),g=i.util.xorBytes(f,m,f.length),y=g.substring(0,a.digestLength),u="\0"!==d,v=0;v<a.digestLength;++v)u|=c.charAt(v)!==y.charAt(v);for(var b=1,A=a.digestLength,w=a.digestLength;w<g.length;w++){var _=g.charCodeAt(w),S=1&_^1;u|=_&65534*!!b,b&=S,A+=b}if(u||1!==g.charCodeAt(A))throw Error("Invalid RSAES-OAEP padding.");return g.substring(A+1)}},392054,(e,t,r)=>{var i=e.r(902015);e.r(826706),e.r(68995),e.r(602828),function(){if(i.prime){t.exports=i.prime;return}var e=t.exports=i.prime=i.prime||{},r=i.jsbn.BigInteger,n=[6,4,2,4,2,4,6,2],o=new r(null);o.fromInt(30);var a=function(e,t){return e|t};function s(e,t,r,i){return"workers"in r?c(e,t,r,i):l(e,t,r,i)}function l(e,t,r,i){var n=d(e,t),o=0,a=p(n.bitLength());"millerRabinTests"in r&&(a=r.millerRabinTests);var s=10;"maxBlockTime"in r&&(s=r.maxBlockTime),u(n,e,t,o,a,s,i)}function u(e,t,r,o,a,s,l){var c=+new Date;do{if(e.bitLength()>t&&(e=d(t,r)),e.isProbablePrime(a))return l(null,e);e.dAddOffset(n[o++%8],0)}while(s<0||new Date-c<s)i.util.setImmediate(function(){u(e,t,r,o,a,s,l)})}function c(e,t,n,o){if("undefined"==typeof Worker)return l(e,t,n,o);var a=d(e,t),s=n.workers,u=n.workLoad||100,c=30*u/8,p=n.workerScript||"forge/prime.worker.js";if(-1===s)return i.util.estimateCores(function(e,t){e&&(t=2),s=t-1,f()});function f(){s=Math.max(1,s);for(var i=[],n=0;n<s;++n)i[n]=new Worker(p);for(var l=s,n=0;n<s;++n)i[n].addEventListener("message",h);var f=!1;function h(n){if(!f){--l;var s=n.data;if(s.found){for(var p=0;p<i.length;++p)i[p].terminate();return f=!0,o(null,new r(s.prime,16))}a.bitLength()>e&&(a=d(e,t));var h=a.toString(16);n.target.postMessage({hex:h,workLoad:u}),a.dAddOffset(c,0)}}}f()}function d(e,t){var i=new r(e,t),n=e-1;return i.testBit(n)||i.bitwiseTo(r.ONE.shiftLeft(n),a,i),i.dAddOffset(31-i.mod(o).byteValue(),0),i}function p(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}e.generateProbablePrime=function(e,t,r){"function"==typeof t&&(r=t,t={});var n=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof n&&(n={name:n}),n.options=n.options||{};var o=t.prng||i.random,a={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===n.name)return s(e,a,n.options,r);throw Error("Invalid prime generation algorithm: "+n.name)}}()},432721,(e,t,r)=>{var i=e.r(902015);if(e.r(474723),e.r(68995),e.r(131808),e.r(36748),e.r(392054),e.r(602828),e.r(826706),void 0===n)var n=i.jsbn.BigInteger;var o=i.util.isNodejs?e.r(254799):null,a=i.asn1,s=i.util;i.pki=i.pki||{},t.exports=i.pki.rsa=i.rsa=i.rsa||{};var l=i.pki,u=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},p={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=i.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},h={name:"DigestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},m=function(e){if(e.algorithm in l.oids)t=l.oids[e.algorithm];else{var t,r=Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var i=a.oidToDer(t).getBytes(),n=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);o.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,i)),o.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var s=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return n.value.push(o),n.value.push(s),a.toDer(n).getBytes()},g=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(n.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(n.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do o=new n(i.util.bytesToHex(i.random.getBytes(t.n.bitLength()/8)),16);while(o.compareTo(t.n)>=0||!o.gcd(t.n).equals(n.ONE))for(var o,a=(e=e.multiply(o.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);0>a.compareTo(s);)a=a.add(t.p);var l=a.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return l.multiply(o.modInverse(t.n)).mod(t.n)};function y(e,t,r){var n,o=i.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11){var s=Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=a-11,s}o.putByte(0),o.putByte(r);var l=a-3-e.length;if(0===r||1===r){n=255*(0!==r);for(var u=0;u<l;++u)o.putByte(n)}else for(;l>0;){for(var c=0,d=i.random.getBytes(l),u=0;u<l;++u)0===(n=d.charCodeAt(u))?++c:o.putByte(n);l=c}return o.putByte(0),o.putBytes(e),o}function v(e,t,r,n){var o=Math.ceil(t.n.bitLength()/8),a=i.util.createBuffer(e),s=a.getByte(),l=a.getByte();if(0!==s||r&&0!==l&&1!==l||!r&&2!=l||r&&0===l&&void 0===n)throw Error("Encryption block is invalid.");var u=0;if(0===l){u=o-3-n;for(var c=0;c<u;++c)if(0!==a.getByte())throw Error("Encryption block is invalid.")}else if(1===l)for(u=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++u}else if(2===l)for(u=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++u}if(0!==a.getByte()||u!==o-3-a.length())throw Error("Encryption block is invalid.");return a.getBytes()}function b(e,t,r){"function"==typeof t&&(r=t,t={});var o={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){s(e.pBits,function(t,i){return t?r(t):(e.p=i,null!==e.q)?u(t,e.q):void s(e.qBits,u)})}function s(e,t){i.prime.generateProbablePrime(e,o,t)}function u(t,i){if(t)return r(t);if(e.q=i,0>e.p.compareTo(e.q)){var o=e.p;e.p=e.q,e.q=o}if(0!==e.p.subtract(n.ONE).gcd(e.e).compareTo(n.ONE)){e.p=null,a();return}if(0!==e.q.subtract(n.ONE).gcd(e.e).compareTo(n.ONE)){e.q=null,s(e.qBits,u);return}if(e.p1=e.p.subtract(n.ONE),e.q1=e.q.subtract(n.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(n.ONE)){e.p=e.q=null,a();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,u);return}var c=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(o.prng=t.prng),a()}function A(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=i.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&(128&r.charCodeAt(1))==0||255===r.charCodeAt(0)&&(128&r.charCodeAt(1))==128)?r.substr(1):r}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function _(e){return i.util.isNodejs&&"function"==typeof o[e]}function S(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.crypto&&"object"==typeof s.globalScope.crypto.subtle&&"function"==typeof s.globalScope.crypto.subtle[e]}function E(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.msCrypto&&"object"==typeof s.globalScope.msCrypto.subtle&&"function"==typeof s.globalScope.msCrypto.subtle[e]}function T(e){for(var t=i.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}l.rsa.encrypt=function(e,t,r){var o,a=r,s=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,o=y(e,t,r)):(o=i.util.createBuffer()).putBytes(e);for(var l=g(new n(o.toHex(),16),t,a).toString(16),u=i.util.createBuffer(),c=s-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(i.util.hexToBytes(l)),u.getBytes()},l.rsa.decrypt=function(e,t,r,o){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var s=Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=a,s}var l=new n(i.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw Error("Encrypted message is invalid.");for(var u=g(l,t,r).toString(16),c=i.util.createBuffer(),d=a-Math.ceil(u.length/2);d>0;)c.putByte(0),--d;return(c.putBytes(i.util.hexToBytes(u)),!1!==o)?v(c.getBytes(),t,r):c.getBytes()},l.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var o,a=(r=r||{}).prng||i.random,s={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},l=r.algorithm||"PRIMEINC";if("PRIMEINC"===l)(o={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new n(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt);else throw Error("Invalid key generation algorithm: "+l);return o},l.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r,i=new n(null);i.fromInt(30);for(var o=0,a=function(e,t){return e|t},s=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var d=null===e.p?e.pBits:e.qBits,p=d-1;0===e.pqState?(e.num=new n(d,e.rng),e.num.testBit(p)||e.num.bitwiseTo(n.ONE.shiftLeft(p),a,e.num),e.num.dAddOffset(31-e.num.mod(i).byteValue(),0),o=0,++e.pqState):1===e.pqState?e.num.bitLength()>d?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(u[o++%8],0):2===e.pqState?e.pqState=3*(0===e.num.subtract(n.ONE).gcd(e.e).compareTo(n.ONE)):3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)0>e.p.compareTo(e.q)&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(n.ONE),e.q1=e.q.subtract(n.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(n.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)}}c+=(r=+new Date)-s,s=r}return null!==e.keys},l.rsa.generateKeyPair=function(e,t,r,n){if(1==arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(n=e,e=void 0):2==arguments.length?"number"==typeof e?"function"==typeof t?(n=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):3==arguments.length&&("number"==typeof t?"function"==typeof r&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!i.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t)){if(n){if(_("generateKeyPair"))return o.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(e,t,r){if(e)return n(e);n(null,{privateKey:l.privateKeyFromPem(r),publicKey:l.publicKeyFromPem(t)})});if(S("generateKey")&&S("exportKey"))return s.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:T(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return s.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){n(e)}).then(function(e){if(e){var t=l.privateKeyFromAsn1(a.fromDer(i.util.createBuffer(e)));n(null,{privateKey:t,publicKey:l.setRsaPublicKey(t.n,t.e)})}});if(E("generateKey")&&E("exportKey")){var u=s.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:T(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);u.oncomplete=function(e){var t=e.target.result,r=s.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=l.privateKeyFromAsn1(a.fromDer(i.util.createBuffer(t)));n(null,{privateKey:r,publicKey:l.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){n(e)}},u.onerror=function(e){n(e)};return}}else if(_("generateKeyPairSync")){var c=o.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:l.privateKeyFromPem(c.privateKey),publicKey:l.publicKeyFromPem(c.publicKey)}}}var d=l.rsa.createKeyPairGenerationState(e,t,r);if(!n)return l.rsa.stepKeyPairGenerationState(d,0),d.keys;b(d,r,n)},l.setRsaPublicKey=l.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(e,t,n){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return i.pkcs1.encode_rsa_oaep(t,e,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw Error('Unsupported encryption scheme: "'+t+'".');var o=t.encode(e,r,!0);return l.rsa.encrypt(o,r,!0)},r.verify=function(e,t,n,o){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),void 0===o&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){t=v(t,r,!0);var n=a.fromDer(t,{parseAllBytes:o._parseAllDigestBytes}),s={},l=[];if(!a.validate(n,h,s,l)){var u=Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw u.errors=l,u}var c=a.derToOid(s.algorithmIdentifier);if(c!==i.oids.md2&&c!==i.oids.md5&&c!==i.oids.sha1&&c!==i.oids.sha224&&c!==i.oids.sha256&&c!==i.oids.sha384&&c!==i.oids.sha512&&c!==i.oids["sha512-224"]&&c!==i.oids["sha512-256"]){var u=Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw u.oid=c,u}if((c===i.oids.md2||c===i.oids.md5)&&!("parameters"in s))throw Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===s.digest}}:("NONE"===n||"NULL"===n||null===n)&&(n={verify:function(e,t){return e===(t=v(t,r,!0))}});var s=l.rsa.decrypt(t,r,!0,!1);return n.verify(e,s,r.n.bitLength())},r},l.setRsaPrivateKey=l.rsa.setPrivateKey=function(e,t,r,n,o,a,s,u){var c={n:e,e:t,d:r,p:n,q:o,dP:a,dQ:s,qInv:u};return c.decrypt=function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var n=l.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:v};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return i.pkcs1.decode_rsa_oaep(t,e,r)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={decode:function(e){return e}};else throw Error('Unsupported encryption scheme: "'+t+'".');return t.decode(n,c,!1)},c.sign=function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:m},r=1):("NONE"===t||"NULL"===t||null===t)&&(t={encode:function(){return e}},r=1);var i=t.encode(e,c.n.bitLength());return l.rsa.encrypt(i,c,r)},c},l.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(l.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},l.privateKeyFromAsn1=function(e){var t,r,o,s,u,p,f,h,m={},g=[];if(a.validate(e,c,m,g)&&(e=a.fromDer(i.util.createBuffer(m.privateKey))),m={},g=[],!a.validate(e,d,m,g)){var y=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=g,y}return t=i.util.createBuffer(m.privateKeyModulus).toHex(),r=i.util.createBuffer(m.privateKeyPublicExponent).toHex(),o=i.util.createBuffer(m.privateKeyPrivateExponent).toHex(),s=i.util.createBuffer(m.privateKeyPrime1).toHex(),u=i.util.createBuffer(m.privateKeyPrime2).toHex(),p=i.util.createBuffer(m.privateKeyExponent1).toHex(),f=i.util.createBuffer(m.privateKeyExponent2).toHex(),h=i.util.createBuffer(m.privateKeyCoefficient).toHex(),l.setRsaPrivateKey(new n(t,16),new n(r,16),new n(o,16),new n(s,16),new n(u,16),new n(p,16),new n(f,16),new n(h,16))},l.privateKeyToAsn1=l.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.qInv))])},l.publicKeyFromAsn1=function(e){var t={},r=[];if(a.validate(e,f,t,r)){var o=a.derToOid(t.publicKeyOid);if(o!==l.oids.rsaEncryption){var s=Error("Cannot read public key. Unknown OID.");throw s.oid=o,s}e=t.rsaPublicKey}if(r=[],!a.validate(e,p,t,r)){var s=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var u=i.util.createBuffer(t.publicKeyModulus).toHex(),c=i.util.createBuffer(t.publicKeyExponent).toHex();return l.setRsaPublicKey(new n(u,16),new n(c,16))},l.publicKeyToAsn1=l.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(l.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[l.publicKeyToRSAPublicKey(e)])])},l.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,A(e.e))])}},438720,(e,t,r)=>{var i=e.r(902015);if(e.r(401258),e.r(474723),e.r(30369),e.r(205189),e.r(131808),e.r(480399),e.r(893139),e.r(602828),e.r(863045),e.r(432721),e.r(826706),void 0===n)var n=i.jsbn.BigInteger;var o=i.asn1,a=i.pki=i.pki||{};t.exports=a.pbe=i.pbe=i.pbe||{};var s=a.oids,l={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function d(e,t){return e.start().update(t).digest().getBytes()}function p(e){var t;if(e){if(!(t=a.oids[o.derToOid(e)])){var r=Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return f(t)}function f(e){var t=i.md;switch(e){case"hmacWithSHA224":t=i.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw Error("Unknown hash algorithm: "+e);return t[e].create()}function h(e,t,r,n){var s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==n&&s.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,i.util.hexToBytes(r.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[n]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),s}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=i.random.getBytesSync(r.saltSize),l=r.count,u=o.integerToDer(l);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){switch(r.algorithm){case"aes128":c=16,m=16,g=s["aes128-CBC"],y=i.aes.createEncryptionCipher;break;case"aes192":c=24,m=16,g=s["aes192-CBC"],y=i.aes.createEncryptionCipher;break;case"aes256":c=32,m=16,g=s["aes256-CBC"],y=i.aes.createEncryptionCipher;break;case"des":c=8,m=8,g=s.desCBC,y=i.des.createEncryptionCipher;break;default:var c,d,p,m,g,y,v=Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=r.algorithm,v}var b="hmacWith"+r.prfAlgorithm.toUpperCase(),A=f(b),w=i.pkcs5.pbkdf2(t,n,l,c,A),_=i.random.getBytesSync(m),S=y(w);S.start(_),S.update(o.toDer(e)),S.finish(),p=S.output.getBytes();var E=h(n,u,c,b);d=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBKDF2).getBytes()),E]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(g).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,_)])])])}else if("3des"===r.algorithm){c=24;var T=new i.util.ByteBuffer(n),w=a.pbe.generatePkcs12Key(t,T,1,l,c),_=a.pbe.generatePkcs12Key(t,T,2,l,c),S=i.des.createEncryptionCipher(w);S.start(_),S.update(o.toDer(e)),S.finish(),p=S.output.getBytes(),d=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,n),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,u.getBytes())])])}else{var v=Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=r.algorithm,v}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[d,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,p)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!o.validate(e,l,n,s)){var u=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=s,u}var c=o.derToOid(n.encryptionOid),d=a.pbe.getCipher(c,n.encryptionParams,t),p=i.util.createBuffer(n.encryptedData);return d.update(p),d.finish()&&(r=o.fromDer(d.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(e).getBytes()};return i.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=i.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var n,s,l,u,c=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return c=a.encryptPrivateKeyInfo(c,t,r),a.encryptedPrivateKeyToPem(c)}switch(r.algorithm){case"aes128":n="AES-128-CBC",l=16,s=i.random.getBytesSync(16),u=i.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",l=24,s=i.random.getBytesSync(16),u=i.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",l=32,s=i.random.getBytesSync(16),u=i.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",l=24,s=i.random.getBytesSync(8),u=i.des.createEncryptionCipher;break;case"des":n="DES-CBC",l=8,s=i.random.getBytesSync(8),u=i.des.createEncryptionCipher;break;default:var d=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw d.algorithm=r.algorithm,d}var p=u(i.pbe.opensslDeriveBytes(t,s.substr(0,8),l));p.start(s),p.update(o.toDer(a.privateKeyToAsn1(e))),p.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:i.util.bytesToHex(s).toUpperCase()},body:p.output.getBytes()};return i.pem.encode(f)},a.decryptRsaPrivateKey=function(e,t){var r=null,n=i.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==n.type&&"PRIVATE KEY"!==n.type&&"RSA PRIVATE KEY"!==n.type){var s=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&"ENCRYPTED"===n.procType.type){switch(n.dekInfo.algorithm){case"DES-CBC":l=8,u=i.des.createDecryptionCipher;break;case"DES-EDE3-CBC":l=24,u=i.des.createDecryptionCipher;break;case"AES-128-CBC":l=16,u=i.aes.createDecryptionCipher;break;case"AES-192-CBC":l=24,u=i.aes.createDecryptionCipher;break;case"AES-256-CBC":l=32,u=i.aes.createDecryptionCipher;break;case"RC2-40-CBC":l=5,u=function(e){return i.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":l=8,u=function(e){return i.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":l=16,u=function(e){return i.rc2.createDecryptionCipher(e,128)};break;default:var l,u,s=Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var c=i.util.hexToBytes(n.dekInfo.parameters),d=u(i.pbe.opensslDeriveBytes(t,c.substr(0,8),l));if(d.start(c),d.update(i.util.createBuffer(n.body)),!d.finish())return r;r=d.output.getBytes()}else r=n.body;return null!==(r="ENCRYPTED PRIVATE KEY"===n.type?a.decryptPrivateKeyInfo(o.fromDer(r),t):o.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,n,o,a){if(null==a){if(!("sha1"in i.md))throw Error('"sha1" hash algorithm unavailable.');a=i.md.sha1.create()}var s,l,u=a.digestLength,c=a.blockLength,d=new i.util.ByteBuffer,p=new i.util.ByteBuffer;if(null!=e){for(l=0;l<e.length;l++)p.putInt16(e.charCodeAt(l));p.putInt16(0)}var f=p.length(),h=t.length(),m=new i.util.ByteBuffer;m.fillWithByte(r,c);var g=c*Math.ceil(h/c),y=new i.util.ByteBuffer;for(l=0;l<g;l++)y.putByte(t.at(l%h));var v=c*Math.ceil(f/c),b=new i.util.ByteBuffer;for(l=0;l<v;l++)b.putByte(p.at(l%f));var A=y;A.putBuffer(b);for(var w=Math.ceil(o/u),_=1;_<=w;_++){var S=new i.util.ByteBuffer;S.putBytes(m.bytes()),S.putBytes(A.bytes());for(var E=0;E<n;E++)a.start(),a.update(S.getBytes()),S=a.digest();var T=new i.util.ByteBuffer;for(l=0;l<c;l++)T.putByte(S.at(l%u));var I=Math.ceil(h/c)+Math.ceil(f/c),x=new i.util.ByteBuffer;for(s=0;s<I;s++){var O=new i.util.ByteBuffer(A.getBytes(c)),C=511;for(l=T.length()-1;l>=0;l--)C>>=8,C+=T.at(l)+O.at(l),O.setAt(l,255&C);x.putBuffer(O)}A=x,d.putBuffer(S)}return d.truncate(d.length()-o),d},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var i=Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=e,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}},a.pbe.getCipherForPBES2=function(e,t,r){var n,s,l={},c=[];if(!o.validate(t,u,l,c)){var d=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw d.errors=c,d}if((e=o.derToOid(l.kdfOid))!==a.oids.pkcs5PBKDF2){var d=Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw d.oid=e,d.supportedOids=["pkcs5PBKDF2"],d}if((e=o.derToOid(l.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC){var d=Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw d.oid=e,d.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],d}var f=l.kdfSalt,h=i.util.createBuffer(l.kdfIterationCount);switch(h=h.getInt(h.length()<<3),a.oids[e]){case"aes128-CBC":n=16,s=i.aes.createDecryptionCipher;break;case"aes192-CBC":n=24,s=i.aes.createDecryptionCipher;break;case"aes256-CBC":n=32,s=i.aes.createDecryptionCipher;break;case"des-EDE3-CBC":n=24,s=i.des.createDecryptionCipher;break;case"desCBC":n=8,s=i.des.createDecryptionCipher}var m=p(l.prfOid),g=i.pkcs5.pbkdf2(r,f,h,n,m),y=l.encIv,v=s(g);return v.start(y),v},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var n,s,l,u={},d=[];if(!o.validate(t,c,u,d)){var f=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw f.errors=d,f}var h=i.util.createBuffer(u.salt),m=i.util.createBuffer(u.iterations);switch(m=m.getInt(m.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:n=24,s=8,l=i.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:n=5,s=8,l=function(e,t){var r=i.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var f=Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw f.oid=e,f}var g=p(u.prfOid),y=a.pbe.generatePkcs12Key(r,h,1,m,n,g);return g.start(),l(y,a.pbe.generatePkcs12Key(r,h,2,m,s,g))},a.pbe.opensslDeriveBytes=function(e,t,r,n){if(null==n){if(!("md5"in i.md))throw Error('"md5" hash algorithm unavailable.');n=i.md.md5.create()}null===t&&(t="");for(var o=[d(n,e+t)],a=16,s=1;a<r;++s,a+=16)o.push(d(n,o[s-1]+e+t));return o.join("").substr(0,r)}},693197,(e,t,r)=>{var i=e.r(902015);e.r(474723),e.r(826706);var n=i.asn1,o=t.exports=i.pkcs7asn1=i.pkcs7asn1||{};i.pkcs7=i.pkcs7||{},i.pkcs7.asn1=o;var a={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=a;var s={name:"EncryptedContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},o.encryptedDataValidator={name:"EncryptedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var l={name:"SignerInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,capture:"signerInfos",optional:!0,value:[l]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},739839,(e,t,r)=>{var i=e.r(902015);e.r(826706),i.mgf=i.mgf||{},(t.exports=i.mgf.mgf1=i.mgf1=i.mgf1||{}).create=function(e){return{generate:function(t,r){for(var n=new i.util.ByteBuffer,o=Math.ceil(r/e.digestLength),a=0;a<o;a++){var s=new i.util.ByteBuffer;s.putInt32(a),e.start(),e.update(t+s.getBytes()),n.putBuffer(e.digest())}return n.truncate(n.length()-r),n.getBytes()}}}},946551,(e,t,r)=>{var i=e.r(902015);e.r(739839),t.exports=i.mgf=i.mgf||{},i.mgf.mgf1=i.mgf1},115992,(e,t,r)=>{var i=e.r(902015);e.r(602828),e.r(826706),(t.exports=i.pss=i.pss||{}).create=function(e){3==arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,n=e.mgf,o=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=i.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else if(null!==a)t=a.length();else throw Error("Salt length not specified or specific salt not given.");if(null!==a&&a.length()!==t)throw Error("Given salt length does not match length of given salt.");var s=e.prng||i.random,l={};return l.encode=function(e,l){var u,c,d=l-1,p=Math.ceil(d/8),f=e.digest().getBytes();if(p<o+t+2)throw Error("Message is too long to encrypt.");c=null===a?s.getBytesSync(t):a.bytes();var h=new i.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(f),h.putBytes(c),r.start(),r.update(h.getBytes());var m=r.digest().getBytes(),g=new i.util.ByteBuffer;g.fillWithByte(0,p-t-o-2),g.putByte(1),g.putBytes(c);var y=g.getBytes(),v=p-o-1,b=n.generate(m,v),A="";for(u=0;u<v;u++)A+=String.fromCharCode(y.charCodeAt(u)^b.charCodeAt(u));var w=65280>>8*p-d&255;return(A=String.fromCharCode(A.charCodeAt(0)&~w)+A.substr(1))+m+String.fromCharCode(188)},l.verify=function(e,a,s){var l,u=s-1,c=Math.ceil(u/8);if(a=a.substr(-c),c<o+t+2)throw Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(c-1))throw Error("Encoded message does not end in 0xBC.");var d=c-o-1,p=a.substr(0,d),f=a.substr(d,o),h=65280>>8*c-u&255;if((p.charCodeAt(0)&h)!=0)throw Error("Bits beyond keysize not zero as expected.");var m=n.generate(f,d),g="";for(l=0;l<d;l++)g+=String.fromCharCode(p.charCodeAt(l)^m.charCodeAt(l));g=String.fromCharCode(g.charCodeAt(0)&~h)+g.substr(1);var y=c-o-t-2;for(l=0;l<y;l++)if(0!==g.charCodeAt(l))throw Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(y))throw Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-t),b=new i.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),r.start(),r.update(b.getBytes()),f===r.digest().getBytes()},l}},209166,(e,t,r)=>{var i=e.r(902015);e.r(401258),e.r(474723),e.r(30369),e.r(205189),e.r(946551),e.r(131808),e.r(893139),e.r(115992),e.r(432721),e.r(826706);var n=i.asn1,o=t.exports=i.pki=i.pki||{},a=o.oids,s={};s.CN=a.commonName,s.commonName="CN",s.C=a.countryName,s.countryName="C",s.L=a.localityName,s.localityName="L",s.ST=a.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=a.organizationName,s.organizationName="O",s.OU=a.organizationalUnitName,s.organizationalUnitName="OU",s.E=a.emailAddress,s.emailAddress="E";var l=i.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:n.Class.UNIVERSAL,type:n.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:n.Class.UNIVERSAL,type:n.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:n.Class.UNIVERSAL,type:n.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:n.Class.UNIVERSAL,type:n.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},l,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:n.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:n.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c={name:"rsapss",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:n.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:n.Class.UNIVERSAL,type:n.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:n.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:n.Class.UNIVERSAL,type:n.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},l,{name:"CertificationRequestInfo.attributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0}]}]}]},p={name:"CertificationRequest",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"==typeof t&&(t={shortName:t});for(var r,i=null,n=0;null===i&&n<e.attributes.length;++n)r=e.attributes[n],t.type&&t.type===r.type||t.name&&t.name===r.name?i=r:t.shortName&&t.shortName===r.shortName&&(i=r);return i}o.RDNAttributesAsArray=function(e,t){for(var r,i,o,l=[],u=0;u<e.value.length;++u){r=e.value[u];for(var c=0;c<r.value.length;++c)o={},i=r.value[c],o.type=n.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in a&&(o.name=a[o.type],o.name in s&&(o.shortName=s[o.name])),t&&(t.update(o.type),t.update(o.value)),l.push(o)}return l},o.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var i=e[r],l=n.derToOid(i.value[0].value),u=i.value[1].value,c=0;c<u.length;++c){var d={};if(d.type=l,d.value=u[c].value,d.valueTagClass=u[c].type,d.type in a&&(d.name=a[d.type],d.name in s&&(d.shortName=s[d.name])),d.type===a.extensionRequest){d.extensions=[];for(var p=0;p<d.value.length;++p)d.extensions.push(o.certificateExtensionFromAsn1(d.value[p]))}t.push(d)}return t};var h=function(e,t,r){var i={};if(e!==a["RSASSA-PSS"])return i;r&&(i={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var o={},s=[];if(!n.validate(t,c,o,s)){var l=Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=s,l}return void 0!==o.hashOid&&(i.hash=i.hash||{},i.hash.algorithmOid=n.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(i.mgf=i.mgf||{},i.mgf.algorithmOid=n.derToOid(o.maskGenOid),i.mgf.hash=i.mgf.hash||{},i.mgf.hash.algorithmOid=n.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(i.saltLength=o.saltLength.charCodeAt(0)),i},m=function(e){switch(a[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return i.md.sha1.create();case"md5WithRSAEncryption":return i.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return i.md.sha256.create();case"sha384WithRSAEncryption":return i.md.sha384.create();case"sha512WithRSAEncryption":return i.md.sha512.create();default:var t=Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},g=function(e){var t,r,n,o=e.certificate;switch(o.signatureOid){case a.sha1WithRSAEncryption:case a.sha1WithRSASignature:break;case a["RSASSA-PSS"]:if(void 0===(r=a[o.signatureParameters.mgf.hash.algorithmOid])||void 0===i.md[r]){var s=Error("Unsupported MGF hash function.");throw s.oid=o.signatureParameters.mgf.hash.algorithmOid,s.name=r,s}if(void 0===(n=a[o.signatureParameters.mgf.algorithmOid])||void 0===i.mgf[n]){var s=Error("Unsupported MGF function.");throw s.oid=o.signatureParameters.mgf.algorithmOid,s.name=n,s}if(n=i.mgf[n].create(i.md[r].create()),void 0===(r=a[o.signatureParameters.hash.algorithmOid])||void 0===i.md[r]){var s=Error("Unsupported RSASSA-PSS hash function.");throw s.oid=o.signatureParameters.hash.algorithmOid,s.name=r,s}t=i.pss.create(i.md[r].create(),n,o.signatureParameters.saltLength)}return o.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,r,o=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),a=e.attributes,s=0;s<a.length;++s){var l=(t=a[s]).value,u=n.Type.PRINTABLESTRING;"valueTagClass"in t&&(u=t.valueTagClass)===n.Type.UTF8&&(l=i.util.encodeUtf8(l)),r=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.type).getBytes()),n.create(n.Class.UNIVERSAL,u,!1,l)])]),o.value.push(r)}return o}function v(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in o.oids?t.name=o.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=o.oids[s[t.shortName]])),void 0===t.type)if(t.name&&t.name in o.oids)t.type=o.oids[t.name];else{var i=Error("Attribute type not specified.");throw i.attribute=t,i}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=n.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var l=0;l<t.extensions.length;++l)t.value.push(o.certificateExtensionToAsn1(b(t.extensions[l])))}if(void 0===t.value){var i=Error("Attribute value not specified.");throw i.attribute=t,i}}}function b(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in o.oids&&(e.name=o.oids[e.id]),void 0===e.id)if(e.name&&e.name in o.oids)e.id=o.oids[e.name];else{var r=Error("Extension ID not specified.");throw r.extension=e,r}if(void 0!==e.value)return e;if("keyUsage"===e.name){var s=0,l=0,u=0;e.digitalSignature&&(l|=128,s=7),e.nonRepudiation&&(l|=64,s=6),e.keyEncipherment&&(l|=32,s=5),e.dataEncipherment&&(l|=16,s=4),e.keyAgreement&&(l|=8,s=3),e.keyCertSign&&(l|=4,s=2),e.cRLSign&&(l|=2,s=1),e.encipherOnly&&(l|=1,s=0),e.decipherOnly&&(u|=128,s=7);var c=String.fromCharCode(s);0!==u?c+=String.fromCharCode(l)+String.fromCharCode(u):0!==l&&(c+=String.fromCharCode(l)),e.value=n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(n.create(n.Class.UNIVERSAL,n.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);var d=e.value.value;for(var p in e)!0===e[p]&&(p in a?d.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(a[p]).getBytes())):-1!==p.indexOf(".")&&d.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(p).getBytes())))}else if("nsCertType"===e.name){var s=0,l=0;e.client&&(l|=128,s=7),e.server&&(l|=64,s=6),e.email&&(l|=32,s=5),e.objsign&&(l|=16,s=4),e.reserved&&(l|=8,s=3),e.sslCA&&(l|=4,s=2),e.emailCA&&(l|=2,s=1),e.objCA&&(l|=1,s=0);var c=String.fromCharCode(s);0!==l&&(c+=String.fromCharCode(l)),e.value=n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);for(var f,h=0;h<e.altNames.length;++h){var c=(f=e.altNames[h]).value;if(7===f.type&&f.ip){if(null===(c=i.util.bytesFromIP(f.ip))){var r=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else 8===f.type&&(c=f.oid?n.oidToDer(n.oidToDer(f.oid)):n.oidToDer(c));e.value.value.push(n.create(n.Class.CONTEXT_SPECIFIC,f.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw Error('Invalid "nsComment" content.');e.value=n.create(n.Class.UNIVERSAL,n.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);var d=e.value.value;if(e.keyIdentifier){var g=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;d.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var v=[n.create(n.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];d.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var b=i.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);d.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!1,b))}}else if("cRLDistributionPoints"===e.name){e.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);for(var f,d=e.value.value,A=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),w=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]),h=0;h<e.altNames.length;++h){var c=(f=e.altNames[h]).value;if(7===f.type&&f.ip){if(null===(c=i.util.bytesFromIP(f.ip))){var r=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else 8===f.type&&(c=f.oid?n.oidToDer(n.oidToDer(f.oid)):n.oidToDer(c));w.value.push(n.create(n.Class.CONTEXT_SPECIFIC,f.type,!1,c))}A.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[w])),d.push(A)}if(void 0===e.value){var r=Error("Extension value not specified.");throw r.extension=e,r}return e}function A(e,t){if(e!==a["RSASSA-PSS"])return n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"");var r=[];return void 0!==t.hash.algorithmOid&&r.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.hash.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.mgf.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.mgf.hash.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(t.saltLength).getBytes())])),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,r)}function w(e){var t=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,o=0;o<r.length;++o){var a=r[o],s=a.value,l=n.Type.UTF8;"valueTagClass"in a&&(l=a.valueTagClass),l===n.Type.UTF8&&(s=i.util.encodeUtf8(s));var u=!1;"valueConstructed"in a&&(u=a.valueConstructed);var c=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(a.type).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,l,u,s)])]);t.value.push(c)}return t}o.certificateFromPem=function(e,t,r){var a=i.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var s=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var l=n.fromDer(a.body,r);return o.certificateFromAsn1(l,t)},o.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:n.toDer(o.certificateToAsn1(e)).getBytes()};return i.pem.encode(r,{maxline:t})},o.publicKeyFromPem=function(e){var t=i.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");var a=n.fromDer(t.body);return o.publicKeyFromAsn1(a)},o.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:n.toDer(o.publicKeyToAsn1(e)).getBytes()};return i.pem.encode(r,{maxline:t})},o.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:n.toDer(o.publicKeyToRSAPublicKey(e)).getBytes()};return i.pem.encode(r,{maxline:t})},o.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||i.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=n.toDer(o.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=n.toDer(o.publicKeyToAsn1(e)).getBytes();break;default:throw Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var s=a.digest();if("hex"===t.encoding){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw Error('Unknown encoding "'+t.encoding+'".');return s},o.certificationRequestFromPem=function(e,t,r){var a=i.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var s=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");var l=n.fromDer(a.body,r);return o.certificationRequestFromAsn1(l,t)},o.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:n.toDer(o.certificationRequestToAsn1(e)).getBytes()};return i.pem.encode(r,{maxline:t})},o.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){v([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){v(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){v(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)b(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,i=null,n=0;null===i&&n<e.extensions.length;++n)r=e.extensions[n],t.id&&r.id===t.id?i=r:t.name&&r.name===t.name&&(i=r);return i},e.sign=function(t,r){e.md=r||i.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var l=Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=o.getTBSCertificate(e);var u=n.toDer(e.tbsCertificate);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var i=t.issuer,a=e.subject,s=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=a.attributes,s.actualIssuer=i.attributes,s}var l=t.md;if(null===l){l=m({signatureOid:t.signatureOid,type:"certificate"});var u=t.tbsCertificate||o.getTBSCertificate(t),c=n.toDer(u);l.update(c.getBytes())}return null!==l&&(r=g({certificate:e,md:l,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,i=e.issuer,n=t.subject;if(i.hash&&n.hash)r=i.hash===n.hash;else if(i.attributes.length===n.attributes.length){r=!0;for(var o,a,s=0;r&&s<i.attributes.length;++s)o=i.attributes[s],a=n.attributes[s],(o.type!==a.type||o.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var o=e.generateSubjectKeyIdentifier().getBytes();return i.util.hexToBytes(n.subjectKeyIdentifier)===o}}return!1},e},o.certificateFromAsn1=function(e,t){var r={},a=[];if(!n.validate(e,u,r,a)){var s=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=a,s}if(n.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var l=o.createCertificate();l.version=r.certVersion?r.certVersion.charCodeAt(0):0,l.serialNumber=i.util.createBuffer(r.certSerialNumber).toHex(),l.signatureOid=i.asn1.derToOid(r.certSignatureOid),l.signatureParameters=h(l.signatureOid,r.certSignatureParams,!0),l.siginfo.algorithmOid=i.asn1.derToOid(r.certinfoSignatureOid),l.siginfo.parameters=h(l.siginfo.algorithmOid,r.certinfoSignatureParams,!1),l.signature=r.certSignature;var c=[];if(void 0!==r.certValidity1UTCTime&&c.push(n.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&c.push(n.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&c.push(n.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&c.push(n.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=c[0],l.validity.notAfter=c[1],l.tbsCertificate=r.tbsCertificate,t){l.md=m({signatureOid:l.signatureOid,type:"certificate"});var d=n.toDer(l.tbsCertificate);l.md.update(d.getBytes())}var p=i.md.sha1.create(),g=n.toDer(r.certIssuer);p.update(g.getBytes()),l.issuer.getField=function(e){return f(l.issuer,e)},l.issuer.addField=function(e){v([e]),l.issuer.attributes.push(e)},l.issuer.attributes=o.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(l.issuer.uniqueId=r.certIssuerUniqueId),l.issuer.hash=p.digest().toHex();var y=i.md.sha1.create(),b=n.toDer(r.certSubject);return y.update(b.getBytes()),l.subject.getField=function(e){return f(l.subject,e)},l.subject.addField=function(e){v([e]),l.subject.attributes.push(e)},l.subject.attributes=o.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(l.subject.uniqueId=r.certSubjectUniqueId),l.subject.hash=y.digest().toHex(),r.certExtensions?l.extensions=o.certificateExtensionsFromAsn1(r.certExtensions):l.extensions=[],l.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),l},o.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var i=e.value[r],n=0;n<i.value.length;++n)t.push(o.certificateExtensionFromAsn1(i.value[n]));return t},o.certificateExtensionFromAsn1=function(e){var t={};if(t.id=n.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===n.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a){if(t.name=a[t.id],"keyUsage"===t.name){var r=n.fromDer(t.value),o=0,s=0;r.value.length>1&&(o=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(128&o)==128,t.nonRepudiation=(64&o)==64,t.keyEncipherment=(32&o)==32,t.dataEncipherment=(16&o)==16,t.keyAgreement=(8&o)==8,t.keyCertSign=(4&o)==4,t.cRLSign=(2&o)==2,t.encipherOnly=(1&o)==1,t.decipherOnly=(128&s)==128}else if("basicConstraints"===t.name){var r=n.fromDer(t.value);r.value.length>0&&r.value[0].type===n.Type.BOOLEAN?t.cA=0!==r.value[0].value.charCodeAt(0):t.cA=!1;var l=null;r.value.length>0&&r.value[0].type===n.Type.INTEGER?l=r.value[0].value:r.value.length>1&&(l=r.value[1].value),null!==l&&(t.pathLenConstraint=n.derToInteger(l))}else if("extKeyUsage"===t.name)for(var r=n.fromDer(t.value),u=0;u<r.value.length;++u){var c=n.derToOid(r.value[u].value);c in a?t[a[c]]=!0:t[c]=!0}else if("nsCertType"===t.name){var r=n.fromDer(t.value),o=0;r.value.length>1&&(o=r.value.charCodeAt(1)),t.client=(128&o)==128,t.server=(64&o)==64,t.email=(32&o)==32,t.objsign=(16&o)==16,t.reserved=(8&o)==8,t.sslCA=(4&o)==4,t.emailCA=(2&o)==2,t.objCA=(1&o)==1}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.altNames=[];for(var d,r=n.fromDer(t.value),p=0;p<r.value.length;++p){var f={type:(d=r.value[p]).type,value:d.value};switch(t.altNames.push(f),d.type){case 1:case 2:case 6:break;case 7:f.ip=i.util.bytesToIP(d.value);break;case 8:f.oid=n.derToOid(d.value)}}}else if("subjectKeyIdentifier"===t.name){var r=n.fromDer(t.value);t.subjectKeyIdentifier=i.util.bytesToHex(r.value)}}return t},o.certificationRequestFromAsn1=function(e,t){var r={},a=[];if(!n.validate(e,p,r,a)){var s=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=a,s}if(n.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var l=o.createCertificationRequest();if(l.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,l.signatureOid=i.asn1.derToOid(r.csrSignatureOid),l.signatureParameters=h(l.signatureOid,r.csrSignatureParams,!0),l.siginfo.algorithmOid=i.asn1.derToOid(r.csrSignatureOid),l.siginfo.parameters=h(l.siginfo.algorithmOid,r.csrSignatureParams,!1),l.signature=r.csrSignature,l.certificationRequestInfo=r.certificationRequestInfo,t){l.md=m({signatureOid:l.signatureOid,type:"certification request"});var u=n.toDer(l.certificationRequestInfo);l.md.update(u.getBytes())}var c=i.md.sha1.create();return l.subject.getField=function(e){return f(l.subject,e)},l.subject.addField=function(e){v([e]),l.subject.attributes.push(e)},l.subject.attributes=o.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),l.subject.hash=c.digest().toHex(),l.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),l.getAttribute=function(e){return f(l,e)},l.addAttribute=function(e){v([e]),l.attributes.push(e)},l.attributes=o.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),l},o.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){v([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){v(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){v(t),e.attributes=t},e.sign=function(t,r){e.md=r||i.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var l=Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=o.getCertificationRequestInfo(e);var u=n.toDer(e.certificationRequestInfo);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){r=m({signatureOid:e.signatureOid,type:"certification request"});var i=e.certificationRequestInfo||o.getCertificationRequestInfo(e),a=n.toDer(i);r.update(a.getBytes())}return null!==r&&(t=g({certificate:e,md:r,signature:e.signature})),t},e};var _=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z");function E(e){return e>=_&&e<S?n.create(n.Class.UNIVERSAL,n.Type.UTCTIME,!1,n.dateToUtcTime(e)):n.create(n.Class.UNIVERSAL,n.Type.GENERALIZEDTIME,!1,n.dateToGeneralizedTime(e))}o.getTBSCertificate=function(e){var t=E(e.validity.notBefore),r=E(e.validity.notAfter),a=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.version).getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,i.util.hexToBytes(e.serialNumber)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.siginfo.algorithmOid).getBytes()),A(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[t,r]),y(e.subject),o.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!0,[n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(o.certificateExtensionsToAsn1(e.extensions)),a},o.getCertificationRequestInfo=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.version).getBytes()),y(e.subject),o.publicKeyToAsn1(e.publicKey),w(e)])},o.distinguishedNameToAsn1=function(e){return y(e)},o.certificateToAsn1=function(e){var t=e.tbsCertificate||o.getTBSCertificate(e);return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[t,n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.signatureOid).getBytes()),A(e.signatureOid,e.signatureParameters)]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+e.signature)])},o.certificateExtensionsToAsn1=function(e){var t=n.create(n.Class.CONTEXT_SPECIFIC,3,!0,[]),r=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);t.value.push(r);for(var i=0;i<e.length;++i)r.value.push(o.certificateExtensionToAsn1(e[i]));return t},o.certificateExtensionToAsn1=function(e){var t=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);t.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.id).getBytes())),e.critical&&t.value.push(n.create(n.Class.UNIVERSAL,n.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=n.toDer(r).getBytes()),t.value.push(n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,r)),t},o.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||o.getCertificationRequestInfo(e);return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[t,n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.signatureOid).getBytes()),A(e.signatureOid,e.signatureParameters)]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+e.signature)])},o.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=i.md.sha1.create();e.attributes=o.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=i.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];i.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=i.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;i.util.isArray(t)||(t=[t]);for(var a=n.toDer(o.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s)if(a===n.toDer(o.certificateToAsn1(t[s])).getBytes())return!0;return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var n=t.certs[r];if(i.util.isArray(n))for(var o=0;o<n.length;++o)e.push(n[o]);else e.push(n)}return e},t.removeCertificate=function(e){if("string"==typeof e&&(e=i.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var s,l=r(e.subject);if(!i.util.isArray(l))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var u=n.toDer(o.certificateToAsn1(e)).getBytes(),c=0;c<l.length;++c)u===n.toDer(o.certificateToAsn1(l[c])).getBytes()&&(s=l[c],l.splice(c,1));return 0===l.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var n=(t=t.slice(0)).slice(0),a=r.validityCheckDate;void 0===a&&(a=new Date);var s=!0,l=null,u=0;do{var c=t.shift(),d=null,p=!1;if(a&&(a<c.validity.notBefore||a>c.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:a}),null===l){if(null===(d=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(p=!0,d=c),d){var f=d;i.util.isArray(f)||(f=[f]);for(var h=!1;!h&&f.length>0;){d=f.shift();try{h=d.verify(c)}catch(e){}}h||(l={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==l||d&&!p||e.hasCertificate(c)||(l={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===l&&d&&!c.isIssuer(d)&&(l={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===l)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===l&&g<c.extensions.length;++g){var y=c.extensions[g];!y.critical||y.name in m||(l={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===l&&(!s||0===t.length&&(!d||p))){var v=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");null===b||b.keyCertSign&&null!==v||(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate}),null!==l||null===v||v.cA||(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===l&&null!==b&&"pathLenConstraint"in v&&u-1>v.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var A=null===l||l.error,w=r.verify?r.verify(A,u,n):A;if(!0===w)l=null;else throw!0===A&&(l={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(w||0===w)&&("object"!=typeof w||i.util.isArray(w)?"string"==typeof w&&(l.error=w):(w.message&&(l.message=w.message),w.error&&(l.error=w.error))),l;s=!1,++u}while(t.length>0)return!0}},376915,(e,t,r)=>{var i=e.r(902015);e.r(474723),e.r(382140),e.r(131808),e.r(693197),e.r(438720),e.r(602828),e.r(432721),e.r(701500),e.r(826706),e.r(209166);var n=i.asn1,o=i.pki,a=t.exports=i.pkcs12=i.pkcs12||{},s={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},l={name:"PFX",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:n.Class.UNIVERSAL,type:n.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function p(e,t,r,i){for(var n=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var s=e[o].safeBags[a];if(void 0===i||s.type===i){if(null===t){n.push(s);continue}void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&n.push(s)}}return n}function f(e){if(e.composed||e.constructed){for(var t=i.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function h(e,t,r,i){if((t=n.fromDer(t,r)).tagClass!==n.Class.UNIVERSAL||t.type!==n.Type.SEQUENCE||!0!==t.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var l=t.value[a],u={},c=[];if(!n.validate(l,s,u,c)){var d=Error("Cannot read ContentInfo.");throw d.errors=c,d}var p={encrypted:!1},h=null,y=u.content.value[0];switch(n.derToOid(u.contentType)){case o.oids.data:if(y.tagClass!==n.Class.UNIVERSAL||y.type!==n.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=f(y).value;break;case o.oids.encryptedData:h=m(y,i),p.encrypted=!0;break;default:var d=Error("Unsupported PKCS#12 contentType.");throw d.contentType=n.derToOid(u.contentType),d}p.safeBags=g(h,r,i),e.safeContents.push(p)}}function m(e,t){var r={},a=[];if(!n.validate(e,i.pkcs7.asn1.encryptedDataValidator,r,a)){var s=Error("Cannot read EncryptedContentInfo.");throw s.errors=a,s}var l=n.derToOid(r.contentType);if(l!==o.oids.data){var s=Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=l,s}l=n.derToOid(r.encAlgorithm);var u=o.pbe.getCipher(l,r.encParameter,t),c=f(r.encryptedContentAsn1),d=i.util.createBuffer(c.value);if(u.update(d),!u.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=n.fromDer(e,t)).tagClass!==n.Class.UNIVERSAL||e.type!==n.Type.SEQUENCE||!0!==e.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var i=[],a=0;a<e.value.length;a++){var s,l,c=e.value[a],p={},f=[];if(!n.validate(c,u,p,f)){var h=Error("Cannot read SafeBag.");throw h.errors=f,h}var m={type:n.derToOid(p.bagId),attributes:y(p.bagAttributes)};i.push(m);var g=p.bagValue.value[0];switch(m.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(g=o.decryptPrivateKeyInfo(g,r)))throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{m.key=o.privateKeyFromAsn1(g)}catch(e){m.key=null,m.asn1=g}continue;case o.oids.certBag:s=d,l=function(){if(n.derToOid(p.certId)!==o.oids.x509Certificate){var e=Error("Unsupported certificate type, only X.509 supported.");throw e.oid=n.derToOid(p.certId),e}var r=n.fromDer(p.cert,t);try{m.cert=o.certificateFromAsn1(r,!0)}catch(e){m.cert=null,m.asn1=r}};break;default:var h=Error("Unsupported PKCS#12 SafeBag type.");throw h.oid=m.type,h}if(void 0!==s&&!n.validate(g,s,p,f)){var h=Error("Cannot read PKCS#12 "+s.name);throw h.errors=f,h}l()}return i}function y(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var i={},a=[];if(!n.validate(e[r],c,i,a)){var s=Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var l=n.derToOid(i.oid);if(void 0!==o.oids[l]){t[o.oids[l]]=[];for(var u=0;u<i.values.length;++u)t[o.oids[l]].push(i.values[u].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var s={},u=[];if(!n.validate(e,l,s,u)){var c=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw c.errors=c,c}var d={version:s.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=i.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=p(d.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=p(d.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=p(d.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return p(d.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return p(d.safeContents,"localKeyId",e,t)}};if(3!==s.version.charCodeAt(0)){var c=Error("PKCS#12 PFX of version other than 3 not supported.");throw c.version=s.version.charCodeAt(0),c}if(n.derToOid(s.contentType)!==o.oids.data){var c=Error("Only PKCS#12 PFX in password integrity mode supported.");throw c.oid=n.derToOid(s.contentType),c}var m=s.content.value[0];if(m.tagClass!==n.Class.UNIVERSAL||m.type!==n.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=f(m),s.mac){var g=null,y=0,v=n.derToOid(s.macAlgorithm);switch(v){case o.oids.sha1:g=i.md.sha1.create(),y=20;break;case o.oids.sha256:g=i.md.sha256.create(),y=32;break;case o.oids.sha384:g=i.md.sha384.create(),y=48;break;case o.oids.sha512:g=i.md.sha512.create(),y=64;break;case o.oids.md5:g=i.md.md5.create(),y=16}if(null===g)throw Error("PKCS#12 uses unsupported MAC algorithm: "+v);var b=new i.util.ByteBuffer(s.macSalt),A="macIterations"in s?parseInt(i.util.bytesToHex(s.macIterations),16):1,w=a.generateKey(r,b,3,A,y,g),_=i.hmac.create();if(_.start(g,w),_.update(m.value),_.getMac().getBytes()!==s.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?")}return h(d,m.value,t,r),d},a.toPkcs12Asn1=function(e,t,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var l,u,c=s.localKeyId;if(null!==c)c=i.util.hexToBytes(c);else if(s.generateLocalKeyId)if(t){var d=i.util.isArray(t)?t[0]:t;"string"==typeof d&&(d=o.certificateFromPem(d));var p=i.md.sha1.create();p.update(n.toDer(o.certificateToAsn1(d)).getBytes()),c=p.digest().getBytes()}else c=i.random.getBytes(20);var f=[];null!==c&&f.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.localKeyId).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,c)])])),"friendlyName"in s&&f.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.friendlyName).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.BMPSTRING,!1,s.friendlyName)])])),f.length>0&&(l=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,f));var h=[],m=[];null!==t&&(m=i.util.isArray(t)?t:[t]);for(var g=[],y=0;y<m.length;++y){"string"==typeof(t=m[y])&&(t=o.certificateFromPem(t));var v=0===y?l:void 0,b=o.certificateToAsn1(t),A=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.certBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.x509Certificate).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(b).getBytes())])])]),v]);g.push(A)}if(g.length>0){var w=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,g),_=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(w).getBytes())])]);h.push(_)}var S=null;if(null!==e){var E=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));S=null===r?n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.keyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[E]),l]):n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(E,r,s)]),l]);var T=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[S]),I=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(T).getBytes())])]);h.push(I)}var x=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,h);if(s.useMac){var p=i.md.sha1.create(),O=new i.util.ByteBuffer(i.random.getBytes(s.saltSize)),C=s.count,e=a.generateKey(r,O,3,C,20),k=i.hmac.create();k.start(p,e),k.update(n.toDer(x).getBytes());var N=k.getMac();u=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.sha1).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,N.getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,O.getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(C).getBytes())])}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(3).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(o.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(x).getBytes())])]),u])},a.generateKey=i.pbe.generatePkcs12Key},768256,(e,t,r)=>{var i=e.r(902015);e.r(474723),e.r(131808),e.r(438720),e.r(893139),e.r(480399),e.r(376915),e.r(115992),e.r(432721),e.r(826706),e.r(209166);var n=i.asn1,o=t.exports=i.pki=i.pki||{};o.pemToDer=function(e){var t=i.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");return i.util.createBuffer(t.body)},o.privateKeyFromPem=function(e){var t=i.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");var a=n.fromDer(t.body);return o.privateKeyFromAsn1(a)},o.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:n.toDer(o.privateKeyToAsn1(e)).getBytes()};return i.pem.encode(r,{maxline:t})},o.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:n.toDer(e).getBytes()};return i.pem.encode(r,{maxline:t})}},45771,(e,t,r)=>{var i=e.r(902015);e.r(474723),e.r(382140),e.r(399073),e.r(893139),e.r(768256),e.r(602828),e.r(701500),e.r(826706);var n=function(e,t,r,n){var o=i.util.createBuffer(),a=e.length>>1,s=a+(1&e.length),l=e.substr(0,s),u=e.substr(a,s),c=i.util.createBuffer(),d=i.hmac.create();r=t+r;var p=Math.ceil(n/16),f=Math.ceil(n/20);d.start("MD5",l);var h=i.util.createBuffer();c.putBytes(r);for(var m=0;m<p;++m)d.start(null,null),d.update(c.getBytes()),c.putBuffer(d.digest()),d.start(null,null),d.update(c.bytes()+r),h.putBuffer(d.digest());d.start("SHA1",u);var g=i.util.createBuffer();c.clear(),c.putBytes(r);for(var m=0;m<f;++m)d.start(null,null),d.update(c.getBytes()),c.putBuffer(d.digest()),d.start(null,null),d.update(c.bytes()+r),g.putBuffer(d.digest());return o.putBytes(i.util.xorBytes(h.getBytes(),g.getBytes(),n)),o},o=function(e,t,r){var n=i.hmac.create();n.start("SHA1",e);var o=i.util.createBuffer();return o.putInt32(t[0]),o.putInt32(t[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),n.update(o.getBytes()),n.digest().getBytes()},a=function(e,t,r){var n=!1;try{var o=e.deflate(t.fragment.getBytes());t.fragment=i.util.createBuffer(o),t.length=o.length,n=!0}catch(e){}return n},s=function(e,t,r){var n=!1;try{var o=e.inflate(t.fragment.getBytes());t.fragment=i.util.createBuffer(o),t.length=o.length,n=!0}catch(e){}return n},l=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return i.util.createBuffer(e.getBytes(r))},u=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},c={};c.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(e){var t=null;for(var r in c.CipherSuites){var i=c.CipherSuites[r];if(i.id[0]===e.charCodeAt(0)&&i.id[1]===e.charCodeAt(1)){t=i;break}}return t},c.handleUnexpected=function(e,t){(e.open||e.entity!==c.ConnectionEnd.client)&&e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(c.queue(e,c.createAlert(e,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(e)),e.process()},c.parseHelloMessage=function(e,t,r){var n=null,o=e.entity===c.ConnectionEnd.client;if(r<38)e.error(e,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var a=t.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:i.util.createBuffer(a.getBytes(32)),session_id:l(a,1),extensions:[]},o?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=l(a,2),n.compression_methods=l(a,1)),(s=r-(s-a.length()))>0){for(var u=l(a,2);u.length()>0;)n.extensions.push({type:[u.getByte(),u.getByte()],data:l(u,2)});if(!o)for(var d=0;d<n.extensions.length;++d){var p=n.extensions[d];if(0===p.type[0]&&0===p.type[1])for(var f=l(p.data,2);f.length()>0&&0===f.getByte();)e.session.extensions.server_name.serverNameList.push(l(f,2).getBytes())}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(o)e.session.cipherSuite=c.getCipherSuite(n.cipher_suite);else for(var h=i.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=c.getCipherSuite(h.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:i.util.bytesToHex(n.cipher_suite)});o?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=c.CompressionMethod.none}return n},c.createSecurityParameters=function(e,t){var r=e.entity===c.ConnectionEnd.client,i=t.random.bytes(),n=r?e.session.sp.client_random:i,o=r?i:c.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:n,server_random:o}},c.handleServerHello=function(e,t,r){var i=c.parseHelloMessage(e,t,r);if(!e.fail){if(!(i.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});e.version.minor=i.version.minor,e.session.version=e.version;var n=i.session_id.bytes();n.length>0&&n===e.session.id?(e.expect=g,e.session.resuming=!0,e.session.sp.server_random=i.random.bytes()):(e.expect=p,e.session.resuming=!1,c.createSecurityParameters(e,i)),e.session.id=n,e.process()}},c.handleClientHello=function(e,t,r){var n,o=c.parseHelloMessage(e,t,r);if(!e.fail){var a=o.session_id.bytes(),s=null;if(e.sessionCache&&(null===(s=e.sessionCache.getSession(a))?a="":(s.version.major!==o.version.major||s.version.minor>o.version.minor)&&(s=null,a="")),0===a.length&&(a=i.random.getBytes(32)),e.session.id=a,e.session.clientHelloVersion=o.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var l=1;l<c.SupportedVersions.length&&!((n=c.SupportedVersions[l]).minor<=o.version.minor);++l);e.version={major:n.major,minor:n.minor},e.session.version=e.version}null!==s?(e.expect=E,e.session.resuming=!0,e.session.sp.client_random=o.random.bytes()):(e.expect=!1!==e.verifyClient?w:_,e.session.resuming=!1,c.createSecurityParameters(e,o)),e.open=!0,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerHello(e)})),e.session.resuming?(c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)}))):(c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificate(e)})),e.fail||(c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerKeyExchange(e)})),!1!==e.verifyClient&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateRequest(e)})),c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerHelloDone(e)})))),c.flush(e),e.process()}},c.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n,o,a={certificate_list:l(t.fragment,3)},s=[];try{for(;a.certificate_list.length()>0;)n=l(a.certificate_list,3),o=i.asn1.fromDer(n),n=i.pki.certificateFromAsn1(o,!0),s.push(n)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var u=e.entity===c.ConnectionEnd.client;(u||!0===e.verifyClient)&&0===s.length?e.error(e,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}):0===s.length?e.expect=u?f:_:(u?e.session.serverCertificate=s[0]:e.session.clientCertificate=s[0],c.verifyCertificateChain(e,s)&&(e.expect=u?f:_)),e.process()},c.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});e.expect=h,e.process()},c.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var n={enc_pre_master_secret:l(t.fragment,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=i.pki.privateKeyFromPem(o)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===o)return e.error(e,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(n.enc_pre_master_secret);var s=e.session.clientHelloVersion;if(s.major!==a.pre_master_secret.charCodeAt(0)||s.minor!==a.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.")}catch(e){a.pre_master_secret=i.random.getBytes(48)}e.expect=E,null!==e.session.clientCertificate&&(e.expect=S),e.process()},c.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i=t.fragment,n={certificate_types:l(i,1),certificate_authorities:l(i,2)};e.session.certificateRequest=n,e.expect=m,e.process()},c.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a={signature:l(n,2).getBytes()},s=i.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(s,a.signature,"NONE"))throw Error("CertificateVerify signature does not match.");e.session.md5.update(o),e.session.sha1.update(o)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}e.expect=E,e.process()},c.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===e.serverCertificate){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},o=0,a=e.verify(e,n.alert.description,o,[]);if(!0!==a)return(a||0===a)&&("object"!=typeof a||i.util.isArray(a)?"number"==typeof a&&(n.alert.description=a):(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert))),e.error(e,n)}null!==e.session.certificateRequest&&(t=c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificate(e)}),c.queue(e,t)),t=c.createRecord(e,{type:c.ContentType.handshake,data:c.createClientKeyExchange(e)}),c.queue(e,t),e.expect=b;var s=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateVerify(e,t)})),c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)})),e.expect=g,c.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return s(e,null);c.getClientSignature(e,s)},c.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=e.entity===c.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=c.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?y:T,e.process()},c.handleFinished=function(e,t,r){var o=t.fragment;o.read-=4;var a=o.bytes();o.read+=4;var s=t.fragment.getBytes();(o=i.util.createBuffer()).putBuffer(e.session.md5.digest()),o.putBuffer(e.session.sha1.digest());var l=e.entity===c.ConnectionEnd.client,u=l?"server finished":"client finished",d=e.session.sp,p=12;if((o=n(d.master_secret,u,o.getBytes(),p)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&l||!e.session.resuming&&!l)&&(c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)}))),e.expect=l?v:I,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,c.flush(e),e.isConnected=!0,e.connected(e),e.process()},c.handleAlert=function(e,t){var r,i=t.fragment,n={level:i.getByte(),description:i.getByte()};switch(n.description){case c.Alert.Description.close_notify:r="Connection closed.";break;case c.Alert.Description.unexpected_message:r="Unexpected message.";break;case c.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case c.Alert.Description.decryption_failed:r="Decryption failed.";break;case c.Alert.Description.record_overflow:r="Record overflow.";break;case c.Alert.Description.decompression_failure:r="Decompression failed.";break;case c.Alert.Description.handshake_failure:r="Handshake failure.";break;case c.Alert.Description.bad_certificate:r="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case c.Alert.Description.certificate_expired:r="Certificate expired.";break;case c.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case c.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case c.Alert.Description.access_denied:r="Access denied.";break;case c.Alert.Description.decode_error:r="Decode error.";break;case c.Alert.Description.decrypt_error:r="Decrypt error.";break;case c.Alert.Description.export_restriction:r="Export restriction.";break;case c.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:r="Insufficient security.";break;case c.Alert.Description.internal_error:r="Internal error.";break;case c.Alert.Description.user_canceled:r="User canceled.";break;case c.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(n.description===c.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===c.ConnectionEnd.client?"server":"client",alert:n}),e.process()},c.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),o=r.getInt24();if(o>r.length())return e.fragmented=t,t.fragment=i.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(o+4);r.read+=4,n in $[e.entity][e.expect]?(e.entity!==c.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:i.md.md5.create(),sha1:i.md.sha1.create()}),n!==c.HandshakeType.hello_request&&n!==c.HandshakeType.certificate_verify&&n!==c.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),$[e.entity][e.expect][n](e,t,o)):c.handleUnexpected(e,t)},c.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},c.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),o=r.getInt16(),a=r.getBytes(o);if(n===c.HeartbeatMessageType.heartbeat_request){if(e.handshaking||o>a.length)return e.process();c.queue(e,c.createRecord(e,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,a)})),c.flush(e)}else if(n===c.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,i.util.createBuffer(a))}e.process()};var d=0,p=1,f=2,h=3,m=4,g=5,y=6,v=7,b=8,A=0,w=1,_=2,S=3,E=4,T=5,I=6,x=c.handleUnexpected,O=c.handleChangeCipherSpec,C=c.handleAlert,k=c.handleHandshake,N=c.handleApplicationData,R=c.handleHeartbeat,P=[];P[c.ConnectionEnd.client]=[[x,C,k,x,R],[x,C,k,x,R],[x,C,k,x,R],[x,C,k,x,R],[x,C,k,x,R],[O,C,x,x,R],[x,C,k,x,R],[x,C,k,N,R],[x,C,k,x,R]],P[c.ConnectionEnd.server]=[[x,C,k,x,R],[x,C,k,x,R],[x,C,k,x,R],[x,C,k,x,R],[O,C,x,x,R],[x,C,k,x,R],[x,C,k,N,R],[x,C,k,x,R]];var D=c.handleHelloRequest,U=c.handleServerHello,L=c.handleCertificate,K=c.handleServerKeyExchange,M=c.handleCertificateRequest,B=c.handleServerHelloDone,j=c.handleFinished,$=[];$[c.ConnectionEnd.client]=[[x,x,U,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,L,K,M,B,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,x,K,M,B,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,x,x,M,B,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,x,x,x,B,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,j],[D,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[D,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];var z=c.handleClientHello,F=c.handleClientKeyExchange,q=c.handleCertificateVerify;$[c.ConnectionEnd.server]=[[x,z,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,L,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,F,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,j],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]],c.generateKeys=function(e,t){var r=n,i=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",i,48).bytes(),t.pre_master_secret=null),i=t.server_random+t.client_random;var o=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===c.Versions.TLS_1_0.major&&e.version.minor===c.Versions.TLS_1_0.minor;a&&(o+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",i,o),l={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(l.client_write_IV=s.getBytes(t.fixed_iv_length),l.server_write_IV=s.getBytes(t.fixed_iv_length)),l},c.createConnectionState=function(e){var t=e.entity===c.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){0xffffffff===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},i={read:r(),write:r()};if(i.read.update=function(e,t){return i.read.cipherFunction(t,i.read)?i.read.compressFunction(e,t,i.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!e.fail},i.write.update=function(e,t){return i.write.compressFunction(e,t,i.write)?i.write.cipherFunction(t,i.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!e.fail},e.session){var n=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(n),n.keys=c.generateKeys(e,n),i.read.macKey=t?n.keys.server_write_MAC_key:n.keys.client_write_MAC_key,i.write.macKey=t?n.keys.client_write_MAC_key:n.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(i,e,n),n.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:i.read.compressFunction=s,i.write.compressFunction=a;break;default:throw Error("Unsupported compression algorithm.")}}return i},c.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=i.util.createBuffer();return r.putInt32(t),r.putBytes(i.random.getBytes(28)),r},c.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},c.createAlert=function(e,t){var r=i.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),c.createRecord(e,{type:c.ContentType.alert,data:r})},c.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=i.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var o=t.length(),a=i.util.createBuffer();a.putByte(c.CompressionMethod.none);var s=a.length(),l=i.util.createBuffer();if(e.virtualHost){var d=i.util.createBuffer();d.putByte(0),d.putByte(0);var p=i.util.createBuffer();p.putByte(0),u(p,2,i.util.createBuffer(e.virtualHost));var f=i.util.createBuffer();u(f,2,p),u(d,2,f),l.putBuffer(d)}var h=l.length();h>0&&(h+=2);var m=e.session.id,g=m.length+1+2+4+28+2+o+1+s+h,y=i.util.createBuffer();return y.putByte(c.HandshakeType.client_hello),y.putInt24(g),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),u(y,1,i.util.createBuffer(m)),u(y,2,t),u(y,1,a),h>0&&u(y,2,l),y},c.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=i.util.createBuffer();return n.putByte(c.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),u(n,1,i.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n},c.createCertificate=function(e){var t,r=e.entity===c.ConnectionEnd.client,n=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,n=e.getCertificate(e,t));var o=i.util.createBuffer();if(null!==n)try{i.util.isArray(n)||(n=[n]);for(var a=null,s=0;s<n.length;++s){var l=i.pem.decode(n[s])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var d=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw d.headerType=l.type,d}if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var p=i.util.createBuffer(l.body);null===a&&(a=i.asn1.fromDer(p.bytes(),!1));var f=i.util.createBuffer();u(f,3,p),o.putBuffer(f)}n=i.pki.certificateFromAsn1(a),r?e.session.clientCertificate=n:e.session.serverCertificate=n}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var h=3+o.length(),m=i.util.createBuffer();return m.putByte(c.HandshakeType.certificate),m.putInt24(h),u(m,3,o),m},c.createClientKeyExchange=function(e){var t=i.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(i.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,o=i.util.createBuffer();return o.putByte(c.HandshakeType.client_key_exchange),o.putInt24(n),o.putInt16(t.length),o.putBytes(t),o},c.createServerKeyExchange=function(e){var t=0,r=i.util.createBuffer();return t>0&&(r.putByte(c.HandshakeType.server_key_exchange),r.putInt24(t)),r},c.getClientSignature=function(e,t){var r=i.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var n=null;if(e.getPrivateKey)try{n=e.getPrivateKey(e,e.session.clientCertificate),n=i.pki.privateKeyFromPem(n)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===n?e.error(e,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):t=n.sign(t,null),r(e,t)},e.getSignature(e,r,t)},c.createCertificateVerify=function(e,t){var r=t.length+2,n=i.util.createBuffer();return n.putByte(c.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n},c.createCertificateRequest=function(e){var t=i.util.createBuffer();t.putByte(1);var r=i.util.createBuffer();for(var n in e.caStore.certs){var o=e.caStore.certs[n],a=i.pki.distinguishedNameToAsn1(o.subject),s=i.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var l=1+t.length()+2+r.length(),d=i.util.createBuffer();return d.putByte(c.HandshakeType.certificate_request),d.putInt24(l),u(d,1,t),u(d,2,r),d},c.createServerHelloDone=function(e){var t=i.util.createBuffer();return t.putByte(c.HandshakeType.server_hello_done),t.putInt24(0),t},c.createChangeCipherSpec=function(){var e=i.util.createBuffer();return e.putByte(1),e},c.createFinished=function(e){var t=i.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===c.ConnectionEnd.client,o=e.session.sp,a=12,s=r?"client finished":"server finished";t=n(o.master_secret,s,t.getBytes(),a);var l=i.util.createBuffer();return l.putByte(c.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l},c.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var n=i.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var o=Math.max(16,n.length()-r-3);return n.putBytes(i.random.getBytes(o)),n},c.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==c.ContentType.handshake&&t.type!==c.ContentType.alert&&t.type!==c.ContentType.change_cipher_spec)){if(t.type===c.ContentType.handshake){var r,n=t.fragment.bytes();e.session.md5.update(n),e.session.sha1.update(n),n=null}if(t.fragment.length()<=c.MaxFragment)r=[t];else{r=[];for(var o=t.fragment.bytes();o.length>c.MaxFragment;)r.push(c.createRecord(e,{type:t.type,data:i.util.createBuffer(o.slice(0,c.MaxFragment))})),o=o.slice(c.MaxFragment);o.length>0&&r.push(c.createRecord(e,{type:t.type,data:i.util.createBuffer(o)}))}for(var a=0;a<r.length&&!e.fail;++a){var s=r[a];e.state.current.write.update(e,s)&&e.records.push(s)}}},c.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var V=function(e){switch(e){case!0:return!0;case i.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case i.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case i.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case i.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case i.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case i.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}},H=function(e){switch(e){case!0:return!0;case c.Alert.Description.bad_certificate:return i.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return i.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return i.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return i.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return i.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return i.pki.certificateError.unknown_ca;default:return i.pki.certificateError.bad_certificate}};for(var G in c.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(t,r,n){V(t);var o=e.verify(e,t,r,n);if(!0!==o){if("object"==typeof o&&!i.util.isArray(o)){var a=Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},o.message&&(a.message=o.message),o.alert&&(a.alert.description=o.alert),a}o!==t&&(o=H(o))}return o},i.pki.verifyCertificateChain(e.caStore,t,r)}catch(t){var o=t;("object"!=typeof o||i.util.isArray(o))&&(o={send:!0,alert:{level:c.Alert.Level.fatal,description:V(t)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:c.Alert.Level.fatal,description:V(o.error)}),e.error(e,o)}return!e.fail},c.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var n in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(e){var t=null,n=null;if(e?n=i.util.bytesToHex(e):r.order.length>0&&(n=r.order[0]),null!==n&&n in r.cache){for(var o in t=r.cache[n],delete r.cache[n],r.order)if(r.order[o]===n){r.order.splice(o,1);break}}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var n=r.order.shift();delete r.cache[n]}var n=i.util.bytesToHex(e);r.order.push(n),r.cache[n]=t}}return r},c.createConnection=function(e){var t=null;t=e.caStore?i.util.isArray(e.caStore)?i.pki.createCaStore(e.caStore):e.caStore:i.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var n in r=[],c.CipherSuites)r.push(c.CipherSuites[n]);var o=e.server?c.ConnectionEnd.server:c.ConnectionEnd.client,a=e.sessionCache?c.createSessionCache(e.sessionCache):null,s={version:{major:c.Version.major,minor:c.Version.minor},entity:o,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,i){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:i.util.createBuffer(),tlsData:i.util.createBuffer(),data:i.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===c.ConnectionEnd.client?"client":"server"),r.send&&(c.queue(t,c.createAlert(t,r.alert)),c.flush(t));var i=!1!==r.fatal;i&&(t.fail=!0),e.error(t,r),i&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(e){s.version={major:c.Version.major,minor:c.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===c.ConnectionEnd.client?d:A,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=c.createConnectionState(s)},s.reset();var l=function(e,t){var r=t.type-c.ContentType.change_cipher_spec,i=P[e.entity][e.expect];r in i?i[r](e,t):c.handleUnexpected(e,t)},u=function(e){var t=0,r=e.input,n=r.length();if(n<5)t=5-n;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:i.util.createBuffer(),ready:!1};var o=e.record.version.major===e.version.major;o&&e.session&&e.session.version&&(o=e.record.version.minor===e.version.minor),o||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return t},p=function(e){var t=0,r=e.input,i=r.length();return i<e.record.length?t=e.record.length-i:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),e.record.ready=!0)),t};return s.handshake=function(e){if(s.entity!==c.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:i.md.md5.create(),sha1:i.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=c.createRandom().getBytes(),s.open=!0,c.queue(s,c.createRecord(s,{type:c.ContentType.handshake,data:c.createClientHello(s)})),c.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=u(s)),s.fail||null===s.record||s.record.ready||(t=p(s)),!s.fail&&null!==s.record&&s.record.ready&&l(s,s.record)),t},s.prepare=function(e){return c.queue(s,c.createRecord(s,{type:c.ContentType.application_data,data:i.util.createBuffer(e)})),c.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof i.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,c.queue(s,c.createRecord(s,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,e,t)})),c.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,c.queue(s,c.createAlert(s,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(s)),s.closed(s)),s.reset(e)},s},t.exports=i.tls=i.tls||{},c)"function"!=typeof c[G]&&(i.tls[G]=c[G]);i.tls.prf_tls1=n,i.tls.hmac_sha1=o,i.tls.createSessionCache=c.createSessionCache,i.tls.createConnection=c.createConnection},59060,(e,t,r)=>{var i=e.r(902015);e.r(401258),e.r(45771);var n=t.exports=i.tls;function o(e,t,r){var o=t.entity===i.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:i.cipher.createDecipher("AES-CBC",o?r.keys.server_write_key:r.keys.client_write_key),iv:o?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:i.cipher.createCipher("AES-CBC",o?r.keys.client_write_key:r.keys.server_write_key),iv:o?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=u,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=n.hmac_sha1}function a(e,t){var r,o=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),r=e.version.minor===n.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:i.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:r}),e.version.minor>=n.Versions.TLS_1_1.minor&&l.output.putBytes(r),l.update(e.fragment),l.finish(s)&&(e.fragment=l.output,e.length=e.fragment.length(),o=!0),o}function s(e,t,r){if(!r){var i=e-t.length()%e;t.fillWithByte(i-1,i)}return!0}function l(e,t,r){var i=!0;if(r){for(var n=t.length(),o=t.last(),a=n-1-o;a<n-1;++a)i=i&&t.at(a)==o;i&&t.truncate(o+1)}return i}function u(e,t){var r,o=!1;r=e.version.minor===n.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:r}),a.update(e.fragment),o=a.finish(l);var s=t.macLength,u=i.random.getBytesSync(s),d=a.output.length();d>=s?(e.fragment=a.output.getBytes(d-s),u=a.output.getBytes(s)):e.fragment=a.output.getBytes(),e.fragment=i.util.createBuffer(e.fragment),e.length=e.fragment.length();var p=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),o=c(t.macKey,u,p)&&o}function c(e,t,r){var n=i.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),t===(r=n.digest().getBytes())}n.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=n.BulkCipherAlgorithm.aes,e.cipher_type=n.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=n.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:o},n.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=n.BulkCipherAlgorithm.aes,e.cipher_type=n.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=n.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:o}},9675,(e,t,r)=>{var i=e.r(902015);e.r(205189),e.r(826706);var n=t.exports=i.sha512=i.sha512||{};i.md.sha512=i.md.algorithms.sha512=n;var o=i.sha384=i.sha512.sha384=i.sha512.sha384||{};o.create=function(){return n.create("SHA-384")},i.md.sha384=i.md.algorithms.sha384=o,i.sha512.sha256=i.sha512.sha256||{create:function(){return n.create("SHA-512/256")}},i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256,i.sha512.sha224=i.sha512.sha224||{create:function(){return n.create("SHA-512/224")}},i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224,n.create=function(e){if(s||c(),void 0===e&&(e="SHA-512"),!(e in u))throw Error("Invalid SHA-512 algorithm: "+e);for(var t=u[e],r=null,n=i.util.createBuffer(),o=Array(80),l=0;l<80;++l)o[l]=[,,];var p=64;switch(e){case"SHA-384":p=48;break;case"SHA-512/256":p=32;break;case"SHA-512/224":p=28}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:p,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var e=f.messageLengthSize/4,o=0;o<e;++o)f.fullMessageLength.push(0);n=i.util.createBuffer(),r=Array(t.length);for(var o=0;o<t.length;++o)r[o]=t[o].slice(0);return f},f.start(),f.update=function(e,t){"utf8"===t&&(e=i.util.encodeUtf8(e));var a=e.length;f.messageLength+=a,a=[a/0x100000000>>>0,a>>>0];for(var s=f.fullMessageLength.length-1;s>=0;--s)f.fullMessageLength[s]+=a[1],a[1]=a[0]+(f.fullMessageLength[s]/0x100000000>>>0),f.fullMessageLength[s]=f.fullMessageLength[s]>>>0,a[0]=a[1]/0x100000000>>>0;return n.putBytes(e),d(r,o,n),(n.read>2048||0===n.length())&&n.compact(),f},f.digest=function(){var t,s,l=i.util.createBuffer();l.putBytes(n.bytes());var u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;l.putBytes(a.substr(0,f.blockLength-u));for(var c=8*f.fullMessageLength[0],p=0;p<f.fullMessageLength.length-1;++p)c+=(t=8*f.fullMessageLength[p+1])/0x100000000>>>0,l.putInt32(c>>>0),c=t>>>0;l.putInt32(c);for(var h=Array(r.length),p=0;p<r.length;++p)h[p]=r[p].slice(0);d(h,o,l);var m=i.util.createBuffer();s="SHA-512"===e?h.length:"SHA-384"===e?h.length-2:h.length-4;for(var p=0;p<s;++p)m.putInt32(h[p][0]),(p!==s-1||"SHA-512/224"!==e)&&m.putInt32(h[p][1]);return m},f};var a=null,s=!1,l=null,u=null;function c(){a=String.fromCharCode(128)+i.util.fillString("\0",128),l=[[0x428a2f98,0xd728ae22],[0x71374491,0x23ef65cd],[0xb5c0fbcf,0xec4d3b2f],[0xe9b5dba5,0x8189dbbc],[0x3956c25b,0xf348b538],[0x59f111f1,0xb605d019],[0x923f82a4,0xaf194f9b],[0xab1c5ed5,0xda6d8118],[0xd807aa98,0xa3030242],[0x12835b01,0x45706fbe],[0x243185be,0x4ee4b28c],[0x550c7dc3,0xd5ffb4e2],[0x72be5d74,0xf27b896f],[0x80deb1fe,0x3b1696b1],[0x9bdc06a7,0x25c71235],[0xc19bf174,0xcf692694],[0xe49b69c1,0x9ef14ad2],[0xefbe4786,0x384f25e3],[0xfc19dc6,0x8b8cd5b5],[0x240ca1cc,0x77ac9c65],[0x2de92c6f,0x592b0275],[0x4a7484aa,0x6ea6e483],[0x5cb0a9dc,0xbd41fbd4],[0x76f988da,0x831153b5],[0x983e5152,0xee66dfab],[0xa831c66d,0x2db43210],[0xb00327c8,0x98fb213f],[0xbf597fc7,0xbeef0ee4],[0xc6e00bf3,0x3da88fc2],[0xd5a79147,0x930aa725],[0x6ca6351,0xe003826f],[0x14292967,0xa0e6e70],[0x27b70a85,0x46d22ffc],[0x2e1b2138,0x5c26c926],[0x4d2c6dfc,0x5ac42aed],[0x53380d13,0x9d95b3df],[0x650a7354,0x8baf63de],[0x766a0abb,0x3c77b2a8],[0x81c2c92e,0x47edaee6],[0x92722c85,0x1482353b],[0xa2bfe8a1,0x4cf10364],[0xa81a664b,0xbc423001],[0xc24b8b70,0xd0f89791],[0xc76c51a3,0x654be30],[0xd192e819,0xd6ef5218],[0xd6990624,0x5565a910],[0xf40e3585,0x5771202a],[0x106aa070,0x32bbd1b8],[0x19a4c116,0xb8d2d0c8],[0x1e376c08,0x5141ab53],[0x2748774c,0xdf8eeb99],[0x34b0bcb5,0xe19b48a8],[0x391c0cb3,0xc5c95a63],[0x4ed8aa4a,0xe3418acb],[0x5b9cca4f,0x7763e373],[0x682e6ff3,0xd6b2b8a3],[0x748f82ee,0x5defb2fc],[0x78a5636f,0x43172f60],[0x84c87814,0xa1f0ab72],[0x8cc70208,0x1a6439ec],[0x90befffa,0x23631e28],[0xa4506ceb,0xde82bde9],[0xbef9a3f7,0xb2c67915],[0xc67178f2,0xe372532b],[0xca273ece,0xea26619c],[0xd186b8c7,0x21c0c207],[0xeada7dd6,0xcde0eb1e],[0xf57d4f7f,0xee6ed178],[0x6f067aa,0x72176fba],[0xa637dc5,0xa2c898a6],[0x113f9804,0xbef90dae],[0x1b710b35,0x131c471b],[0x28db77f5,0x23047d84],[0x32caab7b,0x40c72493],[0x3c9ebe0a,0x15c9bebc],[0x431d67c4,0x9c100d4c],[0x4cc5d4be,0xcb3e42b6],[0x597f299c,0xfc657e2a],[0x5fcb6fab,0x3ad6faec],[0x6c44198c,0x4a475817]],(u={})["SHA-512"]=[[0x6a09e667,0xf3bcc908],[0xbb67ae85,0x84caa73b],[0x3c6ef372,0xfe94f82b],[0xa54ff53a,0x5f1d36f1],[0x510e527f,0xade682d1],[0x9b05688c,0x2b3e6c1f],[0x1f83d9ab,0xfb41bd6b],[0x5be0cd19,0x137e2179]],u["SHA-384"]=[[0xcbbb9d5d,0xc1059ed8],[0x629a292a,0x367cd507],[0x9159015a,0x3070dd17],[0x152fecd8,0xf70e5939],[0x67332667,0xffc00b31],[0x8eb44a87,0x68581511],[0xdb0c2e0d,0x64f98fa7],[0x47b5481d,0xbefa4fa4]],u["SHA-512/256"]=[[0x22312194,0xfc2bf72c],[0x9f555fa3,0xc84c64c2],[0x2393b86b,0x6f53b151],[0x96387719,0x5940eabd],[0x96283ee2,0xa88effe3],[0xbe5e1e25,0x53863992],[0x2b0199fc,0x2c85b8aa],[0xeb72ddc,0x81c52ca2]],u["SHA-512/224"]=[[0x8c3d37c8,0x19544da2],[0x73e19966,0x89dcd4d6],[0x1dfab7ae,0x32ff9c82],[0x679dd514,0x582f9fcf],[0xf6d2b69,0x7bd44da8],[0x77e36f73,0x4c48942],[0x3f9d85a8,0x6a1d36c8],[0x1112e6ad,0x91d692a1]],s=!0}function d(e,t,r){for(var i,n,o,a,s,u,c,d,p,f,h,m,g,y,v,b,A,w,_,S,E,T,I,x,O,C,k,N,R,P,D,U,L,K,M,B=r.length();B>=128;){for(R=0;R<16;++R)t[R][0]=r.getInt32()>>>0,t[R][1]=r.getInt32()>>>0;for(;R<80;++R)i=(((P=(U=t[R-2])[0])>>>19|(D=U[1])<<13)^(D>>>29|P<<3)^P>>>6)>>>0,n=((P<<13|D>>>19)^(D<<3|P>>>29)^(P<<26|D>>>6))>>>0,o=(((P=(K=t[R-15])[0])>>>1|(D=K[1])<<31)^(P>>>8|D<<24)^P>>>7)>>>0,a=((P<<31|D>>>1)^(P<<24|D>>>8)^(P<<25|D>>>7))>>>0,L=t[R-7],M=t[R-16],D=n+L[1]+a+M[1],t[R][0]=i+L[0]+o+M[0]+(D/0x100000000>>>0)>>>0,t[R][1]=D>>>0;for(R=0,g=e[0][0],y=e[0][1],v=e[1][0],b=e[1][1],A=e[2][0],w=e[2][1],_=e[3][0],S=e[3][1],E=e[4][0],T=e[4][1],I=e[5][0],x=e[5][1],O=e[6][0],C=e[6][1],k=e[7][0],N=e[7][1];R<80;++R)c=((E>>>14|T<<18)^(E>>>18|T<<14)^(T>>>9|E<<23))>>>0,d=((E<<18|T>>>14)^(E<<14|T>>>18)^(T<<23|E>>>9))>>>0,p=(O^E&(I^O))>>>0,f=(C^T&(x^C))>>>0,s=((g>>>28|y<<4)^(y>>>2|g<<30)^(y>>>7|g<<25))>>>0,u=((g<<4|y>>>28)^(y<<30|g>>>2)^(y<<25|g>>>7))>>>0,h=(g&v|A&(g^v))>>>0,m=(y&b|w&(y^b))>>>0,D=N+d+f+l[R][1]+t[R][1],i=k+c+p+l[R][0]+t[R][0]+(D/0x100000000>>>0)>>>0,n=D>>>0,o=s+h+((D=u+m)/0x100000000>>>0)>>>0,a=D>>>0,k=O,N=C,O=I,C=x,I=E,x=T,E=_+i+((D=S+n)/0x100000000>>>0)>>>0,T=D>>>0,_=A,S=w,A=v,w=b,v=g,b=y,g=i+o+((D=n+a)/0x100000000>>>0)>>>0,y=D>>>0;D=e[0][1]+y,e[0][0]=e[0][0]+g+(D/0x100000000>>>0)>>>0,e[0][1]=D>>>0,D=e[1][1]+b,e[1][0]=e[1][0]+v+(D/0x100000000>>>0)>>>0,e[1][1]=D>>>0,D=e[2][1]+w,e[2][0]=e[2][0]+A+(D/0x100000000>>>0)>>>0,e[2][1]=D>>>0,D=e[3][1]+S,e[3][0]=e[3][0]+_+(D/0x100000000>>>0)>>>0,e[3][1]=D>>>0,D=e[4][1]+T,e[4][0]=e[4][0]+E+(D/0x100000000>>>0)>>>0,e[4][1]=D>>>0,D=e[5][1]+x,e[5][0]=e[5][0]+I+(D/0x100000000>>>0)>>>0,e[5][1]=D>>>0,D=e[6][1]+C,e[6][0]=e[6][0]+O+(D/0x100000000>>>0)>>>0,e[6][1]=D>>>0,D=e[7][1]+N,e[7][0]=e[7][0]+k+(D/0x100000000>>>0)>>>0,e[7][1]=D>>>0,B-=128}}},716445,(e,t,r)=>{var i=e.r(902015);e.r(474723);var n=i.asn1;r.privateKeyValidator={name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},r.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},99544,(e,t,r)=>{var i=e.r(902015);e.r(68995),e.r(602828),e.r(9675),e.r(826706);var n=e.r(716445),o=n.publicKeyValidator,a=n.privateKeyValidator;if(void 0===s)var s=i.jsbn.BigInteger;var l=i.util.ByteBuffer,u="undefined"==typeof Buffer?Uint8Array:Buffer;i.pki=i.pki||{},t.exports=i.pki.ed25519=i.ed25519=i.ed25519||{};var c=i.ed25519;function d(e){var t=e.message;if(t instanceof Uint8Array||t instanceof u)return t;var r=e.encoding;if(void 0===t)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw TypeError('"options.message" or "options.md" not specified.');if("string"==typeof t&&!r)throw TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,r);t=new l(t,r)}else if(!(t instanceof l))throw TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new u(t.length()),n=0;n<i.length;++n)i[n]=t.at(n);return i}c.constants={},c.constants.PUBLIC_KEY_BYTE_LENGTH=32,c.constants.PRIVATE_KEY_BYTE_LENGTH=64,c.constants.SEED_BYTE_LENGTH=32,c.constants.SIGN_BYTE_LENGTH=64,c.constants.HASH_BYTE_LENGTH=64,c.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=i.random.getBytesSync(c.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==c.constants.SEED_BYTE_LENGTH)throw TypeError('"seed" must be '+c.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=d({message:t,encoding:"binary"});for(var r=new u(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=new u(c.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)n[o]=t[o];return w(r,n),{publicKey:r,privateKey:n}},c.privateKeyFromAsn1=function(e){var t={},r=[];if(!i.asn1.validate(e,a,t,r)){var n=Error("Invalid Key.");throw n.errors=r,n}var o=i.asn1.derToOid(t.privateKeyOid),s=i.oids.EdDSA25519;if(o!==s)throw Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var l=t.privateKey;return{privateKeyBytes:d({message:i.asn1.fromDer(l).value,encoding:"binary"})}},c.publicKeyFromAsn1=function(e){var t={},r=[];if(!i.asn1.validate(e,o,t,r)){var n=Error("Invalid Key.");throw n.errors=r,n}var a=i.asn1.derToOid(t.publicKeyOid),s=i.oids.EdDSA25519;if(a!==s)throw Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var l=t.ed25519PublicKey;if(l.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return d({message:l,encoding:"binary"})},c.publicKeyFromPrivateKey=function(e){var t=d({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new u(c.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<r.length;++i)r[i]=t[32+i];return r},c.sign=function(e){var t=d(e=e||{}),r=d({message:e.privateKey,encoding:"binary"});if(r.length===c.constants.SEED_BYTE_LENGTH)r=c.generateKeyPair({seed:r}).privateKey;else if(r.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw TypeError('"options.privateKey" must have a byte length of '+c.constants.SEED_BYTE_LENGTH+" or "+c.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new u(c.constants.SIGN_BYTE_LENGTH+t.length);_(i,t,t.length,r);for(var n=new u(c.constants.SIGN_BYTE_LENGTH),o=0;o<n.length;++o)n[o]=i[o];return n},c.verify=function(e){var t,r=d(e=e||{});if(void 0===e.signature)throw TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var i=d({message:e.signature,encoding:"binary"});if(i.length!==c.constants.SIGN_BYTE_LENGTH)throw TypeError('"options.signature" must have a byte length of '+c.constants.SIGN_BYTE_LENGTH);var n=d({message:e.publicKey,encoding:"binary"});if(n.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw TypeError('"options.publicKey" must have a byte length of '+c.constants.PUBLIC_KEY_BYTE_LENGTH);var o=new u(c.constants.SIGN_BYTE_LENGTH+r.length),a=new u(c.constants.SIGN_BYTE_LENGTH+r.length);for(t=0;t<c.constants.SIGN_BYTE_LENGTH;++t)o[t]=i[t];for(t=0;t<r.length;++t)o[t+c.constants.SIGN_BYTE_LENGTH]=r[t];return S(a,o,o.length,n)>=0};var p=F(),f=F([1]),h=F([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=F([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=F([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=F([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=F([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(e,t){var r=i.md.sha512.create(),n=new l(e);r.update(n.getBytes(t),"binary");var o=r.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(o,"binary");for(var a=new u(c.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=o.charCodeAt(s);return a}function w(e,t){var r,i=[F(),F(),F(),F()],n=A(t,32);for(n[0]&=248,n[31]&=127,n[31]|=64,M(i,n),O(e,i),r=0;r<32;++r)t[r+32]=e[r];return 0}function _(e,t,r,i){var n,o,a=new Float64Array(64),s=[F(),F(),F(),F()],l=A(i,32);l[0]&=248,l[31]&=127,l[31]|=64;var u=r+64;for(n=0;n<r;++n)e[64+n]=t[n];for(n=0;n<32;++n)e[32+n]=l[32+n];var c=A(e.subarray(32),r+32);for(T(c),M(s,c),O(e,s),n=32;n<64;++n)e[n]=i[n];var d=A(e,r+64);for(T(d),n=32;n<64;++n)a[n]=0;for(n=0;n<32;++n)a[n]=c[n];for(n=0;n<32;++n)for(o=0;o<32;o++)a[n+o]+=d[n]*l[o];return E(e.subarray(32),a),u}function S(e,t,r,i){var n,o=new u(32),a=[F(),F(),F(),F()],s=[F(),F(),F(),F()];if(r<64||k(s,i))return -1;for(n=0;n<r;++n)e[n]=t[n];for(n=0;n<32;++n)e[n+32]=i[n];var l=A(e,r);if(T(l),K(a,s,l),M(s,t.subarray(32)),I(a,s),O(o,a),r-=64,D(t,0,o,0)){for(n=0;n<r;++n)e[n]=0;return -1}for(n=0;n<r;++n)e[n]=t[n+64];return r}function E(e,t){var r,i,n,o;for(i=63;i>=32;--i){for(r=0,n=i-32,o=i-12;n<o;++n)t[n]+=r-16*t[i]*v[n-(i-32)],r=t[n]+128>>8,t[n]-=256*r;t[n]+=r,t[i]=0}for(n=0,r=0;n<32;++n)t[n]+=r-(t[31]>>4)*v[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;++n)t[n]-=r*v[n];for(i=0;i<32;++i)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function T(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;E(e,t)}function I(e,t){var r=F(),i=F(),n=F(),o=F(),a=F(),s=F(),l=F(),u=F(),c=F();V(r,e[1],e[0]),V(c,t[1],t[0]),G(r,r,c),q(i,e[0],e[1]),q(c,t[0],t[1]),G(i,i,c),G(n,e[3],t[3]),G(n,n,m),G(o,e[2],t[2]),q(o,o,o),V(a,i,r),V(s,o,n),q(l,o,n),q(u,i,r),G(e[0],a,s),G(e[1],u,l),G(e[2],l,s),G(e[3],a,u)}function x(e,t,r){for(var i=0;i<4;++i)z(e[i],t[i],r)}function O(e,t){var r=F(),i=F(),n=F();j(n,t[2]),G(r,t[0],n),G(i,t[1],n),C(e,i),e[31]^=L(r)<<7}function C(e,t){var r,i,n,o=F(),a=F();for(r=0;r<16;++r)a[r]=t[r];for($(a),$(a),$(a),i=0;i<2;++i){for(r=1,o[0]=a[0]-65517;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),n=o[15]>>16&1,o[14]&=65535,z(a,o,1-n)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function k(e,t){var r=F(),i=F(),n=F(),o=F(),a=F(),s=F(),l=F();return(B(e[2],f),N(e[1],t),H(n,e[1]),G(o,n,h),V(n,n,e[2]),q(o,e[2],o),H(a,o),H(s,a),G(l,s,a),G(r,l,n),G(r,r,o),R(r,r),G(r,r,n),G(r,r,o),G(r,r,o),G(e[0],r,o),H(i,e[0]),G(i,i,o),P(i,n)&&G(e[0],e[0],b),H(i,e[0]),G(i,i,o),P(i,n))?-1:(L(e[0])===t[31]>>7&&V(e[0],p,e[0]),G(e[3],e[0],e[1]),0)}function N(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function R(e,t){var r,i=F();for(r=0;r<16;++r)i[r]=t[r];for(r=250;r>=0;--r)H(i,i),1!==r&&G(i,i,t);for(r=0;r<16;++r)e[r]=i[r]}function P(e,t){var r=new u(32),i=new u(32);return C(r,e),C(i,t),D(r,0,i,0)}function D(e,t,r,i){return U(e,t,r,i,32)}function U(e,t,r,i,n){var o,a=0;for(o=0;o<n;++o)a|=e[t+o]^r[i+o];return(1&a-1>>>8)-1}function L(e){var t=new u(32);return C(t,e),1&t[0]}function K(e,t,r){var i,n;for(B(e[0],p),B(e[1],f),B(e[2],f),B(e[3],p),n=255;n>=0;--n)x(e,t,i=r[n/8|0]>>(7&n)&1),I(t,e),I(e,e),x(e,t,i)}function M(e,t){var r=[F(),F(),F(),F()];B(r[0],g),B(r[1],y),B(r[2],f),G(r[3],g,y),K(e,r,t)}function B(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function j(e,t){var r,i=F();for(r=0;r<16;++r)i[r]=t[r];for(r=253;r>=0;--r)H(i,i),2!==r&&4!==r&&G(i,i,t);for(r=0;r<16;++r)e[r]=i[r]}function $(e){var t,r,i=1;for(t=0;t<16;++t)i=Math.floor((r=e[t]+i+65535)/65536),e[t]=r-65536*i;e[0]+=i-1+37*(i-1)}function z(e,t,r){for(var i,n=~(r-1),o=0;o<16;++o)i=n&(e[o]^t[o]),e[o]^=i,t[o]^=i}function F(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function q(e,t,r){for(var i=0;i<16;++i)e[i]=t[i]+r[i]}function V(e,t,r){for(var i=0;i<16;++i)e[i]=t[i]-r[i]}function H(e,t){G(e,t,t)}function G(e,t,r){var i,n,o=0,a=0,s=0,l=0,u=0,c=0,d=0,p=0,f=0,h=0,m=0,g=0,y=0,v=0,b=0,A=0,w=0,_=0,S=0,E=0,T=0,I=0,x=0,O=0,C=0,k=0,N=0,R=0,P=0,D=0,U=0,L=r[0],K=r[1],M=r[2],B=r[3],j=r[4],$=r[5],z=r[6],F=r[7],q=r[8],V=r[9],H=r[10],G=r[11],W=r[12],Z=r[13],J=r[14],Q=r[15];o+=(i=t[0])*L,a+=i*K,s+=i*M,l+=i*B,u+=i*j,c+=i*$,d+=i*z,p+=i*F,f+=i*q,h+=i*V,m+=i*H,g+=i*G,y+=i*W,v+=i*Z,b+=i*J,A+=i*Q,a+=(i=t[1])*L,s+=i*K,l+=i*M,u+=i*B,c+=i*j,d+=i*$,p+=i*z,f+=i*F,h+=i*q,m+=i*V,g+=i*H,y+=i*G,v+=i*W,b+=i*Z,A+=i*J,w+=i*Q,s+=(i=t[2])*L,l+=i*K,u+=i*M,c+=i*B,d+=i*j,p+=i*$,f+=i*z,h+=i*F,m+=i*q,g+=i*V,y+=i*H,v+=i*G,b+=i*W,A+=i*Z,w+=i*J,_+=i*Q,l+=(i=t[3])*L,u+=i*K,c+=i*M,d+=i*B,p+=i*j,f+=i*$,h+=i*z,m+=i*F,g+=i*q,y+=i*V,v+=i*H,b+=i*G,A+=i*W,w+=i*Z,_+=i*J,S+=i*Q,u+=(i=t[4])*L,c+=i*K,d+=i*M,p+=i*B,f+=i*j,h+=i*$,m+=i*z,g+=i*F,y+=i*q,v+=i*V,b+=i*H,A+=i*G,w+=i*W,_+=i*Z,S+=i*J,E+=i*Q,c+=(i=t[5])*L,d+=i*K,p+=i*M,f+=i*B,h+=i*j,m+=i*$,g+=i*z,y+=i*F,v+=i*q,b+=i*V,A+=i*H,w+=i*G,_+=i*W,S+=i*Z,E+=i*J,T+=i*Q,d+=(i=t[6])*L,p+=i*K,f+=i*M,h+=i*B,m+=i*j,g+=i*$,y+=i*z,v+=i*F,b+=i*q,A+=i*V,w+=i*H,_+=i*G,S+=i*W,E+=i*Z,T+=i*J,I+=i*Q,p+=(i=t[7])*L,f+=i*K,h+=i*M,m+=i*B,g+=i*j,y+=i*$,v+=i*z,b+=i*F,A+=i*q,w+=i*V,_+=i*H,S+=i*G,E+=i*W,T+=i*Z,I+=i*J,x+=i*Q,f+=(i=t[8])*L,h+=i*K,m+=i*M,g+=i*B,y+=i*j,v+=i*$,b+=i*z,A+=i*F,w+=i*q,_+=i*V,S+=i*H,E+=i*G,T+=i*W,I+=i*Z,x+=i*J,O+=i*Q,h+=(i=t[9])*L,m+=i*K,g+=i*M,y+=i*B,v+=i*j,b+=i*$,A+=i*z,w+=i*F,_+=i*q,S+=i*V,E+=i*H,T+=i*G,I+=i*W,x+=i*Z,O+=i*J,C+=i*Q,m+=(i=t[10])*L,g+=i*K,y+=i*M,v+=i*B,b+=i*j,A+=i*$,w+=i*z,_+=i*F,S+=i*q,E+=i*V,T+=i*H,I+=i*G,x+=i*W,O+=i*Z,C+=i*J,k+=i*Q,g+=(i=t[11])*L,y+=i*K,v+=i*M,b+=i*B,A+=i*j,w+=i*$,_+=i*z,S+=i*F,E+=i*q,T+=i*V,I+=i*H,x+=i*G,O+=i*W,C+=i*Z,k+=i*J,N+=i*Q,y+=(i=t[12])*L,v+=i*K,b+=i*M,A+=i*B,w+=i*j,_+=i*$,S+=i*z,E+=i*F,T+=i*q,I+=i*V,x+=i*H,O+=i*G,C+=i*W,k+=i*Z,N+=i*J,R+=i*Q,v+=(i=t[13])*L,b+=i*K,A+=i*M,w+=i*B,_+=i*j,S+=i*$,E+=i*z,T+=i*F,I+=i*q,x+=i*V,O+=i*H,C+=i*G,k+=i*W,N+=i*Z,R+=i*J,P+=i*Q,b+=(i=t[14])*L,A+=i*K,w+=i*M,_+=i*B,S+=i*j,E+=i*$,T+=i*z,I+=i*F,x+=i*q,O+=i*V,C+=i*H,k+=i*G,N+=i*W,R+=i*Z,P+=i*J,D+=i*Q,A+=(i=t[15])*L,w+=i*K,_+=i*M,S+=i*B,E+=i*j,T+=i*$,I+=i*z,x+=i*F,O+=i*q,C+=i*V,k+=i*H,N+=i*G,R+=i*W,P+=i*Z,D+=i*J,U+=i*Q,o+=38*w,a+=38*_,s+=38*S,l+=38*E,u+=38*T,c+=38*I,d+=38*x,p+=38*O,f+=38*C,h+=38*k,m+=38*N,g+=38*R,y+=38*P,v+=38*D,b+=38*U,n=Math.floor((i=o+(n=1)+65535)/65536),o=i-65536*n,n=Math.floor((i=a+n+65535)/65536),a=i-65536*n,n=Math.floor((i=s+n+65535)/65536),s=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=v+n+65535)/65536),v=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,n=Math.floor((i=A+n+65535)/65536),A=i-65536*n,o+=n-1+37*(n-1),n=Math.floor((i=o+(n=1)+65535)/65536),o=i-65536*n,n=Math.floor((i=a+n+65535)/65536),a=i-65536*n,n=Math.floor((i=s+n+65535)/65536),s=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=v+n+65535)/65536),v=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,n=Math.floor((i=A+n+65535)/65536),A=i-65536*n,o+=n-1+37*(n-1),e[0]=o,e[1]=a,e[2]=s,e[3]=l,e[4]=u,e[5]=c,e[6]=d,e[7]=p,e[8]=f,e[9]=h,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=A}},307390,(e,t,r)=>{var i=e.r(902015);e.r(826706),e.r(602828),e.r(68995),t.exports=i.kem=i.kem||{};var n=i.jsbn.BigInteger;function o(e,t,r,n){e.generate=function(e,o){for(var a=new i.util.ByteBuffer,s=Math.ceil(o/n)+r,l=new i.util.ByteBuffer,u=r;u<s;++u){l.putInt32(u),t.start(),t.update(e+l.getBytes());var c=t.digest();a.putBytes(c.getBytes(n))}return a.truncate(a.length()-o),a.getBytes()}}i.kem.rsa={},i.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||i.random,o={};return o.encrypt=function(t,o){var a,s=Math.ceil(t.n.bitLength()/8);do a=new n(i.util.bytesToHex(r.getBytesSync(s)),16).mod(t.n);while(0>=a.compareTo(n.ONE))var l=s-(a=i.util.hexToBytes(a.toString(16))).length;return l>0&&(a=i.util.fillString("\0",l)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,o)}},o.decrypt=function(t,r,i){var n=t.decrypt(r,"NONE");return e.generate(n,i)},o},i.kem.kdf1=function(e,t){o(this,e,0,t||e.digestLength)},i.kem.kdf2=function(e,t){o(this,e,1,t||e.digestLength)}},256773,(e,t,r)=>{var i,n=e.r(902015);e.r(826706),t.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var o={},a=[],s=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var l=0;l<n.log.levels.length;++l){var u=n.log.levels[l];o[u]={index:l,name:u.toUpperCase()}}n.log.logMessage=function(e){for(var t=o[e.level].index,r=0;r<a.length;++r){var i=a[r];i.flags&n.log.NO_LEVEL_CHECK?i.f(e):t<=o[i.level].index&&i.f(i,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=o[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};for(var c=["error","warning","info","debug","verbose"],l=0;l<c.length;++l)!function(e){n.log[e]=function(t,r){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:e,category:t,message:r,arguments:i};n.log.logMessage(o)}}(c[l]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED)){for(var i=0;i<n.log.levels.length;++i)if(t==n.log.levels[i]){e.level=t,r=!0;break}}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){a.push(e)},"undefined"!=typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug){var d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},p=function(e,t){n.log.prepareStandard(t);var r=d[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),r.apply(console,i)};i=n.log.makeLogger(p)}else{var p=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)};i=n.log.makeLogger(p)}n.log.setLevel(i,"debug"),n.log.addLogger(i),s=i}else console={log:function(){}};n.log.consoleLogger=s},689449,(e,t,r)=>{t.exports=e.r(205189),e.r(399073),e.r(701500),e.r(599470),e.r(9675)},901392,(e,t,r)=>{var i=e.r(902015);e.r(401258),e.r(474723),e.r(30369),e.r(131808),e.r(893139),e.r(693197),e.r(602828),e.r(826706),e.r(209166);var n=i.asn1,o=t.exports=i.pkcs7=i.pkcs7||{};function a(e){var t={},r=[];if(!n.validate(e,o.asn1.recipientInfoValidator,t,r)){var a=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:i.pki.RDNAttributesAsArray(t.issuer),serialNumber:i.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:n.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function s(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:e.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,i.util.hexToBytes(e.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.encryptedContent.algorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function l(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}function u(e){for(var t=[],r=0;r<e.length;++r)t.push(s(e[r]));return t}function c(e){var t=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:e.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,i.util.hexToBytes(e.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.digestAlgorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.signatureAlgorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])),t.value.push(n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<e.unauthenticatedAttributes.length;++o){var a=e.unauthenticatedAttributes[o];r.values.push(p(a))}t.value.push(r)}return t}function d(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}function p(e){var t;if(e.type===i.pki.oids.contentType)t=n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.value).getBytes());else if(e.type===i.pki.oids.messageDigest)t=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===i.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),o=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var s=Date.parse(a);a=isNaN(s)?13===a.length?n.utcTimeToDate(a):n.generalizedTimeToDate(a):new Date(s)}t=a>=r&&a<o?n.create(n.Class.UNIVERSAL,n.Type.UTCTIME,!1,n.dateToUtcTime(a)):n.create(n.Class.UNIVERSAL,n.Type.GENERALIZEDTIME,!1,n.dateToGeneralizedTime(a))}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.type).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[t])])}function f(e){return[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.pki.oids.data).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.algorithm).getBytes()),e.parameter?n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.content.getBytes())])]}function h(e,t,r){var o={},a=[];if(!n.validate(t,r,o,a)){var s=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(n.derToOid(o.contentType)!==i.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(o.encryptedContent){var l="";if(i.util.isArray(o.encryptedContent))for(var u=0;u<o.encryptedContent.length;++u){if(o.encryptedContent[u].type!==n.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=o.encryptedContent[u].value}else l=o.encryptedContent;e.encryptedContent={algorithm:n.derToOid(o.encAlgorithm),parameter:i.util.createBuffer(o.encParameter.value),content:i.util.createBuffer(l)}}if(o.content){var l="";if(i.util.isArray(o.content))for(var u=0;u<o.content.length;++u){if(o.content[u].type!==n.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=o.content[u].value}else l=o.content;e.content=i.util.createBuffer(l)}return e.version=o.version.charCodeAt(0),e.rawCapture=o,o}function m(e){if(void 0===e.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:case i.pki.oids["aes192-CBC"]:case i.pki.oids["aes256-CBC"]:t=i.aes.createDecryptionCipher(e.encryptedContent.key);break;case i.pki.oids.desCBC:case i.pki.oids["des-EDE3-CBC"]:t=i.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw Error("Symmetric decryption failed.");e.content=t.output}}o.messageFromPem=function(e){var t=i.pem.decode(e)[0];if("PKCS7"!==t.type){var r=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=n.fromDer(t.body);return o.messageFromAsn1(a)},o.messageToPem=function(e,t){var r={type:"PKCS7",body:n.toDer(e.toAsn1()).getBytes()};return i.pem.encode(r,{maxline:t})},o.messageFromAsn1=function(e){var t,r={},a=[];if(!n.validate(e,o.asn1.contentInfoValidator,r,a)){var s=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=a,s}var l=n.derToOid(r.contentType);switch(l){case i.pki.oids.envelopedData:t=o.createEnvelopedData();break;case i.pki.oids.encryptedData:t=o.createEncryptedData();break;case i.pki.oids.signedData:t=o.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+l+" is not (yet) supported.")}return t.fromAsn1(r.content.value[0]),t},o.createSignedData=function(){var e=null;return e={type:i.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(h(e,t,o.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,n=0;n<r.length;++n)e.certificates.push(i.pki.certificateFromAsn1(r[n]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(i.pki.certificateToAsn1(e.certificates[r]));var o=[],a=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,t)),o.length>0&&a.value[0].value.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(n.create(n.Class.UNIVERSAL,n.Type.SET,!0,e.signerInfos)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,n=t.serialNumber;if(t.certificate){var o=t.certificate;"string"==typeof o&&(o=i.pki.certificateFromPem(o)),r=o.issuer.attributes,n=o.serialNumber}var a=t.key;if(!a)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=i.pki.privateKeyFromPem(a));var s=t.digestAlgorithm||i.pki.oids.sha1;switch(s){case i.pki.oids.sha1:case i.pki.oids.sha256:case i.pki.oids.sha384:case i.pki.oids.sha512:case i.pki.oids.md5:break;default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var l=t.authenticatedAttributes||[];if(l.length>0){for(var u=!1,c=!1,d=0;d<l.length;++d){var p=l[d];if(!u&&p.type===i.pki.oids.contentType){if(u=!0,c)break;continue}if(!c&&p.type===i.pki.oids.messageDigest){if(c=!0,u)break;continue}}if(!u||!c)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:n,digestAlgorithm:s,signatureAlgorithm:i.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(o){if(o=o||{},("object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.pki.oids.data).getBytes())]),"content"in e)){var a;e.content instanceof i.util.ByteBuffer?a=e.content.bytes():"string"==typeof e.content&&(a=i.util.encodeUtf8(e.content)),o.detached?e.detachedContent=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,a):e.contentInfo.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,a)]))}if(0!==e.signers.length){var s=t();r(s)}},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=i.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw Error("PKCS#7 CRL support not yet implemented.")}};function t(){for(var t={},r=0;r<e.signers.length;++r){var o=e.signers[r],a=o.digestAlgorithm;a in t||(t[a]=i.md[i.pki.oids[a]].create()),0===o.authenticatedAttributes.length?o.md=t[a]:o.md=i.md[i.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(a).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]));return t}function r(t){if(!(r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0]))throw Error("Could not sign PKCS#7 message; there is no content to sign.");var r,o=n.derToOid(e.contentInfo.value[0].value),a=n.toDer(r);for(var s in a.getByte(),n.getBerValueLength(a),a=a.getBytes(),t)t[s].start().update(a);for(var l=new Date,u=0;u<e.signers.length;++u){var c=e.signers[u];if(0===c.authenticatedAttributes.length){if(o!==i.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{c.authenticatedAttributesAsn1=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[]),h=0;h<c.authenticatedAttributes.length;++h){var m=c.authenticatedAttributes[h];m.type===i.pki.oids.messageDigest?m.value=t[c.digestAlgorithm].digest():m.type!==i.pki.oids.signingTime||m.value||(m.value=l),f.value.push(p(m)),c.authenticatedAttributesAsn1.value.push(p(m))}a=n.toDer(f).getBytes(),c.md.start().update(a)}c.signature=c.key.sign(c.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=d(e.signers)}},o.createEncryptedData=function(){var e=null;return e={type:i.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(t){h(e,t,o.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),m(e)}}},o.createEnvelopedData=function(){var e=null;return e={type:i.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=h(e,t,o.asn1.envelopedDataValidator);e.recipients=l(r.recipientInfos.value)},toAsn1:function(){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.type).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(e.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,u(e.recipients)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,f(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,i=0;i<e.recipients.length;++i){var n=e.recipients[i],o=n.issuer;if(n.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return n}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case i.pki.oids.rsaEncryption:case i.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=i.util.createBuffer(n);break;default:throw Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}m(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:i.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case i.pki.oids["aes128-CBC"]:n=16,o=16,a=i.aes.createEncryptionCipher;break;case i.pki.oids["aes192-CBC"]:n=24,o=16,a=i.aes.createEncryptionCipher;break;case i.pki.oids["aes256-CBC"]:n=32,o=16,a=i.aes.createEncryptionCipher;break;case i.pki.oids["des-EDE3-CBC"]:n=24,o=8,a=i.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=i.util.createBuffer(i.random.getBytes(n));else if(t.length()!=n)throw Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=i.util.createBuffer(i.random.getBytes(o));var n,o,a,s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var l=0;l<e.recipients.length;++l){var u=e.recipients[l];if(void 0===u.encryptedContent.content)if(u.encryptedContent.algorithm===i.pki.oids.rsaEncryption)u.encryptedContent.content=u.encryptedContent.key.encrypt(e.encryptedContent.key.data);else throw Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}},752849,(e,t,r)=>{var i=e.r(902015);e.r(401258),e.r(382140),e.r(399073),e.r(701500),e.r(826706);var n=t.exports=i.ssh=i.ssh||{};function o(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=i.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function a(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=i.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}n.privateKeyToPutty=function(e,t,r){r=r||"";var n,l="ssh-rsa",u=""===(t=t||"")?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: "+l+"\r\n";c+="Encryption: "+u+"\r\n",c+="Comment: "+r+"\r\n";var d=i.util.createBuffer();a(d,l),o(d,e.e),o(d,e.n);var p=i.util.encode64(d.bytes(),64),f=Math.floor(p.length/66)+1;c+="Public-Lines: "+f+"\r\n",c+=p;var h=i.util.createBuffer();if(o(h,e.d),o(h,e.p),o(h,e.q),o(h,e.qInv),t){var m=h.length()+16-1;m-=m%16;var g=s(h.bytes());g.truncate(g.length()-m+h.length()),h.putBuffer(g);var y=i.util.createBuffer();y.putBuffer(s("\0\0\0\0",t)),y.putBuffer(s("\0\0\0\x01",t));var v=i.aes.createEncryptionCipher(y.truncate(8),"CBC");v.start(i.util.createBuffer().fillWithByte(0,16)),v.update(h.copy()),v.finish();var b=v.output;b.truncate(16),n=i.util.encode64(b.bytes(),64)}else n=i.util.encode64(h.bytes(),64);c+="\r\nPrivate-Lines: "+(f=Math.floor(n.length/66)+1)+"\r\n",c+=n;var A=s("putty-private-key-file-mac-key",t),w=i.util.createBuffer();a(w,l),a(w,u),a(w,r),w.putInt32(d.length()),w.putBuffer(d),w.putInt32(h.length()),w.putBuffer(h);var _=i.hmac.create();return _.start("sha1",A),_.update(w.bytes()),c+="\r\nPrivate-MAC: "+_.digest().toHex()+"\r\n"},n.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=i.util.createBuffer();return a(n,r),o(n,e.e),o(n,e.n),r+" "+i.util.encode64(n.bytes())+" "+t},n.privateKeyToOpenSSH=function(e,t){return t?i.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):i.pki.privateKeyToPem(e)},n.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||i.md.md5.create(),n="ssh-rsa",s=i.util.createBuffer();a(s,n),o(s,e.e),o(s,e.n),r.start(),r.update(s.getBytes());var l=r.digest();if("hex"===t.encoding){var u=l.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return l.getBytes();if(t.encoding)throw Error('Unknown encoding "'+t.encoding+'".');return l}},472545,(e,t,r)=>{t.exports=e.r(902015),e.r(401258),e.r(59060),e.r(474723),e.r(37170),e.r(30369),e.r(99544),e.r(382140),e.r(307390),e.r(256773),e.r(689449),e.r(739839),e.r(480399),e.r(893139),e.r(36748),e.r(376915),e.r(901392),e.r(768256),e.r(392054),e.r(930756),e.r(115992),e.r(602828),e.r(863045),e.r(752849),e.r(45771),e.r(826706)},330843,(e,t,r)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)return void e.set(t.subarray(r,r+i),n);for(var o=0;o<i;o++)e[n+o]=t[r+o]},flattenChunks:function(e){var t,r,i,n,o,a;for(t=0,i=0,r=e.length;t<r;t++)i+=e[t].length;for(t=0,a=new Uint8Array(i),n=0,r=e.length;t<r;t++)o=e[t],a.set(o,n),n+=o.length;return a}},a={arraySet:function(e,t,r,i,n){for(var o=0;o<i;o++)e[n+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(i)},566462,(e,t,r)=>{"use strict";var i,n,o,a=e.r(330843),s=4,l=0,u=1,c=2;function d(e){for(var t=e.length;--t>=0;)e[t]=0}var p=0,f=1,h=2,m=3,g=258,y=29,v=256,b=286,A=30,w=19,_=573,S=15,E=16,T=7,I=256,x=16,O=17,C=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,U=Array(576);d(U);var L=Array(2*A);d(L);var K=Array(D);d(K);var M=Array(g-m+1);d(M);var B=Array(y);d(B);var j=Array(A);function $(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?K[e]:K[256+(e>>>7)]}function q(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function V(e,t,r){e.bi_valid>E-r?(e.bi_buf|=t<<e.bi_valid&65535,q(e,e.bi_buf),e.bi_buf=t>>E-e.bi_valid,e.bi_valid+=r-E):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function H(e,t,r){V(e,r[2*t],r[2*t+1])}function G(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function W(e){16===e.bi_valid?(q(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Z(e,t){var r,i,n,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(o=0;o<=S;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)(o=l[2*l[2*(i=e.heap[r])+1]+1]+1)>h&&(o=h,m++),l[2*i+1]=o,!(i>u)&&(e.bl_count[o]++,a=0,i>=f&&(a=p[i-f]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==m){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,m-=2}while(m>0)for(o=h;0!==o;o--)for(i=e.bl_count[o];0!==i;)!((n=e.heap[--r])>u)&&(l[2*n+1]!==o&&(e.opt_len+=(o-l[2*n+1])*l[2*n],l[2*n+1]=o),i--)}}function J(e,t,r){var i,n,o=Array(S+1),a=0;for(i=1;i<=S;i++)o[i]=a=a+r[i-1]<<1;for(n=0;n<=t;n++){var s=e[2*n+1];0!==s&&(e[2*n]=G(o[s]++,s))}}function Q(){var e,t,r,a,s,l=Array(S+1);for(a=0,r=0;a<y-1;a++)for(e=0,B[a]=r;e<1<<k[a];e++)M[r++]=a;for(M[r-1]=a,s=0,a=0;a<16;a++)for(e=0,j[a]=s;e<1<<N[a];e++)K[s++]=a;for(s>>=7;a<A;a++)for(e=0,j[a]=s<<7;e<1<<N[a]-7;e++)K[256+s++]=a;for(t=0;t<=S;t++)l[t]=0;for(e=0;e<=143;)U[2*e+1]=8,e++,l[8]++;for(;e<=255;)U[2*e+1]=9,e++,l[9]++;for(;e<=279;)U[2*e+1]=7,e++,l[7]++;for(;e<=287;)U[2*e+1]=8,e++,l[8]++;for(J(U,b+1,l),e=0;e<A;e++)L[2*e+1]=5,L[2*e]=G(e,5);i=new $(U,k,v+1,b,S),n=new $(L,N,0,A,S),o=new $([],R,0,w,T)}function Y(e){var t;for(t=0;t<b;t++)e.dyn_ltree[2*t]=0;for(t=0;t<A;t++)e.dyn_dtree[2*t]=0;for(t=0;t<w;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*I]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?q(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,r,i){X(e),i&&(q(e,r),q(e,~r)),a.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function et(e,t,r,i){var n=2*t,o=2*r;return e[n]<e[o]||e[n]===e[o]&&i[t]<=i[r]}function er(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&et(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!et(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function ei(e,t,r){var i,n,o,a,s=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],n=e.pending_buf[e.l_buf+s],s++,0===i?H(e,n,t):(H(e,(o=M[n])+v+1,t),0!==(a=k[o])&&V(e,n-=B[o],a),H(e,o=F(--i),r),0!==(a=N[o])&&V(e,i-=j[o],a));while(s<e.last_lit)H(e,I,t)}function en(e,t){var r,i,n,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(r=0,e.heap_len=0,e.heap_max=_;r<l;r++)0!==o[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,s&&(e.static_len-=a[2*n+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)er(e,o,r);n=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],er(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,o[2*n]=o[2*r]+o[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,o[2*r+1]=o[2*i+1]=n,e.heap[1]=n++,er(e,o,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],Z(e,t),J(o,u,e.bl_count)}function eo(e,t,r){var i,n,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[(r+1)*2+1]=65535,i=0;i<=r;i++)n=a,a=t[(i+1)*2+1],++s<l&&n===a||(s<u?e.bl_tree[2*n]+=s:0!==n?(n!==o&&e.bl_tree[2*n]++,e.bl_tree[2*x]++):s<=10?e.bl_tree[2*O]++:e.bl_tree[2*C]++,s=0,o=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4))}function ea(e,t,r){var i,n,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=r;i++)if(n=a,a=t[(i+1)*2+1],!(++s<l)||n!==a){if(s<u)do H(e,n,e.bl_tree);while(0!=--s)else 0!==n?(n!==o&&(H(e,n,e.bl_tree),s--),H(e,x,e.bl_tree),V(e,s-3,2)):s<=10?(H(e,O,e.bl_tree),V(e,s-3,3)):(H(e,C,e.bl_tree),V(e,s-11,7));s=0,o=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4)}}function es(e){var t;for(eo(e,e.dyn_ltree,e.l_desc.max_code),eo(e,e.dyn_dtree,e.d_desc.max_code),en(e,e.bl_desc),t=w-1;t>=3&&0===e.bl_tree[2*P[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function el(e,t,r,i){var n;for(V(e,t-257,5),V(e,r-1,5),V(e,i-4,4),n=0;n<i;n++)V(e,e.bl_tree[2*P[n]+1],3);ea(e,e.dyn_ltree,t-1),ea(e,e.dyn_dtree,r-1)}function eu(e){var t,r=0xf3ffc07f;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return l;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return u;for(t=32;t<v;t++)if(0!==e.dyn_ltree[2*t])return u;return l}d(j);var ec=!1;function ed(e,t,r,i){V(e,(p<<1)+ +!!i,3),ee(e,t,r,!0)}function ep(e){V(e,f<<1,3),H(e,I,U),W(e)}function ef(e,t,r,i){var n,o,a=0;e.level>0?(e.strm.data_type===c&&(e.strm.data_type=eu(e)),en(e,e.l_desc),en(e,e.d_desc),a=es(e),n=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=n&&(n=o)):n=o=r+5,r+4<=n&&-1!==t?ed(e,t,r,i):e.strategy===s||o===n?(V(e,(f<<1)+ +!!i,3),ei(e,U,L)):(V(e,(h<<1)+ +!!i,3),el(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),ei(e,e.dyn_ltree,e.dyn_dtree)),Y(e),i&&X(e)}function eh(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(M[r]+v+1)*2]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1}r._tr_init=function(e){ec||(Q(),ec=!0),e.l_desc=new z(e.dyn_ltree,i),e.d_desc=new z(e.dyn_dtree,n),e.bl_desc=new z(e.bl_tree,o),e.bi_buf=0,e.bi_valid=0,Y(e)},r._tr_stored_block=ed,r._tr_flush_block=ef,r._tr_tally=eh,r._tr_align=ep},97830,(e,t,r)=>{"use strict";t.exports=function(e,t,r,i){for(var n=65535&e,o=e>>>16&65535,a=0;0!==r;){a=r>2e3?2e3:r,r-=a;do o=o+(n=n+t[i++]|0)|0;while(--a)n%=65521,o%=65521}return n|o<<16}},156641,(e,t,r)=>{"use strict";var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[(e^t[s])&255];return -1^e}},532187,(e,t,r)=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},296844,(e,t,r)=>{"use strict";var i,n=e.r(330843),o=e.r(566462),a=e.r(97830),s=e.r(156641),l=e.r(532187),u=0,c=1,d=3,p=4,f=5,h=0,m=1,g=-2,y=-3,v=-5,b=-1,A=1,w=2,_=3,S=4,E=0,T=2,I=8,x=9,O=15,C=8,k=286,N=30,R=19,P=573,D=15,U=3,L=258,K=262,M=32,B=42,j=69,$=73,z=91,F=103,q=113,V=666,H=1,G=2,W=3,Z=4,J=3;function Q(e,t){return e.msg=l[t],t}function Y(e){return(e<<1)-9*(e>4)}function X(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function et(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function er(e,t){e.pending_buf[e.pending++]=t}function ei(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function en(e,t,r,i){var o=e.avail_in;return(o>i&&(o=i),0===o)?0:(e.avail_in-=o,n.arraySet(t,e.input,e.next_in,o,r),1===e.state.wrap?e.adler=a(e.adler,t,o,r):2===e.state.wrap&&(e.adler=s(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}function eo(e,t){var r,i,n=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-K?e.strstart-(e.w_size-K):0,u=e.window,c=e.w_mask,d=e.prev,p=e.strstart+L,f=u[o+a-1],h=u[o+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+a]!==h||u[r+a-1]!==f||u[r]!==u[o]||u[++r]!==u[o+1])continue;o+=2,r++;do;while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<p)if(i=L-(p-o),o=p-L,i>a){if(e.match_start=t,a=i,i>=s)break;f=u[o+a-1],h=u[o+a]}}while((t=d[t&c])>l&&0!=--n)return a<=e.lookahead?a:e.lookahead}function ea(e){var t,r,i,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-K)){n.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=r=e.hash_size;do i=e.head[--t],e.head[t]=i>=s?i-s:0;while(--r)t=r=s;do i=e.prev[--t],e.prev[t]=i>=s?i-s:0;while(--r)o+=s}if(0===e.strm.avail_in)break;if(r=en(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=U)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+U-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<U)););}while(e.lookahead<K&&0!==e.strm.avail_in)}function es(e,t){for(var r,i;;){if(e.lookahead<K){if(ea(e),e.lookahead<K&&t===u)return H;if(0===e.lookahead)break}if(r=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-K&&(e.match_length=eo(e,r)),e.match_length>=U)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-U),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=U){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(et(e,!1),0===e.strm.avail_out))return H}return(e.insert=e.strstart<U-1?e.strstart:U-1,t===p)?(et(e,!0),0===e.strm.avail_out)?W:Z:e.last_lit&&(et(e,!1),0===e.strm.avail_out)?H:G}function el(e,t){for(var r,i,n;;){if(e.lookahead<K){if(ea(e),e.lookahead<K&&t===u)return H;if(0===e.lookahead)break}if(r=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=U-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-K&&(e.match_length=eo(e,r),e.match_length<=5&&(e.strategy===A||e.match_length===U&&e.strstart-e.match_start>4096)&&(e.match_length=U-1)),e.prev_length>=U&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-U,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-U),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=U-1,e.strstart++,i&&(et(e,!1),0===e.strm.avail_out))return H}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&et(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return H}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<U-1?e.strstart:U-1,t===p)?(et(e,!0),0===e.strm.avail_out)?W:Z:e.last_lit&&(et(e,!1),0===e.strm.avail_out)?H:G}function eu(e,t){for(var r,i,n,a,s=e.window;;){if(e.lookahead<=L){if(ea(e),e.lookahead<=L&&t===u)return H;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=U&&e.strstart>0&&(i=s[n=e.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){a=e.strstart+L;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<a)e.match_length=L-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=U?(r=o._tr_tally(e,1,e.match_length-U),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(et(e,!1),0===e.strm.avail_out))return H}return(e.insert=0,t===p)?(et(e,!0),0===e.strm.avail_out)?W:Z:e.last_lit&&(et(e,!1),0===e.strm.avail_out)?H:G}function ec(e,t){for(var r;;){if(0===e.lookahead&&(ea(e),0===e.lookahead)){if(t===u)return H;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(et(e,!1),0===e.strm.avail_out))return H}return(e.insert=0,t===p)?(et(e,!0),0===e.strm.avail_out)?W:Z:e.last_lit&&(et(e,!1),0===e.strm.avail_out)?H:G}function ed(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function ep(e){e.window_size=2*e.w_size,X(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=U-1,e.match_available=0,e.ins_h=0}function ef(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*P),this.dyn_dtree=new n.Buf16((2*N+1)*2),this.bl_tree=new n.Buf16((2*R+1)*2),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(D+1),this.heap=new n.Buf16(2*k+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*k+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function eh(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=T,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:q,e.adler=+(2!==t.wrap),t.last_flush=u,o._tr_init(t),h):Q(e,g)}function em(e){var t=eh(e);return t===h&&ep(e.state),t}function eg(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,h):g}function ey(e,t,r,i,o,a){if(!e)return g;var s=1;if(t===b&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>x||r!==I||i<8||i>15||t<0||t>9||a<0||a>S)return Q(e,g);8===i&&(i=9);var l=new ef;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+U-1)/U),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,em(e)}function ev(e,t){if(!e||!e.state||t>f||t<0)return e?Q(e,g):g;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===V&&t!==p)return Q(e,0===e.avail_out?v:g);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===B)if(2===n.wrap)e.adler=0,er(n,31),er(n,139),er(n,8),n.gzhead?(er(n,+!!n.gzhead.text+2*!!n.gzhead.hcrc+4*!!n.gzhead.extra+8*!!n.gzhead.name+16*!!n.gzhead.comment),er(n,255&n.gzhead.time),er(n,n.gzhead.time>>8&255),er(n,n.gzhead.time>>16&255),er(n,n.gzhead.time>>24&255),er(n,9===n.level?2:4*(n.strategy>=w||n.level<2)),er(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(er(n,255&n.gzhead.extra.length),er(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=s(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=j):(er(n,0),er(n,0),er(n,0),er(n,0),er(n,0),er(n,9===n.level?2:4*(n.strategy>=w||n.level<2)),er(n,J),n.status=q);else{var r,n,a,l,y=I+(n.w_bits-8<<4)<<8,b=-1;y|=(b=n.strategy>=w||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(y|=M),y+=31-y%31,n.status=q,ei(n,y),0!==n.strstart&&(ei(n,e.adler>>>16),ei(n,65535&e.adler)),e.adler=1}if(n.status===j)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),ee(e),a=n.pending,n.pending!==n.pending_buf_size));)er(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=$)}else n.status=$;if(n.status===$)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),ee(e),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,er(n,l)}while(0!==l)n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.gzindex=0,n.status=z)}else n.status=z;if(n.status===z)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),ee(e),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,er(n,l)}while(0!==l)n.gzhead.hcrc&&n.pending>a&&(e.adler=s(e.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.status=F)}else n.status=F;if(n.status===F&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ee(e),n.pending+2<=n.pending_buf_size&&(er(n,255&e.adler),er(n,e.adler>>8&255),e.adler=0,n.status=q)):n.status=q),0!==n.pending){if(ee(e),0===e.avail_out)return n.last_flush=-1,h}else if(0===e.avail_in&&Y(t)<=Y(r)&&t!==p)return Q(e,v);if(n.status===V&&0!==e.avail_in)return Q(e,v);if(0!==e.avail_in||0!==n.lookahead||t!==u&&n.status!==V){var A=n.strategy===w?ec(n,t):n.strategy===_?eu(n,t):i[n.level].func(n,t);if((A===W||A===Z)&&(n.status=V),A===H||A===W)return 0===e.avail_out&&(n.last_flush=-1),h;if(A===G&&(t===c?o._tr_align(n):t!==f&&(o._tr_stored_block(n,0,0,!1),t===d&&(X(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ee(e),0===e.avail_out))return n.last_flush=-1,h}return t!==p?h:n.wrap<=0?m:(2===n.wrap?(er(n,255&e.adler),er(n,e.adler>>8&255),er(n,e.adler>>16&255),er(n,e.adler>>24&255),er(n,255&e.total_in),er(n,e.total_in>>8&255),er(n,e.total_in>>16&255),er(n,e.total_in>>24&255)):(ei(n,e.adler>>>16),ei(n,65535&e.adler)),ee(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?h:m)}function eb(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==j&&t!==$&&t!==z&&t!==F&&t!==q&&t!==V?Q(e,g):(e.state=null,t===q?Q(e,y):h):g}function eA(e,t){var r,i,o,s,l,u,c,d,p=t.length;if(!e||!e.state||2===(s=(r=e.state).wrap)||1===s&&r.status!==B||r.lookahead)return g;for(1===s&&(e.adler=a(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(X(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new n.Buf8(r.w_size),n.arraySet(d,t,p-r.w_size,r.w_size,0),t=d,p=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,ea(r);r.lookahead>=U;){i=r.strstart,o=r.lookahead-(U-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+U-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o)r.strstart=i,r.lookahead=U-1,ea(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=U-1,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=s,h}i=[new ed(0,0,0,0,function(e,t){var r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ea(e),0===e.lookahead&&t===u)return H;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,et(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-K&&(et(e,!1),0===e.strm.avail_out))return H}return(e.insert=0,t===p)?(et(e,!0),0===e.strm.avail_out)?W:Z:(e.strstart>e.block_start&&(et(e,!1),e.strm.avail_out),H)}),new ed(4,4,8,4,es),new ed(4,5,16,8,es),new ed(4,6,32,32,es),new ed(4,4,16,16,el),new ed(8,16,32,32,el),new ed(8,16,128,128,el),new ed(8,32,128,256,el),new ed(32,128,258,1024,el),new ed(32,258,258,4096,el)],r.deflateInit=function(e,t){return ey(e,t,I,O,C,E)},r.deflateInit2=ey,r.deflateReset=em,r.deflateResetKeep=eh,r.deflateSetHeader=eg,r.deflate=ev,r.deflateEnd=eb,r.deflateSetDictionary=eA,r.deflateInfo="pako deflate (from Nodeca project)"},21789,(e,t,r)=>{"use strict";var i=e.r(330843),n=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<s&&(64512&(n=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(a=0,t=new i.Buf8(l),o=0;a<l;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<s&&(64512&(n=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,i,n,o,s=t||e.length,u=Array(2*s);for(i=0,r=0;r<s;){if((n=e[r++])<128){u[i++]=n;continue}if((o=a[n])>4){u[i++]=65533,r+=o-1;continue}for(n&=2===o?31:3===o?15:7;o>1&&r<s;)n=n<<6|63&e[r++],o--;if(o>1){u[i++]=65533;continue}n<65536?u[i++]=n:(n-=65536,u[i++]=55296|n>>10&1023,u[i++]=56320|1023&n)}return l(u,i)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},3483,(e,t,r)=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},858863,(e,t,r)=>{"use strict";var i=e.r(296844),n=e.r(330843),o=e.r(21789),a=e.r(532187),s=e.r(3483),l=Object.prototype.toString,u=0,c=4,d=0,p=1,f=2,h=-1,m=0,g=8;function y(e){if(!(this instanceof y))return new y(e);this.options=n.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var u=i.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(u!==d)throw Error(a[u]);if(r.header&&i.deflateSetHeader(this.strm,r.header),r.dictionary){if(t="string"==typeof r.dictionary?o.string2buf(r.dictionary):"[object ArrayBuffer]"===l.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,(u=i.deflateSetDictionary(this.strm,t))!==d)throw Error(a[u]);this._dict_set=!0}}function v(e,t){var r=new y(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}function b(e,t){return(t=t||{}).raw=!0,v(e,t)}function A(e,t){return(t=t||{}).gzip=!0,v(e,t)}y.prototype.push=function(e,t){var r,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?c:u,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(h),s.next_out=0,s.avail_out=h),(r=i.deflate(s,a))!==p&&r!==d)return this.onEnd(r),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(a===c||a===f))&&("string"===this.options.to?this.onData(o.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&r!==p)return a===c?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===d):(a===f&&(this.onEnd(d),s.avail_out=0),!0)},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=y,r.deflate=v,r.deflateRaw=b,r.gzip=A},398220,(e,t,r)=>{"use strict";var i=30,n=12;t.exports=function(e,t){var r,o,a,s,l,u,c,d,p,f,h,m,g,y,v,b,A,w,_,S,E,T,I,x,O;r=e.state,o=e.next_in,x=e.input,a=o+(e.avail_in-5),s=e.next_out,O=e.output,l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=r.dmax,d=r.wsize,p=r.whave,f=r.wnext,h=r.window,m=r.hold,g=r.bits,y=r.lencode,v=r.distcode,b=(1<<r.lenbits)-1,A=(1<<r.distbits)-1;t:do for(g<15&&(m+=x[o++]<<g,g+=8,m+=x[o++]<<g,g+=8),w=y[m&b];;){if(m>>>=_=w>>>24,g-=_,0==(_=w>>>16&255))O[s++]=65535&w;else if(16&_)for(S=65535&w,(_&=15)&&(g<_&&(m+=x[o++]<<g,g+=8),S+=m&(1<<_)-1,m>>>=_,g-=_),g<15&&(m+=x[o++]<<g,g+=8,m+=x[o++]<<g,g+=8),w=v[m&A];;){if(m>>>=_=w>>>24,g-=_,16&(_=w>>>16&255)){if(E=65535&w,g<(_&=15)&&(m+=x[o++]<<g,(g+=8)<_&&(m+=x[o++]<<g,g+=8)),(E+=m&(1<<_)-1)>c){e.msg="invalid distance too far back",r.mode=i;break t}if(m>>>=_,g-=_,E>(_=s-l)){if((_=E-_)>p&&r.sane){e.msg="invalid distance too far back",r.mode=i;break t}if(T=0,I=h,0===f){if(T+=d-_,_<S){S-=_;do O[s++]=h[T++];while(--_)T=s-E,I=O}}else if(f<_){if(T+=d+f-_,(_-=f)<S){S-=_;do O[s++]=h[T++];while(--_)if(T=0,f<S){S-=_=f;do O[s++]=h[T++];while(--_)T=s-E,I=O}}}else if(T+=f-_,_<S){S-=_;do O[s++]=h[T++];while(--_)T=s-E,I=O}for(;S>2;)O[s++]=I[T++],O[s++]=I[T++],O[s++]=I[T++],S-=3;S&&(O[s++]=I[T++],S>1&&(O[s++]=I[T++]))}else{T=s-E;do O[s++]=O[T++],O[s++]=O[T++],O[s++]=O[T++],S-=3;while(S>2)S&&(O[s++]=O[T++],S>1&&(O[s++]=O[T++]))}}else if((64&_)==0){w=v[(65535&w)+(m&(1<<_)-1)];continue}else{e.msg="invalid distance code",r.mode=i;break t}break}else if((64&_)==0){w=y[(65535&w)+(m&(1<<_)-1)];continue}else if(32&_){r.mode=n;break t}else{e.msg="invalid literal/length code",r.mode=i;break t}break}while(o<a&&s<u)o-=S=g>>3,g-=S<<3,m&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<u?257+(u-s):257-(s-u),r.hold=m,r.bits=g}},985396,(e,t,r)=>{"use strict";var i=e.r(330843),n=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,h,m,g,y,v){var b,A,w,_,S,E,T,I,x,O=v.bits,C=0,k=0,N=0,R=0,P=0,D=0,U=0,L=0,K=0,M=0,B=null,j=0,$=new i.Buf16(n+1),z=new i.Buf16(n+1),F=null,q=0;for(C=0;C<=n;C++)$[C]=0;for(k=0;k<h;k++)$[t[r+k]]++;for(P=O,R=n;R>=1&&0===$[R];R--);if(P>R&&(P=R),0===R)return m[g++]=0x1400000,m[g++]=0x1400000,v.bits=1,0;for(N=1;N<R&&0===$[N];N++);for(P<N&&(P=N),L=1,C=1;C<=n;C++)if(L<<=1,(L-=$[C])<0)return -1;if(L>0&&(e===s||1!==R))return -1;for(C=1,z[1]=0;C<n;C++)z[C+1]=z[C]+$[C];for(k=0;k<h;k++)0!==t[r+k]&&(y[z[t[r+k]]++]=k);if(e===s?(B=F=y,E=19):e===l?(B=c,j-=257,F=d,q-=257,E=256):(B=p,F=f,E=-1),M=0,k=0,C=N,S=g,D=P,U=0,w=-1,_=(K=1<<P)-1,e===l&&K>o||e===u&&K>a)return 1;for(;;){T=C-U,y[k]<E?(I=0,x=y[k]):y[k]>E?(I=F[q+y[k]],x=B[j+y[k]]):(I=96,x=0),b=1<<C-U,N=A=1<<D;do m[S+(M>>U)+(A-=b)]=T<<24|I<<16|x;while(0!==A)for(b=1<<C-1;M&b;)b>>=1;if(0!==b?(M&=b-1,M+=b):M=0,k++,0==--$[C]){if(C===R)break;C=t[r+y[k]]}if(C>P&&(M&_)!==w){for(0===U&&(U=P),S+=N,L=1<<(D=C-U);D+U<R&&!((L-=$[D+U])<=0);)D++,L<<=1;if(K+=1<<D,e===l&&K>o||e===u&&K>a)return 1;m[w=M&_]=P<<24|D<<16|S-g}}return 0!==M&&(m[S+M]=C-U<<24|4194304),v.bits=P,0}},738628,(e,t,r)=>{"use strict";var i,n,o=e.r(330843),a=e.r(97830),s=e.r(156641),l=e.r(398220),u=e.r(985396),c=0,d=1,p=2,f=4,h=5,m=6,g=0,y=1,v=2,b=-2,A=-3,w=-4,_=-5,S=8,E=1,T=2,I=3,x=4,O=5,C=6,k=7,N=8,R=9,P=10,D=11,U=12,L=13,K=14,M=15,B=16,j=17,$=18,z=19,F=20,q=21,V=22,H=23,G=24,W=25,Z=26,J=27,Q=28,Y=29,X=30,ee=31,et=852,er=592,ei=15;function en(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function eo(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ea(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new o.Buf32(et),t.distcode=t.distdyn=new o.Buf32(er),t.sane=1,t.back=-1,g):b}function es(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ea(e)):b}function el(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?b:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,es(e)):b}function eu(e,t){var r,i;return e?(e.state=i=new eo,i.window=null,(r=el(e,t))!==g&&(e.state=null),r):b}function ec(e){return eu(e,ei)}var ed=!0;function ep(e){if(ed){var t;for(i=new o.Buf32(512),n=new o.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(d,e.lens,0,288,i,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(p,e.lens,0,32,n,0,e.work,{bits:5}),ed=!1}e.lencode=i,e.lenbits=9,e.distcode=n,e.distbits=5}function ef(e,t,r,i){var n,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new o.Buf8(a.wsize)),i>=a.wsize?(o.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((n=a.wsize-a.wnext)>i&&(n=i),o.arraySet(a.window,t,r-i,n,a.wnext),(i-=n)?(o.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}function eh(e,t){var r,i,n,et,er,ei,eo,ea,es,el,eu,ec,ed,eh,em,eg,ey,ev,eb,eA,ew,e_,eS,eE,eT=0,eI=new o.Buf8(4),ex=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(r=e.state).mode===U&&(r.mode=L),er=e.next_out,n=e.output,eo=e.avail_out,et=e.next_in,i=e.input,ei=e.avail_in,ea=r.hold,es=r.bits,el=ei,eu=eo,e_=g;r:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=L;break}for(;es<16;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(2&r.wrap&&35615===ea){r.check=0,eI[0]=255&ea,eI[1]=ea>>>8&255,r.check=s(r.check,eI,2,0),ea=0,es=0,r.mode=T;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&ea)<<8)+(ea>>8))%31){e.msg="incorrect header check",r.mode=X;break}if((15&ea)!==S){e.msg="unknown compression method",r.mode=X;break}if(ea>>>=4,es-=4,ew=(15&ea)+8,0===r.wbits)r.wbits=ew;else if(ew>r.wbits){e.msg="invalid window size",r.mode=X;break}r.dmax=1<<ew,e.adler=r.check=1,r.mode=512&ea?P:U,ea=0,es=0;break;case T:for(;es<16;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(r.flags=ea,(255&r.flags)!==S){e.msg="unknown compression method",r.mode=X;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=X;break}r.head&&(r.head.text=ea>>8&1),512&r.flags&&(eI[0]=255&ea,eI[1]=ea>>>8&255,r.check=s(r.check,eI,2,0)),ea=0,es=0,r.mode=I;case I:for(;es<32;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}r.head&&(r.head.time=ea),512&r.flags&&(eI[0]=255&ea,eI[1]=ea>>>8&255,eI[2]=ea>>>16&255,eI[3]=ea>>>24&255,r.check=s(r.check,eI,4,0)),ea=0,es=0,r.mode=x;case x:for(;es<16;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}r.head&&(r.head.xflags=255&ea,r.head.os=ea>>8),512&r.flags&&(eI[0]=255&ea,eI[1]=ea>>>8&255,r.check=s(r.check,eI,2,0)),ea=0,es=0,r.mode=O;case O:if(1024&r.flags){for(;es<16;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}r.length=ea,r.head&&(r.head.extra_len=ea),512&r.flags&&(eI[0]=255&ea,eI[1]=ea>>>8&255,r.check=s(r.check,eI,2,0)),ea=0,es=0}else r.head&&(r.head.extra=null);r.mode=C;case C:if(1024&r.flags&&((ec=r.length)>ei&&(ec=ei),ec&&(r.head&&(ew=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),o.arraySet(r.head.extra,i,et,ec,ew)),512&r.flags&&(r.check=s(r.check,i,ec,et)),ei-=ec,et+=ec,r.length-=ec),r.length))break r;r.length=0,r.mode=k;case k:if(2048&r.flags){if(0===ei)break r;ec=0;do ew=i[et+ec++],r.head&&ew&&r.length<65536&&(r.head.name+=String.fromCharCode(ew));while(ew&&ec<ei)if(512&r.flags&&(r.check=s(r.check,i,ec,et)),ei-=ec,et+=ec,ew)break r}else r.head&&(r.head.name=null);r.length=0,r.mode=N;case N:if(4096&r.flags){if(0===ei)break r;ec=0;do ew=i[et+ec++],r.head&&ew&&r.length<65536&&(r.head.comment+=String.fromCharCode(ew));while(ew&&ec<ei)if(512&r.flags&&(r.check=s(r.check,i,ec,et)),ei-=ec,et+=ec,ew)break r}else r.head&&(r.head.comment=null);r.mode=R;case R:if(512&r.flags){for(;es<16;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(ea!==(65535&r.check)){e.msg="header crc mismatch",r.mode=X;break}ea=0,es=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=U;break;case P:for(;es<32;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}e.adler=r.check=en(ea),ea=0,es=0,r.mode=D;case D:if(0===r.havedict)return e.next_out=er,e.avail_out=eo,e.next_in=et,e.avail_in=ei,r.hold=ea,r.bits=es,v;e.adler=r.check=1,r.mode=U;case U:if(t===h||t===m)break r;case L:if(r.last){ea>>>=7&es,es-=7&es,r.mode=J;break}for(;es<3;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}switch(r.last=1&ea,es-=1,3&(ea>>>=1)){case 0:r.mode=K;break;case 1:if(ep(r),r.mode=F,t===m){ea>>>=2,es-=2;break r}break;case 2:r.mode=j;break;case 3:e.msg="invalid block type",r.mode=X}ea>>>=2,es-=2;break;case K:for(ea>>>=7&es,es-=7&es;es<32;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if((65535&ea)!=(ea>>>16^65535)){e.msg="invalid stored block lengths",r.mode=X;break}if(r.length=65535&ea,ea=0,es=0,r.mode=M,t===m)break r;case M:r.mode=B;case B:if(ec=r.length){if(ec>ei&&(ec=ei),ec>eo&&(ec=eo),0===ec)break r;o.arraySet(n,i,et,ec,er),ei-=ec,et+=ec,eo-=ec,er+=ec,r.length-=ec;break}r.mode=U;break;case j:for(;es<14;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(r.nlen=(31&ea)+257,es-=5,r.ndist=(31&(ea>>>=5))+1,es-=5,r.ncode=(15&(ea>>>=5))+4,ea>>>=4,es-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=X;break}r.have=0,r.mode=$;case $:for(;r.have<r.ncode;){for(;es<3;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}r.lens[ex[r.have++]]=7&ea,ea>>>=3,es-=3}for(;r.have<19;)r.lens[ex[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,eS={bits:r.lenbits},e_=u(c,r.lens,0,19,r.lencode,0,r.work,eS),r.lenbits=eS.bits,e_){e.msg="invalid code lengths set",r.mode=X;break}r.have=0,r.mode=z;case z:for(;r.have<r.nlen+r.ndist;){for(;em=(eT=r.lencode[ea&(1<<r.lenbits)-1])>>>24,eg=eT>>>16&255,ey=65535&eT,!(em<=es);){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(ey<16)ea>>>=em,es-=em,r.lens[r.have++]=ey;else{if(16===ey){for(eE=em+2;es<eE;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(ea>>>=em,es-=em,0===r.have){e.msg="invalid bit length repeat",r.mode=X;break}ew=r.lens[r.have-1],ec=3+(3&ea),ea>>>=2,es-=2}else if(17===ey){for(eE=em+3;es<eE;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}ea>>>=em,es-=em,ew=0,ec=3+(7&ea),ea>>>=3,es-=3}else{for(eE=em+7;es<eE;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}ea>>>=em,es-=em,ew=0,ec=11+(127&ea),ea>>>=7,es-=7}if(r.have+ec>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=X;break}for(;ec--;)r.lens[r.have++]=ew}}if(r.mode===X)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=X;break}if(r.lenbits=9,eS={bits:r.lenbits},e_=u(d,r.lens,0,r.nlen,r.lencode,0,r.work,eS),r.lenbits=eS.bits,e_){e.msg="invalid literal/lengths set",r.mode=X;break}if(r.distbits=6,r.distcode=r.distdyn,eS={bits:r.distbits},e_=u(p,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,eS),r.distbits=eS.bits,e_){e.msg="invalid distances set",r.mode=X;break}if(r.mode=F,t===m)break r;case F:r.mode=q;case q:if(ei>=6&&eo>=258){e.next_out=er,e.avail_out=eo,e.next_in=et,e.avail_in=ei,r.hold=ea,r.bits=es,l(e,eu),er=e.next_out,n=e.output,eo=e.avail_out,et=e.next_in,i=e.input,ei=e.avail_in,ea=r.hold,es=r.bits,r.mode===U&&(r.back=-1);break}for(r.back=0;em=(eT=r.lencode[ea&(1<<r.lenbits)-1])>>>24,eg=eT>>>16&255,ey=65535&eT,!(em<=es);){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(eg&&(240&eg)==0){for(ev=em,eb=eg,eA=ey;em=(eT=r.lencode[eA+((ea&(1<<ev+eb)-1)>>ev)])>>>24,eg=eT>>>16&255,ey=65535&eT,!(ev+em<=es);){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}ea>>>=ev,es-=ev,r.back+=ev}if(ea>>>=em,es-=em,r.back+=em,r.length=ey,0===eg){r.mode=Z;break}if(32&eg){r.back=-1,r.mode=U;break}if(64&eg){e.msg="invalid literal/length code",r.mode=X;break}r.extra=15&eg,r.mode=V;case V:if(r.extra){for(eE=r.extra;es<eE;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}r.length+=ea&(1<<r.extra)-1,ea>>>=r.extra,es-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=H;case H:for(;em=(eT=r.distcode[ea&(1<<r.distbits)-1])>>>24,eg=eT>>>16&255,ey=65535&eT,!(em<=es);){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if((240&eg)==0){for(ev=em,eb=eg,eA=ey;em=(eT=r.distcode[eA+((ea&(1<<ev+eb)-1)>>ev)])>>>24,eg=eT>>>16&255,ey=65535&eT,!(ev+em<=es);){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}ea>>>=ev,es-=ev,r.back+=ev}if(ea>>>=em,es-=em,r.back+=em,64&eg){e.msg="invalid distance code",r.mode=X;break}r.offset=ey,r.extra=15&eg,r.mode=G;case G:if(r.extra){for(eE=r.extra;es<eE;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}r.offset+=ea&(1<<r.extra)-1,ea>>>=r.extra,es-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=X;break}r.mode=W;case W:if(0===eo)break r;if(ec=eu-eo,r.offset>ec){if((ec=r.offset-ec)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=X;break}ec>r.wnext?(ec-=r.wnext,ed=r.wsize-ec):ed=r.wnext-ec,ec>r.length&&(ec=r.length),eh=r.window}else eh=n,ed=er-r.offset,ec=r.length;ec>eo&&(ec=eo),eo-=ec,r.length-=ec;do n[er++]=eh[ed++];while(--ec)0===r.length&&(r.mode=q);break;case Z:if(0===eo)break r;n[er++]=r.length,eo--,r.mode=q;break;case J:if(r.wrap){for(;es<32;){if(0===ei)break r;ei--,ea|=i[et++]<<es,es+=8}if(eu-=eo,e.total_out+=eu,r.total+=eu,eu&&(e.adler=r.check=r.flags?s(r.check,n,eu,er-eu):a(r.check,n,eu,er-eu)),eu=eo,(r.flags?ea:en(ea))!==r.check){e.msg="incorrect data check",r.mode=X;break}ea=0,es=0}r.mode=Q;case Q:if(r.wrap&&r.flags){for(;es<32;){if(0===ei)break r;ei--,ea+=i[et++]<<es,es+=8}if(ea!==(0|r.total)){e.msg="incorrect length check",r.mode=X;break}ea=0,es=0}r.mode=Y;case Y:e_=y;break r;case X:e_=A;break r;case ee:return w;default:return b}return e.next_out=er,e.avail_out=eo,e.next_in=et,e.avail_in=ei,r.hold=ea,r.bits=es,(r.wsize||eu!==e.avail_out&&r.mode<X&&(r.mode<J||t!==f))&&ef(e,e.output,e.next_out,eu-e.avail_out),el-=e.avail_in,eu-=e.avail_out,e.total_in+=el,e.total_out+=eu,r.total+=eu,r.wrap&&eu&&(e.adler=r.check=r.flags?s(r.check,n,eu,e.next_out-eu):a(r.check,n,eu,e.next_out-eu)),e.data_type=r.bits+64*!!r.last+128*(r.mode===U)+256*(r.mode===F||r.mode===M),(0===el&&0===eu||t===f)&&e_===g&&(e_=_),e_}function em(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,g}function eg(e,t){var r;return e&&e.state&&(2&(r=e.state).wrap)!=0?(r.head=t,t.done=!1,g):b}function ey(e,t){var r,i,n=t.length;return e&&e.state&&(0===(r=e.state).wrap||r.mode===D)?r.mode===D&&(i=a(1,t,n,0))!==r.check?A:ef(e,t,n,n)?(r.mode=ee,w):(r.havedict=1,g):b}r.inflateReset=es,r.inflateReset2=el,r.inflateResetKeep=ea,r.inflateInit=ec,r.inflateInit2=eu,r.inflate=eh,r.inflateEnd=em,r.inflateGetHeader=eg,r.inflateSetDictionary=ey,r.inflateInfo="pako inflate (from Nodeca project)"},902848,(e,t,r)=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},485633,(e,t,r)=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},382533,(e,t,r)=>{"use strict";var i=e.r(738628),n=e.r(330843),o=e.r(21789),a=e.r(902848),s=e.r(532187),l=e.r(3483),u=e.r(485633),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK||(this.header=new u,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(r=i.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw Error(s[r])}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}function f(e,t){return(t=t||{}).raw=!0,p(e,t)}d.prototype.push=function(e,t){var r,s,l,u,d,p=this.strm,f=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(f),p.next_out=0,p.avail_out=f),(r=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(r=i.inflateSetDictionary(this.strm,h)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;p.next_out&&(0===p.avail_out||r===a.Z_STREAM_END||0===p.avail_in&&(s===a.Z_FINISH||s===a.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),u=p.next_out-l,d=o.buf2string(p.output,l),p.next_out=u,p.avail_out=f-u,u&&n.arraySet(p.output,p.output,l,u,0),this.onData(d)):this.onData(n.shrinkBuf(p.output,p.next_out))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&r!==a.Z_STREAM_END)return(r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH)?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):(s===a.Z_SYNC_FLUSH&&(this.onEnd(a.Z_OK),p.avail_out=0),!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=p,r.inflateRaw=f,r.ungzip=p},434724,(e,t,r)=>{"use strict";var i=e.r(330843).assign,n=e.r(858863),o=e.r(382533),a=e.r(902848),s={};i(s,n,o,a),t.exports=s},741530,(e,t,r)=>{"use strict";var i=e.e&&e.e.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},n=e.e&&e.e.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(r,"__esModule",{value:!0}),r.notEmpty=r.castArrayOpt=r.isNonEmptyArray=r.readPrivateKey=r.inflateString=r.base64Decode=r.isString=r.get=r.uniq=r.last=r.flattenDeep=r.zipObject=void 0;var o=e.r(472545),a=e.r(434724),s="base64";function l(e){return Array.isArray(e)?e.reduce(function(e,t){return e.concat(l(t))},[]):[e]}function u(e){return"string"==typeof e}function c(e){return Buffer.from(e).toString(s)}function d(e,t){var r=Buffer.from(e,s);return t?r:r.toString()}function p(e){var t=Array.prototype.map.call(e,function(e){return e.charCodeAt(0)});return Array.from((0,a.deflate)(t,{raw:!0}))}function f(e){var t=Buffer.from(e,s),r=Array.prototype.map.call(t.toString("binary"),function(e){return e.charCodeAt(0)});return Array.from((0,a.inflate)(r,{raw:!0})).map(function(e){return String.fromCharCode(e)}).join("")}function h(e,t){return e.toString().replace(/\n/g,"").replace(/\r/g,"").replace("-----BEGIN ".concat(t,"-----"),"").replace("-----END ".concat(t,"-----"),"").replace(/ /g,"").replace(/\t/g,"")}function m(e){return h(e,"CERTIFICATE")}function g(e){return h(e.toString(),"RSA PRIVATE KEY")}function y(e){return"".concat(e.protocol,"://").concat(e.get("host")).concat(e.originalUrl)}function v(e,t){return void 0===t&&(t=""),e||t}function b(e,t){return Object.assign({},e,t)}function A(e){var t=o.util.decode64(e),r=o.asn1.fromDer(t),i=o.pki.certificateFromAsn1(r);return o.pki.publicKeyToPem(i.publicKey)}function w(e,t,r){return u(t)?this.convertToString(o.pki.privateKeyToPem(o.pki.decryptRsaPrivateKey(String(e),t)),r):e}function _(e,t){return t?String(e):e}function S(e){return Array.isArray(e)&&e.length>0}r.zipObject=function(e,t,r){return void 0===r&&(r=!0),e.reduce(function(e,i,n){return r?e[i]=t[n]:void 0!==e[i]?e[i]=Array.isArray(e[i])?e[i].concat(t[n]):[e[i]].concat(t[n]):e[i]=t[n],e},{})},r.flattenDeep=l,r.last=function(e){return e.slice(-1)[0]},r.uniq=function(e){return n([],i(new Set(e)),!1)},r.get=function(e,t,r){return t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:r||null},e)},r.isString=u,r.base64Decode=d,r.inflateString=f,r.readPrivateKey=w,r.isNonEmptyArray=S,r.castArrayOpt=function(e){return void 0===e?[]:Array.isArray(e)?e:[e]},r.notEmpty=function(e){return null!=e},r.default={isString:u,base64Encode:c,base64Decode:d,deflateString:p,inflateString:f,normalizeCerString:m,normalizePemString:g,getFullURL:y,parseString:v,applyDefault:b,getPublicKeyPemFromCertificate:A,readPrivateKey:w,convertToString:_,isNonEmptyArray:S}},809849,(e,t,r)=>{"use strict";var i,n,o,a;Object.defineProperty(r,"__esModule",{value:!0}),r.messageConfigurations=r.elementsOrder=r.wording=r.algorithms=r.tags=r.namespace=r.ParserType=r.StatusCode=r.MessageSignatureOrder=r.BindingNamespace=void 0,function(e){e.Redirect="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",e.Post="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",e.SimpleSign="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign",e.Artifact="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"}(i=r.BindingNamespace||(r.BindingNamespace={})),function(e){e.STE="sign-then-encrypt",e.ETS="encrypt-then-sign"}(n=r.MessageSignatureOrder||(r.MessageSignatureOrder={})),function(e){e.Success="urn:oasis:names:tc:SAML:2.0:status:Success",e.Requester="urn:oasis:names:tc:SAML:2.0:status:Requester",e.Responder="urn:oasis:names:tc:SAML:2.0:status:Responder",e.VersionMismatch="urn:oasis:names:tc:SAML:2.0:status:VersionMismatch",e.AuthFailed="urn:oasis:names:tc:SAML:2.0:status:AuthnFailed",e.InvalidAttrNameOrValue="urn:oasis:names:tc:SAML:2.0:status:InvalidAttrNameOrValue",e.InvalidNameIDPolicy="urn:oasis:names:tc:SAML:2.0:status:InvalidNameIDPolicy",e.NoAuthnContext="urn:oasis:names:tc:SAML:2.0:status:NoAuthnContext",e.NoAvailableIDP="urn:oasis:names:tc:SAML:2.0:status:NoAvailableIDP",e.NoPassive="urn:oasis:names:tc:SAML:2.0:status:NoPassive",e.NoSupportedIDP="urn:oasis:names:tc:SAML:2.0:status:NoSupportedIDP",e.PartialLogout="urn:oasis:names:tc:SAML:2.0:status:PartialLogout",e.ProxyCountExceeded="urn:oasis:names:tc:SAML:2.0:status:ProxyCountExceeded",e.RequestDenied="urn:oasis:names:tc:SAML:2.0:status:RequestDenied",e.RequestUnsupported="urn:oasis:names:tc:SAML:2.0:status:RequestUnsupported",e.RequestVersionDeprecated="urn:oasis:names:tc:SAML:2.0:status:RequestVersionDeprecated",e.RequestVersionTooHigh="urn:oasis:names:tc:SAML:2.0:status:RequestVersionTooHigh",e.RequestVersionTooLow="urn:oasis:names:tc:SAML:2.0:status:RequestVersionTooLow",e.ResourceNotRecognized="urn:oasis:names:tc:SAML:2.0:status:ResourceNotRecognized",e.TooManyResponses="urn:oasis:names:tc:SAML:2.0:status:TooManyResponses",e.UnknownAttrProfile="urn:oasis:names:tc:SAML:2.0:status:UnknownAttrProfile",e.UnknownPrincipal="urn:oasis:names:tc:SAML:2.0:status:UnknownPrincipal",e.UnsupportedBinding="urn:oasis:names:tc:SAML:2.0:status:UnsupportedBinding"}(o=r.StatusCode||(r.StatusCode={})),r.namespace={binding:{redirect:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",post:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",simpleSign:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign",artifact:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"},names:{protocol:"urn:oasis:names:tc:SAML:2.0:protocol",assertion:"urn:oasis:names:tc:SAML:2.0:assertion",metadata:"urn:oasis:names:tc:SAML:2.0:metadata",userLogout:"urn:oasis:names:tc:SAML:2.0:logout:user",adminLogout:"urn:oasis:names:tc:SAML:2.0:logout:admin"},authnContextClassRef:{password:"urn:oasis:names:tc:SAML:2.0:ac:classes:Password",passwordProtectedTransport:"urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport"},format:{emailAddress:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",persistent:"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent",transient:"urn:oasis:names:tc:SAML:2.0:nameid-format:transient",entity:"urn:oasis:names:tc:SAML:2.0:nameid-format:entity",unspecified:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",kerberos:"urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos",windowsDomainQualifiedName:"urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName",x509SubjectName:"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName"},statusCode:{success:"urn:oasis:names:tc:SAML:2.0:status:Success",requester:"urn:oasis:names:tc:SAML:2.0:status:Requester",responder:"urn:oasis:names:tc:SAML:2.0:status:Responder",versionMismatch:"urn:oasis:names:tc:SAML:2.0:status:VersionMismatch",authFailed:"urn:oasis:names:tc:SAML:2.0:status:AuthnFailed",invalidAttrNameOrValue:"urn:oasis:names:tc:SAML:2.0:status:InvalidAttrNameOrValue",invalidNameIDPolicy:"urn:oasis:names:tc:SAML:2.0:status:InvalidNameIDPolicy",noAuthnContext:"urn:oasis:names:tc:SAML:2.0:status:NoAuthnContext",noAvailableIDP:"urn:oasis:names:tc:SAML:2.0:status:NoAvailableIDP",noPassive:"urn:oasis:names:tc:SAML:2.0:status:NoPassive",noSupportedIDP:"urn:oasis:names:tc:SAML:2.0:status:NoSupportedIDP",partialLogout:"urn:oasis:names:tc:SAML:2.0:status:PartialLogout",proxyCountExceeded:"urn:oasis:names:tc:SAML:2.0:status:ProxyCountExceeded",requestDenied:"urn:oasis:names:tc:SAML:2.0:status:RequestDenied",requestUnsupported:"urn:oasis:names:tc:SAML:2.0:status:RequestUnsupported",requestVersionDeprecated:"urn:oasis:names:tc:SAML:2.0:status:RequestVersionDeprecated",requestVersionTooHigh:"urn:oasis:names:tc:SAML:2.0:status:RequestVersionTooHigh",requestVersionTooLow:"urn:oasis:names:tc:SAML:2.0:status:RequestVersionTooLow",resourceNotRecognized:"urn:oasis:names:tc:SAML:2.0:status:ResourceNotRecognized",tooManyResponses:"urn:oasis:names:tc:SAML:2.0:status:TooManyResponses",unknownAttrProfile:"urn:oasis:names:tc:SAML:2.0:status:UnknownAttrProfile",unknownPrincipal:"urn:oasis:names:tc:SAML:2.0:status:UnknownPrincipal",unsupportedBinding:"urn:oasis:names:tc:SAML:2.0:status:UnsupportedBinding"}},r.tags={request:{AllowCreate:"{AllowCreate}",AssertionConsumerServiceURL:"{AssertionConsumerServiceURL}",AuthnContextClassRef:"{AuthnContextClassRef}",AssertionID:"{AssertionID}",Audience:"{Audience}",AuthnStatement:"{AuthnStatement}",AttributeStatement:"{AttributeStatement}",ConditionsNotBefore:"{ConditionsNotBefore}",ConditionsNotOnOrAfter:"{ConditionsNotOnOrAfter}",Destination:"{Destination}",EntityID:"{EntityID}",ID:"{ID}",Issuer:"{Issuer}",IssueInstant:"{IssueInstant}",InResponseTo:"{InResponseTo}",NameID:"{NameID}",NameIDFormat:"{NameIDFormat}",ProtocolBinding:"{ProtocolBinding}",SessionIndex:"{SessionIndex}",SubjectRecipient:"{SubjectRecipient}",SubjectConfirmationDataNotOnOrAfter:"{SubjectConfirmationDataNotOnOrAfter}",StatusCode:"{StatusCode}"},xmlTag:{loginRequest:"AuthnRequest",logoutRequest:"LogoutRequest",loginResponse:"Response",logoutResponse:"LogoutResponse"}},r.messageConfigurations={signingOrder:{SIGN_THEN_ENCRYPT:"sign-then-encrypt",ENCRYPT_THEN_SIGN:"encrypt-then-sign"}},r.algorithms={signature:{RSA_SHA1:"http://www.w3.org/2000/09/xmldsig#rsa-sha1",RSA_SHA256:"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256",RSA_SHA512:"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"},encryption:{data:{AES_128:"http://www.w3.org/2001/04/xmlenc#aes128-cbc",AES_256:"http://www.w3.org/2001/04/xmlenc#aes256-cbc",TRI_DEC:"http://www.w3.org/2001/04/xmlenc#tripledes-cbc",AES_128_GCM:"http://www.w3.org/2009/xmlenc11#aes128-gcm"},key:{RSA_OAEP_MGF1P:"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p",RSA_1_5:"http://www.w3.org/2001/04/xmlenc#rsa-1_5"}},digest:{"http://www.w3.org/2000/09/xmldsig#rsa-sha1":"http://www.w3.org/2000/09/xmldsig#sha1","http://www.w3.org/2001/04/xmldsig-more#rsa-sha256":"http://www.w3.org/2001/04/xmlenc#sha256","http://www.w3.org/2001/04/xmldsig-more#rsa-sha512":"http://www.w3.org/2001/04/xmlenc#sha512"}},function(e){e.SAMLRequest="SAMLRequest",e.SAMLResponse="SAMLResponse",e.LogoutRequest="LogoutRequest",e.LogoutResponse="LogoutResponse"}(a=r.ParserType||(r.ParserType={})),r.wording={urlParams:{samlRequest:"SAMLRequest",samlResponse:"SAMLResponse",logoutRequest:"LogoutRequest",logoutResponse:"LogoutResponse",sigAlg:"SigAlg",signature:"Signature",relayState:"RelayState"},binding:{redirect:"redirect",post:"post",simpleSign:"simpleSign",artifact:"artifact"},certUse:{signing:"signing",encrypt:"encryption"},metadata:{sp:"metadata-sp",idp:"metadata-idp"}},r.elementsOrder={default:["KeyDescriptor","NameIDFormat","SingleLogoutService","AssertionConsumerService"],onelogin:["KeyDescriptor","NameIDFormat","SingleLogoutService","AssertionConsumerService"],shibboleth:["KeyDescriptor","SingleLogoutService","NameIDFormat","AssertionConsumerService","AttributeConsumingService"]}},874745,e=>{"use strict";let t,r;e.s([],565490),e.i(565490);var i=e.i(254799);let n=new Uint8Array(256),o=n.length;function a(){return o>n.length-16&&(i.default.randomFillSync(n),o=0),n.slice(o,o+=16)}let s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&s.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));let c=function(e,t=0){let r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!l(r))throw TypeError("Stringified UUID is invalid");return r},d=0,p=0,f=function(e,i,n){let o=i&&n||0,s=i||Array(16),l=(e=e||{}).node||t,u=void 0!==e.clockseq?e.clockseq:r;if(null==l||null==u){let i=e.random||(e.rng||a)();null==l&&(l=t=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==u&&(u=r=(i[6]<<8|i[7])&16383)}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:p+1,m=f-d+(h-p)/1e4;if(m<0&&void 0===e.clockseq&&(u=u+1&16383),(m<0||f>d)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");d=f,p=h,r=u;let g=((0xfffffff&(f+=122192928e5))*1e4+h)%0x100000000;s[o++]=g>>>24&255,s[o++]=g>>>16&255,s[o++]=g>>>8&255,s[o++]=255&g;let y=f/0x100000000*1e4&0xfffffff;s[o++]=y>>>8&255,s[o++]=255&y,s[o++]=y>>>24&15|16,s[o++]=y>>>16&255,s[o++]=u>>>8|128,s[o++]=255&u;for(let e=0;e<6;++e)s[o+e]=l[e];return i||c(s)},h=function(e){let t;if(!l(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function m(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}let g="6ba7b810-9dad-11d1-80b4-00c04fd430c8",y="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v(e,t,r){function i(e,i,n,o){if("string"==typeof e&&(e=m(e)),"string"==typeof i&&(i=h(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,n){o=o||0;for(let e=0;e<16;++e)n[o+e]=a[e];return n}return c(a)}try{i.name=e}catch(e){}return i.DNS=g,i.URL=y,i}var b=i;let A=v("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),b.default.createHash("md5").update(e).digest()}),w=function(e,t,r){let i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return c(i)};var _=i;let S=v("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),_.default.createHash("sha1").update(e).digest()}),E="00000000-0000-0000-0000-000000000000",T=function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};e.s(["NIL",0,E,"parse",0,h,"stringify",0,c,"v1",0,f,"v3",0,A,"v4",0,w,"v5",0,S,"validate",0,l,"version",0,T],874745)},832365,(e,t,r)=>{!function(e){"use strict";function t(e){var t=Array.prototype.slice,r=e.length,i=function(e,r){return function(){return r.apply(this,e.concat(t.call(arguments)))}},n=function(){var o=t.call(arguments);return o.length<r?i(o,n):e.apply(this,t.apply(arguments,[0,r]))};return n}var r=function(e,t){for(var r=0;r<t.length;r+=1)e(t[r],r,t)},i=function(e,t,i){var n=t;return r(function(t,r){n=e(n,t,r)},i),n},n=function(e,t){var i=Array(t.length);return r(function(t,r){i[r]=e(t)},t),i},o=function(e,t){var i=[];return r(function(t,r){e(t,r)&&i.push(t)},t),i},a=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return!0;return!1};function s(e){return function(){return e}}function l(e){return e.toString()}var u=function(e,t){return t.join(e)},c=function(e,t,r){return e+r+t},d=Array.prototype.concat,p=32767;function f(e){for(var t=[],r=0;r<e.length;r+=p){var i=e.slice(r,r+p);t=d.apply(t,i)}return t}function h(e,t){for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r}function m(){this.init()}function g(e){this.expression=e}function y(e,t,r){t in e||(e[t]=r)}function v(){}function b(e){arguments.length>0&&this.init(e)}function A(e){arguments.length>0&&this.init(e)}function w(e,t){arguments.length>0&&this.init(e,t)}function _(e,t){arguments.length>0&&this.init(e,t)}function S(e,t){arguments.length>0&&this.init(e,t)}function E(e,t){arguments.length>0&&this.init(e,t)}function T(e,t){arguments.length>0&&this.init(e,t)}function I(e,t){arguments.length>0&&this.init(e,t)}function x(e,t){arguments.length>0&&this.init(e,t)}function O(e,t){arguments.length>0&&this.init(e,t)}function C(e,t){arguments.length>0&&this.init(e,t)}function k(e,t){arguments.length>0&&this.init(e,t)}function N(e,t){arguments.length>0&&this.init(e,t)}function R(e,t){arguments.length>0&&this.init(e,t)}function P(e,t){arguments.length>0&&this.init(e,t)}function D(e,t){arguments.length>0&&this.init(e,t)}function U(e,t){arguments.length>0&&this.init(e,t)}function L(e,t,r){arguments.length>0&&this.init(e,t,r)}function K(e){for(;e&&e.parentNode;)e=e.parentNode;return e}function M(e,t,r){return L.applyPredicates(e.predicates,t,L.applyStep(e,t,r))}function B(e,t,r){return f(n(M.bind(null,r,e),t))}function j(e,t){arguments.length>0&&this.init(e,t)}function $(e,t,r){arguments.length>0&&this.init(e,t,r)}function z(e,t){arguments.length>0&&this.init(e,t)}function F(e){arguments.length>0&&this.init(e)}function q(e,t){arguments.length>0&&this.init(e,t)}m.prototype={},m.prototype.constructor=m,m.superclass=Object.prototype,m.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(e){return new _(e[0],e[2])},this.reduceActions[5]=function(e){return new S(e[0],e[2])},this.reduceActions[7]=function(e){return new E(e[0],e[2])},this.reduceActions[8]=function(e){return new T(e[0],e[2])},this.reduceActions[10]=function(e){return new I(e[0],e[2])},this.reduceActions[11]=function(e){return new x(e[0],e[2])},this.reduceActions[12]=function(e){return new O(e[0],e[2])},this.reduceActions[13]=function(e){return new C(e[0],e[2])},this.reduceActions[15]=function(e){return new k(e[0],e[2])},this.reduceActions[16]=function(e){return new N(e[0],e[2])},this.reduceActions[18]=function(e){return new R(e[0],e[2])},this.reduceActions[19]=function(e){return new P(e[0],e[2])},this.reduceActions[20]=function(e){return new D(e[0],e[2])},this.reduceActions[22]=function(e){return new A(e[1])},this.reduceActions[24]=function(e){return new U(e[0],e[2])},this.reduceActions[25]=function(e){return new L(void 0,void 0,e[0])},this.reduceActions[27]=function(e){return e[0].locationPath=e[2],e[0]},this.reduceActions[28]=function(e){return e[0].locationPath=e[2],e[0].locationPath.steps.unshift(new $($.DESCENDANTORSELF,z.nodeTest,[])),e[0]},this.reduceActions[29]=function(e){return new L(e[0],[],void 0)},this.reduceActions[30]=function(e){return ea.instance_of(e[0],L)?(void 0==e[0].filterPredicates&&(e[0].filterPredicates=[]),e[0].filterPredicates.push(e[1]),e[0]):new L(e[0],[e[1]],void 0)},this.reduceActions[32]=function(e){return e[1]},this.reduceActions[33]=function(e){return new H(e[0])},this.reduceActions[34]=function(e){return new G(e[0])},this.reduceActions[36]=function(e){return new q(e[0],[])},this.reduceActions[37]=function(e){return new q(e[0],e[2])},this.reduceActions[38]=function(e){return[e[0]]},this.reduceActions[39]=function(e){return e[2].unshift(e[0]),e[2]},this.reduceActions[43]=function(e){return new j(!0,[])},this.reduceActions[44]=function(e){return e[1].absolute=!0,e[1]},this.reduceActions[46]=function(e){return new j(!1,[e[0]])},this.reduceActions[47]=function(e){return e[0].steps.push(e[2]),e[0]},this.reduceActions[49]=function(e){return new $(e[0],e[1],[])},this.reduceActions[50]=function(e){return new $($.CHILD,e[0],[])},this.reduceActions[51]=function(e){return new $(e[0],e[1],e[2])},this.reduceActions[52]=function(e){return new $($.CHILD,e[0],e[1])},this.reduceActions[54]=function(e){return[e[0]]},this.reduceActions[55]=function(e){return e[1].unshift(e[0]),e[1]},this.reduceActions[56]=function(e){if("ancestor"==e[0])return $.ANCESTOR;if("ancestor-or-self"==e[0])return $.ANCESTORORSELF;if("attribute"==e[0])return $.ATTRIBUTE;if("child"==e[0])return $.CHILD;if("descendant"==e[0])return $.DESCENDANT;else if("descendant-or-self"==e[0])return $.DESCENDANTORSELF;else if("following"==e[0])return $.FOLLOWING;else if("following-sibling"==e[0])return $.FOLLOWINGSIBLING;else if("namespace"==e[0])return $.NAMESPACE;else if("parent"==e[0])return $.PARENT;else if("preceding"==e[0])return $.PRECEDING;else if("preceding-sibling"==e[0])return $.PRECEDINGSIBLING;else if("self"==e[0])return $.SELF;return -1},this.reduceActions[57]=function(e){return $.ATTRIBUTE},this.reduceActions[59]=function(e){return"comment"==e[0]?z.commentTest:"text"==e[0]?z.textTest:"processing-instruction"==e[0]?z.anyPiTest:"node"==e[0]?z.nodeTest:new z(-1,void 0)},this.reduceActions[60]=function(e){return new z.PITest(e[2])},this.reduceActions[61]=function(e){return e[1]},this.reduceActions[63]=function(e){return e[1].absolute=!0,e[1].steps.unshift(new $($.DESCENDANTORSELF,z.nodeTest,[])),e[1]},this.reduceActions[64]=function(e){return e[0].steps.push(new $($.DESCENDANTORSELF,z.nodeTest,[])),e[0].steps.push(e[2]),e[0]},this.reduceActions[65]=function(e){return new $($.SELF,z.nodeTest,[])},this.reduceActions[66]=function(e){return new $($.PARENT,z.nodeTest,[])},this.reduceActions[67]=function(e){return new F(e[1])},this.reduceActions[68]=function(e){return z.nameTestAny},this.reduceActions[69]=function(e){return new z.NameTestPrefixAny(e[0].split(":")[0])},this.reduceActions[70]=function(e){return new z.NameTestQName(e[0])}},m.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],m.actionTableNumber=[" 1 0        /.-,+*)('    & %$  #  \"!","                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               "," 1 0        /.-,+*)('    & %$  #  \"!","K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" "," 1 0        /.-,+*)('    & %$  #  \"!","                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       "," 1           .  +*)('          #  \" ","b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               "," 1 0        /.-,+*)('    & %$m #  \"!","_  f________         ______e __  _  "," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('      %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ",">  >>>>>>>>>         >>>>>>> >> >>  "," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ","Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  "," 1 0        /.-,+*)('    & %$  #  \"!","]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],m.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],m.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],m.DOUBLEDOT=2,m.DOUBLECOLON=3,m.DOUBLESLASH=4,m.NOTEQUAL=5,m.LESSTHANOREQUAL=6,m.GREATERTHANOREQUAL=7,m.AND=8,m.OR=9,m.MOD=10,m.DIV=11,m.MULTIPLYOPERATOR=12,m.FUNCTIONNAME=13,m.AXISNAME=14,m.LITERAL=15,m.NUMBER=16,m.ASTERISKNAMETEST=17,m.QNAME=18,m.NCNAMECOLONASTERISK=19,m.NODETYPE=20,m.PROCESSINGINSTRUCTIONWITHLITERAL=21,m.EQUALS=22,m.LESSTHAN=23,m.GREATERTHAN=24,m.PLUS=25,m.MINUS=26,m.BAR=27,m.SLASH=28,m.LEFTPARENTHESIS=29,m.RIGHTPARENTHESIS=30,m.COMMA=31,m.AT=32,m.LEFTBRACKET=33,m.RIGHTBRACKET=34,m.DOT=35,m.DOLLAR=36,m.prototype.tokenize=function(e){for(var t=[],r=[],i=e+"\0",n=0,o=i.charAt(n++);;){for(;" "==o||"	"==o||"\r"==o||"\n"==o;)o=i.charAt(n++);if("\0"==o||n>=i.length)break;if("("==o){t.push(m.LEFTPARENTHESIS),r.push(o),o=i.charAt(n++);continue}if(")"==o){t.push(m.RIGHTPARENTHESIS),r.push(o),o=i.charAt(n++);continue}if("["==o){t.push(m.LEFTBRACKET),r.push(o),o=i.charAt(n++);continue}if("]"==o){t.push(m.RIGHTBRACKET),r.push(o),o=i.charAt(n++);continue}if("@"==o){t.push(m.AT),r.push(o),o=i.charAt(n++);continue}if(","==o){t.push(m.COMMA),r.push(o),o=i.charAt(n++);continue}if("|"==o){t.push(m.BAR),r.push(o),o=i.charAt(n++);continue}if("+"==o){t.push(m.PLUS),r.push(o),o=i.charAt(n++);continue}if("-"==o){t.push(m.MINUS),r.push(o),o=i.charAt(n++);continue}if("="==o){t.push(m.EQUALS),r.push(o),o=i.charAt(n++);continue}if("$"==o){t.push(m.DOLLAR),r.push(o),o=i.charAt(n++);continue}if("."==o){if("."==(o=i.charAt(n++))){t.push(m.DOUBLEDOT),r.push(".."),o=i.charAt(n++);continue}if(o>="0"&&o<="9"){var a="."+o;for(o=i.charAt(n++);o>="0"&&o<="9";)a+=o,o=i.charAt(n++);t.push(m.NUMBER),r.push(a);continue}t.push(m.DOT),r.push(".");continue}if("'"==o||'"'==o){for(var s=o,l="";n<i.length&&(o=i.charAt(n))!==s;)l+=o,n+=1;if(o!==s)throw es.fromMessage("Unterminated string literal: "+s+l);n+=1,t.push(m.LITERAL),r.push(l),o=i.charAt(n++);continue}if(o>="0"&&o<="9"){var a=o;for(o=i.charAt(n++);o>="0"&&o<="9";)a+=o,o=i.charAt(n++);if("."==o&&i.charAt(n)>="0"&&"9">=i.charAt(n))for(a+=o,a+=i.charAt(n++),o=i.charAt(n++);o>="0"&&o<="9";)a+=o,o=i.charAt(n++);t.push(m.NUMBER),r.push(a);continue}if("*"==o){if(t.length>0){var u=t[t.length-1];if(u!=m.AT&&u!=m.DOUBLECOLON&&u!=m.LEFTPARENTHESIS&&u!=m.LEFTBRACKET&&u!=m.AND&&u!=m.OR&&u!=m.MOD&&u!=m.DIV&&u!=m.MULTIPLYOPERATOR&&u!=m.SLASH&&u!=m.DOUBLESLASH&&u!=m.BAR&&u!=m.PLUS&&u!=m.MINUS&&u!=m.EQUALS&&u!=m.NOTEQUAL&&u!=m.LESSTHAN&&u!=m.LESSTHANOREQUAL&&u!=m.GREATERTHAN&&u!=m.GREATERTHANOREQUAL){t.push(m.MULTIPLYOPERATOR),r.push(o),o=i.charAt(n++);continue}}t.push(m.ASTERISKNAMETEST),r.push(o),o=i.charAt(n++);continue}if(":"==o&&":"==i.charAt(n)){t.push(m.DOUBLECOLON),r.push("::"),n++,o=i.charAt(n++);continue}if("/"==o){if("/"==(o=i.charAt(n++))){t.push(m.DOUBLESLASH),r.push("//"),o=i.charAt(n++);continue}t.push(m.SLASH),r.push("/");continue}if("!"==o&&"="==i.charAt(n)){t.push(m.NOTEQUAL),r.push("!="),n++,o=i.charAt(n++);continue}if("<"==o){if("="==i.charAt(n)){t.push(m.LESSTHANOREQUAL),r.push("<="),n++,o=i.charAt(n++);continue}t.push(m.LESSTHAN),r.push("<"),o=i.charAt(n++);continue}if(">"==o){if("="==i.charAt(n)){t.push(m.GREATERTHANOREQUAL),r.push(">="),n++,o=i.charAt(n++);continue}t.push(m.GREATERTHAN),r.push(">"),o=i.charAt(n++);continue}if("_"==o||ea.isLetter(o.charCodeAt(0))){var c=o;for(o=i.charAt(n++);ea.isNCNameChar(o.charCodeAt(0));)c+=o,o=i.charAt(n++);if(t.length>0){var u=t[t.length-1];if(u!=m.AT&&u!=m.DOUBLECOLON&&u!=m.LEFTPARENTHESIS&&u!=m.LEFTBRACKET&&u!=m.AND&&u!=m.OR&&u!=m.MOD&&u!=m.DIV&&u!=m.MULTIPLYOPERATOR&&u!=m.SLASH&&u!=m.DOUBLESLASH&&u!=m.BAR&&u!=m.PLUS&&u!=m.MINUS&&u!=m.EQUALS&&u!=m.NOTEQUAL&&u!=m.LESSTHAN&&u!=m.LESSTHANOREQUAL&&u!=m.GREATERTHAN&&u!=m.GREATERTHANOREQUAL){if("and"==c){t.push(m.AND),r.push(c);continue}if("or"==c){t.push(m.OR),r.push(c);continue}if("mod"==c){t.push(m.MOD),r.push(c);continue}if("div"==c){t.push(m.DIV),r.push(c);continue}}}if(":"==o){if("*"==i.charAt(n)){t.push(m.NCNAMECOLONASTERISK),r.push(c+":*"),n++,o=i.charAt(n++);continue}if("_"==i.charAt(n)||ea.isLetter(i.charCodeAt(n))){for(c+=":",o=i.charAt(n++);ea.isNCNameChar(o.charCodeAt(0));)c+=o,o=i.charAt(n++);if("("==o){t.push(m.FUNCTIONNAME),r.push(c);continue}t.push(m.QNAME),r.push(c);continue}if(":"==i.charAt(n)){t.push(m.AXISNAME),r.push(c);continue}}if("("==o){if("comment"==c||"text"==c||"node"==c){t.push(m.NODETYPE),r.push(c);continue}if("processing-instruction"==c){")"==i.charAt(n)?t.push(m.NODETYPE):t.push(m.PROCESSINGINSTRUCTIONWITHLITERAL),r.push(c);continue}t.push(m.FUNCTIONNAME),r.push(c);continue}t.push(m.QNAME),r.push(c);continue}throw Error("Unexpected character "+o)}return t.push(1),r.push("[EOF]"),[t,r]},m.SHIFT="s",m.REDUCE="r",m.ACCEPT="a",m.prototype.parse=function(e){var t,r,i,n,o=this.tokenize(e);if(void 0!=o){t=o[0],r=o[1];var a=0,s=[],l=[],u=[];for(s.push(0),l.push(1),u.push("_S"),i=t[a],n=r[a++];;)switch(e=s[s.length-1],m.actionTable[e].charAt(i-1)){case m.SHIFT:l.push(-i),u.push(n),s.push(m.actionTableNumber[e].charCodeAt(i-1)-32),i=t[a],n=r[a++];break;case m.REDUCE:for(var c=m.productions[m.actionTableNumber[e].charCodeAt(i-1)-32][1],d=[],p=0;p<c;p++)l.pop(),d.unshift(u.pop()),s.pop();var f=s[s.length-1];l.push(m.productions[m.actionTableNumber[e].charCodeAt(i-1)-32][0]),void 0==this.reduceActions[m.actionTableNumber[e].charCodeAt(i-1)-32]?u.push(d[0]):u.push(this.reduceActions[m.actionTableNumber[e].charCodeAt(i-1)-32](d)),s.push(m.gotoTable[f].charCodeAt(m.productions[m.actionTableNumber[e].charCodeAt(i-1)-32][0]-2)-33);break;case m.ACCEPT:return new g(u.pop());default:throw Error("XPath parse error")}}},g.prototype={},g.prototype.constructor=g,g.superclass=Object.prototype,g.prototype.toString=function(){return this.expression.toString()},g.prototype.evaluate=function(e){return e.contextNode=e.expressionContextNode,e.contextSize=1,e.contextPosition=1,e.isHtml&&(y(e,"caseInsensitive",!0),y(e,"allowAnyNamespaceForNoPrefix",!0)),y(e,"caseInsensitive",!1),this.expression.evaluate(e)},g.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",g.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",v.prototype={},v.prototype.constructor=v,v.superclass=Object.prototype,v.prototype.init=function(){},v.prototype.toString=function(){return"<Expression>"},v.prototype.evaluate=function(e){throw Error("Could not evaluate expression.")},b.prototype=new v,b.prototype.constructor=b,b.superclass=v.prototype,b.prototype.init=function(e){this.rhs=e},A.prototype=new b,A.prototype.constructor=A,A.superclass=b.prototype,A.prototype.init=function(e){A.superclass.init.call(this,e)},A.prototype.evaluate=function(e){return this.rhs.evaluate(e).number().negate()},A.prototype.toString=function(){return"-"+this.rhs.toString()},w.prototype=new v,w.prototype.constructor=w,w.superclass=v.prototype,w.prototype.init=function(e,t){this.lhs=e,this.rhs=t},_.prototype=new w,_.prototype.constructor=_,_.superclass=w.prototype,_.prototype.init=function(e,t){_.superclass.init.call(this,e,t)},_.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},_.prototype.evaluate=function(e){var t=this.lhs.evaluate(e).bool();return t.booleanValue()?t:this.rhs.evaluate(e).bool()},S.prototype=new w,S.prototype.constructor=S,S.superclass=w.prototype,S.prototype.init=function(e,t){S.superclass.init.call(this,e,t)},S.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},S.prototype.evaluate=function(e){var t=this.lhs.evaluate(e).bool();return t.booleanValue()?this.rhs.evaluate(e).bool():t},E.prototype=new w,E.prototype.constructor=E,E.superclass=w.prototype,E.prototype.init=function(e,t){E.superclass.init.call(this,e,t)},E.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},E.prototype.evaluate=function(e){return this.lhs.evaluate(e).equals(this.rhs.evaluate(e))},T.prototype=new w,T.prototype.constructor=T,T.superclass=w.prototype,T.prototype.init=function(e,t){T.superclass.init.call(this,e,t)},T.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},T.prototype.evaluate=function(e){return this.lhs.evaluate(e).notequal(this.rhs.evaluate(e))},I.prototype=new w,I.prototype.constructor=I,I.superclass=w.prototype,I.prototype.init=function(e,t){I.superclass.init.call(this,e,t)},I.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthan(this.rhs.evaluate(e))},I.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},x.prototype=new w,x.prototype.constructor=x,x.superclass=w.prototype,x.prototype.init=function(e,t){x.superclass.init.call(this,e,t)},x.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthan(this.rhs.evaluate(e))},x.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},O.prototype=new w,O.prototype.constructor=O,O.superclass=w.prototype,O.prototype.init=function(e,t){O.superclass.init.call(this,e,t)},O.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthanorequal(this.rhs.evaluate(e))},O.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},C.prototype=new w,C.prototype.constructor=C,C.superclass=w.prototype,C.prototype.init=function(e,t){C.superclass.init.call(this,e,t)},C.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthanorequal(this.rhs.evaluate(e))},C.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},k.prototype=new w,k.prototype.constructor=k,k.superclass=w.prototype,k.prototype.init=function(e,t){k.superclass.init.call(this,e,t)},k.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().plus(this.rhs.evaluate(e).number())},k.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},N.prototype=new w,N.prototype.constructor=N,N.superclass=w.prototype,N.prototype.init=function(e,t){N.superclass.init.call(this,e,t)},N.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().minus(this.rhs.evaluate(e).number())},N.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},R.prototype=new w,R.prototype.constructor=R,R.superclass=w.prototype,R.prototype.init=function(e,t){R.superclass.init.call(this,e,t)},R.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().multiply(this.rhs.evaluate(e).number())},R.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},P.prototype=new w,P.prototype.constructor=P,P.superclass=w.prototype,P.prototype.init=function(e,t){P.superclass.init.call(this,e,t)},P.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().div(this.rhs.evaluate(e).number())},P.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},D.prototype=new w,D.prototype.constructor=D,D.superclass=w.prototype,D.prototype.init=function(e,t){D.superclass.init.call(this,e,t)},D.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().mod(this.rhs.evaluate(e).number())},D.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},U.prototype=new w,U.prototype.constructor=U,U.superclass=w.prototype,U.prototype.init=function(e,t){U.superclass.init.call(this,e,t)},U.prototype.evaluate=function(e){return this.lhs.evaluate(e).nodeset().union(this.rhs.evaluate(e).nodeset())},U.prototype.toString=function(){return n(l,[this.lhs,this.rhs]).join(" | ")},L.prototype=new v,L.prototype.constructor=L,L.superclass=v.prototype,L.prototype.init=function(e,t,r){L.superclass.init.call(this),this.filter=e,this.filterPredicates=t,this.locationPath=r},L.applyPredicates=function(e,t,r){if(0===e.length)return r;var n=t.extend({});return i(function(e,t){return n.contextSize=e.length,o(function(e,r){return n.contextNode=e,n.contextPosition=r+1,L.predicateMatches(t,n)},e)},r,e)},L.getRoot=function(e,t){var r=t[0];if(9===r.nodeType)return r;if(e.virtualRoot)return e.virtualRoot;var i=r.ownerDocument;if(i)return i;for(var n=r;null!=n.parentNode;)n=n.parentNode;return n},L.applyStep=function(e,t,r){var i,n,o=[];switch(t.contextNode=r,e.axis){case $.ANCESTOR:if(t.contextNode===t.virtualRoot)break;for(i=2==t.contextNode.nodeType?L.getOwnerElement(t.contextNode):t.contextNode.parentNode;null!=i&&(e.nodeTest.matches(i,t)&&o.push(i),i!==t.virtualRoot);)i=i.parentNode;break;case $.ANCESTORORSELF:for(var i=t.contextNode;null!=i&&(e.nodeTest.matches(i,t)&&o.push(i),i!==t.virtualRoot);i=2==i.nodeType?L.getOwnerElement(i):i.parentNode);break;case $.ATTRIBUTE:var a=t.contextNode.attributes;if(null!=a)for(var s=0;s<a.length;s++){var i=a.item(s);e.nodeTest.matches(i,t)&&o.push(i)}break;case $.CHILD:for(var i=t.contextNode.firstChild;null!=i;i=i.nextSibling)e.nodeTest.matches(i,t)&&o.push(i);break;case $.DESCENDANT:for(var n=[t.contextNode.firstChild];n.length>0;)for(var i=n.pop();null!=i;)e.nodeTest.matches(i,t)&&o.push(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling;break;case $.DESCENDANTORSELF:e.nodeTest.matches(t.contextNode,t)&&o.push(t.contextNode);for(var n=[t.contextNode.firstChild];n.length>0;)for(var i=n.pop();null!=i;)e.nodeTest.matches(i,t)&&o.push(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling;break;case $.FOLLOWING:if(t.contextNode===t.virtualRoot)break;var n=[];null!=t.contextNode.firstChild?n.unshift(t.contextNode.firstChild):n.unshift(t.contextNode.nextSibling);for(var i=t.contextNode.parentNode;null!=i&&9!=i.nodeType&&i!==t.virtualRoot;i=i.parentNode)n.unshift(i.nextSibling);do for(var i=n.pop();null!=i;)e.nodeTest.matches(i,t)&&o.push(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling;while(n.length>0)break;case $.FOLLOWINGSIBLING:if(t.contextNode===t.virtualRoot)break;for(var i=t.contextNode.nextSibling;null!=i;i=i.nextSibling)e.nodeTest.matches(i,t)&&o.push(i);break;case $.NAMESPACE:var l={};if(1==t.contextNode.nodeType){l.xml=g.XML_NAMESPACE_URI,l.xmlns=g.XMLNS_NAMESPACE_URI;for(var i=t.contextNode;null!=i&&1==i.nodeType;i=i.parentNode)for(var s=0;s<i.attributes.length;s++){var u=i.attributes.item(s),c=String(u.name);if("xmlns"==c)void 0==l[""]&&(l[""]=u.value);else if(c.length>6&&"xmlns:"==c.substring(0,6)){var d=c.substring(6,c.length);void 0==l[d]&&(l[d]=u.value)}}for(var d in l){var p=new ee(d,l[d],t.contextNode);e.nodeTest.matches(p,t)&&o.push(p)}}break;case $.PARENT:i=null,t.contextNode!==t.virtualRoot&&(i=2==t.contextNode.nodeType?L.getOwnerElement(t.contextNode):t.contextNode.parentNode),null!=i&&e.nodeTest.matches(i,t)&&o.push(i);break;case $.PRECEDING:n=null!=t.virtualRoot?[t.virtualRoot]:[K(t.contextNode)];i:for(;n.length>0;)for(var i=n.pop();null!=i;){if(i==t.contextNode)break i;e.nodeTest.matches(i,t)&&o.unshift(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling}break;case $.PRECEDINGSIBLING:if(t.contextNode===t.virtualRoot)break;for(var i=t.contextNode.previousSibling;null!=i;i=i.previousSibling)e.nodeTest.matches(i,t)&&o.push(i);break;case $.SELF:e.nodeTest.matches(t.contextNode,t)&&o.push(t.contextNode)}return o},L.applySteps=function(e,t,r){return i(B.bind(null,t),r,e)},L.prototype.applyFilter=function(e,t){if(!this.filter)return{nodes:[e.contextNode]};var r=this.filter.evaluate(e);if(!ea.instance_of(r,X)){if(null!=this.filterPredicates&&this.filterPredicates.length>0||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:r}}return{nodes:L.applyPredicates(this.filterPredicates||[],t,r.toUnsortedArray())}},L.applyLocationPath=function(e,t,r){if(!e)return r;var i=e.absolute?[L.getRoot(t,r)]:r;return L.applySteps(e.steps,t,i)},L.prototype.evaluate=function(e){var t=h(new et,e),r=this.applyFilter(e,t);if("nonNodes"in r)return r.nonNodes;var i=new X;return i.addArray(L.applyLocationPath(this.locationPath,t,r.nodes)),i},L.predicateMatches=function(e,t){var r=e.evaluate(t);return ea.instance_of(r,G)?t.contextPosition===r.numberValue():r.booleanValue()},L.predicateString=function(e){return c("[","]",e.toString())},L.predicatesString=function(e){return u("",n(L.predicateString,e))},L.prototype.toString=function(){if(void 0!=this.filter){var e=l(this.filter);return ea.instance_of(this.filter,H)?c("'","'",e):void 0!=this.filterPredicates&&this.filterPredicates.length?c("(",")",e)+L.predicatesString(this.filterPredicates):void 0!=this.locationPath?e+(this.locationPath.absolute?"":"/")+l(this.locationPath):e}return l(this.locationPath)},L.getOwnerElement=function(e){if(e.ownerElement)return e.ownerElement;try{if(e.selectSingleNode)return e.selectSingleNode("..")}catch(e){}for(var t=(9==e.nodeType?e:e.ownerDocument).getElementsByTagName("*"),r=0;r<t.length;r++)for(var i=t.item(r),n=i.attributes,o=0;o<n.length;o++)if(n.item(o)===e)return i;return null},j.prototype={},j.prototype.constructor=j,j.superclass=Object.prototype,j.prototype.init=function(e,t){this.absolute=e,this.steps=t},j.prototype.toString=function(){return(this.absolute?"/":"")+n(l,this.steps).join("/")},$.prototype={},$.prototype.constructor=$,$.superclass=Object.prototype,$.prototype.init=function(e,t,r){this.axis=e,this.nodeTest=t,this.predicates=r},$.prototype.toString=function(){return $.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+L.predicatesString(this.predicates)},$.ANCESTOR=0,$.ANCESTORORSELF=1,$.ATTRIBUTE=2,$.CHILD=3,$.DESCENDANT=4,$.DESCENDANTORSELF=5,$.FOLLOWING=6,$.FOLLOWINGSIBLING=7,$.NAMESPACE=8,$.PARENT=9,$.PRECEDING=10,$.PRECEDINGSIBLING=11,$.SELF=12,$.STEPNAMES=i(function(e,t){return e[t[0]]=t[1],e},{},[[$.ANCESTOR,"ancestor"],[$.ANCESTORORSELF,"ancestor-or-self"],[$.ATTRIBUTE,"attribute"],[$.CHILD,"child"],[$.DESCENDANT,"descendant"],[$.DESCENDANTORSELF,"descendant-or-self"],[$.FOLLOWING,"following"],[$.FOLLOWINGSIBLING,"following-sibling"],[$.NAMESPACE,"namespace"],[$.PARENT,"parent"],[$.PRECEDING,"preceding"],[$.PRECEDINGSIBLING,"preceding-sibling"],[$.SELF,"self"]]),z.prototype={},z.prototype.constructor=z,z.superclass=Object.prototype,z.prototype.init=function(e,t){this.type=e,this.value=t},z.prototype.toString=function(){return"<unknown nodetest type>"},z.prototype.matches=function(e,t){console.warn("unknown node test type")},z.NAMETESTANY=0,z.NAMETESTPREFIXANY=1,z.NAMETESTQNAME=2,z.COMMENT=3,z.TEXT=4,z.PI=5,z.NODE=6,z.isNodeType=function(e){return function(t){return a(e,t.nodeType)}},z.makeNodeTestType=function(e,t,r){var i=r||function(){};return i.prototype=new z(e),i.prototype.constructor=i,h(i.prototype,t),i},z.makeNodeTypeTest=function(e,t,r){return new(z.makeNodeTestType(e,{matches:z.isNodeType(t),toString:s(r)}))},z.hasPrefix=function(e){return e.prefix||-1!==(e.nodeName||e.tagName).indexOf(":")},z.isElementOrAttribute=z.isNodeType([1,2]),z.nameSpaceMatches=function(e,t,r){var i=r.namespaceURI||"";if(!e)return!i||t.allowAnyNamespaceForNoPrefix&&!z.hasPrefix(r);var n=t.namespaceResolver.getNamespace(e,t.expressionContextNode);if(null==n)throw Error("Cannot resolve QName "+e);return n===i},z.localNameMatches=function(e,t,r){var i=r.localName||r.nodeName;return t.caseInsensitive?e.toLowerCase()===i.toLowerCase():e===i},z.NameTestPrefixAny=z.makeNodeTestType(z.NAMETESTPREFIXANY,{matches:function(e,t){return z.isElementOrAttribute(e)&&z.nameSpaceMatches(this.prefix,t,e)},toString:function(){return this.prefix+":*"}},function(e){this.prefix=e}),z.NameTestQName=z.makeNodeTestType(z.NAMETESTQNAME,{matches:function(e,t){return z.isNodeType([1,2,ee.XPATH_NAMESPACE_NODE])(e)&&z.nameSpaceMatches(this.prefix,t,e)&&z.localNameMatches(this.localName,t,e)},toString:function(){return this.name}},function(e){var t=e.split(":");this.name=e,this.prefix=t.length>1?t[0]:null,this.localName=t[+(t.length>1)]}),z.PITest=z.makeNodeTestType(z.PI,{matches:function(e,t){return z.isNodeType([7])(e)&&(e.target||e.nodeName)===this.name},toString:function(){return c('processing-instruction("','")',this.name)}},function(e){this.name=e}),z.nameTestAny=z.makeNodeTypeTest(z.NAMETESTANY,[1,2,ee.XPATH_NAMESPACE_NODE],"*"),z.textTest=z.makeNodeTypeTest(z.TEXT,[3,4],"text()"),z.commentTest=z.makeNodeTypeTest(z.COMMENT,[8],"comment()"),z.nodeTest=z.makeNodeTypeTest(z.NODE,[1,2,3,4,7,8,9],"node()"),z.anyPiTest=z.makeNodeTypeTest(z.PI,[7],"processing-instruction()"),F.prototype=new v,F.prototype.constructor=F,F.superclass=v.prototype,F.prototype.init=function(e){this.variable=e},F.prototype.toString=function(){return"$"+this.variable},F.prototype.evaluate=function(e){var t=ea.resolveQName(this.variable,e.namespaceResolver,e.contextNode,!1);if(null==t[0])throw Error("Cannot resolve QName "+fn);var r=e.variableResolver.getVariable(t[1],t[0]);if(!r)throw es.fromMessage("Undeclared variable: "+this.toString());return r},q.prototype=new v,q.prototype.constructor=q,q.superclass=v.prototype,q.prototype.init=function(e,t){this.functionName=e,this.arguments=t},q.prototype.toString=function(){for(var e=this.functionName+"(",t=0;t<this.arguments.length;t++)t>0&&(e+=", "),e+=this.arguments[t].toString();return e+")"},q.prototype.evaluate=function(e){var t=ei.getFunctionFromContext(this.functionName,e);if(!t)throw Error("Unknown function "+this.functionName);var r=[e].concat(this.arguments);return t.apply(e.functionResolver.thisArg,r)};var V={};function H(e){arguments.length>0&&this.init(e)}function G(e){arguments.length>0&&this.init(e)}function W(e){for(var t=e.split("e-"),r=t[0].replace(".",""),i=Number(t[1]),n=0;n<i-1;n+=1)r="0"+r;return"0."+r}function Z(e){for(var t=e.split("e"),r=t[0].replace(".",""),i=Number(t[1])+1-r.length,n=0;n<i;n+=1)r+="0";return r}function J(e){arguments.length>0&&this.init(e)}function Q(e){this.init(e)}function Y(e,t){if(e===t)return 0;if(e.compareDocumentPosition){var r=e.compareDocumentPosition(t);return 1&r||10&r?1:20&r?-1:0}for(var i=0,n=0,o=e;null!=o;o=o.parentNode||o.ownerElement)i++;for(var a=t;null!=a;a=a.parentNode||a.ownerElement)n++;if(i>n){for(;i>n;)e=e.parentNode||e.ownerElement,i--;if(e===t)return 1}else if(n>i){for(;n>i;)t=t.parentNode||t.ownerElement,n--;if(e===t)return -1}for(var s=e.parentNode||e.ownerElement,l=t.parentNode||t.ownerElement;s!==l;)e=s,t=l,s=e.parentNode||e.ownerElement,l=t.parentNode||t.ownerElement;var u=ea.isAttribute(e),c=ea.isAttribute(t);if(u&&!c)return -1;if(!u&&c)return 1;if(s)for(var d=u?s.attributes:s.childNodes,p=d.length,f=0;f<p;f+=1){var h=d[f];if(h===e)return -1;if(h===t)return 1}throw Error("Unexpected: could not determine node order")}function X(){this.init()}function ee(e,t,r){this.isXPathNamespace=!0,this.ownerDocument=r.ownerDocument,this.nodeName="#namespace",this.prefix=e,this.localName=e,this.namespaceURI=t,this.nodeValue=t,this.ownerElement=r,this.nodeType=ee.XPATH_NAMESPACE_NODE}function et(e,t,r){this.variableResolver=null!=e?e:new er,this.namespaceResolver=null!=t?t:new en,this.functionResolver=null!=r?r:new ei}function er(){}function ei(e){this.thisArg=null!=e?e:eo,this.functions={},this.addStandardFunctions()}function en(){}V.equals=function(e,t){return e.equals(t)},V.notequal=function(e,t){return e.notequal(t)},V.lessthan=function(e,t){return e.lessthan(t)},V.greaterthan=function(e,t){return e.greaterthan(t)},V.lessthanorequal=function(e,t){return e.lessthanorequal(t)},V.greaterthanorequal=function(e,t){return e.greaterthanorequal(t)},H.prototype=new v,H.prototype.constructor=H,H.superclass=v.prototype,H.prototype.init=function(e){this.str=String(e)},H.prototype.toString=function(){return this.str},H.prototype.evaluate=function(e){return this},H.prototype.string=function(){return this},H.prototype.number=function(){return new G(this.str)},H.prototype.bool=function(){return new J(this.str)},H.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset")},H.prototype.stringValue=function(){return this.str},H.prototype.numberValue=function(){return this.number().numberValue()},H.prototype.booleanValue=function(){return this.bool().booleanValue()},H.prototype.equals=function(e){return ea.instance_of(e,J)?this.bool().equals(e):ea.instance_of(e,G)?this.number().equals(e):ea.instance_of(e,X)?e.compareWithString(this,V.equals):new J(this.str==e.str)},H.prototype.notequal=function(e){return ea.instance_of(e,J)?this.bool().notequal(e):ea.instance_of(e,G)?this.number().notequal(e):ea.instance_of(e,X)?e.compareWithString(this,V.notequal):new J(this.str!=e.str)},H.prototype.lessthan=function(e){return this.number().lessthan(e)},H.prototype.greaterthan=function(e){return this.number().greaterthan(e)},H.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},H.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},G.prototype=new v,G.prototype.constructor=G,G.superclass=v.prototype,G.prototype.init=function(e){this.num="string"==typeof e?this.parse(e):Number(e)},G.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,G.prototype.parse=function(e){return this.numberFormat.test(e)?parseFloat(e):NaN},G.prototype.toString=function(){var e=this.num.toString();return -1!==e.indexOf("e-")?W(e):-1!==e.indexOf("e")?Z(e):e},G.prototype.evaluate=function(e){return this},G.prototype.string=function(){return new H(this.toString())},G.prototype.number=function(){return this},G.prototype.bool=function(){return new J(this.num)},G.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset")},G.prototype.stringValue=function(){return this.string().stringValue()},G.prototype.numberValue=function(){return this.num},G.prototype.booleanValue=function(){return this.bool().booleanValue()},G.prototype.negate=function(){return new G(-this.num)},G.prototype.equals=function(e){return ea.instance_of(e,J)?this.bool().equals(e):ea.instance_of(e,H)?this.equals(e.number()):ea.instance_of(e,X)?e.compareWithNumber(this,V.equals):new J(this.num==e.num)},G.prototype.notequal=function(e){return ea.instance_of(e,J)?this.bool().notequal(e):ea.instance_of(e,H)?this.notequal(e.number()):ea.instance_of(e,X)?e.compareWithNumber(this,V.notequal):new J(this.num!=e.num)},G.prototype.lessthan=function(e){return ea.instance_of(e,X)?e.compareWithNumber(this,V.greaterthan):ea.instance_of(e,J)||ea.instance_of(e,H)?this.lessthan(e.number()):new J(this.num<e.num)},G.prototype.greaterthan=function(e){return ea.instance_of(e,X)?e.compareWithNumber(this,V.lessthan):ea.instance_of(e,J)||ea.instance_of(e,H)?this.greaterthan(e.number()):new J(this.num>e.num)},G.prototype.lessthanorequal=function(e){return ea.instance_of(e,X)?e.compareWithNumber(this,V.greaterthanorequal):ea.instance_of(e,J)||ea.instance_of(e,H)?this.lessthanorequal(e.number()):new J(this.num<=e.num)},G.prototype.greaterthanorequal=function(e){return ea.instance_of(e,X)?e.compareWithNumber(this,V.lessthanorequal):ea.instance_of(e,J)||ea.instance_of(e,H)?this.greaterthanorequal(e.number()):new J(this.num>=e.num)},G.prototype.plus=function(e){return new G(this.num+e.num)},G.prototype.minus=function(e){return new G(this.num-e.num)},G.prototype.multiply=function(e){return new G(this.num*e.num)},G.prototype.div=function(e){return new G(this.num/e.num)},G.prototype.mod=function(e){return new G(this.num%e.num)},J.prototype=new v,J.prototype.constructor=J,J.superclass=v.prototype,J.prototype.init=function(e){this.b=!!e},J.prototype.toString=function(){return this.b.toString()},J.prototype.evaluate=function(e){return this},J.prototype.string=function(){return new H(this.b)},J.prototype.number=function(){return new G(this.b)},J.prototype.bool=function(){return this},J.prototype.nodeset=function(){throw Error("Cannot convert boolean to nodeset")},J.prototype.stringValue=function(){return this.string().stringValue()},J.prototype.numberValue=function(){return this.number().numberValue()},J.prototype.booleanValue=function(){return this.b},J.prototype.not=function(){return new J(!this.b)},J.prototype.equals=function(e){return ea.instance_of(e,H)||ea.instance_of(e,G)?this.equals(e.bool()):ea.instance_of(e,X)?e.compareWithBoolean(this,V.equals):new J(this.b==e.b)},J.prototype.notequal=function(e){return ea.instance_of(e,H)||ea.instance_of(e,G)?this.notequal(e.bool()):ea.instance_of(e,X)?e.compareWithBoolean(this,V.notequal):new J(this.b!=e.b)},J.prototype.lessthan=function(e){return this.number().lessthan(e)},J.prototype.greaterthan=function(e){return this.number().greaterthan(e)},J.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},J.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},J.true_=new J(!0),J.false_=new J(!1),Q.prototype={},Q.prototype.constructor=Q,Q.superclass=Object.prototype,Q.prototype.init=function(e){this.left=null,this.right=null,this.node=e,this.depth=1},Q.prototype.balance=function(){var e=null==this.left?0:this.left.depth,t=null==this.right?0:this.right.depth;if(e>t+1)(null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL();else if(e+1<t){var r=null==this.right.right?0:this.right.right.depth;(null==this.right.left?0:this.right.left.depth)>r&&this.right.rotateLL(),this.rotateRR()}},Q.prototype.rotateLL=function(){var e=this.node,t=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=t,this.right.node=e,this.right.updateInNewLocation(),this.updateInNewLocation()},Q.prototype.rotateRR=function(){var e=this.node,t=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=t,this.left.node=e,this.left.updateInNewLocation(),this.updateInNewLocation()},Q.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},Q.prototype.getDepthFromChildren=function(){this.depth=+(null!=this.node),null!=this.left&&(this.depth=this.left.depth+1),null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)},Q.prototype.add=function(e){if(e===this.node)return!1;var t=Y(e,this.node),r=!1;return -1==t?null==this.left?(this.left=new Q(e),r=!0):(r=this.left.add(e))&&this.balance():1==t&&(null==this.right?(this.right=new Q(e),r=!0):(r=this.right.add(e))&&this.balance()),r&&this.getDepthFromChildren(),r},X.prototype=new v,X.prototype.constructor=X,X.superclass=v.prototype,X.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},X.prototype.toString=function(){var e=this.first();return null==e?"":this.stringForNode(e)},X.prototype.evaluate=function(e){return this},X.prototype.string=function(){return new H(this.toString())},X.prototype.stringValue=function(){return this.toString()},X.prototype.number=function(){return new G(this.string())},X.prototype.numberValue=function(){return Number(this.string())},X.prototype.bool=function(){return new J(this.booleanValue())},X.prototype.booleanValue=function(){return!!this.size},X.prototype.nodeset=function(){return this},X.prototype.stringForNode=function(e){return 9==e.nodeType||1==e.nodeType||11===e.nodeType?this.stringForContainerNode(e):2===e.nodeType?e.value||e.nodeValue:e.isNamespaceNode?e.namespace:e.nodeValue},X.prototype.stringForContainerNode=function(e){for(var t="",r=e.firstChild;null!=r;r=r.nextSibling){var i=r.nodeType;(1===i||3===i||4===i||9===i||11===i)&&(t+=this.stringForNode(r))}return t},X.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new Q(this.nodes[0]);for(var e=1;e<this.nodes.length;e+=1)this.tree.add(this.nodes[e])}return this.tree},X.prototype.first=function(){var e=this.buildTree();if(null==e)return null;for(;null!=e.left;)e=e.left;return e.node},X.prototype.add=function(e){for(var t=0;t<this.nodes.length;t+=1)if(e===this.nodes[t])return;this.tree=null,this.nodes.push(e),this.size+=1},X.prototype.addArray=function(e){var t=this;r(function(e){t.add(e)},e)},X.prototype.toArray=function(){var e=[];return this.toArrayRec(this.buildTree(),e),e},X.prototype.toArrayRec=function(e,t){null!=e&&(this.toArrayRec(e.left,t),t.push(e.node),this.toArrayRec(e.right,t))},X.prototype.toUnsortedArray=function(){return this.nodes.slice()},X.prototype.compareWithString=function(e,t){for(var r=this.toUnsortedArray(),i=0;i<r.length;i++){var n=r[i],o=t(new H(this.stringForNode(n)),e);if(o.booleanValue())return o}return new J(!1)},X.prototype.compareWithNumber=function(e,t){for(var r=this.toUnsortedArray(),i=0;i<r.length;i++){var n=r[i],o=t(new G(this.stringForNode(n)),e);if(o.booleanValue())return o}return new J(!1)},X.prototype.compareWithBoolean=function(e,t){return t(this.bool(),e)},X.prototype.compareWithNodeSet=function(e,t){for(var r=this.toUnsortedArray(),i=function(e,r){return t(r,e)},n=0;n<r.length;n++){var o=new H(this.stringForNode(r[n])),a=e.compareWithString(o,i);if(a.booleanValue())return a}return new J(!1)},X.compareWith=t(function(e,t){return ea.instance_of(t,H)?this.compareWithString(t,e):ea.instance_of(t,G)?this.compareWithNumber(t,e):ea.instance_of(t,J)?this.compareWithBoolean(t,e):this.compareWithNodeSet(t,e)}),X.prototype.equals=X.compareWith(V.equals),X.prototype.notequal=X.compareWith(V.notequal),X.prototype.lessthan=X.compareWith(V.lessthan),X.prototype.greaterthan=X.compareWith(V.greaterthan),X.prototype.lessthanorequal=X.compareWith(V.lessthanorequal),X.prototype.greaterthanorequal=X.compareWith(V.greaterthanorequal),X.prototype.union=function(e){var t=new X;return t.addArray(this.toUnsortedArray()),t.addArray(e.toUnsortedArray()),t},ee.prototype={},ee.prototype.constructor=ee,ee.superclass=Object.prototype,ee.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},et.prototype={},et.prototype.constructor=et,et.superclass=Object.prototype,et.prototype.extend=function(e){return h(new et,this,e)},er.prototype={},er.prototype.constructor=er,er.superclass=Object.prototype,er.prototype.getVariable=function(e,t){return null},ei.prototype={},ei.prototype.constructor=ei,ei.superclass=Object.prototype,ei.prototype.addStandardFunctions=function(){this.functions["{}last"]=eo.last,this.functions["{}position"]=eo.position,this.functions["{}count"]=eo.count,this.functions["{}id"]=eo.id,this.functions["{}local-name"]=eo.localName,this.functions["{}namespace-uri"]=eo.namespaceURI,this.functions["{}name"]=eo.name,this.functions["{}string"]=eo.string,this.functions["{}concat"]=eo.concat,this.functions["{}starts-with"]=eo.startsWith,this.functions["{}contains"]=eo.contains,this.functions["{}substring-before"]=eo.substringBefore,this.functions["{}substring-after"]=eo.substringAfter,this.functions["{}substring"]=eo.substring,this.functions["{}string-length"]=eo.stringLength,this.functions["{}normalize-space"]=eo.normalizeSpace,this.functions["{}translate"]=eo.translate,this.functions["{}boolean"]=eo.boolean_,this.functions["{}not"]=eo.not,this.functions["{}true"]=eo.true_,this.functions["{}false"]=eo.false_,this.functions["{}lang"]=eo.lang,this.functions["{}number"]=eo.number,this.functions["{}sum"]=eo.sum,this.functions["{}floor"]=eo.floor,this.functions["{}ceiling"]=eo.ceiling,this.functions["{}round"]=eo.round},ei.prototype.addFunction=function(e,t,r){this.functions["{"+e+"}"+t]=r},ei.getFunctionFromContext=function(e,t){var r=ea.resolveQName(e,t.namespaceResolver,t.contextNode,!1);if(null===r[0])throw Error("Cannot resolve QName "+name);return t.functionResolver.getFunction(r[1],r[0])},ei.prototype.getFunction=function(e,t){return this.functions["{"+t+"}"+e]},en.prototype={},en.prototype.constructor=en,en.superclass=Object.prototype,en.prototype.getNamespace=function(e,t){if("xml"==e)return g.XML_NAMESPACE_URI;if("xmlns"==e)return g.XMLNS_NAMESPACE_URI;for(9==t.nodeType?t=t.documentElement:2==t.nodeType?t=L.getOwnerElement(t):1!=t.nodeType&&(t=t.parentNode);null!=t&&1==t.nodeType;){for(var r=t.attributes,i=0;i<r.length;i++){var n=r.item(i),o=n.name||n.nodeName;if("xmlns"===o&&""===e||o==="xmlns:"+e)return String(n.value||n.nodeValue)}t=t.parentNode}return null};var eo={};eo.last=function(e){if(1!=arguments.length)throw Error("Function last expects ()");return new G(e.contextSize)},eo.position=function(e){if(1!=arguments.length)throw Error("Function position expects ()");return new G(e.contextPosition)},eo.count=function(){var e,t=arguments[0];if(2!=arguments.length||!ea.instance_of(e=arguments[1].evaluate(t),X))throw Error("Function count expects (node-set)");return new G(e.size)},eo.id=function(){var e,t,r=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");e=arguments[1].evaluate(r);for(var i=(e=ea.instance_of(e,X)?e.toArray().join(" "):e.stringValue()).split(/[\x0d\x0a\x09\x20]+/),n=new X,o=9==r.contextNode.nodeType?r.contextNode:r.contextNode.ownerDocument,a=0;a<i.length;a++)null!=(t=o.getElementById?o.getElementById(i[a]):ea.getElementById(o,i[a]))&&n.add(t);return n},eo.localName=function(e,t){var r;if(1==arguments.length)r=e.contextNode;else if(2==arguments.length)r=t.evaluate(e).first();else throw Error("Function local-name expects (node-set?)");return new H(null==r?"":r.localName||r.baseName||r.target||r.nodeName||"")},eo.namespaceURI=function(){var e,t=arguments[0];if(1==arguments.length)e=t.contextNode;else if(2==arguments.length)e=arguments[1].evaluate(t).first();else throw Error("Function namespace-uri expects (node-set?)");return new H(null==e?"":e.namespaceURI)},eo.name=function(){var e,t=arguments[0];if(1==arguments.length)e=t.contextNode;else if(2==arguments.length)e=arguments[1].evaluate(t).first();else throw Error("Function name expects (node-set?)");return null==e?new H(""):1==e.nodeType?new H(e.nodeName):2==e.nodeType?new H(e.name||e.nodeName):7===e.nodeType?new H(e.target||e.nodeName):null==e.localName?new H(""):new H(e.localName)},eo.string=function(){var e=arguments[0];if(1==arguments.length)return new H(X.prototype.stringForNode(e.contextNode));if(2==arguments.length)return arguments[1].evaluate(e).string();throw Error("Function string expects (object?)")},eo.concat=function(e){if(arguments.length<3)throw Error("Function concat expects (string, string[, string]*)");for(var t="",r=1;r<arguments.length;r++)t+=arguments[r].evaluate(e).stringValue();return new H(t)},eo.startsWith=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();return new J(t.substring(0,r.length)==r)},eo.contains=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();return new J(-1!==t.indexOf(r))},eo.substringBefore=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();return new H(t.substring(0,t.indexOf(r)))},eo.substringAfter=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();if(0==r.length)return new H(t);var i=t.indexOf(r);return new H(-1==i?"":t.substring(i+r.length))},eo.substring=function(){var e=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var t=arguments[1].evaluate(e).stringValue(),r=Math.round(arguments[2].evaluate(e).numberValue())-1,i=4==arguments.length?r+Math.round(arguments[3].evaluate(e).numberValue()):void 0;return new H(t.substring(r,i))},eo.stringLength=function(){var e,t=arguments[0];if(1==arguments.length)e=X.prototype.stringForNode(t.contextNode);else if(2==arguments.length)e=arguments[1].evaluate(t).stringValue();else throw Error("Function string-length expects (string?)");return new G(e.length)},eo.normalizeSpace=function(){var e,t=arguments[0];if(1==arguments.length)e=X.prototype.stringForNode(t.contextNode);else if(2==arguments.length)e=arguments[1].evaluate(t).stringValue();else throw Error("Function normalize-space expects (string?)");for(var r=0,i=e.length-1;ea.isSpace(e.charCodeAt(i));)i--;for(var n="";r<=i&&ea.isSpace(e.charCodeAt(r));)r++;for(;r<=i;)if(ea.isSpace(e.charCodeAt(r)))for(n+=" ";r<=i&&ea.isSpace(e.charCodeAt(r));)r++;else n+=e.charAt(r),r++;return new H(n)},eo.translate=function(e,t,r,o){if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");var a=t.evaluate(e).stringValue(),s=r.evaluate(e).stringValue(),l=o.evaluate(e).stringValue(),c=i(function(e,t,r){return t in e||(e[t]=r>l.length?"":l[r]),e},{},s);return new H(u("",n(function(e){return e in c?c[e]:e},a)))},eo.boolean_=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(e).bool()},eo.not=function(e,t){if(2!=arguments.length)throw Error("Function not expects (object)");return t.evaluate(e).bool().not()},eo.true_=function(){if(1!=arguments.length)throw Error("Function true expects ()");return J.true_},eo.false_=function(){if(1!=arguments.length)throw Error("Function false expects ()");return J.false_},eo.lang=function(){var e,t=arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var r=t.contextNode;null!=r&&9!=r.nodeType;r=r.parentNode){var i=r.getAttributeNS(g.XML_NAMESPACE_URI,"lang");if(null!=i){e=String(i);break}}if(null==e)return J.false_;var n=arguments[1].evaluate(t).stringValue();return new J(e.substring(0,n.length)==n&&(e.length==n.length||"-"==e.charAt(n.length)))},eo.number=function(){var e=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");return 1==arguments.length?new G(X.prototype.stringForNode(e.contextNode)):arguments[1].evaluate(e).number()},eo.sum=function(){var e,t=arguments[0];if(2!=arguments.length||!ea.instance_of(e=arguments[1].evaluate(t),X))throw Error("Function sum expects (node-set)");e=e.toUnsortedArray();for(var r=0,i=0;i<e.length;i++)r+=new G(X.prototype.stringForNode(e[i])).numberValue();return new G(r)},eo.floor=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new G(Math.floor(arguments[1].evaluate(e).numberValue()))},eo.ceiling=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new G(Math.ceil(arguments[1].evaluate(e).numberValue()))},eo.round=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");return new G(Math.round(arguments[1].evaluate(e).numberValue()))};var ea={};ea.isAttribute=function(e){return e&&(2===e.nodeType||e.ownerElement)},ea.splitQName=function(e){var t=e.indexOf(":");return -1==t?[null,e]:[e.substring(0,t),e.substring(t+1)]},ea.resolveQName=function(e,t,r,i){var n=ea.splitQName(e);return null!=n[0]?n[0]=t.getNamespace(n[0],r):i?(n[0]=t.getNamespace("",r),null==n[0]&&(n[0]="")):n[0]="",n},ea.isSpace=function(e){return 9==e||13==e||10==e||32==e},ea.isLetter=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=255||e>=256&&e<=305||e>=308&&e<=318||e>=321&&e<=328||e>=330&&e<=382||e>=384&&e<=451||e>=461&&e<=496||e>=500&&e<=501||e>=506&&e<=535||e>=592&&e<=680||e>=699&&e<=705||902==e||e>=904&&e<=906||908==e||e>=910&&e<=929||e>=931&&e<=974||e>=976&&e<=982||986==e||988==e||990==e||992==e||e>=994&&e<=1011||e>=1025&&e<=1036||e>=1038&&e<=1103||e>=1105&&e<=1116||e>=1118&&e<=1153||e>=1168&&e<=1220||e>=1223&&e<=1224||e>=1227&&e<=1228||e>=1232&&e<=1259||e>=1262&&e<=1269||e>=1272&&e<=1273||e>=1329&&e<=1366||1369==e||e>=1377&&e<=1414||e>=1488&&e<=1514||e>=1520&&e<=1522||e>=1569&&e<=1594||e>=1601&&e<=1610||e>=1649&&e<=1719||e>=1722&&e<=1726||e>=1728&&e<=1742||e>=1744&&e<=1747||1749==e||e>=1765&&e<=1766||e>=2309&&e<=2361||2365==e||e>=2392&&e<=2401||e>=2437&&e<=2444||e>=2447&&e<=2448||e>=2451&&e<=2472||e>=2474&&e<=2480||2482==e||e>=2486&&e<=2489||e>=2524&&e<=2525||e>=2527&&e<=2529||e>=2544&&e<=2545||e>=2565&&e<=2570||e>=2575&&e<=2576||e>=2579&&e<=2600||e>=2602&&e<=2608||e>=2610&&e<=2611||e>=2613&&e<=2614||e>=2616&&e<=2617||e>=2649&&e<=2652||2654==e||e>=2674&&e<=2676||e>=2693&&e<=2699||2701==e||e>=2703&&e<=2705||e>=2707&&e<=2728||e>=2730&&e<=2736||e>=2738&&e<=2739||e>=2741&&e<=2745||2749==e||2784==e||e>=2821&&e<=2828||e>=2831&&e<=2832||e>=2835&&e<=2856||e>=2858&&e<=2864||e>=2866&&e<=2867||e>=2870&&e<=2873||2877==e||e>=2908&&e<=2909||e>=2911&&e<=2913||e>=2949&&e<=2954||e>=2958&&e<=2960||e>=2962&&e<=2965||e>=2969&&e<=2970||2972==e||e>=2974&&e<=2975||e>=2979&&e<=2980||e>=2984&&e<=2986||e>=2990&&e<=2997||e>=2999&&e<=3001||e>=3077&&e<=3084||e>=3086&&e<=3088||e>=3090&&e<=3112||e>=3114&&e<=3123||e>=3125&&e<=3129||e>=3168&&e<=3169||e>=3205&&e<=3212||e>=3214&&e<=3216||e>=3218&&e<=3240||e>=3242&&e<=3251||e>=3253&&e<=3257||3294==e||e>=3296&&e<=3297||e>=3333&&e<=3340||e>=3342&&e<=3344||e>=3346&&e<=3368||e>=3370&&e<=3385||e>=3424&&e<=3425||e>=3585&&e<=3630||3632==e||e>=3634&&e<=3635||e>=3648&&e<=3653||e>=3713&&e<=3714||3716==e||e>=3719&&e<=3720||3722==e||3725==e||e>=3732&&e<=3735||e>=3737&&e<=3743||e>=3745&&e<=3747||3749==e||3751==e||e>=3754&&e<=3755||e>=3757&&e<=3758||3760==e||e>=3762&&e<=3763||3773==e||e>=3776&&e<=3780||e>=3904&&e<=3911||e>=3913&&e<=3945||e>=4256&&e<=4293||e>=4304&&e<=4342||4352==e||e>=4354&&e<=4355||e>=4357&&e<=4359||4361==e||e>=4363&&e<=4364||e>=4366&&e<=4370||4412==e||4414==e||4416==e||4428==e||4430==e||4432==e||e>=4436&&e<=4437||4441==e||e>=4447&&e<=4449||4451==e||4453==e||4455==e||4457==e||e>=4461&&e<=4462||e>=4466&&e<=4467||4469==e||4510==e||4520==e||4523==e||e>=4526&&e<=4527||e>=4535&&e<=4536||4538==e||e>=4540&&e<=4546||4587==e||4592==e||4601==e||e>=7680&&e<=7835||e>=7840&&e<=7929||e>=7936&&e<=7957||e>=7960&&e<=7965||e>=7968&&e<=8005||e>=8008&&e<=8013||e>=8016&&e<=8023||8025==e||8027==e||8029==e||e>=8031&&e<=8061||e>=8064&&e<=8116||e>=8118&&e<=8124||8126==e||e>=8130&&e<=8132||e>=8134&&e<=8140||e>=8144&&e<=8147||e>=8150&&e<=8155||e>=8160&&e<=8172||e>=8178&&e<=8180||e>=8182&&e<=8188||8486==e||e>=8490&&e<=8491||8494==e||e>=8576&&e<=8578||e>=12353&&e<=12436||e>=12449&&e<=12538||e>=12549&&e<=12588||e>=44032&&e<=55203||e>=19968&&e<=40869||12295==e||e>=12321&&e<=12329},ea.isNCNameChar=function(e){return e>=48&&e<=57||e>=1632&&e<=1641||e>=1776&&e<=1785||e>=2406&&e<=2415||e>=2534&&e<=2543||e>=2662&&e<=2671||e>=2790&&e<=2799||e>=2918&&e<=2927||e>=3047&&e<=3055||e>=3174&&e<=3183||e>=3302&&e<=3311||e>=3430&&e<=3439||e>=3664&&e<=3673||e>=3792&&e<=3801||e>=3872&&e<=3881||46==e||45==e||95==e||ea.isLetter(e)||e>=768&&e<=837||e>=864&&e<=865||e>=1155&&e<=1158||e>=1425&&e<=1441||e>=1443&&e<=1465||e>=1467&&e<=1469||1471==e||e>=1473&&e<=1474||1476==e||e>=1611&&e<=1618||1648==e||e>=1750&&e<=1756||e>=1757&&e<=1759||e>=1760&&e<=1764||e>=1767&&e<=1768||e>=1770&&e<=1773||e>=2305&&e<=2307||2364==e||e>=2366&&e<=2380||2381==e||e>=2385&&e<=2388||e>=2402&&e<=2403||e>=2433&&e<=2435||2492==e||2494==e||2495==e||e>=2496&&e<=2500||e>=2503&&e<=2504||e>=2507&&e<=2509||2519==e||e>=2530&&e<=2531||2562==e||2620==e||2622==e||2623==e||e>=2624&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e>=2672&&e<=2673||e>=2689&&e<=2691||2748==e||e>=2750&&e<=2757||e>=2759&&e<=2761||e>=2763&&e<=2765||e>=2817&&e<=2819||2876==e||e>=2878&&e<=2883||e>=2887&&e<=2888||e>=2891&&e<=2893||e>=2902&&e<=2903||e>=2946&&e<=2947||e>=3006&&e<=3010||e>=3014&&e<=3016||e>=3018&&e<=3021||3031==e||e>=3073&&e<=3075||e>=3134&&e<=3140||e>=3142&&e<=3144||e>=3146&&e<=3149||e>=3157&&e<=3158||e>=3202&&e<=3203||e>=3262&&e<=3268||e>=3270&&e<=3272||e>=3274&&e<=3277||e>=3285&&e<=3286||e>=3330&&e<=3331||e>=3390&&e<=3395||e>=3398&&e<=3400||e>=3402&&e<=3405||3415==e||3633==e||e>=3636&&e<=3642||e>=3655&&e<=3662||3761==e||e>=3764&&e<=3769||e>=3771&&e<=3772||e>=3784&&e<=3789||e>=3864&&e<=3865||3893==e||3895==e||3897==e||3902==e||3903==e||e>=3953&&e<=3972||e>=3974&&e<=3979||e>=3984&&e<=3989||3991==e||e>=3993&&e<=4013||e>=4017&&e<=4023||4025==e||e>=8400&&e<=8412||8417==e||e>=12330&&e<=12335||12441==e||12442==e||183==e||720==e||721==e||903==e||1600==e||3654==e||3782==e||12293==e||e>=12337&&e<=12341||e>=12445&&e<=12446||e>=12540&&e<=12542},ea.coalesceText=function(e){for(var t=e.firstChild;null!=t;t=t.nextSibling)if(3==t.nodeType||4==t.nodeType){var r=t.nodeValue,i=t;for(t=t.nextSibling;null!=t&&(3==t.nodeType||4==t.nodeType);){r+=t.nodeValue;var n=t;t=t.nextSibling,n.parentNode.removeChild(n)}if(4==i.nodeType){var o=i.parentNode;if(null==i.nextSibling)o.removeChild(i),o.appendChild(o.ownerDocument.createTextNode(r));else{var a=i.nextSibling;o.removeChild(i),o.insertBefore(o.ownerDocument.createTextNode(r),a)}}else i.nodeValue=r;if(null==t)break}else 1==t.nodeType&&ea.coalesceText(t)},ea.instance_of=function(e,t){for(;null!=e;){if(e.constructor===t)return!0;if(e===Object)break;e=e.constructor.superclass}return!1},ea.getElementById=function(e,t){if(1==e.nodeType&&(e.getAttribute("id")==t||e.getAttributeNS(null,"id")==t))return e;for(var r=e.firstChild;null!=r;r=r.nextSibling){var i=ea.getElementById(r,t);if(null!=i)return i}return null};var es=function(){function e(e,r){var i=r?": "+r.toString():"";switch(e){case t.INVALID_EXPRESSION_ERR:return"Invalid expression"+i;case t.TYPE_ERR:return"Type error"+i}return null}function t(t,r,i){var n=Error.call(this,e(t,r)||i);return n.code=t,n.exception=r,n}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.superclass=Error,t.prototype.toString=function(){return this.message},t.fromMessage=function(e,r){return new t(null,r,e)},t.INVALID_EXPRESSION_ERR=51,t.TYPE_ERR=52,t}();function el(e,t,r){this.xpath=r.parse(e),this.context=new et,this.context.namespaceResolver=new eu(t)}function eu(e){this.xpathNSResolver=e}function ec(e){this.node=e,this.namespaceResolver=new en}function ed(e,t){switch(t==ed.ANY_TYPE&&(e.constructor===H?t=ed.STRING_TYPE:e.constructor===G?t=ed.NUMBER_TYPE:e.constructor===J?t=ed.BOOLEAN_TYPE:e.constructor===X&&(t=ed.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=t,t){case ed.NUMBER_TYPE:this.numberValue=e.numberValue();return;case ed.STRING_TYPE:this.stringValue=e.stringValue();return;case ed.BOOLEAN_TYPE:this.booleanValue=e.booleanValue();return;case ed.ANY_UNORDERED_NODE_TYPE:case ed.FIRST_ORDERED_NODE_TYPE:if(e.constructor===X){this.singleNodeValue=e.first();return}break;case ed.UNORDERED_NODE_ITERATOR_TYPE:case ed.ORDERED_NODE_ITERATOR_TYPE:if(e.constructor===X){this.invalidIteratorState=!1,this.nodes=e.toArray(),this.iteratorIndex=0;return}break;case ed.UNORDERED_NODE_SNAPSHOT_TYPE:case ed.ORDERED_NODE_SNAPSHOT_TYPE:if(e.constructor===X){this.nodes=e.toArray(),this.snapshotLength=this.nodes.length;return}}throw new es(es.TYPE_ERR)}function ep(e,t){e.createExpression=function(e,r){try{return new el(e,r,t)}catch(e){throw new es(es.INVALID_EXPRESSION_ERR,e)}},e.createNSResolver=function(e){return new ec(e)},e.evaluate=function(r,i,n,o,a){if(o<0||o>9)throw{code:0,toString:function(){return"Request type not supported"}};return e.createExpression(r,n,t).evaluate(i,o,a)}}el.prototype={},el.prototype.constructor=el,el.superclass=Object.prototype,el.getOwnerDocument=function(e){return 9===e.nodeType?e:e.ownerDocument},el.detectHtmlDom=function(e){if(!e)return!1;var t=el.getOwnerDocument(e);try{return t.implementation.hasFeature("HTML","2.0")}catch(e){return!0}},el.prototype.evaluate=function(e,t,r){return this.context.expressionContextNode=e,this.context.caseInsensitive=el.detectHtmlDom(e),new ed(this.xpath.evaluate(this.context),t)},eu.prototype={},eu.prototype.constructor=eu,eu.superclass=Object.prototype,eu.prototype.getNamespace=function(e,t){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(e)},ec.prototype={},ec.prototype.constructor=ec,ec.superclass=Object.prototype,ec.prototype.lookupNamespaceURI=function(e){return this.namespaceResolver.getNamespace(e,this.node)},ed.prototype={},ed.prototype.constructor=ed,ed.superclass=Object.prototype,ed.prototype.iterateNext=function(){if(this.resultType!=ed.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=ed.ORDERED_NODE_ITERATOR_TYPE)throw new es(es.TYPE_ERR);return this.nodes[this.iteratorIndex++]},ed.prototype.snapshotItem=function(e){if(this.resultType!=ed.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=ed.ORDERED_NODE_SNAPSHOT_TYPE)throw new es(es.TYPE_ERR);return this.nodes[e]},ed.ANY_TYPE=0,ed.NUMBER_TYPE=1,ed.STRING_TYPE=2,ed.BOOLEAN_TYPE=3,ed.UNORDERED_NODE_ITERATOR_TYPE=4,ed.ORDERED_NODE_ITERATOR_TYPE=5,ed.UNORDERED_NODE_SNAPSHOT_TYPE=6,ed.ORDERED_NODE_SNAPSHOT_TYPE=7,ed.ANY_UNORDERED_NODE_TYPE=8,ed.FIRST_ORDERED_NODE_TYPE=9;try{var ef=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(ef=!1)}catch(e){}ef&&ep(document,new m)}catch(e){}ep(e,new m),function(){var t=new m,r=new en,i=new ei,n=new er;function o(e){return{getNamespace:function(t,i){return e(t,i)||r.getNamespace(t,i)}}}function a(e){return o(e.getNamespace.bind(e))}function s(e){return o(function(t){return e[t]})}function l(e){return e&&"function"==typeof e.getNamespace?a(e):"function"==typeof e?o(e):"object"==typeof e?s(e):r}function u(e){if(null==e||e instanceof H||e instanceof J||e instanceof G||e instanceof X)return e;switch(typeof e){case"string":return new H(e);case"boolean":return new J(e);case"number":return new G(e)}var t=new X;return t.addArray([].concat(e)),t}function c(e){return function(t){var r=Array.prototype.slice.call(arguments,1).map(function(e){return e.evaluate(t)});return u(e.apply(this,[].concat(t,r)))}}function d(e){return{getFunction:function(t,r){var n=e(t,r);return n?c(n):i.getFunction(t,r)}}}function p(e){return d(e.getFunction.bind(e))}function f(e){return d(function(t){return e[t]})}function h(e){return e&&"function"==typeof e.getFunction?p(e):"function"==typeof e?d(e):"object"==typeof e?f(e):i}function g(e){return{getVariable:function(t,r){return u(e(t,r))}}}function y(e){if(e){if("function"==typeof e.getVariable)return g(e.getVariable.bind(e));if("function"==typeof e)return g(e);if("object"==typeof e)return g(function(t){return e[t]})}return n}function v(e,t,r){e in r&&(t[e]=r[e])}function b(e){var t=new et;return e?(t.namespaceResolver=l(e.namespaces),t.functionResolver=h(e.functions),t.variableResolver=y(e.variables),t.expressionContextNode=e.node,v("allowAnyNamespaceForNoPrefix",t,e),v("isHtml",t,e)):t.namespaceResolver=r,t}function A(e,t){var r=b(t);return e.evaluate(r)}var w={evaluate:function(e){return A(this.expression,e)},evaluateNumber:function(e){return this.evaluate(e).numberValue()},evaluateString:function(e){return this.evaluate(e).stringValue()},evaluateBoolean:function(e){return this.evaluate(e).booleanValue()},evaluateNodeSet:function(e){return this.evaluate(e).nodeset()},select:function(e){return this.evaluateNodeSet(e).toArray()},select1:function(e){return this.select(e)[0]}};e.parse=function(e){return Object.create(w,{expression:{value:t.parse(e)}})}}(),h(e,{XPath:g,XPathParser:m,XPathResult:ed,Step:$,PathExpr:L,NodeTest:z,LocationPath:j,OrOperation:_,AndOperation:S,BarOperation:U,EqualsOperation:E,NotEqualOperation:T,LessThanOperation:I,GreaterThanOperation:x,LessThanOrEqualOperation:O,GreaterThanOrEqualOperation:C,PlusOperation:k,MinusOperation:N,MultiplyOperation:R,DivOperation:P,ModOperation:D,UnaryMinusOperation:A,FunctionCall:q,VariableReference:F,XPathContext:et,XNodeSet:X,XBoolean:J,XString:H,XNumber:G,NamespaceResolver:en,FunctionResolver:ei,VariableResolver:er,Utilities:ea}),e.select=function(t,r,i){return e.selectWithResolver(t,r,null,i)},e.useNamespaces=function(t){var r={mappings:t||{},lookupNamespaceURI:function(e){return this.mappings[e]}};return function(t,i,n){return e.selectWithResolver(t,i,r,n)}},e.selectWithResolver=function(e,t,r,i){var n=new el(e,r,new m),o=ed.ANY_TYPE,a=n.evaluate(t,o,null);return a.resultType==ed.STRING_TYPE?a=a.stringValue:a.resultType==ed.NUMBER_TYPE?a=a.numberValue:a.resultType==ed.BOOLEAN_TYPE?a=a.booleanValue:(a=a.nodes,i&&(a=a[0])),a},e.select1=function(t,r){return e.select(t,r,!0)}}(r)},144568,(e,t,r)=>{"use strict";function i(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var n=e[i];if(t.call(void 0,n,i,e))return n}}function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}function o(e,t){if(null===e||"object"!=typeof e)throw TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var a=n({HTML:"text/html",isHTML:function(e){return e===a.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});r.assign=o,r.find=i,r.freeze=n,r.MIME_TYPE=a,r.NAMESPACE=s},984410,(e,t,r)=>{var i=e.r(144568),n=i.find,o=i.NAMESPACE;function a(e){return""!==e}function s(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}function l(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function u(e){return e?Object.keys(s(e).reduce(l,{})):[]}function c(e){return function(t){return e&&-1!==e.indexOf(t)}}function d(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function p(e,t){var r=e.prototype;if(!(r instanceof t)){function i(){}i.prototype=t.prototype,d(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var f={},h=f.ELEMENT_NODE=1,m=f.ATTRIBUTE_NODE=2,g=f.TEXT_NODE=3,y=f.CDATA_SECTION_NODE=4,v=f.ENTITY_REFERENCE_NODE=5,b=f.ENTITY_NODE=6,A=f.PROCESSING_INSTRUCTION_NODE=7,w=f.COMMENT_NODE=8,_=f.DOCUMENT_NODE=9,S=f.DOCUMENT_TYPE_NODE=10,E=f.DOCUMENT_FRAGMENT_NODE=11,T=f.NOTATION_NODE=12,I={},x={};x[1]="Index size error",I.INDEX_SIZE_ERR=1,x[2]="DOMString size error",I.DOMSTRING_SIZE_ERR=2;var O=(x[3]="Hierarchy request error",I.HIERARCHY_REQUEST_ERR=3);x[4]="Wrong document",I.WRONG_DOCUMENT_ERR=4,x[5]="Invalid character",I.INVALID_CHARACTER_ERR=5,x[6]="No data allowed",I.NO_DATA_ALLOWED_ERR=6,x[7]="No modification allowed",I.NO_MODIFICATION_ALLOWED_ERR=7;var C=(x[8]="Not found",I.NOT_FOUND_ERR=8);x[9]="Not supported",I.NOT_SUPPORTED_ERR=9;var k=(x[10]="Attribute in use",I.INUSE_ATTRIBUTE_ERR=10);function N(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,x[e]),this.message=x[e],Error.captureStackTrace&&Error.captureStackTrace(this,N);return r.code=e,t&&(this.message=this.message+": "+t),r}function R(){}function P(e,t){this._node=e,this._refresh=t,D(this)}function D(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(eI(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var i=r.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];d(r,e),e._inc=t}}function U(){}function L(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function K(e,t,r,i){if(i?t[L(t,i)]=r:t[t.length++]=r,e){r.ownerElement=e;var n=e.ownerDocument;n&&(i&&V(n,e,i),q(n,e,r))}}function M(e,t,r){var i=L(t,r);if(i>=0){for(var n=t.length-1;i<n;)t[i]=t[++i];if(t.length=n,e){var o=e.ownerDocument;o&&(V(o,e,r),r.ownerElement=null)}}else throw new N(C,Error(e.tagName+"@"+r))}function B(){}function j(){}function $(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function z(e,t){if(t(e))return!0;if(e=e.firstChild)do if(z(e,t))return!0;while(e=e.nextSibling)}function F(){this.ownerDocument=this}function q(e,t,r){e&&e._inc++,r.namespaceURI===o.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function V(e,t,r,i){e&&e._inc++,r.namespaceURI===o.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function H(e,t,r){if(e&&e._inc){e._inc++;var i=t.childNodes;if(r)i[i.length++]=r;else{for(var n=t.firstChild,o=0;n;)i[o++]=n,n=n.nextSibling;i.length=o,delete i[i.length]}}}function G(e,t){var r=t.previousSibling,i=t.nextSibling;return r?r.nextSibling=i:e.firstChild=i,i?i.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,H(e.ownerDocument,e),t}function W(e){return e&&(e.nodeType===j.DOCUMENT_NODE||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.ELEMENT_NODE)}function Z(e){return e&&(Q(e)||Y(e)||J(e)||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.COMMENT_NODE||e.nodeType===j.PROCESSING_INSTRUCTION_NODE)}function J(e){return e&&e.nodeType===j.DOCUMENT_TYPE_NODE}function Q(e){return e&&e.nodeType===j.ELEMENT_NODE}function Y(e){return e&&e.nodeType===j.TEXT_NODE}function X(e,t){var r=e.childNodes||[];if(n(r,Q)||J(t))return!1;var i=n(r,J);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function ee(e,t){var r=e.childNodes||[];if(n(r,function(e){return Q(e)&&e!==t}))return!1;var i=n(r,J);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function et(e,t,r){if(!W(e))throw new N(O,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new N(C,"child not in parent");if(!Z(t)||J(t)&&e.nodeType!==j.DOCUMENT_NODE)throw new N(O,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function er(e,t,r){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=o.filter(Q);if(a.length>1||n(o,Y))throw new N(O,"More than one element or text in fragment");if(1===a.length&&!X(e,r))throw new N(O,"Element in fragment can not be inserted before doctype")}if(Q(t)&&!X(e,r))throw new N(O,"Only one element can be added and only after doctype");if(J(t)){if(n(i,J))throw new N(O,"Only one doctype is allowed");var s=n(i,Q);if(r&&i.indexOf(s)<i.indexOf(r))throw new N(O,"Doctype can only be inserted before an element");if(!r&&s)throw new N(O,"Doctype can not be appended since element is present")}}function ei(e,t,r){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=o.filter(Q);if(a.length>1||n(o,Y))throw new N(O,"More than one element or text in fragment");if(1===a.length&&!ee(e,r))throw new N(O,"Element in fragment can not be inserted before doctype")}if(Q(t)&&!ee(e,r))throw new N(O,"Only one element can be added and only after doctype");if(J(t)){if(n(i,function(e){return J(e)&&e!==r}))throw new N(O,"Only one doctype is allowed");var s=n(i,Q);if(r&&i.indexOf(s)<i.indexOf(r))throw new N(O,"Doctype can only be inserted before an element")}}function en(e,t,r,i){et(e,t,r),e.nodeType===j.DOCUMENT_NODE&&(i||er)(e,t,r);var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===E){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var s=r?r.previousSibling:e.lastChild;o.previousSibling=s,a.nextSibling=r,s?s.nextSibling=o:e.firstChild=o,null==r?e.lastChild=a:r.previousSibling=a;do o.parentNode=e,eo(o,e.ownerDocument||e);while(o!==a&&(o=o.nextSibling))return H(e.ownerDocument||e,e),t.nodeType==E&&(t.firstChild=t.lastChild=null),t}function eo(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===h&&e.attributes)for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);i&&(i.ownerDocument=t)}for(var n=e.firstChild;n;)eo(n,t),n=n.nextSibling}}function ea(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),eo(t,e.ownerDocument||e),t}function es(){this._nsMap={}}function el(){}function eu(){}function ec(){}function ed(){}function ep(){}function ef(){}function eh(){}function em(){}function eg(){}function ey(){}function ev(){}function eb(){}function eA(e,t){var r=[],i=9==this.nodeType&&this.documentElement||this,n=i.prefix,o=i.namespaceURI;if(o&&null==n){var n=i.lookupPrefix(o);if(null==n)var a=[{namespace:o,prefix:null}]}return eS(this,r,e,t,a),r.join("")}function ew(e,t,r){var i=e.prefix||"",n=e.namespaceURI;if(!n||"xml"===i&&n===o.XML||n===o.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==n}return!0}function e_(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,$),'"')}function eS(e,t,r,i,n){if(n||(n=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var a,s=e.attributes,l=s.length,u=e.firstChild,c=e.tagName;r=o.isHTML(e.namespaceURI)||r;var d=c;if(!r&&!e.prefix&&e.namespaceURI){for(var p=0;p<s.length;p++)if("xmlns"===s.item(p).name){a=s.item(p).value;break}if(!a)for(var f=n.length-1;f>=0;f--){var b=n[f];if(""===b.prefix&&b.namespace===e.namespaceURI){a=b.namespace;break}}if(a!==e.namespaceURI)for(var f=n.length-1;f>=0;f--){var b=n[f];if(b.namespace===e.namespaceURI){b.prefix&&(d=b.prefix+":"+c);break}}}t.push("<",d);for(var T=0;T<l;T++){var I=s.item(T);"xmlns"==I.prefix?n.push({prefix:I.localName,namespace:I.value}):"xmlns"==I.nodeName&&n.push({prefix:"",namespace:I.value})}for(var T=0;T<l;T++){var I=s.item(T);if(ew(I,r,n)){var x=I.prefix||"",O=I.namespaceURI;e_(t,x?"xmlns:"+x:"xmlns",O),n.push({prefix:x,namespace:O})}eS(I,t,r,i,n)}if(c===d&&ew(e,r,n)){var x=e.prefix||"",O=e.namespaceURI;e_(t,x?"xmlns:"+x:"xmlns",O),n.push({prefix:x,namespace:O})}if(u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;u;)u.data?t.push(u.data):eS(u,t,r,i,n.slice()),u=u.nextSibling;else for(;u;)eS(u,t,r,i,n.slice()),u=u.nextSibling;t.push("</",d,">")}else t.push("/>");return;case _:case E:for(var u=e.firstChild;u;)eS(u,t,r,i,n.slice()),u=u.nextSibling;return;case m:return e_(t,e.name,e.value);case g:return t.push(e.data.replace(/[<&>]/g,$));case y:return t.push("<![CDATA[",e.data,"]]>");case w:return t.push("<!--",e.data,"-->");case S:var C=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(" PUBLIC ",C),k&&"."!=k&&t.push(" ",k),t.push(">");else if(k&&"."!=k)t.push(" SYSTEM ",k,">");else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case A:return t.push("<?",e.target," ",e.data,"?>");case v:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function eE(e,t,r){var i;switch(t.nodeType){case h:(i=t.cloneNode(!1)).ownerDocument=e;case E:break;case m:r=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,r)for(var n=t.firstChild;n;)i.appendChild(eE(e,n,r)),n=n.nextSibling;return i}function eT(e,t,r){var i=new t.constructor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n];"object"!=typeof o&&o!=i[n]&&(i[n]=o)}switch(t.childNodes&&(i.childNodes=new R),i.ownerDocument=e,i.nodeType){case h:var a=t.attributes,s=i.attributes=new U,l=a.length;s._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(eT(e,a.item(u),!0));break;case m:r=!0}if(r)for(var c=t.firstChild;c;)i.appendChild(eT(e,c,r)),c=c.nextSibling;return i}function eI(e,t,r){e[t]=r}x[11]="Invalid state",I.INVALID_STATE_ERR=11,x[12]="Syntax error",I.SYNTAX_ERR=12,x[13]="Invalid modification",I.INVALID_MODIFICATION_ERR=13,x[14]="Invalid namespace",I.NAMESPACE_ERR=14,x[15]="Invalid access",I.INVALID_ACCESS_ERR=15,N.prototype=Error.prototype,d(I,N),R.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],i=0;i<this.length;i++)eS(this[i],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},P.prototype.item=function(e){return D(this),this[e]||null},p(P,R),U.prototype={length:0,item:R.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new N(k);var r=this.getNamedItem(e.nodeName);return K(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new N(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),K(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return M(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var i=this[r];if(i.localName==t&&i.namespaceURI==e)return i}return null}},B.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var i=new F;if(i.implementation=this,i.childNodes=new R,i.doctype=r||null,r&&i.appendChild(r),t){var n=i.createElementNS(e,t);i.appendChild(n)}return i},createDocumentType:function(e,t,r){var i=new ef;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=r||"",i}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return en(this,e,t)},replaceChild:function(e,t){en(this,e,t,ei),t&&this.removeChild(t)},removeChild:function(e){return G(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return eT(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==g&&e.nodeType==g?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===e)return i}t=t.nodeType==m?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==m?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},d(f,j),d(f,j.prototype),F.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==E){for(var r=e.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,t),r=i}return e}return en(this,e,t),eo(e,this),null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),G(this,e)},replaceChild:function(e,t){en(this,e,t,ei),eo(e,this),t&&this.removeChild(t),Q(e)&&(this.documentElement=e)},importNode:function(e,t){return eE(this,e,t)},getElementById:function(e){var t=null;return z(this.documentElement,function(r){if(r.nodeType==h&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=u(e);return new P(this,function(r){var i=[];return t.length>0&&z(r.documentElement,function(n){if(n!==r&&n.nodeType===h){var o=n.getAttribute("class");if(o){var a=e===o;if(!a){var s=u(o);a=t.every(c(s))}a&&i.push(n)}}}),i})},createElement:function(e){var t=new es;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new R,(t.attributes=new U)._ownerElement=t,t},createDocumentFragment:function(){var e=new ey;return e.ownerDocument=this,e.childNodes=new R,e},createTextNode:function(e){var t=new ec;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ed;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ep;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ev;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new el;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new eg;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new es,i=t.split(":"),n=r.attributes=new U;return r.childNodes=new R,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=t,n._ownerElement=r,r},createAttributeNS:function(e,t){var r=new el,i=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=t,r}},p(F,j),es.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===E?this.insertBefore(e,null):ea(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,function(t){var r=[];return z(t,function(i){i!==t&&i.nodeType==h&&("*"===e||i.tagName==e)&&r.push(i)}),r})},getElementsByTagNameNS:function(e,t){return new P(this,function(r){var i=[];return z(r,function(n){n!==r&&n.nodeType===h&&("*"===e||n.namespaceURI===e)&&("*"===t||n.localName==t)&&i.push(n)}),i})}},F.prototype.getElementsByTagName=es.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=es.prototype.getElementsByTagNameNS,p(es,j),el.prototype.nodeType=m,p(el,j),eu.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(x[O])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},p(eu,j),ec.prototype={nodeName:"#text",nodeType:g,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},p(ec,eu),ed.prototype={nodeName:"#comment",nodeType:w},p(ed,eu),ep.prototype={nodeName:"#cdata-section",nodeType:y},p(ep,eu),ef.prototype.nodeType=S,p(ef,j),eh.prototype.nodeType=T,p(eh,j),em.prototype.nodeType=b,p(em,j),eg.prototype.nodeType=v,p(eg,j),ey.prototype.nodeName="#document-fragment",ey.prototype.nodeType=E,p(ey,j),ev.prototype.nodeType=A,p(ev,j),eb.prototype.serializeToString=function(e,t,r){return eA.call(e,t,r)},j.prototype.toString=eA;try{if(Object.defineProperty){function ex(e){switch(e.nodeType){case h:case E:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ex(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return ex(this)},set:function(e){switch(this.nodeType){case h:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),eI=function(e,t,r){e["$$"+t]=r}}}catch(e){}r.DocumentType=ef,r.DOMException=N,r.DOMImplementation=B,r.Element=es,r.Node=j,r.NodeList=R,r.XMLSerializer=eb},608827,(e,t,r)=>{"use strict";var i=e.r(144568).freeze;r.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=i({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"\uD835\uDCB7",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"\uD835\uDD20",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"\uD835\uDD54",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"\uD835\uDCBB",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"\uD835\uDCA2",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"\uD835\uDD25",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"\uD835\uDD59",horbar:"",HorizontalLine:"",Hscr:"",hscr:"\uD835\uDCBD",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"\uD835\uDD26",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"\uD835\uDCBE",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"\uD835\uDCC1",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"",Mscr:"",mscr:"\uD835\uDCC2",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"\uD835\uDD11",nfr:"\uD835\uDD2B",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"\uD835\uDD5F",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"\uD835\uDCA9",nscr:"\uD835\uDCC3",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"\uD835\uDD12",ofr:"\uD835\uDD2C",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"\uD835\uDD46",oopf:"\uD835\uDD60",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"\uD835\uDCAA",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"\uD835\uDD13",pfr:"\uD835\uDD2D",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"\uD835\uDD61",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"\uD835\uDCAB",pscr:"\uD835\uDCC5",Psi:"",psi:"",puncsp:"",Qfr:"\uD835\uDD14",qfr:"\uD835\uDD2E",qint:"",Qopf:"",qopf:"\uD835\uDD62",qprime:"",Qscr:"\uD835\uDCAC",qscr:"\uD835\uDCC6",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"\uD835\uDD2F",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"\uD835\uDD63",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"\uD835\uDCC7",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"\uD835\uDD16",sfr:"\uD835\uDD30",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"\uD835\uDD4A",sopf:"\uD835\uDD64",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"\uD835\uDCAE",sscr:"\uD835\uDCC8",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"\uD835\uDD17",tfr:"\uD835\uDD31",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"\uD835\uDD4B",topf:"\uD835\uDD65",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"\uD835\uDCAF",tscr:"\uD835\uDCC9",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"\uD835\uDD18",ufr:"\uD835\uDD32",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"\uD835\uDD4C",uopf:"\uD835\uDD66",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"\uD835\uDCB0",uscr:"\uD835\uDCCA",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"\uD835\uDD19",vfr:"\uD835\uDD33",vltri:"",vnsub:"",vnsup:"",Vopf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"",vrtri:"",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"",wr:"",wreath:"",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD36",YIcy:"",yicy:"",Yopf:"\uD835\uDD50",yopf:"\uD835\uDD6A",Yscr:"\uD835\uDCB4",yscr:"\uD835\uDCCE",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"\uD835\uDD37",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"\uD835\uDD6B",Zscr:"\uD835\uDCB5",zscr:"\uD835\uDCCF",zwj:"",zwnj:""}),r.entityMap=r.HTML_ENTITIES},750037,(e,t,r)=>{var i=e.r(144568).NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=RegExp("^"+n.source+o.source+"*(?::"+n.source+o.source+"*)?$"),s=0,l=1,u=2,c=3,d=4,p=5,f=6,h=7;function m(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,m)}function g(){}function y(e,t,r,n,o){function a(e){return e>65535?String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e)):String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>y){var r=e.substring(y,t).replace(/&#?\w+;/g,s);f&&u(y),n.characters(r,0,t-y),y=t}}function u(t,r){for(;t>=d&&(r=p.exec(e));)d=(c=r.index)+r[0].length,f.lineNumber++;f.columnNumber=t-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,h=[{currentNSMap:t}],g={},y=0;;){try{var S=e.indexOf("<",y);if(S<0){if(!e.substr(y).match(/^\s*$/)){var x=n.doc,O=x.createTextNode(e.substr(y));x.appendChild(O),n.currentElement=O}return}switch(S>y&&l(S),e.charAt(S+1)){case"/":var C=e.indexOf(">",S+3),k=e.substring(S+2,C).replace(/[ \t\n\r]+$/g,""),N=h.pop();C<0?(k=e.substring(S+2).replace(/[\s<].*/,""),o.error("end tag name: "+k+" is not complete:"+N.tagName),C=S+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),o.error("end tag name: "+k+" maybe not complete"),C=S+1+k.length);var R=N.localNSMap,P=N.tagName==k;if(P||N.tagName&&N.tagName.toLowerCase()==k.toLowerCase()){if(n.endElement(N.uri,N.localName,k),R)for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&n.endPrefixMapping(D);P||o.fatalError("end tag name: "+k+" is not match the current start tagName:"+N.tagName)}else h.push(N);C++;break;case"?":f&&u(S),C=T(e,S,n);break;case"!":f&&u(S),C=E(e,S,n,o);break;default:f&&u(S);var U=new I,L=h[h.length-1].currentNSMap,C=b(e,S,U,L,s,o),K=U.length;if(!U.closed&&_(e,C,U.tagName,g)&&(U.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),f&&K){for(var M=v(f,{}),B=0;B<K;B++){var j=U[B];u(j.offset),j.locator=v(f,{})}n.locator=M,A(U,n,L)&&h.push(U),n.locator=f}else A(U,n,L)&&h.push(U);i.isHTML(U.uri)&&!U.closed?C=w(e,C,U.tagName,s,n):C++}}catch(e){if(e instanceof m)throw e;o.error("element parse error: "+e),C=-1}C>y?y=C:l(Math.max(S,y)+1)}}function v(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function b(e,t,r,n,o,a){function m(e,t,i){r.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),i)}for(var g,y,v=++t,b=s;;){var A=e.charAt(v);switch(A){case"=":if(b===l)g=e.slice(t,v),b=c;else if(b===u)b=c;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(b===c||b===l)if(b===l&&(a.warning('attribute value must after "="'),g=e.slice(t,v)),t=v+1,(v=e.indexOf(A,t))>0)m(g,y=e.slice(t,v),t-1),b=p;else throw Error("attribute value no end '"+A+"' match");else if(b==d)m(g,y=e.slice(t,v),t),a.warning('attribute "'+g+'" missed start quot('+A+")!!"),t=v+1,b=p;else throw Error('attribute value must after "="');break;case"/":switch(b){case s:r.setTagName(e.slice(t,v));case p:case f:case h:b=h,r.closed=!0;case d:case l:break;case u:r.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),b==s&&r.setTagName(e.slice(t,v)),v;case">":switch(b){case s:r.setTagName(e.slice(t,v));case p:case f:case h:break;case d:case l:"/"===(y=e.slice(t,v)).slice(-1)&&(r.closed=!0,y=y.slice(0,-1));case u:b===u&&(y=g),b==d?(a.warning('attribute "'+y+'" missed quot(")!'),m(g,y,t)):(i.isHTML(n[""])&&y.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),m(y,y,t));break;case c:throw Error("attribute value missed!!")}return v;case"":A=" ";default:if(A<=" ")switch(b){case s:r.setTagName(e.slice(t,v)),b=f;break;case l:g=e.slice(t,v),b=u;break;case d:var y=e.slice(t,v);a.warning('attribute "'+y+'" missed quot(")!!'),m(g,y,t);case p:b=f}else switch(b){case u:r.tagName,i.isHTML(n[""])&&g.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),m(g,g,t),t=v,b=l;break;case p:a.warning('attribute space is required"'+g+'"!!');case f:b=l,t=v;break;case c:b=d,t=v;break;case h:throw Error("elements closed character '/' and '>' must be connected to")}}v++}}function A(e,t,r){for(var n=e.tagName,o=null,a=e.length;a--;){var s=e[a],l=s.qName,u=s.value,c=l.indexOf(":");if(c>0)var d=s.prefix=l.slice(0,c),p=l.slice(c+1),f="xmlns"===d&&p;else p=l,d=null,f="xmlns"===l&&"";s.localName=p,!1!==f&&(null==o&&(o={},S(r,r={})),r[f]=o[f]=u,s.uri=i.XMLNS,t.startPrefixMapping(f,u))}for(var a=e.length;a--;){var d=(s=e[a]).prefix;d&&("xml"===d&&(s.uri=i.XML),"xmlns"!==d&&(s.uri=r[d||""]))}var c=n.indexOf(":");c>0?(d=e.prefix=n.slice(0,c),p=e.localName=n.slice(c+1)):(d=null,p=e.localName=n);var h=e.uri=r[d||""];if(t.startElement(h,p,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=o,!0;if(t.endElement(h,p,n),o)for(d in o)Object.prototype.hasOwnProperty.call(o,d)&&t.endPrefixMapping(d)}function w(e,t,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)||(a=a.replace(/&#?\w+;/g,i)),n.characters(a,0,a.length),o}return t+1}function _(e,t,r,i){var n=i[r];return null==n&&((n=e.lastIndexOf("</"+r+">"))<t&&(n=e.lastIndexOf("</"+r)),i[r]=n),n<t}function S(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function E(e,t,r,i){if("-"===e.charAt(t+2)){if("-"===e.charAt(t+3)){var n=e.indexOf("-->",t+4);if(n>t)return r.comment(e,t+4,n-t-4),n+3;i.error("Unclosed comment")}}else{if("CDATA["==e.substr(t+3,6)){var n=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,n-t-9),r.endCDATA(),n+3}var o=x(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var c=o[a-1];return r.startDTD(s,l,u),r.endDTD(),c.index+c[0].length}}return -1}function T(e,t,r){var i=e.indexOf("?>",t);if(i){var n=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n)return n[0].length,r.processingInstruction(n[1],n[2]),i+2}return -1}function I(){this.attributeNames={}}function x(e,t){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(i.push(r),r[1])return i}m.prototype=Error(),m.prototype.name=m.name,g.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),S(t,t={}),y(e,t,r,i,this.errorHandler),i.endDocument()}},I.prototype={setTagName:function(e){if(!a.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!a.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},r.XMLReader=g,r.ParseError=m},879452,(e,t,r)=>{var i=e.r(144568),n=e.r(984410),o=e.r(608827),a=e.r(750037),s=n.DOMImplementation,l=i.NAMESPACE,u=a.ParseError,c=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function f(e,t,r){if(!e){if(t instanceof h)return t;e=t}var i={},n=e instanceof Function;function o(t){var o=e[t];!o&&n&&(o=2==e.length?function(r){e(t,r)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]	"+e+g(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),i}function h(){this.cdata=!1}function m(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function y(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var r=this.options,i=new c,n=r.domBuilder||new h,a=r.errorHandler,s=r.locator,u=r.xmlns||{},p=/\/x?html?$/.test(t),m=p?o.HTML_ENTITIES:o.XML_ENTITIES;s&&n.setDocumentLocator(s),i.errorHandler=f(a,n,s),i.domBuilder=r.domBuilder||n,p&&(u[""]=l.HTML),u.xml=u.xml||l.XML;var g=r.normalizeLineEndings||d;return e&&"string"==typeof e?i.parse(g(e),u,m):i.errorHandler.error("invalid doc source"),n.doc},h.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,i){var n=this.doc,o=n.createElementNS(e,r||t),a=i.length;v(this,o),this.currentElement=o,this.locator&&m(this.locator,o);for(var s=0;s<a;s++){var e=i.getURI(s),l=i.getValue(s),r=i.getQName(s),u=n.createAttributeNS(e,r);this.locator&&m(i.getLocator(s),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&m(this.locator,r),v(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=y.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else var i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&m(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=y.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&m(this.locator,i),v(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(e,t,r);this.locator&&m(this.locator,n),v(this,n),this.doc.doctype=n}},warning:function(e){console.warn("[xmldom warning]	"+e,g(this.locator))},error:function(e){console.error("[xmldom error]	"+e,g(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){h.prototype[e]=function(){return null}}),r.__DOMHandler=h,r.normalizeLineEndings=d,r.DOMParser=p},528753,(e,t,r)=>{var i=e.r(984410);r.DOMImplementation=i.DOMImplementation,r.XMLSerializer=i.XMLSerializer,r.DOMParser=e.r(879452).DOMParser},360958,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setDOMParserOptions=r.setSchemaValidator=r.getContext=void 0;var i=e.r(528753),n={validate:void 0,dom:new i.DOMParser};r.getContext=function(){return n},r.setSchemaValidator=function(e){if("function"!=typeof e.validate)throw Error("validate must be a callback function having one argument as xml input");n.validate=e.validate},r.setDOMParserOptions=function(e){void 0===e&&(e={}),n.dom=new i.DOMParser(e)}},334865,(e,t,r)=>{"use strict";let i=/[\p{Lu}]/u,n=/[\p{Ll}]/u,o=/^[\p{Lu}](?![\p{Lu}])/gu,a=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,l=RegExp("^"+s.source),u=RegExp(s.source+a.source,"gu"),c=RegExp("\\d+"+a.source,"gu"),d=(e,t,r)=>{let o=!1,a=!1,s=!1;for(let l=0;l<e.length;l++){let u=e[l];o&&i.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),o=!1,s=a,a=!0,l++):a&&s&&n.test(u)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),s=a,a=!1,o=!0):(o=t(u)===u&&r(u)!==u,s=a,a=r(u)===u&&t(u)!==u)}return e},p=(e,t)=>(o.lastIndex=0,e.replace(o,e=>t(e))),f=(e,t)=>(u.lastIndex=0,c.lastIndex=0,e.replace(u,(e,r)=>t(r)).replace(c,e=>t(e))),h=(e,t)=>{if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let r=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),i=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?t.pascalCase?i(e):r(e):(e!==r(e)&&(e=d(e,r,i)),e=e.replace(l,""),e=t.preserveConsecutiveUppercase?p(e,r):r(e),t.pascalCase&&(e=i(e.charAt(0))+e.slice(1)),f(e,i))};t.exports=h,t.exports.default=h},542934,(e,t,r)=>{"use strict";var i=e.e&&e.e.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.extract=r.logoutResponseFields=r.logoutRequestFields=r.loginResponseFields=r.logoutResponseStatusFields=r.loginResponseStatusFields=r.loginRequestFields=void 0;var o=e.r(832365),a=e.r(741530),s=e.r(360958),l=n(e.r(334865));function u(e){return e.reduce(function(e,t){var r=e,i=t.startsWith("~");if(i){var n=t.replace("~","");r=e+"/*[contains(local-name(), '".concat(n,"')]")}return i||(r=e+"/*[local-name(.)='".concat(t,"']")),r},"")}function c(e){if(0===e.length)return"/text()";if(1===e.length)return"/@".concat(e[0]);var t=e.map(function(e){return"name()='".concat(e,"'")}).join(" or ");return"/@*[".concat(t,"]")}r.loginRequestFields=[{key:"request",localPath:["AuthnRequest"],attributes:["ID","IssueInstant","Destination","AssertionConsumerServiceURL"]},{key:"issuer",localPath:["AuthnRequest","Issuer"],attributes:[]},{key:"nameIDPolicy",localPath:["AuthnRequest","NameIDPolicy"],attributes:["Format","AllowCreate"]},{key:"authnContextClassRef",localPath:["AuthnRequest","AuthnContextClassRef"],attributes:[]},{key:"signature",localPath:["AuthnRequest","Signature"],attributes:[],context:!0}],r.loginResponseStatusFields=[{key:"top",localPath:["Response","Status","StatusCode"],attributes:["Value"]},{key:"second",localPath:["Response","Status","StatusCode","StatusCode"],attributes:["Value"]}],r.logoutResponseStatusFields=[{key:"top",localPath:["LogoutResponse","Status","StatusCode"],attributes:["Value"]},{key:"second",localPath:["LogoutResponse","Status","StatusCode","StatusCode"],attributes:["Value"]}],r.loginResponseFields=function(e){return[{key:"conditions",localPath:["Assertion","Conditions"],attributes:["NotBefore","NotOnOrAfter"],shortcut:e},{key:"response",localPath:["Response"],attributes:["ID","IssueInstant","Destination","InResponseTo"]},{key:"audience",localPath:["Assertion","Conditions","AudienceRestriction","Audience"],attributes:[],shortcut:e},{key:"issuer",localPath:["Assertion","Issuer"],attributes:[],shortcut:e},{key:"nameID",localPath:["Assertion","Subject","NameID"],attributes:[],shortcut:e},{key:"sessionIndex",localPath:["Assertion","AuthnStatement"],attributes:["AuthnInstant","SessionNotOnOrAfter","SessionIndex"],shortcut:e},{key:"attributes",localPath:["Assertion","AttributeStatement","Attribute"],index:["Name"],attributePath:["AttributeValue"],attributes:[],shortcut:e}]},r.logoutRequestFields=[{key:"request",localPath:["LogoutRequest"],attributes:["ID","IssueInstant","Destination"]},{key:"issuer",localPath:["LogoutRequest","Issuer"],attributes:[]},{key:"nameID",localPath:["LogoutRequest","NameID"],attributes:[]},{key:"sessionIndex",localPath:["LogoutRequest","SessionIndex"],attributes:[]},{key:"signature",localPath:["LogoutRequest","Signature"],attributes:[],context:!0}],r.logoutResponseFields=[{key:"response",localPath:["LogoutResponse"],attributes:["ID","Destination","InResponseTo"]},{key:"issuer",localPath:["LogoutResponse","Issuer"],attributes:[]},{key:"signature",localPath:["LogoutResponse","Signature"],attributes:[],context:!0}],r.extract=function(e,t){var r=(0,s.getContext)().dom,n=r.parseFromString(e);return t.reduce(function(e,t){var s,d,p,f,h,m,g=t.key,y=t.localPath,v=t.attributes,b=t.context,A=t.shortcut,w=t.index,_=t.attributePath,S=n;if(A&&(S=r.parseFromString(A)),y.every(function(e){return Array.isArray(e)})){var E=y.map(function(e){return"".concat(u(e),"/text()")}).join(" | ");return i(i({},e),((s={})[g]=(0,a.uniq)((0,o.select)(E,S).map(function(e){return e.nodeValue}).filter(a.notEmpty)),s))}var T=u(y),I=c(v);if(w&&_){var x=c(w),O="".concat(T).concat(x),C=(0,o.select)(T,S),k=(0,o.select)(O,S).map(function(e){return e.value}),N=u([(0,a.last)(y)].concat(_)),R=c(v),P="".concat(N).concat(R),D=C.map(function(e){var t=r.parseFromString(e.toString());if(0===v.length){var i=(0,o.select)(P,t).map(function(e){return e.nodeValue});return 1===i.length?i[0]:i}if(v.length>0){var i=(0,o.select)(P,t).map(function(e){return e.value});return 1===i.length?i[0]:i}return null}),U=(0,a.zipObject)(k,D,!1);return i(i({},e),((d={})[g]=U,d))}if(b){var L=(0,o.select)(T,S),K=null;return 1===L.length&&(K=L[0].toString()),L.length>1&&(K=L.map(function(e){return e.toString()})),i(i({},e),((p={})[g]=K,p))}if(v.length>1){var M=(0,o.select)(T,S).map(function(e){return e.toString()}),B="".concat(u([(0,a.last)(y)])).concat(I),j=M.map(function(e){var t=r.parseFromString(e);return(0,o.select)(B,t).reduce(function(e,t){return e[(0,l.default)(t.name,{locale:"en-us"})]=t.value,e},{})});return i(i({},e),((f={})[g]=1===j.length?j[0]:j,f))}if(1===v.length){var $="".concat(T).concat(I),j=(0,o.select)($,S).map(function(e){return e.value});return i(i({},e),((h={})[g]=j[0],h))}if(0===v.length){var z=null,L=(0,o.select)(T,S);if(1===L.length){var $="string(".concat(T).concat(I,")");z=(0,o.select)($,S)}return L.length>1&&(z=L.filter(function(e){return e.firstChild}).map(function(e){return e.firstChild.nodeValue})),i(i({},e),((m={})[g]=z,m))}return e},{})}},295769,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});var a=o(e.r(522734)),s=e.r(809849),l=e.r(542934),u=e.r(741530);r.default=function(){function e(e,t){void 0===t&&(t=[]),this.xmlString=e.toString(),this.meta=(0,l.extract)(this.xmlString,t.concat([{key:"entityDescriptor",localPath:["EntityDescriptor"],attributes:[],context:!0},{key:"entityID",localPath:["EntityDescriptor"],attributes:["entityID"]},{key:"sharedCertificate",localPath:["EntityDescriptor","~SSODescriptor","KeyDescriptor","KeyInfo","X509Data","X509Certificate"],attributes:[]},{key:"certificate",localPath:["EntityDescriptor","~SSODescriptor","KeyDescriptor"],index:["use"],attributePath:["KeyInfo","X509Data","X509Certificate"],attributes:[]},{key:"singleLogoutService",localPath:["EntityDescriptor","~SSODescriptor","SingleLogoutService"],attributes:["Binding","Location"]},{key:"nameIDFormat",localPath:["EntityDescriptor","~SSODescriptor","NameIDFormat"],attributes:[]}]));var r=this.meta.sharedCertificate;if("string"==typeof r&&(this.meta.certificate={signing:r,encryption:r},delete this.meta.sharedCertificate),Array.isArray(this.meta.entityDescriptor)&&this.meta.entityDescriptor.length>1)throw Error("ERR_MULTIPLE_METADATA_ENTITYDESCRIPTOR")}return e.prototype.getMetadata=function(){return this.xmlString},e.prototype.exportMetadata=function(e){a.writeFileSync(e,this.xmlString)},e.prototype.getEntityID=function(){return this.meta.entityID},e.prototype.getX509Certificate=function(e){return this.meta.certificate[e]||null},e.prototype.getNameIDFormat=function(){return this.meta.nameIDFormat},e.prototype.getSingleLogoutService=function(e){if(e&&(0,u.isString)(e)){var t=s.namespace.binding[e],r=this.meta.singleLogoutService;r instanceof Array||(r=[r]);var i=r.find(function(e){return e.binding===t});if(i)return i.location}return this.meta.singleLogoutService},e.prototype.getSupportBindings=function(e){var t=[];return e&&(t=e.reduce(function(e,t){var r=Object.keys(t)[0];return e.push(r)},[])),t},e}()},405675,(e,t,r)=>{e.r(254799),t.exports.linebrk=function(e,t){for(var r="",i=0;i+t<e.length;)r+=e.substring(i,i+t)+"\n",i+=t;return r+e.substring(i,e.length)},t.exports.detectEnvironment=function(){return"node"},t.exports.get32IntFromBuffer=function(e,t){t=t||0;var r=0;if(!((r=e.length-t)>0))return NaN;if(r>=4)return e.readUIntBE(t,r);for(var i=0,n=t+r,o=0;n>t;n--,o+=2)i+=e[n-1]*Math.pow(16,o);return i},t.exports._={isObject:function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)},omit:function(e,t){var r={};for(var i in e)e.hasOwnProperty(i)&&i!==t&&(r[i]=e[i]);return r}},t.exports.trimSurroundingText=function(e,t,r){var i=0,n=e.length,o=e.indexOf(t);o>=0&&(i=o+t.length);var a=e.indexOf(r,o);return a>=0&&(n=a),e.substring(i,n)}},891895,(e,t,r)=>{var i,n,o,a=e.r(254799),s=e.r(405675)._;function l(e,t){null!=e&&("number"==typeof e?this.fromNumber(e,t):Buffer.isBuffer(e)?this.fromBuffer(e):null==t&&"string"!=typeof e?this.fromByteArray(e):this.fromString(e,t))}function u(){return new l(null)}function c(e,t,r,i,n,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*a;n=((l=a*l+((16383&c)<<14)+r[i]+n)>>28)+(c>>14)+s*u,r[i++]=0xfffffff&l}return n}l.prototype.am=c,i=28,l.prototype.DB=i,l.prototype.DM=(1<<i)-1,l.prototype.DV=1<<i;var d=52;l.prototype.FV=Math.pow(2,d),l.prototype.F1=d-i,l.prototype.F2=2*i-d;var p="0123456789abcdefghijklmnopqrstuvwxyz",f=[];for(o=0,n=48;o<=9;++o)f[n++]=o;for(o=10,n=97;o<36;++o)f[n++]=o;for(o=10,n=65;o<36;++o)f[n++]=o;function h(e){return p.charAt(e)}function m(e,t){var r=f[e.charCodeAt(t)];return null==r?-1:r}function g(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function y(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function v(e){var t=u();return t.fromInt(e),t}function b(e,t,r){switch(t){case 2:i=1;break;case 4:i=2;break;case 8:i=3;break;case 16:i=4;break;case 32:i=5;break;case 256:i=8;break;default:this.fromRadix(e,t);return}this.t=0,this.s=0;for(var i,n=e.length,o=!1,a=0;--n>=0;){var s=8==i?255&e[n]:m(e,n);if(s<0){"-"==e.charAt(n)&&(o=!0);continue}o=!1,0===a?this[this.t++]=s:a+i>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=i)>=this.DB&&(a-=this.DB)}!r&&8==i&&(128&e[0])!=0&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&l.ZERO.subTo(this,this)}function A(e,t){this.fromString(e,256,t)}function w(e){this.fromString(e,256,!0)}function _(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function S(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var t,r,i=(1<<t)-1,n=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(n=!0,o=h(r));a>=0;)s<t?r=(this[a]&(1<<s)-1)<<t-s|this[--a]>>(s+=this.DB-t):(r=this[a]>>(s-=t)&i,s<=0&&(s+=this.DB,--a)),r>0&&(n=!0),n&&(o+=h(r));return n?o:"0"}function E(){var e=u();return l.ZERO.subTo(this,e),e}function T(){return this.s<0?this.negate():this}function I(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0}function x(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function O(){return this.t<=0?0:this.DB*(this.t-1)+x(this[this.t-1]^this.s&this.DM)}function C(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function k(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function N(e,t){var r,i=e%this.DB,n=this.DB-i,o=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>n|s,s=(this[r]&o)<<i;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function R(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var i=e%this.DB,n=this.DB-i,o=(1<<i)-1;t[0]=this[r]>>i;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<n,t[a-r]=this[a]>>i;i>0&&(t[this.t-r-1]|=(this.s&o)<<n),t.t=this.t-r,t.clamp()}function P(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]-e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e[r],t[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i),t.t=r,t.clamp()}function D(e,t){var r=this.abs(),i=e.abs(),n=r.t;for(t.t=n+i.t;--n>=0;)t[n]=0;for(n=0;n<i.t;++n)t[n+r.t]=r.am(0,i[n],t,n,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&l.ZERO.subTo(t,t)}function U(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function L(e,t,r){var i=e.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){null!=t&&t.fromInt(0),null!=r&&this.copyTo(r);return}null==r&&(r=u());var o=u(),a=this.s,s=e.s,c=this.DB-x(i[i.t-1]);c>0?(i.lShiftTo(c,o),n.lShiftTo(c,r)):(i.copyTo(o),n.copyTo(r));var d=o.t,p=o[d-1];if(0!==p){var f=p*(1<<this.F1)+(d>1?o[d-2]>>this.F2:0),h=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,y=r.t,v=y-d,b=null==t?u():t;for(o.dlShiftTo(v,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),l.ONE.dlShiftTo(d,b),b.subTo(o,o);o.t<d;)o[o.t++]=0;for(;--v>=0;){var A=r[--y]==p?this.DM:Math.floor(r[y]*h+(r[y-1]+g)*m);if((r[y]+=o.am(0,A,r,v,0,d))<A)for(o.dlShiftTo(v,b),r.subTo(b,r);r[y]<--A;)r.subTo(b,r)}null!=t&&(r.drShiftTo(d,t),a!=s&&l.ZERO.subTo(t,t)),r.t=d,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&l.ZERO.subTo(r,r)}}}function K(e){var t=u();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(l.ZERO)>0&&e.subTo(t,t),t}function M(e){this.m=e}function B(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function j(e){return e}function $(e){e.divRemTo(this.m,null,e)}function z(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function F(e,t){e.squareTo(t),this.reduce(t)}function q(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function V(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H(e){var t=u();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(l.ZERO)>0&&this.m.subTo(t,t),t}function G(e){var t=u();return e.copyTo(t),this.reduce(t),t}function W(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],i=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,i,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Z(e,t){e.squareTo(t),this.reduce(t)}function J(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Q(){return(this.t>0?1&this[0]:this.s)===0}function Y(e,t){if(e>0xffffffff||e<1)return l.ONE;var r=u(),i=u(),n=t.convert(this),o=x(e)-1;for(n.copyTo(r);--o>=0;)if(t.sqrTo(r,i),(e&1<<o)>0)t.mulTo(i,n,r);else{var a=r;r=i,i=a}return t.revert(r)}function X(e,t){var r;return r=e<256||t.isEven()?new M(t):new V(t),this.exp(e,r)}function ee(){var e=u();return this.copyTo(e),e}function et(){if(this.s<0){if(1==this.t)return this[0]-this.DV;else if(0===this.t)return -1}else if(1==this.t)return this[0];else if(0===this.t)return 0;return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function er(){return 0==this.t?this.s:this[0]<<24>>24}function ei(){return 0==this.t?this.s:this[0]<<16>>16}function en(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function eo(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ea(e){if(null==e&&(e=10),0===this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=v(r),n=u(),o=u(),a="";for(this.divRemTo(i,n,o);n.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,n.divRemTo(i,n,o);return o.intValue().toString(e)+a}function es(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),n=!1,o=0,a=0,s=0;s<e.length;++s){var u=m(e,s);if(u<0){"-"==e.charAt(s)&&0===this.signum()&&(n=!0);continue}a=t*a+u,++o>=r&&(this.dMultiply(i),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),n&&l.ZERO.subTo(this,this)}function el(e,t){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e),this.testBit(e-1)||this.bitwiseTo(l.ONE.shiftLeft(e-1),ey,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(l.ONE.shiftLeft(e-1),this);else{var r=a.randomBytes((e>>3)+1),i=7&e;i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromByteArray(r)}}function eu(){var e=this.t,t=[];t[0]=this.s;var r,i=this.DB-e*this.DB%8,n=0;if(e-- >0)for(i<this.DB&&(r=this[e]>>i)!=(this.s&this.DM)>>i&&(t[n++]=r|this.s<<this.DB-i);e>=0;)i<8?r=(this[e]&(1<<i)-1)<<8-i|this[--e]>>(i+=this.DB-8):(r=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),(128&r)!=0&&(r|=-256),0===n&&(128&this.s)!=(128&r)&&++n,(n>0||r!=this.s)&&(t[n++]=r);return t}function ec(e){var t=Buffer.from(this.toByteArray());if(!0===e&&0===t[0])t=t.slice(1);else if(s.isNumber(e)){if(t.length>e){for(var r=0;r<t.length-e;r++)if(0!==t[r])return null;return t.slice(t.length-e)}else if(t.length<e){var i=Buffer.alloc(e);return i.fill(0,0,e-t.length),t.copy(i,e-t.length),i}}return t}function ed(e){return 0==this.compareTo(e)}function ep(e){return 0>this.compareTo(e)?this:e}function ef(e){return this.compareTo(e)>0?this:e}function eh(e,t,r){var i,n,o=Math.min(e.t,this.t);for(i=0;i<o;++i)r[i]=t(this[i],e[i]);if(e.t<this.t){for(n=e.s&this.DM,i=o;i<this.t;++i)r[i]=t(this[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=o;i<e.t;++i)r[i]=t(n,e[i]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function em(e,t){return e&t}function eg(e){var t=u();return this.bitwiseTo(e,em,t),t}function ey(e,t){return e|t}function ev(e){var t=u();return this.bitwiseTo(e,ey,t),t}function eb(e,t){return e^t}function eA(e){var t=u();return this.bitwiseTo(e,eb,t),t}function ew(e,t){return e&~t}function e_(e){var t=u();return this.bitwiseTo(e,ew,t),t}function eS(){for(var e=u(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function eE(e){var t=u();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function eT(e){var t=u();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function eI(e){if(0===e)return -1;var t=0;return(65535&e)==0&&(e>>=16,t+=16),(255&e)==0&&(e>>=8,t+=8),(15&e)==0&&(e>>=4,t+=4),(3&e)==0&&(e>>=2,t+=2),(1&e)==0&&++t,t}function ex(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+eI(this[e]);return this.s<0?this.t*this.DB:-1}function eO(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function eC(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=eO(this[r]^t);return e}function ek(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:(this[t]&1<<e%this.DB)!=0}function eN(e,t){var r=l.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function eR(e){return this.changeBit(e,ey)}function eP(e){return this.changeBit(e,ew)}function eD(e){return this.changeBit(e,eb)}function eU(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]+e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i+=e[r],t[r++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i),t.t=r,t.clamp()}function eL(e){var t=u();return this.addTo(e,t),t}function eK(e){var t=u();return this.subTo(e,t),t}function eM(e){var t=u();return this.multiplyTo(e,t),t}function eB(){var e=u();return this.squareTo(e),e}function ej(e){var t=u();return this.divRemTo(e,t,null),t}function e$(e){var t=u();return this.divRemTo(e,null,t),t}function ez(e){var t=u(),r=u();return this.divRemTo(e,t,r),[t,r]}function eF(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function eq(e,t){if(0!==e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function eV(){}function eH(e){return e}function eG(e,t,r){e.multiplyTo(t,r)}function eW(e,t){e.squareTo(t)}function eZ(e){return this.exp(e,new eV)}function eJ(e,t,r){var i,n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()}function eQ(e,t,r){--t;var i=r.t=this.t+e.t-t;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)r[this.t+i-t]=this.am(t-i,e[i],r,0,0,this.t+i-t);r.clamp(),r.drShiftTo(1,r)}function eY(e){this.r2=u(),this.q3=u(),l.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function eX(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(0>e.compareTo(this.m))return e;var t=u();return e.copyTo(t),this.reduce(t),t}function e0(e){return e}function e1(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>e.compareTo(this.r2);)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function e2(e,t){e.squareTo(t),this.reduce(t)}function e4(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function e3(e,t){var r,i,n=e.bitLength(),o=v(1);if(n<=0)return o;r=n<18?1:n<48?3:n<144?4:n<768?5:6,i=n<8?new M(t):t.isEven()?new eY(t):new V(t);var a=[],s=3,l=r-1,c=(1<<r)-1;if(a[1]=i.convert(this),r>1){var d=u();for(i.sqrTo(a[1],d);s<=c;)a[s]=u(),i.mulTo(d,a[s-2],a[s]),s+=2}var p,f,h=e.t-1,m=!0,g=u();for(n=x(e[h])-1;h>=0;){for(n>=l?p=e[h]>>n-l&c:(p=(e[h]&(1<<n+1)-1)<<l-n,h>0&&(p|=e[h-1]>>this.DB+n-l)),s=r;(1&p)==0;)p>>=1,--s;if((n-=s)<0&&(n+=this.DB,--h),m)a[p].copyTo(o),m=!1;else{for(;s>1;)i.sqrTo(o,g),i.sqrTo(g,o),s-=2;s>0?i.sqrTo(o,g):(f=o,o=g,g=f),i.mulTo(g,a[p],o)}for(;h>=0&&(e[h]&1<<n)==0;)i.sqrTo(o,g),f=o,o=g,g=f,--n<0&&(n=this.DB-1,--h)}return i.revert(o)}function e5(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(0>t.compareTo(r)){var i=t;t=r,r=i}var n=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(n<o&&(o=n),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function e6(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0===t)r=this[0]%e;else for(var i=this.t-1;i>=0;--i)r=(t*r+this[i])%e;return r}function e8(e){var t=e.isEven();if(this.isEven()&&t||0===e.signum())return l.ZERO;for(var r=e.clone(),i=this.clone(),n=v(1),o=v(0),a=v(0),s=v(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(n.isEven()&&o.isEven()||(n.addTo(this,n),o.subTo(e,o)),n.rShiftTo(1,n)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(i)>=0?(r.subTo(i,r),t&&n.subTo(a,n),o.subTo(s,o)):(i.subTo(r,i),t&&a.subTo(n,a),s.subTo(o,s))}return 0!=i.compareTo(l.ONE)?l.ZERO:s.compareTo(e)>=0?s.subtract(e):0>s.signum()&&(s.addTo(e,s),0>s.signum())?s.add(e):s}M.prototype.convert=B,M.prototype.revert=j,M.prototype.reduce=$,M.prototype.mulTo=z,M.prototype.sqrTo=F,V.prototype.convert=H,V.prototype.revert=G,V.prototype.reduce=W,V.prototype.mulTo=J,V.prototype.sqrTo=Z,eV.prototype.convert=eH,eV.prototype.revert=eH,eV.prototype.mulTo=eG,eV.prototype.sqrTo=eW,eY.prototype.convert=eX,eY.prototype.revert=e0,eY.prototype.reduce=e1,eY.prototype.mulTo=e4,eY.prototype.sqrTo=e2;var e9=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],e7=0x4000000/e9[e9.length-1];function te(e){var t,r=this.abs();if(1==r.t&&r[0]<=e9[e9.length-1]){for(t=0;t<e9.length;++t)if(r[0]==e9[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<e9.length;){for(var i=e9[t],n=t+1;n<e9.length&&i<e7;)i*=e9[n++];for(i=r.modInt(i);t<n;)if(i%e9[t++]==0)return!1}return r.millerRabin(e)}function tt(e){var t=this.subtract(l.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var i=t.shiftRight(r);(e=e+1>>1)>e9.length&&(e=e9.length);for(var n=u(),o=0;o<e;++o){n.fromInt(e9[Math.floor(Math.random()*e9.length)]);var a=n.modPow(i,this);if(0!=a.compareTo(l.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<r&&0!=a.compareTo(t);)if(0===(a=a.modPowInt(2,this)).compareTo(l.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0}l.prototype.copyTo=g,l.prototype.fromInt=y,l.prototype.fromString=b,l.prototype.fromByteArray=A,l.prototype.fromBuffer=w,l.prototype.clamp=_,l.prototype.dlShiftTo=C,l.prototype.drShiftTo=k,l.prototype.lShiftTo=N,l.prototype.rShiftTo=R,l.prototype.subTo=P,l.prototype.multiplyTo=D,l.prototype.squareTo=U,l.prototype.divRemTo=L,l.prototype.invDigit=q,l.prototype.isEven=Q,l.prototype.exp=Y,l.prototype.chunkSize=en,l.prototype.toRadix=ea,l.prototype.fromRadix=es,l.prototype.fromNumber=el,l.prototype.bitwiseTo=eh,l.prototype.changeBit=eN,l.prototype.addTo=eU,l.prototype.dMultiply=eF,l.prototype.dAddOffset=eq,l.prototype.multiplyLowerTo=eJ,l.prototype.multiplyUpperTo=eQ,l.prototype.modInt=e6,l.prototype.millerRabin=tt,l.prototype.toString=S,l.prototype.negate=E,l.prototype.abs=T,l.prototype.compareTo=I,l.prototype.bitLength=O,l.prototype.mod=K,l.prototype.modPowInt=X,l.prototype.clone=ee,l.prototype.intValue=et,l.prototype.byteValue=er,l.prototype.shortValue=ei,l.prototype.signum=eo,l.prototype.toByteArray=eu,l.prototype.toBuffer=ec,l.prototype.equals=ed,l.prototype.min=ep,l.prototype.max=ef,l.prototype.and=eg,l.prototype.or=ev,l.prototype.xor=eA,l.prototype.andNot=e_,l.prototype.not=eS,l.prototype.shiftLeft=eE,l.prototype.shiftRight=eT,l.prototype.getLowestSetBit=ex,l.prototype.bitCount=eC,l.prototype.testBit=ek,l.prototype.setBit=eR,l.prototype.clearBit=eP,l.prototype.flipBit=eD,l.prototype.add=eL,l.prototype.subtract=eK,l.prototype.multiply=eM,l.prototype.divide=ej,l.prototype.remainder=e$,l.prototype.divideAndRemainder=ez,l.prototype.modPow=e3,l.prototype.modInverse=e8,l.prototype.pow=eZ,l.prototype.gcd=e5,l.prototype.isProbablePrime=te,l.int2char=h,l.ZERO=v(0),l.ONE=v(1),l.prototype.square=eB,t.exports=l},648455,(e,t,r)=>{var i=e.r(891895),n=e.r(254799),o=e.r(612249),a={md2:Buffer.from("3020300c06082a864886f70d020205000410","hex"),md5:Buffer.from("3020300c06082a864886f70d020505000410","hex"),sha1:Buffer.from("3021300906052b0e03021a05000414","hex"),sha224:Buffer.from("302d300d06096086480165030402040500041c","hex"),sha256:Buffer.from("3031300d060960864801650304020105000420","hex"),sha384:Buffer.from("3041300d060960864801650304020205000430","hex"),sha512:Buffer.from("3051300d060960864801650304020305000440","hex"),ripemd160:Buffer.from("3021300906052b2403020105000414","hex"),rmd160:Buffer.from("3021300906052b2403020105000414","hex")},s={ripemd160:"rmd160"},l="sha256";t.exports={isEncryption:!0,isSignature:!0},t.exports.makeScheme=function(e,t){function r(e,t){this.key=e,this.options=t}return r.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==o.RSA_NO_PADDING?this.key.encryptedDataLength:this.key.encryptedDataLength-11},r.prototype.encPad=function(e,t){if(t=t||{},e.length>this.key.maxMessageLength)throw Error("Message too long for RSA (n="+this.key.encryptedDataLength+", l="+e.length+")");if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==o.RSA_NO_PADDING)return(r=Buffer.alloc(this.key.maxMessageLength-e.length)).fill(0),Buffer.concat([r,e]);if(1===t.type)return(r=Buffer.alloc(this.key.encryptedDataLength-e.length-1)).fill(255,0,r.length-1),r[0]=1,r[r.length-1]=0,Buffer.concat([r,e]);(r=Buffer.alloc(this.key.encryptedDataLength-e.length))[0]=0,r[1]=2;for(var r,i=n.randomBytes(r.length-3),a=0;a<i.length;a++){for(var s=i[a];0===s;)s=n.randomBytes(1)[0];r[a+2]=s}return r[r.length-1]=0,Buffer.concat([r,e])},r.prototype.encUnPad=function(e,t){t=t||{};var r=0;if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==o.RSA_NO_PADDING)return"function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length);if(e.length<4)return null;if(1===t.type){if(0!==e[0]||1!==e[1])return null;for(r=3;0!==e[r];)if(255!=e[r]||++r>=e.length)return null}else{if(0!==e[0]||2!==e[1])return null;for(r=3;0!==e[r];)if(++r>=e.length)return null}return e.slice(r+1,e.length)},r.prototype.sign=function(e){var t=this.options.signingSchemeOptions.hash||l;if("browser"===this.options.environment){t=s[t]||t;var r=n.createHash(t);r.update(e);var o=this.pkcs1pad(r.digest(),t);return this.key.$doPrivate(new i(o)).toBuffer(this.key.encryptedDataLength)}var a=n.createSign("RSA-"+t.toUpperCase());return a.update(e),a.sign(this.options.rsaUtils.exportKey("private"))},r.prototype.verify=function(e,t,r){if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==o.RSA_NO_PADDING)return!1;var a=this.options.signingSchemeOptions.hash||l;if("browser"===this.options.environment){a=s[a]||a,r&&(t=Buffer.from(t,r));var u=n.createHash(a);u.update(e);var c=this.pkcs1pad(u.digest(),a);return this.key.$doPublic(new i(t)).toBuffer().toString("hex")==c.toString("hex")}var d=n.createVerify("RSA-"+a.toUpperCase());return d.update(e),d.verify(this.options.rsaUtils.exportKey("public"),t,r)},r.prototype.pkcs0pad=function(e){var t=Buffer.alloc(this.key.maxMessageLength-e.length);return t.fill(0),Buffer.concat([t,e])},r.prototype.pkcs0unpad=function(e){return"function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length)},r.prototype.pkcs1pad=function(e,t){var r=a[t];if(!r)throw Error("Unsupported hash algorithm");var i=Buffer.concat([r,e]);if(i.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+t+")");var n=Buffer.alloc(this.key.encryptedDataLength-i.length-1);return n.fill(255,0,n.length-1),n[0]=1,n[n.length-1]=0,Buffer.concat([n,i])},new r(e,t)}},375303,(e,t,r)=>{e.r(891895);var i=e.r(254799);t.exports={isEncryption:!0,isSignature:!1},t.exports.digestLength={md4:16,md5:16,ripemd160:20,rmd160:20,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64};var n="sha1";t.exports.eme_oaep_mgf1=function(e,r,o){o=o||n;for(var a=t.exports.digestLength[o],s=Math.ceil(r/a),l=Buffer.alloc(a*s),u=Buffer.alloc(4),c=0;c<s;++c){var d=i.createHash(o);d.update(e),u.writeUInt32BE(c,0),d.update(u),d.digest().copy(l,c*a)}return l.slice(0,r)},t.exports.makeScheme=function(e,r){function o(e,t){this.key=e,this.options=t}return o.prototype.maxMessageLength=function(){return this.key.encryptedDataLength-2*t.exports.digestLength[this.options.encryptionSchemeOptions.hash||n]-2},o.prototype.encPad=function(e){var r=this.options.encryptionSchemeOptions.hash||n,o=this.options.encryptionSchemeOptions.mgf||t.exports.eme_oaep_mgf1,a=this.options.encryptionSchemeOptions.label||Buffer.alloc(0),s=this.key.encryptedDataLength,l=t.exports.digestLength[r];if(e.length>s-2*l-2)throw Error("Message is too long to encode into an encoded message with a length of "+s+" bytes, increaseemLen to fix this error (minimum value for given parameters and options: "+(s-2*l-2)+")");var u=i.createHash(r);u.update(a),u=u.digest();var c=Buffer.alloc(s-e.length-2*l-1);c.fill(0),c[c.length-1]=1;for(var d=Buffer.concat([u,c,e]),p=i.randomBytes(l),f=o(p,d.length,r),h=0;h<d.length;h++)d[h]^=f[h];for(h=0,f=o(d,l,r);h<p.length;h++)p[h]^=f[h];var m=Buffer.alloc(1+p.length+d.length);return m[0]=0,p.copy(m,1),d.copy(m,1+p.length),m},o.prototype.encUnPad=function(e){var r=this.options.encryptionSchemeOptions.hash||n,o=this.options.encryptionSchemeOptions.mgf||t.exports.eme_oaep_mgf1,a=this.options.encryptionSchemeOptions.label||Buffer.alloc(0),s=t.exports.digestLength[r];if(e.length<2*s+2)throw Error("Error decoding message, the supplied message is not long enough to be a valid OAEP encoded message");for(var l=e.slice(1,s+1),u=e.slice(1+s),c=o(u,s,r),d=0;d<l.length;d++)l[d]^=c[d];for(d=0,c=o(l,u.length,r);d<u.length;d++)u[d]^=c[d];var p=i.createHash(r);if(p.update(a),p=p.digest(),u.slice(0,s).toString("hex")!=p.toString("hex"))throw Error("Error decoding message, the lHash calculated from the label provided and the lHash in the encrypted data do not match.");for(d=s;0===u[d++]&&d<u.length;);if(1!=u[d-1])throw Error("Error decoding message, there is no padding message separator byte");return u.slice(d)},new o(e,r)}},308507,(e,t,r)=>{var i=e.r(891895),n=e.r(254799);t.exports={isEncryption:!1,isSignature:!0};var o="sha1",a=20;t.exports.makeScheme=function(t,r){var s=e.r(708662).pkcs1_oaep;function l(e,t){this.key=e,this.options=t}return l.prototype.sign=function(e){var t=n.createHash(this.options.signingSchemeOptions.hash||o);t.update(e);var r=this.emsa_pss_encode(t.digest(),this.key.keySize-1);return this.key.$doPrivate(new i(r)).toBuffer(this.key.encryptedDataLength)},l.prototype.verify=function(e,t,r){r&&(t=Buffer.from(t,r)),t=new i(t);var a=Math.ceil((this.key.keySize-1)/8),s=this.key.$doPublic(t).toBuffer(a),l=n.createHash(this.options.signingSchemeOptions.hash||o);return l.update(e),this.emsa_pss_verify(l.digest(),s,this.key.keySize-1)},l.prototype.emsa_pss_encode=function(e,t){var r=this.options.signingSchemeOptions.hash||o,i=this.options.signingSchemeOptions.mgf||s.eme_oaep_mgf1,l=this.options.signingSchemeOptions.saltLength||a,u=s.digestLength[r],c=Math.ceil(t/8);if(c<u+l+2)throw Error("Output length passed to emBits("+t+") is too small for the options specified("+r+", "+l+"). To fix this issue increase the value of emBits. (minimum size: "+(8*u+8*l+9)+")");var d=n.randomBytes(l),p=Buffer.alloc(8+u+l);p.fill(0,0,8),e.copy(p,8),d.copy(p,8+e.length);var f=n.createHash(r);f.update(p),f=f.digest();var h=Buffer.alloc(c-d.length-u-2);h.fill(0);var m=Buffer.alloc(h.length+1+d.length);h.copy(m),m[h.length]=1,d.copy(m,h.length+1);for(var g=i(f,m.length,r),y=Buffer.alloc(m.length),v=0;v<g.length;v++)y[v]=m[v]^g[v];var b=8*c-t,A=255^255>>8-b<<8-b;y[0]=y[0]&A;var w=Buffer.alloc(y.length+f.length+1);return y.copy(w,0),f.copy(w,y.length),w[w.length-1]=188,w},l.prototype.emsa_pss_verify=function(e,t,r){var i=this.options.signingSchemeOptions.hash||o,l=this.options.signingSchemeOptions.mgf||s.eme_oaep_mgf1,u=this.options.signingSchemeOptions.saltLength||a,c=s.digestLength[i],d=Math.ceil(r/8);if(d<c+u+2||188!=t[t.length-1])return!1;var p=Buffer.alloc(d-c-1);t.copy(p,0,0,d-c-1);for(var f=0,h=0,m=8*d-r;h<m;h++)f|=1<<7-h;if((p[0]&f)!=0)return!1;var g=t.slice(d-c-1,d-1),y=l(g,p.length,i);for(h=0;h<p.length;h++)p[h]^=y[h];for(h=0,f=255^255>>8-(m=8*d-r)<<8-m,p[0]=p[0]&f;0===p[h]&&h<p.length;h++);if(1!=p[h])return!1;var v=p.slice(p.length-u),b=Buffer.alloc(8+c+u);b.fill(0,0,8),e.copy(b,8),v.copy(b,8+e.length);var A=n.createHash(i);return A.update(b),A=A.digest(),g.toString("hex")===A.toString("hex")},new l(t,r)}},708662,(e,t,r)=>{t.exports={pkcs1:e.r(648455),pkcs1_oaep:e.r(375303),pss:e.r(308507),isEncryption:function(e){return t.exports[e]&&t.exports[e].isEncryption},isSignature:function(e){return t.exports[e]&&t.exports[e].isSignature}}},122446,(e,t,r)=>{var i=e.r(891895),n=e.r(708662);t.exports=function(e,t){var r=n.pkcs1.makeScheme(e,t);return{encrypt:function(t,n){var o,a;return n?(o=new i(r.encPad(t,{type:1})),a=e.$doPrivate(o)):(o=new i(e.encryptionScheme.encPad(t)),a=e.$doPublic(o)),a.toBuffer(e.encryptedDataLength)},decrypt:function(t,n){var o,a=new i(t);return n?(o=e.$doPublic(a),r.encUnPad(o.toBuffer(e.encryptedDataLength),{type:1})):(o=e.$doPrivate(a),e.encryptionScheme.encUnPad(o.toBuffer(e.encryptedDataLength)))}}}},875087,(e,t,r)=>{var i=e.r(254799),n=e.r(612249),o=e.r(708662);t.exports=function(t,r){var a=e.r(122446)(t,r),s=o.pkcs1.makeScheme(t,r);return{encrypt:function(e,t){if(t)return a.encrypt(e,t);var o=n.RSA_PKCS1_OAEP_PADDING;"pkcs1"===r.encryptionScheme&&(o=n.RSA_PKCS1_PADDING),r.encryptionSchemeOptions&&r.encryptionSchemeOptions.padding&&(o=r.encryptionSchemeOptions.padding);var l=e;return o===n.RSA_NO_PADDING&&(l=s.pkcs0pad(e)),i.publicEncrypt({key:r.rsaUtils.exportKey("public"),padding:o},l)},decrypt:function(e,t){if(t)return a.decrypt(e,t);var o=n.RSA_PKCS1_OAEP_PADDING;"pkcs1"===r.encryptionScheme&&(o=n.RSA_PKCS1_PADDING),r.encryptionSchemeOptions&&r.encryptionSchemeOptions.padding&&(o=r.encryptionSchemeOptions.padding);var l=i.privateDecrypt({key:r.rsaUtils.exportKey("private"),padding:o},e);return o===n.RSA_NO_PADDING?s.pkcs0unpad(l):l}}}},907369,(e,t,r)=>{var i=e.r(254799),n=e.r(612249),o=e.r(708662);t.exports=function(e,t){var r=o.pkcs1.makeScheme(e,t);return{encrypt:function(e,o){if(o)return a=n.RSA_PKCS1_PADDING,t.encryptionSchemeOptions&&t.encryptionSchemeOptions.padding&&(a=t.encryptionSchemeOptions.padding),i.privateEncrypt({key:t.rsaUtils.exportKey("private"),padding:a},e);a=n.RSA_PKCS1_OAEP_PADDING,"pkcs1"===t.encryptionScheme&&(a=n.RSA_PKCS1_PADDING),t.encryptionSchemeOptions&&t.encryptionSchemeOptions.padding&&(a=t.encryptionSchemeOptions.padding);var a,s=e;return a===n.RSA_NO_PADDING&&(s=r.pkcs0pad(e)),i.publicEncrypt({key:t.rsaUtils.exportKey("public"),padding:a},s)},decrypt:function(e,o){if(o)return a=n.RSA_PKCS1_PADDING,t.encryptionSchemeOptions&&t.encryptionSchemeOptions.padding&&(a=t.encryptionSchemeOptions.padding),i.publicDecrypt({key:t.rsaUtils.exportKey("public"),padding:a},e);a=n.RSA_PKCS1_OAEP_PADDING,"pkcs1"===t.encryptionScheme&&(a=n.RSA_PKCS1_PADDING),t.encryptionSchemeOptions&&t.encryptionSchemeOptions.padding&&(a=t.encryptionSchemeOptions.padding);var a,s=i.privateDecrypt({key:t.rsaUtils.exportKey("private"),padding:a},e);return a===n.RSA_NO_PADDING?r.pkcs0unpad(s):s}}}},855020,(e,t,r)=>{var i=e.r(254799);t.exports={getEngine:function(t,r){var n=e.r(122446);return"node"===r.environment&&"function"==typeof i.publicEncrypt&&"function"==typeof i.privateDecrypt&&(n="function"==typeof i.privateEncrypt&&"function"==typeof i.publicDecrypt?e.r(907369):e.r(875087)),n(t,r)}}},364855,(e,t,r)=>{var i=e.r(405675)._;e.r(254799);var n=e.r(891895),o=e.r(405675),a=e.r(708662),s=e.r(855020);r.BigInteger=n,t.exports.Key=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.setOptions=function(e){var t=a[e.signingScheme],r=a[e.encryptionScheme];t===r?this.signingScheme=this.encryptionScheme=r.makeScheme(this,e):(this.encryptionScheme=r.makeScheme(this,e),this.signingScheme=t.makeScheme(this,e)),this.encryptEngine=s.getEngine(this,e)},e.prototype.generate=function(e,t){var r=e>>1;this.e=parseInt(t,16);for(var i=new n(t,16);;){for(;this.p=new n(e-r,1),!(0===this.p.subtract(n.ONE).gcd(i).compareTo(n.ONE)&&this.p.isProbablePrime(10)););for(;this.q=new n(r,1),!(0===this.q.subtract(n.ONE).gcd(i).compareTo(n.ONE)&&this.q.isProbablePrime(10)););if(0>=this.p.compareTo(this.q)){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(n.ONE),s=this.q.subtract(n.ONE),l=a.multiply(s);if(0===l.gcd(i).compareTo(n.ONE)){if(this.n=this.p.multiply(this.q),this.n.bitLength()<e)continue;this.d=i.modInverse(l),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}this.$$recalculateCache()},e.prototype.setPrivate=function(e,t,r,a,s,l,u,c){if(e&&t&&r&&e.length>0&&(i.isNumber(t)||t.length>0)&&r.length>0)this.n=new n(e),this.e=i.isNumber(t)?t:o.get32IntFromBuffer(t,0),this.d=new n(r),a&&s&&l&&u&&c&&(this.p=new n(a),this.q=new n(s),this.dmp1=new n(l),this.dmq1=new n(u),this.coeff=new n(c)),this.$$recalculateCache();else throw Error("Invalid RSA private key")},e.prototype.setPublic=function(e,t){if(e&&t&&e.length>0&&(i.isNumber(t)||t.length>0))this.n=new n(e),this.e=i.isNumber(t)?t:o.get32IntFromBuffer(t,0),this.$$recalculateCache();else throw Error("Invalid RSA public key")},e.prototype.$doPrivate=function(e){if(this.p||this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);0>t.compareTo(r);)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},e.prototype.$doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.encrypt=function(e,t){var r=[],i=[],n=e.length,o=Math.ceil(n/this.maxMessageLength)||1,a=Math.ceil(n/o||1);if(1==o)r.push(e);else for(var s=0;s<o;s++)r.push(e.slice(s*a,(s+1)*a));for(var l=0;l<r.length;l++)i.push(this.encryptEngine.encrypt(r[l],t));return Buffer.concat(i)},e.prototype.decrypt=function(e,t){if(e.length%this.encryptedDataLength>0)throw Error("Incorrect data or key");for(var r=[],i=0,n=0,o=e.length/this.encryptedDataLength,a=0;a<o;a++)n=(i=a*this.encryptedDataLength)+this.encryptedDataLength,r.push(this.encryptEngine.decrypt(e.slice(i,Math.min(n,e.length)),t));return Buffer.concat(r)},e.prototype.sign=function(e){return this.signingScheme.sign.apply(this.signingScheme,arguments)},e.prototype.verify=function(e,t,r){return this.signingScheme.verify.apply(this.signingScheme,arguments)},e.prototype.isPrivate=function(){return this.n&&this.e&&this.d&&!0||!1},e.prototype.isPublic=function(e){return this.n&&this.e&&!(e&&this.d)||!1},Object.defineProperty(e.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),Object.defineProperty(e.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),Object.defineProperty(e.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),e.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},e}()},108600,(e,t,r)=>{t.exports={newInvalidAsn1Error:function(e){var t=Error();return t.name="InvalidAsn1Error",t.message=e||"",t}}},798976,(e,t,r)=>{t.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},832623,(e,t,r)=>{"use strict";var i,n=e.r(500874),o=n.Buffer,a={};for(i in n)n.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=n[i]);var s=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(s[i]=o[i]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,r){if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),s.alloc||(s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*0x40000000)throw RangeError('The value "'+e+'" is invalid for option "size"');var i=o(e);return t&&0!==t.length?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}!a.constants&&(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a},718916,(e,t,r)=>{var i=e.r(449719),n=e.r(832623).Buffer,o=e.r(798976),a=e.r(108600).newInvalidAsn1Error;function s(e){if(!e||!n.isBuffer(e))throw TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(s.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(s.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(s.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),s.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},s.prototype.peek=function(){return this.readByte(!0)},s.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if((128&t)==128){if(0==(t&=127))throw a("Indefinite length not supported");if(t>4)throw a("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},s.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},s.prototype.readInt=function(){return this._readTag(o.Integer)},s.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},s.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},s.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var i=this.readLength(this._offset+1);if(null===i||this.length>this._size-i)return null;if(this._offset=i,0===this.length)return t?n.alloc(0):"";var s=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?s:s.toString("utf8")},s.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],i=0,n=0;n<t.length;n++){var a=255&t[n];i<<=7,i+=127&a,(128&a)==0&&(r.push(i),i=0)}return i=r.shift(),r.unshift(i%40),r.unshift(i/40|0),r.join(".")},s.prototype._readTag=function(e){i.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw a("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var n=this._buf[this._offset],o=0,s=0;s<this.length;s++)o<<=8,o|=255&this._buf[this._offset++];return(128&n)==128&&4!==s&&(o-=1<<8*s),0|o},t.exports=s},910719,(e,t,r)=>{var i=e.r(449719),n=e.r(832623).Buffer,o=e.r(798976),a=e.r(108600).newInvalidAsn1Error,s={size:1024,growthFactor:8};function l(e,t){return i.ok(e),i.equal(typeof e,"object"),i.ok(t),i.equal(typeof t,"object"),Object.getOwnPropertyNames(e).forEach(function(r){if(!t[r]){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i)}}),t}function u(e){e=l(s,e||{}),this._buf=n.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(u.prototype,"buffer",{get:function(){if(this._seq.length)throw a(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),u.prototype.writeByte=function(e){if("number"!=typeof e)throw TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},u.prototype.writeInt=function(e,t){if("number"!=typeof e)throw TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var r=4;((0xff800000&e)==0||(0xff800000&e)==-8388608)&&r>1;)r--,e<<=8;if(r>4)throw a("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(0xff000000&e)>>>24,e<<=8},u.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},u.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},u.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=255*!!e},u.prototype.writeString=function(e,t){if("string"!=typeof e)throw TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=o.OctetString);var r=n.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},u.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw TypeError("tag must be a number");if(!n.isBuffer(e))throw TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},u.prototype.writeStringArray=function(e){if(!e instanceof Array)throw TypeError("argument must be an Array[String]");var t=this;e.forEach(function(e){t.writeString(e)})},u.prototype.writeOID=function(e,t){if("string"!=typeof e)throw TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw Error("argument is not a valid OID string");function r(e,t){t<128?e.push(t):(t<16384?e.push(t>>>7|128):(t<2097152?e.push(t>>>14|128):(t<0x10000000?e.push(t>>>21|128):(e.push((t>>>28|128)&255),e.push((t>>>21|128)&255)),e.push((t>>>14|128)&255)),e.push((t>>>7|128)&255)),e.push(127&t))}var i=e.split("."),n=[];n.push(40*parseInt(i[0],10)+parseInt(i[1],10)),i.slice(2).forEach(function(e){r(n,parseInt(e,10))});var a=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach(function(e){a.writeByte(e)})},u.prototype.writeLength=function(e){if("number"!=typeof e)throw TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else if(e<=0xffffff)this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else throw a("Length too long (> 4 bytes)")},u.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},u.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else if(r<=0xffffff)this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r;else throw a("Sequence too long")},u.prototype._shift=function(e,t,r){i.ok(void 0!==e),i.ok(void 0!==t),i.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},u.prototype._ensure=function(e){if(i.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=n.alloc(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},t.exports=u},674048,(e,t,r)=>{var i=e.r(108600),n=e.r(798976);for(var o in t.exports={Reader:e.r(718916),Writer:e.r(910719)},n)n.hasOwnProperty(o)&&(t.exports[o]=n[o]);for(var a in i)i.hasOwnProperty(a)&&(t.exports[a]=i[a])},847097,(e,t,r)=>{var i=e.r(674048);t.exports={Ber:i,BerReader:i.Reader,BerWriter:i.Writer}},940621,(e,t,r)=>{var i=e.r(847097).Ber,n=e.r(405675)._,o=e.r(405675);let a="-----BEGIN RSA PRIVATE KEY-----",s="-----END RSA PRIVATE KEY-----",l="-----BEGIN RSA PUBLIC KEY-----",u="-----END RSA PUBLIC KEY-----";t.exports={privateExport:function(e,t){t=t||{};var r=e.n.toBuffer(),n=e.d.toBuffer(),l=e.p.toBuffer(),u=e.q.toBuffer(),c=e.dmp1.toBuffer(),d=e.dmq1.toBuffer(),p=e.coeff.toBuffer(),f=r.length+n.length+l.length+u.length+c.length+d.length+p.length+512,h=new i.Writer({size:f});return(h.startSequence(),h.writeInt(0),h.writeBuffer(r,2),h.writeInt(e.e),h.writeBuffer(n,2),h.writeBuffer(l,2),h.writeBuffer(u,2),h.writeBuffer(c,2),h.writeBuffer(d,2),h.writeBuffer(p,2),h.endSequence(),"der"===t.type)?h.buffer:a+"\n"+o.linebrk(h.buffer.toString("base64"),64)+"\n"+s},privateImport:function(e,t,r){if("der"!==(r=r||{}).type)if(Buffer.isBuffer(t)&&(t=t.toString("utf8")),n.isString(t)){var l,u=o.trimSurroundingText(t,a,s).replace(/\s+|\n\r|\n|\r$/gm,"");l=Buffer.from(u,"base64")}else throw Error("Unsupported key format");else if(Buffer.isBuffer(t))l=t;else throw Error("Unsupported key format");var c=new i.Reader(l);c.readSequence(),c.readString(2,!0),e.setPrivate(c.readString(2,!0),c.readString(2,!0),c.readString(2,!0),c.readString(2,!0),c.readString(2,!0),c.readString(2,!0),c.readString(2,!0),c.readString(2,!0))},publicExport:function(e,t){t=t||{};var r=e.n.toBuffer(),n=r.length+512,a=new i.Writer({size:n});return(a.startSequence(),a.writeBuffer(r,2),a.writeInt(e.e),a.endSequence(),"der"===t.type)?a.buffer:l+"\n"+o.linebrk(a.buffer.toString("base64"),64)+"\n"+u},publicImport:function(e,t,r){if("der"!==(r=r||{}).type){if(Buffer.isBuffer(t)&&(t=t.toString("utf8")),n.isString(t)){var a,s=o.trimSurroundingText(t,l,u).replace(/\s+|\n\r|\n|\r$/gm,"");a=Buffer.from(s,"base64")}}else if(Buffer.isBuffer(t))a=t;else throw Error("Unsupported key format");var c=new i.Reader(a);c.readSequence(),e.setPublic(c.readString(2,!0),c.readString(2,!0))},autoImport:function(e,r){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(r)?(t.exports.privateImport(e,r),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(r)&&(t.exports.publicImport(e,r),!0)}}},761529,(e,t,r)=>{var i=e.r(847097).Ber,n=e.r(405675)._,o="1.2.840.113549.1.1.1",a=e.r(405675);let s="-----BEGIN PRIVATE KEY-----",l="-----END PRIVATE KEY-----",u="-----BEGIN PUBLIC KEY-----",c="-----END PUBLIC KEY-----";t.exports={privateExport:function(e,t){t=t||{};var r=e.n.toBuffer(),n=e.d.toBuffer(),u=e.p.toBuffer(),c=e.q.toBuffer(),d=e.dmp1.toBuffer(),p=e.dmq1.toBuffer(),f=e.coeff.toBuffer(),h=r.length+n.length+u.length+c.length+d.length+p.length+f.length+512,m=new i.Writer({size:h});m.startSequence(),m.writeInt(0),m.writeBuffer(r,2),m.writeInt(e.e),m.writeBuffer(n,2),m.writeBuffer(u,2),m.writeBuffer(c,2),m.writeBuffer(d,2),m.writeBuffer(p,2),m.writeBuffer(f,2),m.endSequence();var g=new i.Writer({size:h});return(g.startSequence(),g.writeInt(0),g.startSequence(),g.writeOID(o),g.writeNull(),g.endSequence(),g.writeBuffer(m.buffer,4),g.endSequence(),"der"===t.type)?g.buffer:s+"\n"+a.linebrk(g.buffer.toString("base64"),64)+"\n"+l},privateImport:function(e,t,r){if("der"!==(r=r||{}).type)if(Buffer.isBuffer(t)&&(t=t.toString("utf8")),n.isString(t)){var u,c=a.trimSurroundingText(t,s,l).replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");u=Buffer.from(c,"base64")}else throw Error("Unsupported key format");else if(Buffer.isBuffer(t))u=t;else throw Error("Unsupported key format");var d=new i.Reader(u);if(d.readSequence(),d.readInt(0),new i.Reader(d.readString(48,!0)).readOID(6,!0)!==o)throw Error("Invalid Public key format");var p=new i.Reader(d.readString(4,!0));p.readSequence(),p.readString(2,!0),e.setPrivate(p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0),p.readString(2,!0))},publicExport:function(e,t){t=t||{};var r=e.n.toBuffer(),n=r.length+512,s=new i.Writer({size:n});s.writeByte(0),s.startSequence(),s.writeBuffer(r,2),s.writeInt(e.e),s.endSequence();var l=new i.Writer({size:n});return(l.startSequence(),l.startSequence(),l.writeOID(o),l.writeNull(),l.endSequence(),l.writeBuffer(s.buffer,3),l.endSequence(),"der"===t.type)?l.buffer:u+"\n"+a.linebrk(l.buffer.toString("base64"),64)+"\n"+c},publicImport:function(e,t,r){if("der"!==(r=r||{}).type){if(Buffer.isBuffer(t)&&(t=t.toString("utf8")),n.isString(t)){var s,l=a.trimSurroundingText(t,u,c).replace(/\s+|\n\r|\n|\r$/gm,"");s=Buffer.from(l,"base64")}}else if(Buffer.isBuffer(t))s=t;else throw Error("Unsupported key format");var d=new i.Reader(s);if(d.readSequence(),new i.Reader(d.readString(48,!0)).readOID(6,!0)!==o)throw Error("Invalid Public key format");var p=new i.Reader(d.readString(3,!0));p.readByte(),p.readSequence(),e.setPublic(p.readString(2,!0),p.readString(2,!0))},autoImport:function(e,r){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(r)?(t.exports.privateImport(e,r),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(r)&&(t.exports.publicImport(e,r),!0)}}},249512,(e,t,r)=>{e.r(405675)._,e.r(405675),t.exports={privateExport:function(e,t){return{n:e.n.toBuffer(),e:e.e,d:e.d.toBuffer(),p:e.p.toBuffer(),q:e.q.toBuffer(),dmp1:e.dmp1.toBuffer(),dmq1:e.dmq1.toBuffer(),coeff:e.coeff.toBuffer()}},privateImport:function(e,t,r){if(t.n&&t.e&&t.d&&t.p&&t.q&&t.dmp1&&t.dmq1&&t.coeff)e.setPrivate(t.n,t.e,t.d,t.p,t.q,t.dmp1,t.dmq1,t.coeff);else throw Error("Invalid key data")},publicExport:function(e,t){return{n:e.n.toBuffer(),e:e.e}},publicImport:function(e,t,r){if(t.n&&t.e)e.setPublic(t.n,t.e);else throw Error("Invalid key data")},autoImport:function(e,r){if(r.n&&r.e)if(r.d&&r.p&&r.q&&r.dmp1&&r.dmq1&&r.coeff)return t.exports.privateImport(e,r),!0;else return t.exports.publicImport(e,r),!0;return!1}}},901653,(e,t,r)=>{var i=e.r(405675)._,n=e.r(405675),o=e.r(891895);let a="-----BEGIN OPENSSH PRIVATE KEY-----",s="-----END OPENSSH PRIVATE KEY-----";function l(e){let t=e.buf.readInt32BE(e.off);e.off+=4;let r=e.buf.slice(e.off,e.off+t);return e.off+=t,r}function u(e,t){e.buf.writeInt32BE(t.byteLength,e.off),e.off+=4,e.off+=t.copy(e.buf,e.off)}t.exports={privateExport:function(e,t){let r,i=e.n.toBuffer(),o=Buffer.alloc(4);for(o.writeUInt32BE(e.e,0);0===o[0];)o=o.slice(1);let l=e.d.toBuffer(),c=e.coeff.toBuffer(),d=e.p.toBuffer(),p=e.q.toBuffer();r=void 0!==e.sshcomment?Buffer.from(e.sshcomment):Buffer.from([]);let f=15+o.byteLength+4+i.byteLength,h=23+i.byteLength+4+o.byteLength+4+l.byteLength+4+c.byteLength+4+d.byteLength+4+p.byteLength+4+r.byteLength,m=43+f+4+h;m+=8*Math.ceil(h/8)-h;let g=Buffer.alloc(m),y={buf:g,off:0};g.write("openssh-key-v1","utf8"),g.writeUInt8(0,14),y.off+=15,u(y,Buffer.from("none")),u(y,Buffer.from("none")),u(y,Buffer.from("")),y.off=y.buf.writeUInt32BE(1,y.off),y.off=y.buf.writeUInt32BE(f,y.off),u(y,Buffer.from("ssh-rsa")),u(y,o),u(y,i),y.off=y.buf.writeUInt32BE(m-47-f,y.off),y.off+=8,u(y,Buffer.from("ssh-rsa")),u(y,i),u(y,o),u(y,l),u(y,c),u(y,d),u(y,p),u(y,r);let v=1;for(;y.off<m;)y.off=y.buf.writeUInt8(v++,y.off);return"der"===t.type?y.buf:a+"\n"+n.linebrk(g.toString("base64"),70)+"\n"+s+"\n"},privateImport:function(e,t,r){if("der"!==(r=r||{}).type)if(Buffer.isBuffer(t)&&(t=t.toString("utf8")),i.isString(t)){var u,c=n.trimSurroundingText(t,a,s).replace(/\s+|\n\r|\n|\r$/gm,"");u=Buffer.from(c,"base64")}else throw Error("Unsupported key format");else if(Buffer.isBuffer(t))u=t;else throw Error("Unsupported key format");let d={buf:u,off:0};if("openssh-key-v1"!==u.slice(0,14).toString("ascii"))throw"Invalid file format.";if(d.off+=15,"none"!==l(d).toString("ascii")||"none"!==l(d).toString("ascii")||""!==l(d).toString("ascii")||(d.off+=4,d.off+=4,"ssh-rsa"!==l(d).toString("ascii"))||(l(d),l(d),d.off+=12,"ssh-rsa"!==l(d).toString("ascii")))throw Error("Unsupported key type");let p=l(d),f=l(d),h=l(d),m=l(d),g=l(d),y=l(d),v=new o(h),b=new o(y),A=new o(g),w=v.mod(A.subtract(o.ONE)),_=v.mod(b.subtract(o.ONE));e.setPrivate(p,f,h,g,y,w.toBuffer(),_.toBuffer(),m),e.sshcomment=l(d).toString("ascii")},publicExport:function(e,t){let r=Buffer.alloc(4);for(r.writeUInt32BE(e.e,0);0===r[0];)r=r.slice(1);let i=e.n.toBuffer(),n=Buffer.alloc(r.byteLength+4+i.byteLength+4+7+4),o={buf:n,off:0};u(o,Buffer.from("ssh-rsa")),u(o,r),u(o,i);let a=e.sshcomment||"";return"der"===t.type?o.buf:"ssh-rsa "+n.toString("base64")+" "+a+"\n"},publicImport:function(e,t,r){var n;if("der"!==(r=r||{}).type)if(Buffer.isBuffer(t)&&(t=t.toString("utf8")),i.isString(t)){if("ssh-rsa "!==t.substring(0,8))throw Error("Unsupported key format");let r=t.indexOf(" ",8);-1===r?r=t.length:e.sshcomment=t.substring(r+1).replace(/\s+|\n\r|\n|\r$/gm,"");let i=t.substring(8,r).replace(/\s+|\n\r|\n|\r$/gm,"");n=Buffer.from(i,"base64")}else throw Error("Unsupported key format");else if(Buffer.isBuffer(t))n=t;else throw Error("Unsupported key format");let o={buf:n,off:0},a=l(o).toString("ascii");if("ssh-rsa"!==a)throw Error("Invalid key type: "+a);let s=l(o),u=l(o);e.setPublic(u,s)},autoImport:function(e,r){return/^[\S\s]*-----BEGIN OPENSSH PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END OPENSSH PRIVATE KEY-----[\S\s]*$/g.test(r)?(t.exports.privateImport(e,r),!0):!!/^[\S\s]*ssh-rsa \s*(?=(([A-Za-z0-9+/=]+\s*)+))\1[\S\s]*$/g.test(r)&&(t.exports.publicImport(e,r),!0)}}},99855,(e,t,r)=>{function i(e){e=e.split("-");for(var t="private",r={type:"default"},i=1;i<e.length;i++)if(e[i])switch(e[i]){case"public":case"private":t=e[i];break;case"pem":case"der":r.type=e[i]}return{scheme:e[0],keyType:t,keyOpt:r}}e.r(405675)._,t.exports={pkcs1:e.r(940621),pkcs8:e.r(761529),components:e.r(249512),openssh:e.r(901653),isPrivateExport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].privateExport},isPrivateImport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].privateImport},isPublicExport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].publicExport},isPublicImport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].publicImport},detectAndImport:function(e,r,n){if(void 0===n){for(var o in t.exports)if("function"==typeof t.exports[o].autoImport&&t.exports[o].autoImport(e,r))return!0}else if(n){var a=i(n);if(t.exports[a.scheme])"private"===a.keyType?t.exports[a.scheme].privateImport(e,r,a.keyOpt):t.exports[a.scheme].publicImport(e,r,a.keyOpt);else throw Error("Unsupported key format")}return!1},detectAndExport:function(e,r){if(r){var n=i(r);if(t.exports[n.scheme])if("private"===n.keyType){if(!e.isPrivate())throw Error("This is not private key");return t.exports[n.scheme].privateExport(e,n.keyOpt)}else{if(!e.isPublic())throw Error("This is not public key");return t.exports[n.scheme].publicExport(e,n.keyOpt)}throw Error("Unsupported key format")}}}},903345,(e,t,r)=>{var i=e.r(612249),n=e.r(364855);e.r(254799),e.r(847097).Ber;var o=e.r(405675)._,a=e.r(405675),s=e.r(708662),l=e.r(99855);void 0===i.RSA_NO_PADDING&&(i.RSA_NO_PADDING=3),t.exports=function(){var e={node10:["md4","md5","ripemd160","sha1","sha224","sha256","sha384","sha512"],node:["md4","md5","ripemd160","sha1","sha224","sha256","sha384","sha512"],iojs:["md4","md5","ripemd160","sha1","sha224","sha256","sha384","sha512"],browser:["md5","ripemd160","sha1","sha256","sha512"]},t="pkcs1_oaep",r="pkcs1",i="private",u={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};function c(e,i,s){if(!(this instanceof c))return new c(e,i,s);o.isObject(i)&&(s=i,i=void 0),this.$options={signingScheme:r,signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:t,encryptionSchemeOptions:{hash:"sha1",label:null},environment:a.detectEnvironment(),rsaUtils:this},this.keyPair=new n.Key,this.$cache={},Buffer.isBuffer(e)||o.isString(e)?this.importKey(e,i):o.isObject(e)&&this.generateKeyPair(e.b,e.e),this.setOptions(s)}return c.prototype.setOptions=function(i){if((i=i||{}).environment&&(this.$options.environment=i.environment),i.signingScheme){if(o.isString(i.signingScheme)){var n=i.signingScheme.toLowerCase().split("-");1==n.length?e.node.indexOf(n[0])>-1?(this.$options.signingSchemeOptions={hash:n[0]},this.$options.signingScheme=r):(this.$options.signingScheme=n[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:n[1]},this.$options.signingScheme=n[0])}else o.isObject(i.signingScheme)&&(this.$options.signingScheme=i.signingScheme.scheme||r,this.$options.signingSchemeOptions=o.omit(i.signingScheme,"scheme"));if(!s.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(i.encryptionScheme){if(o.isString(i.encryptionScheme)?(this.$options.encryptionScheme=i.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):o.isObject(i.encryptionScheme)&&(this.$options.encryptionScheme=i.encryptionScheme.scheme||t,this.$options.encryptionSchemeOptions=o.omit(i.encryptionScheme,"scheme")),!s.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},c.prototype.generateKeyPair=function(e,t){if(t=t||65537,(e=e||2048)%8!=0)throw Error("Key size must be a multiple of 8.");return this.keyPair.generate(e,t.toString(16)),this.$cache={},this},c.prototype.importKey=function(e,t){if(!e)throw Error("Empty key given");if(t&&(t=u[t]||t),!l.detectAndImport(this.keyPair,e,t)&&void 0===t)throw Error("Key format must be specified");return this.$cache={},this},c.prototype.exportKey=function(e){return e=u[e=e||i]||e,this.$cache[e]||(this.$cache[e]=l.detectAndExport(this.keyPair,e)),this.$cache[e]},c.prototype.isPrivate=function(){return this.keyPair.isPrivate()},c.prototype.isPublic=function(e){return this.keyPair.isPublic(e)},c.prototype.isEmpty=function(e){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},c.prototype.encrypt=function(e,t,r){return this.$$encryptKey(!1,e,t,r)},c.prototype.decrypt=function(e,t){return this.$$decryptKey(!1,e,t)},c.prototype.encryptPrivate=function(e,t,r){return this.$$encryptKey(!0,e,t,r)},c.prototype.decryptPublic=function(e,t){return this.$$decryptKey(!0,e,t)},c.prototype.$$encryptKey=function(e,t,r,i){try{var n=this.keyPair.encrypt(this.$getDataForEncrypt(t,i),e);if("buffer"==r||!r)return n;return n.toString(r)}catch(e){throw Error("Error during encryption. Original error: "+e)}},c.prototype.$$decryptKey=function(e,t,r){try{t=o.isString(t)?Buffer.from(t,"base64"):t;var i=this.keyPair.decrypt(t,e);if(null===i)throw Error("Key decrypt method returns null.");return this.$getDecryptedData(i,r)}catch(e){throw Error("Error during decryption (probably incorrect key). Original error: "+e)}},c.prototype.sign=function(e,t,r){if(!this.isPrivate())throw Error("This is not private key");var i=this.keyPair.sign(this.$getDataForEncrypt(e,r));return t&&"buffer"!=t&&(i=i.toString(t)),i},c.prototype.verify=function(e,t,r,i){if(!this.isPublic())throw Error("This is not public key");return i=i&&"buffer"!=i?i:null,this.keyPair.verify(this.$getDataForEncrypt(e,r),t,i)},c.prototype.getKeySize=function(){return this.keyPair.keySize},c.prototype.getMaxMessageSize=function(){return this.keyPair.maxMessageLength},c.prototype.$getDataForEncrypt=function(e,t){if(o.isString(e)||o.isNumber(e))return Buffer.from(""+e,t||"utf8");if(Buffer.isBuffer(e))return e;if(o.isObject(e))return Buffer.from(JSON.stringify(e));throw Error("Unexpected data type")},c.prototype.$getDecryptedData=function(e,t){return"buffer"==(t=t||"buffer")?e:"json"==t?JSON.parse(e.toString()):e.toString(t)},c}()},994941,(e,t,r)=>{!function(e){"use strict";function t(e){var t=Array.prototype.slice,r=e.length,i=function(e,r){return function(){return r.apply(this,e.concat(t.call(arguments)))}},n=function(){var o=t.call(arguments);return o.length<r?i(o,n):e.apply(this,t.apply(arguments,[0,r]))};return n}var r=function(e,t){for(var r=0;r<t.length;r+=1)e(t[r],r,t)},i=function(e,t,i){var n=t;return r(function(t,r){n=e(n,t,r)},i),n},n=function(e,t){var i=Array(t.length);return r(function(t,r){i[r]=e(t)},t),i},o=function(e,t){var i=[];return r(function(t,r){e(t,r)&&i.push(t)},t),i},a=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return!0;return!1};function s(e){return function(){return e}}function l(e){return e.toString()}var u=function(e,t){return t.join(e)},c=function(e,t,r){return e+r+t},d=Array.prototype.concat,p=32767;function f(e){for(var t=[],r=0;r<e.length;r+=p){var i=e.slice(r,r+p);t=d.apply(t,i)}return t}function h(e,t){for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r}var m=1,g=2,y=3,v=4,b=7,A=8,w=9,_=10,S=11;function E(){this.init()}function T(e){this.expression=e}function I(e,t,r){t in e||(e[t]=r)}function x(){}function O(e){arguments.length>0&&this.init(e)}function C(e){arguments.length>0&&this.init(e)}function k(e,t){arguments.length>0&&this.init(e,t)}function N(e,t){arguments.length>0&&this.init(e,t)}function R(e,t){arguments.length>0&&this.init(e,t)}function P(e,t){arguments.length>0&&this.init(e,t)}function D(e,t){arguments.length>0&&this.init(e,t)}function U(e,t){arguments.length>0&&this.init(e,t)}function L(e,t){arguments.length>0&&this.init(e,t)}function K(e,t){arguments.length>0&&this.init(e,t)}function M(e,t){arguments.length>0&&this.init(e,t)}function B(e,t){arguments.length>0&&this.init(e,t)}function j(e,t){arguments.length>0&&this.init(e,t)}function $(e,t){arguments.length>0&&this.init(e,t)}function z(e,t){arguments.length>0&&this.init(e,t)}function F(e,t){arguments.length>0&&this.init(e,t)}function q(e,t){arguments.length>0&&this.init(e,t)}function V(e,t,r){arguments.length>0&&this.init(e,t,r)}function H(e){for(;e&&e.parentNode;)e=e.parentNode;return e}function G(e,t,r){return V.applyPredicates(e.predicates,t,V.applyStep(e,t,r))}function W(e,t,r){return f(n(G.bind(null,r,e),t))}function Z(e,t){arguments.length>0&&this.init(e,t)}function J(e,t,r){arguments.length>0&&this.init(e,t,r)}function Q(e,t){arguments.length>0&&this.init(e,t)}function Y(e){arguments.length>0&&this.init(e)}function X(e,t){arguments.length>0&&this.init(e,t)}E.prototype={},E.prototype.constructor=E,E.superclass=Object.prototype,E.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(e){return new N(e[0],e[2])},this.reduceActions[5]=function(e){return new R(e[0],e[2])},this.reduceActions[7]=function(e){return new P(e[0],e[2])},this.reduceActions[8]=function(e){return new D(e[0],e[2])},this.reduceActions[10]=function(e){return new U(e[0],e[2])},this.reduceActions[11]=function(e){return new L(e[0],e[2])},this.reduceActions[12]=function(e){return new K(e[0],e[2])},this.reduceActions[13]=function(e){return new M(e[0],e[2])},this.reduceActions[15]=function(e){return new B(e[0],e[2])},this.reduceActions[16]=function(e){return new j(e[0],e[2])},this.reduceActions[18]=function(e){return new $(e[0],e[2])},this.reduceActions[19]=function(e){return new z(e[0],e[2])},this.reduceActions[20]=function(e){return new F(e[0],e[2])},this.reduceActions[22]=function(e){return new C(e[1])},this.reduceActions[24]=function(e){return new q(e[0],e[2])},this.reduceActions[25]=function(e){return new V(void 0,void 0,e[0])},this.reduceActions[27]=function(e){return e[0].locationPath=e[2],e[0]},this.reduceActions[28]=function(e){return e[0].locationPath=e[2],e[0].locationPath.steps.unshift(new J(J.DESCENDANTORSELF,Q.nodeTest,[])),e[0]},this.reduceActions[29]=function(e){return new V(e[0],[],void 0)},this.reduceActions[30]=function(e){return em.instance_of(e[0],V)?(void 0==e[0].filterPredicates&&(e[0].filterPredicates=[]),e[0].filterPredicates.push(e[1]),e[0]):new V(e[0],[e[1]],void 0)},this.reduceActions[32]=function(e){return e[1]},this.reduceActions[33]=function(e){return new et(e[0])},this.reduceActions[34]=function(e){return new er(e[0])},this.reduceActions[36]=function(e){return new X(e[0],[])},this.reduceActions[37]=function(e){return new X(e[0],e[2])},this.reduceActions[38]=function(e){return[e[0]]},this.reduceActions[39]=function(e){return e[2].unshift(e[0]),e[2]},this.reduceActions[43]=function(e){return new Z(!0,[])},this.reduceActions[44]=function(e){return e[1].absolute=!0,e[1]},this.reduceActions[46]=function(e){return new Z(!1,[e[0]])},this.reduceActions[47]=function(e){return e[0].steps.push(e[2]),e[0]},this.reduceActions[49]=function(e){return new J(e[0],e[1],[])},this.reduceActions[50]=function(e){return new J(J.CHILD,e[0],[])},this.reduceActions[51]=function(e){return new J(e[0],e[1],e[2])},this.reduceActions[52]=function(e){return new J(J.CHILD,e[0],e[1])},this.reduceActions[54]=function(e){return[e[0]]},this.reduceActions[55]=function(e){return e[1].unshift(e[0]),e[1]},this.reduceActions[56]=function(e){if("ancestor"==e[0])return J.ANCESTOR;if("ancestor-or-self"==e[0])return J.ANCESTORORSELF;if("attribute"==e[0])return J.ATTRIBUTE;if("child"==e[0])return J.CHILD;if("descendant"==e[0])return J.DESCENDANT;else if("descendant-or-self"==e[0])return J.DESCENDANTORSELF;else if("following"==e[0])return J.FOLLOWING;else if("following-sibling"==e[0])return J.FOLLOWINGSIBLING;else if("namespace"==e[0])return J.NAMESPACE;else if("parent"==e[0])return J.PARENT;else if("preceding"==e[0])return J.PRECEDING;else if("preceding-sibling"==e[0])return J.PRECEDINGSIBLING;else if("self"==e[0])return J.SELF;return -1},this.reduceActions[57]=function(e){return J.ATTRIBUTE},this.reduceActions[59]=function(e){return"comment"==e[0]?Q.commentTest:"text"==e[0]?Q.textTest:"processing-instruction"==e[0]?Q.anyPiTest:"node"==e[0]?Q.nodeTest:new Q(-1,void 0)},this.reduceActions[60]=function(e){return new Q.PITest(e[2])},this.reduceActions[61]=function(e){return e[1]},this.reduceActions[63]=function(e){return e[1].absolute=!0,e[1].steps.unshift(new J(J.DESCENDANTORSELF,Q.nodeTest,[])),e[1]},this.reduceActions[64]=function(e){return e[0].steps.push(new J(J.DESCENDANTORSELF,Q.nodeTest,[])),e[0].steps.push(e[2]),e[0]},this.reduceActions[65]=function(e){return new J(J.SELF,Q.nodeTest,[])},this.reduceActions[66]=function(e){return new J(J.PARENT,Q.nodeTest,[])},this.reduceActions[67]=function(e){return new Y(e[1])},this.reduceActions[68]=function(e){return Q.nameTestAny},this.reduceActions[69]=function(e){return new Q.NameTestPrefixAny(e[0].split(":")[0])},this.reduceActions[70]=function(e){return new Q.NameTestQName(e[0])}},E.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],E.actionTableNumber=[" 1 0        /.-,+*)('    & %$  #  \"!","                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               "," 1 0        /.-,+*)('    & %$  #  \"!","K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" "," 1 0        /.-,+*)('    & %$  #  \"!","                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       "," 1           .  +*)('          #  \" ","b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               "," 1 0        /.-,+*)('    & %$m #  \"!","_  f________         ______e __  _  "," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('      %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ",">  >>>>>>>>>         >>>>>>> >> >>  "," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ","Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  "," 1 0        /.-,+*)('    & %$  #  \"!","]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],E.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],E.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],E.DOUBLEDOT=2,E.DOUBLECOLON=3,E.DOUBLESLASH=4,E.NOTEQUAL=5,E.LESSTHANOREQUAL=6,E.GREATERTHANOREQUAL=7,E.AND=8,E.OR=9,E.MOD=10,E.DIV=11,E.MULTIPLYOPERATOR=12,E.FUNCTIONNAME=13,E.AXISNAME=14,E.LITERAL=15,E.NUMBER=16,E.ASTERISKNAMETEST=17,E.QNAME=18,E.NCNAMECOLONASTERISK=19,E.NODETYPE=20,E.PROCESSINGINSTRUCTIONWITHLITERAL=21,E.EQUALS=22,E.LESSTHAN=23,E.GREATERTHAN=24,E.PLUS=25,E.MINUS=26,E.BAR=27,E.SLASH=28,E.LEFTPARENTHESIS=29,E.RIGHTPARENTHESIS=30,E.COMMA=31,E.AT=32,E.LEFTBRACKET=33,E.RIGHTBRACKET=34,E.DOT=35,E.DOLLAR=36,E.prototype.tokenize=function(e){for(var t=[],r=[],i=e+"\0",n=0,o=i.charAt(n++);;){for(;" "==o||"	"==o||"\r"==o||"\n"==o;)o=i.charAt(n++);if("\0"==o||n>=i.length)break;if("("==o){t.push(E.LEFTPARENTHESIS),r.push(o),o=i.charAt(n++);continue}if(")"==o){t.push(E.RIGHTPARENTHESIS),r.push(o),o=i.charAt(n++);continue}if("["==o){t.push(E.LEFTBRACKET),r.push(o),o=i.charAt(n++);continue}if("]"==o){t.push(E.RIGHTBRACKET),r.push(o),o=i.charAt(n++);continue}if("@"==o){t.push(E.AT),r.push(o),o=i.charAt(n++);continue}if(","==o){t.push(E.COMMA),r.push(o),o=i.charAt(n++);continue}if("|"==o){t.push(E.BAR),r.push(o),o=i.charAt(n++);continue}if("+"==o){t.push(E.PLUS),r.push(o),o=i.charAt(n++);continue}if("-"==o){t.push(E.MINUS),r.push(o),o=i.charAt(n++);continue}if("="==o){t.push(E.EQUALS),r.push(o),o=i.charAt(n++);continue}if("$"==o){t.push(E.DOLLAR),r.push(o),o=i.charAt(n++);continue}if("."==o){if("."==(o=i.charAt(n++))){t.push(E.DOUBLEDOT),r.push(".."),o=i.charAt(n++);continue}if(o>="0"&&o<="9"){var a="."+o;for(o=i.charAt(n++);o>="0"&&o<="9";)a+=o,o=i.charAt(n++);t.push(E.NUMBER),r.push(a);continue}t.push(E.DOT),r.push(".");continue}if("'"==o||'"'==o){for(var s=o,l="";n<i.length&&(o=i.charAt(n))!==s;)l+=o,n+=1;if(o!==s)throw eg.fromMessage("Unterminated string literal: "+s+l);n+=1,t.push(E.LITERAL),r.push(l),o=i.charAt(n++);continue}if(o>="0"&&o<="9"){var a=o;for(o=i.charAt(n++);o>="0"&&o<="9";)a+=o,o=i.charAt(n++);if("."==o&&i.charAt(n)>="0"&&"9">=i.charAt(n))for(a+=o,a+=i.charAt(n++),o=i.charAt(n++);o>="0"&&o<="9";)a+=o,o=i.charAt(n++);t.push(E.NUMBER),r.push(a);continue}if("*"==o){if(t.length>0){var u=t[t.length-1];if(u!=E.AT&&u!=E.DOUBLECOLON&&u!=E.LEFTPARENTHESIS&&u!=E.LEFTBRACKET&&u!=E.AND&&u!=E.OR&&u!=E.MOD&&u!=E.DIV&&u!=E.MULTIPLYOPERATOR&&u!=E.SLASH&&u!=E.DOUBLESLASH&&u!=E.BAR&&u!=E.PLUS&&u!=E.MINUS&&u!=E.EQUALS&&u!=E.NOTEQUAL&&u!=E.LESSTHAN&&u!=E.LESSTHANOREQUAL&&u!=E.GREATERTHAN&&u!=E.GREATERTHANOREQUAL){t.push(E.MULTIPLYOPERATOR),r.push(o),o=i.charAt(n++);continue}}t.push(E.ASTERISKNAMETEST),r.push(o),o=i.charAt(n++);continue}if(":"==o&&":"==i.charAt(n)){t.push(E.DOUBLECOLON),r.push("::"),n++,o=i.charAt(n++);continue}if("/"==o){if("/"==(o=i.charAt(n++))){t.push(E.DOUBLESLASH),r.push("//"),o=i.charAt(n++);continue}t.push(E.SLASH),r.push("/");continue}if("!"==o&&"="==i.charAt(n)){t.push(E.NOTEQUAL),r.push("!="),n++,o=i.charAt(n++);continue}if("<"==o){if("="==i.charAt(n)){t.push(E.LESSTHANOREQUAL),r.push("<="),n++,o=i.charAt(n++);continue}t.push(E.LESSTHAN),r.push("<"),o=i.charAt(n++);continue}if(">"==o){if("="==i.charAt(n)){t.push(E.GREATERTHANOREQUAL),r.push(">="),n++,o=i.charAt(n++);continue}t.push(E.GREATERTHAN),r.push(">"),o=i.charAt(n++);continue}if("_"==o||em.isLetter(o.charCodeAt(0))){var c=o;for(o=i.charAt(n++);em.isNCNameChar(o.charCodeAt(0));)c+=o,o=i.charAt(n++);if(t.length>0){var u=t[t.length-1];if(u!=E.AT&&u!=E.DOUBLECOLON&&u!=E.LEFTPARENTHESIS&&u!=E.LEFTBRACKET&&u!=E.AND&&u!=E.OR&&u!=E.MOD&&u!=E.DIV&&u!=E.MULTIPLYOPERATOR&&u!=E.SLASH&&u!=E.DOUBLESLASH&&u!=E.BAR&&u!=E.PLUS&&u!=E.MINUS&&u!=E.EQUALS&&u!=E.NOTEQUAL&&u!=E.LESSTHAN&&u!=E.LESSTHANOREQUAL&&u!=E.GREATERTHAN&&u!=E.GREATERTHANOREQUAL){if("and"==c){t.push(E.AND),r.push(c);continue}if("or"==c){t.push(E.OR),r.push(c);continue}if("mod"==c){t.push(E.MOD),r.push(c);continue}if("div"==c){t.push(E.DIV),r.push(c);continue}}}if(":"==o){if("*"==i.charAt(n)){t.push(E.NCNAMECOLONASTERISK),r.push(c+":*"),n++,o=i.charAt(n++);continue}if("_"==i.charAt(n)||em.isLetter(i.charCodeAt(n))){for(c+=":",o=i.charAt(n++);em.isNCNameChar(o.charCodeAt(0));)c+=o,o=i.charAt(n++);if("("==o){t.push(E.FUNCTIONNAME),r.push(c);continue}t.push(E.QNAME),r.push(c);continue}if(":"==i.charAt(n)){t.push(E.AXISNAME),r.push(c);continue}}if("("==o){if("comment"==c||"text"==c||"node"==c){t.push(E.NODETYPE),r.push(c);continue}if("processing-instruction"==c){")"==i.charAt(n)?t.push(E.NODETYPE):t.push(E.PROCESSINGINSTRUCTIONWITHLITERAL),r.push(c);continue}t.push(E.FUNCTIONNAME),r.push(c);continue}t.push(E.QNAME),r.push(c);continue}throw Error("Unexpected character "+o)}return t.push(1),r.push("[EOF]"),[t,r]},E.SHIFT="s",E.REDUCE="r",E.ACCEPT="a",E.prototype.parse=function(e){var t,r,i,n,o=this.tokenize(e);if(void 0!=o){t=o[0],r=o[1];var a=0,s=[],l=[],u=[];for(s.push(0),l.push(1),u.push("_S"),i=t[a],n=r[a++];;)switch(e=s[s.length-1],E.actionTable[e].charAt(i-1)){case E.SHIFT:l.push(-i),u.push(n),s.push(E.actionTableNumber[e].charCodeAt(i-1)-32),i=t[a],n=r[a++];break;case E.REDUCE:for(var c=E.productions[E.actionTableNumber[e].charCodeAt(i-1)-32][1],d=[],p=0;p<c;p++)l.pop(),d.unshift(u.pop()),s.pop();var f=s[s.length-1];l.push(E.productions[E.actionTableNumber[e].charCodeAt(i-1)-32][0]),void 0==this.reduceActions[E.actionTableNumber[e].charCodeAt(i-1)-32]?u.push(d[0]):u.push(this.reduceActions[E.actionTableNumber[e].charCodeAt(i-1)-32](d)),s.push(E.gotoTable[f].charCodeAt(E.productions[E.actionTableNumber[e].charCodeAt(i-1)-32][0]-2)-33);break;case E.ACCEPT:return new T(u.pop());default:throw Error("XPath parse error")}}},T.prototype={},T.prototype.constructor=T,T.superclass=Object.prototype,T.prototype.toString=function(){return this.expression.toString()},T.prototype.evaluate=function(e){return e.contextNode=e.expressionContextNode,e.contextSize=1,e.contextPosition=1,e.isHtml&&(I(e,"caseInsensitive",!0),I(e,"allowAnyNamespaceForNoPrefix",!0)),I(e,"caseInsensitive",!1),this.expression.evaluate(e)},T.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",T.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",x.prototype={},x.prototype.constructor=x,x.superclass=Object.prototype,x.prototype.init=function(){},x.prototype.toString=function(){return"<Expression>"},x.prototype.evaluate=function(e){throw Error("Could not evaluate expression.")},O.prototype=new x,O.prototype.constructor=O,O.superclass=x.prototype,O.prototype.init=function(e){this.rhs=e},C.prototype=new O,C.prototype.constructor=C,C.superclass=O.prototype,C.prototype.init=function(e){C.superclass.init.call(this,e)},C.prototype.evaluate=function(e){return this.rhs.evaluate(e).number().negate()},C.prototype.toString=function(){return"-"+this.rhs.toString()},k.prototype=new x,k.prototype.constructor=k,k.superclass=x.prototype,k.prototype.init=function(e,t){this.lhs=e,this.rhs=t},N.prototype=new k,N.prototype.constructor=N,N.superclass=k.prototype,N.prototype.init=function(e,t){N.superclass.init.call(this,e,t)},N.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},N.prototype.evaluate=function(e){var t=this.lhs.evaluate(e).bool();return t.booleanValue()?t:this.rhs.evaluate(e).bool()},R.prototype=new k,R.prototype.constructor=R,R.superclass=k.prototype,R.prototype.init=function(e,t){R.superclass.init.call(this,e,t)},R.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},R.prototype.evaluate=function(e){var t=this.lhs.evaluate(e).bool();return t.booleanValue()?this.rhs.evaluate(e).bool():t},P.prototype=new k,P.prototype.constructor=P,P.superclass=k.prototype,P.prototype.init=function(e,t){P.superclass.init.call(this,e,t)},P.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},P.prototype.evaluate=function(e){return this.lhs.evaluate(e).equals(this.rhs.evaluate(e))},D.prototype=new k,D.prototype.constructor=D,D.superclass=k.prototype,D.prototype.init=function(e,t){D.superclass.init.call(this,e,t)},D.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},D.prototype.evaluate=function(e){return this.lhs.evaluate(e).notequal(this.rhs.evaluate(e))},U.prototype=new k,U.prototype.constructor=U,U.superclass=k.prototype,U.prototype.init=function(e,t){U.superclass.init.call(this,e,t)},U.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthan(this.rhs.evaluate(e))},U.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},L.prototype=new k,L.prototype.constructor=L,L.superclass=k.prototype,L.prototype.init=function(e,t){L.superclass.init.call(this,e,t)},L.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthan(this.rhs.evaluate(e))},L.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},K.prototype=new k,K.prototype.constructor=K,K.superclass=k.prototype,K.prototype.init=function(e,t){K.superclass.init.call(this,e,t)},K.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthanorequal(this.rhs.evaluate(e))},K.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},M.prototype=new k,M.prototype.constructor=M,M.superclass=k.prototype,M.prototype.init=function(e,t){M.superclass.init.call(this,e,t)},M.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthanorequal(this.rhs.evaluate(e))},M.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},B.prototype=new k,B.prototype.constructor=B,B.superclass=k.prototype,B.prototype.init=function(e,t){B.superclass.init.call(this,e,t)},B.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().plus(this.rhs.evaluate(e).number())},B.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},j.prototype=new k,j.prototype.constructor=j,j.superclass=k.prototype,j.prototype.init=function(e,t){j.superclass.init.call(this,e,t)},j.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().minus(this.rhs.evaluate(e).number())},j.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},$.prototype=new k,$.prototype.constructor=$,$.superclass=k.prototype,$.prototype.init=function(e,t){$.superclass.init.call(this,e,t)},$.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().multiply(this.rhs.evaluate(e).number())},$.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},z.prototype=new k,z.prototype.constructor=z,z.superclass=k.prototype,z.prototype.init=function(e,t){z.superclass.init.call(this,e,t)},z.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().div(this.rhs.evaluate(e).number())},z.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},F.prototype=new k,F.prototype.constructor=F,F.superclass=k.prototype,F.prototype.init=function(e,t){F.superclass.init.call(this,e,t)},F.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().mod(this.rhs.evaluate(e).number())},F.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},q.prototype=new k,q.prototype.constructor=q,q.superclass=k.prototype,q.prototype.init=function(e,t){q.superclass.init.call(this,e,t)},q.prototype.evaluate=function(e){return this.lhs.evaluate(e).nodeset().union(this.rhs.evaluate(e).nodeset())},q.prototype.toString=function(){return n(l,[this.lhs,this.rhs]).join(" | ")},V.prototype=new x,V.prototype.constructor=V,V.superclass=x.prototype,V.prototype.init=function(e,t,r){V.superclass.init.call(this),this.filter=e,this.filterPredicates=t,this.locationPath=r},V.applyPredicates=function(e,t,r){if(0===e.length)return r;var n=t.extend({});return i(function(e,t){return n.contextSize=e.length,o(function(e,r){return n.contextNode=e,n.contextPosition=r+1,V.predicateMatches(t,n)},e)},r,e)},V.getRoot=function(e,t){var r=t[0];if(r.nodeType===w)return r;if(e.virtualRoot)return e.virtualRoot;var i=r.ownerDocument;if(i)return i;for(var n=r;null!=n.parentNode;)n=n.parentNode;return n},V.applyStep=function(e,t,r){var i,n,o=[];switch(t.contextNode=r,e.axis){case J.ANCESTOR:if(t.contextNode===t.virtualRoot)break;for(i=t.contextNode.nodeType==g?V.getOwnerElement(t.contextNode):t.contextNode.parentNode;null!=i&&(e.nodeTest.matches(i,t)&&o.push(i),i!==t.virtualRoot);)i=i.parentNode;break;case J.ANCESTORORSELF:for(var i=t.contextNode;null!=i&&(e.nodeTest.matches(i,t)&&o.push(i),i!==t.virtualRoot);i=i.nodeType==g?V.getOwnerElement(i):i.parentNode);break;case J.ATTRIBUTE:var a=t.contextNode.attributes;if(null!=a)for(var s=0;s<a.length;s++){var i=a.item(s);e.nodeTest.matches(i,t)&&o.push(i)}break;case J.CHILD:for(var i=t.contextNode.firstChild;null!=i;i=i.nextSibling)e.nodeTest.matches(i,t)&&o.push(i);break;case J.DESCENDANT:for(var n=[t.contextNode.firstChild];n.length>0;)for(var i=n.pop();null!=i;)e.nodeTest.matches(i,t)&&o.push(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling;break;case J.DESCENDANTORSELF:e.nodeTest.matches(t.contextNode,t)&&o.push(t.contextNode);for(var n=[t.contextNode.firstChild];n.length>0;)for(var i=n.pop();null!=i;)e.nodeTest.matches(i,t)&&o.push(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling;break;case J.FOLLOWING:if(t.contextNode===t.virtualRoot)break;var n=[];null!=t.contextNode.firstChild?n.unshift(t.contextNode.firstChild):n.unshift(t.contextNode.nextSibling);for(var i=t.contextNode.parentNode;null!=i&&i.nodeType!=w&&i!==t.virtualRoot;i=i.parentNode)n.unshift(i.nextSibling);do for(var i=n.pop();null!=i;)e.nodeTest.matches(i,t)&&o.push(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling;while(n.length>0)break;case J.FOLLOWINGSIBLING:if(t.contextNode===t.virtualRoot)break;for(var i=t.contextNode.nextSibling;null!=i;i=i.nextSibling)e.nodeTest.matches(i,t)&&o.push(i);break;case J.NAMESPACE:var l={};if(t.contextNode.nodeType==m){l.xml=T.XML_NAMESPACE_URI,l.xmlns=T.XMLNS_NAMESPACE_URI;for(var i=t.contextNode;null!=i&&i.nodeType==m;i=i.parentNode)for(var s=0;s<i.attributes.length;s++){var u=i.attributes.item(s),c=String(u.name);if("xmlns"==c)void 0==l[""]&&(l[""]=u.value);else if(c.length>6&&"xmlns:"==c.substring(0,6)){var d=c.substring(6,c.length);void 0==l[d]&&(l[d]=u.value)}}for(var d in l){var p=new eu(d,l[d],t.contextNode);e.nodeTest.matches(p,t)&&o.push(p)}}break;case J.PARENT:i=null,t.contextNode!==t.virtualRoot&&(i=t.contextNode.nodeType==g?V.getOwnerElement(t.contextNode):t.contextNode.parentNode),null!=i&&e.nodeTest.matches(i,t)&&o.push(i);break;case J.PRECEDING:n=null!=t.virtualRoot?[t.virtualRoot]:[H(t.contextNode)];i:for(;n.length>0;)for(var i=n.pop();null!=i;){if(i==t.contextNode)break i;e.nodeTest.matches(i,t)&&o.unshift(i),null!=i.firstChild?(n.push(i.nextSibling),i=i.firstChild):i=i.nextSibling}break;case J.PRECEDINGSIBLING:if(t.contextNode===t.virtualRoot)break;for(var i=t.contextNode.previousSibling;null!=i;i=i.previousSibling)e.nodeTest.matches(i,t)&&o.push(i);break;case J.SELF:e.nodeTest.matches(t.contextNode,t)&&o.push(t.contextNode)}return o},V.applySteps=function(e,t,r){return i(W.bind(null,t),r,e)},V.prototype.applyFilter=function(e,t){if(!this.filter)return{nodes:[e.contextNode]};var r=this.filter.evaluate(e);if(!em.instance_of(r,el)){if(null!=this.filterPredicates&&this.filterPredicates.length>0||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:r}}return{nodes:V.applyPredicates(this.filterPredicates||[],t,r.toUnsortedArray())}},V.applyLocationPath=function(e,t,r){if(!e)return r;var i=e.absolute?[V.getRoot(t,r)]:r;return V.applySteps(e.steps,t,i)},V.prototype.evaluate=function(e){var t=h(new ec,e),r=this.applyFilter(e,t);if("nonNodes"in r)return r.nonNodes;var i=new el;return i.addArray(V.applyLocationPath(this.locationPath,t,r.nodes)),i},V.predicateMatches=function(e,t){var r=e.evaluate(t);return em.instance_of(r,er)?t.contextPosition===r.numberValue():r.booleanValue()},V.predicateString=function(e){return c("[","]",e.toString())},V.predicatesString=function(e){return u("",n(V.predicateString,e))},V.prototype.toString=function(){if(void 0!=this.filter){var e=l(this.filter);return em.instance_of(this.filter,et)?c("'","'",e):void 0!=this.filterPredicates&&this.filterPredicates.length?c("(",")",e)+V.predicatesString(this.filterPredicates):void 0!=this.locationPath?e+(this.locationPath.absolute?"":"/")+l(this.locationPath):e}return l(this.locationPath)},V.getOwnerElement=function(e){if(e.ownerElement)return e.ownerElement;try{if(e.selectSingleNode)return e.selectSingleNode("..")}catch(e){}for(var t=(e.nodeType==w?e:e.ownerDocument).getElementsByTagName("*"),r=0;r<t.length;r++)for(var i=t.item(r),n=i.attributes,o=0;o<n.length;o++)if(n.item(o)===e)return i;return null},Z.prototype={},Z.prototype.constructor=Z,Z.superclass=Object.prototype,Z.prototype.init=function(e,t){this.absolute=e,this.steps=t},Z.prototype.toString=function(){return(this.absolute?"/":"")+n(l,this.steps).join("/")},J.prototype={},J.prototype.constructor=J,J.superclass=Object.prototype,J.prototype.init=function(e,t,r){this.axis=e,this.nodeTest=t,this.predicates=r},J.prototype.toString=function(){return J.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+V.predicatesString(this.predicates)},J.ANCESTOR=0,J.ANCESTORORSELF=1,J.ATTRIBUTE=2,J.CHILD=3,J.DESCENDANT=4,J.DESCENDANTORSELF=5,J.FOLLOWING=6,J.FOLLOWINGSIBLING=7,J.NAMESPACE=8,J.PARENT=9,J.PRECEDING=10,J.PRECEDINGSIBLING=11,J.SELF=12,J.STEPNAMES=i(function(e,t){return e[t[0]]=t[1],e},{},[[J.ANCESTOR,"ancestor"],[J.ANCESTORORSELF,"ancestor-or-self"],[J.ATTRIBUTE,"attribute"],[J.CHILD,"child"],[J.DESCENDANT,"descendant"],[J.DESCENDANTORSELF,"descendant-or-self"],[J.FOLLOWING,"following"],[J.FOLLOWINGSIBLING,"following-sibling"],[J.NAMESPACE,"namespace"],[J.PARENT,"parent"],[J.PRECEDING,"preceding"],[J.PRECEDINGSIBLING,"preceding-sibling"],[J.SELF,"self"]]),Q.prototype={},Q.prototype.constructor=Q,Q.superclass=Object.prototype,Q.prototype.init=function(e,t){this.type=e,this.value=t},Q.prototype.toString=function(){return"<unknown nodetest type>"},Q.prototype.matches=function(e,t){console.warn("unknown node test type")},Q.NAMETESTANY=0,Q.NAMETESTPREFIXANY=1,Q.NAMETESTQNAME=2,Q.COMMENT=3,Q.TEXT=4,Q.PI=5,Q.NODE=6,Q.isNodeType=function(e){return function(t){return a(e,t.nodeType)}},Q.makeNodeTestType=function(e,t,r){var i=r||function(){};return i.prototype=new Q(e),i.prototype.constructor=i,h(i.prototype,t),i},Q.makeNodeTypeTest=function(e,t,r){return new(Q.makeNodeTestType(e,{matches:Q.isNodeType(t),toString:s(r)}))},Q.hasPrefix=function(e){return e.prefix||-1!==(e.nodeName||e.tagName).indexOf(":")},Q.isElementOrAttribute=Q.isNodeType([1,2]),Q.nameSpaceMatches=function(e,t,r){var i=r.namespaceURI||"";if(!e)return!i||t.allowAnyNamespaceForNoPrefix&&!Q.hasPrefix(r);var n=t.namespaceResolver.getNamespace(e,t.expressionContextNode);if(null==n)throw Error("Cannot resolve QName "+e);return n===i},Q.localNameMatches=function(e,t,r){var i=r.localName||r.nodeName;return t.caseInsensitive?e.toLowerCase()===i.toLowerCase():e===i},Q.NameTestPrefixAny=Q.makeNodeTestType(Q.NAMETESTPREFIXANY,{matches:function(e,t){return Q.isElementOrAttribute(e)&&Q.nameSpaceMatches(this.prefix,t,e)},toString:function(){return this.prefix+":*"}},function(e){this.prefix=e}),Q.NameTestQName=Q.makeNodeTestType(Q.NAMETESTQNAME,{matches:function(e,t){return Q.isNodeType([m,g,eu.XPATH_NAMESPACE_NODE])(e)&&Q.nameSpaceMatches(this.prefix,t,e)&&Q.localNameMatches(this.localName,t,e)},toString:function(){return this.name}},function(e){var t=e.split(":");this.name=e,this.prefix=t.length>1?t[0]:null,this.localName=t[+(t.length>1)]}),Q.PITest=Q.makeNodeTestType(Q.PI,{matches:function(e,t){return Q.isNodeType([b])(e)&&(e.target||e.nodeName)===this.name},toString:function(){return c('processing-instruction("','")',this.name)}},function(e){this.name=e}),Q.nameTestAny=Q.makeNodeTypeTest(Q.NAMETESTANY,[m,g,eu.XPATH_NAMESPACE_NODE],"*"),Q.textTest=Q.makeNodeTypeTest(Q.TEXT,[y,v],"text()"),Q.commentTest=Q.makeNodeTypeTest(Q.COMMENT,[A],"comment()"),Q.nodeTest=Q.makeNodeTypeTest(Q.NODE,[m,g,y,v,b,A,w],"node()"),Q.anyPiTest=Q.makeNodeTypeTest(Q.PI,[b],"processing-instruction()"),Y.prototype=new x,Y.prototype.constructor=Y,Y.superclass=x.prototype,Y.prototype.init=function(e){this.variable=e},Y.prototype.toString=function(){return"$"+this.variable},Y.prototype.evaluate=function(e){var t=em.resolveQName(this.variable,e.namespaceResolver,e.contextNode,!1);if(null==t[0])throw Error("Cannot resolve QName "+fn);var r=e.variableResolver.getVariable(t[1],t[0]);if(!r)throw eg.fromMessage("Undeclared variable: "+this.toString());return r},X.prototype=new x,X.prototype.constructor=X,X.superclass=x.prototype,X.prototype.init=function(e,t){this.functionName=e,this.arguments=t},X.prototype.toString=function(){for(var e=this.functionName+"(",t=0;t<this.arguments.length;t++)t>0&&(e+=", "),e+=this.arguments[t].toString();return e+")"},X.prototype.evaluate=function(e){var t=ep.getFunctionFromContext(this.functionName,e);if(!t)throw Error("Unknown function "+this.functionName);var r=[e].concat(this.arguments);return t.apply(e.functionResolver.thisArg,r)};var ee={};function et(e){arguments.length>0&&this.init(e)}function er(e){arguments.length>0&&this.init(e)}function ei(e){for(var t=e.split("e-"),r=t[0].replace(".",""),i=Number(t[1]),n=0;n<i-1;n+=1)r="0"+r;return"0."+r}function en(e){for(var t=e.split("e"),r=t[0].replace(".",""),i=Number(t[1])+1-r.length,n=0;n<i;n+=1)r+="0";return r}function eo(e){arguments.length>0&&this.init(e)}function ea(e){this.init(e)}function es(e,t){if(e===t)return 0;if(e.compareDocumentPosition){var r=e.compareDocumentPosition(t);return 1&r||10&r?1:20&r?-1:0}for(var i=0,n=0,o=e;null!=o;o=o.parentNode||o.ownerElement)i++;for(var a=t;null!=a;a=a.parentNode||a.ownerElement)n++;if(i>n){for(;i>n;)e=e.parentNode||e.ownerElement,i--;if(e===t)return 1}else if(n>i){for(;n>i;)t=t.parentNode||t.ownerElement,n--;if(e===t)return -1}for(var s=e.parentNode||e.ownerElement,l=t.parentNode||t.ownerElement;s!==l;)e=s,t=l,s=e.parentNode||e.ownerElement,l=t.parentNode||t.ownerElement;var u=em.isAttribute(e),c=em.isAttribute(t);if(u&&!c)return -1;if(!u&&c)return 1;if(s)for(var d=u?s.attributes:s.childNodes,p=d.length,f=0;f<p;f+=1){var h=d[f];if(h===e)return -1;if(h===t)return 1}throw Error("Unexpected: could not determine node order")}function el(){this.init()}function eu(e,t,r){this.isXPathNamespace=!0,this.ownerDocument=r.ownerDocument,this.nodeName="#namespace",this.prefix=e,this.localName=e,this.namespaceURI=t,this.nodeValue=t,this.ownerElement=r,this.nodeType=eu.XPATH_NAMESPACE_NODE}function ec(e,t,r){this.variableResolver=null!=e?e:new ed,this.namespaceResolver=null!=t?t:new ef,this.functionResolver=null!=r?r:new ep}function ed(){}function ep(e){this.thisArg=null!=e?e:eh,this.functions={},this.addStandardFunctions()}function ef(){}ee.equals=function(e,t){return e.equals(t)},ee.notequal=function(e,t){return e.notequal(t)},ee.lessthan=function(e,t){return e.lessthan(t)},ee.greaterthan=function(e,t){return e.greaterthan(t)},ee.lessthanorequal=function(e,t){return e.lessthanorequal(t)},ee.greaterthanorequal=function(e,t){return e.greaterthanorequal(t)},et.prototype=new x,et.prototype.constructor=et,et.superclass=x.prototype,et.prototype.init=function(e){this.str=String(e)},et.prototype.toString=function(){return this.str},et.prototype.evaluate=function(e){return this},et.prototype.string=function(){return this},et.prototype.number=function(){return new er(this.str)},et.prototype.bool=function(){return new eo(this.str)},et.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset")},et.prototype.stringValue=function(){return this.str},et.prototype.numberValue=function(){return this.number().numberValue()},et.prototype.booleanValue=function(){return this.bool().booleanValue()},et.prototype.equals=function(e){return em.instance_of(e,eo)?this.bool().equals(e):em.instance_of(e,er)?this.number().equals(e):em.instance_of(e,el)?e.compareWithString(this,ee.equals):new eo(this.str==e.str)},et.prototype.notequal=function(e){return em.instance_of(e,eo)?this.bool().notequal(e):em.instance_of(e,er)?this.number().notequal(e):em.instance_of(e,el)?e.compareWithString(this,ee.notequal):new eo(this.str!=e.str)},et.prototype.lessthan=function(e){return this.number().lessthan(e)},et.prototype.greaterthan=function(e){return this.number().greaterthan(e)},et.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},et.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},er.prototype=new x,er.prototype.constructor=er,er.superclass=x.prototype,er.prototype.init=function(e){this.num="string"==typeof e?this.parse(e):Number(e)},er.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,er.prototype.parse=function(e){return this.numberFormat.test(e)?parseFloat(e):NaN},er.prototype.toString=function(){var e=this.num.toString();return -1!==e.indexOf("e-")?ei(e):-1!==e.indexOf("e")?en(e):e},er.prototype.evaluate=function(e){return this},er.prototype.string=function(){return new et(this.toString())},er.prototype.number=function(){return this},er.prototype.bool=function(){return new eo(this.num)},er.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset")},er.prototype.stringValue=function(){return this.string().stringValue()},er.prototype.numberValue=function(){return this.num},er.prototype.booleanValue=function(){return this.bool().booleanValue()},er.prototype.negate=function(){return new er(-this.num)},er.prototype.equals=function(e){return em.instance_of(e,eo)?this.bool().equals(e):em.instance_of(e,et)?this.equals(e.number()):em.instance_of(e,el)?e.compareWithNumber(this,ee.equals):new eo(this.num==e.num)},er.prototype.notequal=function(e){return em.instance_of(e,eo)?this.bool().notequal(e):em.instance_of(e,et)?this.notequal(e.number()):em.instance_of(e,el)?e.compareWithNumber(this,ee.notequal):new eo(this.num!=e.num)},er.prototype.lessthan=function(e){return em.instance_of(e,el)?e.compareWithNumber(this,ee.greaterthan):em.instance_of(e,eo)||em.instance_of(e,et)?this.lessthan(e.number()):new eo(this.num<e.num)},er.prototype.greaterthan=function(e){return em.instance_of(e,el)?e.compareWithNumber(this,ee.lessthan):em.instance_of(e,eo)||em.instance_of(e,et)?this.greaterthan(e.number()):new eo(this.num>e.num)},er.prototype.lessthanorequal=function(e){return em.instance_of(e,el)?e.compareWithNumber(this,ee.greaterthanorequal):em.instance_of(e,eo)||em.instance_of(e,et)?this.lessthanorequal(e.number()):new eo(this.num<=e.num)},er.prototype.greaterthanorequal=function(e){return em.instance_of(e,el)?e.compareWithNumber(this,ee.lessthanorequal):em.instance_of(e,eo)||em.instance_of(e,et)?this.greaterthanorequal(e.number()):new eo(this.num>=e.num)},er.prototype.plus=function(e){return new er(this.num+e.num)},er.prototype.minus=function(e){return new er(this.num-e.num)},er.prototype.multiply=function(e){return new er(this.num*e.num)},er.prototype.div=function(e){return new er(this.num/e.num)},er.prototype.mod=function(e){return new er(this.num%e.num)},eo.prototype=new x,eo.prototype.constructor=eo,eo.superclass=x.prototype,eo.prototype.init=function(e){this.b=!!e},eo.prototype.toString=function(){return this.b.toString()},eo.prototype.evaluate=function(e){return this},eo.prototype.string=function(){return new et(this.b)},eo.prototype.number=function(){return new er(this.b)},eo.prototype.bool=function(){return this},eo.prototype.nodeset=function(){throw Error("Cannot convert boolean to nodeset")},eo.prototype.stringValue=function(){return this.string().stringValue()},eo.prototype.numberValue=function(){return this.number().numberValue()},eo.prototype.booleanValue=function(){return this.b},eo.prototype.not=function(){return new eo(!this.b)},eo.prototype.equals=function(e){return em.instance_of(e,et)||em.instance_of(e,er)?this.equals(e.bool()):em.instance_of(e,el)?e.compareWithBoolean(this,ee.equals):new eo(this.b==e.b)},eo.prototype.notequal=function(e){return em.instance_of(e,et)||em.instance_of(e,er)?this.notequal(e.bool()):em.instance_of(e,el)?e.compareWithBoolean(this,ee.notequal):new eo(this.b!=e.b)},eo.prototype.lessthan=function(e){return this.number().lessthan(e)},eo.prototype.greaterthan=function(e){return this.number().greaterthan(e)},eo.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},eo.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},eo.true_=new eo(!0),eo.false_=new eo(!1),ea.prototype={},ea.prototype.constructor=ea,ea.superclass=Object.prototype,ea.prototype.init=function(e){this.left=null,this.right=null,this.node=e,this.depth=1},ea.prototype.balance=function(){var e=null==this.left?0:this.left.depth,t=null==this.right?0:this.right.depth;if(e>t+1)(null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL();else if(e+1<t){var r=null==this.right.right?0:this.right.right.depth;(null==this.right.left?0:this.right.left.depth)>r&&this.right.rotateLL(),this.rotateRR()}},ea.prototype.rotateLL=function(){var e=this.node,t=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=t,this.right.node=e,this.right.updateInNewLocation(),this.updateInNewLocation()},ea.prototype.rotateRR=function(){var e=this.node,t=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=t,this.left.node=e,this.left.updateInNewLocation(),this.updateInNewLocation()},ea.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},ea.prototype.getDepthFromChildren=function(){this.depth=+(null!=this.node),null!=this.left&&(this.depth=this.left.depth+1),null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)},ea.prototype.add=function(e){if(e===this.node)return!1;var t=es(e,this.node),r=!1;return -1==t?null==this.left?(this.left=new ea(e),r=!0):(r=this.left.add(e))&&this.balance():1==t&&(null==this.right?(this.right=new ea(e),r=!0):(r=this.right.add(e))&&this.balance()),r&&this.getDepthFromChildren(),r},el.prototype=new x,el.prototype.constructor=el,el.superclass=x.prototype,el.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},el.prototype.toString=function(){var e=this.first();return null==e?"":this.stringForNode(e)},el.prototype.evaluate=function(e){return this},el.prototype.string=function(){return new et(this.toString())},el.prototype.stringValue=function(){return this.toString()},el.prototype.number=function(){return new er(this.string())},el.prototype.numberValue=function(){return Number(this.string())},el.prototype.bool=function(){return new eo(this.booleanValue())},el.prototype.booleanValue=function(){return!!this.size},el.prototype.nodeset=function(){return this},el.prototype.stringForNode=function(e){return e.nodeType==w||e.nodeType==m||e.nodeType===S?this.stringForContainerNode(e):e.nodeType===g?e.value||e.nodeValue:e.isNamespaceNode?e.namespace:e.nodeValue},el.prototype.stringForContainerNode=function(e){for(var t="",r=e.firstChild;null!=r;r=r.nextSibling){var i=r.nodeType;(1===i||3===i||4===i||9===i||11===i)&&(t+=this.stringForNode(r))}return t},el.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new ea(this.nodes[0]);for(var e=1;e<this.nodes.length;e+=1)this.tree.add(this.nodes[e])}return this.tree},el.prototype.first=function(){var e=this.buildTree();if(null==e)return null;for(;null!=e.left;)e=e.left;return e.node},el.prototype.add=function(e){for(var t=0;t<this.nodes.length;t+=1)if(e===this.nodes[t])return;this.tree=null,this.nodes.push(e),this.size+=1},el.prototype.addArray=function(e){var t=this;r(function(e){t.add(e)},e)},el.prototype.toArray=function(){var e=[];return this.toArrayRec(this.buildTree(),e),e},el.prototype.toArrayRec=function(e,t){null!=e&&(this.toArrayRec(e.left,t),t.push(e.node),this.toArrayRec(e.right,t))},el.prototype.toUnsortedArray=function(){return this.nodes.slice()},el.prototype.compareWithString=function(e,t){for(var r=this.toUnsortedArray(),i=0;i<r.length;i++){var n=r[i],o=t(new et(this.stringForNode(n)),e);if(o.booleanValue())return o}return new eo(!1)},el.prototype.compareWithNumber=function(e,t){for(var r=this.toUnsortedArray(),i=0;i<r.length;i++){var n=r[i],o=t(new er(this.stringForNode(n)),e);if(o.booleanValue())return o}return new eo(!1)},el.prototype.compareWithBoolean=function(e,t){return t(this.bool(),e)},el.prototype.compareWithNodeSet=function(e,t){for(var r=this.toUnsortedArray(),i=function(e,r){return t(r,e)},n=0;n<r.length;n++){var o=new et(this.stringForNode(r[n])),a=e.compareWithString(o,i);if(a.booleanValue())return a}return new eo(!1)},el.compareWith=t(function(e,t){return em.instance_of(t,et)?this.compareWithString(t,e):em.instance_of(t,er)?this.compareWithNumber(t,e):em.instance_of(t,eo)?this.compareWithBoolean(t,e):this.compareWithNodeSet(t,e)}),el.prototype.equals=el.compareWith(ee.equals),el.prototype.notequal=el.compareWith(ee.notequal),el.prototype.lessthan=el.compareWith(ee.lessthan),el.prototype.greaterthan=el.compareWith(ee.greaterthan),el.prototype.lessthanorequal=el.compareWith(ee.lessthanorequal),el.prototype.greaterthanorequal=el.compareWith(ee.greaterthanorequal),el.prototype.union=function(e){var t=new el;return t.addArray(this.toUnsortedArray()),t.addArray(e.toUnsortedArray()),t},eu.prototype={},eu.prototype.constructor=eu,eu.superclass=Object.prototype,eu.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},ec.prototype={},ec.prototype.constructor=ec,ec.superclass=Object.prototype,ec.prototype.extend=function(e){return h(new ec,this,e)},ed.prototype={},ed.prototype.constructor=ed,ed.superclass=Object.prototype,ed.prototype.getVariable=function(e,t){return null},ep.prototype={},ep.prototype.constructor=ep,ep.superclass=Object.prototype,ep.prototype.addStandardFunctions=function(){this.functions["{}last"]=eh.last,this.functions["{}position"]=eh.position,this.functions["{}count"]=eh.count,this.functions["{}id"]=eh.id,this.functions["{}local-name"]=eh.localName,this.functions["{}namespace-uri"]=eh.namespaceURI,this.functions["{}name"]=eh.name,this.functions["{}string"]=eh.string,this.functions["{}concat"]=eh.concat,this.functions["{}starts-with"]=eh.startsWith,this.functions["{}contains"]=eh.contains,this.functions["{}substring-before"]=eh.substringBefore,this.functions["{}substring-after"]=eh.substringAfter,this.functions["{}substring"]=eh.substring,this.functions["{}string-length"]=eh.stringLength,this.functions["{}normalize-space"]=eh.normalizeSpace,this.functions["{}translate"]=eh.translate,this.functions["{}boolean"]=eh.boolean_,this.functions["{}not"]=eh.not,this.functions["{}true"]=eh.true_,this.functions["{}false"]=eh.false_,this.functions["{}lang"]=eh.lang,this.functions["{}number"]=eh.number,this.functions["{}sum"]=eh.sum,this.functions["{}floor"]=eh.floor,this.functions["{}ceiling"]=eh.ceiling,this.functions["{}round"]=eh.round},ep.prototype.addFunction=function(e,t,r){this.functions["{"+e+"}"+t]=r},ep.getFunctionFromContext=function(e,t){var r=em.resolveQName(e,t.namespaceResolver,t.contextNode,!1);if(null===r[0])throw Error("Cannot resolve QName "+name);return t.functionResolver.getFunction(r[1],r[0])},ep.prototype.getFunction=function(e,t){return this.functions["{"+t+"}"+e]},ef.prototype={},ef.prototype.constructor=ef,ef.superclass=Object.prototype,ef.prototype.getNamespace=function(e,t){if("xml"==e)return T.XML_NAMESPACE_URI;if("xmlns"==e)return T.XMLNS_NAMESPACE_URI;for(t.nodeType==w?t=t.documentElement:t.nodeType==g?t=V.getOwnerElement(t):t.nodeType!=m&&(t=t.parentNode);null!=t&&t.nodeType==m;){for(var r=t.attributes,i=0;i<r.length;i++){var n=r.item(i),o=n.name||n.nodeName;if("xmlns"===o&&""===e||o==="xmlns:"+e)return String(n.value||n.nodeValue)}t=t.parentNode}return null};var eh={};eh.last=function(e){if(1!=arguments.length)throw Error("Function last expects ()");return new er(e.contextSize)},eh.position=function(e){if(1!=arguments.length)throw Error("Function position expects ()");return new er(e.contextPosition)},eh.count=function(){var e,t=arguments[0];if(2!=arguments.length||!em.instance_of(e=arguments[1].evaluate(t),el))throw Error("Function count expects (node-set)");return new er(e.size)},eh.id=function(){var e,t,r=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");e=arguments[1].evaluate(r);for(var i=(e=em.instance_of(e,el)?e.toArray().join(" "):e.stringValue()).split(/[\x0d\x0a\x09\x20]+/),n=new el,o=r.contextNode.nodeType==w?r.contextNode:r.contextNode.ownerDocument,a=0;a<i.length;a++)null!=(t=o.getElementById?o.getElementById(i[a]):em.getElementById(o,i[a]))&&n.add(t);return n},eh.localName=function(e,t){var r;if(1==arguments.length)r=e.contextNode;else if(2==arguments.length)r=t.evaluate(e).first();else throw Error("Function local-name expects (node-set?)");return new et(null==r?"":r.localName||r.baseName||r.target||r.nodeName||"")},eh.namespaceURI=function(){var e,t=arguments[0];if(1==arguments.length)e=t.contextNode;else if(2==arguments.length)e=arguments[1].evaluate(t).first();else throw Error("Function namespace-uri expects (node-set?)");return new et(null==e?"":e.namespaceURI)},eh.name=function(){var e,t=arguments[0];if(1==arguments.length)e=t.contextNode;else if(2==arguments.length)e=arguments[1].evaluate(t).first();else throw Error("Function name expects (node-set?)");return null==e?new et(""):e.nodeType==m?new et(e.nodeName):e.nodeType==g?new et(e.name||e.nodeName):e.nodeType===b?new et(e.target||e.nodeName):null==e.localName?new et(""):new et(e.localName)},eh.string=function(){var e=arguments[0];if(1==arguments.length)return new et(el.prototype.stringForNode(e.contextNode));if(2==arguments.length)return arguments[1].evaluate(e).string();throw Error("Function string expects (object?)")},eh.concat=function(e){if(arguments.length<3)throw Error("Function concat expects (string, string[, string]*)");for(var t="",r=1;r<arguments.length;r++)t+=arguments[r].evaluate(e).stringValue();return new et(t)},eh.startsWith=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();return new eo(t.substring(0,r.length)==r)},eh.contains=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();return new eo(-1!==t.indexOf(r))},eh.substringBefore=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();return new et(t.substring(0,t.indexOf(r)))},eh.substringAfter=function(){var e=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),r=arguments[2].evaluate(e).stringValue();if(0==r.length)return new et(t);var i=t.indexOf(r);return new et(-1==i?"":t.substring(i+r.length))},eh.substring=function(){var e=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var t=arguments[1].evaluate(e).stringValue(),r=Math.round(arguments[2].evaluate(e).numberValue())-1,i=4==arguments.length?r+Math.round(arguments[3].evaluate(e).numberValue()):void 0;return new et(t.substring(r,i))},eh.stringLength=function(){var e,t=arguments[0];if(1==arguments.length)e=el.prototype.stringForNode(t.contextNode);else if(2==arguments.length)e=arguments[1].evaluate(t).stringValue();else throw Error("Function string-length expects (string?)");return new er(e.length)},eh.normalizeSpace=function(){var e,t=arguments[0];if(1==arguments.length)e=el.prototype.stringForNode(t.contextNode);else if(2==arguments.length)e=arguments[1].evaluate(t).stringValue();else throw Error("Function normalize-space expects (string?)");for(var r=0,i=e.length-1;em.isSpace(e.charCodeAt(i));)i--;for(var n="";r<=i&&em.isSpace(e.charCodeAt(r));)r++;for(;r<=i;)if(em.isSpace(e.charCodeAt(r)))for(n+=" ";r<=i&&em.isSpace(e.charCodeAt(r));)r++;else n+=e.charAt(r),r++;return new et(n)},eh.translate=function(e,t,r,o){if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");var a=t.evaluate(e).stringValue(),s=r.evaluate(e).stringValue(),l=o.evaluate(e).stringValue(),c=i(function(e,t,r){return t in e||(e[t]=r>l.length?"":l[r]),e},{},s);return new et(u("",n(function(e){return e in c?c[e]:e},a)))},eh.boolean_=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(e).bool()},eh.not=function(e,t){if(2!=arguments.length)throw Error("Function not expects (object)");return t.evaluate(e).bool().not()},eh.true_=function(){if(1!=arguments.length)throw Error("Function true expects ()");return eo.true_},eh.false_=function(){if(1!=arguments.length)throw Error("Function false expects ()");return eo.false_},eh.lang=function(){var e,t=arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var r=t.contextNode;null!=r&&r.nodeType!=w;r=r.parentNode){var i=r.getAttributeNS(T.XML_NAMESPACE_URI,"lang");if(null!=i){e=String(i);break}}if(null==e)return eo.false_;var n=arguments[1].evaluate(t).stringValue();return new eo(e.substring(0,n.length)==n&&(e.length==n.length||"-"==e.charAt(n.length)))},eh.number=function(){var e=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");return 1==arguments.length?new er(el.prototype.stringForNode(e.contextNode)):arguments[1].evaluate(e).number()},eh.sum=function(){var e,t=arguments[0];if(2!=arguments.length||!em.instance_of(e=arguments[1].evaluate(t),el))throw Error("Function sum expects (node-set)");e=e.toUnsortedArray();for(var r=0,i=0;i<e.length;i++)r+=new er(el.prototype.stringForNode(e[i])).numberValue();return new er(r)},eh.floor=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new er(Math.floor(arguments[1].evaluate(e).numberValue()))},eh.ceiling=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new er(Math.ceil(arguments[1].evaluate(e).numberValue()))},eh.round=function(){var e=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");return new er(Math.round(arguments[1].evaluate(e).numberValue()))};var em={};em.isAttribute=function(e){return e&&(e.nodeType===g||e.ownerElement)},em.splitQName=function(e){var t=e.indexOf(":");return -1==t?[null,e]:[e.substring(0,t),e.substring(t+1)]},em.resolveQName=function(e,t,r,i){var n=em.splitQName(e);return null!=n[0]?n[0]=t.getNamespace(n[0],r):i?(n[0]=t.getNamespace("",r),null==n[0]&&(n[0]="")):n[0]="",n},em.isSpace=function(e){return 9==e||13==e||10==e||32==e},em.isLetter=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=255||e>=256&&e<=305||e>=308&&e<=318||e>=321&&e<=328||e>=330&&e<=382||e>=384&&e<=451||e>=461&&e<=496||e>=500&&e<=501||e>=506&&e<=535||e>=592&&e<=680||e>=699&&e<=705||902==e||e>=904&&e<=906||908==e||e>=910&&e<=929||e>=931&&e<=974||e>=976&&e<=982||986==e||988==e||990==e||992==e||e>=994&&e<=1011||e>=1025&&e<=1036||e>=1038&&e<=1103||e>=1105&&e<=1116||e>=1118&&e<=1153||e>=1168&&e<=1220||e>=1223&&e<=1224||e>=1227&&e<=1228||e>=1232&&e<=1259||e>=1262&&e<=1269||e>=1272&&e<=1273||e>=1329&&e<=1366||1369==e||e>=1377&&e<=1414||e>=1488&&e<=1514||e>=1520&&e<=1522||e>=1569&&e<=1594||e>=1601&&e<=1610||e>=1649&&e<=1719||e>=1722&&e<=1726||e>=1728&&e<=1742||e>=1744&&e<=1747||1749==e||e>=1765&&e<=1766||e>=2309&&e<=2361||2365==e||e>=2392&&e<=2401||e>=2437&&e<=2444||e>=2447&&e<=2448||e>=2451&&e<=2472||e>=2474&&e<=2480||2482==e||e>=2486&&e<=2489||e>=2524&&e<=2525||e>=2527&&e<=2529||e>=2544&&e<=2545||e>=2565&&e<=2570||e>=2575&&e<=2576||e>=2579&&e<=2600||e>=2602&&e<=2608||e>=2610&&e<=2611||e>=2613&&e<=2614||e>=2616&&e<=2617||e>=2649&&e<=2652||2654==e||e>=2674&&e<=2676||e>=2693&&e<=2699||2701==e||e>=2703&&e<=2705||e>=2707&&e<=2728||e>=2730&&e<=2736||e>=2738&&e<=2739||e>=2741&&e<=2745||2749==e||2784==e||e>=2821&&e<=2828||e>=2831&&e<=2832||e>=2835&&e<=2856||e>=2858&&e<=2864||e>=2866&&e<=2867||e>=2870&&e<=2873||2877==e||e>=2908&&e<=2909||e>=2911&&e<=2913||e>=2949&&e<=2954||e>=2958&&e<=2960||e>=2962&&e<=2965||e>=2969&&e<=2970||2972==e||e>=2974&&e<=2975||e>=2979&&e<=2980||e>=2984&&e<=2986||e>=2990&&e<=2997||e>=2999&&e<=3001||e>=3077&&e<=3084||e>=3086&&e<=3088||e>=3090&&e<=3112||e>=3114&&e<=3123||e>=3125&&e<=3129||e>=3168&&e<=3169||e>=3205&&e<=3212||e>=3214&&e<=3216||e>=3218&&e<=3240||e>=3242&&e<=3251||e>=3253&&e<=3257||3294==e||e>=3296&&e<=3297||e>=3333&&e<=3340||e>=3342&&e<=3344||e>=3346&&e<=3368||e>=3370&&e<=3385||e>=3424&&e<=3425||e>=3585&&e<=3630||3632==e||e>=3634&&e<=3635||e>=3648&&e<=3653||e>=3713&&e<=3714||3716==e||e>=3719&&e<=3720||3722==e||3725==e||e>=3732&&e<=3735||e>=3737&&e<=3743||e>=3745&&e<=3747||3749==e||3751==e||e>=3754&&e<=3755||e>=3757&&e<=3758||3760==e||e>=3762&&e<=3763||3773==e||e>=3776&&e<=3780||e>=3904&&e<=3911||e>=3913&&e<=3945||e>=4256&&e<=4293||e>=4304&&e<=4342||4352==e||e>=4354&&e<=4355||e>=4357&&e<=4359||4361==e||e>=4363&&e<=4364||e>=4366&&e<=4370||4412==e||4414==e||4416==e||4428==e||4430==e||4432==e||e>=4436&&e<=4437||4441==e||e>=4447&&e<=4449||4451==e||4453==e||4455==e||4457==e||e>=4461&&e<=4462||e>=4466&&e<=4467||4469==e||4510==e||4520==e||4523==e||e>=4526&&e<=4527||e>=4535&&e<=4536||4538==e||e>=4540&&e<=4546||4587==e||4592==e||4601==e||e>=7680&&e<=7835||e>=7840&&e<=7929||e>=7936&&e<=7957||e>=7960&&e<=7965||e>=7968&&e<=8005||e>=8008&&e<=8013||e>=8016&&e<=8023||8025==e||8027==e||8029==e||e>=8031&&e<=8061||e>=8064&&e<=8116||e>=8118&&e<=8124||8126==e||e>=8130&&e<=8132||e>=8134&&e<=8140||e>=8144&&e<=8147||e>=8150&&e<=8155||e>=8160&&e<=8172||e>=8178&&e<=8180||e>=8182&&e<=8188||8486==e||e>=8490&&e<=8491||8494==e||e>=8576&&e<=8578||e>=12353&&e<=12436||e>=12449&&e<=12538||e>=12549&&e<=12588||e>=44032&&e<=55203||e>=19968&&e<=40869||12295==e||e>=12321&&e<=12329},em.isNCNameChar=function(e){return e>=48&&e<=57||e>=1632&&e<=1641||e>=1776&&e<=1785||e>=2406&&e<=2415||e>=2534&&e<=2543||e>=2662&&e<=2671||e>=2790&&e<=2799||e>=2918&&e<=2927||e>=3047&&e<=3055||e>=3174&&e<=3183||e>=3302&&e<=3311||e>=3430&&e<=3439||e>=3664&&e<=3673||e>=3792&&e<=3801||e>=3872&&e<=3881||46==e||45==e||95==e||em.isLetter(e)||e>=768&&e<=837||e>=864&&e<=865||e>=1155&&e<=1158||e>=1425&&e<=1441||e>=1443&&e<=1465||e>=1467&&e<=1469||1471==e||e>=1473&&e<=1474||1476==e||e>=1611&&e<=1618||1648==e||e>=1750&&e<=1756||e>=1757&&e<=1759||e>=1760&&e<=1764||e>=1767&&e<=1768||e>=1770&&e<=1773||e>=2305&&e<=2307||2364==e||e>=2366&&e<=2380||2381==e||e>=2385&&e<=2388||e>=2402&&e<=2403||e>=2433&&e<=2435||2492==e||2494==e||2495==e||e>=2496&&e<=2500||e>=2503&&e<=2504||e>=2507&&e<=2509||2519==e||e>=2530&&e<=2531||2562==e||2620==e||2622==e||2623==e||e>=2624&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e>=2672&&e<=2673||e>=2689&&e<=2691||2748==e||e>=2750&&e<=2757||e>=2759&&e<=2761||e>=2763&&e<=2765||e>=2817&&e<=2819||2876==e||e>=2878&&e<=2883||e>=2887&&e<=2888||e>=2891&&e<=2893||e>=2902&&e<=2903||e>=2946&&e<=2947||e>=3006&&e<=3010||e>=3014&&e<=3016||e>=3018&&e<=3021||3031==e||e>=3073&&e<=3075||e>=3134&&e<=3140||e>=3142&&e<=3144||e>=3146&&e<=3149||e>=3157&&e<=3158||e>=3202&&e<=3203||e>=3262&&e<=3268||e>=3270&&e<=3272||e>=3274&&e<=3277||e>=3285&&e<=3286||e>=3330&&e<=3331||e>=3390&&e<=3395||e>=3398&&e<=3400||e>=3402&&e<=3405||3415==e||3633==e||e>=3636&&e<=3642||e>=3655&&e<=3662||3761==e||e>=3764&&e<=3769||e>=3771&&e<=3772||e>=3784&&e<=3789||e>=3864&&e<=3865||3893==e||3895==e||3897==e||3902==e||3903==e||e>=3953&&e<=3972||e>=3974&&e<=3979||e>=3984&&e<=3989||3991==e||e>=3993&&e<=4013||e>=4017&&e<=4023||4025==e||e>=8400&&e<=8412||8417==e||e>=12330&&e<=12335||12441==e||12442==e||183==e||720==e||721==e||903==e||1600==e||3654==e||3782==e||12293==e||e>=12337&&e<=12341||e>=12445&&e<=12446||e>=12540&&e<=12542},em.coalesceText=function(e){for(var t=e.firstChild;null!=t;t=t.nextSibling)if(t.nodeType==y||t.nodeType==v){var r=t.nodeValue,i=t;for(t=t.nextSibling;null!=t&&(t.nodeType==y||t.nodeType==v);){r+=t.nodeValue;var n=t;t=t.nextSibling,n.parentNode.removeChild(n)}if(i.nodeType==v){var o=i.parentNode;if(null==i.nextSibling)o.removeChild(i),o.appendChild(o.ownerDocument.createTextNode(r));else{var a=i.nextSibling;o.removeChild(i),o.insertBefore(o.ownerDocument.createTextNode(r),a)}}else i.nodeValue=r;if(null==t)break}else t.nodeType==m&&em.coalesceText(t)},em.instance_of=function(e,t){for(;null!=e;){if(e.constructor===t)return!0;if(e===Object)break;e=e.constructor.superclass}return!1},em.getElementById=function(e,t){if(e.nodeType==m&&(e.getAttribute("id")==t||e.getAttributeNS(null,"id")==t))return e;for(var r=e.firstChild;null!=r;r=r.nextSibling){var i=em.getElementById(r,t);if(null!=i)return i}return null};var eg=function(){function e(e,r){var i=r?": "+r.toString():"";switch(e){case t.INVALID_EXPRESSION_ERR:return"Invalid expression"+i;case t.TYPE_ERR:return"Type error"+i}return null}function t(t,r,i){var n=Error.call(this,e(t,r)||i);return n.code=t,n.exception=r,n}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.superclass=Error,t.prototype.toString=function(){return this.message},t.fromMessage=function(e,r){return new t(null,r,e)},t.INVALID_EXPRESSION_ERR=51,t.TYPE_ERR=52,t}();function ey(e,t,r){this.xpath=r.parse(e),this.context=new ec,this.context.namespaceResolver=new ev(t)}function ev(e){this.xpathNSResolver=e}function eb(e){this.node=e,this.namespaceResolver=new ef}function eA(e,t){switch(t==eA.ANY_TYPE&&(e.constructor===et?t=eA.STRING_TYPE:e.constructor===er?t=eA.NUMBER_TYPE:e.constructor===eo?t=eA.BOOLEAN_TYPE:e.constructor===el&&(t=eA.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=t,t){case eA.NUMBER_TYPE:this.numberValue=e.numberValue();return;case eA.STRING_TYPE:this.stringValue=e.stringValue();return;case eA.BOOLEAN_TYPE:this.booleanValue=e.booleanValue();return;case eA.ANY_UNORDERED_NODE_TYPE:case eA.FIRST_ORDERED_NODE_TYPE:if(e.constructor===el){this.singleNodeValue=e.first();return}break;case eA.UNORDERED_NODE_ITERATOR_TYPE:case eA.ORDERED_NODE_ITERATOR_TYPE:if(e.constructor===el){this.invalidIteratorState=!1,this.nodes=e.toArray(),this.iteratorIndex=0;return}break;case eA.UNORDERED_NODE_SNAPSHOT_TYPE:case eA.ORDERED_NODE_SNAPSHOT_TYPE:if(e.constructor===el){this.nodes=e.toArray(),this.snapshotLength=this.nodes.length;return}}throw new eg(eg.TYPE_ERR)}function ew(e,t){e.createExpression=function(e,r){try{return new ey(e,r,t)}catch(e){throw new eg(eg.INVALID_EXPRESSION_ERR,e)}},e.createNSResolver=function(e){return new eb(e)},e.evaluate=function(r,i,n,o,a){if(o<0||o>9)throw{code:0,toString:function(){return"Request type not supported"}};return e.createExpression(r,n,t).evaluate(i,o,a)}}ey.prototype={},ey.prototype.constructor=ey,ey.superclass=Object.prototype,ey.getOwnerDocument=function(e){return e.nodeType===w?e:e.ownerDocument},ey.detectHtmlDom=function(e){if(!e)return!1;var t=ey.getOwnerDocument(e);try{return t.implementation.hasFeature("HTML","2.0")}catch(e){return!0}},ey.prototype.evaluate=function(e,t,r){return this.context.expressionContextNode=e,this.context.caseInsensitive=ey.detectHtmlDom(e),new eA(this.xpath.evaluate(this.context),t)},ev.prototype={},ev.prototype.constructor=ev,ev.superclass=Object.prototype,ev.prototype.getNamespace=function(e,t){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(e)},eb.prototype={},eb.prototype.constructor=eb,eb.superclass=Object.prototype,eb.prototype.lookupNamespaceURI=function(e){return this.namespaceResolver.getNamespace(e,this.node)},eA.prototype={},eA.prototype.constructor=eA,eA.superclass=Object.prototype,eA.prototype.iterateNext=function(){if(this.resultType!=eA.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=eA.ORDERED_NODE_ITERATOR_TYPE)throw new eg(eg.TYPE_ERR);return this.nodes[this.iteratorIndex++]},eA.prototype.snapshotItem=function(e){if(this.resultType!=eA.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=eA.ORDERED_NODE_SNAPSHOT_TYPE)throw new eg(eg.TYPE_ERR);return this.nodes[e]},eA.ANY_TYPE=0,eA.NUMBER_TYPE=1,eA.STRING_TYPE=2,eA.BOOLEAN_TYPE=3,eA.UNORDERED_NODE_ITERATOR_TYPE=4,eA.ORDERED_NODE_ITERATOR_TYPE=5,eA.UNORDERED_NODE_SNAPSHOT_TYPE=6,eA.ORDERED_NODE_SNAPSHOT_TYPE=7,eA.ANY_UNORDERED_NODE_TYPE=8,eA.FIRST_ORDERED_NODE_TYPE=9;try{var e_=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(e_=!1)}catch(e){}e_&&ew(document,new E)}catch(e){}ew(e,new E),function(){var t=new E,r=new ef,i=new ep,n=new ed;function o(e){return{getNamespace:function(t,i){return e(t,i)||r.getNamespace(t,i)}}}function a(e){return o(e.getNamespace.bind(e))}function s(e){return o(function(t){return e[t]})}function l(e){return e&&"function"==typeof e.getNamespace?a(e):"function"==typeof e?o(e):"object"==typeof e?s(e):r}function u(e){if(null==e||e instanceof et||e instanceof eo||e instanceof er||e instanceof el)return e;switch(typeof e){case"string":return new et(e);case"boolean":return new eo(e);case"number":return new er(e)}var t=new el;return t.addArray([].concat(e)),t}function c(e){return function(t){var r=Array.prototype.slice.call(arguments,1).map(function(e){return e.evaluate(t)});return u(e.apply(this,[].concat(t,r)))}}function d(e){return{getFunction:function(t,r){var n=e(t,r);return n?c(n):i.getFunction(t,r)}}}function p(e){return d(e.getFunction.bind(e))}function f(e){return d(function(t){return e[t]})}function h(e){return e&&"function"==typeof e.getFunction?p(e):"function"==typeof e?d(e):"object"==typeof e?f(e):i}function m(e){return{getVariable:function(t,r){return u(e(t,r))}}}function g(e){if(e){if("function"==typeof e.getVariable)return m(e.getVariable.bind(e));if("function"==typeof e)return m(e);if("object"==typeof e)return m(function(t){return e[t]})}return n}function y(e,t,r){e in r&&(t[e]=r[e])}function v(e){var t=new ec;return e?(t.namespaceResolver=l(e.namespaces),t.functionResolver=h(e.functions),t.variableResolver=g(e.variables),t.expressionContextNode=e.node,y("allowAnyNamespaceForNoPrefix",t,e),y("isHtml",t,e)):t.namespaceResolver=r,t}function b(e,t){var r=v(t);return e.evaluate(r)}var A={evaluate:function(e){return b(this.expression,e)},evaluateNumber:function(e){return this.evaluate(e).numberValue()},evaluateString:function(e){return this.evaluate(e).stringValue()},evaluateBoolean:function(e){return this.evaluate(e).booleanValue()},evaluateNodeSet:function(e){return this.evaluate(e).nodeset()},select:function(e){return this.evaluateNodeSet(e).toArray()},select1:function(e){return this.select(e)[0]}};e.parse=function(e){return Object.create(A,{expression:{value:t.parse(e)}})}}(),h(e,{XPath:T,XPathParser:E,XPathResult:eA,Step:J,PathExpr:V,NodeTest:Q,LocationPath:Z,OrOperation:N,AndOperation:R,BarOperation:q,EqualsOperation:P,NotEqualOperation:D,LessThanOperation:U,GreaterThanOperation:L,LessThanOrEqualOperation:K,GreaterThanOrEqualOperation:M,PlusOperation:B,MinusOperation:j,MultiplyOperation:$,DivOperation:z,ModOperation:F,UnaryMinusOperation:C,FunctionCall:X,VariableReference:Y,XPathContext:ec,XNodeSet:el,XBoolean:eo,XString:et,XNumber:er,NamespaceResolver:ef,FunctionResolver:ep,VariableResolver:ed,Utilities:em}),e.select=function(t,r,i){return e.selectWithResolver(t,r,null,i)},e.useNamespaces=function(t){var r={mappings:t||{},lookupNamespaceURI:function(e){return this.mappings[e]}};return function(t,i,n){return e.selectWithResolver(t,i,r,n)}},e.selectWithResolver=function(e,t,r,i){var n=new ey(e,r,new E),o=eA.ANY_TYPE,a=n.evaluate(t,o,null);return a.resultType==eA.STRING_TYPE?a=a.stringValue:a.resultType==eA.NUMBER_TYPE?a=a.numberValue:a.resultType==eA.BOOLEAN_TYPE?a=a.booleanValue:(a=a.nodes,i&&(a=a[0])),a},e.select1=function(t,r){return e.select(t,r,!0)};var eS=function(e){return e&&"number"==typeof e.nodeType&&Number.isInteger(e.nodeType)&&e.nodeType>=1&&e.nodeType<=11&&"string"==typeof e.nodeName},eE=function(e){return Array.isArray(e)&&e.every(eS)},eT=function(e){return function(t){return eS(t)&&t.nodeType===e}};h(e,{isNodeLike:eS,isArrayOfNodes:eE,isElement:eT(m),isAttribute:eT(g),isTextNode:eT(y),isCDATASection:eT(v),isProcessingInstruction:eT(b),isComment:eT(A),isDocumentNode:eT(w),isDocumentTypeNode:eT(_),isDocumentFragment:eT(S)})}(r)},561864,(e,t,r)=>{"use strict";var i;function n(e){return e&&"object"==typeof e&&Number.isInteger(e.nodeType)&&e.nodeType>=1&&e.nodeType<=11&&"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.removeChild}function o(e){return Array.isArray(e)&&e.every(n)}function a(e,t){return n(t)&&t.nodeType===e}function s(e,t){let r=Object.keys(i).find(t=>i[t]===e);if(!a(e,t))throw Error(`Value is not of type ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsDocumentFragmentNode=r.assertIsDocumentTypeNode=r.assertIsDocumentNode=r.assertIsCommentNode=r.assertIsProcessingInstructionNode=r.assertIsCDATASectionNode=r.assertIsTextNode=r.assertIsAttributeNode=r.assertIsElementNode=r.isDocumentFragmentNode=r.isDocumentTypeNode=r.isDocumentNode=r.isCommentNode=r.isProcessingInstructionNode=r.isCDATASectionNode=r.isTextNode=r.isAttributeNode=r.isElementNode=r.assertIsArrayOfNodes=r.isArrayOfNodes=r.assertIsNodeLike=r.isNodeLike=r.NodeTypes=void 0,function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"}(i||(r.NodeTypes=i={})),r.isNodeLike=n,r.assertIsNodeLike=function(e){if(!n(e))throw Error(`Value is not a Node-like object. Received: ${e}`)},r.isArrayOfNodes=o,r.assertIsArrayOfNodes=function(e){if(!o(e))throw Error("Value is not an array of Nodes")},r.isElementNode=e=>a(i.ELEMENT_NODE,e),r.isAttributeNode=e=>a(i.ATTRIBUTE_NODE,e),r.isTextNode=e=>a(i.TEXT_NODE,e),r.isCDATASectionNode=e=>a(i.CDATA_SECTION_NODE,e),r.isProcessingInstructionNode=e=>a(i.PROCESSING_INSTRUCTION_NODE,e),r.isCommentNode=e=>a(i.COMMENT_NODE,e),r.isDocumentNode=e=>a(i.DOCUMENT_NODE,e),r.isDocumentTypeNode=e=>a(i.DOCUMENT_TYPE_NODE,e),r.isDocumentFragmentNode=e=>a(i.DOCUMENT_FRAGMENT_NODE,e),r.assertIsElementNode=e=>{s(i.ELEMENT_NODE,e)},r.assertIsAttributeNode=e=>s(i.ATTRIBUTE_NODE,e),r.assertIsTextNode=e=>s(i.TEXT_NODE,e),r.assertIsCDATASectionNode=e=>s(i.CDATA_SECTION_NODE,e),r.assertIsProcessingInstructionNode=e=>s(i.PROCESSING_INSTRUCTION_NODE,e),r.assertIsCommentNode=e=>s(i.COMMENT_NODE,e),r.assertIsDocumentNode=e=>s(i.DOCUMENT_NODE,e),r.assertIsDocumentTypeNode=e=>s(i.DOCUMENT_TYPE_NODE,e),r.assertIsDocumentFragmentNode=e=>s(i.DOCUMENT_FRAGMENT_NODE,e)},372656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateDigestValue=r.findAncestorNs=r.derToPem=r.pemToDer=r.normalizePem=r.BASE64_REGEX=r.EXTRACT_X509_CERTS=r.PEM_FORMAT_REGEX=r.encodeSpecialCharactersInText=r.encodeSpecialCharactersInAttribute=r.findChilds=r.findChildren=r.findAttr=r.isArrayHasLength=void 0;let i=e.r(994941),n=e.r(561864);function o(e){return Array.isArray(e)&&e.length>0}function a(e,t,r){return e.localName===t&&(e.namespaceURI===r||null==r)}function s(e,t,r,i){return e.localName===t&&(!e.namespaceURI&&i?.namespaceURI===r||null==r)}function l(e,t,r){let i=e.documentElement??e,o=[];for(let e=0;e<i.childNodes.length;e++){let a=i.childNodes[e];n.isElementNode(a)&&a.localName===t&&(a.namespaceURI===r||null==r)&&o.push(a)}return o}r.isArrayHasLength=o,r.findAttr=function(e,t,r){for(let i=0;i<e.attributes.length;i++){let n=e.attributes[i];if(a(n,t,r)||s(n,t,r,e))return n}return null},r.findChildren=l,r.findChilds=function(e,t,r){return l(e,t,r)};let u={"&":"&amp;","<":"&lt;",'"':"&quot;","\r":"&#xD;","\n":"&#xA;","	":"&#x9;"},c={"&":"&amp;","<":"&lt;",">":"&gt;","\r":"&#xD;"};function d(e){return`${(e.trim().replace(/(\r\n|\r)/g,"\n").match(/.{1,64}/g)??[]).join("\n")}
`}function p(e){if(!r.PEM_FORMAT_REGEX.test(e.trim()))throw Error("Invalid PEM format.");return Buffer.from(e.replace(/(\r\n|\r)/g,"").replace(/-----BEGIN [A-Z\x20]{1,48}-----\n?/,"").replace(/-----END [A-Z\x20]{1,48}-----\n?/,""),"base64")}function f(e,t){let i=Buffer.isBuffer(e)?e.toString("base64").trim():e.replace(/(\r\n|\r)/g,"").trim();if(r.PEM_FORMAT_REGEX.test(i))return d(i);if(r.BASE64_REGEX.test(i.replace(/ /g,""))){if(null==t)throw Error("PEM label is required when DER is given.");return d(`-----BEGIN ${t}-----
${i.replace(/ /g,"")}
-----END ${t}-----`)}throw Error("Unknown DER format.")}function h(e,t=[]){if(!n.isElementNode(e.parentNode))return t;let r=e.parentNode;if(!r)return t;if(r.attributes&&r.attributes.length>0)for(let e=0;e<r.attributes.length;e++){let i=r.attributes[e];i&&i.nodeName&&-1!==i.nodeName.search(/^xmlns:?/)&&t.push({prefix:i.nodeName.replace(/^xmlns:?/,""),namespaceURI:i.nodeValue||""})}return h(r,t)}function m(e){let t=e.attributes;for(let e=0;e<t.length;e++){let r=t[e].nodeName;if(-1!==r.search(/^xmlns:?/))return r.replace(/^xmlns:?/,"")}return e.prefix||""}function g(e){return e.every(e=>n.isElementNode(e))}r.encodeSpecialCharactersInAttribute=function(e){return e.replace(/([&<"\r\n\t])/g,function(e,t){return u[t]})},r.encodeSpecialCharactersInText=function(e){return e.replace(/([&<>\r])/g,function(e,t){return c[t]})},r.PEM_FORMAT_REGEX=RegExp("^-----BEGIN [A-Z ]{1,48}-----([^-]*)-----END [A-Z ]{1,48}-----$","s"),r.EXTRACT_X509_CERTS=RegExp("-----BEGIN CERTIFICATE-----[^-]*-----END CERTIFICATE-----","g"),r.BASE64_REGEX=RegExp("^(?:[A-Za-z0-9\\+\\/]{4}\\n{0,1})*(?:[A-Za-z0-9\\+\\/]{2}==|[A-Za-z0-9\\+\\/]{3}=)?$","s"),r.normalizePem=d,r.pemToDer=p,r.derToPem=f,r.findAncestorNs=function(e,t,r){if(null==t)return[];let n=i.selectWithResolver(t,e,r);if(!o(n))return[];if(!g(n))throw Error("Document subset must be list of elements");let a=h(n[0]),s=[];for(let e=0;e<a.length;e++){let t=!0;for(let r in s)if(s[r].prefix===a[e].prefix){t=!1;break}t&&s.push(a[e])}let l=[],u=m(n[0]);for(let e of s)e.prefix!==u&&l.push(e);return l},r.validateDigestValue=function(e,t){let r=Buffer.from(e,"base64"),i=Buffer.from(t,"base64");if("function"==typeof r.equals)return r.equals(i);if(r.length!==i.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}},601731,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.C14nCanonicalizationWithComments=r.C14nCanonicalization=void 0;let i=e.r(372656),n=e.r(561864);class o{constructor(){this.includeComments=!1,this.includeComments=!1}attrCompare(e,t){if(!e.namespaceURI&&t.namespaceURI)return -1;if(!t.namespaceURI&&e.namespaceURI)return 1;let r=e.namespaceURI+e.localName,i=t.namespaceURI+t.localName;return r===i?0:r<i?-1:1}nsCompare(e,t){let r=e.prefix,i=t.prefix;return r===i?0:r.localeCompare(i)}renderAttrs(e){let t,r,o=[];if(n.isCommentNode(e))return this.renderComment(e);if(e.attributes)for(t=0;t<e.attributes.length;++t)0!==(r=e.attributes[t]).name.indexOf("xmlns")&&o.push(r);return o.sort(this.attrCompare),o.map(e=>` ${e.name}="${i.encodeSpecialCharactersInAttribute(e.value)}"`).join("")}renderNs(e,t,r,n,o){let a,s,l=[],u=r,c=[],d=e.namespaceURI||"";if(e.prefix?-1===t.indexOf(e.prefix)&&(c.push({prefix:e.prefix,namespaceURI:e.namespaceURI||n[e.prefix]}),t.push(e.prefix)):r!==d&&l.push(' xmlns="',u=e.namespaceURI||"",'"'),e.attributes)for(a=0;a<e.attributes.length;++a)"xmlns"===(s=e.attributes[a]).prefix&&-1===t.indexOf(s.localName)&&(c.push({prefix:s.localName,namespaceURI:s.value}),t.push(s.localName)),s.prefix&&-1===t.indexOf(s.prefix)&&"xmlns"!==s.prefix&&"xml"!==s.prefix&&(c.push({prefix:s.prefix,namespaceURI:s.namespaceURI}),t.push(s.prefix));if(i.isArrayHasLength(o))for(let e of o){let t=!1;for(let r of c)r.prefix===e.prefix&&r.namespaceURI===e.namespaceURI&&(t=!0);t||c.push(e)}return c.sort(this.nsCompare),l.push(...c.map(e=>e.prefix?` xmlns:${e.prefix}="${e.namespaceURI}"`:` xmlns="${e.namespaceURI}"`)),{rendered:l.join(""),newDefaultNs:u}}processInner(e,t,r,o,a){if(n.isCommentNode(e))return this.renderComment(e);if(e.data)return i.encodeSpecialCharactersInText(e.data);if(n.isElementNode(e)){let i,n,s=this.renderNs(e,t,r,o,a),l=["<",e.tagName,s.rendered,this.renderAttrs(e),">"];for(i=0;i<e.childNodes.length;++i)n=t.slice(0),l.push(this.processInner(e.childNodes[i],n,s.newDefaultNs,o,[]));return l.push("</",e.tagName,">"),l.join("")}throw Error(`Unable to canonicalize node type: ${e.nodeType}`)}renderComment(e){if(!this.includeComments)return"";let t=e.ownerDocument===e.parentNode,r=!1,n=!1;if(t){let t=e,i=e;for(;null!==t;){if(t===e.ownerDocument.documentElement){r=!0;break}t=t.nextSibling}for(;null!==i;){if(i===e.ownerDocument.documentElement){n=!0;break}i=i.previousSibling}}let o=n?"\n":"",a=r?"\n":"",s=i.encodeSpecialCharactersInText(e.data);return`${o}<!--${s}-->${a}`}process(e,t){let r=(t=t||{}).defaultNs||"",i=t.defaultNsForPrefix||{},n=t.ancestorNamespaces||[],o=[];for(let e=0;e<n.length;e++)o.push(n[e].prefix);return this.processInner(e,o,r,i,n)}getAlgorithmName(){return"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"}}r.C14nCanonicalization=o;class a extends o{constructor(){super(),this.includeComments=!0}getAlgorithmName(){return"http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments"}}r.C14nCanonicalizationWithComments=a},554630,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExclusiveCanonicalizationWithComments=r.ExclusiveCanonicalization=void 0;let i=e.r(372656),n=e.r(561864);function o(e,t,r){let i=!1;return e.forEach(function(e){e.prefix===t&&e.namespaceURI===r&&(i=!0)}),i}class a{constructor(){this.includeComments=!1,this.includeComments=!1}attrCompare(e,t){if(!e.namespaceURI&&t.namespaceURI)return -1;if(!t.namespaceURI&&e.namespaceURI)return 1;let r=e.namespaceURI+e.localName,i=t.namespaceURI+t.localName;return r===i?0:r<i?-1:1}nsCompare(e,t){let r=e.prefix,i=t.prefix;return r===i?0:r.localeCompare(i)}renderAttrs(e){let t,r,o=[],a=[];if(n.isCommentNode(e))return this.renderComment(e);if(e.attributes)for(t=0;t<e.attributes.length;++t)0!==(r=e.attributes[t]).name.indexOf("xmlns")&&a.push(r);for(r of(a.sort(this.attrCompare),a))o.push(" ",r.name,'="',i.encodeSpecialCharactersInAttribute(r.value),'"');return o.join("")}renderNs(e,t,r,i,n){let a,s,l=[],u=r,c=[],d=e.namespaceURI||"";if(e.prefix?o(t,e.prefix,e.namespaceURI||i[e.prefix])||(c.push({prefix:e.prefix,namespaceURI:e.namespaceURI||i[e.prefix]}),t.push({prefix:e.prefix,namespaceURI:e.namespaceURI||i[e.prefix]})):r!==d&&(u=e.namespaceURI,l.push(' xmlns="',u,'"')),e.attributes)for(a=0;a<e.attributes.length;++a)(s=e.attributes[a]).prefix&&!o(t,s.localName,s.value)&&n.indexOf(s.localName)>=0&&(c.push({prefix:s.localName,namespaceURI:s.value}),t.push({prefix:s.localName,namespaceURI:s.value})),s.prefix&&!o(t,s.prefix,s.namespaceURI)&&"xmlns"!==s.prefix&&"xml"!==s.prefix&&(c.push({prefix:s.prefix,namespaceURI:s.namespaceURI}),t.push({prefix:s.prefix,namespaceURI:s.namespaceURI}));for(let e of(c.sort(this.nsCompare),c))l.push(" xmlns:",e.prefix,'="',e.namespaceURI,'"');return{rendered:l.join(""),newDefaultNs:u}}processInner(e,t,r,o,a){if(n.isCommentNode(e))return this.renderComment(e);if(e.data)return i.encodeSpecialCharactersInText(e.data);if(n.isElementNode(e)){let i,n,s=this.renderNs(e,t,r,o,a),l=["<",e.tagName,s.rendered,this.renderAttrs(e),">"];for(i=0;i<e.childNodes.length;++i)n=t.slice(0),l.push(this.processInner(e.childNodes[i],n,s.newDefaultNs,o,a));return l.push("</",e.tagName,">"),l.join("")}throw Error(`Unable to exclusive canonicalize node type: ${e.nodeType}`)}renderComment(e){if(!this.includeComments)return"";let t=e.ownerDocument===e.parentNode,r=!1,n=!1;if(t){let t=e,i=e;for(;null!=t;){if(t===e.ownerDocument.documentElement){r=!0;break}t=t.nextSibling}for(;null!=i;){if(i===e.ownerDocument.documentElement){n=!0;break}i=i.previousSibling}}let o=n?"\n":"",a=r?"\n":"",s=i.encodeSpecialCharactersInText(e.data);return`${o}<!--${s}-->${a}`}process(e,t){let r=(t=t||{}).inclusiveNamespacesPrefixList||[],n=t.defaultNs||"",o=t.defaultNsForPrefix||{},a=t.ancestorNamespaces||[];if(!i.isArrayHasLength(r)){let t=i.findChildren(e,"CanonicalizationMethod");if(0!==t.length){let e=i.findChildren(t[0],"InclusiveNamespaces");0!==e.length&&(r=(e[0].getAttribute("PrefixList")||"").split(" "))}}return i.isArrayHasLength(r)&&r.forEach(function(t){a.forEach(function(r){t===r.prefix&&e.setAttributeNS("http://www.w3.org/2000/xmlns/",`xmlns:${t}`,r.namespaceURI)})}),this.processInner(e,[],n,o,r)}getAlgorithmName(){return"http://www.w3.org/2001/10/xml-exc-c14n#"}}r.ExclusiveCanonicalization=a;class s extends a{constructor(){super(),this.includeComments=!0}getAlgorithmName(){return"http://www.w3.org/2001/10/xml-exc-c14n#WithComments"}}r.ExclusiveCanonicalizationWithComments=s},186358,(e,t,r)=>{"use strict";function i(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var n=e[i];if(t.call(void 0,n,i,e))return n}}function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}function o(e,t){if(null===e||"object"!=typeof e)throw TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var a=n({HTML:"text/html",isHTML:function(e){return e===a.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});r.assign=o,r.find=i,r.freeze=n,r.MIME_TYPE=a,r.NAMESPACE=s},428473,(e,t,r)=>{var i=e.r(186358),n=i.find,o=i.NAMESPACE;function a(e){return""!==e}function s(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}function l(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function u(e){return e?Object.keys(s(e).reduce(l,{})):[]}function c(e){return function(t){return e&&-1!==e.indexOf(t)}}function d(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function p(e,t){var r=e.prototype;if(!(r instanceof t)){function i(){}i.prototype=t.prototype,d(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var f={},h=f.ELEMENT_NODE=1,m=f.ATTRIBUTE_NODE=2,g=f.TEXT_NODE=3,y=f.CDATA_SECTION_NODE=4,v=f.ENTITY_REFERENCE_NODE=5,b=f.ENTITY_NODE=6,A=f.PROCESSING_INSTRUCTION_NODE=7,w=f.COMMENT_NODE=8,_=f.DOCUMENT_NODE=9,S=f.DOCUMENT_TYPE_NODE=10,E=f.DOCUMENT_FRAGMENT_NODE=11,T=f.NOTATION_NODE=12,I={},x={};x[1]="Index size error",I.INDEX_SIZE_ERR=1,x[2]="DOMString size error",I.DOMSTRING_SIZE_ERR=2;var O=(x[3]="Hierarchy request error",I.HIERARCHY_REQUEST_ERR=3);x[4]="Wrong document",I.WRONG_DOCUMENT_ERR=4,x[5]="Invalid character",I.INVALID_CHARACTER_ERR=5,x[6]="No data allowed",I.NO_DATA_ALLOWED_ERR=6,x[7]="No modification allowed",I.NO_MODIFICATION_ALLOWED_ERR=7;var C=(x[8]="Not found",I.NOT_FOUND_ERR=8);x[9]="Not supported",I.NOT_SUPPORTED_ERR=9;var k=(x[10]="Attribute in use",I.INUSE_ATTRIBUTE_ERR=10);function N(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,x[e]),this.message=x[e],Error.captureStackTrace&&Error.captureStackTrace(this,N);return r.code=e,t&&(this.message=this.message+": "+t),r}function R(){}function P(e,t){this._node=e,this._refresh=t,D(this)}function D(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(eI(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var i=r.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];d(r,e),e._inc=t}}function U(){}function L(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function K(e,t,r,i){if(i?t[L(t,i)]=r:t[t.length++]=r,e){r.ownerElement=e;var n=e.ownerDocument;n&&(i&&V(n,e,i),q(n,e,r))}}function M(e,t,r){var i=L(t,r);if(i>=0){for(var n=t.length-1;i<n;)t[i]=t[++i];if(t.length=n,e){var o=e.ownerDocument;o&&(V(o,e,r),r.ownerElement=null)}}else throw new N(C,Error(e.tagName+"@"+r))}function B(){}function j(){}function $(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function z(e,t){if(t(e))return!0;if(e=e.firstChild)do if(z(e,t))return!0;while(e=e.nextSibling)}function F(){this.ownerDocument=this}function q(e,t,r){e&&e._inc++,r.namespaceURI===o.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function V(e,t,r,i){e&&e._inc++,r.namespaceURI===o.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function H(e,t,r){if(e&&e._inc){e._inc++;var i=t.childNodes;if(r)i[i.length++]=r;else{for(var n=t.firstChild,o=0;n;)i[o++]=n,n=n.nextSibling;i.length=o,delete i[i.length]}}}function G(e,t){var r=t.previousSibling,i=t.nextSibling;return r?r.nextSibling=i:e.firstChild=i,i?i.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,H(e.ownerDocument,e),t}function W(e){return e&&(e.nodeType===j.DOCUMENT_NODE||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.ELEMENT_NODE)}function Z(e){return e&&(Q(e)||Y(e)||J(e)||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.COMMENT_NODE||e.nodeType===j.PROCESSING_INSTRUCTION_NODE)}function J(e){return e&&e.nodeType===j.DOCUMENT_TYPE_NODE}function Q(e){return e&&e.nodeType===j.ELEMENT_NODE}function Y(e){return e&&e.nodeType===j.TEXT_NODE}function X(e,t){var r=e.childNodes||[];if(n(r,Q)||J(t))return!1;var i=n(r,J);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function ee(e,t){var r=e.childNodes||[];if(n(r,function(e){return Q(e)&&e!==t}))return!1;var i=n(r,J);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function et(e,t,r){if(!W(e))throw new N(O,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new N(C,"child not in parent");if(!Z(t)||J(t)&&e.nodeType!==j.DOCUMENT_NODE)throw new N(O,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function er(e,t,r){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=o.filter(Q);if(a.length>1||n(o,Y))throw new N(O,"More than one element or text in fragment");if(1===a.length&&!X(e,r))throw new N(O,"Element in fragment can not be inserted before doctype")}if(Q(t)&&!X(e,r))throw new N(O,"Only one element can be added and only after doctype");if(J(t)){if(n(i,J))throw new N(O,"Only one doctype is allowed");var s=n(i,Q);if(r&&i.indexOf(s)<i.indexOf(r))throw new N(O,"Doctype can only be inserted before an element");if(!r&&s)throw new N(O,"Doctype can not be appended since element is present")}}function ei(e,t,r){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=o.filter(Q);if(a.length>1||n(o,Y))throw new N(O,"More than one element or text in fragment");if(1===a.length&&!ee(e,r))throw new N(O,"Element in fragment can not be inserted before doctype")}if(Q(t)&&!ee(e,r))throw new N(O,"Only one element can be added and only after doctype");if(J(t)){if(n(i,function(e){return J(e)&&e!==r}))throw new N(O,"Only one doctype is allowed");var s=n(i,Q);if(r&&i.indexOf(s)<i.indexOf(r))throw new N(O,"Doctype can only be inserted before an element")}}function en(e,t,r,i){et(e,t,r),e.nodeType===j.DOCUMENT_NODE&&(i||er)(e,t,r);var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===E){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var s=r?r.previousSibling:e.lastChild;o.previousSibling=s,a.nextSibling=r,s?s.nextSibling=o:e.firstChild=o,null==r?e.lastChild=a:r.previousSibling=a;do o.parentNode=e,eo(o,e.ownerDocument||e);while(o!==a&&(o=o.nextSibling))return H(e.ownerDocument||e,e),t.nodeType==E&&(t.firstChild=t.lastChild=null),t}function eo(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===h&&e.attributes)for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);i&&(i.ownerDocument=t)}for(var n=e.firstChild;n;)eo(n,t),n=n.nextSibling}}function ea(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),eo(t,e.ownerDocument||e),t}function es(){this._nsMap={}}function el(){}function eu(){}function ec(){}function ed(){}function ep(){}function ef(){}function eh(){}function em(){}function eg(){}function ey(){}function ev(){}function eb(){}function eA(e,t){var r=[],i=9==this.nodeType&&this.documentElement||this,n=i.prefix,o=i.namespaceURI;if(o&&null==n){var n=i.lookupPrefix(o);if(null==n)var a=[{namespace:o,prefix:null}]}return eS(this,r,e,t,a),r.join("")}function ew(e,t,r){var i=e.prefix||"",n=e.namespaceURI;if(!n||"xml"===i&&n===o.XML||n===o.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==n}return!0}function e_(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,$),'"')}function eS(e,t,r,i,n){if(n||(n=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var a,s=e.attributes,l=s.length,u=e.firstChild,c=e.tagName;r=o.isHTML(e.namespaceURI)||r;var d=c;if(!r&&!e.prefix&&e.namespaceURI){for(var p=0;p<s.length;p++)if("xmlns"===s.item(p).name){a=s.item(p).value;break}if(!a)for(var f=n.length-1;f>=0;f--){var b=n[f];if(""===b.prefix&&b.namespace===e.namespaceURI){a=b.namespace;break}}if(a!==e.namespaceURI)for(var f=n.length-1;f>=0;f--){var b=n[f];if(b.namespace===e.namespaceURI){b.prefix&&(d=b.prefix+":"+c);break}}}t.push("<",d);for(var T=0;T<l;T++){var I=s.item(T);"xmlns"==I.prefix?n.push({prefix:I.localName,namespace:I.value}):"xmlns"==I.nodeName&&n.push({prefix:"",namespace:I.value})}for(var T=0;T<l;T++){var I=s.item(T);if(ew(I,r,n)){var x=I.prefix||"",O=I.namespaceURI;e_(t,x?"xmlns:"+x:"xmlns",O),n.push({prefix:x,namespace:O})}eS(I,t,r,i,n)}if(c===d&&ew(e,r,n)){var x=e.prefix||"",O=e.namespaceURI;e_(t,x?"xmlns:"+x:"xmlns",O),n.push({prefix:x,namespace:O})}if(u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;u;)u.data?t.push(u.data):eS(u,t,r,i,n.slice()),u=u.nextSibling;else for(;u;)eS(u,t,r,i,n.slice()),u=u.nextSibling;t.push("</",d,">")}else t.push("/>");return;case _:case E:for(var u=e.firstChild;u;)eS(u,t,r,i,n.slice()),u=u.nextSibling;return;case m:return e_(t,e.name,e.value);case g:return t.push(e.data.replace(/[<&>]/g,$));case y:return t.push("<![CDATA[",e.data,"]]>");case w:return t.push("<!--",e.data,"-->");case S:var C=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(" PUBLIC ",C),k&&"."!=k&&t.push(" ",k),t.push(">");else if(k&&"."!=k)t.push(" SYSTEM ",k,">");else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case A:return t.push("<?",e.target," ",e.data,"?>");case v:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function eE(e,t,r){var i;switch(t.nodeType){case h:(i=t.cloneNode(!1)).ownerDocument=e;case E:break;case m:r=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,r)for(var n=t.firstChild;n;)i.appendChild(eE(e,n,r)),n=n.nextSibling;return i}function eT(e,t,r){var i=new t.constructor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n];"object"!=typeof o&&o!=i[n]&&(i[n]=o)}switch(t.childNodes&&(i.childNodes=new R),i.ownerDocument=e,i.nodeType){case h:var a=t.attributes,s=i.attributes=new U,l=a.length;s._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(eT(e,a.item(u),!0));break;case m:r=!0}if(r)for(var c=t.firstChild;c;)i.appendChild(eT(e,c,r)),c=c.nextSibling;return i}function eI(e,t,r){e[t]=r}x[11]="Invalid state",I.INVALID_STATE_ERR=11,x[12]="Syntax error",I.SYNTAX_ERR=12,x[13]="Invalid modification",I.INVALID_MODIFICATION_ERR=13,x[14]="Invalid namespace",I.NAMESPACE_ERR=14,x[15]="Invalid access",I.INVALID_ACCESS_ERR=15,N.prototype=Error.prototype,d(I,N),R.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],i=0;i<this.length;i++)eS(this[i],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},P.prototype.item=function(e){return D(this),this[e]||null},p(P,R),U.prototype={length:0,item:R.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new N(k);var r=this.getNamedItem(e.nodeName);return K(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new N(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),K(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return M(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var i=this[r];if(i.localName==t&&i.namespaceURI==e)return i}return null}},B.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var i=new F;if(i.implementation=this,i.childNodes=new R,i.doctype=r||null,r&&i.appendChild(r),t){var n=i.createElementNS(e,t);i.appendChild(n)}return i},createDocumentType:function(e,t,r){var i=new ef;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=r||"",i}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return en(this,e,t)},replaceChild:function(e,t){en(this,e,t,ei),t&&this.removeChild(t)},removeChild:function(e){return G(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return eT(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==g&&e.nodeType==g?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===e)return i}t=t.nodeType==m?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==m?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},d(f,j),d(f,j.prototype),F.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==E){for(var r=e.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,t),r=i}return e}return en(this,e,t),eo(e,this),null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),G(this,e)},replaceChild:function(e,t){en(this,e,t,ei),eo(e,this),t&&this.removeChild(t),Q(e)&&(this.documentElement=e)},importNode:function(e,t){return eE(this,e,t)},getElementById:function(e){var t=null;return z(this.documentElement,function(r){if(r.nodeType==h&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=u(e);return new P(this,function(r){var i=[];return t.length>0&&z(r.documentElement,function(n){if(n!==r&&n.nodeType===h){var o=n.getAttribute("class");if(o){var a=e===o;if(!a){var s=u(o);a=t.every(c(s))}a&&i.push(n)}}}),i})},createElement:function(e){var t=new es;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new R,(t.attributes=new U)._ownerElement=t,t},createDocumentFragment:function(){var e=new ey;return e.ownerDocument=this,e.childNodes=new R,e},createTextNode:function(e){var t=new ec;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ed;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ep;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ev;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new el;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new eg;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new es,i=t.split(":"),n=r.attributes=new U;return r.childNodes=new R,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=t,n._ownerElement=r,r},createAttributeNS:function(e,t){var r=new el,i=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=t,r}},p(F,j),es.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===E?this.insertBefore(e,null):ea(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,function(t){var r=[];return z(t,function(i){i!==t&&i.nodeType==h&&("*"===e||i.tagName==e)&&r.push(i)}),r})},getElementsByTagNameNS:function(e,t){return new P(this,function(r){var i=[];return z(r,function(n){n!==r&&n.nodeType===h&&("*"===e||n.namespaceURI===e)&&("*"===t||n.localName==t)&&i.push(n)}),i})}},F.prototype.getElementsByTagName=es.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=es.prototype.getElementsByTagNameNS,p(es,j),el.prototype.nodeType=m,p(el,j),eu.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(x[O])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},p(eu,j),ec.prototype={nodeName:"#text",nodeType:g,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},p(ec,eu),ed.prototype={nodeName:"#comment",nodeType:w},p(ed,eu),ep.prototype={nodeName:"#cdata-section",nodeType:y},p(ep,eu),ef.prototype.nodeType=S,p(ef,j),eh.prototype.nodeType=T,p(eh,j),em.prototype.nodeType=b,p(em,j),eg.prototype.nodeType=v,p(eg,j),ey.prototype.nodeName="#document-fragment",ey.prototype.nodeType=E,p(ey,j),ev.prototype.nodeType=A,p(ev,j),eb.prototype.serializeToString=function(e,t,r){return eA.call(e,t,r)},j.prototype.toString=eA;try{if(Object.defineProperty){function ex(e){switch(e.nodeType){case h:case E:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ex(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return ex(this)},set:function(e){switch(this.nodeType){case h:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),eI=function(e,t,r){e["$$"+t]=r}}}catch(e){}r.DocumentType=ef,r.DOMException=N,r.DOMImplementation=B,r.Element=es,r.Node=j,r.NodeList=R,r.XMLSerializer=eb},566539,(e,t,r)=>{"use strict";var i=e.r(186358).freeze;r.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=i({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"\uD835\uDCB7",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"\uD835\uDD20",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"\uD835\uDD54",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"\uD835\uDCBB",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"\uD835\uDCA2",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"\uD835\uDD25",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"\uD835\uDD59",horbar:"",HorizontalLine:"",Hscr:"",hscr:"\uD835\uDCBD",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"\uD835\uDD26",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"\uD835\uDCBE",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"\uD835\uDCC1",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"",Mscr:"",mscr:"\uD835\uDCC2",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"\uD835\uDD11",nfr:"\uD835\uDD2B",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"\uD835\uDD5F",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"\uD835\uDCA9",nscr:"\uD835\uDCC3",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"\uD835\uDD12",ofr:"\uD835\uDD2C",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"\uD835\uDD46",oopf:"\uD835\uDD60",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"\uD835\uDCAA",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"\uD835\uDD13",pfr:"\uD835\uDD2D",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"\uD835\uDD61",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"\uD835\uDCAB",pscr:"\uD835\uDCC5",Psi:"",psi:"",puncsp:"",Qfr:"\uD835\uDD14",qfr:"\uD835\uDD2E",qint:"",Qopf:"",qopf:"\uD835\uDD62",qprime:"",Qscr:"\uD835\uDCAC",qscr:"\uD835\uDCC6",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"\uD835\uDD2F",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"\uD835\uDD63",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"\uD835\uDCC7",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"\uD835\uDD16",sfr:"\uD835\uDD30",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"\uD835\uDD4A",sopf:"\uD835\uDD64",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"\uD835\uDCAE",sscr:"\uD835\uDCC8",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"\uD835\uDD17",tfr:"\uD835\uDD31",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"\uD835\uDD4B",topf:"\uD835\uDD65",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"\uD835\uDCAF",tscr:"\uD835\uDCC9",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"\uD835\uDD18",ufr:"\uD835\uDD32",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"\uD835\uDD4C",uopf:"\uD835\uDD66",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"\uD835\uDCB0",uscr:"\uD835\uDCCA",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"\uD835\uDD19",vfr:"\uD835\uDD33",vltri:"",vnsub:"",vnsup:"",Vopf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"",vrtri:"",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"",wr:"",wreath:"",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD36",YIcy:"",yicy:"",Yopf:"\uD835\uDD50",yopf:"\uD835\uDD6A",Yscr:"\uD835\uDCB4",yscr:"\uD835\uDCCE",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"\uD835\uDD37",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"\uD835\uDD6B",Zscr:"\uD835\uDCB5",zscr:"\uD835\uDCCF",zwj:"",zwnj:""}),r.entityMap=r.HTML_ENTITIES},983867,(e,t,r)=>{var i=e.r(186358).NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=RegExp("^"+n.source+o.source+"*(?::"+n.source+o.source+"*)?$"),s=0,l=1,u=2,c=3,d=4,p=5,f=6,h=7;function m(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,m)}function g(){}function y(e,t,r,n,o){function a(e){return e>65535?String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e)):String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>y){var r=e.substring(y,t).replace(/&#?\w+;/g,s);f&&u(y),n.characters(r,0,t-y),y=t}}function u(t,r){for(;t>=d&&(r=p.exec(e));)d=(c=r.index)+r[0].length,f.lineNumber++;f.columnNumber=t-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,h=[{currentNSMap:t}],g={},y=0;;){try{var S=e.indexOf("<",y);if(S<0){if(!e.substr(y).match(/^\s*$/)){var x=n.doc,O=x.createTextNode(e.substr(y));x.appendChild(O),n.currentElement=O}return}switch(S>y&&l(S),e.charAt(S+1)){case"/":var C=e.indexOf(">",S+3),k=e.substring(S+2,C).replace(/[ \t\n\r]+$/g,""),N=h.pop();C<0?(k=e.substring(S+2).replace(/[\s<].*/,""),o.error("end tag name: "+k+" is not complete:"+N.tagName),C=S+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),o.error("end tag name: "+k+" maybe not complete"),C=S+1+k.length);var R=N.localNSMap,P=N.tagName==k;if(P||N.tagName&&N.tagName.toLowerCase()==k.toLowerCase()){if(n.endElement(N.uri,N.localName,k),R)for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&n.endPrefixMapping(D);P||o.fatalError("end tag name: "+k+" is not match the current start tagName:"+N.tagName)}else h.push(N);C++;break;case"?":f&&u(S),C=T(e,S,n);break;case"!":f&&u(S),C=E(e,S,n,o);break;default:f&&u(S);var U=new I,L=h[h.length-1].currentNSMap,C=b(e,S,U,L,s,o),K=U.length;if(!U.closed&&_(e,C,U.tagName,g)&&(U.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),f&&K){for(var M=v(f,{}),B=0;B<K;B++){var j=U[B];u(j.offset),j.locator=v(f,{})}n.locator=M,A(U,n,L)&&h.push(U),n.locator=f}else A(U,n,L)&&h.push(U);i.isHTML(U.uri)&&!U.closed?C=w(e,C,U.tagName,s,n):C++}}catch(e){if(e instanceof m)throw e;o.error("element parse error: "+e),C=-1}C>y?y=C:l(Math.max(S,y)+1)}}function v(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function b(e,t,r,n,o,a){function m(e,t,i){r.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),i)}for(var g,y,v=++t,b=s;;){var A=e.charAt(v);switch(A){case"=":if(b===l)g=e.slice(t,v),b=c;else if(b===u)b=c;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(b===c||b===l)if(b===l&&(a.warning('attribute value must after "="'),g=e.slice(t,v)),t=v+1,(v=e.indexOf(A,t))>0)m(g,y=e.slice(t,v),t-1),b=p;else throw Error("attribute value no end '"+A+"' match");else if(b==d)m(g,y=e.slice(t,v),t),a.warning('attribute "'+g+'" missed start quot('+A+")!!"),t=v+1,b=p;else throw Error('attribute value must after "="');break;case"/":switch(b){case s:r.setTagName(e.slice(t,v));case p:case f:case h:b=h,r.closed=!0;case d:case l:break;case u:r.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),b==s&&r.setTagName(e.slice(t,v)),v;case">":switch(b){case s:r.setTagName(e.slice(t,v));case p:case f:case h:break;case d:case l:"/"===(y=e.slice(t,v)).slice(-1)&&(r.closed=!0,y=y.slice(0,-1));case u:b===u&&(y=g),b==d?(a.warning('attribute "'+y+'" missed quot(")!'),m(g,y,t)):(i.isHTML(n[""])&&y.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),m(y,y,t));break;case c:throw Error("attribute value missed!!")}return v;case"":A=" ";default:if(A<=" ")switch(b){case s:r.setTagName(e.slice(t,v)),b=f;break;case l:g=e.slice(t,v),b=u;break;case d:var y=e.slice(t,v);a.warning('attribute "'+y+'" missed quot(")!!'),m(g,y,t);case p:b=f}else switch(b){case u:r.tagName,i.isHTML(n[""])&&g.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),m(g,g,t),t=v,b=l;break;case p:a.warning('attribute space is required"'+g+'"!!');case f:b=l,t=v;break;case c:b=d,t=v;break;case h:throw Error("elements closed character '/' and '>' must be connected to")}}v++}}function A(e,t,r){for(var n=e.tagName,o=null,a=e.length;a--;){var s=e[a],l=s.qName,u=s.value,c=l.indexOf(":");if(c>0)var d=s.prefix=l.slice(0,c),p=l.slice(c+1),f="xmlns"===d&&p;else p=l,d=null,f="xmlns"===l&&"";s.localName=p,!1!==f&&(null==o&&(o={},S(r,r={})),r[f]=o[f]=u,s.uri=i.XMLNS,t.startPrefixMapping(f,u))}for(var a=e.length;a--;){var d=(s=e[a]).prefix;d&&("xml"===d&&(s.uri=i.XML),"xmlns"!==d&&(s.uri=r[d||""]))}var c=n.indexOf(":");c>0?(d=e.prefix=n.slice(0,c),p=e.localName=n.slice(c+1)):(d=null,p=e.localName=n);var h=e.uri=r[d||""];if(t.startElement(h,p,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=o,!0;if(t.endElement(h,p,n),o)for(d in o)Object.prototype.hasOwnProperty.call(o,d)&&t.endPrefixMapping(d)}function w(e,t,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)||(a=a.replace(/&#?\w+;/g,i)),n.characters(a,0,a.length),o}return t+1}function _(e,t,r,i){var n=i[r];return null==n&&((n=e.lastIndexOf("</"+r+">"))<t&&(n=e.lastIndexOf("</"+r)),i[r]=n),n<t}function S(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function E(e,t,r,i){if("-"===e.charAt(t+2)){if("-"===e.charAt(t+3)){var n=e.indexOf("-->",t+4);if(n>t)return r.comment(e,t+4,n-t-4),n+3;i.error("Unclosed comment")}}else{if("CDATA["==e.substr(t+3,6)){var n=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,n-t-9),r.endCDATA(),n+3}var o=x(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var c=o[a-1];return r.startDTD(s,l,u),r.endDTD(),c.index+c[0].length}}return -1}function T(e,t,r){var i=e.indexOf("?>",t);if(i){var n=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n)return n[0].length,r.processingInstruction(n[1],n[2]),i+2}return -1}function I(){this.attributeNames={}}function x(e,t){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(i.push(r),r[1])return i}m.prototype=Error(),m.prototype.name=m.name,g.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),S(t,t={}),y(e,t,r,i,this.errorHandler),i.endDocument()}},I.prototype={setTagName:function(e){if(!a.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!a.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},r.XMLReader=g,r.ParseError=m},316760,(e,t,r)=>{var i=e.r(186358),n=e.r(428473),o=e.r(566539),a=e.r(983867),s=n.DOMImplementation,l=i.NAMESPACE,u=a.ParseError,c=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function f(e,t,r){if(!e){if(t instanceof h)return t;e=t}var i={},n=e instanceof Function;function o(t){var o=e[t];!o&&n&&(o=2==e.length?function(r){e(t,r)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]	"+e+g(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),i}function h(){this.cdata=!1}function m(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function y(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var r=this.options,i=new c,n=r.domBuilder||new h,a=r.errorHandler,s=r.locator,u=r.xmlns||{},p=/\/x?html?$/.test(t),m=p?o.HTML_ENTITIES:o.XML_ENTITIES;s&&n.setDocumentLocator(s),i.errorHandler=f(a,n,s),i.domBuilder=r.domBuilder||n,p&&(u[""]=l.HTML),u.xml=u.xml||l.XML;var g=r.normalizeLineEndings||d;return e&&"string"==typeof e?i.parse(g(e),u,m):i.errorHandler.error("invalid doc source"),n.doc},h.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,i){var n=this.doc,o=n.createElementNS(e,r||t),a=i.length;v(this,o),this.currentElement=o,this.locator&&m(this.locator,o);for(var s=0;s<a;s++){var e=i.getURI(s),l=i.getValue(s),r=i.getQName(s),u=n.createAttributeNS(e,r);this.locator&&m(i.getLocator(s),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&m(this.locator,r),v(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=y.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else var i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&m(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=y.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&m(this.locator,i),v(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(e,t,r);this.locator&&m(this.locator,n),v(this,n),this.doc.doctype=n}},warning:function(e){console.warn("[xmldom warning]	"+e,g(this.locator))},error:function(e){console.error("[xmldom error]	"+e,g(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){h.prototype[e]=function(){return null}}),r.__DOMHandler=h,r.normalizeLineEndings=d,r.DOMParser=p},625249,(e,t,r)=>{var i=e.r(428473);r.DOMImplementation=i.DOMImplementation,r.XMLSerializer=i.XMLSerializer,r.DOMParser=e.r(316760).DOMParser},661699,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EnvelopedSignature=void 0;let i=e.r(994941),n=e.r(561864);class o{constructor(){this.includeComments=!1,this.includeComments=!1}process(e,t){if(null==t.signatureNode){let t=i.select1("./*[local-name(.)='Signature' and namespace-uri(.)='http://www.w3.org/2000/09/xmldsig#']",e);return n.isNodeLike(t)&&t.parentNode&&t.parentNode.removeChild(t),e}let r=t.signatureNode,o=i.select1(".//*[local-name(.)='SignatureValue']/text()",r);if(n.isTextNode(o)){let t=o.data,r=i.select(".//*[local-name(.)='Signature' and namespace-uri(.)='http://www.w3.org/2000/09/xmldsig#']",e);for(let e of Array.isArray(r)?r:[]){let r=i.select1(".//*[local-name(.)='SignatureValue']/text()",e);n.isTextNode(r)&&t===r.data&&e.parentNode&&e.parentNode.removeChild(e)}}return e}getAlgorithmName(){return"http://www.w3.org/2000/09/xmldsig#enveloped-signature"}}r.EnvelopedSignature=o},565927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Sha512=r.Sha256=r.Sha1=void 0;let i=e.r(254799);class n{constructor(){this.getHash=function(e){let t=i.createHash("sha1");return t.update(e,"utf8"),t.digest("base64")},this.getAlgorithmName=function(){return"http://www.w3.org/2000/09/xmldsig#sha1"}}}r.Sha1=n;class o{constructor(){this.getHash=function(e){let t=i.createHash("sha256");return t.update(e,"utf8"),t.digest("base64")},this.getAlgorithmName=function(){return"http://www.w3.org/2001/04/xmlenc#sha256"}}}r.Sha256=o;class a{constructor(){this.getHash=function(e){let t=i.createHash("sha512");return t.update(e,"utf8"),t.digest("base64")},this.getAlgorithmName=function(){return"http://www.w3.org/2001/04/xmlenc#sha512"}}}r.Sha512=a},930863,(e,t,r)=>{"use strict";function i(e){return"function"==typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r.createOptionalCallbackFunction=void 0,r.createOptionalCallbackFunction=function(e){return(...t)=>{let r=t[t.length-1];if(!i(r))return e(...t);try{let i=e(...t.slice(0,-1));r(null,i)}catch(e){r(e instanceof Error?e:Error("Unknown error"))}}}},342142,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HmacSha1=r.RsaSha512=r.RsaSha256=r.RsaSha1=void 0;let i=e.r(254799),n=e.r(930863);class o{constructor(){this.getSignature=(0,n.createOptionalCallbackFunction)((e,t)=>{let r=i.createSign("RSA-SHA1");return r.update(e),r.sign(t,"base64")}),this.verifySignature=(0,n.createOptionalCallbackFunction)((e,t,r)=>{let n=i.createVerify("RSA-SHA1");return n.update(e),n.verify(t,r,"base64")}),this.getAlgorithmName=()=>"http://www.w3.org/2000/09/xmldsig#rsa-sha1"}}r.RsaSha1=o;class a{constructor(){this.getSignature=(0,n.createOptionalCallbackFunction)((e,t)=>{let r=i.createSign("RSA-SHA256");return r.update(e),r.sign(t,"base64")}),this.verifySignature=(0,n.createOptionalCallbackFunction)((e,t,r)=>{let n=i.createVerify("RSA-SHA256");return n.update(e),n.verify(t,r,"base64")}),this.getAlgorithmName=()=>"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"}}r.RsaSha256=a;class s{constructor(){this.getSignature=(0,n.createOptionalCallbackFunction)((e,t)=>{let r=i.createSign("RSA-SHA512");return r.update(e),r.sign(t,"base64")}),this.verifySignature=(0,n.createOptionalCallbackFunction)((e,t,r)=>{let n=i.createVerify("RSA-SHA512");return n.update(e),n.verify(t,r,"base64")}),this.getAlgorithmName=()=>"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"}}r.RsaSha512=s;class l{constructor(){this.getSignature=(0,n.createOptionalCallbackFunction)((e,t)=>{let r=i.createHmac("SHA1",t);return r.update(e),r.digest("base64")}),this.verifySignature=(0,n.createOptionalCallbackFunction)((e,t,r)=>{let n=i.createHmac("SHA1",t);return n.update(e),n.digest("base64")===r}),this.getAlgorithmName=()=>"http://www.w3.org/2000/09/xmldsig#hmac-sha1"}}r.HmacSha1=l},487409,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SignedXml=void 0;let i=e.r(561864),n=e.r(625249),o=e.r(224361),a=e.r(994941),s=e.r(601731),l=e.r(661699),u=e.r(554630),c=e.r(565927),d=e.r(342142),p=e.r(372656);class f{constructor(e={}){this.signatureAlgorithm=void 0,this.canonicalizationAlgorithm=void 0,this.inclusiveNamespacesPrefixList=[],this.namespaceResolver={lookupNamespaceURI:function(){throw Error("Not implemented")}},this.implicitTransforms=[],this.keyInfoAttributes={},this.getKeyInfoContent=f.getKeyInfoContent,this.getCertFromKeyInfo=f.getCertFromKeyInfo,this.id=0,this.signedXml="",this.signatureXml="",this.signatureNode=null,this.signatureValue="",this.originalXmlWithIds="",this.keyInfo=null,this.references=[],this.signedReferences=[],this.CanonicalizationAlgorithms={"http://www.w3.org/TR/2001/REC-xml-c14n-20010315":s.C14nCanonicalization,"http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":s.C14nCanonicalizationWithComments,"http://www.w3.org/2001/10/xml-exc-c14n#":u.ExclusiveCanonicalization,"http://www.w3.org/2001/10/xml-exc-c14n#WithComments":u.ExclusiveCanonicalizationWithComments,"http://www.w3.org/2000/09/xmldsig#enveloped-signature":l.EnvelopedSignature},this.HashAlgorithms={"http://www.w3.org/2000/09/xmldsig#sha1":c.Sha1,"http://www.w3.org/2001/04/xmlenc#sha256":c.Sha256,"http://www.w3.org/2001/04/xmlenc#sha512":c.Sha512},this.SignatureAlgorithms={"http://www.w3.org/2000/09/xmldsig#rsa-sha1":d.RsaSha1,"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256":d.RsaSha256,"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512":d.RsaSha512};const{idMode:t,idAttribute:r,privateKey:i,publicCert:n,signatureAlgorithm:o,canonicalizationAlgorithm:a,inclusiveNamespacesPrefixList:h,implicitTransforms:m,keyInfoAttributes:g,getKeyInfoContent:y,getCertFromKeyInfo:v}=e;this.idMode=t,this.idAttributes=["Id","ID","id"],r&&this.idAttributes.unshift(r),this.privateKey=i,this.publicCert=n,this.signatureAlgorithm=o??this.signatureAlgorithm,this.canonicalizationAlgorithm=a,"string"==typeof h?this.inclusiveNamespacesPrefixList=h.split(" "):p.isArrayHasLength(h)&&(this.inclusiveNamespacesPrefixList=h),this.implicitTransforms=m??this.implicitTransforms,this.keyInfoAttributes=g??this.keyInfoAttributes,this.getKeyInfoContent=y??this.getKeyInfoContent,this.getCertFromKeyInfo=v??f.noop,this.CanonicalizationAlgorithms,this.HashAlgorithms,this.SignatureAlgorithms}enableHMAC(){this.SignatureAlgorithms={"http://www.w3.org/2000/09/xmldsig#hmac-sha1":d.HmacSha1},this.getKeyInfoContent=f.noop}static getKeyInfoContent({publicCert:e,prefix:t}){if(null==e)return null;t=t?`${t}:`:"";let r="";Buffer.isBuffer(e)&&(e=e.toString("latin1"));let i=[];return"string"==typeof e&&(i=e.match(p.EXTRACT_X509_CERTS)||[]),i.length>0&&(r=i.map(e=>`<${t}X509Certificate>${p.pemToDer(e).toString("base64")}</${t}X509Certificate>`).join("")),`<${t}X509Data>${r}</${t}X509Data>`}static getCertFromKeyInfo(e){if(null!=e){let t=a.select1(".//*[local-name(.)='X509Certificate']",e);if(i.isNodeLike(t))return p.derToPem(t.textContent??"","CERTIFICATE")}return null}checkSignature(e,t){if(null!=t&&"function"!=typeof t)throw Error("Last parameter must be a callback function");this.signedXml=e;let r=new n.DOMParser().parseFromString(e);this.references=[];let i=this.getCanonSignedInfoXml(r);if(!i){if(t)return void t(Error("Canonical signed info cannot be empty"),!1);throw Error("Canonical signed info cannot be empty")}let o=new n.DOMParser().parseFromString(i,"text/xml").documentElement;if(!o){if(t)return void t(Error("Could not parse unverifiedSignedInfoCanon into a document"),!1);throw Error("Could not parse unverifiedSignedInfoCanon into a document")}let a=p.findChildren(o,"Reference");if(!p.isArrayHasLength(a)){if(t)return void t(Error("could not find any Reference elements"),!1);throw Error("could not find any Reference elements")}for(let e of a)this.loadReference(e);if(!this.getReferences().every(e=>this.validateReference(e,r)))return this.signedReferences=[],this.references.forEach(e=>{e.signedReference=void 0}),!!t&&void t(Error("Could not validate all references"),!1);let s=this.findSignatureAlgorithm(this.signatureAlgorithm),l=this.getCertFromKeyInfo(this.keyInfo)||this.publicCert||this.privateKey;if(null==l)throw Error("KeyInfo or publicCert or privateKey is required to validate signature");if(!0===s.verifySignature(i,l,this.signatureValue))if(!t)return!0;else t(null,!0);else{if(this.signedReferences=[],this.references.forEach(e=>{e.signedReference=void 0}),t)return void t(Error(`invalid signature: the signature value ${this.signatureValue} is incorrect`));throw Error(`invalid signature: the signature value ${this.signatureValue} is incorrect`)}}getCanonSignedInfoXml(e){if(null==this.signatureNode)throw Error("No signature found.");if("string"!=typeof this.canonicalizationAlgorithm)throw Error("Missing canonicalizationAlgorithm when trying to get signed info for XML");let t=p.findChildren(this.signatureNode,"SignedInfo");if(0===t.length)throw Error("could not find SignedInfo element in the message");if(t.length>1)throw Error("could not get canonicalized signed info for a signature that contains multiple SignedInfo nodes");if(("http://www.w3.org/TR/2001/REC-xml-c14n-20010315"===this.canonicalizationAlgorithm||"http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments"===this.canonicalizationAlgorithm)&&(!e||"object"!=typeof e))throw Error("When canonicalization method is non-exclusive, whole xml dom must be provided as an argument");let r={ancestorNamespaces:p.findAncestorNs(e,"//*[local-name()='SignedInfo']")};return this.getCanonXml([this.canonicalizationAlgorithm],t[0],r)}getCanonReferenceXml(e,t,r){Array.isArray(t.transforms)&&(t.ancestorNamespaces=p.findAncestorNs(e,t.xpath,this.namespaceResolver));let i={inclusiveNamespacesPrefixList:t.inclusiveNamespacesPrefixList,ancestorNamespaces:t.ancestorNamespaces};return this.getCanonXml(t.transforms,r,i)}calculateSignatureValue(e,t){let r=this.getCanonSignedInfoXml(e),i=this.findSignatureAlgorithm(this.signatureAlgorithm);if(null==this.privateKey)throw Error("Private key is required to compute signature");"function"==typeof t?i.getSignature(r,this.privateKey,t):this.signatureValue=i.getSignature(r,this.privateKey)}findSignatureAlgorithm(e){if(null==e)throw Error("signatureAlgorithm is required");let t=this.SignatureAlgorithms[e];if(t)return new t;throw Error(`signature algorithm '${e}' is not supported`)}findCanonicalizationAlgorithm(e){if(null!=e){let t=this.CanonicalizationAlgorithms[e];if(t)return new t}throw Error(`canonicalization algorithm '${e}' is not supported`)}findHashAlgorithm(e){let t=this.HashAlgorithms[e];if(t)return new t;throw Error(`hash algorithm '${e}' is not supported`)}validateElementAgainstReferences(e,t){let r;if("string"==typeof e){let n=a.select1(e,t);i.assertIsElementNode(n),r=n}else r=e;for(let e of this.getReferences()){let i=e.uri?.[0]==="#"?e.uri.substring(1):e.uri;for(let t of this.idAttributes)if(i===r.getAttribute(t)){e.xpath=`//*[@*[local-name(.)='${t}']='${i}']`;break}let n=this.getCanonReferenceXml(t,e,r),o=this.findHashAlgorithm(e.digestAlgorithm).getHash(n);if(p.validateDigestValue(o,e.digestValue))return e}throw Error("No references passed validation")}validateReference(e,t){let r=e.uri?.[0]==="#"?e.uri.substring(1):e.uri,n=null;if(""===r)n=a.select1("//*",t);else if(r?.indexOf("'")!==-1)throw Error("Cannot validate a uri with quotes inside it");else{let i=0;for(let o of this.idAttributes){let s=`//*[@*[local-name(.)='${o}']='${r}']`,l=a.select(s,t);if(p.isArrayHasLength(l)){if((i+=l.length)>1)throw Error("Cannot validate a document which contains multiple elements with the same value for the ID / Id / Id attributes, in order to prevent signature wrapping attack.");n=l[0],e.xpath=s}}}if(e.getValidatedNode=(0,o.deprecate)(r=>{if("string"!=typeof(r=r||e.xpath)||null!=e.validationError)return null;let n=a.select1(r,t);return i.isNodeLike(n)?n:null},"`ref.getValidatedNode()` is deprecated and insecure. Use `ref.signedReference` or `this.getSignedReferences()` instead."),!i.isNodeLike(n)){let t=Error(`invalid signature: the signature references an element with uri ${e.uri} but could not find such element in the xml`);return e.validationError=t,!1}let s=this.getCanonReferenceXml(t,e,n),l=this.findHashAlgorithm(e.digestAlgorithm).getHash(s);if(!p.validateDigestValue(l,e.digestValue)){let t=Error(`invalid signature: for uri ${e.uri} calculated digest is ${l} but the xml to validate supplies digest ${e.digestValue}`);return e.validationError=t,!1}return this.signedReferences.push(s),e.signedReference=s,!0}findSignatures(e){let t=a.select("//*[local-name(.)='Signature' and namespace-uri(.)='http://www.w3.org/2000/09/xmldsig#']",e);return i.isArrayOfNodes(t)?t:[]}loadSignature(e){"string"==typeof e?this.signatureNode=e=new n.DOMParser().parseFromString(e):this.signatureNode=e,this.signatureXml=e.toString();let t=a.select1(".//*[local-name(.)='CanonicalizationMethod']/@Algorithm",e);if(!i.isNodeLike(t))throw Error("could not find CanonicalizationMethod/@Algorithm element");i.isAttributeNode(t)&&(this.canonicalizationAlgorithm=t.value);let r=a.select1(".//*[local-name(.)='SignatureMethod']/@Algorithm",e);i.isAttributeNode(r)&&(this.signatureAlgorithm=r.value);let o=p.findChildren(this.signatureNode,"SignedInfo");if(!p.isArrayHasLength(o))throw Error("no signed info node found");if(o.length>1)throw Error("could not load signature that contains multiple SignedInfo nodes");let s=this.canonicalizationAlgorithm;s&&"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"!==s&&"http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments"!==s||(s="http://www.w3.org/2001/10/xml-exc-c14n#");let l=this.getCanonXml([s],o[0]),u=new n.DOMParser().parseFromString(l,"text/xml").documentElement;this.references=[];let c=p.findChildren(u,"Reference");if(!p.isArrayHasLength(c))throw Error("could not find any Reference elements");for(let e of c)this.loadReference(e);let d=a.select1(".//*[local-name(.)='SignatureValue']/text()",e);i.isTextNode(d)&&(this.signatureValue=d.data.replace(/\r?\n/g,""));let f=a.select1(".//*[local-name(.)='KeyInfo']",e);i.isNodeLike(f)&&(this.keyInfo=f)}loadReference(e){let t=p.findChildren(e,"DigestMethod");if(0===t.length)throw Error(`could not find DigestMethod in reference ${e.toString()}`);let r=t[0],n=p.findAttr(r,"Algorithm");if(!n)throw Error(`could not find Algorithm attribute in node ${r.toString()}`);let o=n.value;if(0===(t=p.findChildren(e,"DigestValue")).length)throw Error(`could not find DigestValue node in reference ${e.toString()}`);if(t.length>1)throw Error(`could not load reference for a node that contains multiple DigestValue nodes: ${e.toString()}`);let a=t[0].textContent;if(!a)throw Error(`could not find the value of DigestValue in ${e.toString()}`);let s=[],l=[];if(0!==(t=p.findChildren(e,"Transforms")).length){let e=t[0],r=p.findChildren(e,"Transform");for(let e of r){let t=p.findAttr(e,"Algorithm");t&&s.push(t.value)}let i=p.findChildren(r[r.length-1],"InclusiveNamespaces");p.isArrayHasLength(i)&&(l=i.flatMap(e=>(e.getAttribute("PrefixList")??"").split(" ")).filter(e=>e.length>0))}p.isArrayHasLength(this.implicitTransforms)&&this.implicitTransforms.forEach(function(e){s.push(e)}),(0===s.length||"http://www.w3.org/2000/09/xmldsig#enveloped-signature"===s[s.length-1])&&s.push("http://www.w3.org/TR/2001/REC-xml-c14n-20010315");let u=i.isElementNode(e)&&e.getAttribute("URI")||void 0;this.addReference({transforms:s,digestAlgorithm:o,uri:u,digestValue:a,inclusiveNamespacesPrefixList:l,isEmptyUri:!1})}addReference({xpath:e,transforms:t,digestAlgorithm:r,uri:i="",digestValue:n,inclusiveNamespacesPrefixList:o=[],isEmptyUri:a=!1}){if(null==r)throw Error("digestAlgorithm is required");if(!p.isArrayHasLength(t))throw Error("transforms must contain at least one transform algorithm");this.references.push({xpath:e,transforms:t,digestAlgorithm:r,uri:i,digestValue:n,inclusiveNamespacesPrefixList:o,isEmptyUri:a,getValidatedNode:()=>{throw Error("Reference has not been validated yet; Did you call `sig.checkSignature()`?")}})}getReferences(){return this.references}getSignedReferences(){return[...this.signedReferences]}computeSignature(e,t,r){let o,s;"function"==typeof t&&null==r?(o=t,t={}):(o=r,t=t??{});let l=new n.DOMParser().parseFromString(e),u="xmlns",c=[],d=["append","prepend","before","after"],f=t.prefix,h=t.attrs||{},m=t.location||{},g=t.existingPrefixes||{};if(this.namespaceResolver={lookupNamespaceURI:function(e){return e?g[e]:null}},m.reference=m.reference||"/*",m.action=m.action||"append",-1===d.indexOf(m.action)){let e=Error(`location.action option has an invalid action: ${m.action}, must be any of the following values: ${d.join(", ")}`);if(o)return void o(e);throw e}f?(u+=`:${f}`,s=`${f}:`):s="",Object.keys(h).forEach(function(e){"xmlns"!==e&&e!==u&&c.push(`${e}="${h[e]}"`)}),c.push(`${u}="http://www.w3.org/2000/09/xmldsig#"`);let y=`<${s}Signature ${c.join(" ")}>`;y+=this.createSignedInfo(l,f),y+=this.getKeyInfo(f),y+=`</${s}Signature>`,this.originalXmlWithIds=l.toString();let v="";Object.keys(g).forEach(function(e){v+=`xmlns:${e}="${g[e]}" `});let b=`<Dummy ${v}>${y}</Dummy>`,A=new n.DOMParser().parseFromString(b).documentElement.firstChild,w=a.select1(m.reference,l);if(!i.isNodeLike(w)){let e=Error(`the following xpath cannot be used because it was not found: ${m.reference}`);if(o)return void o(e);throw e}if("append"===m.action)w.appendChild(A);else if("prepend"===m.action)w.insertBefore(A,w.firstChild);else if("before"===m.action){if(null==w.parentNode)throw Error("`location.reference` refers to the root node (by default), so we can't insert `before`");w.parentNode.insertBefore(A,w)}else if("after"===m.action){if(null==w.parentNode)throw Error("`location.reference` refers to the root node (by default), so we can't insert `after`");w.parentNode.insertBefore(A,w.nextSibling)}this.signatureNode=A;let _=p.findChildren(this.signatureNode,"SignedInfo");if(0===_.length){let e=Error("could not find SignedInfo element in the message");if(o)return void o(e);throw e}let S=_[0];"function"==typeof o?this.calculateSignatureValue(l,(e,t)=>{e?o(e):(this.signatureValue=t||"",A.insertBefore(this.createSignature(f),S.nextSibling),this.signatureXml=A.toString(),this.signedXml=l.toString(),o(null,this))}):(this.calculateSignatureValue(l),A.insertBefore(this.createSignature(f),S.nextSibling),this.signatureXml=A.toString(),this.signedXml=l.toString())}getKeyInfo(e){let t=e?`${e}:`:"",r="";this.keyInfoAttributes&&Object.keys(this.keyInfoAttributes).forEach(e=>{r+=` ${e}="${this.keyInfoAttributes[e]}"`});let i=this.getKeyInfoContent({publicCert:this.publicCert,prefix:e});return r||i?`<${t}KeyInfo${r}>${i}</${t}KeyInfo>`:""}createReferences(e,t){let r="";for(let i of(t=(t=t||"")?`${t}:`:t,this.getReferences())){let n=a.selectWithResolver(i.xpath??"",e,this.namespaceResolver);if(!p.isArrayHasLength(n))throw Error(`the following xpath cannot be signed because it was not found: ${i.xpath}`);for(let o of n){if(i.isEmptyUri)r+=`<${t}Reference URI="">`;else{let e=this.ensureHasId(o);i.uri=e,r+=`<${t}Reference URI="#${e}">`}for(let e of(r+=`<${t}Transforms>`,i.transforms||[])){let n=this.findCanonicalizationAlgorithm(e);r+=`<${t}Transform Algorithm="${n.getAlgorithmName()}"`,p.isArrayHasLength(i.inclusiveNamespacesPrefixList)?r+=`><InclusiveNamespaces PrefixList="${i.inclusiveNamespacesPrefixList.join(" ")}" xmlns="${n.getAlgorithmName()}"/></${t}Transform>`:r+=" />"}let n=this.getCanonReferenceXml(e,i,o),a=this.findHashAlgorithm(i.digestAlgorithm);r+=`</${t}Transforms><${t}DigestMethod Algorithm="${a.getAlgorithmName()}" /><${t}DigestValue>${a.getHash(n)}</${t}DigestValue></${t}Reference>`}}return r}getCanonXml(e,t,r={}){r.defaultNsForPrefix=r.defaultNsForPrefix??f.defaultNsForPrefix,r.signatureNode=this.signatureNode;let n=t.cloneNode(!0);return e.forEach(e=>{i.isNodeLike(n)&&(n=this.findCanonicalizationAlgorithm(e).process(n,r))}),n.toString()}ensureHasId(e){let t;if("wssecurity"===this.idMode?t=p.findAttr(e,"Id","http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"):this.idAttributes.some(r=>!!(t=p.findAttr(e,r))),t)return t.value;let r=`_${this.id++}`;return"wssecurity"===this.idMode?(e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:wsu","http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"),e.setAttributeNS("http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd","wsu:Id",r)):e.setAttribute("Id",r),r}createSignedInfo(e,t){let r;if("string"!=typeof this.canonicalizationAlgorithm)throw Error("Missing canonicalizationAlgorithm when trying to create signed info for XML");let i=this.findCanonicalizationAlgorithm(this.canonicalizationAlgorithm),n=this.findSignatureAlgorithm(this.signatureAlgorithm);r=(r=t||"")?`${r}:`:r;let o=`<${r}SignedInfo>`;return o+=`<${r}CanonicalizationMethod Algorithm="${i.getAlgorithmName()}"`,p.isArrayHasLength(this.inclusiveNamespacesPrefixList)?(o+=">",o+=`<InclusiveNamespaces PrefixList="${this.inclusiveNamespacesPrefixList.join(" ")}" xmlns="${i.getAlgorithmName()}"/>`,o+=`</${r}CanonicalizationMethod>`):o+=" />",o+=`<${r}SignatureMethod Algorithm="${n.getAlgorithmName()}" />`,o+=this.createReferences(e,t),o+=`</${r}SignedInfo>`}createSignature(e){let t="xmlns";e?(t+=`:${e}`,e+=":"):e="";let r=`<${e}SignatureValue>${this.signatureValue}</${e}SignatureValue>`,i=`<${e}Signature ${t}="http://www.w3.org/2000/09/xmldsig#">${r}</${e}Signature>`;return new n.DOMParser().parseFromString(i).documentElement.firstChild}getSignatureXml(){return this.signatureXml}getOriginalXmlWithIds(){return this.originalXmlWithIds}getSignedXml(){return this.signedXml}}r.SignedXml=f,f.defaultNsForPrefix={ds:"http://www.w3.org/2000/09/xmldsig#"},f.noop=()=>null},730712,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.SignedXml=r.ExclusiveCanonicalizationWithComments=r.ExclusiveCanonicalization=r.C14nCanonicalizationWithComments=r.C14nCanonicalization=void 0;var o=e.r(601731);Object.defineProperty(r,"C14nCanonicalization",{enumerable:!0,get:function(){return o.C14nCanonicalization}}),Object.defineProperty(r,"C14nCanonicalizationWithComments",{enumerable:!0,get:function(){return o.C14nCanonicalizationWithComments}});var a=e.r(554630);Object.defineProperty(r,"ExclusiveCanonicalization",{enumerable:!0,get:function(){return a.ExclusiveCanonicalization}}),Object.defineProperty(r,"ExclusiveCanonicalizationWithComments",{enumerable:!0,get:function(){return a.ExclusiveCanonicalizationWithComments}});var s=e.r(487409);Object.defineProperty(r,"SignedXml",{enumerable:!0,get:function(){return s.SignedXml}}),n(e.r(930863),r),n(e.r(372656),r)},421280,(e,t,r)=>{"use strict";function i(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var n=e[i];if(t.call(void 0,n,i,e))return n}}function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}function o(e,t){if(null===e||"object"!=typeof e)throw TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var a=n({HTML:"text/html",isHTML:function(e){return e===a.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});r.assign=o,r.find=i,r.freeze=n,r.MIME_TYPE=a,r.NAMESPACE=s},987042,(e,t,r)=>{var i=e.r(421280),n=i.find,o=i.NAMESPACE;function a(e){return""!==e}function s(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}function l(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function u(e){return e?Object.keys(s(e).reduce(l,{})):[]}function c(e){return function(t){return e&&-1!==e.indexOf(t)}}function d(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function p(e,t){var r=e.prototype;if(!(r instanceof t)){function i(){}i.prototype=t.prototype,d(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var f={},h=f.ELEMENT_NODE=1,m=f.ATTRIBUTE_NODE=2,g=f.TEXT_NODE=3,y=f.CDATA_SECTION_NODE=4,v=f.ENTITY_REFERENCE_NODE=5,b=f.ENTITY_NODE=6,A=f.PROCESSING_INSTRUCTION_NODE=7,w=f.COMMENT_NODE=8,_=f.DOCUMENT_NODE=9,S=f.DOCUMENT_TYPE_NODE=10,E=f.DOCUMENT_FRAGMENT_NODE=11,T=f.NOTATION_NODE=12,I={},x={};x[1]="Index size error",I.INDEX_SIZE_ERR=1,x[2]="DOMString size error",I.DOMSTRING_SIZE_ERR=2;var O=(x[3]="Hierarchy request error",I.HIERARCHY_REQUEST_ERR=3);x[4]="Wrong document",I.WRONG_DOCUMENT_ERR=4,x[5]="Invalid character",I.INVALID_CHARACTER_ERR=5,x[6]="No data allowed",I.NO_DATA_ALLOWED_ERR=6,x[7]="No modification allowed",I.NO_MODIFICATION_ALLOWED_ERR=7;var C=(x[8]="Not found",I.NOT_FOUND_ERR=8);x[9]="Not supported",I.NOT_SUPPORTED_ERR=9;var k=(x[10]="Attribute in use",I.INUSE_ATTRIBUTE_ERR=10);function N(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,x[e]),this.message=x[e],Error.captureStackTrace&&Error.captureStackTrace(this,N);return r.code=e,t&&(this.message=this.message+": "+t),r}function R(){}function P(e,t){this._node=e,this._refresh=t,D(this)}function D(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(eI(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var i=r.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];d(r,e),e._inc=t}}function U(){}function L(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function K(e,t,r,i){if(i?t[L(t,i)]=r:t[t.length++]=r,e){r.ownerElement=e;var n=e.ownerDocument;n&&(i&&V(n,e,i),q(n,e,r))}}function M(e,t,r){var i=L(t,r);if(i>=0){for(var n=t.length-1;i<n;)t[i]=t[++i];if(t.length=n,e){var o=e.ownerDocument;o&&(V(o,e,r),r.ownerElement=null)}}else throw new N(C,Error(e.tagName+"@"+r))}function B(){}function j(){}function $(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function z(e,t){if(t(e))return!0;if(e=e.firstChild)do if(z(e,t))return!0;while(e=e.nextSibling)}function F(){this.ownerDocument=this}function q(e,t,r){e&&e._inc++,r.namespaceURI===o.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function V(e,t,r,i){e&&e._inc++,r.namespaceURI===o.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function H(e,t,r){if(e&&e._inc){e._inc++;var i=t.childNodes;if(r)i[i.length++]=r;else{for(var n=t.firstChild,o=0;n;)i[o++]=n,n=n.nextSibling;i.length=o,delete i[i.length]}}}function G(e,t){var r=t.previousSibling,i=t.nextSibling;return r?r.nextSibling=i:e.firstChild=i,i?i.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,H(e.ownerDocument,e),t}function W(e){return e&&(e.nodeType===j.DOCUMENT_NODE||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.ELEMENT_NODE)}function Z(e){return e&&(Q(e)||Y(e)||J(e)||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.COMMENT_NODE||e.nodeType===j.PROCESSING_INSTRUCTION_NODE)}function J(e){return e&&e.nodeType===j.DOCUMENT_TYPE_NODE}function Q(e){return e&&e.nodeType===j.ELEMENT_NODE}function Y(e){return e&&e.nodeType===j.TEXT_NODE}function X(e,t){var r=e.childNodes||[];if(n(r,Q)||J(t))return!1;var i=n(r,J);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function ee(e,t){var r=e.childNodes||[];if(n(r,function(e){return Q(e)&&e!==t}))return!1;var i=n(r,J);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function et(e,t,r){if(!W(e))throw new N(O,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new N(C,"child not in parent");if(!Z(t)||J(t)&&e.nodeType!==j.DOCUMENT_NODE)throw new N(O,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function er(e,t,r){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=o.filter(Q);if(a.length>1||n(o,Y))throw new N(O,"More than one element or text in fragment");if(1===a.length&&!X(e,r))throw new N(O,"Element in fragment can not be inserted before doctype")}if(Q(t)&&!X(e,r))throw new N(O,"Only one element can be added and only after doctype");if(J(t)){if(n(i,J))throw new N(O,"Only one doctype is allowed");var s=n(i,Q);if(r&&i.indexOf(s)<i.indexOf(r))throw new N(O,"Doctype can only be inserted before an element");if(!r&&s)throw new N(O,"Doctype can not be appended since element is present")}}function ei(e,t,r){var i=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var a=o.filter(Q);if(a.length>1||n(o,Y))throw new N(O,"More than one element or text in fragment");if(1===a.length&&!ee(e,r))throw new N(O,"Element in fragment can not be inserted before doctype")}if(Q(t)&&!ee(e,r))throw new N(O,"Only one element can be added and only after doctype");if(J(t)){if(n(i,function(e){return J(e)&&e!==r}))throw new N(O,"Only one doctype is allowed");var s=n(i,Q);if(r&&i.indexOf(s)<i.indexOf(r))throw new N(O,"Doctype can only be inserted before an element")}}function en(e,t,r,i){et(e,t,r),e.nodeType===j.DOCUMENT_NODE&&(i||er)(e,t,r);var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===E){var o=t.firstChild;if(null==o)return t;var a=t.lastChild}else o=a=t;var s=r?r.previousSibling:e.lastChild;o.previousSibling=s,a.nextSibling=r,s?s.nextSibling=o:e.firstChild=o,null==r?e.lastChild=a:r.previousSibling=a;do o.parentNode=e,eo(o,e.ownerDocument||e);while(o!==a&&(o=o.nextSibling))return H(e.ownerDocument||e,e),t.nodeType==E&&(t.firstChild=t.lastChild=null),t}function eo(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===h&&e.attributes)for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);i&&(i.ownerDocument=t)}for(var n=e.firstChild;n;)eo(n,t),n=n.nextSibling}}function ea(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),eo(t,e.ownerDocument||e),t}function es(){this._nsMap={}}function el(){}function eu(){}function ec(){}function ed(){}function ep(){}function ef(){}function eh(){}function em(){}function eg(){}function ey(){}function ev(){}function eb(){}function eA(e,t){var r=[],i=9==this.nodeType&&this.documentElement||this,n=i.prefix,o=i.namespaceURI;if(o&&null==n){var n=i.lookupPrefix(o);if(null==n)var a=[{namespace:o,prefix:null}]}return eS(this,r,e,t,a),r.join("")}function ew(e,t,r){var i=e.prefix||"",n=e.namespaceURI;if(!n||"xml"===i&&n===o.XML||n===o.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==n}return!0}function e_(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,$),'"')}function eS(e,t,r,i,n){if(n||(n=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var a,s=e.attributes,l=s.length,u=e.firstChild,c=e.tagName;r=o.isHTML(e.namespaceURI)||r;var d=c;if(!r&&!e.prefix&&e.namespaceURI){for(var p=0;p<s.length;p++)if("xmlns"===s.item(p).name){a=s.item(p).value;break}if(!a)for(var f=n.length-1;f>=0;f--){var b=n[f];if(""===b.prefix&&b.namespace===e.namespaceURI){a=b.namespace;break}}if(a!==e.namespaceURI)for(var f=n.length-1;f>=0;f--){var b=n[f];if(b.namespace===e.namespaceURI){b.prefix&&(d=b.prefix+":"+c);break}}}t.push("<",d);for(var T=0;T<l;T++){var I=s.item(T);"xmlns"==I.prefix?n.push({prefix:I.localName,namespace:I.value}):"xmlns"==I.nodeName&&n.push({prefix:"",namespace:I.value})}for(var T=0;T<l;T++){var I=s.item(T);if(ew(I,r,n)){var x=I.prefix||"",O=I.namespaceURI;e_(t,x?"xmlns:"+x:"xmlns",O),n.push({prefix:x,namespace:O})}eS(I,t,r,i,n)}if(c===d&&ew(e,r,n)){var x=e.prefix||"",O=e.namespaceURI;e_(t,x?"xmlns:"+x:"xmlns",O),n.push({prefix:x,namespace:O})}if(u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;u;)u.data?t.push(u.data):eS(u,t,r,i,n.slice()),u=u.nextSibling;else for(;u;)eS(u,t,r,i,n.slice()),u=u.nextSibling;t.push("</",d,">")}else t.push("/>");return;case _:case E:for(var u=e.firstChild;u;)eS(u,t,r,i,n.slice()),u=u.nextSibling;return;case m:return e_(t,e.name,e.value);case g:return t.push(e.data.replace(/[<&>]/g,$));case y:return t.push("<![CDATA[",e.data,"]]>");case w:return t.push("<!--",e.data,"-->");case S:var C=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(" PUBLIC ",C),k&&"."!=k&&t.push(" ",k),t.push(">");else if(k&&"."!=k)t.push(" SYSTEM ",k,">");else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case A:return t.push("<?",e.target," ",e.data,"?>");case v:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function eE(e,t,r){var i;switch(t.nodeType){case h:(i=t.cloneNode(!1)).ownerDocument=e;case E:break;case m:r=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,r)for(var n=t.firstChild;n;)i.appendChild(eE(e,n,r)),n=n.nextSibling;return i}function eT(e,t,r){var i=new t.constructor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n];"object"!=typeof o&&o!=i[n]&&(i[n]=o)}switch(t.childNodes&&(i.childNodes=new R),i.ownerDocument=e,i.nodeType){case h:var a=t.attributes,s=i.attributes=new U,l=a.length;s._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(eT(e,a.item(u),!0));break;case m:r=!0}if(r)for(var c=t.firstChild;c;)i.appendChild(eT(e,c,r)),c=c.nextSibling;return i}function eI(e,t,r){e[t]=r}x[11]="Invalid state",I.INVALID_STATE_ERR=11,x[12]="Syntax error",I.SYNTAX_ERR=12,x[13]="Invalid modification",I.INVALID_MODIFICATION_ERR=13,x[14]="Invalid namespace",I.NAMESPACE_ERR=14,x[15]="Invalid access",I.INVALID_ACCESS_ERR=15,N.prototype=Error.prototype,d(I,N),R.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],i=0;i<this.length;i++)eS(this[i],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},P.prototype.item=function(e){return D(this),this[e]||null},p(P,R),U.prototype={length:0,item:R.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new N(k);var r=this.getNamedItem(e.nodeName);return K(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new N(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),K(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return M(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var i=this[r];if(i.localName==t&&i.namespaceURI==e)return i}return null}},B.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var i=new F;if(i.implementation=this,i.childNodes=new R,i.doctype=r||null,r&&i.appendChild(r),t){var n=i.createElementNS(e,t);i.appendChild(n)}return i},createDocumentType:function(e,t,r){var i=new ef;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=r||"",i}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return en(this,e,t)},replaceChild:function(e,t){en(this,e,t,ei),t&&this.removeChild(t)},removeChild:function(e){return G(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return eT(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==g&&e.nodeType==g?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===e)return i}t=t.nodeType==m?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==m?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},d(f,j),d(f,j.prototype),F.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==E){for(var r=e.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,t),r=i}return e}return en(this,e,t),eo(e,this),null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),G(this,e)},replaceChild:function(e,t){en(this,e,t,ei),eo(e,this),t&&this.removeChild(t),Q(e)&&(this.documentElement=e)},importNode:function(e,t){return eE(this,e,t)},getElementById:function(e){var t=null;return z(this.documentElement,function(r){if(r.nodeType==h&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=u(e);return new P(this,function(r){var i=[];return t.length>0&&z(r.documentElement,function(n){if(n!==r&&n.nodeType===h){var o=n.getAttribute("class");if(o){var a=e===o;if(!a){var s=u(o);a=t.every(c(s))}a&&i.push(n)}}}),i})},createElement:function(e){var t=new es;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new R,(t.attributes=new U)._ownerElement=t,t},createDocumentFragment:function(){var e=new ey;return e.ownerDocument=this,e.childNodes=new R,e},createTextNode:function(e){var t=new ec;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ed;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ep;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ev;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new el;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new eg;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new es,i=t.split(":"),n=r.attributes=new U;return r.childNodes=new R,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=t,n._ownerElement=r,r},createAttributeNS:function(e,t){var r=new el,i=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=t,r}},p(F,j),es.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===E?this.insertBefore(e,null):ea(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,function(t){var r=[];return z(t,function(i){i!==t&&i.nodeType==h&&("*"===e||i.tagName==e)&&r.push(i)}),r})},getElementsByTagNameNS:function(e,t){return new P(this,function(r){var i=[];return z(r,function(n){n!==r&&n.nodeType===h&&("*"===e||n.namespaceURI===e)&&("*"===t||n.localName==t)&&i.push(n)}),i})}},F.prototype.getElementsByTagName=es.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=es.prototype.getElementsByTagNameNS,p(es,j),el.prototype.nodeType=m,p(el,j),eu.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(x[O])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},p(eu,j),ec.prototype={nodeName:"#text",nodeType:g,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},p(ec,eu),ed.prototype={nodeName:"#comment",nodeType:w},p(ed,eu),ep.prototype={nodeName:"#cdata-section",nodeType:y},p(ep,eu),ef.prototype.nodeType=S,p(ef,j),eh.prototype.nodeType=T,p(eh,j),em.prototype.nodeType=b,p(em,j),eg.prototype.nodeType=v,p(eg,j),ey.prototype.nodeName="#document-fragment",ey.prototype.nodeType=E,p(ey,j),ev.prototype.nodeType=A,p(ev,j),eb.prototype.serializeToString=function(e,t,r){return eA.call(e,t,r)},j.prototype.toString=eA;try{if(Object.defineProperty){function ex(e){switch(e.nodeType){case h:case E:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ex(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return ex(this)},set:function(e){switch(this.nodeType){case h:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),eI=function(e,t,r){e["$$"+t]=r}}}catch(e){}r.DocumentType=ef,r.DOMException=N,r.DOMImplementation=B,r.Element=es,r.Node=j,r.NodeList=R,r.XMLSerializer=eb},584007,(e,t,r)=>{"use strict";var i=e.r(421280).freeze;r.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=i({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"\uD835\uDCB7",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"\uD835\uDD20",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"\uD835\uDD54",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"\uD835\uDCBB",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"\uD835\uDCA2",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"\uD835\uDD25",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"\uD835\uDD59",horbar:"",HorizontalLine:"",Hscr:"",hscr:"\uD835\uDCBD",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"\uD835\uDD26",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"\uD835\uDCBE",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"\uD835\uDCC1",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"",Mscr:"",mscr:"\uD835\uDCC2",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"\uD835\uDD11",nfr:"\uD835\uDD2B",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"\uD835\uDD5F",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"\uD835\uDCA9",nscr:"\uD835\uDCC3",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"\uD835\uDD12",ofr:"\uD835\uDD2C",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"\uD835\uDD46",oopf:"\uD835\uDD60",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"\uD835\uDCAA",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"\uD835\uDD13",pfr:"\uD835\uDD2D",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"\uD835\uDD61",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"\uD835\uDCAB",pscr:"\uD835\uDCC5",Psi:"",psi:"",puncsp:"",Qfr:"\uD835\uDD14",qfr:"\uD835\uDD2E",qint:"",Qopf:"",qopf:"\uD835\uDD62",qprime:"",Qscr:"\uD835\uDCAC",qscr:"\uD835\uDCC6",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"\uD835\uDD2F",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"\uD835\uDD63",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"\uD835\uDCC7",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"\uD835\uDD16",sfr:"\uD835\uDD30",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"\uD835\uDD4A",sopf:"\uD835\uDD64",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"\uD835\uDCAE",sscr:"\uD835\uDCC8",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"\uD835\uDD17",tfr:"\uD835\uDD31",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"\uD835\uDD4B",topf:"\uD835\uDD65",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"\uD835\uDCAF",tscr:"\uD835\uDCC9",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"\uD835\uDD18",ufr:"\uD835\uDD32",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"\uD835\uDD4C",uopf:"\uD835\uDD66",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"\uD835\uDCB0",uscr:"\uD835\uDCCA",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"\uD835\uDD19",vfr:"\uD835\uDD33",vltri:"",vnsub:"",vnsup:"",Vopf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"",vrtri:"",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"",wr:"",wreath:"",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD36",YIcy:"",yicy:"",Yopf:"\uD835\uDD50",yopf:"\uD835\uDD6A",Yscr:"\uD835\uDCB4",yscr:"\uD835\uDCCE",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"\uD835\uDD37",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"\uD835\uDD6B",Zscr:"\uD835\uDCB5",zscr:"\uD835\uDCCF",zwj:"",zwnj:""}),r.entityMap=r.HTML_ENTITIES},958859,(e,t,r)=>{var i=e.r(421280).NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=RegExp("^"+n.source+o.source+"*(?::"+n.source+o.source+"*)?$"),s=0,l=1,u=2,c=3,d=4,p=5,f=6,h=7;function m(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,m)}function g(){}function y(e,t,r,n,o){function a(e){return e>65535?String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e)):String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>y){var r=e.substring(y,t).replace(/&#?\w+;/g,s);f&&u(y),n.characters(r,0,t-y),y=t}}function u(t,r){for(;t>=d&&(r=p.exec(e));)d=(c=r.index)+r[0].length,f.lineNumber++;f.columnNumber=t-c+1}for(var c=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,h=[{currentNSMap:t}],g={},y=0;;){try{var S=e.indexOf("<",y);if(S<0){if(!e.substr(y).match(/^\s*$/)){var x=n.doc,O=x.createTextNode(e.substr(y));x.appendChild(O),n.currentElement=O}return}switch(S>y&&l(S),e.charAt(S+1)){case"/":var C=e.indexOf(">",S+3),k=e.substring(S+2,C).replace(/[ \t\n\r]+$/g,""),N=h.pop();C<0?(k=e.substring(S+2).replace(/[\s<].*/,""),o.error("end tag name: "+k+" is not complete:"+N.tagName),C=S+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),o.error("end tag name: "+k+" maybe not complete"),C=S+1+k.length);var R=N.localNSMap,P=N.tagName==k;if(P||N.tagName&&N.tagName.toLowerCase()==k.toLowerCase()){if(n.endElement(N.uri,N.localName,k),R)for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&n.endPrefixMapping(D);P||o.fatalError("end tag name: "+k+" is not match the current start tagName:"+N.tagName)}else h.push(N);C++;break;case"?":f&&u(S),C=T(e,S,n);break;case"!":f&&u(S),C=E(e,S,n,o);break;default:f&&u(S);var U=new I,L=h[h.length-1].currentNSMap,C=b(e,S,U,L,s,o),K=U.length;if(!U.closed&&_(e,C,U.tagName,g)&&(U.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),f&&K){for(var M=v(f,{}),B=0;B<K;B++){var j=U[B];u(j.offset),j.locator=v(f,{})}n.locator=M,A(U,n,L)&&h.push(U),n.locator=f}else A(U,n,L)&&h.push(U);i.isHTML(U.uri)&&!U.closed?C=w(e,C,U.tagName,s,n):C++}}catch(e){if(e instanceof m)throw e;o.error("element parse error: "+e),C=-1}C>y?y=C:l(Math.max(S,y)+1)}}function v(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function b(e,t,r,n,o,a){function m(e,t,i){r.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),i)}for(var g,y,v=++t,b=s;;){var A=e.charAt(v);switch(A){case"=":if(b===l)g=e.slice(t,v),b=c;else if(b===u)b=c;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(b===c||b===l)if(b===l&&(a.warning('attribute value must after "="'),g=e.slice(t,v)),t=v+1,(v=e.indexOf(A,t))>0)m(g,y=e.slice(t,v),t-1),b=p;else throw Error("attribute value no end '"+A+"' match");else if(b==d)m(g,y=e.slice(t,v),t),a.warning('attribute "'+g+'" missed start quot('+A+")!!"),t=v+1,b=p;else throw Error('attribute value must after "="');break;case"/":switch(b){case s:r.setTagName(e.slice(t,v));case p:case f:case h:b=h,r.closed=!0;case d:case l:break;case u:r.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),b==s&&r.setTagName(e.slice(t,v)),v;case">":switch(b){case s:r.setTagName(e.slice(t,v));case p:case f:case h:break;case d:case l:"/"===(y=e.slice(t,v)).slice(-1)&&(r.closed=!0,y=y.slice(0,-1));case u:b===u&&(y=g),b==d?(a.warning('attribute "'+y+'" missed quot(")!'),m(g,y,t)):(i.isHTML(n[""])&&y.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),m(y,y,t));break;case c:throw Error("attribute value missed!!")}return v;case"":A=" ";default:if(A<=" ")switch(b){case s:r.setTagName(e.slice(t,v)),b=f;break;case l:g=e.slice(t,v),b=u;break;case d:var y=e.slice(t,v);a.warning('attribute "'+y+'" missed quot(")!!'),m(g,y,t);case p:b=f}else switch(b){case u:r.tagName,i.isHTML(n[""])&&g.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),m(g,g,t),t=v,b=l;break;case p:a.warning('attribute space is required"'+g+'"!!');case f:b=l,t=v;break;case c:b=d,t=v;break;case h:throw Error("elements closed character '/' and '>' must be connected to")}}v++}}function A(e,t,r){for(var n=e.tagName,o=null,a=e.length;a--;){var s=e[a],l=s.qName,u=s.value,c=l.indexOf(":");if(c>0)var d=s.prefix=l.slice(0,c),p=l.slice(c+1),f="xmlns"===d&&p;else p=l,d=null,f="xmlns"===l&&"";s.localName=p,!1!==f&&(null==o&&(o={},S(r,r={})),r[f]=o[f]=u,s.uri=i.XMLNS,t.startPrefixMapping(f,u))}for(var a=e.length;a--;){var d=(s=e[a]).prefix;d&&("xml"===d&&(s.uri=i.XML),"xmlns"!==d&&(s.uri=r[d||""]))}var c=n.indexOf(":");c>0?(d=e.prefix=n.slice(0,c),p=e.localName=n.slice(c+1)):(d=null,p=e.localName=n);var h=e.uri=r[d||""];if(t.startElement(h,p,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=o,!0;if(t.endElement(h,p,n),o)for(d in o)Object.prototype.hasOwnProperty.call(o,d)&&t.endPrefixMapping(d)}function w(e,t,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)||(a=a.replace(/&#?\w+;/g,i)),n.characters(a,0,a.length),o}return t+1}function _(e,t,r,i){var n=i[r];return null==n&&((n=e.lastIndexOf("</"+r+">"))<t&&(n=e.lastIndexOf("</"+r)),i[r]=n),n<t}function S(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function E(e,t,r,i){if("-"===e.charAt(t+2)){if("-"===e.charAt(t+3)){var n=e.indexOf("-->",t+4);if(n>t)return r.comment(e,t+4,n-t-4),n+3;i.error("Unclosed comment")}}else{if("CDATA["==e.substr(t+3,6)){var n=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,n-t-9),r.endCDATA(),n+3}var o=x(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var c=o[a-1];return r.startDTD(s,l,u),r.endDTD(),c.index+c[0].length}}return -1}function T(e,t,r){var i=e.indexOf("?>",t);if(i){var n=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n)return n[0].length,r.processingInstruction(n[1],n[2]),i+2}return -1}function I(){this.attributeNames={}}function x(e,t){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);r=n.exec(e);)if(i.push(r),r[1])return i}m.prototype=Error(),m.prototype.name=m.name,g.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),S(t,t={}),y(e,t,r,i,this.errorHandler),i.endDocument()}},I.prototype={setTagName:function(e){if(!a.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!a.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},r.XMLReader=g,r.ParseError=m},457185,(e,t,r)=>{var i=e.r(421280),n=e.r(987042),o=e.r(584007),a=e.r(958859),s=n.DOMImplementation,l=i.NAMESPACE,u=a.ParseError,c=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function f(e,t,r){if(!e){if(t instanceof h)return t;e=t}var i={},n=e instanceof Function;function o(t){var o=e[t];!o&&n&&(o=2==e.length?function(r){e(t,r)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]	"+e+g(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),i}function h(){this.cdata=!1}function m(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function g(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function y(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var r=this.options,i=new c,n=r.domBuilder||new h,a=r.errorHandler,s=r.locator,u=r.xmlns||{},p=/\/x?html?$/.test(t),m=p?o.HTML_ENTITIES:o.XML_ENTITIES;s&&n.setDocumentLocator(s),i.errorHandler=f(a,n,s),i.domBuilder=r.domBuilder||n,p&&(u[""]=l.HTML),u.xml=u.xml||l.XML;var g=r.normalizeLineEndings||d;return e&&"string"==typeof e?i.parse(g(e),u,m):i.errorHandler.error("invalid doc source"),n.doc},h.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,i){var n=this.doc,o=n.createElementNS(e,r||t),a=i.length;v(this,o),this.currentElement=o,this.locator&&m(this.locator,o);for(var s=0;s<a;s++){var e=i.getURI(s),l=i.getValue(s),r=i.getQName(s),u=n.createAttributeNS(e,r);this.locator&&m(i.getLocator(s),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&m(this.locator,r),v(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=y.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else var i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&m(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=y.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&m(this.locator,i),v(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(e,t,r);this.locator&&m(this.locator,n),v(this,n),this.doc.doctype=n}},warning:function(e){console.warn("[xmldom warning]	"+e,g(this.locator))},error:function(e){console.error("[xmldom error]	"+e,g(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){h.prototype[e]=function(){return null}}),r.__DOMHandler=h,r.normalizeLineEndings=d,r.DOMParser=p},742578,(e,t,r)=>{var i=e.r(987042);r.DOMImplementation=i.DOMImplementation,r.XMLSerializer=i.XMLSerializer,r.DOMParser=e.r(457185).DOMParser},163036,(e,t,r)=>{"use strict";var i=/["'&<>]/;t.exports=function e(e){var t,r=""+e,n=i.exec(r);if(!n)return r;var o="",a=0,s=0;for(a=n.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(o+=r.substring(s,a)),s=a+1,o+=t}return s!==a?o+r.substring(s,a):o}},418330,(e,t,r)=>{var i=e.r(163036);t.exports=({contentEncryptionMethod:e,keyInfo:t,encryptedContent:r})=>`
<xenc:EncryptedData Type="http://www.w3.org/2001/04/xmlenc#Element" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#">
  <xenc:EncryptionMethod Algorithm="${i(e)}" />
  ${t}
  <xenc:CipherData>
    <xenc:CipherValue>${i(r)}</xenc:CipherValue>
  </xenc:CipherData>
</xenc:EncryptedData>
`},713776,(e,t,r)=>{var i=e.r(163036);t.exports=({encryptionPublicCert:e,encryptedKey:t,keyEncryptionMethod:r})=>`
<KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
  <e:EncryptedKey xmlns:e="http://www.w3.org/2001/04/xmlenc#">
    <e:EncryptionMethod Algorithm="${i(r)}">
      <DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" />
    </e:EncryptionMethod>
    <KeyInfo>
      ${e}
    </KeyInfo>
    <e:CipherData>
      <e:CipherValue>${i(t)}</e:CipherValue>
    </e:CipherData>
  </e:EncryptedKey>
</KeyInfo>
`},18100,(e,t,r)=>{e.r(814747),e.r(522734);var i={"encrypted-key":e.r(418330),keyinfo:e.r(713776)};t.exports={renderTemplate:function(e,t){return i[e](t)},pemToCert:function(e){var t=/-----BEGIN CERTIFICATE-----([^-]*)-----END CERTIFICATE-----/g.exec(e);return t.length>0?t[1].replace(/[\n|\r\n]/g,""):null},warnInsecureAlgorithm:function(e,t=!0){t&&console.warn(e+" is no longer recommended due to security reasons. Please deprecate its use as soon as possible.")}}},916813,(e,t,r)=>{var i=e.r(254799),n=e.r(742578),o=e.r(832365),a=e.r(18100);let s=["http://www.w3.org/2001/04/xmlenc#rsa-1_5","http://www.w3.org/2001/04/xmlenc#tripledes-cbc"];function l(e,t,r,n){let o="RSA-OAEP"===r?i.constants.RSA_PKCS1_OAEP_PADDING:i.constants.RSA_PKCS1_PADDING,s=Buffer.isBuffer(e)?e:Buffer.from(e,"utf-8");try{var l={encryptedKey:i.publicEncrypt({key:t.rsa_pub,padding:o},s).toString("base64"),encryptionPublicCert:"<X509Data><X509Certificate>"+a.pemToCert(t.pem.toString())+"</X509Certificate></X509Data>",keyEncryptionMethod:t.keyEncryptionAlgorithm},u=a.renderTemplate("keyinfo",l);n(null,u)}catch(e){n(e)}}function u(e,t,r){if(!t)return r(Error("must provide options"));if(!t.rsa_pub)return r(Error("must provide options.rsa_pub with public key RSA"));if(!t.pem)return r(Error("must provide options.pem with certificate"));if(!t.keyEncryptionAlgorithm)return r(Error("encryption without encrypted key is not supported yet"));if(t.disallowEncryptionWithInsecureAlgorithm&&s.indexOf(t.keyEncryptionAlgorithm)>=0)return r(Error("encryption algorithm "+t.keyEncryptionAlgorithm+"is not secure"));switch(t.keyEncryptionAlgorithm){case"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p":return l(e,t,"RSA-OAEP",r);case"http://www.w3.org/2001/04/xmlenc#rsa-1_5":return a.warnInsecureAlgorithm(t.keyEncryptionAlgorithm,t.warnInsecureAlgorithm),l(e,t,"RSAES-PKCS1-V1_5",r);default:return r(Error("encryption key algorithm not supported"))}}function c(e,t){"string"==typeof e&&(e=new n.DOMParser().parseFromString(e));var r,i=o.select("//*[local-name(.)='KeyInfo' and namespace-uri(.)='http://www.w3.org/2000/09/xmldsig#']",e)[0],l=o.select("//*[local-name(.)='KeyInfo']/*[local-name(.)='EncryptedKey']/*[local-name(.)='EncryptionMethod']",e)[0];if(!l){var u=o.select("//*[local-name(.)='EncryptedData']/*[local-name(.)='KeyInfo']/*[local-name(.)='RetrievalMethod']",e)[0];l=(r=u?u.getAttribute("URI"):null)?o.select("//*[local-name(.)='EncryptedKey' and @Id='"+r.substring(1)+"']/*[local-name(.)='EncryptionMethod']",e)[0]:null}if(!l)throw Error("cant find encryption algorithm");var c=l.getAttribute("Algorithm");if(t.disallowDecryptionWithInsecureAlgorithm&&s.indexOf(c)>=0)throw Error("encryption algorithm "+c+" is not secure, fail to decrypt");var p=r?o.select("//*[local-name(.)='EncryptedKey' and @Id='"+r.substring(1)+"']/*[local-name(.)='CipherData']/*[local-name(.)='CipherValue']",i)[0]:o.select("//*[local-name(.)='CipherValue']",i)[0];switch(c){case"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p":return d(p,t,"RSA-OAEP");case"http://www.w3.org/2001/04/xmlenc#rsa-1_5":return a.warnInsecureAlgorithm(c,t.warnInsecureAlgorithm),d(p,t,"RSAES-PKCS1-V1_5");default:throw Error("key encryption algorithm "+c+" not supported")}}function d(e,t,r){var n="RSA-OAEP"===r?i.constants.RSA_PKCS1_OAEP_PADDING:i.constants.RSA_PKCS1_PADDING,o=Buffer.from(e.textContent,"base64"),a=i.privateDecrypt({key:t.key,padding:n},o);return Buffer.from(a,"binary")}function p(e,t,r,n,o,a){i.randomBytes(r,function(r,s){if(r)return a(r);var l=i.createCipheriv(e,t,s),u=l.update(n,o,"binary")+l.final("binary"),c="gcm"===e.slice(-3)?l.getAuthTag():Buffer.from("");return a(null,Buffer.concat([s,Buffer.from(u,"binary"),c]))})}function f(e,t,r,n){var o=i.createDecipheriv(e,t,n.slice(0,r));o.setAutoPadding(!1),"gcm"===e.slice(-3)&&(o.setAuthTag(n.slice(-16)),n=n.slice(0,-16));var a=o.update(n.slice(r),null,"binary")+o.final("binary");if("gcm"!==e.slice(-3)){var s=a.charCodeAt(a.length-1);if(!(1<=s)||!(s<=r))return void callback(Error("padding length invalid"));a=a.substr(0,a.length-s)}return Buffer.from(a,"binary").toString("utf8")}r=t.exports={decrypt:function(e,t,r){if(!t)return r(Error("must provide options"));if(!e)return r(Error("must provide XML to encrypt"));if(!t.key)return r(Error("key option is mandatory and you should provide a valid RSA private key"));try{var i="string"==typeof e?new n.DOMParser().parseFromString(e):e,l=c(i,t),u=o.select("//*[local-name(.)='EncryptedData']/*[local-name(.)='EncryptionMethod']",i)[0].getAttribute("Algorithm");if(t.disallowDecryptionWithInsecureAlgorithm&&s.indexOf(u)>=0)return r(Error("encryption algorithm "+u+" is not secure, fail to decrypt"));var d=o.select("//*[local-name(.)='EncryptedData']/*[local-name(.)='CipherData']/*[local-name(.)='CipherValue']",i)[0],p=Buffer.from(d.textContent,"base64");switch(u){case"http://www.w3.org/2001/04/xmlenc#aes128-cbc":return r(null,f("aes-128-cbc",l,16,p));case"http://www.w3.org/2001/04/xmlenc#aes256-cbc":return r(null,f("aes-256-cbc",l,16,p));case"http://www.w3.org/2001/04/xmlenc#tripledes-cbc":return a.warnInsecureAlgorithm(u,t.warnInsecureAlgorithm),r(null,f("des-ede3-cbc",l,8,p));case"http://www.w3.org/2009/xmlenc11#aes128-gcm":return r(null,f("aes-128-gcm",l,12,p));case"http://www.w3.org/2009/xmlenc11#aes256-gcm":return r(null,f("aes-256-gcm",l,12,p));default:return r(Error("encryption algorithm "+u+" not supported"))}}catch(e){return r(e)}},encrypt:function(e,t,r){if(!t)return r(Error("must provide options"));if(!e)return r(Error("must provide content to encrypt"));if(!t.rsa_pub)return r(Error("rsa_pub option is mandatory and you should provide a valid RSA public key"));if(!t.pem)return r(Error("pem option is mandatory and you should provide a valid x509 certificate encoded as PEM"));if(t.disallowEncryptionWithInsecureAlgorithm&&(s.indexOf(t.keyEncryptionAlgorithm)>=0||s.indexOf(t.encryptionAlgorithm)>=0))return r(Error("encryption algorithm "+t.keyEncryptionAlgorithm+" is not secure"));function n(r,i){switch(t.encryptionAlgorithm){case"http://www.w3.org/2001/04/xmlenc#aes128-cbc":p("aes-128-cbc",r,16,e,t.input_encoding,function(e,t){if(e)return i(e);i(null,t)});break;case"http://www.w3.org/2001/04/xmlenc#aes256-cbc":p("aes-256-cbc",r,16,e,t.input_encoding,function(e,t){if(e)return i(e);i(null,t)});break;case"http://www.w3.org/2009/xmlenc11#aes128-gcm":p("aes-128-gcm",r,12,e,t.input_encoding,function(e,t){if(e)return i(e);i(null,t)});break;case"http://www.w3.org/2009/xmlenc11#aes256-gcm":p("aes-256-gcm",r,12,e,t.input_encoding,function(e,t){if(e)return i(e);i(null,t)});break;case"http://www.w3.org/2001/04/xmlenc#tripledes-cbc":a.warnInsecureAlgorithm(t.encryptionAlgorithm,t.warnInsecureAlgorithm),p("des-ede3-cbc",r,8,e,t.input_encoding,function(e,t){if(e)return i(e);i(null,t)});break;default:i(Error("encryption algorithm not supported"))}}function o(e,r,i){u(e,t,function(e,n){if(e)return i(e);i(null,a.renderTemplate("encrypted-key",{encryptedContent:r.toString("base64"),keyInfo:n,contentEncryptionMethod:t.encryptionAlgorithm}))})}t.input_encoding=t.input_encoding||"utf8",function(e){switch(t.encryptionAlgorithm){case"http://www.w3.org/2001/04/xmlenc#aes128-cbc":case"http://www.w3.org/2009/xmlenc11#aes128-gcm":i.randomBytes(16,e);break;case"http://www.w3.org/2001/04/xmlenc#aes256-cbc":case"http://www.w3.org/2009/xmlenc11#aes256-gcm":default:i.randomBytes(32,e);break;case"http://www.w3.org/2001/04/xmlenc#tripledes-cbc":a.warnInsecureAlgorithm(t.encryptionAlgorithm,t.warnInsecureAlgorithm),i.randomBytes(24,e)}}(function(e,t){if(e)return r(e);n(t,function(e,i){if(e)return r(e);o(t,i,function(e,t){if(e)return r(e);r(null,t)})})})},encryptKeyInfo:u,decryptKeyInfo:c}},244741,(e,t,r)=>{r=t.exports=e.r(916813)},715126,(e,t,r)=>{(t.exports=function e(t,r){var i;if(null!=t)return r=(r||"").replace(/[^&"<>\']/g,""),i="([&\"<>'])".replace(RegExp("["+r+"]","g"),""),t.replace(RegExp(i,"g"),function(t,r){return e.map[r]})}).map={">":"&gt;","<":"&lt;","'":"&apos;",'"':"&quot;","&":"&amp;"}},91761,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=e.e&&e.e.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=e.e&&e.e.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},l=e.e&&e.e.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var c=o(e.r(741530)),d=e.r(809849),p=e.r(832365),f=u(e.r(903345)),h=e.r(730712),m=o(e.r(244741)),g=u(e.r(334865)),y=e.r(360958),v=u(e.r(715126)),b=o(e.r(522734)),A=e.r(528753),w=d.algorithms.signature,_=d.algorithms.digest,S=d.wording.certUse,E=d.wording.urlParams;r.default=function(){var e={"http://www.w3.org/2000/09/xmldsig#rsa-sha1":"pkcs1-sha1","http://www.w3.org/2001/04/xmldsig-more#rsa-sha256":"pkcs1-sha256","http://www.w3.org/2001/04/xmldsig-more#rsa-sha512":"pkcs1-sha512"},t={context:"<saml:AttributeStatement>{Attributes}</saml:AttributeStatement>"},r={context:'<saml:Attribute Name="{Name}" NameFormat="{NameFormat}"><saml:AttributeValue xmlns:xs="{ValueXmlnsXs}" xmlns:xsi="{ValueXmlnsXsi}" xsi:type="{ValueXsiType}">{Value}</saml:AttributeValue></saml:Attribute>'};function i(t){if(t){var r=e[t];if(void 0!==r)return r}return e[w.RSA_SHA1]}function n(e){return _[e]}function o(e,t){var r=(0,g.default)(t,{locale:"en-us"});return e+r.charAt(0).toUpperCase()+r.slice(1)}function u(e){return function(t,r){var i=null==e?"":String(e);return r?"".concat(r).concat((0,v.default)(i)):i}}return{createXPath:function(e,t){return(0,c.isString)(e)?!0===t?"//*[local-name(.)='"+e+"']/text()":"//*[local-name(.)='"+e+"']":"//*[local-name(.)='"+e.name+"']/@"+e.attr},getQueryParamByType:function(e){if(-1!==[E.logoutRequest,E.samlRequest].indexOf(e))return"SAMLRequest";if(-1!==[E.logoutResponse,E.samlResponse].indexOf(e))return"SAMLResponse";throw Error("ERR_UNDEFINED_QUERY_PARAMS")},defaultLoginRequestTemplate:{context:'<samlp:AuthnRequest xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" ID="{ID}" Version="2.0" IssueInstant="{IssueInstant}" Destination="{Destination}" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" AssertionConsumerServiceURL="{AssertionConsumerServiceURL}"><saml:Issuer>{Issuer}</saml:Issuer><samlp:NameIDPolicy Format="{NameIDFormat}" AllowCreate="{AllowCreate}"/></samlp:AuthnRequest>'},defaultLoginResponseTemplate:{context:'<samlp:Response xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" ID="{ID}" Version="2.0" IssueInstant="{IssueInstant}" Destination="{Destination}" InResponseTo="{InResponseTo}"><saml:Issuer>{Issuer}</saml:Issuer><samlp:Status><samlp:StatusCode Value="{StatusCode}"/></samlp:Status><saml:Assertion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" ID="{AssertionID}" Version="2.0" IssueInstant="{IssueInstant}"><saml:Issuer>{Issuer}</saml:Issuer><saml:Subject><saml:NameID Format="{NameIDFormat}">{NameID}</saml:NameID><saml:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><saml:SubjectConfirmationData NotOnOrAfter="{SubjectConfirmationDataNotOnOrAfter}" Recipient="{SubjectRecipient}" InResponseTo="{InResponseTo}"/></saml:SubjectConfirmation></saml:Subject><saml:Conditions NotBefore="{ConditionsNotBefore}" NotOnOrAfter="{ConditionsNotOnOrAfter}"><saml:AudienceRestriction><saml:Audience>{Audience}</saml:Audience></saml:AudienceRestriction></saml:Conditions>{AuthnStatement}{AttributeStatement}</saml:Assertion></samlp:Response>',attributes:[],additionalTemplates:{attributeStatementTemplate:t,attributeTemplate:r}},defaultAttributeStatementTemplate:t,defaultAttributeTemplate:r,defaultLogoutRequestTemplate:{context:'<samlp:LogoutRequest xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" ID="{ID}" Version="2.0" IssueInstant="{IssueInstant}" Destination="{Destination}"><saml:Issuer>{Issuer}</saml:Issuer><saml:NameID Format="{NameIDFormat}">{NameID}</saml:NameID></samlp:LogoutRequest>'},defaultLogoutResponseTemplate:{context:'<samlp:LogoutResponse xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion" ID="{ID}" Version="2.0" IssueInstant="{IssueInstant}" Destination="{Destination}" InResponseTo="{InResponseTo}"><saml:Issuer>{Issuer}</saml:Issuer><samlp:Status><samlp:StatusCode Value="{StatusCode}"/></samlp:Status></samlp:LogoutResponse>'},replaceTagsByValue:function(e,t){return Object.keys(t).forEach(function(r){e=e.replace(RegExp('("?)\\{'.concat(r,"\\}"),"g"),u(t[r]))}),e},attributeStatementBuilder:function(e,i,n){void 0===i&&(i=r),void 0===n&&(n=t);var a=e.map(function(e){var t=e.name,r=e.nameFormat,n=e.valueTag,a=e.valueXsiType,s=e.valueXmlnsXs,l=e.valueXmlnsXsi,u="http://www.w3.org/2001/XMLSchema",c="http://www.w3.org/2001/XMLSchema-instance",d=i.context;return(d=(d=(d=(d=(d=d.replace("{Name}",t)).replace("{NameFormat}",r)).replace("{ValueXmlnsXs}",s||u)).replace("{ValueXmlnsXsi}",l||c)).replace("{ValueXsiType}",a)).replace("{Value}","{".concat(o("attr",n),"}"))}).join("");return n.context.replace("{Attributes}",a)},constructSAMLSignature:function(e){var t=e.rawSamlMessage,r=e.referenceTagXPath,i=e.privateKey,o=e.privateKeyPass,a=e.signatureAlgorithm,s=void 0===a?w.RSA_SHA256:a,l=e.transformationAlgorithms,u=void 0===l?["http://www.w3.org/2000/09/xmldsig#enveloped-signature","http://www.w3.org/2001/10/xml-exc-c14n#"]:l,d=e.signingCert,p=e.signatureConfig,f=e.isBase64Output,m=void 0===f||f,g=e.isMessageSigned,y=void 0!==g&&g,v=new h.SignedXml,b=n(s);return r&&v.addReference({xpath:r,transforms:u,digestAlgorithm:b}),y&&v.addReference({xpath:"/*",transforms:u,digestAlgorithm:b}),v.signatureAlgorithm=s,v.publicCert=this.getKeyInfo(d,p).getKey(),v.getKeyInfoContent=this.getKeyInfo(d,p).getKeyInfo,v.privateKey=c.default.readPrivateKey(i,o,!0),v.canonicalizationAlgorithm="http://www.w3.org/2001/10/xml-exc-c14n#",p?v.computeSignature(t,p):v.computeSignature(t),!1!==m?c.default.base64Encode(v.getSignedXml()):v.getSignedXml()},verifySignature:function(e,t){var r,i,n=(0,y.getContext)().dom.parseFromString(e),o=new A.DOMParser,a="/*[contains(local-name(), 'Response') or contains(local-name(), 'Request')]/*[local-name(.)='Signature']",s="/*[contains(local-name(), 'Response') or contains(local-name(), 'Request')]/*[local-name(.)='Assertion']/*[local-name(.)='Signature']",u="/*[contains(local-name(), 'Response')]/*[local-name(.)='Assertion']/*[local-name(.)='Subject']/*[local-name(.)='SubjectConfirmation']/*[local-name(.)='SubjectConfirmationData']//*[local-name(.)='Assertion' or local-name(.)='Signature']",d=[],f=(0,p.select)(a,n),m=(0,p.select)(s,n),g=(0,p.select)(u,n);if(d=(d=d.concat(f)).concat(m),0!==g.length)throw Error("ERR_POTENTIAL_WRAPPING_ATTACK");if(0===d.length)return[!1,null];var v=function(e){var r=new h.SignedXml,i=!1;if(r.signatureAlgorithm=t.signatureAlgorithm,!t.keyFile&&!t.metadata)throw Error("ERR_UNDEFINED_SIGNATURE_VERIFIER_OPTIONS");if(t.keyFile&&(r.publicCert=b.readFileSync(t.keyFile)),t.metadata){var a=(0,p.select)(".//*[local-name(.)='X509Certificate']",e),s=t.metadata.getX509Certificate(S.signing);if(Array.isArray(s)?s=(0,c.flattenDeep)(s):"string"==typeof s&&(s=[s]),s=s.map(c.default.normalizeCerString),0===a.length&&0===s.length)throw Error("NO_SELECTED_CERTIFICATE");if(0!==a.length){var l=a[0].firstChild.data,u=c.default.normalizeCerString(l);if(s.length>=1&&!s.find(function(e){return e.trim()===u.trim()}))throw Error("ERROR_UNMATCH_CERTIFICATE_DECLARATION_IN_METADATA");r.publicCert=w.getKeyInfo(u).getKey()}else r.publicCert=w.getKeyInfo(s[0]).getKey()}if(r.loadSignature(e),!(i=r.checkSignature(n.toString())))return"continue";if(!(r.getSignedReferences().length>=1))throw Error("NO_SIGNATURE_REFERENCES");var d=r.getSignedReferences()[0],f=o.parseFromString(d,"text/xml").documentElement;if("Response"===f.localName){var m=(0,p.select)("./*[local-name()='Assertion']",f),g=(0,p.select)("./*[local-name()='EncryptedAssertion']",f);return 1===m.length?{value:[!0,m[0].toString()]}:g.length>=1?{value:[!0,f.toString()]}:{value:[!0,null]}}return"Assertion"===f.localName?{value:[!0,f.toString()]}:{value:[!0,null]}},w=this;try{for(var _=l(d),E=_.next();!E.done;E=_.next()){var T=E.value,I=v(T);if("object"==typeof I)return I.value}}catch(e){r={error:e}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return[!1,null]},createKeySection:function(e,t){var r,i,n;return(r={}).KeyDescriptor=[{_attr:{use:e}},((i={})["ds:KeyInfo"]=[{_attr:{"xmlns:ds":"http://www.w3.org/2000/09/xmldsig#"}},((n={})["ds:X509Data"]=[{"ds:X509Certificate":c.default.normalizeCerString(t)}],n)],i)],r},constructMessageSignature:function(e,t,r,n,o){var a=new f.default(c.default.readPrivateKey(t,r),void 0,{signingScheme:i(o)}).sign(e);return!1!==n?a.toString("base64"):a},verifyMessageSignature:function(e,t,r,n){var o=e.getX509Certificate(S.signing),a=i(n);return new f.default(c.default.getPublicKeyPemFromCertificate(o),"public",{signingScheme:a}).verify(Buffer.from(t),Buffer.from(r))},getKeyInfo:function(e,t){void 0===t&&(t={});var r=t.prefix?"".concat(t.prefix,":"):"";return{getKeyInfo:function(){return"<".concat(r,"X509Data><").concat(r,"X509Certificate>").concat(e,"</").concat(r,"X509Certificate></").concat(r,"X509Data>")},getKey:function(){return c.default.getPublicKeyPemFromCertificate(e).toString()}}},encryptAssertion:function(e,t,r){return new Promise(function(i,n){if(!r)return n(Error("ERR_UNDEFINED_ASSERTION"));var o=e.entitySetting,a=t.entityMeta,s=(0,y.getContext)().dom,l=s.parseFromString(r),u=(0,p.select)("//*[local-name(.)='Assertion']",l);if(!Array.isArray(u)||0===u.length)throw Error("ERR_NO_ASSERTION");if(u.length>1)throw Error("ERR_MULTIPLE_ASSERTION");var f=u[0];if(!o.isAssertionEncrypted)return i(c.default.base64Encode(r));var h=c.default.getPublicKeyPemFromCertificate(a.getX509Certificate(S.encrypt));m.encrypt(f.toString(),{rsa_pub:Buffer.from(h),pem:Buffer.from("-----BEGIN CERTIFICATE-----".concat(a.getX509Certificate(S.encrypt),"-----END CERTIFICATE-----")),encryptionAlgorithm:o.dataEncryptionAlgorithm,keyEncryptionAlgorithm:o.keyEncryptionAlgorithm},function(e,t){if(e)return console.error(e),n(Error("ERR_EXCEPTION_OF_ASSERTION_ENCRYPTION"));if(!t)return n(Error("ERR_UNDEFINED_ENCRYPTED_ASSERTION"));var r=o.tagPrefix.encryptedAssertion,a=s.parseFromString("<".concat(r,":EncryptedAssertion xmlns:").concat(r,'="').concat(d.namespace.names.assertion,'">').concat(t,"</").concat(r,":EncryptedAssertion>"));return l.documentElement.replaceChild(a.documentElement,f),i(c.default.base64Encode(l.toString()))})})},decryptAssertion:function(e,t){return new Promise(function(r,i){if(!t)return i(Error("ERR_UNDEFINED_ASSERTION"));var n=e.entitySetting,o=(0,y.getContext)().dom,a=o.parseFromString(t),s=(0,p.select)("/*[contains(local-name(), 'Response')]/*[local-name(.)='EncryptedAssertion']",a);if(!Array.isArray(s)||0===s.length)throw Error("ERR_UNDEFINED_ENCRYPTED_ASSERTION");if(s.length>1)throw Error("ERR_MULTIPLE_ASSERTION");var l=s[0];return m.decrypt(l.toString(),{key:c.default.readPrivateKey(n.encPrivateKey,n.encPrivateKeyPass)},function(e,t){if(e)return console.error(e),i(Error("ERR_EXCEPTION_OF_ASSERTION_DECRYPTION"));if(!t)return i(Error("ERR_UNDEFINED_ENCRYPTED_ASSERTION"));var n=o.parseFromString(t);return a.documentElement.replaceChild(n.documentElement,l),r([a.toString(),t])})})},isValidXml:function(e){return a(this,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:if(!(t=(0,y.getContext)().validate))return[2,Promise.reject("Your application is potentially vulnerable because no validation function found. Please read the documentation on how to setup the validator. (https://github.com/tngan/samlify#installation)")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t(e)];case 2:return[2,r.sent()];case 3:throw r.sent();case 4:return[2]}})})}}}()},527198,(e,t,r)=>{var i={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};t.exports=function(e){return e&&e.replace?e.replace(/([&"<>'])/g,function(e,t){return i[t]}):e}},879641,(e,t,r)=>{var i=e.r(527198),n=e.r(688947).Stream,o="    ";function a(){var e=Array.prototype.slice.call(arguments),t={_elem:l(e)};return t.push=function(e){if(!this.append)throw Error("not assigned to a parent!");var t=this,r=this._elem.indent;u(this.append,l(e,r,this._elem.icount+ +!!r),function(){t.append(!0)})},t.close=function(e){void 0!==e&&this.push(e),this.end&&this.end()},t}function s(e,t){return Array(t||0).join(e||"")}function l(e,t,r){var n,o,a=s(t,r=r||0),u=e,d=!1;if("object"==typeof e&&(n=Object.keys(e)[0],(u=e[n])&&u._elem))return u._elem.name=n,u._elem.icount=r,u._elem.indent=t,u._elem.indents=a,u._elem.interrupt=u,u._elem;var p=[],f=[];function h(e){Object.keys(e).forEach(function(t){p.push(c(t,e[t]))})}switch(typeof u){case"object":if(null===u)break;u._attr&&h(u._attr),u._cdata&&f.push(("<![CDATA["+u._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),u.forEach&&(o=!1,f.push(""),u.forEach(function(e){"object"==typeof e?"_attr"==Object.keys(e)[0]?h(e._attr):f.push(l(e,t,r+1)):(f.pop(),o=!0,f.push(i(e)))}),o||f.push(""));break;default:f.push(i(u))}return{name:n,interrupt:d,attributes:p,content:f,icount:r,indents:a,indent:t}}function u(e,t,r){if("object"!=typeof t)return e(!1,t);var i=t.interrupt?1:t.content.length;function n(){for(;t.content.length;){var n=t.content.shift();if(void 0!==n){if(o(n))return;u(e,n)}}e(!1,(i>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?"\n":"")),r&&r()}function o(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=n,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(i?t.name?">":"":t.name?"/>":"")+(t.indent&&i>1?"\n":"")),!i)return e(!1,t.indent?"\n":"");o(t)||n()}function c(e,t){return e+'="'+i(t)+'"'}t.exports=function(e,t){"object"!=typeof t&&(t={indent:t});var r=t.stream?new n:null,i="",a=!1,s=t.indent?!0===t.indent?o:t.indent:"",c=!0;function d(e){c?process.nextTick(e):e()}function p(e,t){if(void 0!==t&&(i+=t),e&&!a&&(r=r||new n,a=!0),e&&a){var o=i;d(function(){r.emit("data",o)}),i=""}}function f(e,t){u(p,l(e,s,+!!s),t)}function h(){if(r){var e=i;d(function(){r.emit("data",e),r.emit("end"),r.readable=!1,r.emit("close")})}}function m(e){var t={version:"1.0",encoding:e.encoding||"UTF-8"};e.standalone&&(t.standalone=e.standalone),f({"?xml":{_attr:t}}),i=i.replace("/>","?>")}return(d(function(){c=!1}),t.declaration&&m(t.declaration),e&&e.forEach?e.forEach(function(t,r){var i;r+1===e.length&&(i=h),f(t,i)}):f(e,h),r)?(r.readable=!0,r):i},t.exports.element=t.exports.Element=a},303790,(e,t,r)=>{"use strict";var i=e.e&&e.e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=e.e&&e.e.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.IdpMetadata=void 0;var a=o(e.r(295769)),s=e.r(809849),l=o(e.r(91761)),u=e.r(741530),c=o(e.r(879641));r.default=function(e){return new d(e)};var d=function(e){var t,r;function o(i){if(!((0,u.isString)(i)||i instanceof Buffer)){var o=i,a=o.entityID,d=o.signingCert,p=o.encryptCert,f=o.wantAuthnRequestsSigned,h=void 0!==f&&f,m=o.nameIDFormat,g=void 0===m?[]:m,y=o.singleSignOnService,v=void 0===y?[]:y,b=o.singleLogoutService,A=void 0===b?[]:b,w=[{_attr:{WantAuthnRequestsSigned:String(h),protocolSupportEnumeration:s.namespace.names.protocol}}];try{for(var _=n((0,u.castArrayOpt)(d)),S=_.next();!S.done;S=_.next()){var E=S.value;w.push(l.default.createKeySection("signing",E))}}catch(e){t={error:e}}finally{try{S&&!S.done&&(o=_.return)&&o.call(_)}finally{if(t)throw t.error}}try{for(var T=n((0,u.castArrayOpt)(p)),I=T.next();!I.done;I=T.next()){var E=I.value;w.push(l.default.createKeySection("encryption",E))}}catch(e){r={error:e}}finally{try{I&&!I.done&&(f=T.return)&&f.call(T)}finally{if(r)throw r.error}}if((0,u.isNonEmptyArray)(g)&&g.forEach(function(e){return w.push({NameIDFormat:e})}),(0,u.isNonEmptyArray)(v))v.forEach(function(e,t){var r={Binding:e.Binding,Location:e.Location};e.isDefault&&(r.isDefault=!0),w.push({SingleSignOnService:[{_attr:r}]})});else throw Error("ERR_IDP_METADATA_MISSING_SINGLE_SIGN_ON_SERVICE");(0,u.isNonEmptyArray)(A)?A.forEach(function(e,t){var r={};e.isDefault&&(r.isDefault=!0),r.Binding=e.Binding,r.Location=e.Location,w.push({SingleLogoutService:[{_attr:r}]})}):console.warn("Construct identity  provider - missing endpoint of SingleLogoutService"),i=(0,c.default)([{EntityDescriptor:[{_attr:{xmlns:s.namespace.names.metadata,"xmlns:assertion":s.namespace.names.assertion,"xmlns:ds":"http://www.w3.org/2000/09/xmldsig#",entityID:a}},{IDPSSODescriptor:w}]}])}return e.call(this,i,[{key:"wantAuthnRequestsSigned",localPath:["EntityDescriptor","IDPSSODescriptor"],attributes:["WantAuthnRequestsSigned"]},{key:"singleSignOnService",localPath:["EntityDescriptor","IDPSSODescriptor","SingleSignOnService"],index:["Binding"],attributePath:[],attributes:["Location"]}])||this}return i(o,e),o.prototype.isWantAuthnRequestsSigned=function(){var e=this.meta.wantAuthnRequestsSigned;return void 0!==e&&"true"===String(e)},o.prototype.getSingleSignOnService=function(e){if((0,u.isString)(e)){var t=s.namespace.binding[e],r=this.meta.singleSignOnService[t];if(r)return r}return this.meta.singleSignOnService},o}(a.default);r.IdpMetadata=d},248741,(e,t,r)=>{"use strict";var i=e.e&&e.e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=e.e&&e.e.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SpMetadata=void 0;var a=o(e.r(295769)),s=e.r(809849),l=o(e.r(91761)),u=e.r(741530),c=o(e.r(879641));r.default=function(e){return new d(e)};var d=function(e){var t,r;function o(i){if(!((0,u.isString)(i)||i instanceof Buffer)){var o=i,a=o.elementsOrder,d=void 0===a?s.elementsOrder.default:a,p=o.entityID,f=o.signingCert,h=o.encryptCert,m=o.authnRequestsSigned,g=void 0!==m&&m,y=o.wantAssertionsSigned,v=void 0!==y&&y,b=o.wantMessageSigned,A=void 0!==b&&b,w=o.signatureConfig,_=o.nameIDFormat,S=void 0===_?[]:_,E=o.singleLogoutService,T=void 0===E?[]:E,I=o.assertionConsumerService,x=void 0===I?[]:I,O={KeyDescriptor:[],NameIDFormat:[],SingleLogoutService:[],AssertionConsumerService:[],AttributeConsumingService:[]},C=[{_attr:{AuthnRequestsSigned:String(g),WantAssertionsSigned:String(v),protocolSupportEnumeration:s.namespace.names.protocol}}];A&&void 0===w&&console.warn("Construct service provider - missing signatureConfig");try{for(var k=n((0,u.castArrayOpt)(f)),N=k.next();!N.done;N=k.next()){var R=N.value;O.KeyDescriptor.push(l.default.createKeySection("signing",R).KeyDescriptor)}}catch(e){t={error:e}}finally{try{N&&!N.done&&(o=k.return)&&o.call(k)}finally{if(t)throw t.error}}try{for(var P=n((0,u.castArrayOpt)(h)),D=P.next();!D.done;D=P.next()){var R=D.value;O.KeyDescriptor.push(l.default.createKeySection("encryption",R).KeyDescriptor)}}catch(e){r={error:e}}finally{try{D&&!D.done&&(a=P.return)&&a.call(P)}finally{if(r)throw r.error}}if((0,u.isNonEmptyArray)(S)?S.forEach(function(e){return O.NameIDFormat.push(e)}):O.NameIDFormat.push(s.namespace.format.emailAddress),(0,u.isNonEmptyArray)(T)&&T.forEach(function(e){var t={Binding:e.Binding,Location:e.Location};e.isDefault&&(t.isDefault=!0),O.SingleLogoutService.push([{_attr:t}])}),(0,u.isNonEmptyArray)(x)){var U=0;x.forEach(function(e){var t={index:String(U++),Binding:e.Binding,Location:e.Location};e.isDefault&&(t.isDefault=!0),O.AssertionConsumerService.push([{_attr:t}])})}d.filter(function(e){return(0,u.isNonEmptyArray)(O[e])}).forEach(function(e){O[e].forEach(function(t){var r;return C.push(((r={})[e]=t,r))})}),i=(0,c.default)([{EntityDescriptor:[{_attr:{entityID:p,xmlns:s.namespace.names.metadata,"xmlns:assertion":s.namespace.names.assertion,"xmlns:ds":"http://www.w3.org/2000/09/xmldsig#"}},{SPSSODescriptor:C}]}])}return e.call(this,i,[{key:"spSSODescriptor",localPath:["EntityDescriptor","SPSSODescriptor"],attributes:["WantAssertionsSigned","AuthnRequestsSigned"]},{key:"assertionConsumerService",localPath:["EntityDescriptor","SPSSODescriptor","AssertionConsumerService"],attributes:["Binding","Location","isDefault","index"]}])||this}return i(o,e),o.prototype.isWantAssertionsSigned=function(){return"true"===this.meta.spSSODescriptor.wantAssertionsSigned},o.prototype.isAuthnRequestSigned=function(){return"true"===this.meta.spSSODescriptor.authnRequestsSigned},o.prototype.getAssertionConsumerService=function(e){if((0,u.isString)(e)){var t,r=s.namespace.binding[e];return(0,u.isNonEmptyArray)(this.meta.assertionConsumerService)?this.meta.assertionConsumerService.forEach(function(e){if(e.binding===r){t=e.location;return}}):this.meta.assertionConsumerService.binding===r&&(t=this.meta.assertionConsumerService.location),t}return this.meta.assertionConsumerService},o}(a.default);r.SpMetadata=d},860241,(e,t,r)=>{"use strict";var i=e.e&&e.e.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var l=a(e.r(741530)),u=s(e.r(91761)),c=a(e.r(792509)),d=e.r(809849),p=d.wording.binding,f=d.wording.urlParams;function h(e,t,r){return(!0===r?"?":"&")+e+"="+t}function m(e){var t=e.baseUrl,r=e.type,i=e.isSigned,n=e.context,o=e.entitySetting,a=e.relayState,s=void 0===a?"":a,d=0===(c.parse(t).query||[]).length,p=u.default.getQueryParamByType(r),m=encodeURIComponent(l.default.base64Encode(l.default.deflateString(n)));if(""!==s&&(s=h(f.relayState,encodeURIComponent(s))),i){var g=m+s+h(f.sigAlg,encodeURIComponent(o.requestSignatureAlgorithm));return t+h(p,g,d)+h(f.signature,encodeURIComponent(u.default.constructMessageSignature(p+"="+g,o.privateKey,o.privateKeyPass,void 0,o.requestSignatureAlgorithm).toString()))}return t+h(p,m+s,d)}r.default={loginRequestRedirectURL:function(e,t){var r={idp:e.idp.entityMeta,sp:e.sp.entityMeta},i=e.sp.entitySetting,n="";if(r&&r.idp&&r.sp){var o=r.idp.getSingleSignOnService(p.redirect),a=void 0;if(i.loginRequestTemplate&&t){var s=t(i.loginRequestTemplate);n=(0,l.get)(s,"id",null),a=(0,l.get)(s,"context",null)}else{var c=i.nameIDFormat,d=Array.isArray(c)?c[0]:c;n=i.generateID(),a=u.default.replaceTagsByValue(u.default.defaultLoginRequestTemplate.context,{ID:n,Destination:o,Issuer:r.sp.getEntityID(),IssueInstant:new Date().toISOString(),NameIDFormat:d,AssertionConsumerServiceURL:r.sp.getAssertionConsumerService(p.post),EntityID:r.sp.getEntityID(),AllowCreate:i.allowCreate})}return{id:n,context:m({context:a,type:f.samlRequest,isSigned:r.sp.isAuthnRequestSigned(),entitySetting:i,baseUrl:o,relayState:i.relayState})}}throw Error("ERR_GENERATE_REDIRECT_LOGIN_REQUEST_MISSING_METADATA")},loginResponseRedirectURL:function(e,t,r,n,o){void 0===r&&(r={});var a=t.idp.entitySetting,s=t.sp.entitySetting,c={idp:t.idp.entityMeta,sp:t.sp.entityMeta},h=a.generateID();if(c&&c.idp&&c.sp){var g=c.sp.getAssertionConsumerService(p.redirect),y=void 0,v=a.nameIDFormat,b=Array.isArray(v)?v[0]:v,A=new Date,w=new Date(A.getTime()+3e5),_={ID:h,AssertionID:a.generateID(),Destination:g,SubjectRecipient:g,Issuer:c.idp.getEntityID(),Audience:c.sp.getEntityID(),EntityID:c.sp.getEntityID(),IssueInstant:A.toISOString(),AssertionConsumerServiceURL:g,StatusCode:d.namespace.statusCode.success,ConditionsNotBefore:A.toISOString(),ConditionsNotOnOrAfter:w.toISOString(),SubjectConfirmationDataNotOnOrAfter:w.toISOString(),NameIDFormat:b,NameID:r.email||"",InResponseTo:(0,l.get)(e,"extract.request.id",""),AuthnStatement:"",AttributeStatement:""};if(a.loginResponseTemplate&&o){var S=o(a.loginResponseTemplate.context);h=(0,l.get)(S,"id",null),y=(0,l.get)(S,"context",null)}else null!==e&&(_.InResponseTo=e.extract.request.id),y=u.default.replaceTagsByValue(u.default.defaultLoginResponseTemplate.context,_);var E={privateKey:a.privateKey,privateKeyPass:a.privateKeyPass,signatureAlgorithm:a.requestSignatureAlgorithm,signingCert:c.idp.getX509Certificate("signing"),isBase64Output:!1};return c.sp.isWantAssertionsSigned()&&(y=u.default.constructSAMLSignature(i(i({},E),{rawSamlMessage:y,transformationAlgorithms:s.transformationAlgorithms,referenceTagXPath:"/*[local-name(.)='Response']/*[local-name(.)='Assertion']",signatureConfig:{prefix:"ds",location:{reference:"/*[local-name(.)='Response']/*[local-name(.)='Assertion']/*[local-name(.)='Issuer']",action:"after"}}}))),{id:h,context:m({baseUrl:g,type:f.samlResponse,isSigned:!0,context:y,entitySetting:a,relayState:n})}}throw Error("ERR_GENERATE_REDIRECT_LOGIN_RESPONSE_MISSING_METADATA")},logoutRequestRedirectURL:function(e,t,r,i){var n={init:t.init.entityMeta,target:t.target.entityMeta},o=t.init.entitySetting,a=o.generateID(),s=o.nameIDFormat,c=Array.isArray(s)?s[0]:s;if(n&&n.init&&n.target){var d=n.target.getSingleLogoutService(p.redirect),h="",g={ID:a,Destination:d,EntityID:n.init.getEntityID(),Issuer:n.init.getEntityID(),IssueInstant:new Date().toISOString(),NameIDFormat:c,NameID:e.logoutNameID,SessionIndex:e.sessionIndex};if(o.logoutRequestTemplate&&i){var y=i(o.logoutRequestTemplate,g);a=(0,l.get)(y,"id",null),h=(0,l.get)(y,"context",null)}else h=u.default.replaceTagsByValue(u.default.defaultLogoutRequestTemplate.context,g);return{id:a,context:m({context:h,relayState:r,type:f.logoutRequest,isSigned:t.target.entitySetting.wantLogoutRequestSigned,entitySetting:o,baseUrl:d})}}throw Error("ERR_GENERATE_REDIRECT_LOGOUT_REQUEST_MISSING_METADATA")},logoutResponseRedirectURL:function(e,t,r,i){var n={init:t.init.entityMeta,target:t.target.entityMeta},o=t.init.entitySetting,a=o.generateID();if(n&&n.init&&n.target){var s=n.target.getSingleLogoutService(p.redirect),c=void 0;if(o.logoutResponseTemplate&&i){var h=i(o.logoutResponseTemplate);a=(0,l.get)(h,"id",null),c=(0,l.get)(h,"context",null)}else{var g={ID:a,Destination:s,Issuer:n.init.getEntityID(),EntityID:n.init.getEntityID(),IssueInstant:new Date().toISOString(),StatusCode:d.namespace.statusCode.success};e&&e.extract&&e.extract.request&&(g.InResponseTo=e.extract.request.id),c=u.default.replaceTagsByValue(u.default.defaultLogoutResponseTemplate.context,g)}return{id:a,context:m({baseUrl:s,type:f.logoutResponse,isSigned:t.target.entitySetting.wantLogoutResponseSigned,context:c,entitySetting:o,relayState:r})}}throw Error("ERR_GENERATE_REDIRECT_LOGOUT_RESPONSE_MISSING_METADATA")}}},459384,(e,t,r)=>{"use strict";var i=e.e&&e.e.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=e.e&&e.e.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})},l=e.e&&e.e.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var c=e.r(809849),d=u(e.r(91761)),p=a(e.r(741530)),f=c.wording.binding;r.default={base64LoginRequest:function(e,t,r){var i={idp:t.idp.entityMeta,sp:t.sp.entityMeta},n=t.sp.entitySetting,o="";if(i&&i.idp&&i.sp){var a=i.idp.getSingleSignOnService(f.post),s=void 0;if(n.loginRequestTemplate&&r){var l=r(n.loginRequestTemplate.context);o=(0,p.get)(l,"id",null),s=(0,p.get)(l,"context",null)}else{var u=n.nameIDFormat,c=Array.isArray(u)?u[0]:u;o=n.generateID(),s=d.default.replaceTagsByValue(d.default.defaultLoginRequestTemplate.context,{ID:o,Destination:a,Issuer:i.sp.getEntityID(),IssueInstant:new Date().toISOString(),AssertionConsumerServiceURL:i.sp.getAssertionConsumerService(f.post),EntityID:i.sp.getEntityID(),AllowCreate:n.allowCreate,NameIDFormat:c})}if(i.idp.isWantAuthnRequestsSigned()){var h=n.privateKey,m=n.privateKeyPass,g=n.requestSignatureAlgorithm,y=n.transformationAlgorithms;return{id:o,context:d.default.constructSAMLSignature({referenceTagXPath:e,privateKey:h,privateKeyPass:m,signatureAlgorithm:g,transformationAlgorithms:y,rawSamlMessage:s,signingCert:i.sp.getX509Certificate("signing"),signatureConfig:n.signatureConfig||{prefix:"ds",location:{reference:"/*[local-name(.)='AuthnRequest']/*[local-name(.)='Issuer']",action:"after"}}})}}return{id:o,context:p.default.base64Encode(s)}}throw Error("ERR_GENERATE_POST_LOGIN_REQUEST_MISSING_METADATA")},base64LoginResponse:function(e,t,r,n,o){return void 0===e&&(e={}),void 0===r&&(r={}),void 0===o&&(o=!1),s(this,void 0,void 0,function(){var a,s,u,h,m,g,y,v,b,A,w,_,S,E,T,I,x,O,C;return l(this,function(l){switch(l.label){case 0:if(a=t.idp.entitySetting,s=t.sp.entitySetting,u=a.generateID(),h={idp:t.idp.entityMeta,sp:t.sp.entityMeta},g=Array.isArray(m=a.nameIDFormat)?m[0]:m,!(h&&h.idp&&h.sp))return[3,3];if(y=h.sp.getAssertionConsumerService(f.post),v=void 0,b=new Date,A=h.sp.getEntityID(),(w=new Date(b.getTime())).setMinutes(w.getMinutes()+5),_=w.toISOString(),S=b.toISOString(),E=h.sp.getAssertionConsumerService(f.post),T={ID:u,AssertionID:a.generateID(),Destination:y,Audience:A,EntityID:A,SubjectRecipient:E,Issuer:h.idp.getEntityID(),IssueInstant:S,AssertionConsumerServiceURL:E,StatusCode:c.StatusCode.Success,ConditionsNotBefore:S,ConditionsNotOnOrAfter:_,SubjectConfirmationDataNotOnOrAfter:_,NameIDFormat:g,NameID:r.email||"",InResponseTo:(0,p.get)(e,"extract.request.id",""),AuthnStatement:"",AttributeStatement:""},a.loginResponseTemplate&&n?(I=n(a.loginResponseTemplate.context),v=(0,p.get)(I,"context",null)):(null!==e&&(T.InResponseTo=e.extract.request.id),v=d.default.replaceTagsByValue(d.default.defaultLoginResponseTemplate.context,T)),x=a.privateKey,O={privateKey:x,privateKeyPass:a.privateKeyPass,signatureAlgorithm:a.requestSignatureAlgorithm,signingCert:h.idp.getX509Certificate("signing"),isBase64Output:!1},h.sp.isWantAssertionsSigned()&&(v=d.default.constructSAMLSignature(i(i({},O),{rawSamlMessage:v,transformationAlgorithms:s.transformationAlgorithms,referenceTagXPath:"/*[local-name(.)='Response']/*[local-name(.)='Assertion']",signatureConfig:{prefix:"ds",location:{reference:"/*[local-name(.)='Response']/*[local-name(.)='Assertion']/*[local-name(.)='Issuer']",action:"after"}}}))),o||!s.wantMessageSigned&&h.sp.isWantAssertionsSigned()||(v=d.default.constructSAMLSignature(i(i({},O),{rawSamlMessage:v,isMessageSigned:!0,transformationAlgorithms:s.transformationAlgorithms,signatureConfig:s.signatureConfig||{prefix:"ds",location:{reference:"/*[local-name(.)='Response']/*[local-name(.)='Issuer']",action:"after"}}}))),!a.isAssertionEncrypted)return[3,2];return[4,d.default.encryptAssertion(t.idp,t.sp,v)];case 1:if(C=l.sent(),!o)return[2,Promise.resolve({id:u,context:C})];v=p.default.base64Decode(C),l.label=2;case 2:return o&&(s.wantMessageSigned||!h.sp.isWantAssertionsSigned())&&(v=d.default.constructSAMLSignature(i(i({},O),{rawSamlMessage:v,isMessageSigned:!0,transformationAlgorithms:s.transformationAlgorithms,signatureConfig:s.signatureConfig||{prefix:"ds",location:{reference:"/*[local-name(.)='Response']/*[local-name(.)='Issuer']",action:"after"}}}))),[2,Promise.resolve({id:u,context:p.default.base64Encode(v)})];case 3:throw Error("ERR_GENERATE_POST_LOGIN_RESPONSE_MISSING_METADATA")}})})},base64LogoutRequest:function(e,t,r,i){var n={init:r.init.entityMeta,target:r.target.entityMeta},o=r.init.entitySetting,a=o.nameIDFormat,s=Array.isArray(a)?a[0]:a,l="";if(n&&n.init&&n.target){var u=void 0;if(o.logoutRequestTemplate&&i){var c=i(o.logoutRequestTemplate.context);l=(0,p.get)(c,"id",null),u=(0,p.get)(c,"context",null)}else{var h={ID:l=o.generateID(),Destination:n.target.getSingleLogoutService(f.post),Issuer:n.init.getEntityID(),IssueInstant:new Date().toISOString(),EntityID:n.init.getEntityID(),NameIDFormat:s,NameID:e.logoutNameID};u=d.default.replaceTagsByValue(d.default.defaultLogoutRequestTemplate.context,h)}if(r.target.entitySetting.wantLogoutRequestSigned){var m=o.privateKey,g=o.privateKeyPass,y=o.requestSignatureAlgorithm,v=o.transformationAlgorithms;return{id:l,context:d.default.constructSAMLSignature({referenceTagXPath:t,privateKey:m,privateKeyPass:g,signatureAlgorithm:y,transformationAlgorithms:v,rawSamlMessage:u,signingCert:n.init.getX509Certificate("signing"),signatureConfig:o.signatureConfig||{prefix:"ds",location:{reference:"/*[local-name(.)='LogoutRequest']/*[local-name(.)='Issuer']",action:"after"}}})}}return{id:l,context:p.default.base64Encode(u)}}throw Error("ERR_GENERATE_POST_LOGOUT_REQUEST_MISSING_METADATA")},base64LogoutResponse:function(e,t,r){var i={init:t.init.entityMeta,target:t.target.entityMeta},n="",o=t.init.entitySetting;if(i&&i.init&&i.target){var a=void 0;if(o.logoutResponseTemplate){var s=r(o.logoutResponseTemplate.context);n=s.id,a=s.context}else{var l={ID:n=o.generateID(),Destination:i.target.getSingleLogoutService(f.post),EntityID:i.init.getEntityID(),Issuer:i.init.getEntityID(),IssueInstant:new Date().toISOString(),StatusCode:c.StatusCode.Success,InResponseTo:(0,p.get)(e,"extract.request.id",null)};a=d.default.replaceTagsByValue(d.default.defaultLogoutResponseTemplate.context,l)}if(t.target.entitySetting.wantLogoutResponseSigned){var u=o.privateKey,h=o.privateKeyPass,m=o.requestSignatureAlgorithm,g=o.transformationAlgorithms;return{id:n,context:d.default.constructSAMLSignature({isMessageSigned:!0,transformationAlgorithms:g,privateKey:u,privateKeyPass:h,signatureAlgorithm:m,rawSamlMessage:a,signingCert:i.init.getX509Certificate("signing"),signatureConfig:{prefix:"ds",location:{reference:"/*[local-name(.)='LogoutResponse']/*[local-name(.)='Issuer']",action:"after"}}})}}return{id:n,context:p.default.base64Encode(a)}}throw Error("ERR_GENERATE_POST_LOGOUT_RESPONSE_MISSING_METADATA")}}},885048,(e,t,r)=>{"use strict";var i=e.e&&e.e.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(r,"__esModule",{value:!0}),r.verifyTime=void 0,r.verifyTime=function(e,t,r){void 0===r&&(r=[0,0]);var n=new Date;if(!e&&!t)return console.warn("You intend to have time validation however the document doesn't include the valid range."),!0;var o=null,a=null,s=i(r,2),l=s[0],u=s[1];return e&&!t?+(o=new Date(e))+l<=+n:!e&&t?+n<+(a=new Date(t))+u:(o=new Date(e),a=new Date(t),+o+l<=+n&&+n<+a+u)}},534284,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})},n=e.e&&e.e.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},o=e.e&&e.e.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.flow=void 0;var s=e.r(741530),l=e.r(885048),u=a(e.r(91761)),c=e.r(542934),d=e.r(809849),p=d.wording.binding,f=d.wording.urlParams;function h(e,t){switch(e){case d.ParserType.SAMLRequest:return c.loginRequestFields;case d.ParserType.SAMLResponse:if(!t)throw Error("ERR_EMPTY_ASSERTION");return(0,c.loginResponseFields)(t);case d.ParserType.LogoutRequest:return c.logoutRequestFields;case d.ParserType.LogoutResponse:return c.logoutResponseFields;default:throw Error("ERR_UNDEFINED_PARSERTYPE")}}function m(e){return i(this,void 0,void 0,function(){var t,r,i,o,a,d,p,m,g,y,b,A,w,_,S,E,T,I,x,O,C,k;return n(this,function(n){switch(n.label){case 0:if(t=e.request,r=e.parserType,i=e.self,a=void 0===(o=e.checkSignature)||o,d=e.from,p=t.query,m=t.octetString,g=p.SigAlg,y=p.Signature,b=d.entityMeta,void 0===(A=p[u.default.getQueryParamByType(r)]))return[2,Promise.reject("ERR_REDIRECT_FLOW_BAD_ARGS")];w=(0,s.inflateString)(decodeURIComponent(A)),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,u.default.isValidXml(w)];case 2:return n.sent(),[3,4];case 3:return _=n.sent(),[2,Promise.reject("ERR_INVALID_XML")];case 4:return[4,v(w,r)];case 5:if(n.sent(),S="",r===f.samlResponse&&(E=(0,c.extract)(w,[{key:"assertion",localPath:["~Response","Assertion"],attributes:[],context:!0}]))&&E.assertion&&(S=E.assertion),T=h(r,S.length>0?S:null),I={samlContent:w,sigAlg:null,extract:(0,c.extract)(w,T)},a){if(!y||!g)return[2,Promise.reject("ERR_MISSING_SIG_ALG")];if(x=Buffer.from(decodeURIComponent(y),"base64"),O=decodeURIComponent(g),!u.default.verifyMessageSignature(b,m,x,g))return[2,Promise.reject("ERR_FAILED_MESSAGE_SIGNATURE_VERIFICATION")];I.sigAlg=O}if(C=b.getEntityID(),k=I.extract,("LogoutResponse"===r||"SAMLResponse"===r)&&k&&k.issuer!==C)return[2,Promise.reject("ERR_UNMATCH_ISSUER")];if("SAMLResponse"===r&&k.sessionIndex.sessionNotOnOrAfter&&!(0,l.verifyTime)(void 0,k.sessionIndex.sessionNotOnOrAfter,i.entitySetting.clockDrifts))return[2,Promise.reject("ERR_EXPIRED_SESSION")];if("SAMLResponse"===r&&k.conditions&&!(0,l.verifyTime)(k.conditions.notBefore,k.conditions.notOnOrAfter,i.entitySetting.clockDrifts))return[2,Promise.reject("ERR_SUBJECT_UNCONFIRMED")];return[2,Promise.resolve(I)]}})})}function g(e){return i(this,void 0,void 0,function(){var t,r,i,a,d,p,m,g,y,b,A,w,_,S,E,T,I,x,O,C,k,N;return n(this,function(n){switch(n.label){case 0:return t=e.request,r=e.from,i=e.self,a=e.parserType,p=void 0===(d=e.checkSignature)||d,m=t.body[u.default.getQueryParamByType(a)],g=String((0,s.base64Decode)(m)),y={metadata:r.entityMeta,signatureAlgorithm:r.entitySetting.requestSignatureAlgorithm},b=r.entitySetting.isAssertionEncrypted,A=[],[4,u.default.isValidXml(g)];case 1:return n.sent(),a!==f.samlResponse&&(A=h(a,null)),[4,v(g,a)];case 2:if(n.sent(),!p)return[3,7];if(_=(w=o(u.default.verifySignature(g,y),2))[0],S=w[1],!(b&&_&&"SAMLResponse"===a&&S))return[3,4];return[4,u.default.decryptAssertion(i,S)];case 3:return g=(E=n.sent())[0],A=h(a,E[1]),[3,7];case 4:if(!(b&&!_))return[3,6];return[4,u.default.decryptAssertion(i,g)];case 5:if(T=(E=n.sent())[0],x=(I=o(u.default.verifySignature(T,y),2))[0],O=I[1],!x)return[2,Promise.reject("FAILED_TO_VERIFY_SIGNATURE")];return A=h(a,O),[3,7];case 6:if(!_)return[2,Promise.reject("FAILED_TO_VERIFY_SIGNATURE")];A=h(a,S),n.label=7;case 7:if(C={samlContent:g,extract:(0,c.extract)(g,A)},k=r.entityMeta.getEntityID(),N=C.extract,("LogoutResponse"===a||"SAMLResponse"===a)&&N&&N.issuer!==k)return[2,Promise.reject("ERR_UNMATCH_ISSUER")];if("SAMLResponse"===a&&N.sessionIndex.sessionNotOnOrAfter&&!(0,l.verifyTime)(void 0,N.sessionIndex.sessionNotOnOrAfter,i.entitySetting.clockDrifts))return[2,Promise.reject("ERR_EXPIRED_SESSION")];if("SAMLResponse"===a&&N.conditions&&!(0,l.verifyTime)(N.conditions.notBefore,N.conditions.notOnOrAfter,i.entitySetting.clockDrifts))return[2,Promise.reject("ERR_SUBJECT_UNCONFIRMED")];return[2,Promise.resolve(C)]}})})}function y(e){return i(this,void 0,void 0,function(){var t,r,i,o,a,d,p,m,g,y,b,A,w,_,S,E,T,I,x,O,C;return n(this,function(n){switch(n.label){case 0:if(t=e.request,r=e.parserType,i=e.self,a=void 0===(o=e.checkSignature)||o,d=e.from,p=t.body,m=t.octetString,g=d.entityMeta,y=p[u.default.getQueryParamByType(r)],b=p.SigAlg,A=p.Signature,void 0===y)return[2,Promise.reject("ERR_SIMPLESIGN_FLOW_BAD_ARGS")];w=String((0,s.base64Decode)(y)),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,u.default.isValidXml(w)];case 2:return n.sent(),[3,4];case 3:return _=n.sent(),[2,Promise.reject("ERR_INVALID_XML")];case 4:return[4,v(w,r)];case 5:if(n.sent(),S="",r===f.samlResponse&&(E=(0,c.extract)(w,[{key:"assertion",localPath:["~Response","Assertion"],attributes:[],context:!0}]))&&E.assertion&&(S=E.assertion),T=h(r,S.length>0?S:null),I={samlContent:w,sigAlg:null,extract:(0,c.extract)(w,T)},a){if(!A||!b)return[2,Promise.reject("ERR_MISSING_SIG_ALG")];if(x=Buffer.from(A,"base64"),!u.default.verifyMessageSignature(g,m,x,b))return[2,Promise.reject("ERR_FAILED_MESSAGE_SIGNATURE_VERIFICATION")];I.sigAlg=b}if(O=g.getEntityID(),C=I.extract,("LogoutResponse"===r||"SAMLResponse"===r)&&C&&C.issuer!==O)return[2,Promise.reject("ERR_UNMATCH_ISSUER")];if("SAMLResponse"===r&&C.sessionIndex.sessionNotOnOrAfter&&!(0,l.verifyTime)(void 0,C.sessionIndex.sessionNotOnOrAfter,i.entitySetting.clockDrifts))return[2,Promise.reject("ERR_EXPIRED_SESSION")];if("SAMLResponse"===r&&C.conditions&&!(0,l.verifyTime)(C.conditions.notBefore,C.conditions.notOnOrAfter,i.entitySetting.clockDrifts))return[2,Promise.reject("ERR_SUBJECT_UNCONFIRMED")];return[2,Promise.resolve(I)]}})})}function v(e,t){if(t!==f.samlResponse&&t!==f.logoutResponse)return Promise.resolve("SKIPPED");var r=t===f.samlResponse?c.loginResponseStatusFields:c.logoutResponseStatusFields,i=(0,c.extract)(e,r),n=i.top,o=i.second;if(n===d.StatusCode.Success)return Promise.resolve("OK");if(!n)throw Error("ERR_UNDEFINED_STATUS");throw Error("ERR_FAILED_STATUS with top tier code: ".concat(n,", second tier code: ").concat(o))}r.flow=function(e){var t=e.binding,r=e.parserType;return(e.supportBindings=[d.BindingNamespace.Redirect,d.BindingNamespace.Post,d.BindingNamespace.SimpleSign],r===d.ParserType.SAMLResponse&&(e.supportBindings=[d.BindingNamespace.Post,d.BindingNamespace.Redirect,d.BindingNamespace.SimpleSign]),t===p.post)?g(e):t===p.redirect?m(e):t===p.simpleSign?y(e):Promise.reject("ERR_UNEXPECTED_FLOW")}},497950,(e,t,r)=>{"use strict";var i=e.e&&e.e.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var l=e.r(741530),u=e.r(809849),c=a(e.r(874745)),d=s(e.r(303790)),p=s(e.r(248741)),f=s(e.r(860241)),h=s(e.r(459384)),m=e.r(534284),g=u.algorithms.encryption.data,y=u.algorithms.encryption.key,v=u.algorithms.signature,b={wantLogoutResponseSigned:!1,messageSigningOrder:u.messageConfigurations.signingOrder.SIGN_THEN_ENCRYPT,wantLogoutRequestSigned:!1,allowCreate:!1,isAssertionEncrypted:!1,requestSignatureAlgorithm:v.RSA_SHA256,dataEncryptionAlgorithm:g.AES_256,keyEncryptionAlgorithm:y.RSA_OAEP_MGF1P,generateID:function(){return"_"+c.v4()},relayState:""};r.default=function(){function e(e,t){this.entitySetting=Object.assign({},b,e);var r=e.metadata||e;switch(t){case"idp":this.entityMeta=(0,d.default)(r),this.entitySetting.wantAuthnRequestsSigned=this.entityMeta.isWantAuthnRequestsSigned(),this.entitySetting.nameIDFormat=this.entityMeta.getNameIDFormat()||this.entitySetting.nameIDFormat;break;case"sp":this.entityMeta=(0,p.default)(r),this.entitySetting.authnRequestsSigned=this.entityMeta.isAuthnRequestSigned(),this.entitySetting.wantAssertionsSigned=this.entityMeta.isWantAssertionsSigned(),this.entitySetting.nameIDFormat=this.entityMeta.getNameIDFormat()||this.entitySetting.nameIDFormat;break;default:throw Error("ERR_UNDEFINED_ENTITY_TYPE")}}return e.prototype.getEntitySetting=function(){return this.entitySetting},e.prototype.getMetadata=function(){return this.entityMeta.getMetadata()},e.prototype.exportMetadata=function(e){return this.entityMeta.exportMetadata(e)},e.prototype.verifyFields=function(e,t){if((0,l.isString)(e))return e===t;if((0,l.isNonEmptyArray)(e)){var r=!0;return e.forEach(function(e){if(e!==t){r=!1;return}}),r}return!1},e.prototype.createLogoutRequest=function(e,t,r,n,o){if(void 0===n&&(n=""),t===u.wording.binding.redirect)return f.default.logoutRequestRedirectURL(r,{init:this,target:e},n,o);if(t===u.wording.binding.post){var a=e.entityMeta.getSingleLogoutService(t),s=h.default.base64LogoutRequest(r,"/*[local-name(.)='LogoutRequest']",{init:this,target:e},o);return i(i({},s),{relayState:n,entityEndpoint:a,type:"SAMLRequest"})}throw Error("ERR_UNDEFINED_BINDING")},e.prototype.createLogoutResponse=function(e,t,r,n,o){void 0===n&&(n="");var a=u.namespace.binding[r];if(a===u.namespace.binding.redirect)return f.default.logoutResponseRedirectURL(t,{init:this,target:e},n,o);if(a===u.namespace.binding.post){var s=h.default.base64LogoutResponse(t,{init:this,target:e},o);return i(i({},s),{relayState:n,entityEndpoint:e.entityMeta.getSingleLogoutService(r),type:"SAMLResponse"})}throw Error("ERR_CREATE_LOGOUT_RESPONSE_UNDEFINED_BINDING")},e.prototype.parseLogoutRequest=function(e,t,r){var i=this;return(0,m.flow)({from:e,self:i,type:"logout",parserType:"LogoutRequest",checkSignature:this.entitySetting.wantLogoutRequestSigned,binding:t,request:r})},e.prototype.parseLogoutResponse=function(e,t,r){var i=this;return(0,m.flow)({from:e,self:i,type:"logout",parserType:"LogoutResponse",checkSignature:i.entitySetting.wantLogoutResponseSigned,binding:t,request:r})},e}()},308024,(e,t,r)=>{"use strict";var i=e.e&&e.e.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=e.e&&e.e.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})},l=e.e&&e.e.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var c=e.r(809849),d=u(e.r(91761)),p=a(e.r(741530)),f=c.wording.binding,h=c.wording.urlParams;function m(e,t,r){return(!0===r?"?":"&")+e+"="+t}function g(e){var t=e.type,r=e.context,i=e.entitySetting,n=e.relayState,o=void 0===n?"":n,a=d.default.getQueryParamByType(t);""!==o&&(o=m(h.relayState,o));var s=r+o+m(h.sigAlg,i.requestSignatureAlgorithm);return d.default.constructMessageSignature(a+"="+s,i.privateKey,i.privateKeyPass,void 0,i.requestSignatureAlgorithm).toString()}r.default={base64LoginRequest:function(e,t){var r={idp:e.idp.entityMeta,sp:e.sp.entityMeta},n=e.sp.entitySetting,o="";if(r&&r.idp&&r.sp){var a=r.idp.getSingleSignOnService(f.simpleSign),s=void 0;if(n.loginRequestTemplate&&t){var l=t(n.loginRequestTemplate.context);o=(0,p.get)(l,"id",null),s=(0,p.get)(l,"context",null)}else{var u=n.nameIDFormat,c=Array.isArray(u)?u[0]:u;o=n.generateID(),s=d.default.replaceTagsByValue(d.default.defaultLoginRequestTemplate.context,{ID:o,Destination:a,Issuer:r.sp.getEntityID(),IssueInstant:new Date().toISOString(),AssertionConsumerServiceURL:r.sp.getAssertionConsumerService(f.simpleSign),EntityID:r.sp.getEntityID(),AllowCreate:n.allowCreate,NameIDFormat:c})}var m=null;return r.idp.isWantAuthnRequestsSigned()&&(m={signature:g({type:h.samlRequest,context:s,entitySetting:n,relayState:n.relayState}),sigAlg:n.requestSignatureAlgorithm}),i({id:o,context:p.default.base64Encode(s)},m)}throw Error("ERR_GENERATE_POST_SIMPLESIGN_LOGIN_REQUEST_MISSING_METADATA")},base64LoginResponse:function(e,t,r,n,o){return void 0===e&&(e={}),void 0===r&&(r={}),s(this,void 0,void 0,function(){var a,s,u,m,y,v,b,A,w,_,S,E,T,I,x;return l(this,function(l){if(a=t.idp.entitySetting,s=t.sp.entitySetting,u=a.generateID(),m={idp:t.idp.entityMeta,sp:t.sp.entityMeta},v=Array.isArray(y=a.nameIDFormat)?y[0]:y,m&&m.idp&&m.sp)return b=m.sp.getAssertionConsumerService(f.simpleSign),A=void 0,_=new Date((w=new Date).getTime()+3e5),S={ID:u,AssertionID:a.generateID(),Destination:b,Audience:m.sp.getEntityID(),EntityID:m.sp.getEntityID(),SubjectRecipient:b,Issuer:m.idp.getEntityID(),IssueInstant:w.toISOString(),AssertionConsumerServiceURL:b,StatusCode:c.StatusCode.Success,ConditionsNotBefore:w.toISOString(),ConditionsNotOnOrAfter:_.toISOString(),SubjectConfirmationDataNotOnOrAfter:_.toISOString(),NameIDFormat:v,NameID:r.email||"",InResponseTo:(0,p.get)(e,"extract.request.id",""),AuthnStatement:"",AttributeStatement:""},a.loginResponseTemplate&&o?(E=o(a.loginResponseTemplate.context),A=(0,p.get)(E,"context",null)):(null!==e&&(S.InResponseTo=e.extract.request.id),A=d.default.replaceTagsByValue(d.default.defaultLoginResponseTemplate.context,S)),T=a.privateKey,I={privateKey:T,privateKeyPass:a.privateKeyPass,signatureAlgorithm:a.requestSignatureAlgorithm,signingCert:m.idp.getX509Certificate("signing"),isBase64Output:!1},m.sp.isWantAssertionsSigned()&&(A=d.default.constructSAMLSignature(i(i({},I),{rawSamlMessage:A,transformationAlgorithms:s.transformationAlgorithms,referenceTagXPath:"/*[local-name(.)='Response']/*[local-name(.)='Assertion']",signatureConfig:{prefix:"ds",location:{reference:"/*[local-name(.)='Response']/*[local-name(.)='Assertion']/*[local-name(.)='Issuer']",action:"after"}}}))),x="",x=g({type:h.samlResponse,context:A,entitySetting:a,relayState:n}),[2,Promise.resolve({id:u,context:p.default.base64Encode(A),signature:x,sigAlg:a.requestSignatureAlgorithm})];throw Error("ERR_GENERATE_POST_SIMPLESIGN_LOGIN_RESPONSE_MISSING_METADATA")})})}}},595169,(e,t,r)=>{"use strict";var i=e.e&&e.e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=e.e&&e.e.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=e.e&&e.e.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):n(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=e.e&&e.e.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.IdentityProvider=void 0;var l=s(e.r(497950)),u=s(e.r(91761)),c=e.r(809849),d=s(e.r(459384)),p=s(e.r(860241)),f=s(e.r(308024)),h=e.r(534284),m=e.r(741530);r.default=function(e){return new g(e)};var g=function(e){function t(t){var r=Object.assign({wantAuthnRequestsSigned:!1,tagPrefix:{encryptedAssertion:"saml"}},t);if(t.loginResponseTemplate)if((0,m.isString)(t.loginResponseTemplate.context)&&Array.isArray(t.loginResponseTemplate.attributes)){var i=void 0,o=void 0;i=t.loginResponseTemplate.additionalTemplates&&t.loginResponseTemplate.additionalTemplates.attributeStatementTemplate?t.loginResponseTemplate.additionalTemplates.attributeStatementTemplate:u.default.defaultAttributeStatementTemplate,o=t.loginResponseTemplate.additionalTemplates&&t.loginResponseTemplate.additionalTemplates.attributeTemplate?t.loginResponseTemplate.additionalTemplates.attributeTemplate:u.default.defaultAttributeTemplate;var a={AttributeStatement:u.default.attributeStatementBuilder(t.loginResponseTemplate.attributes,o,i)};r.loginResponseTemplate=n(n({},r.loginResponseTemplate),{context:u.default.replaceTagsByValue(r.loginResponseTemplate.context,a)})}else console.warn("Invalid login response template");return e.call(this,r,"idp")||this}return i(t,e),t.prototype.createLoginResponse=function(e,t,r,i,s,l,u){return o(this,void 0,void 0,function(){var o,h;return a(this,function(a){switch(a.label){case 0:switch(o=c.namespace.binding[r],h=null,o){case c.namespace.binding.post:return[3,1];case c.namespace.binding.simpleSign:return[3,3];case c.namespace.binding.redirect:return[3,5]}return[3,6];case 1:return[4,d.default.base64LoginResponse(t,{idp:this,sp:e},i,s,l)];case 2:case 4:return h=a.sent(),[3,7];case 3:return[4,f.default.base64LoginResponse(t,{idp:this,sp:e},i,u,s)];case 5:return[2,p.default.loginResponseRedirectURL(t,{idp:this,sp:e},i,u,s)];case 6:throw Error("ERR_CREATE_RESPONSE_UNDEFINED_BINDING");case 7:return[2,n(n({},h),{relayState:u,entityEndpoint:e.entityMeta.getAssertionConsumerService(r),type:"SAMLResponse"})]}})})},t.prototype.parseLoginRequest=function(e,t,r){var i=this;return(0,h.flow)({from:e,self:i,checkSignature:i.entityMeta.isWantAuthnRequestsSigned(),parserType:"SAMLRequest",type:"login",binding:t,request:r})},t}(l.default);r.IdentityProvider=g},750300,(e,t,r)=>{"use strict";var i=e.e&&e.e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=e.e&&e.e.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ServiceProvider=void 0;var a=o(e.r(497950)),s=e.r(809849),l=o(e.r(860241)),u=o(e.r(459384)),c=o(e.r(308024)),d=e.r(534284);r.default=function(e){return new p(e)};var p=function(e){function t(t){var r=Object.assign({authnRequestsSigned:!1,wantAssertionsSigned:!1,wantMessageSigned:!1},t);return e.call(this,r,"sp")||this}return i(t,e),t.prototype.createLoginRequest=function(e,t,r){void 0===t&&(t="redirect");var i=s.namespace.binding,o=i[t];if(this.entityMeta.isAuthnRequestSigned()!==e.entityMeta.isWantAuthnRequestsSigned())throw Error("ERR_METADATA_CONFLICT_REQUEST_SIGNED_FLAG");var a=null;switch(o){case i.redirect:return l.default.loginRequestRedirectURL({idp:e,sp:this},r);case i.post:a=u.default.base64LoginRequest("/*[local-name(.)='AuthnRequest']",{idp:e,sp:this},r);break;case i.simpleSign:a=c.default.base64LoginRequest({idp:e,sp:this},r);break;default:throw Error("ERR_SP_LOGIN_REQUEST_UNDEFINED_BINDING")}return n(n({},a),{relayState:this.entitySetting.relayState,entityEndpoint:e.entityMeta.getSingleSignOnService(t),type:"SAMLRequest"})},t.prototype.parseLoginResponse=function(e,t,r){var i=this;return(0,d.flow)({from:e,self:i,checkSignature:!0,parserType:"SAMLResponse",type:"login",binding:t,request:r})},t}(a.default);r.ServiceProvider=p},905673,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDOMParserOptions=r.setSchemaValidator=r.ServiceProviderInstance=r.ServiceProvider=r.IdentityProviderInstance=r.IdentityProvider=r.Extractor=r.Constants=r.SamlLib=r.Utility=r.SPMetadata=r.IdPMetadata=void 0;var s=o(e.r(595169));r.IdentityProvider=s.default,Object.defineProperty(r,"IdentityProviderInstance",{enumerable:!0,get:function(){return s.IdentityProvider}});var l=o(e.r(750300));r.ServiceProvider=l.default,Object.defineProperty(r,"ServiceProviderInstance",{enumerable:!0,get:function(){return l.ServiceProvider}});var u=e.r(303790);Object.defineProperty(r,"IdPMetadata",{enumerable:!0,get:function(){return a(u).default}});var c=e.r(248741);Object.defineProperty(r,"SPMetadata",{enumerable:!0,get:function(){return a(c).default}});var d=e.r(741530);Object.defineProperty(r,"Utility",{enumerable:!0,get:function(){return a(d).default}});var p=e.r(91761);Object.defineProperty(r,"SamlLib",{enumerable:!0,get:function(){return a(p).default}}),r.Constants=o(e.r(809849)),r.Extractor=o(e.r(542934));var f=e.r(360958);Object.defineProperty(r,"setSchemaValidator",{enumerable:!0,get:function(){return f.setSchemaValidator}}),Object.defineProperty(r,"setDOMParserOptions",{enumerable:!0,get:function(){return f.setDOMParserOptions}})},222697,e=>{"use strict";let t;e.i(849436);var r=e.i(446610),r=r;e.i(822381);var i=e.i(154456),n=e.i(689288);e.i(909879),e.i(973088);var o=e.i(681393);e.i(408972),e.i(338270),e.i(530501),e.i(35972),e.i(130717),e.i(464589),e.i(181984),e.i(323770),e.i(795080),e.i(282318),e.i(805650),e.i(172381),e.i(362160),e.i(339127);var a=e.i(533078);e.i(649330),e.i(537430),e.i(129776);var s=r,l=r,u=r,c=r,d=r;e.i(450900);var p=e.i(577340);e.i(274444);var f=e.i(907855),h=e.i(905673),m=a,g=e.i(878175),y=o;let v=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",b=v+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",A=RegExp("^"+("["+v+"]["+b)+"]*$");function w(e,t){let r=[],i=t.exec(e);for(;i;){let n=[];n.startIndex=t.lastIndex-i[0].length;let o=i.length;for(let e=0;e<o;e++)n.push(i[e]);r.push(n),i=t.exec(e)}return r}let _=function(e){return null!=A.exec(e)},S={allowBooleanAttributes:!1,unpairedTags:[]};function E(e,t){t=Object.assign({},S,t);let r=[],i=!1,n=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,(o=I(e,o)).err)return o}else if("<"===e[o]){let a=o;if("!"===e[++o]){o=x(e,o);continue}{let s=!1;"/"===e[o]&&(s=!0,o++);let l="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"	"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)l+=e[o];if("/"===(l=l.trim())[l.length-1]&&(l=l.substring(0,l.length-1),o--),!K(l)){let t;return U("InvalidTag",t=0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",M(e,o))}let u=k(e,o);if(!1===u)return U("InvalidAttr","Attributes for '"+l+"' have open quote.",M(e,o));let c=u.value;if(o=u.index,"/"===c[c.length-1]){let r=o-c.length,n=R(c=c.substring(0,c.length-1),t);if(!0!==n)return U(n.err.code,n.err.msg,M(e,r+n.err.line));i=!0}else if(s)if(!u.tagClosed)return U("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",M(e,o));else{if(c.trim().length>0)return U("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",M(e,a));if(0===r.length)return U("InvalidTag","Closing tag '"+l+"' has not been opened.",M(e,a));let t=r.pop();if(l!==t.tagName){let r=M(e,t.tagStartPos);return U("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+l+"'.",M(e,a))}0==r.length&&(n=!0)}else{let s=R(c,t);if(!0!==s)return U(s.err.code,s.err.msg,M(e,o-c.length+s.err.line));if(!0===n)return U("InvalidXml","Multiple possible root nodes found.",M(e,o));-1!==t.unpairedTags.indexOf(l)||r.push({tagName:l,tagStartPos:a}),i=!0}for(o++;o<e.length;o++)if("<"===e[o])if("!"===e[o+1]){o=x(e,++o);continue}else if("?"===e[o+1]){if((o=I(e,++o)).err)return o}else break;else if("&"===e[o]){let t=D(e,o);if(-1==t)return U("InvalidChar","char '&' is not expected.",M(e,o));o=t}else if(!0===n&&!T(e[o]))return U("InvalidXml","Extra text at the end",M(e,o));"<"===e[o]&&o--}}else{if(T(e[o]))continue;return U("InvalidChar","char '"+e[o]+"' is not expected.",M(e,o))}return i?1==r.length?U("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",M(e,r[0].tagStartPos)):!(r.length>0)||U("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):U("InvalidXml","Start tag expected.",1)}function T(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function I(e,t){let r=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let i=e.substr(r,t-r);if(t>5&&"xml"===i)return U("InvalidXml","XML declaration allowed only at the start of the document.",M(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function x(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}let O='"',C="'";function k(e,t){let r="",i="",n=!1;for(;t<e.length;t++){if(e[t]===O||e[t]===C)""===i?i=e[t]:i!==e[t]||(i="");else if(">"===e[t]&&""===i){n=!0;break}r+=e[t]}return""===i&&{value:r,index:t,tagClosed:n}}let N=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function R(e,t){let r=w(e,N),i={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return U("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",B(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return U("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",B(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return U("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",B(r[e]));let n=r[e][2];if(!L(n))return U("InvalidAttr","Attribute '"+n+"' is an invalid name.",B(r[e]));if(i.hasOwnProperty(n))return U("InvalidAttr","Attribute '"+n+"' is repeated.",B(r[e]));i[n]=1}return!0}function P(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return -1}function D(e,t){if(";"===e[++t])return -1;if("#"===e[t])return P(e,++t);let r=0;for(;t<e.length;t++,r++)if(!e[t].match(/\w/)||!(r<20)){if(";"===e[t])break;return -1}return t}function U(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function L(e){return _(e)}function K(e){return _(e)}function M(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function B(e){return e.startIndex+e[1].length}t="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class j{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,r){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),void 0!==r&&(this.child[this.child.length-1][t]={startIndex:r})}static getMetaDataSymbol(){return t}}function $(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(let r of e)if("string"==typeof r&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm"),j.getMetaDataSymbol();let z="\n";function F(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=z),q(e,t,"",r)}function q(e,t,r,i){let n="",o=!1;for(let a=0;a<e.length;a++){let s=e[a],l=V(s);if(void 0===l)continue;let u="";if(u=0===r.length?l:`${r}.${l}`,l===t.textNodeName){let e=s[l];G(u,t)||(e=W(e=t.tagValueProcessor(l,e),t)),o&&(n+=i),n+=e,o=!1;continue}if(l===t.cdataPropName){o&&(n+=i),n+=`<![CDATA[${s[l][0][t.textNodeName]}]]>`,o=!1;continue}if(l===t.commentPropName){n+=i+`<!--${s[l][0][t.textNodeName]}-->`,o=!0;continue}else if("?"===l[0]){let e=H(s[":@"],t),r="?xml"===l?"":i,a=s[l][0][t.textNodeName];a=0!==a.length?" "+a:"",n+=r+`<${l}${a}${e}?>`,o=!0;continue}let c=i;""!==c&&(c+=t.indentBy);let d=H(s[":@"],t),p=i+`<${l}${d}`,f=q(s[l],t,u,c);-1!==t.unpairedTags.indexOf(l)?t.suppressUnpairedNode?n+=p+">":n+=p+"/>":(!f||0===f.length)&&t.suppressEmptyNode?n+=p+"/>":f&&f.endsWith(">")?n+=p+`>${f}${i}</${l}>`:(n+=p+">",f&&""!==i&&(f.includes("/>")||f.includes("</"))?n+=i+t.indentBy+f+i:n+=f,n+=`</${l}>`),o=!0}return n}function V(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let i=t[r];if(e.hasOwnProperty(i)&&":@"!==i)return i}}function H(e,t){let r="";if(e&&!t.ignoreAttributes)for(let i in e){if(!e.hasOwnProperty(i))continue;let n=t.attributeValueProcessor(i,e[i]);!0===(n=W(n,t))&&t.suppressBooleanAttributes?r+=` ${i.substr(t.attributeNamePrefix.length)}`:r+=` ${i.substr(t.attributeNamePrefix.length)}="${n}"`}return r}function G(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let i in t.stopNodes)if(t.stopNodes[i]===e||t.stopNodes[i]==="*."+r)return!0;return!1}function W(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let i=t.entities[r];e=e.replace(i.regex,i.val)}return e}let Z={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function J(e){this.options=Object.assign({},Z,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=$(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=X),this.processTextOrObjNode=Q,this.options.format?(this.indentate=Y,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function Q(e,t,r,i){let n=this.j2x(e,r+1,i.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}function Y(e){return this.options.indentBy.repeat(e)}function X(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName&&e.substr(this.attrPrefixLen)}J.prototype.build=function(e){return this.options.preserveOrder?F(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},J.prototype.j2x=function(e,t,r){let i="",n="",o=r.join(".");for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a))if(void 0===e[a])this.isAttribute(a)&&(n+="");else if(null===e[a])this.isAttribute(a)||a===this.options.cdataPropName?n+="":"?"===a[0]?n+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(e[a]instanceof Date)n+=this.buildTextValNode(e[a],a,"",t);else if("object"!=typeof e[a]){let r=this.isAttribute(a);if(r&&!this.ignoreAttributesFn(r,o))i+=this.buildAttrPairStr(r,""+e[a]);else if(!r)if(a===this.options.textNodeName){let t=this.options.tagValueProcessor(a,""+e[a]);n+=this.replaceEntitiesValue(t)}else n+=this.buildTextValNode(e[a],a,"",t)}else if(Array.isArray(e[a])){let i=e[a].length,o="",s="";for(let l=0;l<i;l++){let i=e[a][l];if(void 0===i);else if(null===i)"?"===a[0]?n+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if("object"==typeof i)if(this.options.oneListGroup){let e=this.j2x(i,t+1,r.concat(a));o+=e.val,this.options.attributesGroupName&&i.hasOwnProperty(this.options.attributesGroupName)&&(s+=e.attrStr)}else o+=this.processTextOrObjNode(i,a,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(a,i);o+=e=this.replaceEntitiesValue(e)}else o+=this.buildTextValNode(i,a,"",t)}this.options.oneListGroup&&(o=this.buildObjectNode(o,a,s,t)),n+=o}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){let t=Object.keys(e[a]),r=t.length;for(let n=0;n<r;n++)i+=this.buildAttrPairStr(t[n],""+e[a][t[n]])}else n+=this.processTextOrObjNode(e[a],a,t,r);return{attrStr:i,val:n}},J.prototype.buildAttrPairStr=function(e,t){return(t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t)?" "+e:" "+e+'="'+t+'"'},J.prototype.buildObjectNode=function(e,t,r,i){if(""===e)if("?"===t[0])return this.indentate(i)+"<"+t+r+"?"+this.tagEndChar;else return this.indentate(i)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let n="</"+t+this.tagEndChar,o="";return("?"===t[0]&&(o="?",n=""),(r||""===r)&&-1===e.indexOf("<"))?this.indentate(i)+"<"+t+r+o+">"+e+n:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(i)+`<!--${e}-->`+this.newLine:this.indentate(i)+"<"+t+r+o+this.tagEndChar+e+this.indentate(i)+n}},J.prototype.closeTag=function(e){let t="";return -1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},J.prototype.buildTextValNode=function(e,t,r,i){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${e}]]>`+this.newLine;{if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(i)+`<!--${e}-->`+this.newLine;if("?"===t[0])return this.indentate(i)+"<"+t+r+"?"+this.tagEndChar;let n=this.options.tagValueProcessor(t,e);return""===(n=this.replaceEntitiesValue(n))?this.indentate(i)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(i)+"<"+t+r+">"+n+"</"+t+this.tagEndChar}},J.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};let ee=E,et={async validate(e){if(!0===ee(e,{allowBooleanAttributes:!0}))return"SUCCESS_VALIDATE_XML";throw"ERR_INVALID_XML"}};function er(e){if(!e)return null;if("object"==typeof e)return e;if("string"==typeof e)try{return JSON.parse(e)}catch(e){throw Error(`Failed to parse JSON: ${e instanceof Error?e.message:"Unknown error"}`)}return null}h.setSchemaValidator(et);let ei=e=>({id:"sso",endpoints:{spMetadata:(0,p.createAuthEndpoint)("/sso/saml2/sp/metadata",{method:"GET",query:f.object({providerId:f.string(),format:f.enum(["xml","json"]).default("xml")}),metadata:{openapi:{summary:"Get Service Provider metadata",description:"Returns the SAML metadata for the Service Provider",responses:{200:{description:"SAML metadata in XML format"}}}}},async e=>{let t=await e.context.adapter.findOne({model:"ssoProvider",where:[{field:"providerId",value:e.query.providerId}]});if(!t)throw new i.APIError("NOT_FOUND",{message:"No provider found for the given providerId"});let r=er(t.samlConfig);if(!r)throw new i.APIError("BAD_REQUEST",{message:"Invalid SAML configuration"});return new Response((r.spMetadata.metadata?h.ServiceProvider({metadata:r.spMetadata.metadata}):h.SPMetadata({entityID:r.spMetadata?.entityID||r.issuer,assertionConsumerService:[{Binding:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",Location:r.callbackUrl||`${e.context.baseURL}/sso/saml2/sp/acs/${t.id}`}],wantMessageSigned:r.wantAssertionsSigned||!1,nameIDFormat:r.identifierFormat?[r.identifierFormat]:void 0})).getMetadata(),{headers:{"Content-Type":"application/xml"}})}),registerSSOProvider:(0,p.createAuthEndpoint)("/sso/register",{method:"POST",body:f.object({providerId:f.string({}).meta({description:"The ID of the provider. This is used to identify the provider during login and callback"}),issuer:f.string({}).meta({description:"The issuer of the provider"}),domain:f.string({}).meta({description:"The domain of the provider. This is used for email matching"}),oidcConfig:f.object({clientId:f.string({}).meta({description:"The client ID"}),clientSecret:f.string({}).meta({description:"The client secret"}),authorizationEndpoint:f.string({}).meta({description:"The authorization endpoint"}).optional(),tokenEndpoint:f.string({}).meta({description:"The token endpoint"}).optional(),userInfoEndpoint:f.string({}).meta({description:"The user info endpoint"}).optional(),tokenEndpointAuthentication:f.enum(["client_secret_post","client_secret_basic"]).optional(),jwksEndpoint:f.string({}).meta({description:"The JWKS endpoint"}).optional(),discoveryEndpoint:f.string().optional(),scopes:f.array(f.string(),{}).meta({description:"The scopes to request. Defaults to ['openid', 'email', 'profile', 'offline_access']"}).optional(),pkce:f.boolean({}).meta({description:"Whether to use PKCE for the authorization flow"}).default(!0).optional(),mapping:f.object({id:f.string({}).meta({description:"Field mapping for user ID (defaults to 'sub')"}),email:f.string({}).meta({description:"Field mapping for email (defaults to 'email')"}),emailVerified:f.string({}).meta({description:"Field mapping for email verification (defaults to 'email_verified')"}).optional(),name:f.string({}).meta({description:"Field mapping for name (defaults to 'name')"}),image:f.string({}).meta({description:"Field mapping for image (defaults to 'picture')"}).optional(),extraFields:f.record(f.string(),f.any()).optional()}).optional()}).optional(),samlConfig:f.object({entryPoint:f.string({}).meta({description:"The entry point of the provider"}),cert:f.string({}).meta({description:"The certificate of the provider"}),callbackUrl:f.string({}).meta({description:"The callback URL of the provider"}),audience:f.string().optional(),idpMetadata:f.object({metadata:f.string().optional(),entityID:f.string().optional(),cert:f.string().optional(),privateKey:f.string().optional(),privateKeyPass:f.string().optional(),isAssertionEncrypted:f.boolean().optional(),encPrivateKey:f.string().optional(),encPrivateKeyPass:f.string().optional(),singleSignOnService:f.array(f.object({Binding:f.string().meta({description:"The binding type for the SSO service"}),Location:f.string().meta({description:"The URL for the SSO service"})})).optional().meta({description:"Single Sign-On service configuration"})}).optional(),spMetadata:f.object({metadata:f.string().optional(),entityID:f.string().optional(),binding:f.string().optional(),privateKey:f.string().optional(),privateKeyPass:f.string().optional(),isAssertionEncrypted:f.boolean().optional(),encPrivateKey:f.string().optional(),encPrivateKeyPass:f.string().optional()}),wantAssertionsSigned:f.boolean().optional(),signatureAlgorithm:f.string().optional(),digestAlgorithm:f.string().optional(),identifierFormat:f.string().optional(),privateKey:f.string().optional(),decryptionPvk:f.string().optional(),additionalParams:f.record(f.string(),f.any()).optional(),mapping:f.object({id:f.string({}).meta({description:"Field mapping for user ID (defaults to 'nameID')"}),email:f.string({}).meta({description:"Field mapping for email (defaults to 'email')"}),emailVerified:f.string({}).meta({description:"Field mapping for email verification"}).optional(),name:f.string({}).meta({description:"Field mapping for name (defaults to 'displayName')"}),firstName:f.string({}).meta({description:"Field mapping for first name (defaults to 'givenName')"}).optional(),lastName:f.string({}).meta({description:"Field mapping for last name (defaults to 'surname')"}).optional(),extraFields:f.record(f.string(),f.any()).optional()}).optional()}).optional(),organizationId:f.string({}).meta({description:"If organization plugin is enabled, the organization id to link the provider to"}).optional(),overrideUserInfo:f.boolean({}).meta({description:"Override user info with the provider info. Defaults to false"}).default(!1).optional()}),use:[n.sessionMiddleware],metadata:{openapi:{summary:"Register an OIDC provider",description:"This endpoint is used to register an OIDC provider. This is used to configure the provider and link it to an organization",responses:{200:{description:"OIDC provider created successfully",content:{"application/json":{schema:{type:"object",properties:{issuer:{type:"string",format:"uri",description:"The issuer URL of the provider"},domain:{type:"string",description:"The domain of the provider, used for email matching"},oidcConfig:{type:"object",properties:{issuer:{type:"string",format:"uri",description:"The issuer URL of the provider"},pkce:{type:"boolean",description:"Whether PKCE is enabled for the authorization flow"},clientId:{type:"string",description:"The client ID for the provider"},clientSecret:{type:"string",description:"The client secret for the provider"},authorizationEndpoint:{type:"string",format:"uri",nullable:!0,description:"The authorization endpoint URL"},discoveryEndpoint:{type:"string",format:"uri",description:"The discovery endpoint URL"},userInfoEndpoint:{type:"string",format:"uri",nullable:!0,description:"The user info endpoint URL"},scopes:{type:"array",items:{type:"string"},nullable:!0,description:"The scopes requested from the provider"},tokenEndpoint:{type:"string",format:"uri",nullable:!0,description:"The token endpoint URL"},tokenEndpointAuthentication:{type:"string",enum:["client_secret_post","client_secret_basic"],nullable:!0,description:"Authentication method for the token endpoint"},jwksEndpoint:{type:"string",format:"uri",nullable:!0,description:"The JWKS endpoint URL"},mapping:{type:"object",nullable:!0,properties:{id:{type:"string",description:"Field mapping for user ID (defaults to 'sub')"},email:{type:"string",description:"Field mapping for email (defaults to 'email')"},emailVerified:{type:"string",nullable:!0,description:"Field mapping for email verification (defaults to 'email_verified')"},name:{type:"string",description:"Field mapping for name (defaults to 'name')"},image:{type:"string",nullable:!0,description:"Field mapping for image (defaults to 'picture')"},extraFields:{type:"object",additionalProperties:{type:"string"},nullable:!0,description:"Additional field mappings"}},required:["id","email","name"]}},required:["issuer","pkce","clientId","clientSecret","discoveryEndpoint"],description:"OIDC configuration for the provider"},organizationId:{type:"string",nullable:!0,description:"ID of the linked organization, if any"},userId:{type:"string",description:"ID of the user who registered the provider"},providerId:{type:"string",description:"Unique identifier for the provider"},redirectURI:{type:"string",format:"uri",description:"The redirect URI for the provider callback"}},required:["issuer","domain","oidcConfig","userId","providerId","redirectURI"]}}}}}}}},async t=>{let r=t.context.session?.user;if(!r)throw new i.APIError("UNAUTHORIZED");let n="function"==typeof e?.providersLimit?await e.providersLimit(r):e?.providersLimit??10;if(!n)throw new i.APIError("FORBIDDEN",{message:"SSO provider registration is disabled"});if((await t.context.adapter.findMany({model:"ssoProvider",where:[{field:"userId",value:r.id}]})).length>=n)throw new i.APIError("FORBIDDEN",{message:"You have reached the maximum number of SSO providers"});let o=t.body;if(f.string().url().safeParse(o.issuer).error)throw new i.APIError("BAD_REQUEST",{message:"Invalid issuer. Must be a valid URL"});if(t.body.organizationId&&!await t.context.adapter.findOne({model:"member",where:[{field:"userId",value:r.id},{field:"organizationId",value:t.body.organizationId}]}))throw new i.APIError("BAD_REQUEST",{message:"You are not a member of the organization"});if(await t.context.adapter.findOne({model:"ssoProvider",where:[{field:"providerId",value:o.providerId}]}))throw t.context.logger.info(`SSO provider creation attempt with existing providerId: ${o.providerId}`),new i.APIError("UNPROCESSABLE_ENTITY",{message:"SSO provider with this providerId already exists"});let a=await t.context.adapter.create({model:"ssoProvider",data:{issuer:o.issuer,domain:o.domain,oidcConfig:o.oidcConfig?JSON.stringify({issuer:o.issuer,clientId:o.oidcConfig.clientId,clientSecret:o.oidcConfig.clientSecret,authorizationEndpoint:o.oidcConfig.authorizationEndpoint,tokenEndpoint:o.oidcConfig.tokenEndpoint,tokenEndpointAuthentication:o.oidcConfig.tokenEndpointAuthentication,jwksEndpoint:o.oidcConfig.jwksEndpoint,pkce:o.oidcConfig.pkce,discoveryEndpoint:o.oidcConfig.discoveryEndpoint||`${o.issuer}/.well-known/openid-configuration`,mapping:o.oidcConfig.mapping,scopes:o.oidcConfig.scopes,userInfoEndpoint:o.oidcConfig.userInfoEndpoint,overrideUserInfo:t.body.overrideUserInfo||e?.defaultOverrideUserInfo||!1}):null,samlConfig:o.samlConfig?JSON.stringify({issuer:o.issuer,entryPoint:o.samlConfig.entryPoint,cert:o.samlConfig.cert,callbackUrl:o.samlConfig.callbackUrl,audience:o.samlConfig.audience,idpMetadata:o.samlConfig.idpMetadata,spMetadata:o.samlConfig.spMetadata,wantAssertionsSigned:o.samlConfig.wantAssertionsSigned,signatureAlgorithm:o.samlConfig.signatureAlgorithm,digestAlgorithm:o.samlConfig.digestAlgorithm,identifierFormat:o.samlConfig.identifierFormat,privateKey:o.samlConfig.privateKey,decryptionPvk:o.samlConfig.decryptionPvk,additionalParams:o.samlConfig.additionalParams,mapping:o.samlConfig.mapping}):null,organizationId:o.organizationId,userId:t.context.session.user.id,providerId:o.providerId}});return t.json({...a,oidcConfig:JSON.parse(a.oidcConfig),samlConfig:JSON.parse(a.samlConfig),redirectURI:`${t.context.baseURL}/sso/callback/${a.providerId}`})}),signInSSO:(0,p.createAuthEndpoint)("/sign-in/sso",{method:"POST",body:f.object({email:f.string({}).meta({description:"The email address to sign in with. This is used to identify the issuer to sign in with. It's optional if the issuer is provided"}).optional(),organizationSlug:f.string({}).meta({description:"The slug of the organization to sign in with"}).optional(),providerId:f.string({}).meta({description:"The ID of the provider to sign in with. This can be provided instead of email or issuer"}).optional(),domain:f.string({}).meta({description:"The domain of the provider."}).optional(),callbackURL:f.string({}).meta({description:"The URL to redirect to after login"}),errorCallbackURL:f.string({}).meta({description:"The URL to redirect to after login"}).optional(),newUserCallbackURL:f.string({}).meta({description:"The URL to redirect to after login if the user is new"}).optional(),scopes:f.array(f.string(),{}).meta({description:"Scopes to request from the provider."}).optional(),requestSignUp:f.boolean({}).meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),providerType:f.enum(["oidc","saml"]).optional()}),metadata:{openapi:{summary:"Sign in with SSO provider",description:"This endpoint is used to sign in with an SSO provider. It redirects to the provider's authorization URL",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email address to sign in with. This is used to identify the issuer to sign in with. It's optional if the issuer is provided"},issuer:{type:"string",description:"The issuer identifier, this is the URL of the provider and can be used to verify the provider and identify the provider during login. It's optional if the email is provided"},providerId:{type:"string",description:"The ID of the provider to sign in with. This can be provided instead of email or issuer"},callbackURL:{type:"string",description:"The URL to redirect to after login"},errorCallbackURL:{type:"string",description:"The URL to redirect to after login"},newUserCallbackURL:{type:"string",description:"The URL to redirect to after login if the user is new"}},required:["callbackURL"]}}}},responses:{200:{description:"Authorization URL generated successfully for SSO sign-in",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",format:"uri",description:"The authorization URL to redirect the user to for SSO sign-in"},redirect:{type:"boolean",description:"Indicates that the client should redirect to the provided URL",enum:[!0]}},required:["url","redirect"]}}}}}}}},async t=>{let n=t.body,{email:o,organizationSlug:a,providerId:s,domain:l}=n;if(!e?.defaultSSO?.length&&!o&&!a&&!l&&!s)throw new i.APIError("BAD_REQUEST",{message:"email, organizationSlug, domain or providerId is required"});l=n.domain||o?.split("@")[1];let u="";a&&(u=await t.context.adapter.findOne({model:"organization",where:[{field:"slug",value:a}]}).then(e=>e?e.id:""));let c=null;if(e?.defaultSSO?.length){let t=s?e.defaultSSO.find(e=>e.providerId===s):e.defaultSSO.find(e=>e.domain===l);t&&(c={issuer:t.samlConfig?.issuer||t.oidcConfig?.issuer||"",providerId:t.providerId,userId:"default",oidcConfig:t.oidcConfig,samlConfig:t.samlConfig})}if(!s&&!u&&!l)throw new i.APIError("BAD_REQUEST",{message:"providerId, orgId or domain is required"});if(c||(c=await t.context.adapter.findOne({model:"ssoProvider",where:[{field:s?"providerId":u?"organizationId":"domain",value:s||u||l}]}).then(e=>e?{...e,oidcConfig:e.oidcConfig&&er(e.oidcConfig)||void 0,samlConfig:e.samlConfig&&er(e.samlConfig)||void 0}:null)),!c)throw new i.APIError("NOT_FOUND",{message:"No provider found for the issuer"});if(n.providerType){if("oidc"===n.providerType&&!c.oidcConfig)throw new i.APIError("BAD_REQUEST",{message:"OIDC provider is not configured"});if("saml"===n.providerType&&!c.samlConfig)throw new i.APIError("BAD_REQUEST",{message:"SAML provider is not configured"})}if(c.oidcConfig&&"saml"!==n.providerType){let e=await (0,r.g)(t),i=`${t.context.baseURL}/sso/callback/${c.providerId}`,n=await (0,d.c)({id:c.issuer,options:{clientId:c.oidcConfig.clientId,clientSecret:c.oidcConfig.clientSecret},redirectURI:i,state:e.state,codeVerifier:c.oidcConfig.pkce?e.codeVerifier:void 0,scopes:t.body.scopes||c.oidcConfig.scopes||["openid","email","profile","offline_access"],authorizationEndpoint:c.oidcConfig.authorizationEndpoint});return t.json({url:n.toString(),redirect:!0})}if(c.samlConfig){let e="object"==typeof c.samlConfig?c.samlConfig:er(c.samlConfig);if(!e)throw new i.APIError("BAD_REQUEST",{message:"Invalid SAML configuration"});let r=h.ServiceProvider({metadata:e.spMetadata.metadata,allowCreate:!0}),o=h.IdentityProvider({metadata:e.idpMetadata?.metadata,entityID:e.idpMetadata?.entityID,encryptCert:e.idpMetadata?.cert,singleSignOnService:e.idpMetadata?.singleSignOnService}),a=r.createLoginRequest(o,"redirect");if(!a)throw new i.APIError("BAD_REQUEST",{message:"Invalid SAML request"});return t.json({url:`${a.context}&RelayState=${encodeURIComponent(n.callbackURL)}`,redirect:!0})}throw new i.APIError("BAD_REQUEST",{message:"Invalid SSO provider"})}),callbackSSO:(0,p.createAuthEndpoint)("/sso/callback/:providerId",{method:"GET",query:f.object({code:f.string().optional(),state:f.string(),error:f.string().optional(),error_description:f.string().optional()}),metadata:{isAction:!1,openapi:{summary:"Callback URL for SSO provider",description:"This endpoint is used as the callback URL for SSO providers. It handles the authorization code and exchanges it for an access token",responses:{302:{description:"Redirects to the callback URL"}}}}},async t=>{let r,{code:i,state:n,error:o,error_description:a}=t.query,d=await (0,s.p)(t);if(!d){let e=t.context.options.onAPIError?.errorURL||`${t.context.baseURL}/error`;throw t.redirect(`${e}?error=invalid_state`)}let{callbackURL:p,errorURL:f,newUserURL:h,requestSignUp:v}=d;if(!i||o)throw t.redirect(`${f||p}?error=${o}&error_description=${a}`);let b=null;if(e?.defaultSSO?.length){let r=e.defaultSSO.find(e=>e.providerId===t.params.providerId);r&&(b={...r,issuer:r.oidcConfig?.issuer||"",userId:"default"})}if(b||(b=await t.context.adapter.findOne({model:"ssoProvider",where:[{field:"providerId",value:t.params.providerId}]}).then(e=>e?{...e,oidcConfig:er(e.oidcConfig)||void 0}:null)),!b)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=provider not found`);let A=b.oidcConfig;if(!A)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=provider not found`);let w=await (0,m.betterFetch)(A.discoveryEndpoint);if(w.data&&(A={tokenEndpoint:w.data.token_endpoint,tokenEndpointAuthentication:w.data.token_endpoint_auth_method,userInfoEndpoint:w.data.userinfo_endpoint,scopes:["openid","email","profile","offline_access"],...A}),!A.tokenEndpoint)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=token_endpoint_not_found`);let _=await (0,l.v)({code:i,codeVerifier:A.pkce?d.codeVerifier:void 0,redirectURI:`${t.context.baseURL}/sso/callback/${b.providerId}`,options:{clientId:A.clientId,clientSecret:A.clientSecret},tokenEndpoint:A.tokenEndpoint,authentication:"client_secret_post"===A.tokenEndpointAuthentication?"post":"basic"}).catch(e=>{if(e instanceof m.BetterFetchError)throw t.redirect(`${f||p}?error=invalid_provider&error_description=${e.message}`);return null});if(!_)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=token_response_not_found`);let S=null;if(_.idToken){let r=(0,g.decodeJwt)(_.idToken);if(!A.jwksEndpoint)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=jwks_endpoint_not_found`);let i=await (0,u.b)(_.idToken,A.jwksEndpoint).catch(e=>(t.context.logger.error(e),null));if(!i)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=token_not_verified`);if(i.payload.iss!==b.issuer)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=issuer_mismatch`);let n=A.mapping||{};S={...Object.fromEntries(Object.entries(n.extraFields||{}).map(([e,t])=>[e,i.payload[t]])),id:r[n.id||"sub"],email:r[n.email||"email"],emailVerified:!!e?.trustEmailVerified&&r[n.emailVerified||"email_verified"],name:r[n.name||"name"],image:r[n.image||"picture"]}}if(!S){if(!A.userInfoEndpoint)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=user_info_endpoint_not_found`);let e=await (0,m.betterFetch)(A.userInfoEndpoint,{headers:{Authorization:`Bearer ${_.accessToken}`}});if(e.error)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=${e.error.message}`);S=e.data}if(!S.email||!S.id)throw t.redirect(`${f||p}/error?error=invalid_provider&error_description=missing_user_info`);let E=await (0,c.j)(t,{userInfo:{email:S.email,name:S.name||S.email,id:S.id,image:S.image,emailVerified:!!e?.trustEmailVerified&&(S.emailVerified||!1)},account:{idToken:_.idToken,accessToken:_.accessToken,refreshToken:_.refreshToken,accountId:S.id,providerId:b.providerId,accessTokenExpiresAt:_.accessTokenExpiresAt,refreshTokenExpiresAt:_.refreshTokenExpiresAt,scope:_.scopes?.join(",")},callbackURL:p,disableSignUp:e?.disableImplicitSignUp&&!v,overrideUserInfo:A.overrideUserInfo});if(E.error)throw t.redirect(`${f||p}/error?error=${E.error}`);let{session:T,user:I}=E.data;if(e?.provisionUser&&await e.provisionUser({user:I,userInfo:S,token:_,provider:b}),b.organizationId&&!e?.organizationProvisioning?.disabled&&t.context.options.plugins?.find(e=>"organization"===e.id)&&!await t.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:b.organizationId},{field:"userId",value:I.id}]})){let r=e?.organizationProvisioning?.getRole?await e.organizationProvisioning.getRole({user:I,userInfo:S,token:_,provider:b}):e?.organizationProvisioning?.defaultRole||"member";await t.context.adapter.create({model:"member",data:{organizationId:b.organizationId,userId:I.id,role:r,createdAt:new Date,updatedAt:new Date}})}await (0,y.s)(t,{session:T,user:I});try{r=(E.isRegister&&h||p).toString()}catch{r=E.isRegister&&h||p}throw t.redirect(r)}),callbackSSOSAML:(0,p.createAuthEndpoint)("/sso/saml2/callback/:providerId",{method:"POST",body:f.object({SAMLResponse:f.string(),RelayState:f.string().optional()}),metadata:{isAction:!1,openapi:{summary:"Callback URL for SAML provider",description:"This endpoint is used as the callback URL for SAML providers.",responses:{302:{description:"Redirects to the callback URL"},400:{description:"Invalid SAML response"},401:{description:"Unauthorized - SAML authentication failed"}}}}},async t=>{let r,n,{SAMLResponse:o,RelayState:a}=t.body,{providerId:s}=t.params,l=null;if(e?.defaultSSO?.length){let t=e.defaultSSO.find(e=>e.providerId===s);t&&(l={...t,userId:"default",issuer:t.samlConfig?.issuer||""})}if(l||(l=await t.context.adapter.findOne({model:"ssoProvider",where:[{field:"providerId",value:s}]}).then(e=>e?{...e,samlConfig:e.samlConfig&&er(e.samlConfig)||void 0}:null)),!l)throw new i.APIError("NOT_FOUND",{message:"No provider found for the given providerId"});let u=er(l.samlConfig);if(!u)throw new i.APIError("BAD_REQUEST",{message:"Invalid SAML configuration"});let c=u.idpMetadata,d=null;d=c?.metadata?h.IdentityProvider({metadata:c.metadata,privateKey:c.privateKey,privateKeyPass:c.privateKeyPass,isAssertionEncrypted:c.isAssertionEncrypted,encPrivateKey:c.encPrivateKey,encPrivateKeyPass:c.encPrivateKeyPass}):h.IdentityProvider({entityID:c?.entityID||u.issuer,singleSignOnService:[{Binding:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",Location:u.entryPoint}],signingCert:c?.cert||u.cert,wantAuthnRequestsSigned:u.wantAssertionsSigned||!1,isAssertionEncrypted:c?.isAssertionEncrypted||!1,encPrivateKey:c?.encPrivateKey,encPrivateKeyPass:c?.encPrivateKeyPass});let p=u.spMetadata,f=h.ServiceProvider({metadata:p?.metadata,entityID:p?.entityID||u.issuer,assertionConsumerService:p?.metadata?void 0:[{Binding:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",Location:u.callbackUrl}],privateKey:p?.privateKey||u.privateKey,privateKeyPass:p?.privateKeyPass,isAssertionEncrypted:p?.isAssertionEncrypted||!1,encPrivateKey:p?.encPrivateKey,encPrivateKeyPass:p?.encPrivateKeyPass,wantMessageSigned:u.wantAssertionsSigned||!1,nameIDFormat:u.identifierFormat?[u.identifierFormat]:void 0});try{let e=Buffer.from(o,"base64").toString("utf-8");try{r=await f.parseLoginResponse(d,"post",{body:{SAMLResponse:o,RelayState:a||void 0}})}catch(i){let t=e.match(/<saml2:NameID[^>]*>([^<]+)<\/saml2:NameID>/);if(!t)throw i;r={extract:{nameID:t[1],attributes:{nameID:t[1]},sessionIndex:{},conditions:{}}}}if(!r?.extract)throw Error("Invalid SAML response structure")}catch(e){throw t.context.logger.error("SAML response validation failed",{error:e,decodedResponse:Buffer.from(o,"base64").toString("utf-8")}),new i.APIError("BAD_REQUEST",{message:"Invalid SAML response",details:e instanceof Error?e.message:String(e)})}let{extract:m}=r,g=m.attributes||{},v=u.mapping??{},b={...Object.fromEntries(Object.entries(v.extraFields||{}).map(([e,t])=>[e,g[t]])),id:g[v.id||"nameID"]||m.nameID,email:g[v.email||"email"]||m.nameID,name:[g[v.firstName||"givenName"],g[v.lastName||"surname"]].filter(Boolean).join(" ")||g[v.name||"displayName"]||m.nameID,emailVerified:!!e?.trustEmailVerified&&!!v.emailVerified&&(g[v.emailVerified]||!1)};if(!b.id||!b.email)throw t.context.logger.error("Missing essential user info from SAML response",{attributes:Object.keys(g),mapping:v,extractedId:b.id,extractedEmail:b.email}),new i.APIError("BAD_REQUEST",{message:"Unable to extract user ID or email from SAML response"});let A=await t.context.adapter.findOne({model:"user",where:[{field:"email",value:b.email}]});if(n=A||await t.context.adapter.create({model:"user",data:{email:b.email,name:b.name,emailVerified:b.emailVerified,createdAt:new Date,updatedAt:new Date}}),await t.context.adapter.findOne({model:"account",where:[{field:"userId",value:n.id},{field:"providerId",value:l.providerId},{field:"accountId",value:b.id}]})||await t.context.adapter.create({model:"account",data:{userId:n.id,providerId:l.providerId,accountId:b.id,createdAt:new Date,updatedAt:new Date,accessToken:"",refreshToken:""}}),e?.provisionUser&&await e.provisionUser({user:n,userInfo:b,provider:l}),l.organizationId&&!e?.organizationProvisioning?.disabled&&t.context.options.plugins?.find(e=>"organization"===e.id)&&!await t.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:l.organizationId},{field:"userId",value:n.id}]})){let r=e?.organizationProvisioning?.getRole?await e.organizationProvisioning.getRole({user:n,userInfo:b,provider:l}):e?.organizationProvisioning?.defaultRole||"member";await t.context.adapter.create({model:"member",data:{organizationId:l.organizationId,userId:n.id,role:r,createdAt:new Date,updatedAt:new Date}})}let w=await t.context.internalAdapter.createSession(n.id,t);await (0,y.s)(t,{session:w,user:n});let _=a||u.callbackUrl||t.context.baseURL;throw t.redirect(_)}),acsEndpoint:(0,p.createAuthEndpoint)("/sso/saml2/sp/acs/:providerId",{method:"POST",params:f.object({providerId:f.string().optional()}),body:f.object({SAMLResponse:f.string(),RelayState:f.string().optional()}),metadata:{isAction:!1,openapi:{summary:"SAML Assertion Consumer Service",description:"Handles SAML responses from IdP after successful authentication",responses:{302:{description:"Redirects to the callback URL after successful authentication"}}}}},async t=>{let r,n,{SAMLResponse:o,RelayState:a=""}=t.body,{providerId:s}=t.params,l=null;if(e?.defaultSSO?.length){let t=s?e.defaultSSO.find(e=>e.providerId===s):e.defaultSSO[0];t&&(l={issuer:t.samlConfig?.issuer||"",providerId:t.providerId,userId:"default",samlConfig:t.samlConfig})}else l=await t.context.adapter.findOne({model:"ssoProvider",where:[{field:"providerId",value:s??"sso"}]}).then(e=>e?{...e,samlConfig:e.samlConfig&&er(e.samlConfig)||void 0}:null);if(!l?.samlConfig)throw new i.APIError("NOT_FOUND",{message:"No SAML provider found"});let u=l.samlConfig,c=h.ServiceProvider({entityID:u.spMetadata?.entityID||u.issuer,assertionConsumerService:[{Binding:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",Location:u.callbackUrl||`${t.context.baseURL}/sso/saml2/sp/acs/${s}`}],wantMessageSigned:u.wantAssertionsSigned||!1,metadata:u.spMetadata?.metadata,privateKey:u.spMetadata?.privateKey||u.privateKey,privateKeyPass:u.spMetadata?.privateKeyPass,nameIDFormat:u.identifierFormat?[u.identifierFormat]:void 0}),d=u.idpMetadata,p=d?.metadata?h.IdentityProvider({metadata:d.metadata}):h.IdentityProvider({entityID:d?.entityID||u.issuer,singleSignOnService:d?.singleSignOnService||[{Binding:"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",Location:u.entryPoint}],signingCert:d?.cert||u.cert});try{let e=Buffer.from(o,"base64").toString("utf-8");if(e.includes("StatusCode"))e.includes("saml2:Success")||(e=e.replace(/<saml2:StatusCode Value="[^"]+"/,'<saml2:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success"'));else{let t=e.indexOf("</saml2:Issuer>");-1!==t&&(e=e.slice(0,t+14)+'<saml2:Status><saml2:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success"/></saml2:Status>'+e.slice(t+14))}try{r=await c.parseLoginResponse(p,"post",{body:{SAMLResponse:o,RelayState:a||void 0}})}catch(i){let t=e.match(/<saml2:NameID[^>]*>([^<]+)<\/saml2:NameID>/);if(!t)throw i;r={extract:{nameID:t[1],attributes:{nameID:t[1]},sessionIndex:{},conditions:{}}}}if(!r?.extract)throw Error("Invalid SAML response structure")}catch(e){throw t.context.logger.error("SAML response validation failed",{error:e,decodedResponse:Buffer.from(o,"base64").toString("utf-8")}),new i.APIError("BAD_REQUEST",{message:"Invalid SAML response",details:e instanceof Error?e.message:String(e)})}let{extract:f}=r,m=f.attributes||{},g=u.mapping??{},v={...Object.fromEntries(Object.entries(g.extraFields||{}).map(([e,t])=>[e,m[t]])),id:m[g.id||"nameID"]||f.nameID,email:m[g.email||"email"]||f.nameID,name:[m[g.firstName||"givenName"],m[g.lastName||"surname"]].filter(Boolean).join(" ")||m[g.name||"displayName"]||f.nameID,emailVerified:!!e?.trustEmailVerified&&!!g.emailVerified&&(m[g.emailVerified]||!1)};if(!v.id||!v.email)throw t.context.logger.error("Missing essential user info from SAML response",{attributes:Object.keys(m),mapping:g,extractedId:v.id,extractedEmail:v.email}),new i.APIError("BAD_REQUEST",{message:"Unable to extract user ID or email from SAML response"});let b=await t.context.adapter.findOne({model:"user",where:[{field:"email",value:v.email}]});if(b){if(!await t.context.adapter.findOne({model:"account",where:[{field:"userId",value:b.id},{field:"providerId",value:l.providerId},{field:"accountId",value:v.id}]})){if(!t.context.options.account?.accountLinking?.trustedProviders?.includes(l.providerId))throw t.redirect(`${u.callbackUrl}?error=account_not_found`);await t.context.adapter.create({model:"account",data:{userId:b.id,providerId:l.providerId,accountId:v.id,createdAt:new Date,updatedAt:new Date,accessToken:"",refreshToken:""}})}n=b}else n=await t.context.adapter.create({model:"user",data:{email:v.email,name:v.name,emailVerified:!!e?.trustEmailVerified&&(v.emailVerified||!1),createdAt:new Date,updatedAt:new Date}}),await t.context.adapter.create({model:"account",data:{userId:n.id,providerId:l.providerId,accountId:v.id,accessToken:"",refreshToken:"",accessTokenExpiresAt:new Date,refreshTokenExpiresAt:new Date,scope:"",createdAt:new Date,updatedAt:new Date}});if(e?.provisionUser&&await e.provisionUser({user:n,userInfo:v,provider:l}),l.organizationId&&!e?.organizationProvisioning?.disabled&&t.context.options.plugins?.find(e=>"organization"===e.id)&&!await t.context.adapter.findOne({model:"member",where:[{field:"organizationId",value:l.organizationId},{field:"userId",value:n.id}]})){let r=e?.organizationProvisioning?.getRole?await e.organizationProvisioning.getRole({user:n,userInfo:v,provider:l}):e?.organizationProvisioning?.defaultRole||"member";await t.context.adapter.create({model:"member",data:{organizationId:l.organizationId,userId:n.id,role:r,createdAt:new Date,updatedAt:new Date}})}let A=await t.context.internalAdapter.createSession(n.id,t);await (0,y.s)(t,{session:A,user:n});let w=a||u.callbackUrl||t.context.baseURL;throw t.redirect(w)})},schema:{ssoProvider:{fields:{issuer:{type:"string",required:!0},oidcConfig:{type:"string",required:!1},samlConfig:{type:"string",required:!1},userId:{type:"string",references:{model:"user",field:"id"}},providerId:{type:"string",required:!0,unique:!0},organizationId:{type:"string",required:!1},domain:{type:"string",required:!0}}}}}),en=e.i(405614).succeed(ei({}));e.s(["ssoPlugin",0,en],222697)},596611,e=>{"use strict";e.i(222697),e.s([])},262387,(e,t,r)=>{"use strict";t.exports=TypeError},431116,(e,t,r)=>{t.exports=e.r(224361).inspect},221308,(e,t,r)=>{var i="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&n&&"function"==typeof n.get?n.get:null,a=i&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,A=String.prototype.toUpperCase,w=String.prototype.toLowerCase,_=RegExp.prototype.test,S=Array.prototype.concat,E=Array.prototype.join,T=Array.prototype.slice,I=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,N="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===k?"object":"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||_.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-I(-e):I(e);if(i!==e){var n=String(i),o=v.call(t,n.length+1);return b.call(n,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var U=e.r(431116),L=U.custom,K=J(L)?L:null,M={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function j(e,t,r){var i=M[r.quoteStyle||t];return i+e+i}function $(e){return b.call(String(e),/"/g,"&quot;")}function z(e){return!N||!("object"==typeof e&&(N in e||void 0!==e[N]))}function F(e){return"[object Array]"===ee(e)&&z(e)}function q(e){return"[object Date]"===ee(e)&&z(e)}function V(e){return"[object RegExp]"===ee(e)&&z(e)}function H(e){return"[object Error]"===ee(e)&&z(e)}function G(e){return"[object String]"===ee(e)&&z(e)}function W(e){return"[object Number]"===ee(e)&&z(e)}function Z(e){return"[object Boolean]"===ee(e)&&z(e)}function J(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}function Q(e){if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}t.exports=function t(r,i,n,s){var l=i||{};if(X(l,"quoteStyle")&&!X(M,l.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(X(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!X(l,"customInspect")||l.customInspect;if("boolean"!=typeof d&&"symbol"!==d)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(X(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(X(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=l.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return eu(r,l);if("number"==typeof r){if(0===r)return 1/0/r>0?"0":"-0";var f=String(r);return p?D(r,f):f}if("bigint"==typeof r){var m=String(r)+"n";return p?D(r,m):m}var g=void 0===l.depth?5:l.depth;if(void 0===n&&(n=0),n>=g&&g>0&&"object"==typeof r)return F(r)?"[Array]":"[Object]";var y=em(l,n);if(void 0===s)s=[];else if(er(s,r)>=0)return"[Circular]";function A(e,r,i){if(r&&(s=T.call(s)).push(r),i){var o={depth:l.depth};return X(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),t(e,o,n+1,s)}return t(e,l,n+1,s)}if("function"==typeof r&&!V(r)){var _=et(r),I=ey(r,A);return"[Function"+(_?": "+_:" (anonymous)")+"]"+(I.length>0?" { "+E.call(I,", ")+" }":"")}if(J(r)){var O=k?b.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(r);return"object"!=typeof r||k?O:ed(O)}if(el(r)){for(var L="<"+w.call(String(r.nodeName)),B=r.attributes||[],z=0;z<B.length;z++)L+=" "+B[z].name+"="+j($(B[z].value),"double",l);return L+=">",r.childNodes&&r.childNodes.length&&(L+="..."),L+="</"+w.call(String(r.nodeName))+">"}if(F(r)){if(0===r.length)return"[]";var Y=ey(r,A);return y&&!eh(Y)?"["+eg(Y,y)+"]":"[ "+E.call(Y,", ")+" ]"}if(H(r)){var ec=ey(r,A);return"cause"in Error.prototype||!("cause"in r)||R.call(r,"cause")?0===ec.length?"["+String(r)+"]":"{ ["+String(r)+"] "+E.call(ec,", ")+" }":"{ ["+String(r)+"] "+E.call(S.call("[cause]: "+A(r.cause),ec),", ")+" }"}if("object"==typeof r&&d){if(K&&"function"==typeof r[K]&&U)return U(r,{depth:g-n});else if("symbol"!==d&&"function"==typeof r.inspect)return r.inspect()}if(ei(r)){var ev=[];return a&&a.call(r,function(e,t){ev.push(A(t,r,!0)+" => "+A(e,r))}),ef("Map",o.call(r),ev,y)}if(ea(r)){var eb=[];return c&&c.call(r,function(e){eb.push(A(e,r))}),ef("Set",u.call(r),eb,y)}if(en(r))return ep("WeakMap");if(es(r))return ep("WeakSet");if(eo(r))return ep("WeakRef");if(W(r))return ed(A(Number(r)));if(Q(r))return ed(A(x.call(r)));if(Z(r))return ed(h.call(r));if(G(r))return ed(A(String(r)));if("undefined"!=typeof globalThis&&r===globalThis||r===e.g)return"{ [object globalThis] }";if(!q(r)&&!V(r)){var eA=ey(r,A),ew=P?P(r)===Object.prototype:r instanceof Object||r.constructor===Object,e_=r instanceof Object?"":"null prototype",eS=!ew&&N&&Object(r)===r&&N in r?v.call(ee(r),8,-1):e_?"Object":"",eE=(ew||"function"!=typeof r.constructor?"":r.constructor.name?r.constructor.name+" ":"")+(eS||e_?"["+E.call(S.call([],eS||[],e_||[]),": ")+"] ":"");return 0===eA.length?eE+"{}":y?eE+"{"+eg(eA,y)+"}":eE+"{ "+E.call(eA,", ")+" }"}return String(r)};var Y=Object.prototype.hasOwnProperty||function(e){return e in this};function X(e,t){return Y.call(e,t)}function ee(e){return m.call(e)}function et(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function er(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}function ei(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function en(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function eo(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}function ea(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function es(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function el(e){return!!e&&"object"==typeof e&&(!!("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function eu(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return eu(v.call(e,0,t.maxStringLength),t)+i}var n=B[t.quoteStyle||"single"];return n.lastIndex=0,j(b.call(b.call(e,n,"\\$1"),/[\x00-\x1f]/g,ec),"single",t)}function ec(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+A.call(t.toString(16))}function ed(e){return"Object("+e+")"}function ep(e){return e+" { ? }"}function ef(e,t,r,i){return e+" ("+t+") {"+(i?eg(r,i):E.call(r,", "))+"}"}function eh(e){for(var t=0;t<e.length;t++)if(er(e[t],"\n")>=0)return!1;return!0}function em(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}function eg(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function ey(e,t){var r,i=F(e),n=[];if(i){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=X(e,o)?t(e[o],e):""}var a="function"==typeof O?O(e):[];if(k){r={};for(var s=0;s<a.length;s++)r["$"+a[s]]=a[s]}for(var l in e)if(X(e,l)&&(!i||String(Number(l))!==l||!(l<e.length)))if(k&&r["$"+l]instanceof Symbol)continue;else _.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e));if("function"==typeof O)for(var u=0;u<a.length;u++)R.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},744535,(e,t,r)=>{"use strict";var i=e.r(221308),n=e.r(262387),o=function(e,t,r){for(var i,n=e;null!=(i=n.next);n=i)if(i.key===t)return n.next=i.next,r||(i.next=e.next,e.next=i),i},a=function(e,t){if(e){var r=o(e,t);return r&&r.value}},s=function(e,t,r){var i=o(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},l=function(e,t){return!!e&&!!o(e,t)},u=function(e,t){if(e)return o(e,t,!0)};t.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){var r=e&&e.next,i=u(e,t);return i&&r&&r===i&&(e=void 0),!!i},get:function(t){return a(e,t)},has:function(t){return l(e,t)},set:function(t,r){e||(e={next:void 0}),s(e,t,r)}};return t}},750997,(e,t,r)=>{"use strict";t.exports=Object},772135,(e,t,r)=>{"use strict";t.exports=Error},577211,(e,t,r)=>{"use strict";t.exports=EvalError},436638,(e,t,r)=>{"use strict";t.exports=RangeError},954152,(e,t,r)=>{"use strict";t.exports=ReferenceError},595757,(e,t,r)=>{"use strict";t.exports=SyntaxError},102570,(e,t,r)=>{"use strict";t.exports=URIError},759048,(e,t,r)=>{"use strict";t.exports=Math.abs},794959,(e,t,r)=>{"use strict";t.exports=Math.floor},128011,(e,t,r)=>{"use strict";t.exports=Math.max},399078,(e,t,r)=>{"use strict";t.exports=Math.min},501976,(e,t,r)=>{"use strict";t.exports=Math.pow},716805,(e,t,r)=>{"use strict";t.exports=Math.round},511984,(e,t,r)=>{"use strict";t.exports=Number.isNaN||function(e){return e!=e}},101862,(e,t,r)=>{"use strict";var i=e.r(511984);t.exports=function(e){return i(e)||0===e?e:e<0?-1:1}},430764,(e,t,r)=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},714038,(e,t,r)=>{"use strict";var i=e.r(430764);if(i)try{i([],"length")}catch(e){i=null}t.exports=i},942654,(e,t,r)=>{"use strict";var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch(e){i=!1}t.exports=i},435837,(e,t,r)=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var i=42;for(var n in e[t]=i,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||!0!==a.enumerable)return!1}return!0}},43265,(e,t,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=e.r(435837);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},705349,(e,t,r)=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},354153,(e,t,r)=>{"use strict";t.exports=e.r(750997).getPrototypeOf||null},635117,(e,t,r)=>{"use strict";var i="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,o=Math.max,a="[object Function]",s=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r},l=function(e,t){for(var r=[],i=t||0,n=0;i<e.length;i+=1,n+=1)r[n]=e[i];return r},u=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r};t.exports=function(e){var t,r=this;if("function"!=typeof r||n.apply(r)!==a)throw TypeError(i+r);for(var c=l(arguments,1),d=function(){if(this instanceof t){var i=r.apply(this,s(c,arguments));return Object(i)===i?i:this}return r.apply(e,s(c,arguments))},p=o(0,r.length-c.length),f=[],h=0;h<p;h++)f[h]="$"+h;if(t=Function("binder","return function ("+u(f,",")+"){ return binder.apply(this,arguments); }")(d),r.prototype){var m=function(){};m.prototype=r.prototype,t.prototype=new m,m.prototype=null}return t}},181153,(e,t,r)=>{"use strict";var i=e.r(635117);t.exports=Function.prototype.bind||i},190694,(e,t,r)=>{"use strict";t.exports=Function.prototype.call},722552,(e,t,r)=>{"use strict";t.exports=Function.prototype.apply},132539,(e,t,r)=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},983860,(e,t,r)=>{"use strict";var i=e.r(181153),n=e.r(722552),o=e.r(190694);t.exports=e.r(132539)||i.call(o,n)},427352,(e,t,r)=>{"use strict";var i=e.r(181153),n=e.r(262387),o=e.r(190694),a=e.r(983860);t.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new n("a function is required");return a(i,o,e)}},526036,(e,t,r)=>{"use strict";var i,n=e.r(427352),o=e.r(714038);try{i=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!i&&o&&o(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;t.exports=a&&"function"==typeof a.get?n([a.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},33728,(e,t,r)=>{"use strict";var i=e.r(705349),n=e.r(354153),o=e.r(526036);t.exports=i?function(e){return i(e)}:n?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return n(e)}:o?function(e){return o(e)}:null},672146,(e,t,r)=>{"use strict";var i=Function.prototype.call,n=Object.prototype.hasOwnProperty;t.exports=e.r(181153).call(i,n)},872138,(e,t,r)=>{"use strict";var i=e.r(750997),n=e.r(772135),o=e.r(577211),a=e.r(436638),s=e.r(954152),l=e.r(595757),u=e.r(262387),c=e.r(102570),d=e.r(759048),p=e.r(794959),f=e.r(128011),h=e.r(399078),m=e.r(501976),g=e.r(716805),y=e.r(101862),v=Function,b=function(e){try{return v('"use strict"; return ('+e+").constructor;")()}catch(e){}},A=e.r(714038),w=e.r(942654),_=function(){throw new u},S=A?function(){try{return arguments.callee,_}catch(e){try{return A(arguments,"callee").get}catch(e){return _}}}():_,E=e.r(43265)(),T=e.r(33728),I=e.r(354153),x=e.r(705349),O=e.r(722552),C=e.r(190694),k={},N="undefined"!=typeof Uint8Array&&T?T(Uint8Array):void 0,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":E&&T?T([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?void 0:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&T?T(T([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&E&&T?T(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&E&&T?T(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&T?T(""[Symbol.iterator]()):void 0,"%Symbol%":E?Symbol:void 0,"%SyntaxError%":l,"%ThrowTypeError%":S,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%Function.prototype.call%":C,"%Function.prototype.apply%":O,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":I,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":f,"%Math.min%":h,"%Math.pow%":m,"%Math.round%":g,"%Math.sign%":y,"%Reflect.getPrototypeOf%":x};if(T)try{null.error}catch(e){var P=T(T(e));R["%Error.prototype%"]=P}var D=function e(t){var r;if("%AsyncFunction%"===t)r=b("async function () {}");else if("%GeneratorFunction%"===t)r=b("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=b("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&T&&(r=T(n.prototype))}return R[t]=r,r},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=e.r(181153),K=e.r(672146),M=L.call(C,Array.prototype.concat),B=L.call(O,Array.prototype.splice),j=L.call(C,String.prototype.replace),$=L.call(C,String.prototype.slice),z=L.call(C,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,V=function(e){var t=$(e,0,1),r=$(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return j(e,F,function(e,t,r,n){i[i.length]=r?j(n,q,"$1"):t||e}),i},H=function(e,t){var r,i=e;if(K(U,i)&&(i="%"+(r=U[i])[0]+"%"),K(R,i)){var n=R[i];if(n===k&&(n=D(i)),void 0===n&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:n}}throw new l("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=V(e),i=r.length>0?r[0]:"",n=H("%"+i+"%",t),o=n.name,a=n.value,s=!1,c=n.alias;c&&(i=c[0],B(r,M([0,1],c)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],h=$(f,0,1),m=$(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(s=!0),i+="."+f,K(R,o="%"+i+"%"))a=R[o];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(A&&d+1>=r.length){var g=A(a,f);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=K(a,f),a=a[f];p&&!s&&(R[o]=a)}}return a}},984128,(e,t,r)=>{"use strict";var i=e.r(872138),n=e.r(427352),o=n([i("%String.prototype.indexOf%")]);t.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?n([r]):r}},945374,(e,t,r)=>{"use strict";var i=e.r(872138),n=e.r(984128),o=e.r(221308),a=e.r(262387),s=i("%Map%",!0),l=n("Map.prototype.get",!0),u=n("Map.prototype.set",!0),c=n("Map.prototype.has",!0),d=n("Map.prototype.delete",!0),p=n("Map.prototype.size",!0);t.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=d(e,t);return 0===p(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&c(e,t)},set:function(t,r){e||(e=new s),u(e,t,r)}};return t}},818809,(e,t,r)=>{"use strict";var i=e.r(872138),n=e.r(984128),o=e.r(221308),a=e.r(945374),s=e.r(262387),l=i("%WeakMap%",!0),u=n("WeakMap.prototype.get",!0),c=n("WeakMap.prototype.set",!0),d=n("WeakMap.prototype.has",!0),p=n("WeakMap.prototype.delete",!0);t.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(a&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?u(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?d(e,r):!!t&&t.has(r)},set:function(r,i){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),c(e,r,i)):a&&(t||(t=a()),t.set(r,i))}};return r}:a},39750,(e,t,r)=>{"use strict";var i=e.r(262387),n=e.r(221308),o=e.r(744535),a=e.r(945374),s=e.r(818809)||a||o;t.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=s()),e.set(t,r)}};return t}},860961,(e,t,r)=>{"use strict";var i=String.prototype.replace,n=/%20/g,o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:o}},597974,(e,t,r)=>{"use strict";var i=e.r(860961),n=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);t.obj[t.prop]=i}}},l=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r},u=function e(t,r,i){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return(o(t)&&!o(r)&&(a=l(t,i)),o(t)&&o(r))?(r.forEach(function(r,o){if(n.call(t,o)){var a=t[o];a&&"object"==typeof a&&r&&"object"==typeof r?t[o]=e(a,r,i):t.push(r)}else t[o]=r}),t):Object.keys(r).reduce(function(t,o){var a=r[o];return n.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t},a)},c=1024;t.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:u}),r.push(c))}return s(t),e},decode:function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,r,n,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var l="",u=0;u<s.length;u+=c){for(var d=s.length>=c?s.slice(u,u+c):s,p=[],f=0;f<d.length;++f){var h=d.charCodeAt(f);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===i.RFC1738&&(40===h||41===h)){p[p.length]=d.charAt(f);continue}if(h<128){p[p.length]=a[h];continue}if(h<2048){p[p.length]=a[192|h>>6]+a[128|63&h];continue}if(h<55296||h>=57344){p[p.length]=a[224|h>>12]+a[128|h>>6&63]+a[128|63&h];continue}f+=1,h=65536+((1023&h)<<10|1023&d.charCodeAt(f)),p[p.length]=a[240|h>>18]+a[128|h>>12&63]+a[128|h>>6&63]+a[128|63&h]}l+=p.join("")}return l},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},merge:u}},419483,(e,t,r)=>{"use strict";var i=e.r(39750),n=e.r(597974),o=e.r(860961),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},m={},g=function e(t,r,o,a,s,u,d,p,g,y,v,b,A,w,_,S,E,T){for(var I,x=t,O=T,C=0,k=!1;void 0!==(O=O.get(m))&&!k;){var N=O.get(t);if(C+=1,void 0!==N)if(N===C)throw RangeError("Cyclic object value");else k=!0;void 0===O.get(m)&&(C=0)}if("function"==typeof y?x=y(r,x):x instanceof Date?x=A(x):"comma"===o&&l(x)&&(x=n.maybeMap(x,function(e){return e instanceof Date?A(e):e})),null===x){if(u)return g&&!S?g(r,f.encoder,E,"key",w):r;x=""}if(h(x)||n.isBuffer(x))return g?[_(S?r:g(r,f.encoder,E,"key",w))+"="+_(g(x,f.encoder,E,"value",w))]:[_(r)+"="+_(String(x))];var R=[];if(void 0===x)return R;if("comma"===o&&l(x))S&&g&&(x=n.maybeMap(x,g)),I=[{value:x.length>0?x.join(",")||null:void 0}];else if(l(y))I=y;else{var P=Object.keys(x);I=v?P.sort(v):P}var D=p?String(r).replace(/\./g,"%2E"):String(r),U=a&&l(x)&&1===x.length?D+"[]":D;if(s&&l(x)&&0===x.length)return U+"[]";for(var L=0;L<I.length;++L){var K=I[L],M="object"==typeof K&&K&&void 0!==K.value?K.value:x[K];if(!d||null!==M){var B=b&&p?String(K).replace(/\./g,"%2E"):String(K),j=l(x)?"function"==typeof o?o(U,B):U:U+(b?"."+B:"["+B+"]");T.set(t,C);var $=i();$.set(m,T),c(R,e(M,j,o,a,s,u,d,p,"comma"===o&&S&&l(x)?null:g,y,v,b,A,w,_,S,E,$))}}return R},y=function(e){if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");i=e.format}var n=o.formatters[i],u=f.filter;if(("function"==typeof e.filter||l(e.filter))&&(u=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var c=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:u,format:i,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};t.exports=function(e,t){var r,n,o=e,a=y(t);"function"==typeof a.filter?o=(n=a.filter)("",o):l(a.filter)&&(r=n=a.filter);var u=[];if("object"!=typeof o||null===o)return"";var d=s[a.arrayFormat],p="comma"===d&&a.commaRoundTrip;r||(r=Object.keys(o)),a.sort&&r.sort(a.sort);for(var f=i(),h=0;h<r.length;++h){var m=r[h],v=o[m];a.skipNulls&&null===v||c(u,g(v,m,d,p,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,f))}var b=u.join(a.delimiter),A=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),b.length>0?A+b:""}},173528,(e,t,r)=>{"use strict";var i=e.r(597974),n=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},u="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(e,t){var r={__proto__:null},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;d=d.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p=t.parameterLimit===1/0?void 0:t.parameterLimit,f=d.split(t.delimiter,t.throwOnLimitExceeded?p+1:p);if(t.throwOnLimitExceeded&&f.length>p)throw RangeError("Parameter limit exceeded. Only "+p+" parameter"+(1===p?"":"s")+" allowed.");var h=-1,m=t.charset;if(t.charsetSentinel)for(g=0;g<f.length;++g)0===f[g].indexOf("utf8=")&&(f[g]===c?m="utf-8":f[g]===u&&(m="iso-8859-1"),h=g,g=f.length);for(g=0;g<f.length;++g)if(g!==h){var g,y,v,b=f[g],A=b.indexOf("]="),w=-1===A?b.indexOf("="):A+1;-1===w?(y=t.decoder(b,a.decoder,m,"key"),v=t.strictNullHandling?null:""):(y=t.decoder(b.slice(0,w),a.decoder,m,"key"),v=i.maybeMap(l(b.slice(w+1),t,o(r[y])?r[y].length:0),function(e){return t.decoder(e,a.decoder,m,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===m&&(v=s(String(v))),b.indexOf("[]=")>-1&&(v=o(v)?[v]:v);var _=n.call(r,y);_&&"combine"===t.duplicates?r[y]=i.combine(r[y],v):_&&"last"!==t.duplicates||(r[y]=v)}return r},p=function(e,t,r,n){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var s=n?t:l(t,r,o),u=e.length-1;u>=0;--u){var c,d=e[u];if("[]"===d&&r.parseArrays)c=r.allowEmptyArrays&&(""===s||r.strictNullHandling&&null===s)?[]:i.combine([],s);else{c=r.plainObjects?{__proto__:null}:{};var p="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,f=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,h=parseInt(f,10);r.parseArrays||""!==f?!isNaN(h)&&d!==f&&String(h)===f&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(c=[])[h]=s:"__proto__"!==f&&(c[f]=s):c={0:s}}s=c}return s},f=function(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=r.depth>0&&a.exec(o),u=l?o.slice(0,l.index):o,c=[];if(u){if(!r.plainObjects&&n.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var d=0;r.depth>0&&null!==(l=s.exec(o))&&d<r.depth;){if(d+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}if(l){if(!0===r.strictDepth)throw RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");c.push("["+o.slice(l.index)+"]")}return p(c,t,r,i)}},h=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,r=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};t.exports=function(e,t){var r=h(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var n="string"==typeof e?d(e,r):e,o=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),s=0;s<a.length;++s){var l=a[s],u=f(l,n[l],r,"string"==typeof e);o=i.merge(o,u,r)}return!0===r.allowSparse?o:i.compact(o)}},100126,(e,t,r)=>{"use strict";var i=e.r(419483),n=e.r(173528);t.exports={formats:e.r(860961),parse:n,stringify:i}},646488,e=>{"use strict";var t=e.i(853053);e.i(849436);var r=e.i(87662);e.i(450900);var i=e.i(577340),n=e.i(317920);e.i(274444);var o=e.i(907855);e.i(822381);var a=e.i(689288),s=e.i(446610),s=s,l=e.i(154456),u=e.i(909879),u=u;e.i(537430),e.i(277074),e.i(468527),e.i(217202);var c=e.i(66655);e.i(973088),e.i(744957),e.i(338270),e.i(130717),e.i(464589),e.i(649330),e.i(339127),e.i(282318),e.i(530501),e.i(172381),e.i(362160),e.i(408972),e.i(334773),e.i(169066),e.i(767356);var d=c,p=e.i(129776);async function f(e){return"function"==typeof e?.subscription?.plans?await e.subscription?.plans():e.subscription?.plans}async function h(e,t,r){return await f(e).then(e=>e?.find(e=>e.priceId===t||e.annualDiscountPriceId===t||r&&(e.lookupKey===r||e.annualDiscountLookupKey===r)))}async function m(e,t){return await f(e).then(e=>e?.find(e=>e.name.toLowerCase()===t.toLowerCase()))}async function g(e,t,i){try{let r=t.stripeClient,n=i.data.object;if("setup"===n.mode||!t.subscription?.enabled)return;let o=await r.subscriptions.retrieve(n.subscription),a=o.items.data[0]?.price.id,s=o.items.data[0]?.price.lookup_key||null,l=await h(t,a,s);if(l){let r=n?.client_reference_id||n?.metadata?.referenceId,a=n?.metadata?.subscriptionId,s=o.items.data[0].quantity;if(r&&a){let r=o.trial_start&&o.trial_end?{trialStart:new Date(1e3*o.trial_start),trialEnd:new Date(1e3*o.trial_end)}:{},u=await e.context.adapter.update({model:"subscription",update:{plan:l.name.toLowerCase(),status:o.status,updatedAt:new Date,periodStart:new Date(1e3*o.items.data[0].current_period_start),periodEnd:new Date(1e3*o.items.data[0].current_period_end),stripeSubscriptionId:n.subscription,seats:s,...r},where:[{field:"id",value:a}]});r.trialStart&&l.freeTrial?.onTrialStart&&await l.freeTrial.onTrialStart(u),u||(u=await e.context.adapter.findOne({model:"subscription",where:[{field:"id",value:a}]})),await t.subscription?.onSubscriptionComplete?.({event:i,subscription:u,stripeSubscription:o,plan:l},e);return}}}catch(e){r.logger.error(`Stripe webhook failed. Error: ${e.message}`)}}async function y(e,t,i){try{if(!t.subscription?.enabled)return;let n=i.data.object,o=n.items.data[0].price.id,a=n.items.data[0].price.lookup_key||null,s=await h(t,o,a),l=n.metadata?.subscriptionId,u=n.customer?.toString(),c=await e.context.adapter.findOne({model:"subscription",where:l?[{field:"id",value:l}]:[{field:"stripeSubscriptionId",value:n.id}]});if(!c){let t=await e.context.adapter.findMany({model:"subscription",where:[{field:"stripeCustomerId",value:u}]});if(t.length>1){let e=t.find(e=>"active"===e.status||"trialing"===e.status);if(!e)return void r.logger.warn(`Stripe webhook error: Multiple subscriptions found for customerId: ${u} and no active subscription is found`);c=e}else c=t[0]}let d=n.items.data[0].quantity;await e.context.adapter.update({model:"subscription",update:{...s?{plan:s.name.toLowerCase(),limits:s.limits}:{},updatedAt:new Date,status:n.status,periodStart:new Date(1e3*n.items.data[0].current_period_start),periodEnd:new Date(1e3*n.items.data[0].current_period_end),cancelAtPeriodEnd:n.cancel_at_period_end,seats:d,stripeSubscriptionId:n.id},where:[{field:"id",value:c.id}]}),"active"===n.status&&n.cancel_at_period_end&&!c.cancelAtPeriodEnd&&await t.subscription.onSubscriptionCancel?.({subscription:c,cancellationDetails:n.cancellation_details||void 0,stripeSubscription:n,event:i}),await t.subscription.onSubscriptionUpdate?.({event:i,subscription:c}),s&&("active"===n.status&&"trialing"===c.status&&s.freeTrial?.onTrialEnd&&await s.freeTrial.onTrialEnd({subscription:c},e),"incomplete_expired"===n.status&&"trialing"===c.status&&s.freeTrial?.onTrialExpired&&await s.freeTrial.onTrialExpired(c,e))}catch(e){r.logger.error(`Stripe webhook failed. Error: ${e}`)}}async function v(e,t,i){if(t.subscription?.enabled)try{let n=i.data.object,o=n.id,a=await e.context.adapter.findOne({model:"subscription",where:[{field:"stripeSubscriptionId",value:o}]});a?(await e.context.adapter.update({model:"subscription",where:[{field:"id",value:a.id}],update:{status:"canceled",updatedAt:new Date}}),await t.subscription.onSubscriptionDeleted?.({event:i,stripeSubscription:n,subscription:a})):r.logger.warn(`Stripe webhook error: Subscription not found for subscriptionId: ${o}`)}catch(e){r.logger.error(`Stripe webhook failed. Error: ${e}`)}}let b={subscription:{fields:{plan:{type:"string",required:!0},referenceId:{type:"string",required:!0},stripeCustomerId:{type:"string",required:!1},stripeSubscriptionId:{type:"string",required:!1},status:{type:"string",defaultValue:"incomplete"},periodStart:{type:"date",required:!1},periodEnd:{type:"date",required:!1},trialStart:{type:"date",required:!1},trialEnd:{type:"date",required:!1},cancelAtPeriodEnd:{type:"boolean",required:!1,defaultValue:!1},seats:{type:"number",required:!1}}}},A={user:{fields:{stripeCustomerId:{type:"string",required:!1}}}},w=e=>{let t={};if(t=e.subscription?.enabled?{...b,...A}:{...A},e.schema&&!e.subscription?.enabled&&"subscription"in e.schema){let{subscription:r,...i}=e.schema;return(0,d.m)(t,i)}return(0,d.m)(t,e.schema)},_="Subscription not found",S="Subscription plan not found",E="You're already subscribed to this plan",T="Unable to create customer",I="Email verification is required before you can subscribe to a plan",x="Subscription is not active",O="Subscription is not scheduled for cancellation",C=(e,t)=>t.startsWith("http")?t:`${e.context.options.baseURL}${t.startsWith("/")?t:`/${t}`}`;async function k(e,t){if(!t)return;let r=await e.prices.list({lookup_keys:[t],active:!0,limit:1});return r.data[0]?.id}let N=e=>{let t=e.stripeClient,c=t=>(0,n.createAuthMiddleware)(async i=>{let n=i.context.session;if(!n)throw new l.APIError("UNAUTHORIZED");let o=i.body?.referenceId||i.query?.referenceId||n.user.id;if(i.body?.referenceId&&!e.subscription?.authorizeReference)throw r.logger.error("Passing referenceId into a subscription action isn't allowed if subscription.authorizeReference isn't defined in your stripe plugin config."),new l.APIError("BAD_REQUEST",{message:"Reference id is not allowed. Read server logs for more details."});if(!(!i.body?.referenceId||await e.subscription?.authorizeReference?.({user:n.user,session:n.session,referenceId:o,action:t},i)))throw new l.APIError("UNAUTHORIZED",{message:"Unauthorized"})}),d={upgradeSubscription:(0,i.createAuthEndpoint)("/subscription/upgrade",{method:"POST",body:o.object({plan:o.string().meta({description:'The name of the plan to upgrade to. Eg: "pro"'}),annual:o.boolean().meta({description:"Whether to upgrade to an annual plan. Eg: true"}).optional(),referenceId:o.string().meta({description:'Reference id of the subscription to upgrade. Eg: "123"'}).optional(),subscriptionId:o.string().meta({description:'The id of the subscription to upgrade. Eg: "sub_123"'}).optional(),metadata:o.record(o.string(),o.any()).optional(),seats:o.number().meta({description:"Number of seats to upgrade to (if applicable). Eg: 1"}).optional(),successUrl:o.string().meta({description:'Callback URL to redirect back after successful subscription. Eg: "https://example.com/success"'}).default("/"),cancelUrl:o.string().meta({description:'If set, checkout shows a back button and customers will be directed here if they cancel payment. Eg: "https://example.com/pricing"'}).default("/"),returnUrl:o.string().meta({description:'URL to take customers to when they click on the billing portals link to return to your website. Eg: "https://example.com/dashboard"'}).optional(),disableRedirect:o.boolean().meta({description:"Disable redirect after successful subscription. Eg: true"}).default(!1)}),use:[a.sessionMiddleware,(0,s.o)(e=>[e.body.successURL,e.body.cancelURL]),c("upgrade-subscription")]},async r=>{let i,{user:n,session:o}=r.context.session;if(!n.emailVerified&&e.subscription?.requireEmailVerification)throw new l.APIError("BAD_REQUEST",{message:I});let a=r.body.referenceId||n.id,s=await m(e,r.body.plan);if(!s)throw new l.APIError("BAD_REQUEST",{message:S});let u=r.body.subscriptionId?await r.context.adapter.findOne({model:"subscription",where:[{field:"id",value:r.body.subscriptionId,connector:"OR"},{field:"stripeSubscriptionId",value:r.body.subscriptionId,connector:"OR"}]}):a?await r.context.adapter.findOne({model:"subscription",where:[{field:"referenceId",value:a}]}):null;if(r.body.subscriptionId&&!u)throw new l.APIError("BAD_REQUEST",{message:_});let c=u?.stripeCustomerId||n.stripeCustomerId;if(!c)try{let e=(await t.customers.list({email:n.email,limit:1})).data[0];e||(e=await t.customers.create({email:n.email,name:n.name,metadata:{...r.body.metadata,userId:n.id}})),await r.context.adapter.update({model:"user",update:{stripeCustomerId:e.id},where:[{field:"id",value:n.id}]}),c=e.id}catch(e){throw r.context.logger.error(e),new l.APIError("BAD_REQUEST",{message:T})}let d=u?[u]:await r.context.adapter.findMany({model:"subscription",where:[{field:"referenceId",value:r.body.referenceId||n.id}]}),p=d.find(e=>"active"===e.status||"trialing"===e.status),f=(await t.subscriptions.list({customer:c}).then(e=>e.data.filter(e=>"active"===e.status||"trialing"===e.status))).find(e=>u?.stripeSubscriptionId||r.body.subscriptionId?e.id===u?.stripeSubscriptionId||e.id===r.body.subscriptionId:!!p?.stripeSubscriptionId&&e.id===p.stripeSubscriptionId),h=d.find(e=>"incomplete"===e.status);if(p&&"active"===p.status&&p.plan===r.body.plan&&p.seats===(r.body.seats||1))throw new l.APIError("BAD_REQUEST",{message:E});if(f&&c){let e,i=await r.context.adapter.findOne({model:"subscription",where:[{field:"stripeSubscriptionId",value:f.id}]});if(!i&&p&&(await r.context.adapter.update({model:"subscription",update:{stripeSubscriptionId:f.id,updatedAt:new Date},where:[{field:"id",value:p.id}]}),i=p),r.body.annual?(e=s.annualDiscountPriceId)||!s.annualDiscountLookupKey||(e=await k(t,s.annualDiscountLookupKey)):(e=s.priceId)||!s.lookupKey||(e=await k(t,s.lookupKey)),!e)throw r.error("BAD_REQUEST",{message:"Price ID not found for the selected plan"});let{url:n}=await t.billingPortal.sessions.create({customer:c,return_url:C(r,r.body.returnUrl||"/"),flow_data:{type:"subscription_update_confirm",after_completion:{type:"redirect",redirect:{return_url:C(r,r.body.returnUrl||"/")}},subscription_update_confirm:{subscription:f.id,items:[{id:f.items.data[0]?.id,quantity:r.body.seats||1,price:e}]}}}).catch(async e=>{throw r.error("BAD_REQUEST",{message:e.message,code:e.code})});return r.json({url:n,redirect:!0})}let g=p||h;if(h&&!p&&(g=await r.context.adapter.update({model:"subscription",update:{plan:s.name.toLowerCase(),seats:r.body.seats||1,updatedAt:new Date},where:[{field:"id",value:h.id}]})||h),g||(g=await r.context.adapter.create({model:"subscription",data:{plan:s.name.toLowerCase(),stripeCustomerId:c,status:"incomplete",referenceId:a,seats:r.body.seats||1}})),!g)throw r.context.logger.error("Subscription ID not found"),new l.APIError("INTERNAL_SERVER_ERROR");let y=await e.subscription?.getCheckoutSessionParams?.({user:n,session:o,plan:s,subscription:g},r.request,r),v=!d.some(e=>!!(e.trialStart||e.trialEnd)||"trialing"===e.status)&&s.freeTrial?{trial_period_days:s.freeTrial.days}:void 0;r.body.annual?(i=s.annualDiscountPriceId)||!s.annualDiscountLookupKey||(i=await k(t,s.annualDiscountLookupKey)):(i=s.priceId)||!s.lookupKey||(i=await k(t,s.lookupKey));let b=await t.checkout.sessions.create({...c?{customer:c,customer_update:{name:"auto",address:"auto"}}:{customer_email:o.user.email},success_url:C(r,`${r.context.baseURL}/subscription/success?callbackURL=${encodeURIComponent(r.body.successUrl)}&subscriptionId=${encodeURIComponent(g.id)}`),cancel_url:C(r,r.body.cancelUrl),line_items:[{price:i,quantity:r.body.seats||1}],subscription_data:{...v},mode:"subscription",client_reference_id:a,...y?.params,metadata:{userId:n.id,subscriptionId:g.id,referenceId:a,...y?.params?.metadata}},y?.options).catch(async e=>{throw r.error("BAD_REQUEST",{message:e.message,code:e.code})});return r.json({...b,redirect:!r.body.disableRedirect})}),cancelSubscriptionCallback:(0,i.createAuthEndpoint)("/subscription/cancel/callback",{method:"GET",query:o.record(o.string(),o.any()).optional(),use:[(0,s.o)(e=>e.query.callbackURL)]},async r=>{if(!r.query||!r.query.callbackURL||!r.query.subscriptionId)throw r.redirect(C(r,r.query?.callbackURL||"/"));let i=await (0,u.g)(r);if(!i)throw r.redirect(C(r,r.query?.callbackURL||"/"));let{user:n}=i,{callbackURL:o,subscriptionId:a}=r.query;if(n?.stripeCustomerId)try{let i=await r.context.adapter.findOne({model:"subscription",where:[{field:"id",value:a}]});if(!i||i.cancelAtPeriodEnd||"canceled"===i.status)throw r.redirect(C(r,o));let s=(await t.subscriptions.list({customer:n.stripeCustomerId,status:"active"})).data.find(e=>e.id===i.stripeSubscriptionId);s?.cancel_at_period_end===!0&&(await r.context.adapter.update({model:"subscription",update:{status:s?.status,cancelAtPeriodEnd:!0},where:[{field:"id",value:i.id}]}),await e.subscription?.onSubscriptionCancel?.({subscription:i,cancellationDetails:s.cancellation_details,stripeSubscription:s,event:void 0}))}catch(e){r.context.logger.error("Error checking subscription status from Stripe",e)}throw r.redirect(C(r,o))}),cancelSubscription:(0,i.createAuthEndpoint)("/subscription/cancel",{method:"POST",body:o.object({referenceId:o.string().meta({description:"Reference id of the subscription to cancel. Eg: '123'"}).optional(),subscriptionId:o.string().meta({description:"The id of the subscription to cancel. Eg: 'sub_123'"}).optional(),returnUrl:o.string().meta({description:'URL to take customers to when they click on the billing portals link to return to your website. Eg: "https://example.com/dashboard"'})}),use:[a.sessionMiddleware,(0,s.o)(e=>e.body.returnUrl),c("cancel-subscription")]},async e=>{let r=e.body?.referenceId||e.context.session.user.id,i=e.body.subscriptionId?await e.context.adapter.findOne({model:"subscription",where:[{field:"id",value:e.body.subscriptionId}]}):await e.context.adapter.findMany({model:"subscription",where:[{field:"referenceId",value:r}]}).then(e=>e.find(e=>"active"===e.status||"trialing"===e.status));if(!i||!i.stripeCustomerId)throw e.error("BAD_REQUEST",{message:_});let n=await t.subscriptions.list({customer:i.stripeCustomerId}).then(e=>e.data.filter(e=>"active"===e.status||"trialing"===e.status));if(!n.length)throw await e.context.adapter.deleteMany({model:"subscription",where:[{field:"referenceId",value:r}]}),e.error("BAD_REQUEST",{message:_});let o=n.find(e=>e.id===i.stripeSubscriptionId);if(!o)throw e.error("BAD_REQUEST",{message:_});let{url:a}=await t.billingPortal.sessions.create({customer:i.stripeCustomerId,return_url:C(e,`${e.context.baseURL}/subscription/cancel/callback?callbackURL=${encodeURIComponent(e.body?.returnUrl||"/")}&subscriptionId=${encodeURIComponent(i.id)}`),flow_data:{type:"subscription_cancel",subscription_cancel:{subscription:o.id}}}).catch(async t=>{throw t.message.includes("already set to be cancel")&&!i.cancelAtPeriodEnd&&await e.context.adapter.update({model:"subscription",update:{cancelAtPeriodEnd:!0},where:[{field:"referenceId",value:r}]}),e.error("BAD_REQUEST",{message:t.message,code:t.code})});return{url:a,redirect:!0}}),restoreSubscription:(0,i.createAuthEndpoint)("/subscription/restore",{method:"POST",body:o.object({referenceId:o.string().meta({description:"Reference id of the subscription to restore. Eg: '123'"}).optional(),subscriptionId:o.string().meta({description:"The id of the subscription to restore. Eg: 'sub_123'"}).optional()}),use:[a.sessionMiddleware,c("restore-subscription")]},async e=>{let r=e.body?.referenceId||e.context.session.user.id,i=e.body.subscriptionId?await e.context.adapter.findOne({model:"subscription",where:[{field:"id",value:e.body.subscriptionId}]}):await e.context.adapter.findMany({model:"subscription",where:[{field:"referenceId",value:r}]}).then(e=>e.find(e=>"active"===e.status||"trialing"===e.status));if(!i||!i.stripeCustomerId)throw e.error("BAD_REQUEST",{message:_});if("active"!=i.status&&"trialing"!=i.status)throw e.error("BAD_REQUEST",{message:x});if(!i.cancelAtPeriodEnd)throw e.error("BAD_REQUEST",{message:O});let n=await t.subscriptions.list({customer:i.stripeCustomerId}).then(e=>e.data.filter(e=>"active"===e.status||"trialing"===e.status)[0]);if(!n)throw e.error("BAD_REQUEST",{message:_});try{let r=await t.subscriptions.update(n.id,{cancel_at_period_end:!1});return await e.context.adapter.update({model:"subscription",update:{cancelAtPeriodEnd:!1,updatedAt:new Date},where:[{field:"id",value:i.id}]}),e.json(r)}catch(t){throw e.context.logger.error("Error restoring subscription",t),new l.APIError("BAD_REQUEST",{message:T})}}),listActiveSubscriptions:(0,i.createAuthEndpoint)("/subscription/list",{method:"GET",query:o.optional(o.object({referenceId:o.string().meta({description:"Reference id of the subscription to list. Eg: '123'"}).optional()})),use:[a.sessionMiddleware,c("list-subscription")]},async t=>{let r=await t.context.adapter.findMany({model:"subscription",where:[{field:"referenceId",value:t.query?.referenceId||t.context.session.user.id}]});if(!r.length)return[];let i=await f(e);if(!i)return[];let n=r.map(e=>{let t=i.find(t=>t.name.toLowerCase()===e.plan.toLowerCase());return{...e,limits:t?.limits,priceId:t?.priceId}}).filter(e=>"active"===e.status||"trialing"===e.status);return t.json(n)}),subscriptionSuccess:(0,i.createAuthEndpoint)("/subscription/success",{method:"GET",query:o.record(o.string(),o.any()).optional(),use:[(0,s.o)(e=>e.query.callbackURL)]},async r=>{if(!r.query||!r.query.callbackURL||!r.query.subscriptionId)throw r.redirect(C(r,r.query?.callbackURL||"/"));let i=await (0,u.g)(r);if(!i)throw r.redirect(C(r,r.query?.callbackURL||"/"));let{user:n}=i,{callbackURL:o,subscriptionId:a}=r.query,s=await r.context.adapter.findOne({model:"subscription",where:[{field:"id",value:a}]});if(s?.status==="active"||s?.status==="trialing")return r.redirect(C(r,o));let l=s?.stripeCustomerId||n.stripeCustomerId;if(l)try{let i=await t.subscriptions.list({customer:l,status:"active"}).then(e=>e.data[0]);if(i){let t=await h(e,i.items.data[0]?.price.id,i.items.data[0]?.price.lookup_key);t&&s&&await r.context.adapter.update({model:"subscription",update:{status:i.status,seats:i.items.data[0]?.quantity||1,plan:t.name.toLowerCase(),periodEnd:new Date(i.items.data[0]?.current_period_end*1e3),periodStart:new Date(i.items.data[0]?.current_period_start*1e3),stripeSubscriptionId:i.id,...i.trial_start&&i.trial_end?{trialStart:new Date(1e3*i.trial_start),trialEnd:new Date(1e3*i.trial_end)}:{}},where:[{field:"id",value:s.id}]})}}catch(e){r.context.logger.error("Error fetching subscription from Stripe",e)}throw r.redirect(C(r,o))}),createBillingPortal:(0,i.createAuthEndpoint)("/subscription/billing-portal",{method:"POST",body:o.object({locale:o.custom(e=>"string"==typeof e).optional(),referenceId:o.string().optional(),returnUrl:o.string().default("/")}),use:[a.sessionMiddleware,(0,s.o)(e=>e.body.returnUrl),c("billing-portal")]},async e=>{let{user:r}=e.context.session,i=e.body.referenceId||r.id,n=r.stripeCustomerId;if(!n){let t=await e.context.adapter.findMany({model:"subscription",where:[{field:"referenceId",value:i}]}).then(e=>e.find(e=>"active"===e.status||"trialing"===e.status));n=t?.stripeCustomerId}if(!n)throw new l.APIError("BAD_REQUEST",{message:"No Stripe customer found for this user"});try{let{url:r}=await t.billingPortal.sessions.create({locale:e.body.locale,customer:n,return_url:C(e,e.body.returnUrl)});return e.json({url:r,redirect:!0})}catch(t){throw e.context.logger.error("Error creating billing portal session",t),new l.APIError("BAD_REQUEST",{message:t.message})}})};return{id:"stripe",endpoints:{stripeWebhook:(0,i.createAuthEndpoint)("/stripe/webhook",{method:"POST",metadata:{isAction:!1},cloneRequest:!0,disableBody:!0},async r=>{let i;if(!r.request?.body)throw new l.APIError("INTERNAL_SERVER_ERROR");let n=await r.request.text(),o=r.request.headers.get("stripe-signature"),a=e.stripeWebhookSecret;try{if(!o||!a)throw new l.APIError("BAD_REQUEST",{message:"Stripe webhook secret not found"});i=await t.webhooks.constructEventAsync(n,o,a)}catch(e){throw r.context.logger.error(`${e.message}`),new l.APIError("BAD_REQUEST",{message:`Webhook Error: ${e.message}`})}if(!i)throw new l.APIError("BAD_REQUEST",{message:"Failed to construct event"});try{switch(i.type){case"checkout.session.completed":await g(r,e,i),await e.onEvent?.(i);break;case"customer.subscription.updated":await y(r,e,i),await e.onEvent?.(i);break;case"customer.subscription.deleted":await v(r,e,i),await e.onEvent?.(i);break;default:await e.onEvent?.(i)}}catch(e){throw r.context.logger.error(`Stripe webhook failed. Error: ${e.message}`),new l.APIError("BAD_REQUEST",{message:"Webhook error: See server logs for more information."})}return r.json({success:!0})}),...e.subscription?.enabled?d:{}},init:r=>({options:{databaseHooks:{user:{create:{async after(r,i){if(i&&e.createCustomerOnSignUp){let n={};e.getCustomerCreateParams&&(n=await e.getCustomerCreateParams(r,i));let o=(0,p.defu)({email:r.email,name:r.name,metadata:{userId:r.id}},n),a=await t.customers.create(o);await i.context.internalAdapter.updateUser(r.id,{stripeCustomerId:a.id}),await e.onCustomerCreate?.({stripeCustomer:a,user:{...r,stripeCustomerId:a.id}},i)}}},update:{async after(e,r){if(r)try{let i=e;if(!i.stripeCustomerId)return;let n=await t.customers.retrieve(i.stripeCustomerId);if(n.deleted)return void r.context.logger.warn(`Stripe customer ${i.stripeCustomerId} was deleted, cannot update email`);n.email!==e.email&&(await t.customers.update(i.stripeCustomerId,{email:e.email}),r.context.logger.info(`Updated Stripe customer email from ${n.email} to ${e.email}`))}catch(e){r.context.logger.error(`Failed to sync email to Stripe customer: ${e.message}`,e)}}}}}}}),schema:w(e)}};var R=e.i(405614),P=e.i(392353),D=e.i(254799),U=e.i(427699),L=D;class K{computeHMACSignature(e,t){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw Error("computeSHA256 not implemented.")}}class M extends Error{}class B extends K{computeHMACSignature(e,t){return L.createHmac("sha256",t).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,t){return await this.computeHMACSignature(e,t)}async computeSHA256Async(e){return new Uint8Array(await L.createHash("sha256").update(e).digest())}}var j=e.i(921517),$=e.i(524836);class z{getClientName(){throw Error("getClientName not implemented.")}makeRequest(e,t,r,i,n,o,a,s){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let e=TypeError(z.TIMEOUT_ERROR_CODE);return e.code=z.TIMEOUT_ERROR_CODE,e}}z.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],z.TIMEOUT_ERROR_CODE="ETIMEDOUT";class F{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(e){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}}let q=j.default||j,V=$.default||$,H=new q.Agent({keepAlive:!0}),G=new V.Agent({keepAlive:!0});class W extends z{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,t,r,i,n,o,a,s){let l="http"===a,u=this._agent;return u||(u=l?H:G),new Promise((a,c)=>{let d=(l?q:V).request({host:e,port:t,path:r,method:i,agent:u,headers:n,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});d.setTimeout(s,()=>{d.destroy(z.makeTimeoutError())}),d.on("response",e=>{a(new Z(e))}),d.on("error",e=>{c(e)}),d.once("socket",e=>{e.connecting?e.once(l?"connect":"secureConnect",()=>{d.write(o),d.end()}):(d.write(o),d.end())})})}}class Z extends F{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,t)=>{let r="";this._res.setEncoding("utf8"),this._res.on("data",e=>{r+=e}),this._res.once("end",()=>{try{e(JSON.parse(r))}catch(e){t(e)}})})}}var J=e.i(100126);let Q=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function Y(e){return e&&"object"==typeof e&&Q.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function X(e,t){return J.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString(),arrayFormat:"v2"==t?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}let ee=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,t=>e[t]);return e=>r.replace(/\{([\s\S]+?)\}/g,(t,r)=>{let i=e[r];return et(i)?encodeURIComponent(i):""})}})();function et(e){return["number","string","boolean"].includes(typeof e)}function er(e){let t=e.match(/\{\w+\}/g);return t?t.map(e=>e.replace(/[{}]/g,"")):[]}function ei(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!Y(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(e=>Q.includes(e));return r.length>0&&r.length!==t.length&&ed(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function en(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if("string"==typeof r)t.authenticator=eg(e.pop());else if(Y(r)){let r=Object.assign({},e.pop()),i=Object.keys(r).filter(e=>!Q.includes(e));if(i.length&&ed(`Invalid options found (${i.join(", ")}); ignoring.`),r.apiKey&&(t.authenticator=eg(r.apiKey)),r.idempotencyKey&&(t.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(t.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(t.headers["Stripe-Account"])throw Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(t.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(t.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(t.settings.timeout=r.timeout),r.host&&(t.host=r.host),r.authenticator){if(r.apiKey)throw Error("Can't specify both apiKey and authenticator.");if("function"!=typeof r.authenticator)throw Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=r.authenticator}r.additionalHeaders&&(t.headers=r.additionalHeaders),r.streaming&&(t.streaming=!0)}}return t}function eo(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}function ea(e){if("object"!=typeof e)throw Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(null!=e[r]&&(t[r]=e[r]),t),{})}function es(e){return e&&"object"==typeof e?Object.keys(e).reduce((t,r)=>(t[el(r)]=e[r],t),{}):e}function el(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function eu(e,t){return t?e.then(e=>{setTimeout(()=>{t(null,e)},0)},e=>{setTimeout(()=>{t(e,null)},0)}):e}function ec(e){return"OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)}function ed(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function ep(e){let t=typeof e;return("function"===t||"object"===t)&&!!e}function ef(e){let t={},r=(e,i)=>{Object.entries(e).forEach(([e,n])=>{let o=i?`${i}[${e}]`:e;if(ep(n))if(!(n instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(n,"data"))return r(n,o);else t[o]=n;else t[o]=String(n)})};return r(e,null),t}function eh(e,t,r){if(!Number.isInteger(t))if(void 0!==r)return r;else throw Error(`${e} must be an integer`);return t}function em(){return"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}}function eg(e){let t=t=>(t.headers.Authorization="Bearer "+e,Promise.resolve());return t._apiKey=e,t}function ey(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function ev(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}function eb(e){return JSON.stringify(e,ev)}function eA(e){return e&&e.startsWith("/v2")?"v2":"v1"}function ew(e){return Array.isArray(e)?e.join(", "):String(e)}function e_(e){return Number(Array.isArray(e)?e[0]:e)}function eS(e){return Object.entries(e).map(([e,t])=>[e,ew(t)])}class eE extends z{constructor(e){if(super(),!e){if(!globalThis.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=eE.makeFetchWithAbortTimeout(e):this._fetchFn=eE.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,r,i)=>{let n,o=new Promise((e,t)=>{n=setTimeout(()=>{n=null,t(z.makeTimeoutError())},i)});return Promise.race([e(t,r),o]).finally(()=>{n&&clearTimeout(n)})}}static makeFetchWithAbortTimeout(e){return async(t,r,i)=>{let n=new AbortController,o=setTimeout(()=>{o=null,n.abort(z.makeTimeoutError())},i);try{return await e(t,Object.assign(Object.assign({},r),{signal:n.signal}))}catch(e){if("AbortError"===e.name)throw z.makeTimeoutError();throw e}finally{o&&clearTimeout(o)}}}getClientName(){return"fetch"}async makeRequest(e,t,r,i,n,o,a,s){let l="http"===a,u=new URL(r,`${l?"http":"https"}://${e}`);u.port=t;let c="POST"==i||"PUT"==i||"PATCH"==i,d=o||(c?"":void 0);return new eT(await this._fetchFn(u.toString(),{method:i,headers:eS(n),body:d},s))}}class eT extends F{constructor(e){super(e.status,eT._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let t={};for(let r of e){if(!Array.isArray(r)||2!=r.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[r[0]]=r[1]}return t}}class eI extends K{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new M("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){let r=new TextEncoder,i=await this.subtleCrypto.importKey("raw",r.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=new Uint8Array(await this.subtleCrypto.sign("hmac",i,r.encode(e))),o=Array(n.length);for(let e=0;e<n.length;e++)o[e]=ex[n[e]];return o.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}let ex=Array(256);for(let e=0;e<ex.length;e++)ex[e]=e.toString(16).padStart(2,"0");class eO{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}secureCompare(e,t){if(e.length!==t.length)return!1;let r=e.length,i=0;for(let n=0;n<r;++n)i|=e.charCodeAt(n)^t.charCodeAt(n);return 0===i}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(e){throw Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new eE(e)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new eI(e)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}}let eC=e=>{switch(e.type){case"card_error":return new eR(e);case"invalid_request_error":return new eP(e);case"api_error":return new eD(e);case"authentication_error":return new eU(e);case"rate_limit_error":return new eK(e);case"idempotency_error":return new ej(e);case"invalid_grant":return new e$(e);default:return new ez(e)}},ek=e=>"temporary_session_expired"===e.type?new eF(e):"invalid_fields"===e.code?new eP(e):eC(e);class eN extends Error{constructor(e={},t=null){var r;super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=null!=(r=e.message)?r:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}eN.generate=eC;class eR extends eN{constructor(e={}){super(e,"StripeCardError")}}class eP extends eN{constructor(e={}){super(e,"StripeInvalidRequestError")}}class eD extends eN{constructor(e={}){super(e,"StripeAPIError")}}class eU extends eN{constructor(e={}){super(e,"StripeAuthenticationError")}}class eL extends eN{constructor(e={}){super(e,"StripePermissionError")}}class eK extends eN{constructor(e={}){super(e,"StripeRateLimitError")}}class eM extends eN{constructor(e={}){super(e,"StripeConnectionError")}}class eB extends eN{constructor(e,t,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=t}}class ej extends eN{constructor(e={}){super(e,"StripeIdempotencyError")}}class e$ extends eN{constructor(e={}){super(e,"StripeInvalidGrantError")}}class ez extends eN{constructor(e={}){super(e,"StripeUnknownError")}}class eF extends eN{constructor(e={}){super(e,"TemporarySessionExpiredError")}}e.s(["StripeAPIError",()=>eD,"StripeAuthenticationError",()=>eU,"StripeCardError",()=>eR,"StripeConnectionError",()=>eM,"StripeError",()=>eN,"StripeIdempotencyError",()=>ej,"StripeInvalidGrantError",()=>e$,"StripeInvalidRequestError",()=>eP,"StripePermissionError",()=>eL,"StripeRateLimitError",()=>eK,"StripeSignatureVerificationError",()=>eB,"StripeUnknownError",()=>ez,"TemporarySessionExpiredError",()=>eF,"generateV1Error",0,eC,"generateV2Error",0,ek],472894);var eq=e.i(233405);class eV extends eN{}class eH extends eO{constructor(){super(),this._exec=eq.exec,this._UNAME_CACHE=null}uuid4(){return D.randomUUID?D.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,t)=>{try{this._exec("uname -a",(t,r)=>{if(t)return e(null);e(r)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(e,t){if(!e||!t)throw Error("secureCompare must receive two arguments");if(e.length!==t.length)return!1;if(D.timingSafeEqual){let r=new TextEncoder,i=r.encode(e),n=r.encode(t);return D.timingSafeEqual(i,n)}return super.secureCompare(e,t)}createEmitter(){return new U.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof U.EventEmitter))return Promise.resolve(e);let t=[];return new Promise((r,i)=>{e.file.data.on("data",e=>{t.push(e)}).once("end",()=>{let i=Object.assign({},e);i.file.data=ey(t),r(i)}).on("error",e=>{i(new eV({message:"An error occurred while attempting to process the file for upload.",detail:e}))})})}createNodeHttpClient(e){return new W(e)}createDefaultHttpClient(){return new W}createNodeCryptoProvider(){return new B}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}}var eG=e.i(472894);let eW=60;class eZ{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_normalizeStripeContext(e,t){return e?e.toString()||null:(null==t?void 0:t.toString())||null}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,r){let i=Date.now(),n=i-e.request_start_time;return ea({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(r),elapsed:n,request_start_time:e.request_start_time,request_end_time:i})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,r){return i=>{let n=i.getHeaders(),o=()=>{let r=this._makeResponseEvent(e,i.getStatusCode(),n);this._stripe._emitter.emit("response",r),this._recordRequestMetrics(this._getRequestId(n),r.elapsed,t)},a=i.toStream(o);return this._addHeadersDirectlyToObject(a,n),r(null,a)}}_jsonResponseHandler(e,t,r,i){return n=>{let o=n.getHeaders(),a=this._getRequestId(o),s=n.getStatusCode(),l=this._makeResponseEvent(e,s,o);this._stripe._emitter.emit("response",l),n.toJSON().then(e=>{if(e.error){let r;throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=o,e.error.statusCode=s,e.error.requestId=a,r=401===s?new eU(e.error):403===s?new eL(e.error):429===s?new eK(e.error):"v2"===t?ek(e.error):eC(e.error)}return e},e=>{throw new eD({message:"Invalid JSON received from the Stripe API",exception:e,requestId:o["request-id"]})}).then(e=>{this._recordRequestMetrics(a,l.elapsed,r);let t=n.getRawResponse();this._addHeadersDirectlyToObject(t,o),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:t}),i(null,e)},e=>i(e,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,t,r,i){return!!(i&&0===t&&z.CONNECTION_CLOSED_ERROR_CODES.includes(i.code))||!(t>=r)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&!!("true"===e.getHeaders()["stripe-should-retry"]||409===e.getStatusCode()||e.getStatusCode()>=500))}_getSleepTimeInMS(e,t=null){let r=this._stripe.getInitialNetworkRetryDelay(),i=Math.min(r*Math.pow(2,e-1),this._stripe.getMaxNetworkRetryDelay());return i*=.5*(1+Math.random()),i=Math.max(r,i),Number.isInteger(t)&&t<=eW&&(i=Math.max(i,t)),1e3*i}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t,r){let i=this._getMaxNetworkRetries(t),n=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===r){if("POST"===e||"DELETE"===e)return n()}else if("v1"===r&&"POST"===e&&i>0)return n();return null}_makeHeaders({contentType:e,contentLength:t,apiVersion:r,clientUserAgent:i,method:n,userSuppliedHeaders:o,userSuppliedSettings:a,stripeAccount:s,stripeContext:l,apiMode:u}){let c={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(u),"X-Stripe-Client-User-Agent":i,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":s,"Stripe-Context":l,"Idempotency-Key":this._defaultIdempotencyKey(n,a,u)},d="POST"==n||"PUT"==n||"PATCH"==n;return(d||t)&&(d||ed(`${n} method had non-zero contentLength but no payload is expected for this verb`),c["Content-Length"]=t),Object.assign(ea(c),es(o))}_getUserAgentString(e){let t=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${t} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0)return JSON.stringify({last_request_metrics:this._stripe._prevRequestMetrics.shift()})}_recordRequestMetrics(e,t,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)ed("Request metrics buffer is full, dropping telemetry message.");else{let i={request_id:e,request_duration_ms:t};r&&r.length>0&&(i.usage=r),this._stripe._prevRequestMetrics.push(i)}}_rawRequest(e,t,r,i,n){return new Promise((o,a)=>{let s;try{let o=e.toUpperCase();if("POST"!==o&&r&&0!==Object.keys(r).length)throw Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let a=[].slice.call([r,i]),l=ei(a),u="POST"===o?Object.assign({},l):null,c=en(a),d=c.headers,p=c.authenticator;s={requestMethod:o,requestPath:t,bodyData:u,queryData:{},authenticator:p,headers:d,host:c.host,streaming:!!c.streaming,settings:{},usage:n||["raw_request"]}}catch(e){a(e);return}function l(e,t){e?a(e):o(t)}let{headers:u,settings:c}=s,d=s.authenticator;this._request(s.requestMethod,s.host,t,s.bodyData,d,{headers:u,settings:c,streaming:s.streaming},s.usage,l)})}_request(e,t,r,i,n,o,a=[],s,l=null){var u;let c;n=null!=(u=null!=n?n:this._stripe._authenticator)?u:null;let d=eA(r),p=(e,t,r,i,n)=>setTimeout(e,this._getSleepTimeInMS(i,n),t,r,i+1),f=(i,l,u)=>{let h=o.settings&&o.settings.timeout&&Number.isInteger(o.settings.timeout)&&o.settings.timeout>=0?o.settings.timeout:this._stripe.getApiField("timeout"),m={host:t||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},l),body:c,protocol:this._stripe.getApiField("protocol")};n(m).then(()=>{let t=this._stripe.getApiField("httpClient").makeRequest(m.host,m.port,m.path,m.method,m.headers,m.body,m.protocol,h),n=Date.now(),c=ea({api_version:i,account:ew(l["Stripe-Account"]),idempotency_key:ew(l["Idempotency-Key"]),method:e,path:r,request_start_time:n}),g=u||0,y=this._getMaxNetworkRetries(o.settings||{});this._stripe._emitter.emit("request",c),t.then(e=>eZ._shouldRetry(e,g,y)?p(f,i,l,g,e_(e.getHeaders()["retry-after"])):o.streaming&&400>e.getStatusCode()?this._streamingResponseHandler(c,a,s)(e):this._jsonResponseHandler(c,d,a,s)(e)).catch(e=>eZ._shouldRetry(null,g,y,e)?p(f,i,l,g,null):s(new eM({message:e.code&&e.code===z.TIMEOUT_ERROR_CODE?`Request aborted due to timeout being reached (${h}ms)`:eZ._generateConnectionErrorMessage(g),detail:e})))}).catch(e=>{throw new eN({message:"Unable to authenticate the request",exception:e})})},h=(t,r)=>{if(t)return s(t);c=r,this._stripe.getClientUserAgent(t=>{var r,i,n;let a=this._stripe.getApiField("version"),s=this._makeHeaders({contentType:"v2"==d?"application/json":"application/x-www-form-urlencoded",contentLength:c.length,apiVersion:a,clientUserAgent:t,method:e,userSuppliedHeaders:null!=(r=o.headers)?r:null,userSuppliedSettings:null!=(i=o.settings)?i:{},stripeAccount:null!=(n=o.stripeAccount)?n:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(o.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:d});f(a,s,0)})};if(l)l(e,i,o.headers,h);else{let e;h(null,e="v2"==d?i?eb(i):"":X(i||{},d))}}}class eJ{constructor(e,t,r,i){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=r,this.stripeResource=i}async iterate(e){if(!(e&&e.data&&"number"==typeof e.data.length))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let t=e7(this.requestArgs);if(this.index<e.data.length){let r=t?e.data.length-1-this.index:this.index,i=e.data[r];return this.index+=1,{value:i,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}}class eQ extends eJ{getNextPage(e){let t=e7(this.requestArgs),r=e5(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:r})}}class eY extends eJ{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class eX{constructor(e,t,r,i){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=t,this.spec=r,this.stripeResource=i}async turnPage(){let e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;let t=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(t.next_page_url),this.currentPageIterator=Promise.resolve(t.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let e=(await this.currentPageIterator).next();if(!e.done)return{done:!1,value:e.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let t=e.next();return t.done?{done:!0,value:void 0}:{done:!1,value:t.value}}}let e0=(e,t,r,i)=>{let n=eA(r.fullPath||r.path);return"v2"!==n&&"search"===r.methodType?e1(new eY(i,t,r,e)):"v2"!==n&&"list"===r.methodType?e1(new eQ(i,t,r,e)):"v2"===n&&"list"===r.methodType?e1(new eX(i,t,r,e)):null},e1=e=>{let t=e6((...t)=>e.next(...t)),r=e8(t),i={autoPagingEach:t,autoPagingToArray:r,next:()=>e.next(),return:()=>({}),[e2()]:()=>i};return i};function e2(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function e4(e){if(e.length<2)return null;let t=e[1];if("function"!=typeof t)throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}function e3(e){if(0===e.length)return;let t=e[0];if("function"!=typeof t)throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,r){r(t(e))}}function e5(e,t){let r=t?0:e.data.length-1,i=e.data[r],n=i&&i.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}function e6(e){return function(){let t=[].slice.call(arguments),r=e3(t),i=e4(t);if(t.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${t}`);return eu(e9(e,r),i)}}function e8(e){return function(t,r){let i=t&&t.limit;if(!i)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(i>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return eu(new Promise((t,r)=>{let n=[];e(e=>{if(n.push(e),n.length>=i)return!1}).then(()=>{t(n)}).catch(r)}),r)}}function e9(e,t){return new Promise((r,i)=>{function n(i){if(i.done)return void r();let o=i.value;return new Promise(e=>{t(o,e)}).then(t=>!1===t?n({done:!0,value:void 0}):e().then(n))}e().then(n).catch(i)})}function e7(e){return!!ei([].slice.call(e)).ending_before}function te(e){if(void 0!==e.path&&void 0!==e.fullPath)throw Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r="function"==typeof t[t.length-1]&&t.pop();e.urlParams=er(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let i=eu(this._makeRequest(t,e,{}),r);return Object.assign(i,e0(this,t,e,i)),i}}function tt(e,t){if(this._stripe=e,t)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=ee(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=ee(this.path),this.initialize(...arguments)}tt.extend=eo,tt.method=te,tt.MAX_BUFFERED_REQUEST_METRICS=100,tt.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if("function"==typeof e){let i=e(t);i&&r.push(i)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,r){var i;let n=(t.method||"GET").toUpperCase(),o=t.usage||[],a=t.urlParams||[],s=t.encode||(e=>e),l=!!t.fullPath,u=ee(l?t.fullPath:t.path||""),c=l?t.fullPath:this.createResourcePathWithSymbols(t.path),d=[].slice.call(e),p=a.reduce((e,t)=>{let r=d.shift();if("string"!=typeof r)throw Error(`Stripe: Argument "${t}" must be a string, but got: ${r} (on API request to \`${n} ${c}\`)`);return e[t]=r,e},{}),f=s(Object.assign({},ei(d),r)),h=en(d),m=h.host||t.host,g=!!t.streaming||!!h.streaming;if(d.filter(e=>null!=e).length)throw Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${c}\`)`);let y=l?u(p):this.createFullPath(u,p),v=Object.assign(h.headers,t.headers);t.validator&&t.validator(f,{headers:v});let b="GET"===t.method||"DELETE"===t.method;return{requestMethod:n,requestPath:y,bodyData:b?null:f,queryData:b?f:{},authenticator:null!=(i=h.authenticator)?i:null,headers:v,host:null!=m?m:null,streaming:g,settings:h.settings,usage:o}},_makeRequest(e,t,r){return new Promise((i,n)=>{var o;let a;try{a=this._getRequestOpts(e,t,r)}catch(e){n(e);return}function s(e,r){e?n(e):i(t.transformResponseData?t.transformResponseData(r):r)}let l=0===Object.keys(a.queryData).length,u=[a.requestPath,l?"":"?",X(a.queryData,eA(a.requestPath))].join(""),{headers:c,settings:d}=a;this._stripe._requestSender._request(a.requestMethod,a.host,u,a.bodyData,a.authenticator,{headers:c,settings:d,streaming:a.streaming},a.usage,s,null==(o=this.requestDataProcessor)?void 0:o.bind(this))})}};class tr{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw Error("Segment cannot be null or undefined");return new tr([...this._segments,e])}pop(){if(0===this._segments.length)throw Error("Cannot pop from an empty context");return new tr(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return new tr(e?e.split("/"):[])}}function ti(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,r,i,n,o,a){try{if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(e,r,i,n||t.DEFAULT_TOLERANCE,o,a)}catch(e){throw e instanceof M&&(e.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),e}return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},async constructEventAsync(e,r,i,n,o,a){if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(e,r,i,n||t.DEFAULT_TOLERANCE,o,a),e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},generateTestHeaderString:function(e){let t=u(e),r=t.signature||t.cryptoProvider.computeHMACSignature(t.payloadString,t.secret);return t.generateHeaderString(r)},generateTestHeaderStringAsync:async function(e){let t=u(e),r=t.signature||await t.cryptoProvider.computeHMACSignatureAsync(t.payloadString,t.secret);return t.generateHeaderString(r)}},r={EXPECTED_SCHEME:"v1",verifyHeader(e,t,r,a,s,u){let{decodedHeader:c,decodedPayload:d,details:p,suspectPayloadType:f}=n(e,t,this.EXPECTED_SCHEME),h=/\s/.test(r),m=(s=s||l()).computeHMACSignature(i(d,p),r);return o(d,c,p,m,a,f,h,u),!0},async verifyHeaderAsync(e,t,r,a,s,u){let{decodedHeader:c,decodedPayload:d,details:p,suspectPayloadType:f}=n(e,t,this.EXPECTED_SCHEME),h=/\s/.test(r);s=s||l();let m=await s.computeHMACSignatureAsync(i(d,p),r);return o(d,c,p,m,a,f,h,u)}};function i(e,t){return`${t.timestamp}.${e}`}function n(e,t,r){if(!e)throw new eB(t,e,{message:"No webhook payload was provided."});let i="string"!=typeof e&&!(e instanceof Uint8Array),n=new TextDecoder("utf8"),o=e instanceof Uint8Array?n.decode(e):e;if(Array.isArray(t))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new eB(t,e,{message:"No stripe-signature header value was provided."});let s=t instanceof Uint8Array?n.decode(t):t,l=a(s,r);if(!l||-1===l.timestamp)throw new eB(s,o,{message:"Unable to extract timestamp and signatures from header"});if(!l.signatures.length)throw new eB(s,o,{message:"No signatures found with expected scheme"});return{decodedPayload:o,decodedHeader:s,details:l,suspectPayloadType:i}}function o(t,r,i,n,o,a,s,l){let u=!!i.signatures.filter(e.secureCompare.bind(e,n)).length,c="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",d=s?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!u){if(a)throw new eB(r,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+c+"\n"+d});throw new eB(r,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+c+"\n"+d})}let p=Math.floor(("number"==typeof l?l:Date.now())/1e3)-i.timestamp;if(o>0&&p>o)throw new eB(r,t,{message:"Timestamp outside the tolerance zone"});return!0}function a(e,t){return"string"!=typeof e?null:e.split(",").reduce((e,r)=>{let i=r.split("=");return"t"===i[0]&&(e.timestamp=parseInt(i[1],10)),i[0]===t&&e.signatures.push(i[1]),e},{timestamp:-1,signatures:[]})}let s=null;function l(){return s||(s=e.createDefaultCryptoProvider()),s}function u(e){if(!e)throw new eN({message:"Options are required"});let t=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),i=e.scheme||r.EXPECTED_SCHEME,n=e.cryptoProvider||l(),o=`${t}.${e.payload}`,a=e=>`t=${t},${i}=${e}`;return Object.assign(Object.assign({},e),{timestamp:t,scheme:i,cryptoProvider:n,payloadString:o,generateHeaderString:a})}return t.signature=r,t}let tn="2025-09-30.clover";function to(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let i=r[0].toLowerCase()+r.substring(1),n=new t[r](e);this[i]=n}}function ta(e,t){return function(e){return new to(e,t)}}let ts=tt.method,tl=tt.extend({retrieve:ts({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:ts({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:ts({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:ts({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:ts({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:ts({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:ts({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),tu=tt.method,tc=tt.extend({retrieve:tu({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:tu({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),td=tt.method,tp=tt.extend({create:td({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:td({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:td({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:td({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:td({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:td({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),tf=tt.method,th=tt.extend({retrieve:tf({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:tf({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:tf({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:tf({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:tf({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),tm=tt.method,tg=tt.extend({create:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:tm({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),ty=tt.method,tv=tt.extend({create:ty({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:ty({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:ty({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),tb=tt.method,tA=tt.extend({create:tb({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:tb({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:tb({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:tb({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),tw=tt.method,t_=tt.extend({create:tw({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:tw({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:tw({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:tw({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),tS=tt.method,tE=tt.extend({deliverCard:tS({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:tS({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:tS({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:tS({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:tS({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),tT=tt.method,tI=tt.extend({create:tT({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:tT({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:tT({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:tT({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),tx=tt.method,tO=tt.extend({create:tx({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:tx({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:tx({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:tx({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:tx({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),tC=tt.method,tk=tt.extend({create:tC({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),tN=tt.method,tR=tt.extend({create:tN({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),tP=tt.method,tD=tt.extend({retrieve:tP({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),tU=tt.method,tL=tt.extend({retrieve:tU({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:tU({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),tK=tt.method,tM=tt.extend({create:tK({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:tK({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:tK({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:tK({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:tK({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:tK({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),tB=tt.method,tj=tt.extend({create:tB({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:tB({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:tB({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),t$=tt.method,tz=tt.extend({fundCashBalance:t$({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),tF=tt.method,tq=tt.extend({create:tF({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:tF({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:tF({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),tV=tt.method,tH=tt.extend({create:tV({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:tV({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:tV({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:tV({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:tV({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),tG=tt.method,tW=tt.extend({retrieve:tG({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:tG({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),tZ=tt.method,tJ=tt.extend({create:tZ({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:tZ({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:tZ({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:tZ({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:tZ({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:tZ({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:tZ({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:tZ({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),tQ=tt.method,tY=tt.extend({retrieve(...e){return tQ({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,e)},list(...e){return tQ({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return e.related_object&&e.related_object.url?Object.assign(Object.assign({},e),{fetchRelatedObject:()=>tQ({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}])}):e}}),tX=tt.method,t0=tt.extend({create:tX({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:tX({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:tX({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:tX({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),t1=tt.method,t2=tt.extend({create:t1({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:t1({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:t1({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:t1({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:t1({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:t1({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:t1({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),t4=tt.method,t3=tt.extend({fail:t4({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:t4({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:t4({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),t5=tt.method,t6=tt.extend({create:t5({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:t5({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:t5({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:t5({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),t8=tt.method,t9=tt.extend({create:t8({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:t8({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:t8({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:t8({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:t8({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),t7=tt.method,re=tt.extend({create:t7({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),rt=tt.method,rr=tt.extend({create:rt({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),ri=tt.method,rn=tt.extend({create:ri({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),ro=tt.method,ra=tt.extend({create:ro({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),rs=tt.method,rl=tt.extend({create:rs({method:"POST",fullPath:"/v1/billing/meter_events"})}),ru=tt.method,rc=tt.extend({create:ru({method:"POST",fullPath:"/v2/billing/meter_events"})}),rd=tt.method,rp=tt.extend({create:rd({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:rd({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:rd({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:rd({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:rd({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:rd({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:rd({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),rf=tt.method,rh=tt.extend({create:rf({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:rf({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:rf({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:rf({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:rf({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),rm=tt.method,rg=tt.extend({update:rm({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:rm({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:rm({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:rm({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),ry=tt.method,rv=tt.extend({create:ry({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:ry({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:ry({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:ry({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),rb=tt.method,rA=tt.extend({update:rb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:rb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:rb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:rb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),rw=tt.method,r_=tt.extend({create:rw({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:rw({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:rw({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:rw({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),rS=tt.method,rE=tt.extend({create:rS({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:rS({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:rS({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:rS({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),rT=tt.method,rI=tt.extend({activate:rT({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:rT({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:rT({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),rx=tt.method,rO=tt.extend({retrieve:rx({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:rx({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),rC=tt.method,rk=tt.extend({retrieve:rC({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:rC({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),rN=tt.method,rR=tt.extend({create:rN({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:rN({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:rN({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:rN({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:rN({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),rP=tt.method,rD=tt.extend({presentPaymentMethod:rP({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:rP({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:rP({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),rU=tt.method,rL=tt.extend({create:rU({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),rK=tt.method,rM=tt.extend({retrieve:rK({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:rK({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),rB=tt.method,rj=tt.extend({create:rB({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),r$=tt.method,rz=tt.extend({retrieve:r$({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:r$({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),rF=tt.method,rq=tt.extend({expire:rF({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),rV=tt.method,rH=tt.extend({create:rV({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:rV({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:rV({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:rV({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),rG=tt.method,rW=tt.extend({create:rG({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:rG({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:rG({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),rZ=tt.method,rJ=tt.extend({retrieve:rZ({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:rZ({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),rQ=tt.method,rY=tt.extend({create:rQ({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:rQ({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:rQ({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),rX=tt.method,r0=tt.extend({retrieve:rX({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:rX({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),r1=tt.method,r2=tt.extend({create:r1({method:"POST",fullPath:"/v1/apps/secrets"}),list:r1({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:r1({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:r1({method:"GET",fullPath:"/v1/apps/secrets/find"})}),r4=tt.method,r3=tt.extend({create:r4({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),r5=tt.method,r6=tt.extend({create:r5({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:r5({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:r5({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:r5({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:r5({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:r5({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),r8=tt.method,r9=tt.extend({create:r8({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:r8({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),r7=tt.method,ie=tt.extend({retrieve:r7({method:"GET",fullPath:"/v1/tax/settings"}),update:r7({method:"POST",fullPath:"/v1/tax/settings"})}),it=tt.method,ir=tt.extend({retrieve:it({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:it({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),ii=tt.method,io=tt.extend({create:ii({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:ii({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:ii({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:ii({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:ii({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),ia=tt.method,is=tt.extend({retrieve:ia({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:ia({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:ia({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),il=tt.method,iu=tt.extend({retrieve:il({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:il({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),ic=tt.method,id=tt.extend({retrieve:ic({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:ic({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),ip=tt.method,ih=tt.extend({retrieve:ip({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:ip({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:ip({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),im=tt.method,ig=tt.extend({retrieve:im({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:im({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:im({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:im({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),iy=tt.method,iv=tt.extend({createForceCapture:iy({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:iy({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:iy({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),ib=tt.method,iA=tt.extend({retrieve:ib({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:ib({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),iw=tt.method,i_=tt.extend({create:iw({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:iw({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:iw({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:iw({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),iS=tt.method,iE=tt.extend({create:iS({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:iS({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:iS({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:iS({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:iS({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),iT=tt.method,iI=tt.extend({retrieve:iT({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:iT({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),ix=tt.method,iO=tt.extend({create:ix({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:ix({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:ix({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:ix({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:ix({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:ix({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),iC=tt.method,ik=tt.extend({create:iC({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?iC({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),iC({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:iC({method:"POST",fullPath:"/v1/accounts/{account}"}),list:iC({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:iC({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:iC({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:iC({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:iC({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:iC({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:iC({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:iC({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:iC({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:iC({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:iC({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:iC({method:"GET",fullPath:"/v1/account"}),retrieveCapability:iC({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:iC({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:iC({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:iC({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:iC({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:iC({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),iN=tt.method,iR=tt.extend({create:iN({method:"POST",fullPath:"/v1/account_links"})}),iP=tt.method,iD=tt.extend({create:iP({method:"POST",fullPath:"/v1/account_sessions"})}),iU=tt.method,iL=tt.extend({create:iU({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:iU({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:iU({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:iU({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),iK=tt.method,iM=tt.extend({retrieve:iK({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:iK({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:iK({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:iK({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:iK({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:iK({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),iB=tt.method,ij=tt.extend({retrieve:iB({method:"GET",fullPath:"/v1/balance"})}),i$=tt.method,iz=tt.extend({retrieve:i$({method:"GET",fullPath:"/v1/balance_settings"}),update:i$({method:"POST",fullPath:"/v1/balance_settings"})}),iF=tt.method,iq=tt.extend({retrieve:iF({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:iF({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),iV=tt.method,iH=tt.extend({create:iV({method:"POST",fullPath:"/v1/charges"}),retrieve:iV({method:"GET",fullPath:"/v1/charges/{charge}"}),update:iV({method:"POST",fullPath:"/v1/charges/{charge}"}),list:iV({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:iV({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:iV({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),iG=tt.method,iW=tt.extend({retrieve:iG({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),iZ=tt.method,iJ=tt.extend({retrieve:iZ({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:iZ({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),iQ=tt.method,iY=tt.extend({create:iQ({method:"POST",fullPath:"/v1/coupons"}),retrieve:iQ({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:iQ({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:iQ({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:iQ({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),iX=tt.method,i0=tt.extend({create:iX({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:iX({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:iX({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:iX({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:iX({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:iX({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:iX({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:iX({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),i1=tt.method,i2=tt.extend({create:i1({method:"POST",fullPath:"/v1/customer_sessions"})}),i4=tt.method,i3=tt.extend({create:i4({method:"POST",fullPath:"/v1/customers"}),retrieve:i4({method:"GET",fullPath:"/v1/customers/{customer}"}),update:i4({method:"POST",fullPath:"/v1/customers/{customer}"}),list:i4({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:i4({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:i4({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:i4({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:i4({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:i4({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:i4({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:i4({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:i4({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:i4({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:i4({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:i4({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:i4({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:i4({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:i4({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:i4({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:i4({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:i4({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:i4({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:i4({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:i4({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:i4({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:i4({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:i4({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:i4({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),i5=tt.method,i6=tt.extend({retrieve:i5({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:i5({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:i5({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:i5({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),i8=tt.method,i9=tt.extend({create:i8({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:i8({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),i7=tt.method,ne=tt.extend({retrieve:i7({method:"GET",fullPath:"/v1/events/{id}"}),list:i7({method:"GET",fullPath:"/v1/events",methodType:"list"})}),nt=tt.method,nr=tt.extend({retrieve:nt({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:nt({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),ni=tt.method,nn=tt.extend({create:ni({method:"POST",fullPath:"/v1/file_links"}),retrieve:ni({method:"GET",fullPath:"/v1/file_links/{link}"}),update:ni({method:"POST",fullPath:"/v1/file_links/{link}"}),list:ni({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),no=(e,t,r)=>{let i=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]=`multipart/form-data; boundary=${i}`;let n=new TextEncoder,o=new Uint8Array(0),a=n.encode("\r\n");function s(e){let t=o,r=e instanceof Uint8Array?e:new Uint8Array(n.encode(e));(o=new Uint8Array(t.length+r.length+2)).set(t),o.set(r,t.length),o.set(a,o.length-2)}function l(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let u=ef(t);for(let e in u){if(!Object.prototype.hasOwnProperty.call(u,e))continue;let t=u[e];if(s(`--${i}`),Object.prototype.hasOwnProperty.call(t,"data")){let r=t;s(`Content-Disposition: form-data; name=${l(e)}; filename=${l(r.name||"blob")}`),s(`Content-Type: ${r.type||"application/octet-stream"}`),s(""),s(r.data)}else s(`Content-Disposition: form-data; name=${l(e)}`),s(""),s(t)}return s(`--${i}--`),o};function na(e,t,r,i){if(t=t||{},"POST"!==e)return i(null,X(t));this._stripe._platformFunctions.tryBufferData(t).then(t=>i(null,no(e,t,r))).catch(e=>i(e,null))}let ns=tt.method,nl=tt.extend({create:ns({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:ns({method:"GET",fullPath:"/v1/files/{file}"}),list:ns({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:na}),nu=tt.method,nc=tt.extend({create:nu({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:nu({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:nu({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:nu({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:nu({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),nd=tt.method,np=tt.extend({retrieve:nd({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:nd({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),nf=tt.method,nh=tt.extend({retrieve:nf({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:nf({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:nf({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:nf({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),nm=tt.method,ng=tt.extend({create:nm({method:"POST",fullPath:"/v1/invoices"}),retrieve:nm({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:nm({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:nm({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:nm({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:nm({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:nm({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:nm({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:nm({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),ny=tt.method,nv=tt.extend({retrieve:ny({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),nb=tt.method,nA="connect.stripe.com",nw=tt.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let r="oauth/authorize";return(t=t||{}).express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${nA}/${r}?${X(e)}`},token:nb({method:"POST",path:"oauth/token",host:nA}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),nb({method:"POST",path:"oauth/deauthorize",host:nA}).apply(this,[e,...t])}}),n_=tt.method,nS=tt.extend({create:n_({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:n_({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:n_({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:n_({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:n_({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),nE=tt.method,nT=tt.extend({create:nE({method:"POST",fullPath:"/v1/payment_links"}),retrieve:nE({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:nE({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:nE({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:nE({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),nI=tt.method,nx=tt.extend({create:nI({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:nI({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:nI({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:nI({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),nO=tt.method,nC=tt.extend({create:nO({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:nO({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:nO({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:nO({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:nO({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),nk=tt.method,nN=tt.extend({create:nk({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:nk({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:nk({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:nk({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:nk({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:nk({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),nR=tt.method,nP=tt.extend({create:nR({method:"POST",fullPath:"/v1/payouts"}),retrieve:nR({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:nR({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:nR({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:nR({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:nR({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),nD=tt.method,nU=tt.extend({create:nD({method:"POST",fullPath:"/v1/plans"}),retrieve:nD({method:"GET",fullPath:"/v1/plans/{plan}"}),update:nD({method:"POST",fullPath:"/v1/plans/{plan}"}),list:nD({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:nD({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),nL=tt.method,nK=tt.extend({create:nL({method:"POST",fullPath:"/v1/prices"}),retrieve:nL({method:"GET",fullPath:"/v1/prices/{price}"}),update:nL({method:"POST",fullPath:"/v1/prices/{price}"}),list:nL({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:nL({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),nM=tt.method,nB=tt.extend({create:nM({method:"POST",fullPath:"/v1/products"}),retrieve:nM({method:"GET",fullPath:"/v1/products/{id}"}),update:nM({method:"POST",fullPath:"/v1/products/{id}"}),list:nM({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:nM({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:nM({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:nM({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:nM({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:nM({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:nM({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),nj=tt.method,n$=tt.extend({create:nj({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:nj({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:nj({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:nj({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),nz=tt.method,nF=tt.extend({create:nz({method:"POST",fullPath:"/v1/quotes"}),retrieve:nz({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:nz({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:nz({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:nz({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:nz({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:nz({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:nz({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:nz({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:nz({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),nq=tt.method,nV=tt.extend({create:nq({method:"POST",fullPath:"/v1/refunds"}),retrieve:nq({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:nq({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:nq({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:nq({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),nH=tt.method,nG=tt.extend({retrieve:nH({method:"GET",fullPath:"/v1/reviews/{review}"}),list:nH({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:nH({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),nW=tt.method,nZ=tt.extend({list:nW({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),nJ=tt.method,nQ=tt.extend({create:nJ({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:nJ({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:nJ({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:nJ({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:nJ({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:nJ({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:nJ({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),nY=tt.method,nX=tt.extend({create:nY({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:nY({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:nY({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:nY({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),n0=tt.method,n1=tt.extend({create:n0({method:"POST",fullPath:"/v1/sources"}),retrieve:n0({method:"GET",fullPath:"/v1/sources/{source}"}),update:n0({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:n0({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:n0({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),n2=tt.method,n4=tt.extend({create:n2({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:n2({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:n2({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:n2({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:n2({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),n3=tt.method,n5=tt.extend({create:n3({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:n3({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:n3({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:n3({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:n3({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:n3({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),n6=tt.method,n8=tt.extend({create:n6({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:n6({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:n6({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:n6({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:n6({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:n6({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:n6({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:n6({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:n6({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),n9=tt.method,n7=tt.extend({retrieve:n9({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:n9({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),oe=tt.method,ot=tt.extend({create:oe({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:oe({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:oe({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:oe({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),or=tt.method,oi=tt.extend({create:or({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:or({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:or({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:or({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),on=tt.method,oo=tt.extend({create:on({method:"POST",fullPath:"/v1/tokens"}),retrieve:on({method:"GET",fullPath:"/v1/tokens/{token}"})}),oa=tt.method,os=tt.extend({create:oa({method:"POST",fullPath:"/v1/topups"}),retrieve:oa({method:"GET",fullPath:"/v1/topups/{topup}"}),update:oa({method:"POST",fullPath:"/v1/topups/{topup}"}),list:oa({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:oa({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),ol=tt.method,ou=tt.extend({create:ol({method:"POST",fullPath:"/v1/transfers"}),retrieve:ol({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:ol({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:ol({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:ol({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:ol({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:ol({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:ol({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),oc=tt.method,od=tt.extend({create:oc({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:oc({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:oc({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:oc({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:oc({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),op=ta("apps",{Secrets:r2}),of=ta("billing",{Alerts:tp,CreditBalanceSummary:tD,CreditBalanceTransactions:tL,CreditGrants:tM,MeterEventAdjustments:re,MeterEvents:rl,Meters:rp}),oh=ta("billingPortal",{Configurations:tI,Sessions:r3}),om=ta("checkout",{Sessions:r6}),og=ta("climate",{Orders:rh,Products:rk,Suppliers:ir}),oy=ta("entitlements",{ActiveEntitlements:tc,Features:t0}),ov=ta("financialConnections",{Accounts:tl,Sessions:r9,Transactions:id}),ob=ta("forwarding",{Requests:rY}),oA=ta("identity",{VerificationReports:iI,VerificationSessions:iO}),ow=ta("issuing",{Authorizations:th,Cardholders:tA,Cards:t_,Disputes:tH,PersonalizationDesigns:rE,PhysicalBundles:rO,Tokens:is,Transactions:ih}),o_=ta("radar",{EarlyFraudWarnings:tW,ValueListItems:i_,ValueLists:iE}),oS=ta("reporting",{ReportRuns:rW,ReportTypes:rJ}),oE=ta("sigma",{ScheduledQueryRuns:r0}),oT=ta("tax",{Calculations:tv,Registrations:rH,Settings:ie,Transactions:ig}),oI=ta("terminal",{Configurations:tO,ConnectionTokens:tR,Locations:t9,Readers:rR}),ox=ta("testHelpers",{ConfirmationTokens:tk,Customers:tz,Refunds:rq,TestClocks:io,Issuing:ta("issuing",{Authorizations:tg,Cards:tE,PersonalizationDesigns:rI,Transactions:iv}),Terminal:ta("terminal",{Readers:rD}),Treasury:ta("treasury",{InboundTransfers:t3,OutboundPayments:rg,OutboundTransfers:rA,ReceivedCredits:rL,ReceivedDebits:rj})}),oO=ta("treasury",{CreditReversals:tj,DebitReversals:tq,FinancialAccounts:t2,InboundTransfers:t6,OutboundPayments:rv,OutboundTransfers:r_,ReceivedCredits:rM,ReceivedDebits:rz,TransactionEntries:iu,Transactions:iA}),oC=ta("v2",{Billing:ta("billing",{MeterEventAdjustments:rr,MeterEventSession:rn,MeterEventStream:ra,MeterEvents:rc}),Core:ta("core",{EventDestinations:tJ,Events:tY})});e.s(["Apps",0,op,"Billing",0,of,"BillingPortal",0,oh,"Checkout",0,om,"Climate",0,og,"Entitlements",0,oy,"FinancialConnections",0,ov,"Forwarding",0,ob,"Identity",0,oA,"Issuing",0,ow,"Radar",0,o_,"Reporting",0,oS,"Sigma",0,oE,"Tax",0,oT,"Terminal",0,oI,"TestHelpers",0,ox,"Treasury",0,oO,"V2",0,oC],999155),e.i(999155),e.s(["Account",0,ik,"AccountLinks",0,iR,"AccountSessions",0,iD,"Accounts",0,ik,"ApplePayDomains",0,iL,"ApplicationFees",0,iM,"Apps",0,op,"Balance",0,ij,"BalanceSettings",0,iz,"BalanceTransactions",0,iq,"Billing",0,of,"BillingPortal",0,oh,"Charges",0,iH,"Checkout",0,om,"Climate",0,og,"ConfirmationTokens",0,iW,"CountrySpecs",0,iJ,"Coupons",0,iY,"CreditNotes",0,i0,"CustomerSessions",0,i2,"Customers",0,i3,"Disputes",0,i6,"Entitlements",0,oy,"EphemeralKeys",0,i9,"Events",0,ne,"ExchangeRates",0,nr,"FileLinks",0,nn,"Files",0,nl,"FinancialConnections",0,ov,"Forwarding",0,ob,"Identity",0,oA,"InvoiceItems",0,nc,"InvoicePayments",0,np,"InvoiceRenderingTemplates",0,nh,"Invoices",0,ng,"Issuing",0,ow,"Mandates",0,nv,"OAuth",0,nw,"PaymentIntents",0,nS,"PaymentLinks",0,nT,"PaymentMethodConfigurations",0,nx,"PaymentMethodDomains",0,nC,"PaymentMethods",0,nN,"Payouts",0,nP,"Plans",0,nU,"Prices",0,nK,"Products",0,nB,"PromotionCodes",0,n$,"Quotes",0,nF,"Radar",0,o_,"Refunds",0,nV,"Reporting",0,oS,"Reviews",0,nG,"SetupAttempts",0,nZ,"SetupIntents",0,nQ,"ShippingRates",0,nX,"Sigma",0,oE,"Sources",0,n1,"SubscriptionItems",0,n4,"SubscriptionSchedules",0,n5,"Subscriptions",0,n8,"Tax",0,oT,"TaxCodes",0,n7,"TaxIds",0,ot,"TaxRates",0,oi,"Terminal",0,oI,"TestHelpers",0,ox,"Tokens",0,oo,"Topups",0,os,"Transfers",0,ou,"Treasury",0,oO,"V2",0,oC,"WebhookEndpoints",0,od],434549);var ok=e.i(434549);let oN="api.stripe.com",oR="443",oP="/v1/",oD=tn,oU=8e4,oL=5,oK=.5,oM=["name","version","url","partner_id"],oB=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],oj=e=>new eZ(e,tt.MAX_BUFFERED_REQUEST_METRICS),o$=function(e,t=oj){function r(i,n={}){if(!(this instanceof r))return new r(i,n);let o=this._getPropsFromConfig(n);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let a=o.httpAgent||null;this._api={host:o.host||oN,port:o.port||oR,protocol:o.protocol||"https",basePath:oP,version:o.apiVersion||oD,timeout:eh("timeout",o.timeout,oU),maxNetworkRetries:eh("maxNetworkRetries",o.maxNetworkRetries,2),agent:a,httpClient:o.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null,stripeContext:o.stripeContext||null};let s=o.typescript||!1;s!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=s),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setAuthenticator(i,o.authenticator),this.errors=eG,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=!1!==o.telemetry,this._requestSender=t(this),this.StripeResource=r.StripeResource}return r.PACKAGE_VERSION="19.1.0",r.API_VERSION=tn,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},em()),r.StripeResource=tt,r.StripeContext=tr,r.resources=ok,r.HttpClient=z,r.HttpClientResponse=F,r.CryptoProvider=K,r.webhooks=ti(e),r.errors=eG,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(e,t,r,i){return this._requestSender._rawRequest(e,t,r,i)},_setAuthenticator(e,t){if(e&&t)throw Error("Can't specify both apiKey and authenticator");if(!e&&!t)throw Error("Neither apiKey nor config.authenticator provided");this._authenticator=e?eg(e):t},_setAppInfo(e){if(e&&"object"!=typeof e)throw Error("AppInfo must be an object.");if(e&&!e.name)throw Error("AppInfo.name is required");e=e||{},this._appInfo=oM.reduce((t,r)=>("string"==typeof e[r]&&((t=t||{})[r]=e[r]),t),{})},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return oN;case"DEFAULT_PORT":return oR;case"DEFAULT_BASE_PATH":return oP;case"DEFAULT_API_VERSION":return oD;case"DEFAULT_TIMEOUT":return oU;case"MAX_NETWORK_RETRY_DELAY_SEC":return oL;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return oK}return r[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,r){let i=eh(e,t,r);this._setApiField(e,i)},getMaxNetworkRetryDelay:()=>oL,getInitialNetworkRetryDelay:()=>oK,getClientUserAgent(e){return this.getClientUserAgentSeeded(r.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then(r=>{var i;let n={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=encodeURIComponent(null!=(i=e[t])?i:"null"));n.uname=encodeURIComponent(r||"UNKNOWN");let o=this.getApiField("httpClient");o&&(n.httplib=encodeURIComponent(o.getClientName())),this._appInfo&&(n.application=this._appInfo),t(JSON.stringify(n))})},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let e in ok)Object.prototype.hasOwnProperty.call(ok,e)&&(this[ec(e)]=new ok[e](this))},_getPropsFromConfig(e){if(!e)return{};let t="string"==typeof e;if(!(e===Object(e)&&!Array.isArray(e))&&!t)throw Error("Config must either be an object or a string");if(t)return{apiVersion:e};if(Object.keys(e).filter(e=>!oB.includes(e)).length>0)throw Error(`Config object may only contain the following: ${oB.join(", ")}`);return e},parseEventNotification(e,t,r,i,n,o){let a=this.webhooks.constructEvent(e,t,r,i,n,o);return a.context&&(a.context=tr.parse(a.context)),a.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${a.id}`,void 0,{stripeContext:a.context},["fetch_event"]),a.fetchRelatedObject=()=>a.related_object?this._requestSender._rawRequest("GET",a.related_object.url,void 0,{stripeContext:a.context},["fetch_related_object"]):Promise.resolve(null),a}},r}(new eH),oz="price_1RoxnRHmTADgihIt4y8c0lVE",oF="price_1RoxnoHmTADgihItzFvVP8KT",oq="price_1RoxnJHmTADgihIthZTLmrPn",oV="price_1Roxo5HmTADgihItEbJu5llL",oH=R.gen(function*(){let e=yield*t.IamConfig;return{stripeClient:new o$(P.value(e.payment.stripe.key)||"sk_test_"),stripeWebhookSecret:P.value(e.payment.stripe.webhookSecret),subscription:{enabled:!1,plans:[{name:"plus",priceId:oq,annualDiscountPriceId:oV,freeTrial:{days:7}},{name:"pro",priceId:oz,annualDiscountPriceId:oF,freeTrial:{days:7}}]}}}),oG=R.gen(function*(){return N((yield*oH))});e.s(["stripePlugin",0,oG],646488)},990621,e=>{"use strict";e.i(646488),e.s([])},447875,e=>{"use strict";var t=e.i(625853);let r=e.i(405614).succeed((0,t.twoFactor)());e.s(["twoFactorPlugin",0,r])},934298,e=>{"use strict";e.i(447875),e.s([])},933660,e=>{"use strict";var t=e.i(105815);let r=e.i(405614).succeed((0,t.username)());e.s(["usernamePlugin",0,r])},85120,e=>{"use strict";e.i(933660),e.s([])},522793,e=>e.a(async(t,r)=>{try{var i=e.i(405614);e.i(54557);var n=e.i(271314);e.i(138986);var o=e.i(140612);e.i(95200);var a=e.i(919801);e.i(398373);var s=e.i(788557);e.i(336785);var l=e.i(4571);e.i(551326);var u=e.i(269416);e.i(683648);var c=e.i(720145);e.i(697520);var d=e.i(296573);e.i(734913);var p=e.i(220016);e.i(943089);var f=e.i(270689);e.i(835240);var h=e.i(892028);e.i(57476);var m=e.i(310930);e.i(535207);var g=e.i(614591);e.i(796397);var y=e.i(199214);e.i(249204);var v=e.i(515004);e.i(12425);var b=e.i(758023);e.i(203083);var A=e.i(408663);e.i(814199);var w=e.i(510385);e.i(189665);var _=e.i(990309);e.i(646490);var S=e.i(479824);e.i(816686);var E=e.i(323202),T=e.i(988424),I=e.i(366534);e.i(193323);var x=e.i(826608);e.i(95067);var O=e.i(924977);e.i(50461);var C=e.i(25271);e.i(596611);var k=e.i(222697);e.i(990621);var N=e.i(646488);e.i(934298);var R=e.i(447875);e.i(85120);var P=e.i(933660),D=t([T,I]);[T,I]=D.then?(await D)():D;let U=[n.adminPlugin,o.anonymousPlugin,a.apiKeyPlugin,s.bearerPlugin,l.captchaPlugin,u.customSessionPlugin,c.deviceAuthorizationPlugin,d.dubAnalyticsPlugin,p.genericOAuthPlugin,f.haveIBeenPwnedPlugin,h.jwtPlugin,m.lastLoginMethodPlugin,g.localizationPlugin,y.mcpPlugin,v.multiSessionPlugin,b.nextCookiesPlugin,A.oauthProxyPlugin,w.oidcProviderPlugin,_.oneTapPlugin,S.oneTimeTokenPlugin,E.openApiPlugin,I.organizationPlugin,O.phoneNumberPlugin,x.passkeyPlugin,k.ssoPlugin,C.siwePlugin,N.stripePlugin,R.twoFactorPlugin,P.usernamePlugin],L=i.flatMap(i.all(U),i.succeed).pipe(i.catchAll(e=>i.dieMessage(`Failed to initialize AllPlugins due to: ${e}`)));e.s(["AllPlugins",0,L]),r()}catch(e){r(e)}},!1),949930,e=>e.a(async(t,r)=>{try{var i=e.i(522793),n=t([i]);[i]=n.then?(await n)():n,e.s([]),r()}catch(e){r(e)}},!1),214912,e=>e.a(async(t,r)=>{try{e.i(360645);var i=e.i(31654),n=e.i(853053),o=e.i(886899);e.i(140104);var a=e.i(602999);e.i(548383);var s=e.i(945545);e.i(944824);var l=e.i(735967),u=e.i(127147);e.i(849436);var c=e.i(315262),d=e.i(413919),p=e.i(875225),f=e.i(349129),h=e.i(435146),m=e.i(64317),g=e.i(772767),y=e.i(649488),v=e.i(405614),b=e.i(945831),A=e.i(842862),w=e.i(321172),_=e.i(65632),S=e.i(100808),E=e.i(392353),T=e.i(847279),I=e.i(411237),x=e.i(862396),O=e.i(629492),C=e.i(69232);e.i(632600);var k=e.i(619711),N=e.i(949930),R=e.i(522793),P=t([C,N,R]);[C,N,R]=P.then?(await P)():P;let D=v.gen(function*(){let{db:e,drizzle:t}=yield*o.IamDb.IamDb,{sendResetPassword:r,sendVerification:c}=yield*C.AuthEmailService,m=yield*R.AllPlugins,O=yield*n.IamConfig,N=S.or(b.equals(w.Debug),b.equals(w.All))(O.app.logLevel),P=yield*v.runtime(),D=T.runPromise(P);return{telemetry:{debug:N},database:(0,d.drizzleAdapter)(t,{debugLogs:N,provider:"pg",usePlural:!1,schema:a.IamDbSchema,camelCase:!0}),baseURL:O.app.authUrl.toString(),basePath:"/api/auth",appName:O.app.name,secret:E.value(O.auth.secret),trustedOrigins:[...O.security.trustedOrigins],rateLimit:{enabled:!0,window:10,max:100},account:{additionalFields:k.commonExtraFields,accountLinking:{enabled:!0,allowDifferentEmails:!0,trustedProviders:O.oauth.authProviderNames},encryptOAuthTokens:!0},session:{modelName:l.IamEntityIds.SessionId.tableName,additionalFields:k.commonExtraFields,cookieCache:{enabled:!0,maxAge:y.days(30).pipe(y.toSeconds)},expiresIn:y.days(30).pipe(y.toSeconds),updateAge:y.days(1).pipe(y.toSeconds)},emailVerification:{sendOnSignUp:!0,sendVerificationEmail:async e=>void await D(v.flatMap(I.decode(C.SendVerificationEmailPayload)({email:e.user.email,url:s.BS.Url.make(`${O.app.clientUrl}${u.paths.auth.verification.email.verify(e.token)}`).toString()}),c).pipe(v.withSpan("AuthService.emailVerification.sendVerificationEmail")))},emailAndPassword:{requireEmailVerification:!1,enabled:!0,sendResetPassword:async e=>void await D(v.flatMap(I.decode(C.SendResetPasswordEmailPayload)({username:e.user.name,url:e.url,email:e.user.email}),r).pipe(v.withSpan("AuthService.emailAndPassword.sendResetPassword")))},socialProviders:h.reduce(O.oauth.authProviderNames,{},(e,t)=>({...e,...A.pipe(O.oauth.provider[t],e=>_.isSome(e.clientSecret)&&_.isSome(e.clientId)?{[t]:e}:{})})),plugins:m,databaseHooks:{user:{create:{after:async t=>{let r=l.SharedEntityIds.OrganizationId.create(),n=l.IamEntityIds.MemberId.create(),o=`${t.name?.toLowerCase().replace(/\s+/g,"-")||"user"}-${t.id.slice(-6)}`,s=v.gen(function*(){let s=yield*g.now.pipe(v.flatMap(e=>v.succeed(g.toDate(e))));yield*e.insert(a.IamDbSchema.organization).values({id:r,name:`${t.name||"User"}'s Organization`,slug:o,type:"individual",ownerUserId:l.SharedEntityIds.UserId.make(t.id),isPersonal:!0,subscriptionTier:"free",subscriptionStatus:"active",createdBy:t.id,source:"auto_created",createdAt:s,updatedAt:s}),yield*e.insert(a.IamDbSchema.member).values({id:n,userId:x.decodeUnknownSync(l.SharedEntityIds.UserId)(t.id),organizationId:r,role:"owner",status:i.Member.MemberStatusEnum.active,joinedAt:s,createdBy:t.id,createdAt:s,updatedAt:s})});await D(s.pipe(v.withSpan("AuthService.databaseHooks.user.create.after")))}}},session:{create:{before:async t=>{let r=v.gen(function*(){return yield*e.select({orgId:a.IamDbSchema.organization.id,orgName:a.IamDbSchema.organization.name,orgType:a.IamDbSchema.organization.type,isPersonal:a.IamDbSchema.organization.isPersonal,subscriptionTier:a.IamDbSchema.organization.subscriptionTier,role:a.IamDbSchema.member.role,memberStatus:a.IamDbSchema.member.status}).from(a.IamDbSchema.member).innerJoin(a.IamDbSchema.organization,p.eq(a.IamDbSchema.member.organizationId,a.IamDbSchema.organization.id)).where(p.and(p.eq(a.IamDbSchema.member.userId,l.SharedEntityIds.UserId.make(t.userId)),p.eq(a.IamDbSchema.member.status,"active"))).orderBy(f.desc(a.IamDbSchema.organization.isPersonal))}),i=await D(r.pipe(v.withSpan("AuthService.databaseHooks.session.create.before"))),n=i[0]?.orgId,o=i.reduce((e,t)=>(e[t.orgId]={name:t.orgName,type:t.orgType,role:t.role,isPersonal:t.isPersonal,subscriptionTier:t.subscriptionTier},e),{});return{data:{...t,activeOrganizationId:n,organizationContext:JSON.stringify(o)}}}}}},user:{modelName:l.SharedEntityIds.UserId.tableName,additionalFields:{gender:{type:"string",required:!0},...k.commonExtraFields}},advanced:{database:{generateId:!1},defaultCookieAttributes:{httpOnly:!0,partitioned:!0,sameSite:"none",secure:!0}}}});class U extends m.TaggedError("AuthServiceError"){}let L=v.gen(function*(){let e=yield*D,t=(0,c.betterAuth)(e),r=yield*v.runtime(),i=T.runPromise(r),n=v.tryPromise({try:async()=>await (0,O.headers)(),catch:e=>new U({cause:e,message:"Failed to get headers"})}).pipe(v.tapError(v.logError),v.withSpan("AuthService.getHeadersEffect")),o=()=>n.pipe(v.withSpan("AuthService.getHeaders"),i),a=()=>v.tryPromise({try:async()=>await t.api.getSession({headers:await o()}),catch:e=>new U({cause:e,message:"Failed to get session"})}).pipe(v.tapError(v.logError),v.withSpan("AuthService.getSession")),s=()=>v.tryPromise({try:async()=>await t.api.listSessions({headers:await o()}),catch:e=>new U({cause:e,message:"Failed to list sessions"})}).pipe(v.tapError(v.logError),v.withSpan("AuthService.listSessions"));return yield*v.succeed({auth:()=>t,getSession:a,listSessions:s,getHeadersEffect:()=>n})});class K extends v.Service()("AuthService",{dependencies:[C.AuthEmailService.DefaultWithoutDependencies,o.IamDb.IamDb.Live,n.IamConfig.Live],effect:L}){}e.s(["AuthService",()=>K]),r()}catch(e){r(e)}},!1),557736,e=>{"use strict";var t,r=e.i(449826),i=e.i(698772),n=e.i(435146),o=e.i(405614),a=e.i(411237),s=e.i(923928),l=e.i(258872);!function(e){let t=e=>{let t=n.join("")(n.map(s.split("_")(e),s.capitalize));return`${t}Repo`},u=(e,n)=>o.gen(function*(){let s=yield*r.SqlClient,u=n.idSchema.tableName,c=t(u),d=n.idColumn,p=i.single({Request:e.insert,Result:e,execute:e=>s`insert into ${s(u)} ${s.insert(e).returning("*")}`}),f=e=>p(e).pipe(o.catchTags({NoSuchElementException:e=>o.die(e),ParseError:e=>o.die(e)}),o.mapError(l.DbError.match),o.withSpan(`${c}.insert`,{captureStackTrace:!1,attributes:{insert:e}})),h=a.NonEmptyArray(e.insert),m=i.void({Request:h,execute:e=>s`
            insert into ${s(u)} ${s.insert(e)}
        `}),g=e=>m(e).pipe(o.catchTag("ParseError",e=>o.die(e)),o.mapError(l.DbError.match),o.withSpan(`${c}.insertManyVoid`,{captureStackTrace:!1,attributes:{insert:e}})),y=i.void({Request:e.insert,execute:e=>s`insert into ${s(u)} ${s.insert(e)}`}),v=e=>y(e).pipe(o.catchTag("ParseError",e=>o.die(e)),o.mapError(l.DbError.match),o.withSpan(`${c}.insertVoid`,{captureStackTrace:!1,attributes:{insert:e}})),b=i.single({Request:e.update,Result:e,execute:e=>s`
              update ${s(u)}
              set ${s.update(e,[d])}
              where ${s(d)} = ${e[d]} returning *
          `}),A=e=>b(e).pipe(o.catchTags({ParseError:e=>o.die(e),NoSuchElementException:e=>o.die(e)}),o.mapError(l.DbError.match),o.withSpan(`${c}.update`,{captureStackTrace:!1,attributes:{update:e}})),w=i.void({Request:e.update,execute:e=>s`
              update ${s(u)}
              set ${s.update(e,[d])}
              where ${s(d)} = ${e[d]}
          `}),_=e=>w(e).pipe(o.catchTag("ParseError",e=>o.die(e)),o.mapError(l.DbError.match),o.withSpan(`${c}.updateVoid`,{captureStackTrace:!1,attributes:{update:e}})),S=i.findOne({Request:n.idSchema.privateSchema,Result:e,execute:e=>s`
            select *
            from ${s(u)}
            where ${s(d)} = ${e}
        `}),E=e=>S(e).pipe(o.catchTag("ParseError",e=>o.die(e)),o.mapError(l.DbError.match),o.withSpan(`${c}.findById`,{captureStackTrace:!1,attributes:{id:e}})),T=i.void({Request:n.idSchema.privateSchema,execute:e=>s`
            delete
            from ${s(u)}
            where ${s(d)} = ${e}
        `});return{insertManyVoid:g,insert:f,insertVoid:v,update:A,updateVoid:_,findById:E,delete:e=>T(e).pipe(o.catchTag("ParseError",e=>o.die(e)),o.mapError(l.DbError.match),o.withSpan(`${c}.delete`,{captureStackTrace:!1,attributes:{id:e}}))}});e.make=(e,t,r)=>o.flatMap(o.all([r,u(t,{idColumn:e.privateIdColumnName,idSchema:e})]),([e,t])=>o.succeed({...e,...t}))}(t||(t={})),e.s(["Repo",()=>t])},531831,e=>{"use strict";e.i(78244),e.i(258872),e.i(557736),e.s([],531831)},11194,e=>{"use strict";var t=e.i(276406),r=e.i(457602);e.i(710284),e.i(842862),e.i(214250),e.i(807816),e.i(580611),e.i(720369),e.i(973165);var i=e.i(12653);i.LoggerTypeId;let n=i.makeLogger;r.addLogger;let o=r.addLoggerEffect;r.addLoggerScoped,i.mapInput,i.mapInputOptions,i.filterLogLevel,i.map,t.batchedLogger,t.loggerWithConsoleLog;let a=t.loggerWithLeveledLog;t.loggerWithConsoleError,i.none,r.removeLogger;let s=r.replaceLogger,l=r.replaceLoggerEffect;r.replaceLoggerScoped,i.simple,i.succeed,i.sync;let u=r.withMinimumLogLevel;t.loggerWithSpanAnnotations,i.zip,i.zipLeft,i.zipRight;let c=t.defaultLogger,d=i.jsonLogger,p=i.logfmtLogger;i.stringLogger,i.prettyLogger,i.prettyLoggerDefault,i.structuredLogger,t.tracerLogger;let f=s(t.defaultLogger,t.jsonLogger);t.defaultLogger,t.logFmtLogger,t.defaultLogger,t.prettyLogger,t.defaultLogger,t.structuredLogger;let h=r.minimumLogLevel;i.isLogger,e.s(["addEffect",0,o,"defaultLogger",0,c,"json",0,f,"jsonLogger",0,d,"logfmtLogger",0,p,"make",0,n,"minimumLogLevel",0,h,"replace",0,s,"replaceEffect",0,l,"withLeveledConsole",0,a,"withMinimumLogLevel",0,u],11194)},977680,(e,t,r)=>{let i=process||{},n=i.argv||[],o=i.env||{},a=!(o.NO_COLOR||n.includes("--no-color"))&&(!!o.FORCE_COLOR||n.includes("--color")||"win32"===i.platform||(i.stdout||{}).isTTY&&"dumb"!==o.TERM||!!o.CI),s=(e,t,r=e)=>i=>{let n=""+i,o=n.indexOf(t,e.length);return~o?e+l(n,t,r,o)+t:e+n+t},l=(e,t,r,i)=>{let n="",o=0;do n+=e.substring(o,i)+r,o=i+t.length,i=e.indexOf(t,o);while(~i)return n+e.substring(o)},u=(e=a)=>{let t=e?s:()=>String;return{isColorSupported:e,reset:t("\x1b[0m","\x1b[0m"),bold:t("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"),dim:t("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),italic:t("\x1b[3m","\x1b[23m"),underline:t("\x1b[4m","\x1b[24m"),inverse:t("\x1b[7m","\x1b[27m"),hidden:t("\x1b[8m","\x1b[28m"),strikethrough:t("\x1b[9m","\x1b[29m"),black:t("\x1b[30m","\x1b[39m"),red:t("\x1b[31m","\x1b[39m"),green:t("\x1b[32m","\x1b[39m"),yellow:t("\x1b[33m","\x1b[39m"),blue:t("\x1b[34m","\x1b[39m"),magenta:t("\x1b[35m","\x1b[39m"),cyan:t("\x1b[36m","\x1b[39m"),white:t("\x1b[37m","\x1b[39m"),gray:t("\x1b[90m","\x1b[39m"),bgBlack:t("\x1b[40m","\x1b[49m"),bgRed:t("\x1b[41m","\x1b[49m"),bgGreen:t("\x1b[42m","\x1b[49m"),bgYellow:t("\x1b[43m","\x1b[49m"),bgBlue:t("\x1b[44m","\x1b[49m"),bgMagenta:t("\x1b[45m","\x1b[49m"),bgCyan:t("\x1b[46m","\x1b[49m"),bgWhite:t("\x1b[47m","\x1b[49m"),blackBright:t("\x1b[90m","\x1b[39m"),redBright:t("\x1b[91m","\x1b[39m"),greenBright:t("\x1b[92m","\x1b[39m"),yellowBright:t("\x1b[93m","\x1b[39m"),blueBright:t("\x1b[94m","\x1b[39m"),magentaBright:t("\x1b[95m","\x1b[39m"),cyanBright:t("\x1b[96m","\x1b[39m"),whiteBright:t("\x1b[97m","\x1b[39m"),bgBlackBright:t("\x1b[100m","\x1b[49m"),bgRedBright:t("\x1b[101m","\x1b[49m"),bgGreenBright:t("\x1b[102m","\x1b[49m"),bgYellowBright:t("\x1b[103m","\x1b[49m"),bgBlueBright:t("\x1b[104m","\x1b[49m"),bgMagentaBright:t("\x1b[105m","\x1b[49m"),bgCyanBright:t("\x1b[106m","\x1b[49m"),bgWhiteBright:t("\x1b[107m","\x1b[49m")}};t.exports=u(),t.exports.createColors=u},754657,e=>{"use strict";var t=e.i(276406),r=e.i(433497);r.MetricTypeId,r.globalMetricRegistry,r.make,r.mapInput,r.counter,r.frequency,r.withConstantInput,r.fromMetricKey,r.gauge,r.histogram;let i=r.increment;r.incrementBy,r.map,r.mapType,r.modify,r.set,r.snapshot,r.succeed,r.sync,r.summary,r.summaryTimestamp,r.tagged,r.taggedWithLabelsInput,r.taggedWithLabels,r.timer,r.timerWithBoundaries,r.trackAll,r.trackDefect,r.trackDefectWith,r.trackDuration,r.trackDurationWith,r.trackError,r.trackErrorWith,r.trackSuccess,r.trackSuccessWith;let n=r.update;r.value,r.withNow,r.zip;let o=r.unsafeSnapshot;t.fiberStarted,t.fiberSuccesses,t.fiberFailures,t.fiberLifetimes,t.fiberActive,e.s(["increment",0,i,"unsafeSnapshot",0,o,"update",0,n])},288285,447590,e=>{"use strict";var t=e.i(710284),r=e.i(526886);e.i(64176);var i=e.i(405614);e.i(368171);var n=e.i(214250),o=e.i(807816),a=e.i(321172),s=e.i(974970),l=e.i(933448);e.i(754657);var u=e.i(65632),c=e.i(977680);e.i(680465),e.i(842862),e.i(402409);e.i(100808);var d=e.i(411237),p=(e.i(665097),e.i(317175));let f=Symbol.for("@effect/platform/HttpApiSchema/AnnotationStatus"),h=e=>{let t=p.omit(e,"status");return void 0!==e.status&&(t[f]=e.status),t};var m=e.i(64317),g=d;class y extends m.Error{}class v extends g.TaggedError()("UnrecoverableError",{message:g.String,stack:g.String,attributes:g.Any},h({status:500})){}class b extends g.TaggedError()("NotFoundError",{id:g.String,resource:g.String},h({status:404})){}class A extends g.TaggedError()("UniqueViolationError",{field:g.String,value:g.String},h({status:409})){}class w extends g.TaggedError()("DatabaseError",{message:g.String,cause:g.optional(g.Any)},h({status:500})){}class _ extends g.TaggedError()("TransactionError",{message:g.String,operation:g.String},h({status:500})){}class S extends g.TaggedError()("ConnectionError",{message:g.String,path:g.optional(g.String)},h({status:500})){}class E extends g.TaggedError()("ParseError",{message:g.String},h({status:400})){}class T extends g.TaggedError("Unauthorized")("Unauthorized",{message:g.optional(g.String)},h({status:401,description:"Authentication is required and has failed or has not been provided"})){}class I extends g.TaggedError("Forbidden")("Forbidden",{message:g.optional(g.String)},h({status:403,description:"The server understood the request but refuses to authorize it"})){}class x extends g.TaggedError()("UnknownError",{cause:g.Unknown,customMessage:g.optional(g.String)}){get message(){return this.customMessage??"An unknown error has occurred."}}e.s(["ConnectionError",()=>S,"DatabaseError",()=>w,"Es5Error",()=>y,"Forbidden",()=>I,"NotFoundError",()=>b,"ParseError",()=>E,"TransactionError",()=>_,"Unauthorized",()=>T,"UniqueViolationError",()=>A,"UnknownError",()=>x,"UnrecoverableError",()=>v],447590);let O={level:a.All,colors:!0,showDate:!0,showFiberId:!0,showSpans:!0,showAnnotations:!0,includeCausePretty:!0},C=e=>e;function k(e,t){if(!t)return C;let r=e.ordinal;return r>=a.Fatal.ordinal?c.default.magenta:r>=a.Error.ordinal?c.default.red:r>=a.Warning.ordinal?c.default.yellow:r>=a.Info.ordinal?c.default.green:r>=a.Debug.ordinal?c.default.cyan:c.default.gray}function N(e){if("string"==typeof e)return e;if(e instanceof Error)return`${e.name}: ${e.message}`;try{return"object"==typeof e?JSON.stringify(e):String(e)}catch{return String(e)}}function R(e,t){let r=[];for(let[i,o]of n.entries(e)){let e=t?c.default.dim(String(i)):String(i),n=N(o);r.push(`${e}=${n}`)}return r.join(" ")}function P(e,t,r){let i=o.toArray(t).map(t=>s.render(e)(t)).join(" ");return r?c.default.dim(i):i}function D(e,r,i){return!!i&&(!t.isEmpty(r)||e.ordinal>=a.Warning.ordinal)}function U(e,r=!0){let i=t.isEmpty(e)?"":t.pretty(e);if(!r||!i)return i;let n=c.default.red(i);return n===i?`\u001b[31m${i}\u001b[39m`:n}function L(e){let i=t.failureOption(e);if(u.isSome(i)){let e=i.value;return e instanceof Error?{error:e,message:e.message}:{message:String(e)}}let n=t.defects(e),o=r.toArray(n).find(e=>e instanceof Error);return o?{error:o,message:o.message}:{message:"Unknown error"}}let K=e=>l.value(e).pipe(l.when("All",()=>a.All),l.when("Trace",()=>a.Trace),l.when("Debug",()=>a.Debug),l.when("Info",()=>a.Info),l.when("Warning",()=>a.Warning),l.when("Error",()=>a.Error),l.when("Fatal",()=>a.Fatal),l.when("None",()=>a.None),l.exhaustive),M=(e,t)=>i.gen(function*(){let[r,n]=yield*i.partition(e,e=>i.sandbox(e),{concurrency:t?.concurrency??"unbounded"});return{successes:n,errors:r}});e.s(["accumulateEffects",0,M,"colorForLevel",()=>k,"defaultConfig",0,O,"extractPrimaryError",()=>L,"formatAnnotations",()=>R,"formatCausePretty",()=>U,"formatMessage",()=>N,"formatSpans",()=>P,"parseLevel",0,K,"shouldPrintCause",()=>D],288285)},46707,e=>{"use strict";var t=e.i(902157),r=e.i(660526),i=e.i(750227),n=e.i(710284);e.i(772767);var o=e.i(405614),a=e.i(500577),s=e.i(214250),l=e.i(11194),u=e.i(321172);e.i(933448);var c=e.i(65632);e.i(100808),e.i(847272);var d=e.i(977680),p=e.i(288285);function f(e){let t=w(e);return l.replace(l.defaultLogger,t)}let h=/^\s*at\s+(.*?)\s+\((.*):(\d+):(\d+)\)/,m=/^\s*at\s+(.*):(\d+):(\d+)/;function g(e){return e?(e.startsWith("file://")&&(e=e.replace(/^file:\/\//,"")),e.replace(/\\/g,"/")):e}function y(e,t){if(!e)return;let r=g(i.resolve(t));for(let t of e.split("\n")){let e,i,n,o,a=t.trim(),s=a.match(h);if((s?(o=s[1],e=g(s[2]),i=Number(s[3]),n=Number(s[4])):(s=a.match(m))&&(e=g(s[1]),i=Number(s[2]),n=Number(s[3])),!(!e||Number.isNaN(i)||Number.isNaN(n)||e.startsWith("node:")||e.includes("/node_modules/")))&&e.includes(r))return{file:e,line:i,col:n,func:o}}}function v(e,r,i,n,o=2){try{let i=t.readFileSync(e,"utf8").split(/\r?\n/),a=Math.max(1,r-o),s=Math.min(i.length,r+o),l=String(s).length,u=e=>String(e).padStart(l," "),c=[];for(let e=a;e<=s;e++){let t=e===r?">":" ",o=u(e),a=i[e-1]??"",s=`${t} ${o} | ${a}`;c.push(n&&e===r?d.default.red(s):n?d.default.gray(s):s)}return c.join("\n")}catch{return}}function b(e,r){try{let i=t.readFileSync(e,"utf8").split(/\r?\n/),n=Math.max(0,r-1),o=(i[n]??"").match(/([A-Za-z0-9_$]+)\s*\(/);if(o?.[1])return o[1];for(let e=n;e>=0;e--){let t=(i[e]??"").trim();if(0===t.length)continue;let r=t.match(/function\s+([A-Za-z0-9_$]+)/);if(r?.[1])return r[1];let n=t.match(/const\s+([A-Za-z0-9_$]+)\s*=\s*(?:async\s+)?(?:function\s*)?\(/);if(n?.[1])return n[1]}return}catch{return}}function A(e,t=!0){if(n.isEmpty(e))return"";let r="boolean"==typeof t?{colors:t}:t??{},o=r.colors??!0,a=(r.date??new Date).toISOString(),{error:s,message:l}=(0,p.extractPrimaryError)(e),u=s?.stack??"",c=process.cwd(),f=y(u,c);if(!f)return"";let h=i.relative(c,f.file)||f.file,m=i.basename(h),g=e=>o?d.default.bold(e):e,w=f.func&&"<anonymous>"!==f.func?void 0:b(f.file,f.line),_=f.func&&"<anonymous>"!==f.func?f.func:w,S=o?d.default.magenta(""):"",E=!1!==r.includeCodeFrame?v(f.file,f.line,f.col,o):void 0;return[`${S}`,`  Path: ${g(h)}`,`  File: ${g(m)}`,`  Line: ${g(String(f.line))}:${g(String(f.col))}`,_?`  Function: ${g(_)}`:void 0,`  Time: ${g(a)}`,s?.name?`  Type: ${g(s.name)}`:void 0,r.levelLabel?`  Level: ${g(r.levelLabel)}`:void 0,r.fiberName?`  Fiber: ${g(r.fiberName)}`:void 0,r.spansText?`  Spans: ${r.spansText}`:void 0,r.service?`  Service: ${g(r.service)}`:void 0,r.environment?`  Env: ${g(r.environment)}`:void 0,r.requestId?`  RequestId: ${g(r.requestId)}`:void 0,r.correlationId?`  CorrelationId: ${g(r.correlationId)}`:void 0,r.userId?`  UserId: ${g(r.userId)}`:void 0,r.hostname||r.pid||r.nodeVersion?`  Host: ${g([r.hostname?`host=${r.hostname}`:void 0,r.pid?`pid=${String(r.pid)}`:void 0,r.nodeVersion?`node=${r.nodeVersion}`:void 0].filter(Boolean).join(", "))}`:void 0,`  Message: ${g(l)}`,E?`  Code:`:void 0,E?E.split("\n").map(e=>` ${e}`).join("\n"):void 0,`${S}`].filter(e=>"string"==typeof e).join("\n")}function w(e){let t={...p.defaultConfig,...e};return l.make(e=>{let{logLevel:i,message:n,date:o,annotations:l,spans:f,fiberId:h,cause:m}=e,g=[];t.showDate&&g.push(d.default.dim(o.toISOString()));let y=i.label;g.push((0,p.colorForLevel)(i,t.colors)(y)),g.push((0,p.formatMessage)(n));let v=[];if(t.showAnnotations&&l){let e=(0,p.formatAnnotations)(l,t.colors);e.length>0&&v.push(e)}if(t.showSpans&&f){let e=(0,p.formatSpans)(o.getTime(),f,t.colors);e.length>0&&v.push(e)}if(t.showFiberId&&h){let e=a.threadName(h),r=`fiber=${e}`;v.push(t.colors?d.default.dim(r):r)}let b=`${g.join(" ")}${v.length>0?` | ${v.join(" ")}`:""}`,w=i.ordinal>=u.Warning.ordinal?console.error:console.log;if(w(b),(0,p.shouldPrintCause)(i,m,t.includeCausePretty)){let e=e=>{if(!l)return;let t=s.get(l,e);return c.isSome(t)?String(t.value):void 0},n=e("service"),u=e("env")??e("environment"),d=e("requestId")??e("request-id")??e("x-request-id"),g=e("correlationId")??e("correlation-id")??e("x-correlation-id"),y=e("userId")??e("user-id"),v=A(m,{colors:t.colors,date:o,levelLabel:i.label,fiberName:h?a.threadName(h):void 0,spansText:f?(0,p.formatSpans)(o.getTime(),f,!1):void 0,service:n,environment:u,requestId:d,correlationId:g,userId:y,hostname:r.hostname(),pid:process.pid,nodeVersion:process.version,includeCodeFrame:!0});v&&w(v);let b=(0,p.formatCausePretty)(m,t.colors);b&&w(b)}})}o.gen(function*(){let e=process.env.APP_ENV??"production"??"dev",t="production"===e||"prod"===e,r=process.env.APP_LOG_FORMAT??"pretty"??(t?"json":"pretty"),i=process.env.APP_LOG_LEVEL??"All"??(t?"Error":"All");return process.env.APP_LOG_FORMAT||t||console.warn("@beep/errors: NEXT_PUBLIC_LOG_FORMAT is deprecated; prefer APP_LOG_FORMAT"),process.env.APP_LOG_LEVEL||t||console.warn("@beep/errors: NEXT_PUBLIC_LOG_LEVEL is deprecated; prefer APP_LOG_LEVEL"),{format:r,level:(0,p.parseLevel)(i)}}),e.s(["makePrettyConsoleLoggerLayer",()=>f])},405597,e=>{"use strict";e.i(531831);var t,r=e.i(78244);e.i(876091),e.i(276985);var i=e.i(426710),n=e.i(341500),o=e.i(429238),a=e.i(642622);e.s(["file",()=>i.file,"fileRelations",()=>i.fileRelations,"organization",()=>n.organization,"organizationTypePgEnum",()=>n.organizationTypePgEnum,"subscriptionStatusPgEnum",()=>n.subscriptionStatusPgEnum,"subscriptionTierPgEnum",()=>n.subscriptionTierPgEnum,"team",()=>o.team,"user",()=>a.user,"userGenderPgEnum",()=>a.userGenderPgEnum,"userRolePgEnum",()=>a.userRolePgEnum],431761),e.i(431761),e.s(["file",()=>i.file,"fileRelations",()=>i.fileRelations,"organization",()=>n.organization,"organizationTypePgEnum",()=>n.organizationTypePgEnum,"subscriptionStatusPgEnum",()=>n.subscriptionStatusPgEnum,"subscriptionTierPgEnum",()=>n.subscriptionTierPgEnum,"team",()=>o.team,"user",()=>a.user,"userGenderPgEnum",()=>a.userGenderPgEnum,"userRolePgEnum",()=>a.userRolePgEnum],693179);var s=e.i(693179),l=e.i(777865),u=e.i(405614),c=e.i(347064);!function(e){let{serviceEffect:t}=r.Db.make(s);class i extends l.Tag("@beep/files-infra/FilesDb")(){static Live=c.scoped(this,t.pipe(u.orDie))}e.FilesDb=i}(t||(t={})),e.s(["FilesDb",()=>t],405597)},671027,e=>{"use strict";e.i(405597),e.s([],671027)},550305,788872,636588,e=>{"use strict";var t=e.i(557736);e.i(671027);var r=e.i(405597);let i=[r.FilesDb.FilesDb.Live];var n=r;e.i(944824);var o=e.i(735967);e.i(822676);var a=e.i(489878),s=e.i(405614);class l extends s.Service()("@beep/files-infra/adapters/repos/FileRepo",{dependencies:i,accessors:!0,effect:t.Repo.make(o.SharedEntityIds.FileId,a.File.Model,s.gen(function*(){return yield*n.FilesDb.FilesDb,{}}))}){}e.s(["FileRepo",()=>l],788872),e.s([],636588);let u=l.Default;e.s(["layer",0,u],550305)},566797,e=>{"use strict";e.i(550305);var t=e.i(590643),r=e.i(777865),i=e.i(347064);class n extends r.Tag("@beep/files-infra/FilesConfig")(){static fromServerEnv(e){return{aws:{s3:{bucketName:e.cloud.aws.s3.bucketName}}}}static Live=i.succeed(this,this.of(this.fromServerEnv(t.serverEnv)));static layerFrom(e){return i.succeed(this,this.of(this.fromServerEnv(e)))}}e.i(671027),e.s([],566797)},326942,e=>{"use strict";var t=e.i(550305);e.i(636588);var r=e.i(788872);e.s(["FileRepo",()=>r.FileRepo],93631),e.i(93631),e.s(["FileRepo",()=>r.FileRepo,"layer",()=>t.layer],272095);var i=e.i(272095);e.s(["FilesRepos",0,i],326942)},76421,210728,318431,180668,123542,980562,854141,9093,441407,330704,288209,236588,829049,615578,486214,111287,534468,794084,626152,952391,950650,856015,179546,212605,e=>{"use strict";var t=e.i(347064),r=e.i(557736);e.i(360645),e.i(288285);var i=e.i(447590),i=i,n=e.i(411237);n.TaggedError()("IamError",{message:n.String}),i.UnknownError;var o=e.i(31654);e.s(["Account",()=>o.Account,"ApiKey",()=>o.ApiKey,"DeviceCode",()=>o.DeviceCode,"Invitation",()=>o.Invitation,"Jwks",()=>o.Jwks,"Member",()=>o.Member,"OAuthAccessToken",()=>o.OAuthAccessToken,"OAuthApplication",()=>o.OAuthApplication,"OAuthConsent",()=>o.OAuthConsent,"Organization",()=>o.Organization,"OrganizationRole",()=>o.OrganizationRole,"Passkey",()=>o.Passkey,"RateLimit",()=>o.RateLimit,"Session",()=>o.Session,"SsoProvider",()=>o.SsoProvider,"Subscription",()=>o.Subscription,"Team",()=>o.Team,"TeamMember",()=>o.TeamMember,"TwoFactor",()=>o.TwoFactor,"User",()=>o.User,"Verification",()=>o.Verification,"WalletAddress",()=>o.WalletAddress],445359);var a=e.i(445359),a=a;e.i(308173);var s=e.i(886899);let l=[s.IamDb.IamDb.Live];var u=s;e.i(944824);var c=e.i(735967),d=e.i(405614);class p extends d.Service()("@beep/iam-infra/adapters/repos/AccountRepo",{dependencies:l,accessors:!0,effect:r.Repo.make(c.IamEntityIds.AccountId,a.Account.Model,d.gen(function*(){return yield*u.IamDb.IamDb,{}}))}){}e.s(["AccountRepo",()=>p],210728);var f=r,a=a,h=s,m=c,g=d;class y extends g.Service()("@beep/iam-infra/adapters/repos/ApiKeyRepo",{dependencies:l,accessors:!0,effect:f.Repo.make(m.IamEntityIds.ApiKeyId,a.ApiKey.Model,g.gen(function*(){return yield*h.IamDb.IamDb,{}}))}){}e.s(["ApiKeyRepo",()=>y],318431);var v=r,a=a,b=s,A=c,w=d;class _ extends w.Service()("@beep/iam-infra/adapters/repos/DeviceCodeRepo",{dependencies:l,accessors:!0,effect:v.Repo.make(A.IamEntityIds.DeviceCodeId,a.DeviceCode.Model,w.gen(function*(){return yield*b.IamDb.IamDb,{}}))}){}e.s(["DeviceCodeRepo",()=>_],180668);var S=r,a=a,E=s,T=c,I=d;class x extends I.Service()("@beep/iam-infra/adapters/repos/InvitationRepo",{dependencies:l,accessors:!0,effect:S.Repo.make(T.IamEntityIds.InvitationId,a.Invitation.Model,I.gen(function*(){return yield*E.IamDb.IamDb,{}}))}){}e.s(["InvitationRepo",()=>x],123542);var O=r,a=a,C=s,k=c,N=d;class R extends N.Service()("@beep/iam-infra/adapters/repos/JwksRepo",{dependencies:l,accessors:!0,effect:O.Repo.make(k.IamEntityIds.JwksId,a.Jwks.Model,N.gen(function*(){return yield*C.IamDb.IamDb,{}}))}){}e.s(["JwksRepo",()=>R],980562);var P=r,a=a,D=s,U=c,L=d;class K extends L.Service()("@beep/iam-infra/adapters/repos/MemberRepo",{dependencies:l,accessors:!0,effect:P.Repo.make(U.IamEntityIds.MemberId,a.Member.Model,L.gen(function*(){return yield*D.IamDb.IamDb,{}}))}){}e.s(["MemberRepo",()=>K],854141);var M=r,a=a,B=s,j=c,$=d;class z extends $.Service()("@beep/iam-infra/adapters/repos/OAuthAccessTokenRepo",{dependencies:l,accessors:!0,effect:M.Repo.make(j.IamEntityIds.OAuthAccessTokenId,a.OAuthAccessToken.Model,$.gen(function*(){return yield*B.IamDb.IamDb,{}}))}){}e.s(["OAuthAccessTokenRepo",()=>z],9093);var F=r,a=a,q=s,V=c,H=d;class G extends H.Service()("@beep/iam-infra/adapters/repos/OAuthApplicationRepo",{dependencies:l,accessors:!0,effect:F.Repo.make(V.IamEntityIds.OAuthApplicationId,a.OAuthApplication.Model,H.gen(function*(){return yield*q.IamDb.IamDb,{}}))}){}e.s(["OAuthApplicationRepo",()=>G],441407);var W=r,a=a,Z=s,J=c,Q=d;class Y extends Q.Service()("@beep/iam-infra/adapters/repos/OAuthConsentRepo",{dependencies:l,accessors:!0,effect:W.Repo.make(J.IamEntityIds.OAuthConsentId,a.OAuthConsent.Model,Q.gen(function*(){return yield*Z.IamDb.IamDb,{}}))}){}e.s(["OAuthConsentRepo",()=>Y],330704);var X=r,a=a,ee=s,et=c,er=d;class ei extends er.Service()("@beep/iam-infra/adapters/repos/OrganizationRepo",{dependencies:l,accessors:!0,effect:X.Repo.make(et.SharedEntityIds.OrganizationId,a.Organization.Model,er.gen(function*(){return yield*ee.IamDb.IamDb,{}}))}){}e.s(["OrganizationRepo",()=>ei],288209);var en=r,a=a,eo=s,ea=c,es=d;class el extends es.Service()("@beep/iam-infra/adapters/repos/OrganizationRoleRepo",{dependencies:l,accessors:!0,effect:en.Repo.make(ea.IamEntityIds.OrganizationRoleId,a.OrganizationRole.Model,es.gen(function*(){return yield*eo.IamDb.IamDb,{}}))}){}e.s(["OrganizationRoleRepo",()=>el],236588);var eu=r,a=a,ec=s,ed=c,ep=d;class ef extends ep.Service()("@beep/iam-infra/adapters/repos/PasskeyRepo",{dependencies:l,accessors:!0,effect:eu.Repo.make(ed.IamEntityIds.PasskeyId,a.Passkey.Model,ep.gen(function*(){return yield*ec.IamDb.IamDb,{}}))}){}e.s(["PasskeyRepo",()=>ef],829049);var eh=r,a=a,em=s,eg=c,ey=d;class ev extends ey.Service()("@beep/iam-infra/adapters/repos/RateLimitRepo",{dependencies:l,accessors:!0,effect:eh.Repo.make(eg.IamEntityIds.RateLimitId,a.RateLimit.Model,ey.gen(function*(){return yield*em.IamDb.IamDb,{}}))}){}e.s(["RateLimitRepo",()=>ev],615578);var eb=r,a=a,eA=s,ew=c,e_=d;class eS extends e_.Service()("@beep/iam-infra/adapters/repos/SessionRepo",{dependencies:l,accessors:!0,effect:eb.Repo.make(ew.IamEntityIds.SessionId,a.Session.Model,e_.gen(function*(){return yield*eA.IamDb.IamDb,{}}))}){}e.s(["SessionRepo",()=>eS],486214);var eE=r,a=a,eT=s,eI=c,ex=d;class eO extends ex.Service()("@beep/iam-infra/adapters/repos/SsoProviderRepo",{dependencies:l,accessors:!0,effect:eE.Repo.make(eI.IamEntityIds.SsoProviderId,a.SsoProvider.Model,ex.gen(function*(){return yield*eT.IamDb.IamDb,{}}))}){}e.s(["SsoProviderRepo",()=>eO],111287);var eC=r,a=a,ek=s,eN=c,eR=d;class eP extends eR.Service()("@beep/iam-infra/adapters/repos/SubscriptionRepo",{dependencies:l,accessors:!0,effect:eC.Repo.make(eN.IamEntityIds.SubscriptionId,a.Subscription.Model,eR.gen(function*(){return yield*ek.IamDb.IamDb,{}}))}){}e.s(["SubscriptionRepo",()=>eP],534468);var eD=r,a=a,eU=s,eL=c,eK=d;class eM extends eK.Service()("@beep/iam-infra/adapters/repos/TeamRepo",{dependencies:l,accessors:!0,effect:eD.Repo.make(eL.SharedEntityIds.TeamId,a.Team.Model,eK.gen(function*(){return yield*eU.IamDb.IamDb,{}}))}){}e.s(["TeamRepo",()=>eM],794084);var eB=r,a=a,ej=s,e$=c,ez=d;class eF extends ez.Service()("@beep/iam-infra/adapters/repos/TeamMemberRepo",{dependencies:l,accessors:!0,effect:eB.Repo.make(e$.IamEntityIds.TeamMemberId,a.TeamMember.Model,ez.gen(function*(){return yield*ej.IamDb.IamDb,{}}))}){}e.s(["TeamMemberRepo",()=>eF],626152);var eq=r,a=a,eV=s,eH=c,eG=d;class eW extends eG.Service()("@beep/iam-infra/adapters/repos/TwoFactorRepo",{dependencies:l,accessors:!0,effect:eq.Repo.make(eH.IamEntityIds.TwoFactorId,a.TwoFactor.Model,eG.gen(function*(){return yield*eV.IamDb.IamDb,{}}))}){}e.s(["TwoFactorRepo",()=>eW],952391);var eZ=r,a=a,eJ=s,eQ=c,eY=d;class eX extends eY.Service()("@beep/iam-infra/adapters/repos/UserRepo",{dependencies:l,accessors:!0,effect:eZ.Repo.make(eQ.SharedEntityIds.UserId,a.User.Model,eY.gen(function*(){return yield*eJ.IamDb.IamDb,{}}))}){}e.s(["UserRepo",()=>eX],950650);var e0=r,a=a,e1=s,e2=c,e4=d;class e3 extends e4.Service()("@beep/iam-infra/adapters/repos/VerificationRepo",{dependencies:l,accessors:!0,effect:e0.Repo.make(e2.IamEntityIds.VerificationId,a.Verification.Model,e4.gen(function*(){return yield*e1.IamDb.IamDb,{}}))}){}e.s(["VerificationRepo",()=>e3],856015);var e5=r,a=a,e6=s,e8=c,e9=d;class e7 extends e9.Service()("@beep/iam-infra/adapters/repos/WalletAddressRepo",{dependencies:l,accessors:!0,effect:e5.Repo.make(e8.IamEntityIds.WalletAddressId,a.WalletAddress.Model,e9.gen(function*(){return yield*e6.IamDb.IamDb,{}}))}){}e.s(["WalletAddressRepo",()=>e7],179546),e.s([],212605);let te=t.mergeAll(p.Default,y.Default,_.Default,x.Default,R.Default,K.Default,z.Default,G.Default,Y.Default,el.Default,ef.Default,ev.Default,eS.Default,eO.Default,eP.Default,eF.Default,eW.Default,eX.Default,e3.Default,e7.Default,ei.Default,eM.Default);e.s(["layer",0,te],76421)},724623,e=>e.a(async(t,r)=>{try{var i=e.i(214912);e.i(76421);var n=t([i]);[i]=n.then?(await n)():n,e.s([]),r()}catch(e){r(e)}},!1),48767,e=>e.a(async(t,r)=>{try{var i=e.i(724623),n=e.i(69232);e.i(76421),e.i(853053),e.i(308173);var o=t([i,n]);[i,n]=o.then?(await o)():o,e.s([]),r()}catch(e){r(e)}},!1),634541,e=>{"use strict";var t=e.i(76421);e.i(212605);var r=e.i(210728),i=e.i(318431),n=e.i(180668),o=e.i(123542),a=e.i(980562),s=e.i(854141),l=e.i(9093),u=e.i(441407),c=e.i(330704),d=e.i(288209),p=e.i(236588),f=e.i(829049),h=e.i(615578),m=e.i(486214),g=e.i(111287),y=e.i(534468),v=e.i(794084),b=e.i(626152),A=e.i(952391),w=e.i(950650),_=e.i(856015),S=e.i(179546);e.s(["AccountRepo",()=>r.AccountRepo,"ApiKeyRepo",()=>i.ApiKeyRepo,"DeviceCodeRepo",()=>n.DeviceCodeRepo,"InvitationRepo",()=>o.InvitationRepo,"JwksRepo",()=>a.JwksRepo,"MemberRepo",()=>s.MemberRepo,"OAuthAccessTokenRepo",()=>l.OAuthAccessTokenRepo,"OAuthApplicationRepo",()=>u.OAuthApplicationRepo,"OAuthConsentRepo",()=>c.OAuthConsentRepo,"OrganizationRepo",()=>d.OrganizationRepo,"OrganizationRoleRepo",()=>p.OrganizationRoleRepo,"PasskeyRepo",()=>f.PasskeyRepo,"RateLimitRepo",()=>h.RateLimitRepo,"SessionRepo",()=>m.SessionRepo,"SsoProviderRepo",()=>g.SsoProviderRepo,"SubscriptionRepo",()=>y.SubscriptionRepo,"TeamMemberRepo",()=>b.TeamMemberRepo,"TeamRepo",()=>v.TeamRepo,"TwoFactorRepo",()=>A.TwoFactorRepo,"UserRepo",()=>w.UserRepo,"VerificationRepo",()=>_.VerificationRepo,"WalletAddressRepo",()=>S.WalletAddressRepo],24304),e.i(24304),e.s(["AccountRepo",()=>r.AccountRepo,"ApiKeyRepo",()=>i.ApiKeyRepo,"DeviceCodeRepo",()=>n.DeviceCodeRepo,"InvitationRepo",()=>o.InvitationRepo,"JwksRepo",()=>a.JwksRepo,"MemberRepo",()=>s.MemberRepo,"OAuthAccessTokenRepo",()=>l.OAuthAccessTokenRepo,"OAuthApplicationRepo",()=>u.OAuthApplicationRepo,"OAuthConsentRepo",()=>c.OAuthConsentRepo,"OrganizationRepo",()=>d.OrganizationRepo,"OrganizationRoleRepo",()=>p.OrganizationRoleRepo,"PasskeyRepo",()=>f.PasskeyRepo,"RateLimitRepo",()=>h.RateLimitRepo,"SessionRepo",()=>m.SessionRepo,"SsoProviderRepo",()=>g.SsoProviderRepo,"SubscriptionRepo",()=>y.SubscriptionRepo,"TeamMemberRepo",()=>b.TeamMemberRepo,"TeamRepo",()=>v.TeamRepo,"TwoFactorRepo",()=>A.TwoFactorRepo,"UserRepo",()=>w.UserRepo,"VerificationRepo",()=>_.VerificationRepo,"WalletAddressRepo",()=>S.WalletAddressRepo,"layer",()=>t.layer],517562);var E=e.i(517562);e.s(["IamRepos",0,E],634541)},641808,918214,e=>{"use strict";var t=e.i(156312),r=e.i(777865),i=e.i(385510),n=e.i(405614),o=e.i(568819),a=e.i(368171),s=(e.i(169228),e.i(710284)),l=i,u=n,c=a,d=e.i(165039),p=e.i(500577),f=e.i(842862),h=e.i(838927),m=e.i(580537),g=e.i(753126),y=e.i(787039),v=e.i(100808),b=e.i(847279);let A=Symbol.for("effect/FiberSet"),w=e=>v.hasProperty(e,A),_={[A]:A,[Symbol.iterator](){return"Closed"===this.state._tag?g.empty():this.state.backing[Symbol.iterator]()},toString(){return m.format(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[m.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,y.pipeArguments)(this,arguments)}},S=(e,t)=>{let r=Object.create(_);return r.state={_tag:"Open",backing:e},r.deferred=t,r},E=()=>u.acquireRelease(u.map(l.make(),e=>S(new Set,e)),e=>u.withFiberRuntime(t=>{let r=e.state;if("Closed"===r._tag)return u.void;e.state={_tag:"Closed"};let i=r.backing;return d.interruptAllAs(i,p.combine(t.id(),I)).pipe(u.intoDeferred(e.deferred))})),T=-1,I=p.make(T,0),x=s.reduceWithContext(void 0,{emptyCase:f.constFalse,failCase:f.constFalse,dieCase:f.constFalse,interruptCase:(e,t)=>h.has(p.ids(t),T),sequentialCase:(e,t,r)=>t||r,parallelCase:(e,t,r)=>t||r}),O=(0,f.dual)(e=>w(e[0]),(e,t,r)=>{"Closed"===e.state._tag?t.unsafeInterruptAsFork(p.combine(r?.interruptAs??p.none,I)):e.state.backing.has(t)||(e.state.backing.add(t),t.addObserver(i=>{"Closed"!==e.state._tag&&(e.state.backing.delete(t),!c.isFailure(i)||(r?.propagateInterruption===!0?x(i.cause):s.isInterruptedOnly(i.cause))||l.unsafeDone(e.deferred,i))}))}),C=function(){let e;return()=>(void 0===e&&(e=u.runFork(u.interrupt)),e)}(),k=function(){let e=arguments[0];if(!u.isEffect(arguments[1])){let t=arguments[1];return r=>N(e,r,t)}return N(e,arguments[1],arguments[2])},N=(e,t,r)=>u.fiberIdWith(i=>"Closed"===e.state._tag?u.sync(C):u.tap(u.forkDaemon(t),t=>O(e,t,{...r,interruptAs:i}))),R=e=>()=>u.map(u.runtime(),t=>{let r=b.runFork(t);return(t,i)=>{if("Closed"===e.state._tag)return C();let n=r(t,i);return O(e,n),n}}),P=e=>l.await(e.deferred);e.s(["join",0,P,"make",0,E,"run",0,k,"runtime",0,R],918214);var D=f;e.i(402409);var U=e.i(347064),L=e.i(714706),K=v,M=e.i(625552),B=e.i(30725);let j=Symbol.for("@effect/platform/Socket"),$=e=>K.hasProperty(e,j),z=r.GenericTag("@effect/platform/Socket"),F=Symbol.for("@effect/platform/Socket/CloseEvent"),q=e=>K.hasProperty(e,F),V=Symbol.for("@effect/platform/Socket/SocketError"),H=e=>K.hasProperty(e,V);class G extends(0,B.TypeIdError)(V,"SocketError"){get message(){return`An error occurred during ${this.reason}`}}class W extends(0,B.TypeIdError)(V,"SocketError"){static is(e){return H(e)&&"Close"===e.reason}static isClean(e){return function(t){return W.is(t)&&e(t.code)}}get message(){return this.closeReason?`${this.reason}: ${this.code}: ${this.closeReason}`:`${this.reason}: ${this.code}`}}let Z=(e,r)=>n.gen(function*(){let i=yield*n.scope,s=yield*L.make(),l=yield*M.fork(i,o.sequential),u=yield*M.extend(e.writer,l);function*c(e){for(let t of e)yield*u(t)}let d={awaitRead:()=>n.void,emit:e=>n.catchAllCause(n.gen(()=>c(e)),e=>s.failCause(e)),error:e=>n.zipRight(M.close(l,a.void),s.failCause(e)),done:()=>M.close(l,a.void)};return yield*e.runRaw(e=>{s.unsafeOffer(r(e))}).pipe(L.into(s),n.forkIn(i),n.interruptible),t.embedInput(L.toChannel(s),d)}).pipe(t.unwrapScoped),J=e=>{let t=new TextEncoder;return Z(e,e=>"string"==typeof e?t.encode(e):e)},Q=(0,D.dual)(e=>$(e[0]),(e,t)=>{let r=new TextDecoder(t);return Z(e,e=>"string"==typeof e?e:r.decode(e))}),Y=()=>e=>J(e),X=e=>1e3!==e&&1006!==e,ee=r.GenericTag("@effect/platform/Socket/WebSocket"),et=r.GenericTag("@effect/platform/Socket/WebSocketConstructor"),er=U.succeed(et,(e,t)=>new globalThis.WebSocket(e,t)),ei=(e,t)=>en(n.acquireRelease(("string"==typeof e?n.succeed(e):e).pipe(n.flatMap(e=>n.map(et,r=>r(e,t?.protocols)))),e=>n.sync(()=>e.close(1e3))),t),en=(e,t)=>n.withFiberRuntime(o=>{let a,s=n.unsafeMakeLatch(!1),l=o.currentContext,u=t?.closeCodeIsError??X,c=(c,d)=>n.scopedWith(n.fnUntraced(function*(r){let l=yield*E().pipe(M.extend(r)),p=yield*M.extend(e,r),f=yield*n.provideService(R(l)(),ee,p),h=!1;function m(e){if(e.data instanceof Blob)return n.promise(()=>e.data.arrayBuffer()).pipe(n.andThen(e=>c(new Uint8Array(e))),f);let t=c(e.data);n.isEffect(t)&&f(t)}function g(e){p.removeEventListener("message",m),p.removeEventListener("close",y),i.unsafeDone(l.deferred,n.fail(new G({reason:h?"Read":"Open",cause:e})))}function y(e){p.removeEventListener("message",m),p.removeEventListener("error",g),i.unsafeDone(l.deferred,n.fail(new W({reason:"Close",code:e.code,closeReason:e.reason})))}if(p.addEventListener("close",y,{once:!0}),p.addEventListener("error",g,{once:!0}),p.addEventListener("message",m),1!==p.readyState){let e=i.unsafeMake(o.id());p.addEventListener("open",()=>{h=!0,i.unsafeDone(e,n.void)},{once:!0}),yield*i.await(e).pipe(n.timeoutFail({duration:t?.openTimeout??1e4,onTimeout:()=>new G({reason:"OpenTimeout",cause:'timeout waiting for "open"'})}),n.raceFirst(P(l)))}return h=!0,a=p,yield*s.open,d?.onOpen&&(yield*d.onOpen),yield*P(l).pipe(n.catchIf(W.isClean(e=>!u(e)),e=>n.void))})).pipe(n.mapInputContext(e=>r.merge(l,e)),n.ensuring(n.sync(()=>{s.unsafeClose(),a=void 0})),n.interruptible),d=new TextEncoder,p=(e,t)=>c(t=>"string"==typeof t?e(d.encode(t)):t instanceof Uint8Array?e(t):e(new Uint8Array(t)),t),f=e=>s.whenOpen(n.sync(()=>{let t=a;q(e)?t.close(e.code,e.reason):t.send(e)})),h=n.succeed(f);return n.succeed(z.of({[j]:j,run:p,runRaw:c,writer:h}))}),eo=(e,t)=>U.effect(z,ei(e,t));e.s(["Socket",0,z,"SocketCloseError",()=>W,"SocketGenericError",()=>G,"TypeId",0,j,"WebSocketConstructor",0,et,"isCloseEvent",0,q,"layerWebSocket",0,eo,"layerWebSocketConstructorGlobal",0,er,"makeWebSocket",0,ei,"toChannelString",0,Q,"toChannelWith",0,Y],641808)},882837,e=>{"use strict";var t=e.i(274707);t.MetricStateTypeId,t.CounterStateTypeId,t.FrequencyStateTypeId,t.GaugeStateTypeId,t.HistogramStateTypeId,t.SummaryStateTypeId,t.counter,t.frequency,t.gauge,t.histogram,t.summary,t.isMetricState;let r=t.isCounterState,i=t.isFrequencyState,n=t.isGaugeState,o=t.isHistogramState,a=t.isSummaryState;e.s(["isCounterState",0,r,"isFrequencyState",0,i,"isGaugeState",0,n,"isHistogramState",0,o,"isSummaryState",0,a])},28191,e=>{"use strict";var t=e.i(641808),r=e.i(347064),i=e.i(156312),n=e.i(526886),o=e.i(405614),a=e.i(842862),s=i,l=a,u=e.i(411237);let c=e=>()=>{let t=u.encode(u.ChunkFromSelf(e)),r=s.readWithCause({onInput:e=>s.zipRight(s.flatMap(t(e),s.write),r),onFailure:e=>s.failCause(e),onDone:s.succeed});return r},d=(0,l.dual)(2,(e,t)=>{let r=u.decode(u.ChunkFromSelf(t.outputSchema));return(0,l.pipe)(c(t.inputSchema)(),s.pipeTo(e),s.mapOutEffect(r))});var p=e.i(30725);let f=Symbol.for("@effect/platform/Ndjson/NdjsonError"),h=new TextEncoder;class m extends(0,p.TypeIdError)(f,"NdjsonError"){get message(){return this.reason}}let g=()=>{let e=i.readWithCause({onInput:t=>i.zipRight(i.flatMap(o.try({try:()=>n.of(n.toReadonlyArray(t).map(e=>JSON.stringify(e)).join("\n")+"\n"),catch:e=>new m({reason:"Pack",cause:e})}),i.write),e),onFailure:i.failCause,onDone:i.succeed});return e},y=()=>i.mapOut(g(),n.map(e=>h.encode(e))),v=n.filter(e=>e.length>0),b=()=>{let e=i.readWithCause({onInput(t){let r=v(t);return i.zipRight(n.isEmpty(r)?i.void:i.write(r),e)},onFailure:e=>i.failCause(e),onDone:e=>i.succeed(e)});return e},A=e=>{let t=i.splitLines().pipe(e?.ignoreEmptyLines===!0?i.pipeTo(b()):a.identity);return i.mapOutEffect(t,e=>o.try({try:()=>n.map(e,e=>JSON.parse(e)),catch:e=>new m({reason:"Unpack",cause:e})}))},w=()=>{let e=new TextDecoder,t=i.readWithCause({onInput:r=>i.zipRight(i.write(n.map(r,t=>e.decode(t))),t),onFailure:i.failCause,onDone:i.succeed});return t},_=e=>i.pipeTo(w(),A(e)),S=((e=>i.isChannel(e[0]),(e,t)=>i.pipeTo(i.pipeTo(y(),e),_(t))),(0,a.dual)(e=>i.isChannel(e[0]),(e,t)=>i.pipeTo(i.pipeTo(g(),e),A(t)))),E=(0,a.dual)(2,(e,t)=>d(S(e,t),t));var T=t,I=e.i(710284),x=e.i(777865),O=e.i(385510),C=o,k=e.i(368171),N=a,R=r,P=e.i(714706),D=e.i(754657),U=e.i(882837),L=e.i(56786),K=e.i(724880),M=e.i(939798),B=u;let j=B.Struct({_tag:B.Literal("Started"),startTime:B.BigInt}),$=B.Struct({_tag:B.Literal("Ended"),startTime:B.BigInt,endTime:B.BigInt}),z=B.Union(j,$),F=B.Struct({_tag:B.Literal("ExternalSpan"),spanId:B.String,traceId:B.String,sampled:B.Boolean}),q=B.Struct({_tag:B.Literal("Span"),spanId:B.String,traceId:B.String,name:B.String,sampled:B.Boolean,attributes:B.ReadonlyMap({key:B.String,value:B.Unknown}),status:z,parent:B.Option(B.suspend(()=>H).annotations({title:"ParentSpan"}))}),V=B.Struct({_tag:B.Literal("SpanEvent"),traceId:B.String,spanId:B.String,name:B.String,startTime:B.BigInt,attributes:B.Record({key:B.String,value:B.Unknown})}),H=B.Union(q,F),G=B.Struct({_tag:B.Literal("Ping")}),W=B.Struct({_tag:B.Literal("Pong")}),Z=B.Struct({_tag:B.Literal("MetricsRequest")}),J=B.Struct({key:B.String,value:B.String}),Q=(e,t)=>B.Struct({_tag:B.Literal(e),name:B.String,description:B.optionalWith(B.String,{as:"Option"}),tags:B.Array(J),state:t}),Y=Q("Counter",B.Struct({count:B.Union(B.Number,B.BigInt)})),X=Q("Frequency",B.Struct({occurrences:B.Record({key:B.String,value:B.Number})})),ee=Q("Gauge",B.Struct({value:B.Union(B.Number,B.BigInt)})),et=B.transform(B.Union(B.Number,B.Null),B.Number,{strict:!0,decode:e=>null===e?1/0:e,encode:e=>Number.isFinite(e)?e:null}),er=Q("Histogram",B.Struct({buckets:B.Array(B.Tuple(et,B.Number)),count:B.Number,min:B.Number,max:B.Number,sum:B.Number})),ei=Q("Summary",B.Struct({error:B.Number,quantiles:B.Array(B.Tuple(B.Number,B.Option(B.Number))),count:B.Number,min:B.Number,max:B.Number,sum:B.Number})),en=B.Union(Y,X,ee,er,ei),eo=B.Struct({_tag:B.Literal("MetricsSnapshot"),metrics:B.Array(en)}),ea=B.Union(G,q,V,eo),es=B.Union(W,Z),el=x.GenericTag("@effect/experimental/DevTools/Client"),eu=C.gen(function*(){let e=yield*T.Socket,t=yield*P.make();function r(){let e=D.unsafeSnapshot(),t=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];U.isCounterState(i.metricState)?t.push({_tag:"Counter",name:i.metricKey.name,description:i.metricKey.description,tags:i.metricKey.tags,state:i.metricState}):U.isGaugeState(i.metricState)?t.push({_tag:"Gauge",name:i.metricKey.name,description:i.metricKey.description,tags:i.metricKey.tags,state:i.metricState}):U.isHistogramState(i.metricState)?t.push({_tag:"Histogram",name:i.metricKey.name,description:i.metricKey.description,tags:i.metricKey.tags,state:i.metricState}):U.isSummaryState(i.metricState)?t.push({_tag:"Summary",name:i.metricKey.name,description:i.metricKey.description,tags:i.metricKey.tags,state:i.metricState}):U.isFrequencyState(i.metricState)&&t.push({_tag:"Frequency",name:i.metricKey.name,description:i.metricKey.description,tags:i.metricKey.tags,state:{occurrences:Object.fromEntries(i.metricState.occurrences.entries())}})}return{_tag:"MetricsSnapshot",metrics:t}}let i=yield*O.make();return yield*P.toStream(t).pipe(K.pipeThroughChannel(E(T.toChannelString(e),{inputSchema:ea,outputSchema:es})),K.runForEach(e=>{switch(O.unsafeDone(i,k.void),e._tag){case"MetricsRequest":return t.offer(r());case"Pong":return C.void}}),C.tapErrorCause(C.logDebug),C.retry(L.spaced("1 seconds")),C.forkScoped,C.uninterruptible),yield*C.addFinalizer(()=>t.offer(r()).pipe(C.zipRight(C.fiberIdWith(e=>t.failCause(I.interrupt(e)))))),yield*t.offer({_tag:"Ping"}).pipe(C.delay("3 seconds"),C.forever,C.forkScoped,C.interruptible),yield*O.await(i).pipe(C.timeoutOption("1 second")),el.of({unsafeAddSpan:e=>t.unsafeOffer(e)})}).pipe(C.annotateLogs({package:"@effect/experimental",module:"DevTools",service:"Client"})),ec=R.scoped(el,eu),ed=C.gen(function*(){let e=yield*el,t=yield*C.tracer;return M.make({span(r,i,n,o,a,s){let l=t.span(r,i,n,o,a,s);e.unsafeAddSpan(l);let u=l.event;l.event=function(t,r,i){return e.unsafeAddSpan({_tag:"SpanEvent",traceId:l.traceId,spanId:l.spanId,name:t,startTime:r,attributes:i||{}}),u.call(this,t,r,i)};let c=l.end;return l.end=function(){return e.unsafeAddSpan(l),c.apply(this,arguments)},l},context:t.context})}).pipe(C.annotateLogs({package:"@effect/experimental",module:"DevTools",service:"Tracer"})),ep=(0,N.pipe)(ed,C.map(R.setTracer),R.unwrapEffect,R.provide(ec)),ef=ep,eh=(e="ws://localhost:34437")=>ep.pipe(r.provide(t.layerWebSocket(e))),em=(e="ws://localhost:34437")=>eh(e).pipe(r.provide(t.layerWebSocketConstructorGlobal));e.s(["layer",0,em,"layerSocket",0,ef,"layerWebSocket",0,eh],878162);var eg=e.i(878162);e.s(["DevTools",0,eg],28191)},588712,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AbstractAsyncHooksContextManager=void 0;let i=e.r(427699),n=["addListener","on","once","prependListener","prependOnceListener"];class o{bind(e,t){return t instanceof i.EventEmitter?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){let r=this,i=function(...i){return r.with(e,()=>t.apply(this,i))};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),i}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),n.forEach(r=>{void 0!==t[r]&&(t[r]=this._patchAddListener(t,t[r],e))}),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let r=this;return function(i,n){let o=r._getPatchMap(e)?.[i];if(void 0===o)return t.call(this,i,n);let a=o.get(n);return t.call(this,i,a||n)}}_patchRemoveAllListeners(e,t){let r=this;return function(i){let n=r._getPatchMap(e);return void 0!==n&&(0==arguments.length?r._createPatchMap(e):void 0!==n[i]&&delete n[i]),t.apply(this,arguments)}}_patchAddListener(e,t,r){let i=this;return function(n,o){if(i._wrapped)return t.call(this,n,o);let a=i._getPatchMap(e);void 0===a&&(a=i._createPatchMap(e));let s=a[n];void 0===s&&(s=new WeakMap,a[n]=s);let l=i.bind(r,o);s.set(o,l),i._wrapped=!0;try{return t.call(this,n,l)}finally{i._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}_kOtListeners=Symbol("OtListeners");_wrapped=!1}r.AbstractAsyncHooksContextManager=o},246861,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncHooksContextManager=void 0;let i=e.r(407896),n=e.r(410430),o=e.r(588712);class a extends o.AbstractAsyncHooksContextManager{_asyncHook;_contexts=new Map;_stack=[];constructor(){super(),this._asyncHook=n.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){return this._stack[this._stack.length-1]??i.ROOT_CONTEXT}with(e,t,r,...i){this._enterContext(e);try{return t.call(r,...i)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if("TIMERWRAP"===t)return;let r=this._stack[this._stack.length-1];void 0!==r&&this._contexts.set(e,r)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);void 0!==t&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}}r.AsyncHooksContextManager=a},648028,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncLocalStorageContextManager=void 0;let i=e.r(407896),n=e.r(410430),o=e.r(588712);class a extends o.AbstractAsyncHooksContextManager{_asyncLocalStorage;constructor(){super(),this._asyncLocalStorage=new n.AsyncLocalStorage}active(){return this._asyncLocalStorage.getStore()??i.ROOT_CONTEXT}with(e,t,r,...i){let n=null==r?t:t.bind(r);return this._asyncLocalStorage.run(e,n,...i)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}r.AsyncLocalStorageContextManager=a},322231,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncLocalStorageContextManager=r.AsyncHooksContextManager=void 0;var i=e.r(246861);Object.defineProperty(r,"AsyncHooksContextManager",{enumerable:!0,get:function(){return i.AsyncHooksContextManager}});var n=e.r(648028);Object.defineProperty(r,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return n.AsyncLocalStorageContextManager}})},580905,e=>{"use strict";var t=e.i(730533),r=e.i(357080),i=e.i(35606);function n(){return`unknown_service:${process.argv0}`}let o=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class a{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let r=new a({},t);return r._rawAttributes=c(e),r._asyncAttributesPending=e.filter(([e,t])=>o(t)).length>0,r}constructor(e,t){const r=e.attributes??{};this._rawAttributes=Object.entries(r).map(([e,t])=>(o(t)&&(this._asyncAttributesPending=!0),[e,t])),this._rawAttributes=c(this._rawAttributes),this._schemaUrl=d(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,r]=this._rawAttributes[e];this._rawAttributes[e]=[t,o(r)?await r:r]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&t.diag.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[r,i]of this._rawAttributes){if(o(i)){t.diag.debug(`Unsettled resource attribute ${r} skipped`);continue}null!=i&&(e[r]??=i)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(null==e)return this;let t=p(this,e),r=t?{schemaUrl:t}:void 0;return a.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],r)}}function s(e,t){return a.FromAttributeList(Object.entries(e),t)}function l(){return s({})}function u(){return s({[i.ATTR_SERVICE_NAME]:n(),[i.ATTR_TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[i.ATTR_TELEMETRY_SDK_LANGUAGE],[i.ATTR_TELEMETRY_SDK_NAME]:r.SDK_INFO[i.ATTR_TELEMETRY_SDK_NAME],[i.ATTR_TELEMETRY_SDK_VERSION]:r.SDK_INFO[i.ATTR_TELEMETRY_SDK_VERSION]})}function c(e){return e.map(([e,r])=>o(r)?[e,r.catch(r=>{t.diag.debug("promise rejection for resource attribute: %s - %s",e,r)})]:[e,r])}function d(e){if("string"==typeof e||void 0===e)return e;t.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}function p(e,r){let i=e?.schemaUrl,n=r?.schemaUrl,o=void 0===n||""===n;return void 0===i||""===i?n:o||i===n?i:void t.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',i,n)}e.s(["defaultResource",()=>u,"emptyResource",()=>l,"resourceFromAttributes",()=>s],580905)},392525,35606,357080,761932,e=>{"use strict";let t="[object Object]",r="[object Null]",i="[object Undefined]",n=Function.prototype.toString,o=n.call(Object),a=Object.getPrototypeOf,s=Object.prototype,l=s.hasOwnProperty,u=Symbol?Symbol.toStringTag:void 0,c=s.toString;function d(e){if(!p(e)||f(e)!==t)return!1;let r=a(e);if(null===r)return!0;let i=l.call(r,"constructor")&&r.constructor;return"function"==typeof i&&i instanceof i&&n.call(i)===o}function p(e){return null!=e&&"object"==typeof e}function f(e){return null==e?void 0===e?i:r:u&&u in Object(e)?h(e):m(e)}function h(e){let t=l.call(e,u),r=e[u],i=!1;try{e[u]=void 0,i=!0}catch{}let n=c.call(e);return i&&(t?e[u]=r:delete e[u]),n}function m(e){return c.call(e)}let g=20;function y(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=b(t,e.shift(),0,r);return t}function v(e){return w(e)?e.slice():e}function b(e,t,r=0,i){let n;if(!(r>g)){if(r++,E(e)||E(t)||_(t))n=v(t);else if(w(e)){if(n=e.slice(),w(t))for(let e=0,r=t.length;e<r;e++)n.push(v(t[e]));else if(S(t)){let e=Object.keys(t);for(let r=0,i=e.length;r<i;r++){let i=e[r];n[i]=v(t[i])}}}else if(S(e))if(S(t)){if(!T(e,t))return t;n=Object.assign({},e);let o=Object.keys(t);for(let a=0,s=o.length;a<s;a++){let s=o[a],l=t[s];if(E(l))void 0===l?delete n[s]:n[s]=l;else{let o=n[s],a=l;if(A(e,s,i)||A(t,s,i))delete n[s];else{if(S(o)&&S(a)){let r=i.get(o)||[],n=i.get(a)||[];r.push({obj:e,key:s}),n.push({obj:t,key:s}),i.set(o,r),i.set(a,n)}n[s]=b(n[s],l,r,i)}}}}else n=t;return n}}function A(e,t,r){let i=r.get(e[t])||[];for(let r=0,n=i.length;r<n;r++){let n=i[r];if(n.key===t&&n.obj===e)return!0}return!1}function w(e){return Array.isArray(e)}function _(e){return"function"==typeof e}function S(e){return!E(e)&&!w(e)&&!_(e)&&"object"==typeof e}function E(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}function T(e,t){return!!d(e)&&!!d(t)}e.s(["merge",()=>y],392525);let I="2.1.0",x="exception.message",O="exception.stacktrace",C="exception.type",k="service.name",N="service.version",R="telemetry.sdk.language",P="nodejs",D="webjs",U="telemetry.sdk.name",L="telemetry.sdk.version";e.s(["ATTR_EXCEPTION_MESSAGE",0,x,"ATTR_EXCEPTION_STACKTRACE",0,O,"ATTR_EXCEPTION_TYPE",0,C,"ATTR_SERVICE_NAME",0,k,"ATTR_SERVICE_VERSION",0,N,"ATTR_TELEMETRY_SDK_LANGUAGE",0,R,"ATTR_TELEMETRY_SDK_NAME",0,U,"ATTR_TELEMETRY_SDK_VERSION",0,L,"TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS",0,P,"TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS",0,D],35606);let K={[U]:"opentelemetry","process.runtime.name":"node",[R]:P,[L]:I};e.s(["SDK_INFO",0,K],357080);var M=e.i(730533);function B(e){let t={};if("object"!=typeof e||null==e)return t;for(let[r,i]of Object.entries(e)){if(!j(r)){M.diag.warn(`Invalid attribute key: ${r}`);continue}if(!$(i)){M.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function j(e){return"string"==typeof e&&e.length>0}function $(e){return null==e||(Array.isArray(e)?z(e):F(e))}function z(e){let t;for(let r of e)if(null!=r){if(!t){if(F(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function F(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}e.s(["isAttributeValue",()=>$,"sanitizeAttributes",()=>B],761932)},469392,175992,e=>{"use strict";let t=e.i(60438).performance;e.s(["otperformance",0,t],175992);let r=9,i=1e6,n=1e9;function o(e){return[Math.trunc(e/1e3),Math.round(e%1e3*i)]}function a(){let e=t.timeOrigin;if("number"!=typeof e){let r=t;e=r.timing&&r.timing.fetchStart}return e}function s(e){return g(o(a()),o("number"==typeof e?e:t.now()))}function l(e){if(h(e))return e;if("number"==typeof e)if(e<a())return s(e);else return o(e);if(e instanceof Date)return o(e.getTime());throw TypeError("Invalid input type")}function u(e,t){let r=t[0]-e[0],i=t[1]-e[1];return i<0&&(r-=1,i+=n),[r,i]}function c(e){let t=r,i=`${"0".repeat(t)}${e[1]}Z`,n=i.substring(i.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function d(e){return e[0]*n+e[1]}function p(e){return 1e3*e[0]+e[1]/1e6}function f(e){return 1e6*e[0]+e[1]/1e3}function h(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function m(e){return h(e)||"number"==typeof e||e instanceof Date}function g(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=n&&(r[1]-=n,r[0]+=1),r}e.s(["addHrTimes",()=>g,"getTimeOrigin",()=>a,"hrTime",()=>s,"hrTimeDuration",()=>u,"hrTimeToMicroseconds",()=>f,"hrTimeToMilliseconds",()=>p,"hrTimeToNanoseconds",()=>d,"hrTimeToTimeStamp",()=>c,"isTimeInput",()=>m,"isTimeInputHrTime",()=>h,"millisToHrTime",()=>o,"timeInputToHrTime",()=>l],469392)},45568,e=>{"use strict";var t=e.i(730533),r=e.i(224361);function i(e){let i=process.env[e];if(null==i||""===i.trim())return;let n=Number(i);return isNaN(n)?void t.diag.warn(`Unknown value ${(0,r.inspect)(i)} for ${e}, expected a number, using defaults`):n}function n(e){let t=process.env[e];if(null!=t&&""!==t.trim())return t}function o(e){let i=process.env[e]?.trim().toLowerCase();return null!=i&&""!==i&&("true"===i||"false"!==i&&(t.diag.warn(`Unknown value ${(0,r.inspect)(i)} for ${e}, expected 'true' or 'false', falling back to 'false' (default)`),!1))}function a(e){return n(e)?.split(",").map(e=>e.trim()).filter(e=>""!==e)}e.s(["getBooleanFromEnv",()=>o,"getNumberFromEnv",()=>i,"getStringFromEnv",()=>n,"getStringListFromEnv",()=>a])},138914,e=>{"use strict";class t{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class r{_callback;_that;_isCalled=!1;_deferred=new t;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(e=>this._deferred.resolve(e),e=>this._deferred.reject(e))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}e.s(["BindOnceFuture",()=>r],138914)},855948,e=>{"use strict";var t;!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(t||(t={})),e.s(["ExportResultCode",()=>t])},785507,269841,946272,461922,e=>{"use strict";let t=(0,e.i(581493).createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function r(e){return e.setValue(t,!0)}function i(e){return e.deleteValue(t)}function n(e){return!0===e.getValue(t)}e.s(["isTracingSuppressed",()=>n,"suppressTracing",()=>r,"unsuppressTracing",()=>i],785507);var o=e.i(730533);function a(){return e=>{o.diag.error(s(e))}}function s(e){return"string"==typeof e?e:JSON.stringify(l(e))}function l(e){let t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach(e=>{if(t[e])return;let i=r[e];i&&(t[e]=String(i))}),r=Object.getPrototypeOf(r);return t}e.s(["loggingErrorHandler",()=>a],269841);let u=a();function c(e){u=e}function d(e){try{u(e)}catch{}}function p(e){e.unref()}e.s(["globalErrorHandler",()=>d,"setGlobalErrorHandler",()=>c],946272),e.s(["unrefTimer",()=>p],461922)},303997,e=>{"use strict";var t=e.i(344467),r=e.i(730533),i=e.i(417863),n=e.i(138914),o=e.i(855948),a=e.i(45568),s=e.i(946272),l=e.i(785507),u=e.i(461922);class c{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,t){this._exporter=e,this._maxExportBatchSize="number"==typeof t?.maxExportBatchSize?t.maxExportBatchSize:(0,a.getNumberFromEnv)("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize="number"==typeof t?.maxQueueSize?t.maxQueueSize:(0,a.getNumberFromEnv)("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis="number"==typeof t?.scheduledDelayMillis?t.scheduledDelayMillis:(0,a.getNumberFromEnv)("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis="number"==typeof t?.exportTimeoutMillis?t.exportTimeoutMillis:(0,a.getNumberFromEnv)("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new n.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(r.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&i.TraceFlags.SAMPLED)!=0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&r.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(r.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let r=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let e=0,t=i;e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then(()=>{e()}).catch(t)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise((e,r)=>{let i=setTimeout(()=>{r(Error("Timeout"))},this._exportTimeoutMillis);t.context.with((0,l.suppressTracing)(t.context.active()),()=>{let t;this._finishedSpans.length<=this._maxExportBatchSize?(t=this._finishedSpans,this._finishedSpans=[]):t=this._finishedSpans.splice(0,this._maxExportBatchSize);let n=()=>this._exporter.export(t,t=>{clearTimeout(i),t.code===o.ExportResultCode.SUCCESS?e():r(t.error??Error("BatchSpanProcessor: span export failed"))}),a=null;for(let e=0,r=t.length;e<r;e++){let r=t[e];r.resource.asyncAttributesPending&&r.resource.waitForAsyncAttributes&&(a??=[]).push(r.resource.waitForAsyncAttributes())}null===a?n():Promise.all(a).then(n,e=>{(0,s.globalErrorHandler)(e),r(e)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{this._isExporting=!1,(0,s.globalErrorHandler)(e)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),(0,u.unrefTimer)(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}class d extends c{onShutdown(){}}e.s(["BatchSpanProcessor",()=>d],303997)},525099,e=>{"use strict";var t=e.i(344467),r=e.i(785507);let i={_export:function(e,i){return new Promise(n=>{t.context.with((0,r.suppressTracing)(t.context.active()),()=>{e.export(i,e=>{n(e)})})})}};e.s(["internal",0,i],525099)},9968,e=>{"use strict";e.s([],743290),e.i(743290);var t,r,i,n=e.i(392525),o=e.i(580905),a=e.i(344467),s=e.i(984886),l=e.i(385656),u=e.i(938189),c=e.i(417863),d=e.i(730533),p=e.i(258316),f=e.i(761932),h=e.i(785507),m=d,g=e.i(419798),y=e.i(469392),v=f,b=e.i(175992),A=e.i(35606);let w="exception";class _{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:g.SpanStatusCode.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){const t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=b.otperformance.now(),this._performanceOffset=t-(this._performanceStartTime+(0,y.getTimeOrigin)()),this._startTimeProvided=null!=e.startTime,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,null!=e.attributes&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(null==t||this._isSpanEnded())return this;if(0===e.length)return m.diag.warn(`Invalid attribute key: ${e}`),this;if(!(0,v.isAttributeValue)(t))return m.diag.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:r}=this._spanLimits;return void 0!==r&&Object.keys(this.attributes).length>=r&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t),this}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,t,r){if(this._isSpanEnded())return this;let{eventCountLimit:i}=this._spanLimits;if(0===i)return m.diag.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==i&&this.events.length>=i&&(0===this._droppedEventsCount&&m.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,y.isTimeInput)(t)&&((0,y.isTimeInput)(r)||(r=t),t=void 0);let n=(0,v.sanitizeAttributes)(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()||(this.status={...e},null!=this.status.message&&"string"!=typeof e.message&&(m.diag.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message)),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){this._isSpanEnded()?m.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,y.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(m.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&m.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this))}_getTime(e){if("number"==typeof e&&e<=b.otperformance.now())return(0,y.hrTime)(e+this._performanceOffset);if("number"==typeof e)return(0,y.millisToHrTime)(e);if(e instanceof Date)return(0,y.millisToHrTime)(e.getTime());if((0,y.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,y.millisToHrTime)(Date.now());let t=b.otperformance.now()-this._performanceStartTime;return(0,y.addHrTimes)(this.startTime,(0,y.millisToHrTime)(t))}isRecording(){return!1===this._ended}recordException(e,t){let r={};"string"==typeof e?r[A.ATTR_EXCEPTION_MESSAGE]=e:e&&(e.code?r[A.ATTR_EXCEPTION_TYPE]=e.code.toString():e.name&&(r[A.ATTR_EXCEPTION_TYPE]=e.name),e.message&&(r[A.ATTR_EXCEPTION_MESSAGE]=e.message),e.stack&&(r[A.ATTR_EXCEPTION_STACKTRACE]=e.stack)),r[A.ATTR_EXCEPTION_TYPE]||r[A.ATTR_EXCEPTION_MESSAGE]?this.addEvent(w,r,t):m.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);m.diag.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(m.diag.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}}var S=d,E=e.i(45568);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t||(t={}));class T{shouldSample(){return{decision:t.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class I{shouldSample(){return{decision:t.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}var x=e.i(666276),O=c,C=s,k=e.i(946272);class N{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||((0,k.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new I),this._remoteParentSampled=e.remoteParentSampled??new I,this._remoteParentNotSampled=e.remoteParentNotSampled??new T,this._localParentSampled=e.localParentSampled??new I,this._localParentNotSampled=e.localParentNotSampled??new T}shouldSample(e,t,r,i,n,o){let a=C.trace.getSpanContext(e);return a&&(0,x.isSpanContextValid)(a)?a.isRemote?a.traceFlags&O.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,i,n,o):this._remoteParentNotSampled.shouldSample(e,t,r,i,n,o):a.traceFlags&O.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,i,n,o):this._localParentNotSampled.shouldSample(e,t,r,i,n,o):this._root.shouldSample(e,t,r,i,n,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}var R=x;class P{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(e,r){return{decision:(0,R.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?t.RECORD_AND_SAMPLED:t.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){let i=8*r;t=(t^parseInt(e.slice(i,i+8),16))>>>0}return t}}!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(r||(r={}));let D=1;function U(){return{sampler:L(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,E.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,E.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:(0,E.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,E.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:(0,E.getNumberFromEnv)("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:(0,E.getNumberFromEnv)("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:(0,E.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:(0,E.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function L(){let e=(0,E.getStringFromEnv)("OTEL_TRACES_SAMPLER")??r.ParentBasedAlwaysOn;switch(e){case r.AlwaysOn:return new I;case r.AlwaysOff:return new T;case r.ParentBasedAlwaysOn:return new N({root:new I});case r.ParentBasedAlwaysOff:return new N({root:new T});case r.TraceIdRatio:return new P(K());case r.ParentBasedTraceIdRatio:return new N({root:new P(K())});default:return S.diag.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${r.ParentBasedAlwaysOn}".`),new N({root:new I})}}function K(){let e=(0,E.getNumberFromEnv)("OTEL_TRACES_SAMPLER_ARG");return null==e?(S.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${D}.`),D):e<0||e>1?(S.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e} was given, but it is out of range ([0..1]), defaulting to ${D}.`),D):e}var M=E;let B=128,j=1/0;function $(e){let t={sampler:L()},r=U(),i=Object.assign({},r,t,e);return i.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),i.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),i}function z(e){let t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??(0,M.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??(0,M.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??B,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??(0,M.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,M.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??j,Object.assign({},e,{spanLimits:t})}let F=8,q=16;class V{generateTraceId=G(q);generateSpanId=G(F)}let H=Buffer.allocUnsafe(q);function G(e){return function(){for(let t=0;t<e/4;t++)H.writeUInt32BE(0x100000000*Math.random()>>>0,4*t);for(let t=0;t<e;t++)if(H[t]>0)break;else t===e-1&&(H[e-1]=1);return H.toString("hex",0,e)}}class W{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,t,r,i){const n=$(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new V,this._resource=r,this._spanProcessor=i,this.instrumentationScope=e}startSpan(e,t={},r=a.context.active()){let i,n,o;t.root&&(r=s.trace.deleteSpan(r));let m=s.trace.getSpan(r);if((0,h.isTracingSuppressed)(r))return d.diag.debug("Instrumentation suppressed, returning Noop Span"),s.trace.wrapSpanContext(p.INVALID_SPAN_CONTEXT);let g=m?.spanContext(),y=this._idGenerator.generateSpanId();g&&s.trace.isSpanContextValid(g)?(n=g.traceId,o=g.traceState,i=g):n=this._idGenerator.generateTraceId();let v=t.kind??l.SpanKind.INTERNAL,b=(t.links??[]).map(e=>({context:e.context,attributes:(0,f.sanitizeAttributes)(e.attributes)})),A=(0,f.sanitizeAttributes)(t.attributes),w=this._sampler.shouldSample(r,n,e,v,A,b);o=w.traceState??o;let S={traceId:n,spanId:y,traceFlags:w.decision===u.SamplingDecision.RECORD_AND_SAMPLED?c.TraceFlags.SAMPLED:c.TraceFlags.NONE,traceState:o};if(w.decision===u.SamplingDecision.NOT_RECORD)return d.diag.debug("Recording is off, propagating context in a non-recording span"),s.trace.wrapSpanContext(S);let E=(0,f.sanitizeAttributes)(Object.assign(A,w.attributes));return new _({resource:this._resource,scope:this.instrumentationScope,context:r,spanContext:S,name:e,kind:v,links:b,parentSpanContext:i,attributes:E,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,r,i){let n,o,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(n=t,l=r):(n=t,o=r,l=i);let u=o??a.context.active(),c=this.startSpan(e,n,u),d=s.trace.setSpan(u,c);return a.context.with(d,l,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}var Z=k;class J{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(e=>{(0,Z.globalErrorHandler)(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,r)=>{Promise.all(e).then(()=>{t()},r)})}}!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(i||(i={}));class Q{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){const t=(0,n.merge)({},U(),z(e));this._resource=t.resource??(0,o.defaultResource)(),this._config=Object.assign({},t,{resource:this._resource});const r=[];e.spanProcessors?.length&&r.push(...e.spanProcessors),this._activeSpanProcessor=new J(r)}getTracer(e,t,r){let i=`${e}@${t||""}:${r?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new W({name:e,version:t,schemaUrl:r?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(i)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(t=>new Promise(r=>{let n,o=setTimeout(()=>{r(Error(`Span processor did not completed within timeout period of ${e} ms`)),n=i.timeout},e);t.forceFlush().then(()=>{clearTimeout(o),n!==i.timeout&&r(n=i.resolved)}).catch(e=>{clearTimeout(o),n=i.error,r(e)})}));return new Promise((e,r)=>{Promise.all(t).then(t=>{let n=t.filter(e=>e!==i.resolved);n.length>0?r(n):e()}).catch(e=>r([e]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}var Y=e.i(303997),X=e.i(855948),ee=y;class et{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){return{resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,traceId:e.spanContext().traceId,parentSpanContext:e.parentSpanContext,traceState:e.spanContext().traceState?.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,ee.hrTimeToMicroseconds)(e.startTime),duration:(0,ee.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let t of e)console.dir(this._exportInfo(t),{depth:3});if(t)return t({code:X.ExportResultCode.SUCCESS})}}var er=X;class ei{_finishedSpans=[];_stopped=!1;export(e,t){if(this._stopped)return t({code:er.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:er.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}var en=c,eo=e.i(525099),ea=X,es=k,el=e.i(138914);class eu{_exporter;_shutdownOnce;_pendingExports;constructor(e){this._exporter=e,this._shutdownOnce=new el.BindOnceFuture(this._shutdown,this),this._pendingExports=new Set}async forceFlush(){await Promise.all(Array.from(this._pendingExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){if(this._shutdownOnce.isCalled||(e.spanContext().traceFlags&en.TraceFlags.SAMPLED)==0)return;let t=this._doExport(e).catch(e=>(0,es.globalErrorHandler)(e));this._pendingExports.add(t),t.finally(()=>this._pendingExports.delete(t))}async _doExport(e){e.resource.asyncAttributesPending&&await e.resource.waitForAsyncAttributes?.();let t=await eo.internal._export(this._exporter,[e]);if(t.code!==ea.ExportResultCode.SUCCESS)throw t.error??Error(`SimpleSpanProcessor: span export failed (status ${t})`)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}class ec{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}e.s(["AlwaysOffSampler",()=>T,"AlwaysOnSampler",()=>I,"BasicTracerProvider",()=>Q,"BatchSpanProcessor",()=>Y.BatchSpanProcessor,"ConsoleSpanExporter",()=>et,"InMemorySpanExporter",()=>ei,"NoopSpanProcessor",()=>ec,"ParentBasedSampler",()=>N,"RandomIdGenerator",()=>V,"SamplingDecision",()=>t,"SimpleSpanProcessor",()=>eu,"TraceIdRatioBasedSampler",()=>P],9968)},859298,652213,e=>{"use strict";let t="=",r=";",i=",",n="baggage",o=180,a=4096,s=8192;e.s(["BAGGAGE_HEADER",0,n,"BAGGAGE_ITEMS_SEPARATOR",0,i,"BAGGAGE_KEY_PAIR_SEPARATOR",0,t,"BAGGAGE_MAX_NAME_VALUE_PAIRS",0,o,"BAGGAGE_MAX_PER_NAME_VALUE_PAIRS",0,a,"BAGGAGE_MAX_TOTAL_LENGTH",0,s,"BAGGAGE_PROPERTIES_SEPARATOR",0,r],859298);var l=e.i(85311);function u(e){return e.reduce((e,t)=>{let r=`${e}${""!==e?i:""}${t}`;return r.length>s?e:r},"")}function c(e){return e.getAllEntries().map(([e,t])=>{let i=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(i+=r+t.metadata.toString()),i})}function d(e){let i,n=e.split(r);if(n.length<=0)return;let o=n.shift();if(!o)return;let a=o.indexOf(t);if(a<=0)return;let s=decodeURIComponent(o.substring(0,a).trim()),u=decodeURIComponent(o.substring(a+1).trim());return n.length>0&&(i=(0,l.baggageEntryMetadataFromString)(n.join(r))),{key:s,value:u,metadata:i}}function p(e){let t={};return"string"==typeof e&&e.length>0&&e.split(i).forEach(e=>{let r=d(e);void 0!==r&&r.value.length>0&&(t[r.key]=r.value)}),t}e.s(["getKeyPairs",()=>c,"parseKeyPairsIntoRecord",()=>p,"parsePairKeyValue",()=>d,"serializeKeyPairs",()=>u],652213)},457805,e=>{"use strict";class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}function r(e,r){let i;return Promise.race([e,new Promise(function(e,n){i=setTimeout(function(){n(new t("Operation timed out."))},r)})]).then(e=>(clearTimeout(i),e),e=>{throw clearTimeout(i),e})}e.s(["TimeoutError",()=>t,"callWithTimeout",()=>r])},39964,e=>{"use strict";var t,r=e.i(525099),i=e.i(278596),n=e.i(785507),o=e.i(859298),a=e.i(652213);class s{inject(e,t,r){let s=i.propagation.getBaggage(e);if(!s||(0,n.isTracingSuppressed)(e))return;let l=(0,a.getKeyPairs)(s).filter(e=>e.length<=o.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,o.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=(0,a.serializeKeyPairs)(l);u.length>0&&r.set(t,o.BAGGAGE_HEADER,u)}extract(e,t,r){let n=r.get(t,o.BAGGAGE_HEADER),s=Array.isArray(n)?n.join(o.BAGGAGE_ITEMS_SEPARATOR):n;if(!s)return e;let l={};return 0===s.length||(s.split(o.BAGGAGE_ITEMS_SEPARATOR).forEach(e=>{let t=(0,a.parsePairKeyValue)(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),l[t.key]=e}}),0===Object.entries(l).length)?e:i.propagation.setBaggage(e,i.propagation.createBaggage(l))}fields(){return[o.BAGGAGE_HEADER]}}class l{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}var u=e.i(761932),c=e.i(946272),d=e.i(269841),p=e.i(469392),f=e.i(855948),h=a,m=e.i(357080);let g="object"==typeof globalThis?globalThis:e.g;var y=e.i(45568),v=e.i(175992),b=e.i(461922),A=e.i(730533);class w{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(e=>"function"==typeof e.fields?e.fields():[]).reduce((e,t)=>e.concat(t),[])))}inject(e,t,r){for(let i of this._propagators)try{i.inject(e,t,r)}catch(e){A.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce((e,i)=>{try{return i.extract(e,t,r)}catch(e){A.diag.warn(`Failed to extract with ${i.constructor.name}. Err: ${e.message}`)}return e},e)}fields(){return this._fields.slice()}}var _=e.i(666276),S=e.i(984886),E=e.i(417863),T=n;let I="[_0-9a-z-*/]",x=`[a-z]${I}{0,255}`,O=`[a-z0-9]${I}{0,240}@[a-z]${I}{0,13}`,C=RegExp(`^(?:${x}|${O})$`),k=/^[ -~]{0,255}[!-~]$/,N=/,|=/;function R(e){return C.test(e)}function P(e){return k.test(e)&&!N.test(e)}let D=32,U=512,L=",",K="=";class M{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+K+this.get(t)),e),[]).join(L)}_parse(e){!(e.length>U)&&(this._internalState=e.split(L).reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf(K);if(-1!==i){let n=r.slice(0,i),o=r.slice(i+1,t.length);R(n)&&P(o)&&e.set(n,o)}return e},new Map),this._internalState.size>D&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,D))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new M;return e._internalState=new Map(this._internalState),e}}let B="traceparent",j="tracestate",$="00",z="(?!ff)[\\da-f]{2}",F="(?![0]{32})[\\da-f]{32}",q="(?![0]{16})[\\da-f]{16}",V="[\\da-f]{2}",H=RegExp(`^\\s?(${z})-(${F})-(${q})-(${V})(-.*)?\\s?$`);function G(e){let t=H.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}class W{inject(e,t,r){let i=S.trace.getSpanContext(e);if(!i||(0,T.isTracingSuppressed)(e)||!(0,_.isSpanContextValid)(i))return;let n=`${$}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||E.TraceFlags.NONE).toString(16)}`;r.set(t,B,n),i.traceState&&r.set(t,j,i.traceState.serialize())}extract(e,t,r){let i=r.get(t,B);if(!i)return e;let n=Array.isArray(i)?i[0]:i;if("string"!=typeof n)return e;let o=G(n);if(!o)return e;o.isRemote=!0;let a=r.get(t,j);if(a){let e=Array.isArray(a)?a.join(","):a;o.traceState=new M("string"==typeof e?e:void 0)}return S.trace.setSpanContext(e,o)}fields(){return[B,j]}}let Z=(0,e.i(581493).createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");function J(e,t){return e.setValue(Z,t)}function Q(e){return e.deleteValue(Z)}function Y(e){return e.getValue(Z)}!function(e){e.HTTP="http"}(t||(t={}));var X=n,ee=e.i(392525),et=e.i(457805);function er(e,t){return"string"==typeof t?e===t:!!e.match(t)}function ei(e,t){if(!t)return!1;for(let r of t)if(er(e,r))return!0;return!1}var en=e.i(138914),eo=A,ea=e.i(487285);let es={ALL:ea.DiagLogLevel.ALL,VERBOSE:ea.DiagLogLevel.VERBOSE,DEBUG:ea.DiagLogLevel.DEBUG,INFO:ea.DiagLogLevel.INFO,WARN:ea.DiagLogLevel.WARN,ERROR:ea.DiagLogLevel.ERROR,NONE:ea.DiagLogLevel.NONE};function el(e){if(null==e)return;let t=es[e.toUpperCase()];return null==t?(eo.diag.warn(`Unknown log level "${e}", expected one of ${Object.keys(es)}, using default`),ea.DiagLogLevel.INFO):t}e.s(["AnchoredClock",()=>l,"BindOnceFuture",()=>en.BindOnceFuture,"CompositePropagator",()=>w,"ExportResultCode",()=>f.ExportResultCode,"RPCType",()=>t,"SDK_INFO",()=>m.SDK_INFO,"TRACE_PARENT_HEADER",0,B,"TRACE_STATE_HEADER",0,j,"TimeoutError",()=>et.TimeoutError,"TraceState",()=>M,"W3CBaggagePropagator",()=>s,"W3CTraceContextPropagator",()=>W,"_globalThis",0,g,"addHrTimes",()=>p.addHrTimes,"callWithTimeout",()=>et.callWithTimeout,"deleteRPCMetadata",()=>Q,"diagLogLevelFromString",()=>el,"getBooleanFromEnv",()=>y.getBooleanFromEnv,"getNumberFromEnv",()=>y.getNumberFromEnv,"getRPCMetadata",()=>Y,"getStringFromEnv",()=>y.getStringFromEnv,"getStringListFromEnv",()=>y.getStringListFromEnv,"getTimeOrigin",()=>p.getTimeOrigin,"globalErrorHandler",()=>c.globalErrorHandler,"hrTime",()=>p.hrTime,"hrTimeDuration",()=>p.hrTimeDuration,"hrTimeToMicroseconds",()=>p.hrTimeToMicroseconds,"hrTimeToMilliseconds",()=>p.hrTimeToMilliseconds,"hrTimeToNanoseconds",()=>p.hrTimeToNanoseconds,"hrTimeToTimeStamp",()=>p.hrTimeToTimeStamp,"internal",()=>r.internal,"isAttributeValue",()=>u.isAttributeValue,"isTimeInput",()=>p.isTimeInput,"isTimeInputHrTime",()=>p.isTimeInputHrTime,"isTracingSuppressed",()=>X.isTracingSuppressed,"isUrlIgnored",()=>ei,"loggingErrorHandler",()=>d.loggingErrorHandler,"merge",()=>ee.merge,"millisToHrTime",()=>p.millisToHrTime,"otperformance",()=>v.otperformance,"parseKeyPairsIntoRecord",()=>h.parseKeyPairsIntoRecord,"parseTraceParent",()=>G,"sanitizeAttributes",()=>u.sanitizeAttributes,"setGlobalErrorHandler",()=>c.setGlobalErrorHandler,"setRPCMetadata",()=>J,"suppressTracing",()=>X.suppressTracing,"timeInputToHrTime",()=>p.timeInputToHrTime,"unrefTimer",()=>b.unrefTimer,"unsuppressTracing",()=>X.unsuppressTracing,"urlMatches",()=>er],39964)},764585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NodeTracerProvider=void 0;let i=e.r(322231),n=e.r(9968),o=e.r(407896),a=e.r(39964);function s(e){if(null!==e){if(void 0===e){let e=new i.AsyncLocalStorageContextManager;e.enable(),o.context.setGlobalContextManager(e);return}e.enable(),o.context.setGlobalContextManager(e)}}function l(e){if(null!==e){if(void 0===e)return void o.propagation.setGlobalPropagator(new a.CompositePropagator({propagators:[new a.W3CTraceContextPropagator,new a.W3CBaggagePropagator]}));o.propagation.setGlobalPropagator(e)}}class u extends n.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){o.trace.setGlobalTracerProvider(this),s(e.contextManager),l(e.propagator)}}r.NodeTracerProvider=u},497150,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceIdRatioBasedSampler=r.SimpleSpanProcessor=r.SamplingDecision=r.RandomIdGenerator=r.ParentBasedSampler=r.NoopSpanProcessor=r.InMemorySpanExporter=r.ConsoleSpanExporter=r.BatchSpanProcessor=r.BasicTracerProvider=r.AlwaysOnSampler=r.AlwaysOffSampler=r.NodeTracerProvider=void 0;var i=e.r(764585);Object.defineProperty(r,"NodeTracerProvider",{enumerable:!0,get:function(){return i.NodeTracerProvider}});var n=e.r(9968);Object.defineProperty(r,"AlwaysOffSampler",{enumerable:!0,get:function(){return n.AlwaysOffSampler}}),Object.defineProperty(r,"AlwaysOnSampler",{enumerable:!0,get:function(){return n.AlwaysOnSampler}}),Object.defineProperty(r,"BasicTracerProvider",{enumerable:!0,get:function(){return n.BasicTracerProvider}}),Object.defineProperty(r,"BatchSpanProcessor",{enumerable:!0,get:function(){return n.BatchSpanProcessor}}),Object.defineProperty(r,"ConsoleSpanExporter",{enumerable:!0,get:function(){return n.ConsoleSpanExporter}}),Object.defineProperty(r,"InMemorySpanExporter",{enumerable:!0,get:function(){return n.InMemorySpanExporter}}),Object.defineProperty(r,"NoopSpanProcessor",{enumerable:!0,get:function(){return n.NoopSpanProcessor}}),Object.defineProperty(r,"ParentBasedSampler",{enumerable:!0,get:function(){return n.ParentBasedSampler}}),Object.defineProperty(r,"RandomIdGenerator",{enumerable:!0,get:function(){return n.RandomIdGenerator}}),Object.defineProperty(r,"SamplingDecision",{enumerable:!0,get:function(){return n.SamplingDecision}}),Object.defineProperty(r,"SimpleSpanProcessor",{enumerable:!0,get:function(){return n.SimpleSpanProcessor}}),Object.defineProperty(r,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return n.TraceIdRatioBasedSampler}})},584930,692239,e=>{"use strict";var t,r,i;!function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"}(t||(t={})),e.s(["AggregationTemporality",()=>t],584930),function(e){e.COUNTER="COUNTER",e.GAUGE="GAUGE",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(r||(r={})),function(e){e[e.HISTOGRAM=0]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",e[e.GAUGE=2]="GAUGE",e[e.SUM=3]="SUM"}(i||(i={})),e.s(["DataPointType",()=>i,"InstrumentType",()=>r],692239)},165992,e=>{"use strict";var t=e.i(497150),r=e.i(405614),i=e.i(842862),n=e.i(347064),o=e.i(580537);let a=1000000000n,s=e=>[Number(e/a),Number(e%a)],l=e=>Object.entries(e).reduce((e,[t,r])=>(e[t]=u(r),e),{}),u=e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:"bigint"==typeof e?Number(e):o.toStringUnknown(e),c=e=>void 0!==e&&!(Array.isArray(e)&&0===e.length);var d=e.i(730533);class p{emit(e){}}let f=new p;var h=e.i(580905),m=e.i(138914),g=e.i(392525),y=e.i(344467),v=e.i(984886),b=e.i(666276),A=d,w=e.i(469392),_=e.i(761932);class S{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get eventName(){return this._eventName}set eventName(e){this._isLogRecordReadonly()||(this._eventName=e)}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(e,t,r){const{timestamp:i,observedTimestamp:n,eventName:o,severityNumber:a,severityText:s,body:l,attributes:u={},context:c}=r,d=Date.now();if(this.hrTime=(0,w.timeInputToHrTime)(i??d),this.hrTimeObserved=(0,w.timeInputToHrTime)(n??d),c){const e=v.trace.getSpanContext(c);e&&b.isSpanContextValid(e)&&(this.spanContext=e)}this.severityNumber=a,this.severityText=s,this.body=l,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this._eventName=o,this.setAttributes(u)}setAttribute(e,t){return this._isLogRecordReadonly()||null===t||(0===e.length?A.diag.warn(`Invalid attribute key: ${e}`):(0,_.isAttributeValue)(t)||"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e))?1===this.droppedAttributesCount&&A.diag.warn("Dropping extra attributes."):(0,_.isAttributeValue)(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t:A.diag.warn(`Invalid attribute value set for key: ${e}`)),this}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}setBody(e){return this.body=e,this}setEventName(e){return this.eventName=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let t=this._logRecordLimits.attributeValueLengthLimit;return t<=0?(A.diag.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_isLogRecordReadonly(){return this._isReadonly&&A.diag.warn("Can not execute the operation on emitted log record"),this._isReadonly}}class E{instrumentationScope;_sharedState;constructor(e,t){this.instrumentationScope=e,this._sharedState=t}emit(e){let t=e.context||y.context.active(),r=new S(this._sharedState,this.instrumentationScope,{context:t,...e});this._sharedState.activeProcessor.onEmit(r,t),r._makeReadonly()}}var T=e.i(45568);function I(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,T.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,T.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}function x(e){return{attributeCountLimit:e.attributeCountLimit??(0,T.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??(0,T.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:e.attributeValueLengthLimit??(0,T.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,T.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}class O{forceFlush(){return Promise.resolve()}onEmit(e,t){}shutdown(){return Promise.resolve()}}var C=e.i(457805);class k{processors;forceFlushTimeoutMillis;constructor(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(t=>(0,C.callWithTimeout)(t.forceFlush(),e)))}onEmit(e,t){this.processors.forEach(r=>r.onEmit(e,t))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}}class N{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(e,t,r,i){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=r,this.processors=i,i.length>0?(this.registeredLogRecordProcessors=i,this.activeProcessor=new k(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis)):this.activeProcessor=new O}}let R="unknown";class P{_shutdownOnce;_sharedState;constructor(e={}){const t=(0,g.merge)({},I(),e),r=e.resource??(0,h.defaultResource)();this._sharedState=new N(r,t.forceFlushTimeoutMillis,x(t.logRecordLimits),e?.processors??[]),this._shutdownOnce=new m.BindOnceFuture(this._shutdown,this)}getLogger(e,t,r){if(this._shutdownOnce.isCalled)return d.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),f;e||d.diag.warn("Logger requested without instrumentation scope name.");let i=e||R,n=`${i}@${t||""}:${r?.schemaUrl||""}`;return this._sharedState.loggers.has(n)||this._sharedState.loggers.set(n,new E({name:i,version:t,schemaUrl:r?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(n)}forceFlush(){return this._shutdownOnce.isCalled?(d.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(d.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}var D=e.i(435146),U=e.i(777865),L=r,K=e.i(500577),M=e.i(169228),B=e.i(684823),j=n,$=e.i(11194),z=e.i(939798),F=h,q=e.i(35606),V=D,H=e.i(293889),G=r,W=i,Z=n;let J=(0,U.GenericTag)("@effect/opentelemetry/Resource"),Q=e=>{let t={...e.attributes??void 0,[q.ATTR_SERVICE_NAME]:e.serviceName,[q.ATTR_TELEMETRY_SDK_NAME]:"@effect/opentelemetry",[q.ATTR_TELEMETRY_SDK_LANGUAGE]:void 0===globalThis.document?q.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:q.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS};return e.serviceVersion&&(t[q.ATTR_SERVICE_VERSION]=e.serviceVersion),t},Y=e=>Z.effect(J,G.gen(function*(){let t=yield*(0,W.pipe)(H.string("OTEL_SERVICE_NAME"),H.option,G.orDie),r=yield*(0,W.pipe)(H.string("OTEL_RESOURCE_ATTRIBUTES"),H.withDefault(""),H.map(e=>{let t=e.split(",");return V.reduce(t,{},(e,t)=>{let r=t.split("=");return 2!==r.length||(e[r[0].trim()]=r[1].trim()),e})}),G.orDie);return"Some"===t._tag&&(r[q.ATTR_SERVICE_NAME]=t.value),e&&Object.assign(r,e),F.resourceFromAttributes(r)})),X=Z.succeed(J,F.emptyResource());class ee extends U.Tag("@effect/opentelemetry/Logger/OtelLoggerProvider")(){}let et=L.gen(function*(){let e=yield*ee,t=yield*L.clock,r=e.getLogger("@effect/opentelemetry");return $.make(e=>{let i=e.date.getTime(),n={fiberId:K.threadName(e.fiberId)},o=U.getOption(B.getOrDefault(e.context,M.currentContext),z.ParentSpan);for(let[t,r]of("Some"===o._tag&&(n.spanId=o.value.spanId,n.traceId=o.value.traceId),e.annotations))n[t]=u(r);for(let t of e.spans)n[`logSpan.${t.label}`]=`${i-t.startTime}ms`;let a=D.ensure(e.message).map(u);r.emit({body:1===a.length?a[0]:a,severityText:e.logLevel.label,severityNumber:e.logLevel.ordinal,timestamp:e.date,observedTimestamp:t.unsafeCurrentTimeMillis(),attributes:n})})}),er=$.addEffect(et);$.defaultLogger;let ei=(e,t)=>j.scoped(ee,L.flatMap(J,r=>L.acquireRelease(L.sync(()=>new P({...t??void 0,processors:D.ensure(e),resource:r})),e=>L.promise(()=>e.forceFlush().then(()=>e.shutdown())).pipe(L.ignoreLogged,L.interruptible,L.timeoutOption(t?.shutdownTimeout??3e3)))));var en=e.i(984126),eo=e.i(584930),ea=e.i(692239),es=D,el=r,eu=n,ec=e.i(754657),ed=e.i(564533);ed.MetricKeyTypeTypeId,ed.CounterKeyTypeTypeId,ed.FrequencyKeyTypeTypeId,ed.GaugeKeyTypeTypeId,ed.HistogramKeyTypeTypeId,ed.SummaryKeyTypeTypeId,ed.counter,ed.frequency,ed.gauge,ed.histogram,ed.summary,ed.isMetricKeyType;let ep=ed.isCounterKey,ef=ed.isFrequencyKey,eh=ed.isGaugeKey,em=ed.isHistogramKey;ed.isSummaryKey;var eg=e.i(882837),ey=e.i(65632);let ev="@effect/opentelemetry/Metrics";class eb{resource;constructor(e){this.resource=e}startTimes=new Map;startTimeFor(e,t){return this.startTimes.has(e)?this.startTimes.get(e):(this.startTimes.set(e,t),t)}collect(e){let t=ec.unsafeSnapshot(),r=eS(),i=[],n=new Map,o=e=>{i.push(e),n.set(e.descriptor.name,e)};for(let e=0,i=t.length;e<i;e++){let{metricKey:i,metricState:a}=t[e],s=es.reduce(i.tags,{},(e,t)=>(e[t.key]=t.value,e)),l=ew(i,s),u=this.startTimeFor(l.name,r);if(eg.isCounterState(a)){let e={startTime:u,endTime:r,attributes:s,value:Number(a.count)};n.has(l.name)?n.get(l.name).dataPoints.push(e):o({dataPointType:ea.DataPointType.SUM,descriptor:l,isMonotonic:l.type===ea.InstrumentType.COUNTER,aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,dataPoints:[e]})}else if(eg.isGaugeState(a)){let e={startTime:u,endTime:r,attributes:s,value:Number(a.value)};n.has(l.name)?n.get(l.name).dataPoints.push(e):o({dataPointType:ea.DataPointType.GAUGE,descriptor:l,aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,dataPoints:[e]})}else if(eg.isHistogramState(a)){let e=a.buckets.length,t={boundaries:es.allocate(e-1),counts:es.allocate(e)},i=0,c=0;for(let[r,n]of a.buckets)i<e-1&&(t.boundaries[i]=r),t.counts[i]=n-c,c=n,i++;let d={startTime:u,endTime:r,attributes:s,value:{buckets:t,count:a.count,min:a.min,max:a.max,sum:a.sum}};n.has(l.name)?n.get(l.name).dataPoints.push(d):o({dataPointType:ea.DataPointType.HISTOGRAM,descriptor:l,aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,dataPoints:[d]})}else if(eg.isFrequencyState(a)){let e=[];for(let[t,i]of a.occurrences)e.push({startTime:u,endTime:r,attributes:{...s,key:t},value:i});n.has(l.name)?n.get(l.name).dataPoints.push(...e):o({dataPointType:ea.DataPointType.SUM,descriptor:ew(i,s),aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,isMonotonic:!0,dataPoints:e})}else if(eg.isSummaryState(a)){let e=[{startTime:u,endTime:r,attributes:{...s,quantile:"min"},value:a.min}];for(let[t,i]of a.quantiles)e.push({startTime:u,endTime:r,attributes:{...s,quantile:t.toString()},value:"Some"===i._tag?i.value:0});e.push({startTime:u,endTime:r,attributes:{...s,quantile:"max"},value:a.max});let t={startTime:u,endTime:r,attributes:s,value:a.count},c={startTime:u,endTime:r,attributes:s,value:a.sum};n.has(`${l.name}_quantiles`)?(n.get(`${l.name}_quantiles`).dataPoints.push(...e),n.get(`${l.name}_count`).dataPoints.push(t),n.get(`${l.name}_sum`).dataPoints.push(c)):(o({dataPointType:ea.DataPointType.SUM,descriptor:ew(i,s,"quantiles"),aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,isMonotonic:!1,dataPoints:e}),o({dataPointType:ea.DataPointType.SUM,descriptor:{...eA(i,"count"),unit:"1",type:ea.InstrumentType.COUNTER,valueType:en.ValueType.INT},aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,isMonotonic:!0,dataPoints:[t]}),o({dataPointType:ea.DataPointType.SUM,descriptor:{...eA(i,"sum"),unit:"1",type:ea.InstrumentType.COUNTER,valueType:en.ValueType.DOUBLE},aggregationTemporality:eo.AggregationTemporality.CUMULATIVE,isMonotonic:!0,dataPoints:[c]}))}}return Promise.resolve({resourceMetrics:{resource:this.resource,scopeMetrics:[{scope:{name:ev},metrics:i}]},errors:[]})}}let eA=(e,t)=>({name:t?`${e.name}_${t}`:e.name,description:ey.getOrElse(e.description,()=>""),advice:{}}),ew=(e,t,r)=>({...eA(e,r),unit:t.unit??t.time_unit??"1",type:e_(e),valueType:"bigint"in e.keyType&&!0===e.keyType.bigint?en.ValueType.INT:en.ValueType.DOUBLE}),e_=e=>em(e.keyType)?ea.InstrumentType.HISTOGRAM:eh(e.keyType)?ea.InstrumentType.OBSERVABLE_GAUGE:ef(e.keyType)?ea.InstrumentType.COUNTER:ep(e.keyType)&&e.keyType.incremental?ea.InstrumentType.COUNTER:ea.InstrumentType.UP_DOWN_COUNTER,eS=()=>{let e=Date.now();return[Math.floor(e/1e3),e%1e3*1e6]},eE=el.map(J,e=>new eb(e)),eT=(e,t,r)=>el.acquireRelease(el.sync(()=>{let r=t(),i=Array.isArray(r)?r:[r];return i.forEach(t=>t.setMetricProducer(e)),i}),e=>el.promise(()=>Promise.all(e.map(e=>e.shutdown()))).pipe(el.ignoreLogged,el.interruptible,el.timeoutOption(r?.shutdownTimeout??3e3))),eI=(e,t)=>eu.scopedDiscard(el.flatMap(eE,r=>eT(r,e,t)));var ex=e.i(385656),eO=v,eC=e.i(417863),ek=e.i(419798),eN=y,eR=e.i(992527),eP=q,eD=e.i(710284),eU=U,eL=r,eK=n,eM=ey,eB=z;let ej=Symbol.for("@effect/opentelemetry/Tracer/OtelSpan"),e$={internal:ex.SpanKind.INTERNAL,client:ex.SpanKind.CLIENT,server:ex.SpanKind.SERVER,producer:ex.SpanKind.PRODUCER,consumer:ex.SpanKind.CONSUMER},ez=(e,t,r)=>{let i=e.getSpan(t),n=i?i.spanContext():void 0;return n?eM.some(eB.externalSpan({spanId:n.spanId,traceId:n.traceId,sampled:(1&n.traceFlags)==1,context:r})):eM.none()};class eF{name;context;links;kind;[ej];_tag="Span";span;spanId;traceId;attributes=new Map;sampled;parent;status;constructor(e,t,r,i,n,o,a,u,c,d){this.name=i,this.context=o,this.links=a,this.kind=c,this[ej]=ej;const p=e.active();this.parent="Some"===n._tag?n:d?.root!==!0?ez(t,p,o):eM.none(),this.span=r.startSpan(i,{startTime:s(u),links:a.length>0?a.map(e=>({context:eX(e.span),attributes:l(e.attributes)})):void 0,kind:e$[this.kind]},"Some"===this.parent._tag?eY(p,this.parent.value,o):eO.trace.deleteSpan(p));const f=this.span.spanContext();this.spanId=f.spanId,this.traceId=f.traceId,this.status={_tag:"Started",startTime:u},this.sampled=(f.traceFlags&eC.TraceFlags.SAMPLED)===eC.TraceFlags.SAMPLED}attribute(e,t){this.span.setAttribute(e,u(t)),this.attributes.set(e,t)}addLinks(e){this.links.push(...e),this.span.addLinks(e.map(e=>({context:eX(e.span),attributes:l(e.attributes)})))}end(e,t){let r=s(e);if(this.status={_tag:"Ended",endTime:e,exit:t,startTime:this.status.startTime},"Success"===t._tag)this.span.setStatus({code:ek.SpanStatusCode.OK});else if(eD.isInterruptedOnly(t.cause))this.span.setStatus({code:ek.SpanStatusCode.OK,message:eD.pretty(t.cause)}),this.span.setAttribute("span.label"," Interrupted"),this.span.setAttribute("status.interrupted",!0);else{let e=eD.prettyErrors(t.cause)[0];e?(e.stack=eD.pretty(t.cause,{renderErrorCause:!0}),this.span.recordException(e,r),this.span.setStatus({code:ek.SpanStatusCode.ERROR,message:e.message})):this.span.setStatus({code:ek.SpanStatusCode.OK})}this.span.end(r)}event(e,t,r){this.span.addEvent(e,r?l(r):void 0,s(t))}}let eq=eU.GenericTag("@effect/opentelemetry/Tracer/OtelTracerProvider"),eV=eU.GenericTag("@effect/opentelemetry/Tracer/OtelTracer"),eH=eL.map(eV,e=>eB.make({span:(t,r,i,n,o,a,s)=>new eF(eN.context,eO.trace,e,t,r,i,n.slice(),o,a,s),context(e,t){let r=t.currentSpan;return void 0===r?e():eN.context.with(eY(eN.context.active(),r),e)}})),eG=eU.GenericTag("@effect/opentelemetry/Tracer/OtelTraceFlags"),eW=eU.GenericTag("@effect/opentelemetry/Tracer/OtelTraceState");eL.currentSpan,()=>eO.trace.getTracerProvider();let eZ=eK.effect(eV,eL.flatMap(eL.zip(J,eq),([e,t])=>eL.sync(()=>t.getTracer(e.attributes[eP.ATTR_SERVICE_NAME],e.attributes[eP.ATTR_SERVICE_VERSION])))),eJ=eK.unwrapEffect(eL.map(eH,eK.setTracer)).pipe(eK.provideMerge(eZ)),eQ=eM.liftThrowable(eR.createTraceState),eY=(e,t,r)=>t instanceof eF?eO.trace.setSpan(e,t.span):eO.trace.setSpanContext(e,eX(t,r)),eX=(e,t)=>({spanId:e.spanId,traceId:e.traceId,isRemote:"ExternalSpan"===e._tag,traceFlags:eM.getOrElse(t?e0(e,t,eG):eU.getOption(e.context,eG),()=>eC.TraceFlags.SAMPLED),traceState:eM.getOrUndefined(t?e0(e,t,eW):eU.getOption(e.context,eW))}),e0=(e,t,r)=>eM.orElse(eU.getOption(t,r),()=>eU.getOption(e.context,r)),e1=eJ,e2=eq,e4=(e,i)=>n.scoped(e2,r.flatMap(J,n=>r.acquireRelease(r.sync(()=>new t.NodeTracerProvider({...i??void 0,resource:n,spanProcessors:Array.isArray(e)?e:[e]})),e=>r.promise(()=>e.forceFlush().then(()=>e.shutdown())).pipe(r.ignoreLogged,r.interruptible,r.timeoutOption(i?.shutdownTimeout??3e3))))),e3=e=>n.unwrapEffect(r.map(r.isEffect(e)?e:r.sync(e),e=>{let t=Y(e.resource&&Q(e.resource)),r=c(e.spanProcessor)?n.provide(e1,e4(e.spanProcessor,{...e.tracerConfig,shutdownTimeout:e.shutdownTimeout})):n.empty,o=c(e.metricReader)?eI((0,i.constant)(e.metricReader),e):n.empty,a=c(e.logRecordProcessor)?n.provide(er,ei(e.logRecordProcessor,{...e.loggerProviderConfig,shutdownTimeout:e.shutdownTimeout})):n.empty;return n.mergeAll(r,o,a).pipe(n.provideMerge(t))})),e5=X;e.s(["layer",0,e3,"layerEmpty",0,e5,"layerTracerProvider",0,e4],262499);var e6=e.i(262499);e.s(["NodeSdk",0,e6],165992)},675498,e=>{"use strict";var t=e.i(641808),r=e.i(347064);let i=(e,i)=>r.scoped(t.Socket,t.makeWebSocket(e,i)).pipe(r.provide(n)),n=r.succeed(t.WebSocketConstructor,(e,t)=>new globalThis.WebSocket(e,t));e.s(["layerWebSocket",0,i,"layerWebSocketConstructor",0,n],197684),e.i(197684);var o=t,a=e.i(156312),s=e.i(777865),l=e.i(385510),u=e.i(405614),c=e.i(918214),d=e.i(842862),p=r,f=e.i(625552),h=e.i(761095);let m=s.GenericTag("@effect/platform-node/NodeSocket/NetSocket"),g=e=>y(u.scopeWith(t=>{let r;return u.flatMap(f.addFinalizer(t,u.sync(()=>{r&&!1===r.closed&&("destroySoon"in r?r.destroySoon():r.destroy())})),()=>u.async(t=>{(r=h.createConnection(e)).once("connect",()=>{t(u.succeed(r))}),r.on("error",e=>{t(u.fail(new o.SocketGenericError({reason:"Open",cause:e})))})}))}),e),y=(e,t)=>u.withFiberRuntime(r=>{let i,n=u.unsafeMakeLatch(!1),a=r.currentContext,p=(r,p)=>u.scopedWith(u.fnUntraced(function*(a){let s,h=yield*c.make().pipe(f.extend(a));yield*f.addFinalizer(a,u.sync(()=>{s&&(s.off("data",y),s.off("end",v),s.off("error",b),s.off("close",A))})),(s=yield*f.extend(e,a).pipe(t?.openTimeout?u.timeoutFail({duration:t.openTimeout,onTimeout:()=>new o.SocketGenericError({reason:"Open",cause:Error("Connection timed out")})}):d.identity)).on("end",v),s.on("error",b),s.on("close",A);let g=yield*u.provideService(c.runtime(h)(),m,s);return s.on("data",y),i=s,yield*n.open,p?.onOpen&&(yield*p.onOpen),yield*c.join(h);function y(e){let t=r(e);u.isEffect(t)&&g(t)}function v(){l.unsafeDone(h.deferred,u.void)}function b(e){l.unsafeDone(h.deferred,u.fail(new o.SocketGenericError({reason:"Read",cause:e})))}function A(e){l.unsafeDone(h.deferred,u.fail(new o.SocketCloseError({reason:"Close",code:e?1006:1e3})))}})).pipe(u.mapInputContext(e=>s.merge(a,e)),u.ensuring(u.sync(()=>{n.unsafeClose(),i=void 0})),u.interruptible),h=e=>n.whenOpen(u.async(t=>{let r=i;if(o.isCloseEvent(e))return r.destroy(e.code>1e3?Error(`closed with code ${e.code}`):void 0),t(u.void);i.write(e,e=>{t(e?u.fail(new o.SocketGenericError({reason:"Write",cause:e})):u.void)})})),g=u.acquireRelease(u.succeed(h),()=>u.sync(()=>{i&&!i.writableEnded&&i.end()}));return u.succeed(o.Socket.of({[o.TypeId]:o.TypeId,run:p,runRaw:p,writer:g}))}),v=e=>a.unwrapScoped(u.map(g(e),o.toChannelWith())),b=e=>p.effect(o.Socket,g(e));e.s(["NetSocket",0,m,"fromDuplex",0,y,"layerNet",0,b,"makeNet",0,g,"makeNetChannel",0,v],97063),e.i(97063),e.s(["NetSocket",0,m,"fromDuplex",0,y,"layerNet",0,b,"layerWebSocket",0,i,"layerWebSocketConstructor",0,n,"makeNet",0,g,"makeNetChannel",0,v],920313);var A=e.i(920313);e.s(["BunSocket",0,A],675498)},216152,83970,526184,129137,457171,e=>{"use strict";class t{_delegate;constructor(e){this._delegate=e}export(e,t){this._delegate.export(e,t)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}}e.s(["OTLPExporterBase",()=>t],216152);var r=e.i(469392);function i(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function n(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let o=i(e.charCodeAt(n)),a=i(e.charCodeAt(n+1));t[r++]=o<<4|a}return t}function o(e){let t=BigInt(1e9);return BigInt(Math.trunc(e[0]))*t+BigInt(Math.trunc(e[1]))}function a(e){return{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}function s(e){return a(o(e))}function l(e){return o(e).toString()}let u="undefined"!=typeof BigInt?l:r.hrTimeToNanoseconds;function c(e){return e}function d(e){if(void 0!==e)return n(e)}let p={encodeHrTime:s,encodeSpanContext:n,encodeOptionalSpanContext:d};function f(e){if(void 0===e)return p;let t=e.useLongBits??!0,r=e.useHex??!1;return{encodeHrTime:t?s:u,encodeSpanContext:r?c:n,encodeOptionalSpanContext:r?c:d}}function h(e){let t={attributes:g(e.attributes),droppedAttributesCount:0},r=e.schemaUrl;return r&&""!==r&&(t.schemaUrl=r),t}function m(e){return{name:e.name,version:e.version}}function g(e){return Object.keys(e).map(t=>y(t,e[t]))}function y(e,t){return{key:e,value:v(t)}}function v(e){let t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(v)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map(([e,t])=>y(e,t))}}:{}}e.s(["getOtlpEncoder",()=>f],83970),e.s(["createInstrumentationScope",()=>m,"createResource",()=>h,"toAnyValue",()=>v,"toAttributes",()=>g,"toKeyValue",()=>y],526184);var b=e.i(730533);function A(e){if(Number.isFinite(e)&&e>0)return e;throw Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${e}')`)}function w(e){if(null!=e)return()=>e}function _(e,t,r){return{timeoutMillis:A(e.timeoutMillis??t.timeoutMillis??r.timeoutMillis),concurrencyLimit:e.concurrencyLimit??t.concurrencyLimit??r.concurrencyLimit,compression:e.compression??t.compression??r.compression}}function S(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var E=b;function T(e){return()=>{let t={};return Object.entries(e?.()??{}).forEach(([e,r])=>{void 0!==r?t[e]=String(r):E.diag.warn(`Header "${e}" has invalid value (${r}) and will be ignored`)}),t}}function I(e,t,r){let i={...r()},n={};return()=>(null!=t&&Object.assign(n,t()),null!=e&&Object.assign(n,e()),Object.assign(n,i))}function x(e){if(null!=e)try{let t=globalThis.location?.href;return new URL(e,t).href}catch{throw Error(`Configuration: Could not parse user-provided export URL: '${e}'`)}}function O(e,t,r){return{..._(e,t,r),headers:I(T(e.headers),t.headers,r.headers),url:x(e.url)??t.url??r.url}}function C(e,t){return{...S(),headers:()=>e,url:"http://localhost:4318/"+t}}function k(t){return async r=>{let i="http:"===r?e.A(953731):e.A(367955),{Agent:n}=await i;return new n(t)}}function N(e,t,r){return{...O(e,t,r),agentFactory:e.agentFactory??t.agentFactory??r.agentFactory}}function R(e,t){return{...C(e,t),agentFactory:k({keepAlive:!0})}}var P=e.i(45568),D=e.i(652213),U=b,L=P,K=b;function M(e){let t=(0,L.getNumberFromEnv)(e);if(null!=t){if(Number.isFinite(t)&&t>0)return t;K.diag.warn(`Configuration: ${e} is invalid, expected number greater than 0 (actual: ${t})`)}}function B(e){let t=M(`OTEL_EXPORTER_OTLP_${e}_TIMEOUT`),r=M("OTEL_EXPORTER_OTLP_TIMEOUT");return t??r}function j(e){let t=(0,L.getStringFromEnv)(e)?.trim();if(null==t||"none"===t||"gzip"===t)return t;K.diag.warn(`Configuration: ${e} is invalid, expected 'none' or 'gzip' (actual: '${t}')`)}function $(e){let t=j(`OTEL_EXPORTER_OTLP_${e}_COMPRESSION`),r=j("OTEL_EXPORTER_OTLP_COMPRESSION");return t??r}function z(e){return{timeoutMillis:B(e),compression:$(e)}}function F(e){let t=(0,P.getStringFromEnv)(`OTEL_EXPORTER_OTLP_${e}_HEADERS`),r=(0,P.getStringFromEnv)("OTEL_EXPORTER_OTLP_HEADERS"),i=(0,D.parseKeyPairsIntoRecord)(t),n=(0,D.parseKeyPairsIntoRecord)(r);if(0!==Object.keys(i).length||0!==Object.keys(n).length)return Object.assign({},(0,D.parseKeyPairsIntoRecord)(r),(0,D.parseKeyPairsIntoRecord)(t))}function q(e){try{return new URL(e).toString()}catch{U.diag.warn(`Configuration: Could not parse environment-provided export URL: '${e}', falling back to undefined`);return}}function V(e,t){try{new URL(e)}catch{U.diag.warn(`Configuration: Could not parse environment-provided export URL: '${e}', falling back to undefined`);return}e.endsWith("/")||(e+="/"),e+=t;try{new URL(e)}catch{U.diag.warn(`Configuration: Provided URL appended with '${t}' is not a valid URL, using 'undefined' instead of '${e}'`);return}return e}function H(e){let t=(0,P.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT");if(void 0!==t)return V(t,e)}function G(e){let t=(0,P.getStringFromEnv)(`OTEL_EXPORTER_OTLP_${e}_ENDPOINT`);if(void 0!==t)return q(t)}function W(e,t){return{...z(e),url:G(e)??H(t),headers:w(F(e))}}function Z(e){if("function"==typeof e.httpAgentOptions)return e.httpAgentOptions;let t=e.httpAgentOptions;return(null!=e.keepAlive&&(t={keepAlive:e.keepAlive,...t}),null!=t)?k(t):void 0}function J(e,t,r,i){return e.metadata&&b.diag.warn("Metadata cannot be set when using http"),N({url:e.url,headers:w(e.headers),concurrencyLimit:e.concurrencyLimit,timeoutMillis:e.timeoutMillis,compression:e.compression,agentFactory:Z(e)},W(t,r),R(i,r))}e.s(["convertLegacyHttpOptions",()=>J],129137);var Q=e.i(855948);class Y extends Error{code;name="OTLPExporterError";data;constructor(e,t,r){super(e),this.data=r,this.code=t}}var X=b;function ee(e){return Object.prototype.hasOwnProperty.call(e,"partialSuccess")}function et(){return{handleResponse(e){null!=e&&ee(e)&&null!=e.partialSuccess&&0!==Object.keys(e.partialSuccess).length&&X.diag.warn("Received Partial Success response:",JSON.stringify(e.partialSuccess))}}}var er=b;class ei{_transport;_serializer;_responseHandler;_promiseQueue;_timeout;_diagLogger;constructor(e,t,r,i,n){this._transport=e,this._serializer=t,this._responseHandler=r,this._promiseQueue=i,this._timeout=n,this._diagLogger=er.diag.createComponentLogger({namespace:"OTLPExportDelegate"})}export(e,t){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit())return void t({code:Q.ExportResultCode.FAILED,error:Error("Concurrent export limit reached")});let r=this._serializer.serializeRequest(e);null==r?t({code:Q.ExportResultCode.FAILED,error:Error("Nothing to send")}):this._promiseQueue.pushPromise(this._transport.send(r,this._timeout).then(e=>{if("success"===e.status){if(null!=e.data)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(e.data))}catch(t){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",t,e.data)}t({code:Q.ExportResultCode.SUCCESS});return}"failure"===e.status&&e.error?t({code:Q.ExportResultCode.FAILED,error:e.error}):"retryable"===e.status?t({code:Q.ExportResultCode.FAILED,error:new Y("Export failed with retryable status")}):t({code:Q.ExportResultCode.FAILED,error:new Y("Export failed with unknown error")})},e=>t({code:Q.ExportResultCode.FAILED,error:e})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}}function en(e,t){return new ei(e.transport,e.serializer,et(),e.promiseHandler,t.timeout)}var eo=e.i(406461),ea=e.i(688947);function es(e){return[429,502,503,504].includes(e)}function el(e){if(null==e)return;let t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?1e3*t:-1;let r=new Date(e).getTime()-Date.now();return r>=0?r:0}function eu(e,t,r,i,n,o){let a=new URL(t.url),s=e({hostname:a.hostname,port:a.port,path:a.pathname,method:"POST",headers:{...t.headers()},agent:r},e=>{let t=[];e.on("data",e=>t.push(e)),e.on("end",()=>{e.statusCode&&e.statusCode<299?n({status:"success",data:Buffer.concat(t)}):e.statusCode&&es(e.statusCode)?n({status:"retryable",retryInMillis:el(e.headers["retry-after"])}):n({status:"failure",error:new Y(e.statusMessage,e.statusCode,Buffer.concat(t).toString())})})});s.setTimeout(o,()=>{s.destroy(),n({status:"failure",error:Error("Request Timeout")})}),s.on("error",e=>{n({status:"failure",error:e})}),ec(s,t.compression,i,e=>{n({status:"failure",error:e})})}function ec(e,t,r,i){let n=ed(r);"gzip"===t&&(e.setHeader("Content-Encoding","gzip"),n=n.on("error",i).pipe(eo.createGzip()).on("error",i)),n.pipe(e).on("error",i)}function ed(e){let t=new ea.Readable;return t.push(e),t.push(null),t}class ep{_parameters;_utils=null;constructor(e){this._parameters=e}async send(e,t){let{agent:r,request:i}=await this._loadUtils();return new Promise(n=>{eu(i,this._parameters,r,e,e=>{n(e)},t)})}shutdown(){}async _loadUtils(){let e=this._utils;if(null===e){let t=new URL(this._parameters.url).protocol,[r,i]=await Promise.all([this._parameters.agentFactory(t),ef(t)]);e=this._utils={agent:r,request:i}}return e}}async function ef(t){let r="http:"===t?e.A(953731):e.A(367955),{request:i}=await r;return i}function eh(e){return new ep(e)}class em{_concurrencyLimit;_sendingPromises=[];constructor(e){this._concurrencyLimit=e}pushPromise(e){if(this.hasReachedLimit())throw Error("Concurrency Limit reached");this._sendingPromises.push(e);let t=()=>{let t=this._sendingPromises.indexOf(e);this._sendingPromises.splice(t,1)};e.then(t,t)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}}function eg(e){return new em(e.concurrencyLimit)}let ey=5,ev=1e3,eb=5e3,eA=1.5,ew=.2;function e_(){return 2*ew*Math.random()-ew}class eS{_transport;constructor(e){this._transport=e}retry(e,t,r){return new Promise((i,n)=>{setTimeout(()=>{this._transport.send(e,t).then(i,n)},r)})}async send(e,t){let r=Date.now()+t,i=await this._transport.send(e,t),n=ey,o=ev;for(;"retryable"===i.status&&n>0;){n--;let t=Math.max(Math.min(o,eb)+e_(),0);o*=eA;let a=i.retryInMillis??t,s=r-Date.now();if(a>s)break;i=await this.retry(e,s,a)}return i}shutdown(){return this._transport.shutdown()}}function eE(e){return new eS(e.transport)}function eT(e,t){return en({transport:eE({transport:eh(e)}),serializer:t,promiseHandler:eg(e)},{timeout:e.timeoutMillis})}e.s(["createOtlpHttpExportDelegate",()=>eT],457171)},997857,e=>{"use strict";var t=e.i(216152),r=e.i(83970),i=e.i(526184);function n(e,t){return{resourceLogs:a(e,(0,r.getOtlpEncoder)(t))}}function o(e){let t=new Map;for(let r of e){let{resource:e,instrumentationScope:{name:i,version:n="",schemaUrl:o=""}}=r,a=t.get(e);a||(a=new Map,t.set(e,a));let s=`${i}@${n}:${o}`,l=a.get(s);l||(l=[],a.set(s,l)),l.push(r)}return t}function a(e,t){return Array.from(o(e),([e,r])=>{let n=(0,i.createResource)(e);return{resource:n,scopeLogs:Array.from(r,([,e])=>({scope:(0,i.createInstrumentationScope)(e[0].instrumentationScope),logRecords:e.map(e=>s(e,t)),schemaUrl:e[0].instrumentationScope.schemaUrl})),schemaUrl:n.schemaUrl}})}function s(e,t){return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:l(e.severityNumber),severityText:e.severityText,body:(0,i.toAnyValue)(e.body),eventName:e.eventName,attributes:u(e.attributes),droppedAttributesCount:e.droppedAttributesCount,flags:e.spanContext?.traceFlags,traceId:t.encodeOptionalSpanContext(e.spanContext?.traceId),spanId:t.encodeOptionalSpanContext(e.spanContext?.spanId)}}function l(e){return e}function u(e){return Object.keys(e).map(t=>(0,i.toKeyValue)(t,e[t]))}let c={serializeRequest:e=>{let t=n(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:e=>0===e.length?{}:JSON.parse(new TextDecoder().decode(e))},d="0.206.0";var p=e.i(129137),f=e.i(457171);class h extends t.OTLPExporterBase{constructor(e={}){super((0,f.createOtlpHttpExportDelegate)((0,p.convertLegacyHttpOptions)(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${d}`,"Content-Type":"application/json"}),c))}}e.s(["OTLPLogExporter",()=>h],997857)},528716,951867,e=>{"use strict";var t,r,i=e.i(730533);!function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(t||(t={}));var n=e.i(692239);class o{startTime;monotonic;_current;reset;constructor(e,t,r=0,i=!1){this.startTime=e,this.monotonic=t,this._current=r,this.reset=i}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}class a{monotonic;kind=t.SUM;constructor(e){this.monotonic=e}createAccumulation(e){return new o(e,this.monotonic)}merge(e,t){let r=e.toPointValue(),i=t.toPointValue();return t.reset?new o(t.startTime,this.monotonic,i,t.reset):new o(e.startTime,this.monotonic,r+i)}diff(e,t){let r=e.toPointValue(),i=t.toPointValue();return this.monotonic&&r>i?new o(t.startTime,this.monotonic,i,!0):new o(t.startTime,this.monotonic,i-r)}toMetricData(e,t,r,i){return{descriptor:e,aggregationTemporality:t,dataPointType:n.DataPointType.SUM,dataPoints:r.map(([e,t])=>({attributes:e,startTime:t.startTime,endTime:i,value:t.toPointValue()})),isMonotonic:this.monotonic}}}class s{kind=t.DROP;createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,r,i){}}var l=e.i(469392),u=n;class c{startTime;_current;sampleTime;constructor(e,t=0,r=[0,0]){this.startTime=e,this._current=t,this.sampleTime=r}record(e){this._current=e,this.sampleTime=(0,l.millisToHrTime)(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}class d{kind=t.LAST_VALUE;createAccumulation(e){return new c(e)}merge(e,t){let r=(0,l.hrTimeToMicroseconds)(t.sampleTime)>=(0,l.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new c(e.startTime,r.toPointValue(),r.sampleTime)}diff(e,t){let r=(0,l.hrTimeToMicroseconds)(t.sampleTime)>=(0,l.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new c(t.startTime,r.toPointValue(),r.sampleTime)}toMetricData(e,t,r,i){return{descriptor:e,aggregationTemporality:t,dataPointType:u.DataPointType.GAUGE,dataPoints:r.map(([e,t])=>({attributes:e,startTime:t.startTime,endTime:i,value:t.toPointValue()}))}}}var p=n;class f extends Error{constructor(e){super(e),Object.setPrototypeOf(this,f.prototype)}}function h(e,t){let r;return Promise.race([e,new Promise(function(e,i){r=setTimeout(function(){i(new f("Operation timed out."))},t)})]).then(e=>(clearTimeout(r),e),e=>{throw clearTimeout(r),e})}function m(e,t){let r=[];return e.forEach(e=>{r.push(...t(e))}),r}function g(e,t){let r=0,i=e.length-1,n=e.length;for(;i>=r;){let o=r+Math.trunc((i-r)/2);e[o]<t?r=o+1:(n=o,i=o-1)}return n}function y(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}e.s(["FlatMap",()=>m,"TimeoutError",()=>f,"binarySearchUB",()=>g,"callWithTimeout",()=>h],951867);class v{startTime;_boundaries;_recordMinMax;_current;constructor(e,t,r=!0,i=y(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=r,this._current=i}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=g(this._boundaries,e);this._current.buckets.counts[t]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}class b{_boundaries;_recordMinMax;kind=t.HISTOGRAM;constructor(e,t){this._boundaries=e,this._recordMinMax=t}createAccumulation(e){return new v(e,this._boundaries,this._recordMinMax)}merge(e,t){let r=e.toPointValue(),i=t.toPointValue(),n=r.buckets.counts,o=i.buckets.counts,a=Array(n.length);for(let e=0;e<n.length;e++)a[e]=n[e]+o[e];let s=1/0,l=-1/0;return this._recordMinMax&&(r.hasMinMax&&i.hasMinMax?(s=Math.min(r.min,i.min),l=Math.max(r.max,i.max)):r.hasMinMax?(s=r.min,l=r.max):i.hasMinMax&&(s=i.min,l=i.max)),new v(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:a},count:r.count+i.count,sum:r.sum+i.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||i.hasMinMax),min:s,max:l})}diff(e,t){let r=e.toPointValue(),i=t.toPointValue(),n=r.buckets.counts,o=i.buckets.counts,a=Array(n.length);for(let e=0;e<n.length;e++)a[e]=o[e]-n[e];return new v(t.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:a},count:i.count-r.count,sum:i.sum-r.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,r,i){return{descriptor:e,aggregationTemporality:t,dataPointType:p.DataPointType.HISTOGRAM,dataPoints:r.map(([t,r])=>{let n=r.toPointValue(),o=e.type===p.InstrumentType.GAUGE||e.type===p.InstrumentType.UP_DOWN_COUNTER||e.type===p.InstrumentType.OBSERVABLE_GAUGE||e.type===p.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:i,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:o?void 0:n.sum,buckets:n.buckets,count:n.count}}})}}}var A=n,w=i;class _{backing;indexBase;indexStart;indexEnd;constructor(e=new S,t=0,r=0,i=0){this.backing=e,this.indexBase=t,this.indexStart=r,this.indexEnd=i}get offset(){return this.indexStart}get length(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(0!==this.at(e)){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(0!==this.at(e)){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,r=1<<e,i=0,n=0;for(let e=this.indexStart;e<=this.indexEnd;){let o=e%r;o<0&&(o+=r);for(let a=o;a<r&&i<t;a++)this._relocateBucket(n,i),i++,e++;n++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new _(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;0!==e&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}}class S{_counts;constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,r){let i=Array(e).fill(0);i.splice(r,this._counts.length-t,...this._counts.slice(t)),i.splice(0,t,...this._counts.slice(0,t)),this._counts=i}reverse(e,t){let r=Math.floor((e+t)/2)-e;for(let i=0;i<r;i++){let r=this._counts[e+i];this._counts[e+i]=this._counts[t-i-1],this._counts[t-i-1]=r}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new S([...this._counts])}}let E=52,T=0x7ff00000,I=1048575,x=1023,O=-1022,C=1023,k=22250738585072014e-324;function N(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),((t.getUint32(0)&T)>>20)-x}function R(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),(t.getUint32(0)&I)*0x100000000+t.getUint32(4)}function P(e,t){return 0===e||e===1/0||e===-1/0||Number.isNaN(e)?e:e*Math.pow(2,t)}function D(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}class U extends Error{}class L{_shift;constructor(e){this._shift=-e}mapToIndex(e){return e<k?this._minNormalLowerBoundaryIndex():N(e)+this._rightShift(R(e)-1,E)>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new U(`underflow: ${e} is < minimum lower boundary: ${t}`);let r=this._maxNormalLowerBoundaryIndex();if(e>r)throw new U(`overflow: ${e} is > maximum lower boundary: ${r}`);return P(1,e<<this._shift)}get scale(){return 0===this._shift?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=O>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return C>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}class K{_scale;_scaleFactor;_inverseFactor;constructor(e){this._scale=e,this._scaleFactor=P(Math.LOG2E,e),this._inverseFactor=P(Math.LN2,-e)}mapToIndex(e){if(e<=k)return this._minNormalLowerBoundaryIndex()-1;if(0===R(e))return(N(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),r=this._maxNormalLowerBoundaryIndex();return t>=r?r:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new U(`overflow: ${e} is > maximum lower boundary: ${t}`)}let r=this._minNormalLowerBoundaryIndex();if(e<=r){if(e===r)return k;if(e===r-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new U(`overflow: ${e} is < minimum lower boundary: ${r}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return O<<this._scale}_maxNormalLowerBoundaryIndex(){return(C+1<<this._scale)-1}}let M=-10,B=20,j=Array.from({length:31},(e,t)=>t>10?new K(t-10):new L(t-10));function $(e){if(e>B||e<M)throw new U(`expected scale >= ${M} && <= ${B}, got: ${e}`);return j[e+10]}class z{low;high;static combine(e,t){return new z(Math.min(e.low,t.low),Math.max(e.high,t.high))}constructor(e,t){this.low=e,this.high=t}}let F=20,q=160,V=2;class H{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(e,t=q,r=!0,i=0,n=0,o=0,a=1/0,s=-1/0,l=new _,u=new _,c=$(F)){this.startTime=e,this._maxSize=t,this._recordMinMax=r,this._sum=i,this._count=n,this._zeroCount=o,this._min=a,this._max=s,this._positive=l,this._negative=u,this._mapping=c,this._maxSize<V&&(w.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize}, \
                changing to the minimum size of: ${V}`),this._maxSize=V)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,0===e){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}}merge(e){0===this._count?(this._min=e.min,this._max=e.max):0!==e.count&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new H(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,r){let i=this._mapping.mapToIndex(t),n=!1,o=0,a=0;if(0===e.length?(e.indexStart=i,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):i<e.indexStart&&e.indexEnd-i>=this._maxSize?(n=!0,a=i,o=e.indexEnd):i>e.indexEnd&&i-e.indexStart>=this._maxSize&&(n=!0,a=e.indexStart,o=i),n){let e=this._changeScale(o,a);this._downscale(e),i=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,i,r)}_incrementIndexBy(e,t,r){if(0===r)return;if(0===e.length&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){let r=e.indexEnd-t;r>=e.backing.length&&this._grow(e,r+1),e.indexStart=t}else if(t>e.indexEnd){let r=t-e.indexStart;r>=e.backing.length&&this._grow(e,r+1),e.indexEnd=t}let i=t-e.indexBase;i<0&&(i+=e.backing.length),e.incrementBucket(i,r)}_grow(e,t){let r=e.backing.length,i=e.indexBase-e.indexStart,n=r-i,o=D(t);o>this._maxSize&&(o=this._maxSize);let a=o-i;e.backing.growTo(o,n,a)}_changeScale(e,t){let r=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,r++;return r}_downscale(e){if(0===e)return;if(e<0)throw Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=$(t)}_minScale(e){let t=Math.min(this.scale,e.scale),r=z.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),i=z.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(r.high,r.low),t-this._changeScale(i.high,i.low))}_highLowAtScale(e,t,r){if(0===e.length)return new z(0,-1);let i=t-r;return new z(e.indexStart>>i,e.indexEnd>>i)}_mergeBuckets(e,t,r,i){let n=r.offset,o=t.scale-i;for(let t=0;t<r.length;t++)this._incrementIndexBy(e,n+t>>o,r.at(t))}_diffBuckets(e,t,r,i){let n=r.offset,o=t.scale-i;for(let t=0;t<r.length;t++){let i=(n+t>>o)-e.indexBase;i<0&&(i+=e.backing.length),e.decrementBucket(i,r.at(t))}e.trim()}}class G{_maxSize;_recordMinMax;kind=t.EXPONENTIAL_HISTOGRAM;constructor(e,t){this._maxSize=e,this._recordMinMax=t}createAccumulation(e){return new H(e,this._maxSize,this._recordMinMax)}merge(e,t){let r=t.clone();return r.merge(e),r}diff(e,t){let r=t.clone();return r.diff(e),r}toMetricData(e,t,r,i){return{descriptor:e,aggregationTemporality:t,dataPointType:A.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:r.map(([t,r])=>{let n=r.toPointValue(),o=e.type===A.InstrumentType.GAUGE||e.type===A.InstrumentType.UP_DOWN_COUNTER||e.type===A.InstrumentType.OBSERVABLE_GAUGE||e.type===A.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:i,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:o?void 0:n.sum,positive:{offset:n.positive.offset,bucketCounts:n.positive.bucketCounts},negative:{offset:n.negative.offset,bucketCounts:n.negative.bucketCounts},count:n.count,scale:n.scale,zeroCount:n.zeroCount}}})}}}var W=n;class Z{static DEFAULT_INSTANCE=new s;createAggregator(e){return Z.DEFAULT_INSTANCE}}class J{static MONOTONIC_INSTANCE=new a(!0);static NON_MONOTONIC_INSTANCE=new a(!1);createAggregator(e){switch(e.type){case W.InstrumentType.COUNTER:case W.InstrumentType.OBSERVABLE_COUNTER:case W.InstrumentType.HISTOGRAM:return J.MONOTONIC_INSTANCE;default:return J.NON_MONOTONIC_INSTANCE}}}class Q{static DEFAULT_INSTANCE=new d;createAggregator(e){return Q.DEFAULT_INSTANCE}}class Y{static DEFAULT_INSTANCE=new b([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);createAggregator(e){return Y.DEFAULT_INSTANCE}}class X{_recordMinMax;_boundaries;constructor(e,t=!0){if(this._recordMinMax=t,null==e)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");const r=(e=(e=e.concat()).sort((e,t)=>e-t)).lastIndexOf(-1/0);let i=e.indexOf(1/0);-1===i&&(i=void 0),this._boundaries=e.slice(r+1,i)}createAggregator(e){return new b(this._boundaries,this._recordMinMax)}}class ee{_maxSize;_recordMinMax;constructor(e=160,t=!0){this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new G(this._maxSize,this._recordMinMax)}}class et{_resolve(e){switch(e.type){case W.InstrumentType.COUNTER:case W.InstrumentType.UP_DOWN_COUNTER:case W.InstrumentType.OBSERVABLE_COUNTER:case W.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return ei;case W.InstrumentType.GAUGE:case W.InstrumentType.OBSERVABLE_GAUGE:return en;case W.InstrumentType.HISTOGRAM:if(e.advice.explicitBucketBoundaries)return new X(e.advice.explicitBucketBoundaries);return eo}return i.diag.warn(`Unable to recognize instrument type: ${e.type}`),er}createAggregator(e){return this._resolve(e).createAggregator(e)}}let er=new Z,ei=new J,en=new Q,eo=new Y;new ee,new et,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.DROP=1]="DROP",e[e.SUM=2]="SUM",e[e.LAST_VALUE=3]="LAST_VALUE",e[e.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM"}(r||(r={})),e.s(["AggregationType",()=>r],528716)},786590,(e,t,r)=>{"use strict";t.exports=function e(e,t){for(var r=Array(arguments.length-1),i=0,n=2,o=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(n,a){r[i]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];n.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}})}},267789,(e,t,r)=>{"use strict";var i=r;i.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),o=Array(123),a=0;a<64;)o[n[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;i.encode=function(e,t,r){for(var i,o=null,a=[],s=0,l=0;t<r;){var u=e[t++];switch(l){case 0:a[s++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:a[s++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:a[s++]=n[i|u>>6],a[s++]=n[63&u],l=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return(l&&(a[s++]=n[i],a[s++]=61,1===l&&(a[s++]=61)),o)?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";i.decode=function(e,t,r){for(var i,n=r,a=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error(s);switch(a){case 0:i=u,a=1;break;case 1:t[r++]=i<<2|(48&u)>>4,i=u,a=2;break;case 2:t[r++]=(15&i)<<4|(60&u)>>2,i=u,a=3;break;case 3:t[r++]=(3&i)<<6|u,a=0}}if(1===a)throw Error(s);return r-n},i.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},489767,(e,t,r)=>{"use strict";function i(){this._listeners={}}t.exports=i,i.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},i.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},i.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},523758,(e,t,r)=>{"use strict";function i(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function n(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3]}function o(e,i,n){t[0]=e,i[n]=r[3],i[n+1]=r[2],i[n+2]=r[1],i[n+3]=r[0]}function a(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function s(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?n:o,e.writeFloatBE=i?o:n,e.readFloatLE=i?a:s,e.readFloatBE=i?s:a}():!function(){function t(e,t,r,i){var n=+(t<0);if(n&&(t=-t),0===t)e(1/t>0?0:0x80000000,r,i);else if(isNaN(t))e(0x7fc00000,r,i);else if(t>34028234663852886e22)e((n<<31|0x7f800000)>>>0,r,i);else if(t<11754943508222875e-54)e((n<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((n<<31|o+127<<23|a)>>>0,r,i)}}function r(e,t,r){var i=e(t,r),n=(i>>31)*2+1,o=i>>>23&255,a=8388607&i;return 255===o?a?NaN:1/0*n:0===o?1401298464324817e-60*n*a:n*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function n(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3],i[n+4]=r[4],i[n+5]=r[5],i[n+6]=r[6],i[n+7]=r[7]}function o(e,i,n){t[0]=e,i[n]=r[7],i[n+1]=r[6],i[n+2]=r[5],i[n+3]=r[4],i[n+4]=r[3],i[n+5]=r[2],i[n+6]=r[1],i[n+7]=r[0]}function a(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function s(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?n:o,e.writeDoubleBE=i?o:n,e.readDoubleLE=i?a:s,e.readDoubleBE=i?s:a}():!function(){function t(e,t,r,i,n,o){var a,s=+(i<0);if(s&&(i=-i),0===i)e(0,n,o+t),e(1/i>0?0:0x80000000,n,o+r);else if(isNaN(i))e(0,n,o+t),e(0x7ff80000,n,o+r);else if(i>17976931348623157e292)e(0,n,o+t),e((s<<31|0x7ff00000)>>>0,n,o+r);else if(i<22250738585072014e-324)e((a=i/5e-324)>>>0,n,o+t),e((s<<31|a/0x100000000)>>>0,n,o+r);else{var l=Math.floor(Math.log(i)/Math.LN2);1024===l&&(l=1023),e(0x10000000000000*(a=i*Math.pow(2,-l))>>>0,n,o+t),e((s<<31|l+1023<<20|1048576*a&1048575)>>>0,n,o+r)}}function r(e,t,r,i,n){var o=e(i,n+t),a=e(i,n+r),s=(a>>31)*2+1,l=a>>>20&2047,u=0x100000000*(1048575&a)+o;return 2047===l?u?NaN:1/0*s:0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+0x10000000000000)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function n(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=i(i)},256492,(__turbopack_context__,module,exports)=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},432518,(e,t,r)=>{"use strict";var i=r;i.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(i+1))==56320?(++i,t+=4):t+=3;return t},i.read=function(e,t,r){if(r-t<1)return"";for(var i,n=null,o=[],a=0;t<r;)(i=e[t++])<128?o[a++]=i:i>191&&i<224?o[a++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(i>>10),o[a++]=56320+(1023&i)):o[a++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),a=0);return n?(a&&n.push(String.fromCharCode.apply(String,o.slice(0,a))),n.join("")):String.fromCharCode.apply(String,o.slice(0,a))},i.write=function(e,t,r){for(var i,n,o=r,a=0;a<e.length;++a)(i=e.charCodeAt(a))<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&(64512&(n=e.charCodeAt(a+1)))==56320?(i=65536+((1023&i)<<10)+(1023&n),++a,t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128);return r-o}},697554,(e,t,r)=>{"use strict";t.exports=function e(e,t,r){var i=r||8192,n=i>>>1,o=null,a=i;return function(r){if(r<1||r>n)return e(r);a+r>i&&(o=e(i),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=(7|a)+1),s}}},94659,(e,t,r)=>{"use strict";t.exports=n;var i=e.r(20841);function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/0x100000000>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>0xffffffff&&(r=0,++i>0xffffffff&&(i=0))),new n(r,i)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(i.isString(e))if(!i.Long)return n.fromNumber(parseInt(e,10));else e=i.Long.fromString(e);return e.low||e.high?new n(e.low>>>0,e.high>>>0):o},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+0x100000000*r)}return this.lo+0x100000000*this.hi},n.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===a?o:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},20841,(e,t,r)=>{"use strict";var i=r;function n(e,t,r){for(var i=Object.keys(t),n=0;n<i.length;++n)void 0!==e[i[n]]&&r||(e[i[n]]=t[i[n]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}i.asPromise=e.r(786590),i.base64=e.r(267789),i.EventEmitter=e.r(489767),i.float=e.r(523758),i.inquire=e.r(256492),i.utf8=e.r(432518),i.pool=e.r(697554),i.LongBits=e.r(94659),i.isNode=!!(e.g&&e.g.process&&e.g.process.versions&&e.g.process.versions.node),i.global=i.isNode&&e.g||"undefined"!=typeof self&&self||e.e,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},i.merge=n,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=o,i.ProtocolError=o("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;if(!e){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},5307,(e,t,r)=>{"use strict";t.exports=d;var i,n=e.r(20841),o=n.LongBits,a=n.base64,s=n.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var p=function(){return n.Buffer?function(){return(d.create=function(){return new i})()}:function(){return new d}};function f(e,t,r){t[r]=255&e}function h(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=p(),d.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(d.alloc=n.pool(d.alloc,n.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},m.prototype=Object.create(l.prototype),m.prototype.fn=h,d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(f,1,+!!e)},d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var v=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(n.isString(e)){var r=d.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){i=e,d.create=p(),i._configure()}},466685,(e,t,r)=>{"use strict";t.exports=o;var i=e.r(5307);(o.prototype=Object.create(i.prototype)).constructor=o;var n=e.r(20841);function o(){i.call(this)}function a(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},o.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},269351,(e,t,r)=>{"use strict";t.exports=l;var i,n=e.r(20841),o=n.LongBits,a=n.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},c=function(){return n.Buffer?function(e){return(l.create=function(e){return n.Buffer.isBuffer(e)?new i(e):u(e)})(e)}:u};function d(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}l.create=c(),l.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,l.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=n.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++])return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){i=e,l.create=c(),i._configure();var t=n.Long?"toLong":"toNumber";n.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},681246,(e,t,r)=>{"use strict";t.exports=o;var i=e.r(269351);(o.prototype=Object.create(i.prototype)).constructor=o;var n=e.r(20841);function o(e){i.call(this,e)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},331664,(e,t,r)=>{"use strict";t.exports=n;var i=e.r(20841);function n(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,r,n,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return i.asPromise(e,s,t,r,n,o);if(!s.rpcImpl)return void setTimeout(function(){a(Error("already ended"))},0);try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return s.emit("error",e,t),a(e);if(null===r)return void s.end(!0);if(!(r instanceof n))try{r=n[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)})}catch(e){s.emit("error",e,t),setTimeout(function(){a(e)},0);return}},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},788919,(e,t,r)=>{"use strict";r.Service=e.r(331664)},388443,(e,t,r)=>{"use strict";t.exports={}},690562,(e,t,r)=>{"use strict";var i=r;function n(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=e.r(5307),i.BufferWriter=e.r(466685),i.Reader=e.r(269351),i.BufferReader=e.r(681246),i.util=e.r(20841),i.rpc=e.r(788919),i.roots=e.r(388443),i.configure=n,n()},429194,(e,t,r)=>{"use strict";t.exports=e.r(690562)},86882,(e,t,r)=>{"use strict";var i=e.r(429194),n=i.Reader,o=i.Writer,a=i.util,s=i.roots.default||(i.roots.default={});s.opentelemetry=function(){var e={};return e.proto=function(){var e={};return e.common=function(){var e={};return e.v1=function(){var e={};return e.AnyValue=function(){var e;function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.stringValue=null,t.prototype.boolValue=null,t.prototype.intValue=null,t.prototype.doubleValue=null,t.prototype.arrayValue=null,t.prototype.kvlistValue=null,t.prototype.bytesValue=null,Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=o.create()),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),null!=e.intValue&&Object.hasOwnProperty.call(e,"intValue")&&t.uint32(24).int64(e.intValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(33).double(e.doubleValue),null!=e.arrayValue&&Object.hasOwnProperty.call(e,"arrayValue")&&s.opentelemetry.proto.common.v1.ArrayValue.encode(e.arrayValue,t.uint32(42).fork()).ldelim(),null!=e.kvlistValue&&Object.hasOwnProperty.call(e,"kvlistValue")&&s.opentelemetry.proto.common.v1.KeyValueList.encode(e.kvlistValue,t.uint32(50).fork()).ldelim(),null!=e.bytesValue&&Object.hasOwnProperty.call(e,"bytesValue")&&t.uint32(58).bytes(e.bytesValue),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.common.v1.AnyValue;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.stringValue=e.string();break;case 2:o.boolValue=e.bool();break;case 3:o.intValue=e.int64();break;case 4:o.doubleValue=e.double();break;case 5:o.arrayValue=s.opentelemetry.proto.common.v1.ArrayValue.decode(e,e.uint32());break;case 6:o.kvlistValue=s.opentelemetry.proto.common.v1.KeyValueList.decode(e,e.uint32());break;case 7:o.bytesValue=e.bytes();break;default:e.skipType(7&a)}}return o},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(t.value=1,!a.isString(e.stringValue)))return"stringValue: string expected";if(null!=e.boolValue&&e.hasOwnProperty("boolValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"boolean"!=typeof e.boolValue)return"boolValue: boolean expected"}if(null!=e.intValue&&e.hasOwnProperty("intValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!a.isInteger(e.intValue)&&!(e.intValue&&a.isInteger(e.intValue.low)&&a.isInteger(e.intValue.high)))return"intValue: integer|Long expected"}if(null!=e.doubleValue&&e.hasOwnProperty("doubleValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"number"!=typeof e.doubleValue)return"doubleValue: number expected"}if(null!=e.arrayValue&&e.hasOwnProperty("arrayValue")){if(1===t.value)return"value: multiple values";t.value=1;var r=s.opentelemetry.proto.common.v1.ArrayValue.verify(e.arrayValue);if(r)return"arrayValue."+r}if(null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")){if(1===t.value)return"value: multiple values";t.value=1;var r=s.opentelemetry.proto.common.v1.KeyValueList.verify(e.kvlistValue);if(r)return"kvlistValue."+r}if(null!=e.bytesValue&&e.hasOwnProperty("bytesValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!(e.bytesValue&&"number"==typeof e.bytesValue.length||a.isString(e.bytesValue)))return"bytesValue: buffer expected"}return null},t.fromObject=function(e){if(e instanceof s.opentelemetry.proto.common.v1.AnyValue)return e;var t=new s.opentelemetry.proto.common.v1.AnyValue;if(null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=!!e.boolValue),null!=e.intValue&&(a.Long?(t.intValue=a.Long.fromValue(e.intValue)).unsigned=!1:"string"==typeof e.intValue?t.intValue=parseInt(e.intValue,10):"number"==typeof e.intValue?t.intValue=e.intValue:"object"==typeof e.intValue&&(t.intValue=new a.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.arrayValue){if("object"!=typeof e.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");t.arrayValue=s.opentelemetry.proto.common.v1.ArrayValue.fromObject(e.arrayValue)}if(null!=e.kvlistValue){if("object"!=typeof e.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");t.kvlistValue=s.opentelemetry.proto.common.v1.KeyValueList.fromObject(e.kvlistValue)}return null!=e.bytesValue&&("string"==typeof e.bytesValue?a.base64.decode(e.bytesValue,t.bytesValue=a.newBuffer(a.base64.length(e.bytesValue)),0):e.bytesValue.length>=0&&(t.bytesValue=e.bytesValue)),t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs&&(r.value="stringValue")),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue,t.oneofs&&(r.value="boolValue")),null!=e.intValue&&e.hasOwnProperty("intValue")&&("number"==typeof e.intValue?r.intValue=t.longs===String?String(e.intValue):e.intValue:r.intValue=t.longs===String?a.Long.prototype.toString.call(e.intValue):t.longs===Number?new a.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber():e.intValue,t.oneofs&&(r.value="intValue")),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,t.oneofs&&(r.value="doubleValue")),null!=e.arrayValue&&e.hasOwnProperty("arrayValue")&&(r.arrayValue=s.opentelemetry.proto.common.v1.ArrayValue.toObject(e.arrayValue,t),t.oneofs&&(r.value="arrayValue")),null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")&&(r.kvlistValue=s.opentelemetry.proto.common.v1.KeyValueList.toObject(e.kvlistValue,t),t.oneofs&&(r.value="kvlistValue")),null!=e.bytesValue&&e.hasOwnProperty("bytesValue")&&(r.bytesValue=t.bytes===String?a.base64.encode(e.bytesValue,0,e.bytesValue.length):t.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,t.oneofs&&(r.value="bytesValue")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.AnyValue"},t}(),e.ArrayValue=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)s.opentelemetry.proto.common.v1.AnyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.common.v1.ArrayValue;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.values&&o.values.length||(o.values=[]),o.values.push(s.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=s.opentelemetry.proto.common.v1.AnyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.common.v1.ArrayValue)return e;var t=new s.opentelemetry.proto.common.v1.ArrayValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");t.values[r]=s.opentelemetry.proto.common.v1.AnyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var i=0;i<e.values.length;++i)r.values[i]=s.opentelemetry.proto.common.v1.AnyValue.toObject(e.values[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.ArrayValue"},e}(),e.KeyValueList=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.common.v1.KeyValueList;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.values&&o.values.length||(o.values=[]),o.values.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.common.v1.KeyValueList)return e;var t=new s.opentelemetry.proto.common.v1.KeyValueList;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");t.values[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var i=0;i<e.values.length;++i)r.values[i]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.values[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValueList"},e}(),e.KeyValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&s.opentelemetry.proto.common.v1.AnyValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.common.v1.KeyValue;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.key=e.string();break;case 2:o.value=s.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!a.isString(e.key))return"key: string expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=s.opentelemetry.proto.common.v1.AnyValue.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.common.v1.KeyValue)return e;var t=new s.opentelemetry.proto.common.v1.KeyValue;if(null!=e.key&&(t.key=String(e.key)),null!=e.value){if("object"!=typeof e.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");t.value=s.opentelemetry.proto.common.v1.AnyValue.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=null),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=s.opentelemetry.proto.common.v1.AnyValue.toObject(e.value,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValue"},e}(),e.InstrumentationScope=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name=null,e.prototype.version=null,e.prototype.attributes=a.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(18).string(e.version),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.common.v1.InstrumentationScope;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.name=e.string();break;case 2:o.version=e.string();break;case 3:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:o.droppedAttributesCount=e.uint32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.version&&e.hasOwnProperty("version")&&!a.isString(e.version))return"version: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!a.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.common.v1.InstrumentationScope)return e;var t=new s.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(r.name="",r.version="",r.droppedAttributesCount=0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.InstrumentationScope"},e}(),e.EntityRef=function(){function e(e){if(this.idKeys=[],this.descriptionKeys=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.schemaUrl=null,e.prototype.type=null,e.prototype.idKeys=a.emptyArray,e.prototype.descriptionKeys=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(10).string(e.schemaUrl),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.idKeys&&e.idKeys.length)for(var r=0;r<e.idKeys.length;++r)t.uint32(26).string(e.idKeys[r]);if(null!=e.descriptionKeys&&e.descriptionKeys.length)for(var r=0;r<e.descriptionKeys.length;++r)t.uint32(34).string(e.descriptionKeys[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.common.v1.EntityRef;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.schemaUrl=e.string();break;case 2:o.type=e.string();break;case 3:o.idKeys&&o.idKeys.length||(o.idKeys=[]),o.idKeys.push(e.string());break;case 4:o.descriptionKeys&&o.descriptionKeys.length||(o.descriptionKeys=[]),o.descriptionKeys.push(e.string());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl))return"schemaUrl: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!a.isString(e.type))return"type: string expected";if(null!=e.idKeys&&e.hasOwnProperty("idKeys")){if(!Array.isArray(e.idKeys))return"idKeys: array expected";for(var t=0;t<e.idKeys.length;++t)if(!a.isString(e.idKeys[t]))return"idKeys: string[] expected"}if(null!=e.descriptionKeys&&e.hasOwnProperty("descriptionKeys")){if(!Array.isArray(e.descriptionKeys))return"descriptionKeys: array expected";for(var t=0;t<e.descriptionKeys.length;++t)if(!a.isString(e.descriptionKeys[t]))return"descriptionKeys: string[] expected"}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.common.v1.EntityRef)return e;var t=new s.opentelemetry.proto.common.v1.EntityRef;if(null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),null!=e.type&&(t.type=String(e.type)),e.idKeys){if(!Array.isArray(e.idKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.idKeys: array expected");t.idKeys=[];for(var r=0;r<e.idKeys.length;++r)t.idKeys[r]=String(e.idKeys[r])}if(e.descriptionKeys){if(!Array.isArray(e.descriptionKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.descriptionKeys: array expected");t.descriptionKeys=[];for(var r=0;r<e.descriptionKeys.length;++r)t.descriptionKeys[r]=String(e.descriptionKeys[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.idKeys=[],r.descriptionKeys=[]),t.defaults&&(r.schemaUrl="",r.type=""),null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.idKeys&&e.idKeys.length){r.idKeys=[];for(var i=0;i<e.idKeys.length;++i)r.idKeys[i]=e.idKeys[i]}if(e.descriptionKeys&&e.descriptionKeys.length){r.descriptionKeys=[];for(var i=0;i<e.descriptionKeys.length;++i)r.descriptionKeys[i]=e.descriptionKeys[i]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.EntityRef"},e}(),e}(),e}(),e.resource=function(){var e={};return e.v1=function(){var e={};return e.Resource=function(){function e(e){if(this.attributes=[],this.entityRefs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=a.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.entityRefs=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();if(null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(16).uint32(e.droppedAttributesCount),null!=e.entityRefs&&e.entityRefs.length)for(var r=0;r<e.entityRefs.length;++r)s.opentelemetry.proto.common.v1.EntityRef.encode(e.entityRefs[r],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.resource.v1.Resource;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:o.droppedAttributesCount=e.uint32();break;case 3:o.entityRefs&&o.entityRefs.length||(o.entityRefs=[]),o.entityRefs.push(s.opentelemetry.proto.common.v1.EntityRef.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!a.isInteger(e.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=e.entityRefs&&e.hasOwnProperty("entityRefs")){if(!Array.isArray(e.entityRefs))return"entityRefs: array expected";for(var t=0;t<e.entityRefs.length;++t){var r=s.opentelemetry.proto.common.v1.EntityRef.verify(e.entityRefs[t]);if(r)return"entityRefs."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.resource.v1.Resource)return e;var t=new s.opentelemetry.proto.resource.v1.Resource;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),e.entityRefs){if(!Array.isArray(e.entityRefs))throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: array expected");t.entityRefs=[];for(var r=0;r<e.entityRefs.length;++r){if("object"!=typeof e.entityRefs[r])throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: object expected");t.entityRefs[r]=s.opentelemetry.proto.common.v1.EntityRef.fromObject(e.entityRefs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.entityRefs=[]),t.defaults&&(r.droppedAttributesCount=0),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),e.entityRefs&&e.entityRefs.length){r.entityRefs=[];for(var i=0;i<e.entityRefs.length;++i)r.entityRefs[i]=s.opentelemetry.proto.common.v1.EntityRef.toObject(e.entityRefs[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.resource.v1.Resource"},e}(),e}(),e}(),e.trace=function(){var e={};return e.v1=function(){var e={};return e.TracesData=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)s.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.TracesData;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.resourceSpans&&o.resourceSpans.length||(o.resourceSpans=[]),o.resourceSpans.push(s.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=s.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.TracesData)return e;var t=new s.opentelemetry.proto.trace.v1.TracesData;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");t.resourceSpans[r]=s.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var i=0;i<e.resourceSpans.length;++i)r.resourceSpans[i]=s.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.TracesData"},e}(),e.ResourceSpans=function(){function e(e){if(this.scopeSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeSpans=a.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&s.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeSpans&&e.scopeSpans.length)for(var r=0;r<e.scopeSpans.length;++r)s.opentelemetry.proto.trace.v1.ScopeSpans.encode(e.scopeSpans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.ResourceSpans;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.resource=s.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:o.scopeSpans&&o.scopeSpans.length||(o.scopeSpans=[]),o.scopeSpans.push(s.opentelemetry.proto.trace.v1.ScopeSpans.decode(e,e.uint32()));break;case 3:o.schemaUrl=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=s.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeSpans&&e.hasOwnProperty("scopeSpans")){if(!Array.isArray(e.scopeSpans))return"scopeSpans: array expected";for(var r=0;r<e.scopeSpans.length;++r){var t=s.opentelemetry.proto.trace.v1.ScopeSpans.verify(e.scopeSpans[r]);if(t)return"scopeSpans."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.ResourceSpans)return e;var t=new s.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");t.resource=s.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeSpans){if(!Array.isArray(e.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");t.scopeSpans=[];for(var r=0;r<e.scopeSpans.length;++r){if("object"!=typeof e.scopeSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");t.scopeSpans[r]=s.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(e.scopeSpans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeSpans=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=s.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeSpans&&e.scopeSpans.length){r.scopeSpans=[];for(var i=0;i<e.scopeSpans.length;++i)r.scopeSpans[i]=s.opentelemetry.proto.trace.v1.ScopeSpans.toObject(e.scopeSpans[i],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ResourceSpans"},e}(),e.ScopeSpans=function(){function e(e){if(this.spans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.spans=a.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&s.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.spans&&e.spans.length)for(var r=0;r<e.spans.length;++r)s.opentelemetry.proto.trace.v1.Span.encode(e.spans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.ScopeSpans;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:o.spans&&o.spans.length||(o.spans=[]),o.spans.push(s.opentelemetry.proto.trace.v1.Span.decode(e,e.uint32()));break;case 3:o.schemaUrl=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=s.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.spans&&e.hasOwnProperty("spans")){if(!Array.isArray(e.spans))return"spans: array expected";for(var r=0;r<e.spans.length;++r){var t=s.opentelemetry.proto.trace.v1.Span.verify(e.spans[r]);if(t)return"spans."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.ScopeSpans)return e;var t=new s.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");t.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.spans){if(!Array.isArray(e.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");t.spans=[];for(var r=0;r<e.spans.length;++r){if("object"!=typeof e.spans[r])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");t.spans[r]=s.opentelemetry.proto.trace.v1.Span.fromObject(e.spans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.spans=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.spans&&e.spans.length){r.spans=[];for(var i=0;i<e.spans.length;++i)r.spans[i]=s.opentelemetry.proto.trace.v1.Span.toObject(e.spans[i],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ScopeSpans"},e}(),e.Span=function(){function e(e){if(this.attributes=[],this.events=[],this.links=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.parentSpanId=null,e.prototype.flags=null,e.prototype.name=null,e.prototype.kind=null,e.prototype.startTimeUnixNano=null,e.prototype.endTimeUnixNano=null,e.prototype.attributes=a.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.events=a.emptyArray,e.prototype.droppedEventsCount=null,e.prototype.links=a.emptyArray,e.prototype.droppedLinksCount=null,e.prototype.status=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.parentSpanId&&Object.hasOwnProperty.call(e,"parentSpanId")&&t.uint32(34).bytes(e.parentSpanId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(42).string(e.name),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(48).int32(e.kind),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(57).fixed64(e.startTimeUnixNano),null!=e.endTimeUnixNano&&Object.hasOwnProperty.call(e,"endTimeUnixNano")&&t.uint32(65).fixed64(e.endTimeUnixNano),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();if(null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(80).uint32(e.droppedAttributesCount),null!=e.events&&e.events.length)for(var r=0;r<e.events.length;++r)s.opentelemetry.proto.trace.v1.Span.Event.encode(e.events[r],t.uint32(90).fork()).ldelim();if(null!=e.droppedEventsCount&&Object.hasOwnProperty.call(e,"droppedEventsCount")&&t.uint32(96).uint32(e.droppedEventsCount),null!=e.links&&e.links.length)for(var r=0;r<e.links.length;++r)s.opentelemetry.proto.trace.v1.Span.Link.encode(e.links[r],t.uint32(106).fork()).ldelim();return null!=e.droppedLinksCount&&Object.hasOwnProperty.call(e,"droppedLinksCount")&&t.uint32(112).uint32(e.droppedLinksCount),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&s.opentelemetry.proto.trace.v1.Status.encode(e.status,t.uint32(122).fork()).ldelim(),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(133).fixed32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.Span;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.traceId=e.bytes();break;case 2:o.spanId=e.bytes();break;case 3:o.traceState=e.string();break;case 4:o.parentSpanId=e.bytes();break;case 16:o.flags=e.fixed32();break;case 5:o.name=e.string();break;case 6:o.kind=e.int32();break;case 7:o.startTimeUnixNano=e.fixed64();break;case 8:o.endTimeUnixNano=e.fixed64();break;case 9:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 10:o.droppedAttributesCount=e.uint32();break;case 11:o.events&&o.events.length||(o.events=[]),o.events.push(s.opentelemetry.proto.trace.v1.Span.Event.decode(e,e.uint32()));break;case 12:o.droppedEventsCount=e.uint32();break;case 13:o.links&&o.links.length||(o.links=[]),o.links.push(s.opentelemetry.proto.trace.v1.Span.Link.decode(e,e.uint32()));break;case 14:o.droppedLinksCount=e.uint32();break;case 15:o.status=s.opentelemetry.proto.trace.v1.Status.decode(e,e.uint32());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||a.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||a.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!a.isString(e.traceState))return"traceState: string expected";if(null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&!(e.parentSpanId&&"number"==typeof e.parentSpanId.length||a.isString(e.parentSpanId)))return"parentSpanId: buffer expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags))return"flags: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.kind&&e.hasOwnProperty("kind"))switch(e.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!a.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&a.isInteger(e.startTimeUnixNano.low)&&a.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&!a.isInteger(e.endTimeUnixNano)&&!(e.endTimeUnixNano&&a.isInteger(e.endTimeUnixNano.low)&&a.isInteger(e.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!a.isInteger(e.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=s.opentelemetry.proto.trace.v1.Span.Event.verify(e.events[t]);if(r)return"events."+r}}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&!a.isInteger(e.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=e.links&&e.hasOwnProperty("links")){if(!Array.isArray(e.links))return"links: array expected";for(var t=0;t<e.links.length;++t){var r=s.opentelemetry.proto.trace.v1.Span.Link.verify(e.links[t]);if(r)return"links."+r}}if(null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&!a.isInteger(e.droppedLinksCount))return"droppedLinksCount: integer expected";if(null!=e.status&&e.hasOwnProperty("status")){var r=s.opentelemetry.proto.trace.v1.Status.verify(e.status);if(r)return"status."+r}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.Span)return e;var t=new s.opentelemetry.proto.trace.v1.Span;switch(null!=e.traceId&&("string"==typeof e.traceId?a.base64.decode(e.traceId,t.traceId=a.newBuffer(a.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?a.base64.decode(e.spanId,t.spanId=a.newBuffer(a.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),null!=e.parentSpanId&&("string"==typeof e.parentSpanId?a.base64.decode(e.parentSpanId,t.parentSpanId=a.newBuffer(a.base64.length(e.parentSpanId)),0):e.parentSpanId.length>=0&&(t.parentSpanId=e.parentSpanId)),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.name&&(t.name=String(e.name)),e.kind){default:"number"==typeof e.kind&&(t.kind=e.kind);break;case"SPAN_KIND_UNSPECIFIED":case 0:t.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:t.kind=1;break;case"SPAN_KIND_SERVER":case 2:t.kind=2;break;case"SPAN_KIND_CLIENT":case 3:t.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:t.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:t.kind=5}if(null!=e.startTimeUnixNano&&(a.Long?(t.startTimeUnixNano=a.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.endTimeUnixNano&&(a.Long?(t.endTimeUnixNano=a.Long.fromValue(e.endTimeUnixNano)).unsigned=!1:"string"==typeof e.endTimeUnixNano?t.endTimeUnixNano=parseInt(e.endTimeUnixNano,10):"number"==typeof e.endTimeUnixNano?t.endTimeUnixNano=e.endTimeUnixNano:"object"==typeof e.endTimeUnixNano&&(t.endTimeUnixNano=new a.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber())),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),e.events){if(!Array.isArray(e.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if("object"!=typeof e.events[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");t.events[r]=s.opentelemetry.proto.trace.v1.Span.Event.fromObject(e.events[r])}}if(null!=e.droppedEventsCount&&(t.droppedEventsCount=e.droppedEventsCount>>>0),e.links){if(!Array.isArray(e.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");t.links=[];for(var r=0;r<e.links.length;++r){if("object"!=typeof e.links[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");t.links[r]=s.opentelemetry.proto.trace.v1.Span.Link.fromObject(e.links[r])}}if(null!=e.droppedLinksCount&&(t.droppedLinksCount=e.droppedLinksCount>>>0),null!=e.status){if("object"!=typeof e.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");t.status=s.opentelemetry.proto.trace.v1.Status.fromObject(e.status)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.events=[],r.links=[]),t.defaults){if(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=a.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=a.newBuffer(r.spanId))),r.traceState="",t.bytes===String?r.parentSpanId="":(r.parentSpanId=[],t.bytes!==Array&&(r.parentSpanId=a.newBuffer(r.parentSpanId))),r.name="",r.kind=t.enums===String?"SPAN_KIND_UNSPECIFIED":0,a.Long){var i=new a.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.startTimeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.endTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.endTimeUnixNano=t.longs===String?"0":0;r.droppedAttributesCount=0,r.droppedEventsCount=0,r.droppedLinksCount=0,r.status=null,r.flags=0}if(null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?a.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?a.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&(r.parentSpanId=t.bytes===String?a.base64.encode(e.parentSpanId,0,e.parentSpanId.length):t.bytes===Array?Array.prototype.slice.call(e.parentSpanId):e.parentSpanId),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=t.enums===String?void 0===s.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]?e.kind:s.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]:e.kind),null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&("number"==typeof e.endTimeUnixNano?r.endTimeUnixNano=t.longs===String?String(e.endTimeUnixNano):e.endTimeUnixNano:r.endTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.endTimeUnixNano):t.longs===Number?new a.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber():e.endTimeUnixNano),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),e.events&&e.events.length){r.events=[];for(var n=0;n<e.events.length;++n)r.events[n]=s.opentelemetry.proto.trace.v1.Span.Event.toObject(e.events[n],t)}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&(r.droppedEventsCount=e.droppedEventsCount),e.links&&e.links.length){r.links=[];for(var n=0;n<e.links.length;++n)r.links[n]=s.opentelemetry.proto.trace.v1.Span.Link.toObject(e.links[n],t)}return null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&(r.droppedLinksCount=e.droppedLinksCount),null!=e.status&&e.hasOwnProperty("status")&&(r.status=s.opentelemetry.proto.trace.v1.Status.toObject(e.status,t)),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span"},e.SpanKind=function(){var e={},t=Object.create(e);return t[e[0]="SPAN_KIND_UNSPECIFIED"]=0,t[e[1]="SPAN_KIND_INTERNAL"]=1,t[e[2]="SPAN_KIND_SERVER"]=2,t[e[3]="SPAN_KIND_CLIENT"]=3,t[e[4]="SPAN_KIND_PRODUCER"]=4,t[e[5]="SPAN_KIND_CONSUMER"]=5,t}(),e.Event=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.name=null,e.prototype.attributes=a.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.Span.Event;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.timeUnixNano=e.fixed64();break;case 2:o.name=e.string();break;case 3:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:o.droppedAttributesCount=e.uint32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!a.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.Span.Event)return e;var t=new s.opentelemetry.proto.trace.v1.Span.Event;if(null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;r.name="",r.droppedAttributesCount=0}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Event"},e}(),e.Link=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.attributes=a.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.flags=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(34).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(40).uint32(e.droppedAttributesCount),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(53).fixed32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.Span.Link;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.traceId=e.bytes();break;case 2:o.spanId=e.bytes();break;case 3:o.traceState=e.string();break;case 4:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 5:o.droppedAttributesCount=e.uint32();break;case 6:o.flags=e.fixed32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||a.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||a.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!a.isString(e.traceState))return"traceState: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!a.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.Span.Link)return e;var t=new s.opentelemetry.proto.trace.v1.Span.Link;if(null!=e.traceId&&("string"==typeof e.traceId?a.base64.decode(e.traceId,t.traceId=a.newBuffer(a.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?a.base64.decode(e.spanId,t.spanId=a.newBuffer(a.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=a.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=a.newBuffer(r.spanId))),r.traceState="",r.droppedAttributesCount=0,r.flags=0),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?a.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?a.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Link"},e}(),e}(),e.Status=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.message=null,e.prototype.code=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.trace.v1.Status;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 2:o.message=e.string();break;case 3:o.code=e.int32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.message&&e.hasOwnProperty("message")&&!a.isString(e.message))return"message: string expected";if(null!=e.code&&e.hasOwnProperty("code"))switch(e.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.trace.v1.Status)return e;var t=new s.opentelemetry.proto.trace.v1.Status;switch(null!=e.message&&(t.message=String(e.message)),e.code){default:"number"==typeof e.code&&(t.code=e.code);break;case"STATUS_CODE_UNSET":case 0:t.code=0;break;case"STATUS_CODE_OK":case 1:t.code=1;break;case"STATUS_CODE_ERROR":case 2:t.code=2}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.message="",r.code=t.enums===String?"STATUS_CODE_UNSET":0),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),null!=e.code&&e.hasOwnProperty("code")&&(r.code=t.enums===String?void 0===s.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]?e.code:s.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]:e.code),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Status"},e.StatusCode=function(){var e={},t=Object.create(e);return t[e[0]="STATUS_CODE_UNSET"]=0,t[e[1]="STATUS_CODE_OK"]=1,t[e[2]="STATUS_CODE_ERROR"]=2,t}(),e}(),e.SpanFlags=function(){var e={},t=Object.create(e);return t[e[0]="SPAN_FLAGS_DO_NOT_USE"]=0,t[e[255]="SPAN_FLAGS_TRACE_FLAGS_MASK"]=255,t[e[256]="SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK"]=256,t[e[512]="SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK"]=512,t}(),e}(),e}(),e.collector=function(){var e={};return e.trace=function(){var e={};return e.v1=function(){var e={};return e.TraceService=function(){function e(e,t,r){i.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportTraceServiceRequest=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)s.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.resourceSpans&&o.resourceSpans.length||(o.resourceSpans=[]),o.resourceSpans.push(s.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=s.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return e;var t=new s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");t.resourceSpans[r]=s.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var i=0;i<e.resourceSpans.length;++i)r.resourceSpans[i]=s.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},e}(),e.ExportTraceServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?o.partialSuccess=s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(e,e.uint32()):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return e;var t=new s.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");t.partialSuccess=s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},e}(),e.ExportTracePartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedSpans=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.rejectedSpans&&Object.hasOwnProperty.call(e,"rejectedSpans")&&t.uint32(8).int64(e.rejectedSpans),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.rejectedSpans=e.int64();break;case 2:o.errorMessage=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&!a.isInteger(e.rejectedSpans)&&!(e.rejectedSpans&&a.isInteger(e.rejectedSpans.low)&&a.isInteger(e.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!a.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return e;var t=new s.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=e.rejectedSpans&&(a.Long?(t.rejectedSpans=a.Long.fromValue(e.rejectedSpans)).unsigned=!1:"string"==typeof e.rejectedSpans?t.rejectedSpans=parseInt(e.rejectedSpans,10):"number"==typeof e.rejectedSpans?t.rejectedSpans=e.rejectedSpans:"object"==typeof e.rejectedSpans&&(t.rejectedSpans=new a.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.rejectedSpans=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.rejectedSpans=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&("number"==typeof e.rejectedSpans?r.rejectedSpans=t.longs===String?String(e.rejectedSpans):e.rejectedSpans:r.rejectedSpans=t.longs===String?a.Long.prototype.toString.call(e.rejectedSpans):t.longs===Number?new a.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber():e.rejectedSpans),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},e}(),e}(),e}(),e.metrics=function(){var e={};return e.v1=function(){var e={};return e.MetricsService=function(){function e(e,t,r){i.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportMetricsServiceRequest=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)s.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.resourceMetrics&&o.resourceMetrics.length||(o.resourceMetrics=[]),o.resourceMetrics.push(s.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=s.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return e;var t=new s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");t.resourceMetrics[r]=s.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var i=0;i<e.resourceMetrics.length;++i)r.resourceMetrics[i]=s.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},e}(),e.ExportMetricsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?o.partialSuccess=s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(e,e.uint32()):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return e;var t=new s.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");t.partialSuccess=s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},e}(),e.ExportMetricsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedDataPoints=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.rejectedDataPoints&&Object.hasOwnProperty.call(e,"rejectedDataPoints")&&t.uint32(8).int64(e.rejectedDataPoints),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.rejectedDataPoints=e.int64();break;case 2:o.errorMessage=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&!a.isInteger(e.rejectedDataPoints)&&!(e.rejectedDataPoints&&a.isInteger(e.rejectedDataPoints.low)&&a.isInteger(e.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!a.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return e;var t=new s.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=e.rejectedDataPoints&&(a.Long?(t.rejectedDataPoints=a.Long.fromValue(e.rejectedDataPoints)).unsigned=!1:"string"==typeof e.rejectedDataPoints?t.rejectedDataPoints=parseInt(e.rejectedDataPoints,10):"number"==typeof e.rejectedDataPoints?t.rejectedDataPoints=e.rejectedDataPoints:"object"==typeof e.rejectedDataPoints&&(t.rejectedDataPoints=new a.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.rejectedDataPoints=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.rejectedDataPoints=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&("number"==typeof e.rejectedDataPoints?r.rejectedDataPoints=t.longs===String?String(e.rejectedDataPoints):e.rejectedDataPoints:r.rejectedDataPoints=t.longs===String?a.Long.prototype.toString.call(e.rejectedDataPoints):t.longs===Number?new a.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber():e.rejectedDataPoints),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},e}(),e}(),e}(),e.logs=function(){var e={};return e.v1=function(){var e={};return e.LogsService=function(){function e(e,t,r){i.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(i.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportLogsServiceRequest=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)s.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.resourceLogs&&o.resourceLogs.length||(o.resourceLogs=[]),o.resourceLogs.push(s.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=s.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return e;var t=new s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");t.resourceLogs[r]=s.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var i=0;i<e.resourceLogs.length;++i)r.resourceLogs[i]=s.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},e}(),e.ExportLogsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?o.partialSuccess=s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(e,e.uint32()):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return e;var t=new s.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");t.partialSuccess=s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},e}(),e.ExportLogsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedLogRecords=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.rejectedLogRecords&&Object.hasOwnProperty.call(e,"rejectedLogRecords")&&t.uint32(8).int64(e.rejectedLogRecords),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.rejectedLogRecords=e.int64();break;case 2:o.errorMessage=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&!a.isInteger(e.rejectedLogRecords)&&!(e.rejectedLogRecords&&a.isInteger(e.rejectedLogRecords.low)&&a.isInteger(e.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!a.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return e;var t=new s.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=e.rejectedLogRecords&&(a.Long?(t.rejectedLogRecords=a.Long.fromValue(e.rejectedLogRecords)).unsigned=!1:"string"==typeof e.rejectedLogRecords?t.rejectedLogRecords=parseInt(e.rejectedLogRecords,10):"number"==typeof e.rejectedLogRecords?t.rejectedLogRecords=e.rejectedLogRecords:"object"==typeof e.rejectedLogRecords&&(t.rejectedLogRecords=new a.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.rejectedLogRecords=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.rejectedLogRecords=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&("number"==typeof e.rejectedLogRecords?r.rejectedLogRecords=t.longs===String?String(e.rejectedLogRecords):e.rejectedLogRecords:r.rejectedLogRecords=t.longs===String?a.Long.prototype.toString.call(e.rejectedLogRecords):t.longs===Number?new a.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber():e.rejectedLogRecords),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},e}(),e}(),e}(),e}(),e.metrics=function(){var e={};return e.v1=function(){var e={};return e.MetricsData=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)s.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.MetricsData;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.resourceMetrics&&o.resourceMetrics.length||(o.resourceMetrics=[]),o.resourceMetrics.push(s.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=s.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.MetricsData)return e;var t=new s.opentelemetry.proto.metrics.v1.MetricsData;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");t.resourceMetrics[r]=s.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var i=0;i<e.resourceMetrics.length;++i)r.resourceMetrics[i]=s.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.MetricsData"},e}(),e.ResourceMetrics=function(){function e(e){if(this.scopeMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeMetrics=a.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&s.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeMetrics&&e.scopeMetrics.length)for(var r=0;r<e.scopeMetrics.length;++r)s.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(e.scopeMetrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.ResourceMetrics;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.resource=s.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:o.scopeMetrics&&o.scopeMetrics.length||(o.scopeMetrics=[]),o.scopeMetrics.push(s.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(e,e.uint32()));break;case 3:o.schemaUrl=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=s.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeMetrics&&e.hasOwnProperty("scopeMetrics")){if(!Array.isArray(e.scopeMetrics))return"scopeMetrics: array expected";for(var r=0;r<e.scopeMetrics.length;++r){var t=s.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(e.scopeMetrics[r]);if(t)return"scopeMetrics."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.ResourceMetrics)return e;var t=new s.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");t.resource=s.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeMetrics){if(!Array.isArray(e.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");t.scopeMetrics=[];for(var r=0;r<e.scopeMetrics.length;++r){if("object"!=typeof e.scopeMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");t.scopeMetrics[r]=s.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(e.scopeMetrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeMetrics=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=s.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeMetrics&&e.scopeMetrics.length){r.scopeMetrics=[];for(var i=0;i<e.scopeMetrics.length;++i)r.scopeMetrics[i]=s.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(e.scopeMetrics[i],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},e}(),e.ScopeMetrics=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.metrics=a.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&s.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.metrics&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)s.opentelemetry.proto.metrics.v1.Metric.encode(e.metrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.ScopeMetrics;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:o.metrics&&o.metrics.length||(o.metrics=[]),o.metrics.push(s.opentelemetry.proto.metrics.v1.Metric.decode(e,e.uint32()));break;case 3:o.schemaUrl=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=s.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var r=0;r<e.metrics.length;++r){var t=s.opentelemetry.proto.metrics.v1.Metric.verify(e.metrics[r]);if(t)return"metrics."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.ScopeMetrics)return e;var t=new s.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");t.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if("object"!=typeof e.metrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");t.metrics[r]=s.opentelemetry.proto.metrics.v1.Metric.fromObject(e.metrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.metrics&&e.metrics.length){r.metrics=[];for(var i=0;i<e.metrics.length;++i)r.metrics[i]=s.opentelemetry.proto.metrics.v1.Metric.toObject(e.metrics[i],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},e}(),e.Metric=function(){var e;function t(e){if(this.metadata=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name=null,t.prototype.description=null,t.prototype.unit=null,t.prototype.gauge=null,t.prototype.sum=null,t.prototype.histogram=null,t.prototype.exponentialHistogram=null,t.prototype.summary=null,t.prototype.metadata=a.emptyArray,Object.defineProperty(t.prototype,"data",{get:a.oneOfGetter(e=["gauge","sum","histogram","exponentialHistogram","summary"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(26).string(e.unit),null!=e.gauge&&Object.hasOwnProperty.call(e,"gauge")&&s.opentelemetry.proto.metrics.v1.Gauge.encode(e.gauge,t.uint32(42).fork()).ldelim(),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&s.opentelemetry.proto.metrics.v1.Sum.encode(e.sum,t.uint32(58).fork()).ldelim(),null!=e.histogram&&Object.hasOwnProperty.call(e,"histogram")&&s.opentelemetry.proto.metrics.v1.Histogram.encode(e.histogram,t.uint32(74).fork()).ldelim(),null!=e.exponentialHistogram&&Object.hasOwnProperty.call(e,"exponentialHistogram")&&s.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(e.exponentialHistogram,t.uint32(82).fork()).ldelim(),null!=e.summary&&Object.hasOwnProperty.call(e,"summary")&&s.opentelemetry.proto.metrics.v1.Summary.encode(e.summary,t.uint32(90).fork()).ldelim(),null!=e.metadata&&e.metadata.length)for(var r=0;r<e.metadata.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.metadata[r],t.uint32(98).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.Metric;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.name=e.string();break;case 2:o.description=e.string();break;case 3:o.unit=e.string();break;case 5:o.gauge=s.opentelemetry.proto.metrics.v1.Gauge.decode(e,e.uint32());break;case 7:o.sum=s.opentelemetry.proto.metrics.v1.Sum.decode(e,e.uint32());break;case 9:o.histogram=s.opentelemetry.proto.metrics.v1.Histogram.decode(e,e.uint32());break;case 10:o.exponentialHistogram=s.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(e,e.uint32());break;case 11:o.summary=s.opentelemetry.proto.metrics.v1.Summary.decode(e,e.uint32());break;case 12:o.metadata&&o.metadata.length||(o.metadata=[]),o.metadata.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return o},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!a.isString(e.description))return"description: string expected";if(null!=e.unit&&e.hasOwnProperty("unit")&&!a.isString(e.unit))return"unit: string expected";if(null!=e.gauge&&e.hasOwnProperty("gauge")){t.data=1;var r=s.opentelemetry.proto.metrics.v1.Gauge.verify(e.gauge);if(r)return"gauge."+r}if(null!=e.sum&&e.hasOwnProperty("sum")){if(1===t.data)return"data: multiple values";t.data=1;var r=s.opentelemetry.proto.metrics.v1.Sum.verify(e.sum);if(r)return"sum."+r}if(null!=e.histogram&&e.hasOwnProperty("histogram")){if(1===t.data)return"data: multiple values";t.data=1;var r=s.opentelemetry.proto.metrics.v1.Histogram.verify(e.histogram);if(r)return"histogram."+r}if(null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")){if(1===t.data)return"data: multiple values";t.data=1;var r=s.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(e.exponentialHistogram);if(r)return"exponentialHistogram."+r}if(null!=e.summary&&e.hasOwnProperty("summary")){if(1===t.data)return"data: multiple values";t.data=1;var r=s.opentelemetry.proto.metrics.v1.Summary.verify(e.summary);if(r)return"summary."+r}if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!Array.isArray(e.metadata))return"metadata: array expected";for(var i=0;i<e.metadata.length;++i){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.metadata[i]);if(r)return"metadata."+r}}return null},t.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.Metric)return e;var t=new s.opentelemetry.proto.metrics.v1.Metric;if(null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.unit&&(t.unit=String(e.unit)),null!=e.gauge){if("object"!=typeof e.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");t.gauge=s.opentelemetry.proto.metrics.v1.Gauge.fromObject(e.gauge)}if(null!=e.sum){if("object"!=typeof e.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");t.sum=s.opentelemetry.proto.metrics.v1.Sum.fromObject(e.sum)}if(null!=e.histogram){if("object"!=typeof e.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");t.histogram=s.opentelemetry.proto.metrics.v1.Histogram.fromObject(e.histogram)}if(null!=e.exponentialHistogram){if("object"!=typeof e.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");t.exponentialHistogram=s.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(e.exponentialHistogram)}if(null!=e.summary){if("object"!=typeof e.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");t.summary=s.opentelemetry.proto.metrics.v1.Summary.fromObject(e.summary)}if(e.metadata){if(!Array.isArray(e.metadata))throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: array expected");t.metadata=[];for(var r=0;r<e.metadata.length;++r){if("object"!=typeof e.metadata[r])throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: object expected");t.metadata[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.metadata[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metadata=[]),t.defaults&&(r.name="",r.description="",r.unit=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.unit&&e.hasOwnProperty("unit")&&(r.unit=e.unit),null!=e.gauge&&e.hasOwnProperty("gauge")&&(r.gauge=s.opentelemetry.proto.metrics.v1.Gauge.toObject(e.gauge,t),t.oneofs&&(r.data="gauge")),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=s.opentelemetry.proto.metrics.v1.Sum.toObject(e.sum,t),t.oneofs&&(r.data="sum")),null!=e.histogram&&e.hasOwnProperty("histogram")&&(r.histogram=s.opentelemetry.proto.metrics.v1.Histogram.toObject(e.histogram,t),t.oneofs&&(r.data="histogram")),null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")&&(r.exponentialHistogram=s.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(e.exponentialHistogram,t),t.oneofs&&(r.data="exponentialHistogram")),null!=e.summary&&e.hasOwnProperty("summary")&&(r.summary=s.opentelemetry.proto.metrics.v1.Summary.toObject(e.summary,t),t.oneofs&&(r.data="summary")),e.metadata&&e.metadata.length){r.metadata=[];for(var i=0;i<e.metadata.length;++i)r.metadata[i]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.metadata[i],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Metric"},t}(),e.Gauge=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)s.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.Gauge;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.dataPoints&&o.dataPoints.length||(o.dataPoints=[]),o.dataPoints.push(s.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=s.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.Gauge)return e;var t=new s.opentelemetry.proto.metrics.v1.Gauge;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");t.dataPoints[r]=s.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var i=0;i<e.dataPoints.length;++i)r.dataPoints[i]=s.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Gauge"},e}(),e.Sum=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=a.emptyArray,e.prototype.aggregationTemporality=null,e.prototype.isMonotonic=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)s.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),null!=e.isMonotonic&&Object.hasOwnProperty.call(e,"isMonotonic")&&t.uint32(24).bool(e.isMonotonic),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.Sum;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.dataPoints&&o.dataPoints.length||(o.dataPoints=[]),o.dataPoints.push(s.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()));break;case 2:o.aggregationTemporality=e.int32();break;case 3:o.isMonotonic=e.bool();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=s.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&"boolean"!=typeof e.isMonotonic?"isMonotonic: boolean expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.Sum)return e;var t=new s.opentelemetry.proto.metrics.v1.Sum;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");t.dataPoints[r]=s.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return null!=e.isMonotonic&&(t.isMonotonic=!!e.isMonotonic),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,r.isMonotonic=!1),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var i=0;i<e.dataPoints.length;++i)r.dataPoints[i]=s.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[i],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===s.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:s.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&(r.isMonotonic=e.isMonotonic),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Sum"},e}(),e.Histogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=a.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)s.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.Histogram;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.dataPoints&&o.dataPoints.length||(o.dataPoints=[]),o.dataPoints.push(s.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(e,e.uint32()));break;case 2:o.aggregationTemporality=e.int32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=s.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.Histogram)return e;var t=new s.opentelemetry.proto.metrics.v1.Histogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");t.dataPoints[r]=s.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var i=0;i<e.dataPoints.length;++i)r.dataPoints[i]=s.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(e.dataPoints[i],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===s.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:s.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Histogram"},e}(),e.ExponentialHistogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=a.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.ExponentialHistogram;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.dataPoints&&o.dataPoints.length||(o.dataPoints=[]),o.dataPoints.push(s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(e,e.uint32()));break;case 2:o.aggregationTemporality=e.int32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.ExponentialHistogram)return e;var t=new s.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");t.dataPoints[r]=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var i=0;i<e.dataPoints.length;++i)r.dataPoints[i]=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(e.dataPoints[i],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===s.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:s.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},e}(),e.Summary=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)s.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.Summary;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.dataPoints&&o.dataPoints.length||(o.dataPoints=[]),o.dataPoints.push(s.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=s.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.Summary)return e;var t=new s.opentelemetry.proto.metrics.v1.Summary;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");t.dataPoints[r]=s.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var i=0;i<e.dataPoints.length;++i)r.dataPoints[i]=s.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(e.dataPoints[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Summary"},e}(),e.AggregationTemporality=function(){var e={},t=Object.create(e);return t[e[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,t[e[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,t[e[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,t}(),e.DataPointFlags=function(){var e={},t=Object.create(e);return t[e[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,t[e[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,t}(),e.NumberDataPoint=function(){var e;function t(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=a.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.asDouble=null,t.prototype.asInt=null,t.prototype.exemplars=a.emptyArray,t.prototype.flags=null,Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["asDouble","asInt"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(33).double(e.asDouble),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)s.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(42).fork()).ldelim();if(null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.NumberDataPoint;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 7:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:o.startTimeUnixNano=e.fixed64();break;case 3:o.timeUnixNano=e.fixed64();break;case 4:o.asDouble=e.double();break;case 6:o.asInt=e.sfixed64();break;case 5:o.exemplars&&o.exemplars.length||(o.exemplars=[]),o.exemplars.push(s.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 8:o.flags=e.uint32();break;default:e.skipType(7&a)}}return o},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var i=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(i)return"attributes."+i}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!a.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&a.isInteger(e.startTimeUnixNano.low)&&a.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!a.isInteger(e.asInt)&&!(e.asInt&&a.isInteger(e.asInt.low)&&a.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var i=s.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(i)return"exemplars."+i}}return null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags)?"flags: integer expected":null},t.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.NumberDataPoint)return e;var t=new s.opentelemetry.proto.metrics.v1.NumberDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(a.Long?(t.startTimeUnixNano=a.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(a.Long?(t.asInt=a.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new a.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");t.exemplars[r]=s.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.exemplars=[],r.attributes=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.startTimeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var n=0;n<e.exemplars.length;++n)r.exemplars[n]=s.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[n],t)}if(null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?a.Long.prototype.toString.call(e.asInt):t.longs===Number?new a.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},t}(),e.HistogramDataPoint=function(){var e;function t(e){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=a.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.count=null,t.prototype.sum=null,t.prototype.bucketCounts=a.emptyArray,t.prototype.explicitBounds=a.emptyArray,t.prototype.exemplars=a.emptyArray,t.prototype.flags=null,t.prototype.min=null,t.prototype.max=null,Object.defineProperty(t.prototype,"_sum",{get:a.oneOfGetter(e=["sum"]),set:a.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_min",{get:a.oneOfGetter(e=["min"]),set:a.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_max",{get:a.oneOfGetter(e=["max"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(50).fork();for(var r=0;r<e.bucketCounts.length;++r)t.fixed64(e.bucketCounts[r]);t.ldelim()}if(null!=e.explicitBounds&&e.explicitBounds.length){t.uint32(58).fork();for(var r=0;r<e.explicitBounds.length;++r)t.double(e.explicitBounds[r]);t.ldelim()}if(null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)s.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(66).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(89).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(97).double(e.max),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.HistogramDataPoint;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 9:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:o.startTimeUnixNano=e.fixed64();break;case 3:o.timeUnixNano=e.fixed64();break;case 4:o.count=e.fixed64();break;case 5:o.sum=e.double();break;case 6:if(o.bucketCounts&&o.bucketCounts.length||(o.bucketCounts=[]),(7&a)==2)for(var l=e.uint32()+e.pos;e.pos<l;)o.bucketCounts.push(e.fixed64());else o.bucketCounts.push(e.fixed64());break;case 7:if(o.explicitBounds&&o.explicitBounds.length||(o.explicitBounds=[]),(7&a)==2)for(var l=e.uint32()+e.pos;e.pos<l;)o.explicitBounds.push(e.double());else o.explicitBounds.push(e.double());break;case 8:o.exemplars&&o.exemplars.length||(o.exemplars=[]),o.exemplars.push(s.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 10:o.flags=e.uint32();break;case 11:o.min=e.double();break;case 12:o.max=e.double();break;default:e.skipType(7&a)}}return o},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var i=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(i)return"attributes."+i}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!a.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&a.isInteger(e.startTimeUnixNano.low)&&a.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count)&&!(e.count&&a.isInteger(e.count.low)&&a.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var r=0;r<e.bucketCounts.length;++r)if(!a.isInteger(e.bucketCounts[r])&&!(e.bucketCounts[r]&&a.isInteger(e.bucketCounts[r].low)&&a.isInteger(e.bucketCounts[r].high)))return"bucketCounts: integer|Long[] expected"}if(null!=e.explicitBounds&&e.hasOwnProperty("explicitBounds")){if(!Array.isArray(e.explicitBounds))return"explicitBounds: array expected";for(var r=0;r<e.explicitBounds.length;++r)if("number"!=typeof e.explicitBounds[r])return"explicitBounds: number[] expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var i=s.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(i)return"exemplars."+i}}return null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags)?"flags: integer expected":null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null},t.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.HistogramDataPoint)return e;var t=new s.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(a.Long?(t.startTimeUnixNano=a.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(a.Long?(t.count=a.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new a.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)a.Long?(t.bucketCounts[r]=a.Long.fromValue(e.bucketCounts[r])).unsigned=!1:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new a.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber())}if(e.explicitBounds){if(!Array.isArray(e.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");t.explicitBounds=[];for(var r=0;r<e.explicitBounds.length;++r)t.explicitBounds[r]=Number(e.explicitBounds[r])}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");t.exemplars[r]=s.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[],r.explicitBounds=[],r.exemplars=[],r.attributes=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.startTimeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.count=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.count=t.longs===String?"0":0;r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?a.Long.prototype.toString.call(e.count):t.longs===Number?new a.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var n=0;n<e.bucketCounts.length;++n)"number"==typeof e.bucketCounts[n]?r.bucketCounts[n]=t.longs===String?String(e.bucketCounts[n]):e.bucketCounts[n]:r.bucketCounts[n]=t.longs===String?a.Long.prototype.toString.call(e.bucketCounts[n]):t.longs===Number?new a.LongBits(e.bucketCounts[n].low>>>0,e.bucketCounts[n].high>>>0).toNumber():e.bucketCounts[n]}if(e.explicitBounds&&e.explicitBounds.length){r.explicitBounds=[];for(var n=0;n<e.explicitBounds.length;++n)r.explicitBounds[n]=t.json&&!isFinite(e.explicitBounds[n])?String(e.explicitBounds[n]):e.explicitBounds[n]}if(e.exemplars&&e.exemplars.length){r.exemplars=[];for(var n=0;n<e.exemplars.length;++n)r.exemplars[n]=s.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[n],t)}if(e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},t}(),e.ExponentialHistogramDataPoint=function(){var e;function t(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=a.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.count=null,t.prototype.sum=null,t.prototype.scale=null,t.prototype.zeroCount=null,t.prototype.positive=null,t.prototype.negative=null,t.prototype.flags=null,t.prototype.exemplars=a.emptyArray,t.prototype.min=null,t.prototype.max=null,t.prototype.zeroThreshold=null,Object.defineProperty(t.prototype,"_sum",{get:a.oneOfGetter(e=["sum"]),set:a.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_min",{get:a.oneOfGetter(e=["min"]),set:a.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_max",{get:a.oneOfGetter(e=["max"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();if(null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(48).sint32(e.scale),null!=e.zeroCount&&Object.hasOwnProperty.call(e,"zeroCount")&&t.uint32(57).fixed64(e.zeroCount),null!=e.positive&&Object.hasOwnProperty.call(e,"positive")&&s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.positive,t.uint32(66).fork()).ldelim(),null!=e.negative&&Object.hasOwnProperty.call(e,"negative")&&s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.negative,t.uint32(74).fork()).ldelim(),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)s.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(90).fork()).ldelim();return null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(97).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(105).double(e.max),null!=e.zeroThreshold&&Object.hasOwnProperty.call(e,"zeroThreshold")&&t.uint32(113).double(e.zeroThreshold),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:o.startTimeUnixNano=e.fixed64();break;case 3:o.timeUnixNano=e.fixed64();break;case 4:o.count=e.fixed64();break;case 5:o.sum=e.double();break;case 6:o.scale=e.sint32();break;case 7:o.zeroCount=e.fixed64();break;case 8:o.positive=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 9:o.negative=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 10:o.flags=e.uint32();break;case 11:o.exemplars&&o.exemplars.length||(o.exemplars=[]),o.exemplars.push(s.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 12:o.min=e.double();break;case 13:o.max=e.double();break;case 14:o.zeroThreshold=e.double();break;default:e.skipType(7&a)}}return o},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var i=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(i)return"attributes."+i}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!a.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&a.isInteger(e.startTimeUnixNano.low)&&a.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count)&&!(e.count&&a.isInteger(e.count.low)&&a.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.scale&&e.hasOwnProperty("scale")&&!a.isInteger(e.scale))return"scale: integer expected";if(null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&!a.isInteger(e.zeroCount)&&!(e.zeroCount&&a.isInteger(e.zeroCount.low)&&a.isInteger(e.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=e.positive&&e.hasOwnProperty("positive")){var i=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.positive);if(i)return"positive."+i}if(null!=e.negative&&e.hasOwnProperty("negative")){var i=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.negative);if(i)return"negative."+i}if(null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags))return"flags: integer expected";if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var i=s.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(i)return"exemplars."+i}}return null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&"number"!=typeof e.zeroThreshold?"zeroThreshold: number expected":null},t.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return e;var t=new s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(a.Long?(t.startTimeUnixNano=a.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(a.Long?(t.count=a.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new a.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),null!=e.scale&&(t.scale=0|e.scale),null!=e.zeroCount&&(a.Long?(t.zeroCount=a.Long.fromValue(e.zeroCount)).unsigned=!1:"string"==typeof e.zeroCount?t.zeroCount=parseInt(e.zeroCount,10):"number"==typeof e.zeroCount?t.zeroCount=e.zeroCount:"object"==typeof e.zeroCount&&(t.zeroCount=new a.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber())),null!=e.positive){if("object"!=typeof e.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");t.positive=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.positive)}if(null!=e.negative){if("object"!=typeof e.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");t.negative=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.negative)}if(null!=e.flags&&(t.flags=e.flags>>>0),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");t.exemplars[r]=s.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),null!=e.zeroThreshold&&(t.zeroThreshold=Number(e.zeroThreshold)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.exemplars=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.startTimeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.count=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.count=t.longs===String?"0":0;if(r.scale=0,a.Long){var i=new a.Long(0,0,!1);r.zeroCount=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.zeroCount=t.longs===String?"0":0;r.positive=null,r.negative=null,r.flags=0,r.zeroThreshold=0}if(e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?a.Long.prototype.toString.call(e.count):t.longs===Number?new a.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),null!=e.scale&&e.hasOwnProperty("scale")&&(r.scale=e.scale),null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&("number"==typeof e.zeroCount?r.zeroCount=t.longs===String?String(e.zeroCount):e.zeroCount:r.zeroCount=t.longs===String?a.Long.prototype.toString.call(e.zeroCount):t.longs===Number?new a.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber():e.zeroCount),null!=e.positive&&e.hasOwnProperty("positive")&&(r.positive=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.positive,t)),null!=e.negative&&e.hasOwnProperty("negative")&&(r.negative=s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.negative,t)),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var n=0;n<e.exemplars.length;++n)r.exemplars[n]=s.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[n],t)}return null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&(r.zeroThreshold=t.json&&!isFinite(e.zeroThreshold)?String(e.zeroThreshold):e.zeroThreshold),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},t.Buckets=function(){function e(e){if(this.bucketCounts=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.offset=null,e.prototype.bucketCounts=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(8).sint32(e.offset),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(18).fork();for(var r=0;r<e.bucketCounts.length;++r)t.uint64(e.bucketCounts[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.offset=e.sint32();break;case 2:if(o.bucketCounts&&o.bucketCounts.length||(o.bucketCounts=[]),(7&a)==2)for(var l=e.uint32()+e.pos;e.pos<l;)o.bucketCounts.push(e.uint64());else o.bucketCounts.push(e.uint64());break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!a.isInteger(e.offset))return"offset: integer expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var t=0;t<e.bucketCounts.length;++t)if(!a.isInteger(e.bucketCounts[t])&&!(e.bucketCounts[t]&&a.isInteger(e.bucketCounts[t].low)&&a.isInteger(e.bucketCounts[t].high)))return"bucketCounts: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return e;var t=new s.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=e.offset&&(t.offset=0|e.offset),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)a.Long?(t.bucketCounts[r]=a.Long.fromValue(e.bucketCounts[r])).unsigned=!0:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new a.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[]),t.defaults&&(r.offset=0),null!=e.offset&&e.hasOwnProperty("offset")&&(r.offset=e.offset),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var i=0;i<e.bucketCounts.length;++i)"number"==typeof e.bucketCounts[i]?r.bucketCounts[i]=t.longs===String?String(e.bucketCounts[i]):e.bucketCounts[i]:r.bucketCounts[i]=t.longs===String?a.Long.prototype.toString.call(e.bucketCounts[i]):t.longs===Number?new a.LongBits(e.bucketCounts[i].low>>>0,e.bucketCounts[i].high>>>0).toNumber(!0):e.bucketCounts[i]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},e}(),t}(),e.SummaryDataPoint=function(){function e(e){if(this.attributes=[],this.quantileValues=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=a.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.count=null,e.prototype.sum=null,e.prototype.quantileValues=a.emptyArray,e.prototype.flags=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.quantileValues&&e.quantileValues.length)for(var r=0;r<e.quantileValues.length;++r)s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(e.quantileValues[r],t.uint32(50).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.SummaryDataPoint;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 7:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:o.startTimeUnixNano=e.fixed64();break;case 3:o.timeUnixNano=e.fixed64();break;case 4:o.count=e.fixed64();break;case 5:o.sum=e.double();break;case 6:o.quantileValues&&o.quantileValues.length||(o.quantileValues=[]),o.quantileValues.push(s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(e,e.uint32()));break;case 8:o.flags=e.uint32();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!a.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&a.isInteger(e.startTimeUnixNano.low)&&a.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count)&&!(e.count&&a.isInteger(e.count.low)&&a.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&"number"!=typeof e.sum)return"sum: number expected";if(null!=e.quantileValues&&e.hasOwnProperty("quantileValues")){if(!Array.isArray(e.quantileValues))return"quantileValues: array expected";for(var t=0;t<e.quantileValues.length;++t){var r=s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(e.quantileValues[t]);if(r)return"quantileValues."+r}}return null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.SummaryDataPoint)return e;var t=new s.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(a.Long?(t.startTimeUnixNano=a.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(a.Long?(t.count=a.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new a.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.quantileValues){if(!Array.isArray(e.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");t.quantileValues=[];for(var r=0;r<e.quantileValues.length;++r){if("object"!=typeof e.quantileValues[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");t.quantileValues[r]=s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(e.quantileValues[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.quantileValues=[],r.attributes=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.startTimeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;if(a.Long){var i=new a.Long(0,0,!1);r.count=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.count=t.longs===String?"0":0;r.sum=0,r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new a.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?a.Long.prototype.toString.call(e.count):t.longs===Number?new a.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum),e.quantileValues&&e.quantileValues.length){r.quantileValues=[];for(var n=0;n<e.quantileValues.length;++n)r.quantileValues[n]=s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(e.quantileValues[n],t)}if(e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},e.ValueAtQuantile=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.quantile=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.quantile&&Object.hasOwnProperty.call(e,"quantile")&&t.uint32(9).double(e.quantile),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.quantile=e.double();break;case 2:o.value=e.double();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.quantile&&e.hasOwnProperty("quantile")&&"number"!=typeof e.quantile?"quantile: number expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return e;var t=new s.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=e.quantile&&(t.quantile=Number(e.quantile)),null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.quantile=0,r.value=0),null!=e.quantile&&e.hasOwnProperty("quantile")&&(r.quantile=t.json&&!isFinite(e.quantile)?String(e.quantile):e.quantile),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},e}(),e}(),e.Exemplar=function(){var e;function t(e){if(this.filteredAttributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.filteredAttributes=a.emptyArray,t.prototype.timeUnixNano=null,t.prototype.asDouble=null,t.prototype.asInt=null,t.prototype.spanId=null,t.prototype.traceId=null,Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["asDouble","asInt"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(17).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(25).double(e.asDouble),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(34).bytes(e.spanId),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(42).bytes(e.traceId),null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.filteredAttributes&&e.filteredAttributes.length)for(var r=0;r<e.filteredAttributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.filteredAttributes[r],t.uint32(58).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.metrics.v1.Exemplar;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 7:o.filteredAttributes&&o.filteredAttributes.length||(o.filteredAttributes=[]),o.filteredAttributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:o.timeUnixNano=e.fixed64();break;case 3:o.asDouble=e.double();break;case 6:o.asInt=e.sfixed64();break;case 4:o.spanId=e.bytes();break;case 5:o.traceId=e.bytes();break;default:e.skipType(7&a)}}return o},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.filteredAttributes&&e.hasOwnProperty("filteredAttributes")){if(!Array.isArray(e.filteredAttributes))return"filteredAttributes: array expected";for(var r=0;r<e.filteredAttributes.length;++r){var i=s.opentelemetry.proto.common.v1.KeyValue.verify(e.filteredAttributes[r]);if(i)return"filteredAttributes."+i}}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!a.isInteger(e.asInt)&&!(e.asInt&&a.isInteger(e.asInt.low)&&a.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}return null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||a.isString(e.spanId))?"spanId: buffer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||a.isString(e.traceId))?"traceId: buffer expected":null},t.fromObject=function(e){if(e instanceof s.opentelemetry.proto.metrics.v1.Exemplar)return e;var t=new s.opentelemetry.proto.metrics.v1.Exemplar;if(e.filteredAttributes){if(!Array.isArray(e.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");t.filteredAttributes=[];for(var r=0;r<e.filteredAttributes.length;++r){if("object"!=typeof e.filteredAttributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");t.filteredAttributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.filteredAttributes[r])}}return null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(a.Long?(t.asInt=a.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new a.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),null!=e.spanId&&("string"==typeof e.spanId?a.base64.decode(e.spanId,t.spanId=a.newBuffer(a.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceId&&("string"==typeof e.traceId?a.base64.decode(e.traceId,t.traceId=a.newBuffer(a.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.filteredAttributes=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=a.newBuffer(r.spanId))),t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=a.newBuffer(r.traceId)))}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?a.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?a.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?a.Long.prototype.toString.call(e.asInt):t.longs===Number?new a.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.filteredAttributes&&e.filteredAttributes.length){r.filteredAttributes=[];for(var n=0;n<e.filteredAttributes.length;++n)r.filteredAttributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.filteredAttributes[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Exemplar"},t}(),e}(),e}(),e.logs=function(){var e={};return e.v1=function(){var e={};return e.LogsData=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)s.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.logs.v1.LogsData;e.pos<i;){var a=e.uint32();if(a===r)break;a>>>3==1?(o.resourceLogs&&o.resourceLogs.length||(o.resourceLogs=[]),o.resourceLogs.push(s.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&a)}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=s.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.logs.v1.LogsData)return e;var t=new s.opentelemetry.proto.logs.v1.LogsData;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");t.resourceLogs[r]=s.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var i=0;i<e.resourceLogs.length;++i)r.resourceLogs[i]=s.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[i],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogsData"},e}(),e.ResourceLogs=function(){function e(e){if(this.scopeLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeLogs=a.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&s.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeLogs&&e.scopeLogs.length)for(var r=0;r<e.scopeLogs.length;++r)s.opentelemetry.proto.logs.v1.ScopeLogs.encode(e.scopeLogs[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.logs.v1.ResourceLogs;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.resource=s.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:o.scopeLogs&&o.scopeLogs.length||(o.scopeLogs=[]),o.scopeLogs.push(s.opentelemetry.proto.logs.v1.ScopeLogs.decode(e,e.uint32()));break;case 3:o.schemaUrl=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=s.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeLogs&&e.hasOwnProperty("scopeLogs")){if(!Array.isArray(e.scopeLogs))return"scopeLogs: array expected";for(var r=0;r<e.scopeLogs.length;++r){var t=s.opentelemetry.proto.logs.v1.ScopeLogs.verify(e.scopeLogs[r]);if(t)return"scopeLogs."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.logs.v1.ResourceLogs)return e;var t=new s.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");t.resource=s.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeLogs){if(!Array.isArray(e.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");t.scopeLogs=[];for(var r=0;r<e.scopeLogs.length;++r){if("object"!=typeof e.scopeLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");t.scopeLogs[r]=s.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(e.scopeLogs[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeLogs=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=s.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeLogs&&e.scopeLogs.length){r.scopeLogs=[];for(var i=0;i<e.scopeLogs.length;++i)r.scopeLogs[i]=s.opentelemetry.proto.logs.v1.ScopeLogs.toObject(e.scopeLogs[i],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ResourceLogs"},e}(),e.ScopeLogs=function(){function e(e){if(this.logRecords=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.logRecords=a.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&s.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.logRecords&&e.logRecords.length)for(var r=0;r<e.logRecords.length;++r)s.opentelemetry.proto.logs.v1.LogRecord.encode(e.logRecords[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.logs.v1.ScopeLogs;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:o.logRecords&&o.logRecords.length||(o.logRecords=[]),o.logRecords.push(s.opentelemetry.proto.logs.v1.LogRecord.decode(e,e.uint32()));break;case 3:o.schemaUrl=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=s.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.logRecords&&e.hasOwnProperty("logRecords")){if(!Array.isArray(e.logRecords))return"logRecords: array expected";for(var r=0;r<e.logRecords.length;++r){var t=s.opentelemetry.proto.logs.v1.LogRecord.verify(e.logRecords[r]);if(t)return"logRecords."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!a.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.logs.v1.ScopeLogs)return e;var t=new s.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");t.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.logRecords){if(!Array.isArray(e.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");t.logRecords=[];for(var r=0;r<e.logRecords.length;++r){if("object"!=typeof e.logRecords[r])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");t.logRecords[r]=s.opentelemetry.proto.logs.v1.LogRecord.fromObject(e.logRecords[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.logRecords=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=s.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.logRecords&&e.logRecords.length){r.logRecords=[];for(var i=0;i<e.logRecords.length;++i)r.logRecords[i]=s.opentelemetry.proto.logs.v1.LogRecord.toObject(e.logRecords[i],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ScopeLogs"},e}(),e.SeverityNumber=function(){var e={},t=Object.create(e);return t[e[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,t[e[1]="SEVERITY_NUMBER_TRACE"]=1,t[e[2]="SEVERITY_NUMBER_TRACE2"]=2,t[e[3]="SEVERITY_NUMBER_TRACE3"]=3,t[e[4]="SEVERITY_NUMBER_TRACE4"]=4,t[e[5]="SEVERITY_NUMBER_DEBUG"]=5,t[e[6]="SEVERITY_NUMBER_DEBUG2"]=6,t[e[7]="SEVERITY_NUMBER_DEBUG3"]=7,t[e[8]="SEVERITY_NUMBER_DEBUG4"]=8,t[e[9]="SEVERITY_NUMBER_INFO"]=9,t[e[10]="SEVERITY_NUMBER_INFO2"]=10,t[e[11]="SEVERITY_NUMBER_INFO3"]=11,t[e[12]="SEVERITY_NUMBER_INFO4"]=12,t[e[13]="SEVERITY_NUMBER_WARN"]=13,t[e[14]="SEVERITY_NUMBER_WARN2"]=14,t[e[15]="SEVERITY_NUMBER_WARN3"]=15,t[e[16]="SEVERITY_NUMBER_WARN4"]=16,t[e[17]="SEVERITY_NUMBER_ERROR"]=17,t[e[18]="SEVERITY_NUMBER_ERROR2"]=18,t[e[19]="SEVERITY_NUMBER_ERROR3"]=19,t[e[20]="SEVERITY_NUMBER_ERROR4"]=20,t[e[21]="SEVERITY_NUMBER_FATAL"]=21,t[e[22]="SEVERITY_NUMBER_FATAL2"]=22,t[e[23]="SEVERITY_NUMBER_FATAL3"]=23,t[e[24]="SEVERITY_NUMBER_FATAL4"]=24,t}(),e.LogRecordFlags=function(){var e={},t=Object.create(e);return t[e[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,t[e[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,t}(),e.LogRecord=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.observedTimeUnixNano=null,e.prototype.severityNumber=null,e.prototype.severityText=null,e.prototype.body=null,e.prototype.attributes=a.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.flags=null,e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.eventName=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.severityNumber&&Object.hasOwnProperty.call(e,"severityNumber")&&t.uint32(16).int32(e.severityNumber),null!=e.severityText&&Object.hasOwnProperty.call(e,"severityText")&&t.uint32(26).string(e.severityText),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&s.opentelemetry.proto.common.v1.AnyValue.encode(e.body,t.uint32(42).fork()).ldelim(),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)s.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(50).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(56).uint32(e.droppedAttributesCount),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(69).fixed32(e.flags),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(74).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(82).bytes(e.spanId),null!=e.observedTimeUnixNano&&Object.hasOwnProperty.call(e,"observedTimeUnixNano")&&t.uint32(89).fixed64(e.observedTimeUnixNano),null!=e.eventName&&Object.hasOwnProperty.call(e,"eventName")&&t.uint32(98).string(e.eventName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof n||(e=n.create(e));for(var i=void 0===t?e.len:e.pos+t,o=new s.opentelemetry.proto.logs.v1.LogRecord;e.pos<i;){var a=e.uint32();if(a===r)break;switch(a>>>3){case 1:o.timeUnixNano=e.fixed64();break;case 11:o.observedTimeUnixNano=e.fixed64();break;case 2:o.severityNumber=e.int32();break;case 3:o.severityText=e.string();break;case 5:o.body=s.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;case 6:o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(s.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 7:o.droppedAttributesCount=e.uint32();break;case 8:o.flags=e.fixed32();break;case 9:o.traceId=e.bytes();break;case 10:o.spanId=e.bytes();break;case 12:o.eventName=e.string();break;default:e.skipType(7&a)}}return o},e.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!a.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&a.isInteger(e.timeUnixNano.low)&&a.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&!a.isInteger(e.observedTimeUnixNano)&&!(e.observedTimeUnixNano&&a.isInteger(e.observedTimeUnixNano.low)&&a.isInteger(e.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=e.severityNumber&&e.hasOwnProperty("severityNumber"))switch(e.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=e.severityText&&e.hasOwnProperty("severityText")&&!a.isString(e.severityText))return"severityText: string expected";if(null!=e.body&&e.hasOwnProperty("body")){var t=s.opentelemetry.proto.common.v1.AnyValue.verify(e.body);if(t)return"body."+t}if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var t=s.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(t)return"attributes."+t}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!a.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!a.isInteger(e.flags)?"flags: integer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||a.isString(e.traceId))?"traceId: buffer expected":null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||a.isString(e.spanId))?"spanId: buffer expected":null!=e.eventName&&e.hasOwnProperty("eventName")&&!a.isString(e.eventName)?"eventName: string expected":null},e.fromObject=function(e){if(e instanceof s.opentelemetry.proto.logs.v1.LogRecord)return e;var t=new s.opentelemetry.proto.logs.v1.LogRecord;switch(null!=e.timeUnixNano&&(a.Long?(t.timeUnixNano=a.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.observedTimeUnixNano&&(a.Long?(t.observedTimeUnixNano=a.Long.fromValue(e.observedTimeUnixNano)).unsigned=!1:"string"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=parseInt(e.observedTimeUnixNano,10):"number"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=e.observedTimeUnixNano:"object"==typeof e.observedTimeUnixNano&&(t.observedTimeUnixNano=new a.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber())),e.severityNumber){default:"number"==typeof e.severityNumber&&(t.severityNumber=e.severityNumber);break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:t.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:t.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:t.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:t.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:t.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:t.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:t.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:t.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:t.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:t.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:t.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:t.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:t.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:t.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:t.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:t.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:t.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:t.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:t.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:t.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:t.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:t.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:t.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:t.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:t.severityNumber=24}if(null!=e.severityText&&(t.severityText=String(e.severityText)),null!=e.body){if("object"!=typeof e.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");t.body=s.opentelemetry.proto.common.v1.AnyValue.fromObject(e.body)}if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");t.attributes[r]=s.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.traceId&&("string"==typeof e.traceId?a.base64.decode(e.traceId,t.traceId=a.newBuffer(a.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?a.base64.decode(e.spanId,t.spanId=a.newBuffer(a.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.eventName&&(t.eventName=String(e.eventName)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.timeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.timeUnixNano=t.longs===String?"0":0;if(r.severityNumber=t.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,r.severityText="",r.body=null,r.droppedAttributesCount=0,r.flags=0,t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=a.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=a.newBuffer(r.spanId))),a.Long){var i=new a.Long(0,0,!1);r.observedTimeUnixNano=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.observedTimeUnixNano=t.longs===String?"0":0;r.eventName=""}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new a.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.severityNumber&&e.hasOwnProperty("severityNumber")&&(r.severityNumber=t.enums===String?void 0===s.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]?e.severityNumber:s.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]:e.severityNumber),null!=e.severityText&&e.hasOwnProperty("severityText")&&(r.severityText=e.severityText),null!=e.body&&e.hasOwnProperty("body")&&(r.body=s.opentelemetry.proto.common.v1.AnyValue.toObject(e.body,t)),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=s.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?a.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?a.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof e.observedTimeUnixNano?r.observedTimeUnixNano=t.longs===String?String(e.observedTimeUnixNano):e.observedTimeUnixNano:r.observedTimeUnixNano=t.longs===String?a.Long.prototype.toString.call(e.observedTimeUnixNano):t.longs===Number?new a.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber():e.observedTimeUnixNano),null!=e.eventName&&e.hasOwnProperty("eventName")&&(r.eventName=e.eventName),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogRecord"},e}(),e}(),e}(),e}(),e}(),t.exports=s},141159,e=>{"use strict";var t,r,i=e.i(45568),n=e.i(584930),o=e.i(692239),a=e.i(528716);!function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE",e[e.LOWMEMORY=2]="LOWMEMORY"}(t||(t={}));var s=e.i(216152),l=e.i(730533);let u=()=>n.AggregationTemporality.CUMULATIVE,c=e=>{switch(e){case o.InstrumentType.COUNTER:case o.InstrumentType.OBSERVABLE_COUNTER:case o.InstrumentType.GAUGE:case o.InstrumentType.HISTOGRAM:case o.InstrumentType.OBSERVABLE_GAUGE:return n.AggregationTemporality.DELTA;case o.InstrumentType.UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return n.AggregationTemporality.CUMULATIVE}},d=e=>{switch(e){case o.InstrumentType.COUNTER:case o.InstrumentType.HISTOGRAM:return n.AggregationTemporality.DELTA;case o.InstrumentType.GAUGE:case o.InstrumentType.UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_COUNTER:case o.InstrumentType.OBSERVABLE_GAUGE:return n.AggregationTemporality.CUMULATIVE}};function p(){let e=((0,i.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();return"cumulative"===e?u:"delta"===e?c:"lowmemory"===e?d:(l.diag.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${e}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),u)}function f(e){return null!=e?e===t.DELTA?c:e===t.LOWMEMORY?d:u:p()}let h=Object.freeze({type:a.AggregationType.DEFAULT});function m(e){return e?.aggregationPreference??(()=>h)}class g extends s.OTLPExporterBase{_aggregationTemporalitySelector;_aggregationSelector;constructor(e,t){super(e),this._aggregationSelector=m(t),this._aggregationTemporalitySelector=f(t?.temporalityPreference)}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}}var y=e.i(86882),v=e.i(984126),b=n,A=o;!function(e){e[e.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",e[e.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",e[e.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE"}(r||(r={}));var w=e.i(83970),_=e.i(526184);function S(e,t){let r=(0,w.getOtlpEncoder)(t),i=(0,_.createResource)(e.resource);return{resource:i,schemaUrl:i.schemaUrl,scopeMetrics:E(e.scopeMetrics,r)}}function E(e,t){return Array.from(e.map(e=>({scope:(0,_.createInstrumentationScope)(e.scope),metrics:e.metrics.map(e=>T(e,t)),schemaUrl:e.scope.schemaUrl})))}function T(e,t){let r={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},i=k(e.aggregationTemporality);switch(e.dataPointType){case A.DataPointType.SUM:r.sum={aggregationTemporality:i,isMonotonic:e.isMonotonic,dataPoints:x(e,t)};break;case A.DataPointType.GAUGE:r.gauge={dataPoints:x(e,t)};break;case A.DataPointType.HISTOGRAM:r.histogram={aggregationTemporality:i,dataPoints:O(e,t)};break;case A.DataPointType.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:i,dataPoints:C(e,t)}}return r}function I(e,t,r){let i={attributes:(0,_.toAttributes)(e.attributes),startTimeUnixNano:r.encodeHrTime(e.startTime),timeUnixNano:r.encodeHrTime(e.endTime)};switch(t){case v.ValueType.INT:i.asInt=e.value;break;case v.ValueType.DOUBLE:i.asDouble=e.value}return i}function x(e,t){return e.dataPoints.map(r=>I(r,e.descriptor.valueType,t))}function O(e,t){return e.dataPoints.map(e=>{let r=e.value;return{attributes:(0,_.toAttributes)(e.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,min:r.min,max:r.max,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}})}function C(e,t){return e.dataPoints.map(e=>{let r=e.value;return{attributes:(0,_.toAttributes)(e.attributes),count:r.count,min:r.min,max:r.max,sum:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},scale:r.scale,zeroCount:r.zeroCount,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}})}function k(e){switch(e){case b.AggregationTemporality.DELTA:return r.AGGREGATION_TEMPORALITY_DELTA;case b.AggregationTemporality.CUMULATIVE:return r.AGGREGATION_TEMPORALITY_CUMULATIVE}}function N(e,t){return{resourceMetrics:e.map(e=>S(e,t))}}let R=y.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,P=y.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,D={serializeRequest:e=>{let t=N([e]);return P.encode(t).finish()},deserializeResponse:e=>R.decode(e)},U="0.206.0";var L=e.i(129137),K=e.i(457171);class M extends g{constructor(e){super((0,K.createOtlpHttpExportDelegate)((0,L.convertLegacyHttpOptions)(e??{},"METRICS","v1/metrics",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${U}`,"Content-Type":"application/x-protobuf"}),D),e)}}e.s(["OTLPMetricExporter",()=>M],141159)},727683,e=>{"use strict";var t=e.i(216152);let r="0.206.0";var i=e.i(526184),n=e.i(83970);let o=256,a=512;function s(e,t){let r=255&e|o;return t&&(r|=a),r}function l(e,t){let r=e.spanContext(),n=e.status,o=e.parentSpanContext?.spanId?t.encodeSpanContext(e.parentSpanContext?.spanId):void 0;return{traceId:t.encodeSpanContext(r.traceId),spanId:t.encodeSpanContext(r.spanId),parentSpanId:o,traceState:r.traceState?.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,i.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(e=>c(e,t)),droppedEventsCount:e.droppedEventsCount,status:{code:n.code,message:n.message},links:e.links.map(e=>u(e,t)),droppedLinksCount:e.droppedLinksCount,flags:s(r.traceFlags,e.parentSpanContext?.isRemote)}}function u(e,t){return{attributes:e.attributes?(0,i.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:e.context.traceState?.serialize(),droppedAttributesCount:e.droppedAttributesCount||0,flags:s(e.context.traceFlags,e.context.isRemote)}}function c(e,t){return{attributes:e.attributes?(0,i.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}function d(e,t){return{resourceSpans:f(e,(0,n.getOtlpEncoder)(t))}}function p(e){let t=new Map;for(let r of e){let e=t.get(r.resource);e||(e=new Map,t.set(r.resource,e));let i=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,n=e.get(i);n||(n=[],e.set(i,n)),n.push(r)}return t}function f(e,t){let r=p(e),n=[],o=r.entries(),a=o.next();for(;!a.done;){let[e,r]=a.value,s=[],u=r.values(),c=u.next();for(;!c.done;){let e=c.value;if(e.length>0){let r=e.map(e=>l(e,t));s.push({scope:(0,i.createInstrumentationScope)(e[0].instrumentationScope),spans:r,schemaUrl:e[0].instrumentationScope.schemaUrl})}c=u.next()}let d=(0,i.createResource)(e),p={resource:d,scopeSpans:s,schemaUrl:d.schemaUrl};n.push(p),a=o.next()}return n}let h={serializeRequest:e=>{let t=d(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:e=>0===e.length?{}:JSON.parse(new TextDecoder().decode(e))};var m=e.i(129137),g=e.i(457171);class y extends t.OTLPExporterBase{constructor(e={}){super((0,g.createOtlpHttpExportDelegate)((0,m.convertLegacyHttpOptions)(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${r}`,"Content-Type":"application/json"}),h))}}e.s(["OTLPTraceExporter",()=>y],727683)},389258,e=>{"use strict";var t=e.i(730533),r=e.i(855948),i=e.i(45568),n=e.i(946272),o=e.i(461922),a=e.i(138914),s=e.i(525099),l=e.i(457805);class u{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(e,r){this._exporter=e,this._maxExportBatchSize=r?.maxExportBatchSize??(0,i.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=r?.maxQueueSize??(0,i.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=r?.scheduledDelayMillis??(0,i.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=r?.exportTimeoutMillis??(0,i.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new a.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(t.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let r=[],i=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let e=0;e<i;e++)r.push(this._flushOneBatch());Promise.all(r).then(()=>{e()}).catch(t)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedLogRecords.length)?Promise.resolve():new Promise((e,t)=>{(0,l.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(t)})}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{(0,n.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,o.unrefTimer)(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let t=()=>s.internal._export(this._exporter,e).then(e=>{e.code!==r.ExportResultCode.SUCCESS&&(0,n.globalErrorHandler)(e.error??Error(`BatchLogRecordProcessor: log record export failed (status ${e})`))}).catch(n.globalErrorHandler),i=e.map(e=>e.resource).filter(e=>e.asyncAttributesPending);return 0===i.length?t():Promise.all(i.map(e=>e.waitForAsyncAttributes?.())).then(t,n.globalErrorHandler)}}class c extends u{onShutdown(){}}e.s(["BatchLogRecordProcessor",()=>c],389258)},268694,e=>{"use strict";var t=e.i(730533),r=e.i(525099),i=e.i(855948),n=e.i(946272),o=e.i(461922),a=t,s=e.i(951867),l=e.i(584930),u=e.i(528716);let c=e=>({type:u.AggregationType.DEFAULT}),d=e=>l.AggregationTemporality.CUMULATIVE;class p{_shutdown=!1;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(e){this._aggregationSelector=e?.aggregationSelector??c,this._aggregationTemporalitySelector=e?.aggregationTemporalitySelector??d,this._metricProducers=e?.metricProducers??[],this._cardinalitySelector=e?.cardinalitySelector}setMetricProducer(e){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}selectCardinalityLimit(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3}onInitialized(){}async collect(e){if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");let[t,...r]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e?.timeoutMillis}),...this._metricProducers.map(t=>t.collect({timeoutMillis:e?.timeoutMillis}))]),i=t.errors.concat((0,s.FlatMap)(r,e=>e.errors));return{resourceMetrics:{resource:t.resourceMetrics.resource,scopeMetrics:t.resourceMetrics.scopeMetrics.concat((0,s.FlatMap)(r,e=>e.resourceMetrics.scopeMetrics))},errors:i}}async shutdown(e){this._shutdown?a.diag.error("Cannot call shutdown twice."):(e?.timeoutMillis==null?await this.onShutdown():await (0,s.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0)}async forceFlush(e){this._shutdown?a.diag.warn("Cannot forceFlush on already shutdown MetricReader."):e?.timeoutMillis==null?await this.onForceFlush():await (0,s.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}}var f=s;class h extends p{_interval;_exporter;_exportInterval;_exportTimeout;constructor(e){if(super({aggregationSelector:e.exporter.selectAggregation?.bind(e.exporter),aggregationTemporalitySelector:e.exporter.selectAggregationTemporality?.bind(e.exporter),metricProducers:e.metricProducers}),void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=e.exportIntervalMillis??6e4,this._exportTimeout=e.exportTimeoutMillis??3e4,this._exporter=e.exporter}async _runOnce(){try{await (0,f.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof f.TimeoutError)return void t.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);(0,n.globalErrorHandler)(e)}}async _doRun(){let{resourceMetrics:e,errors:o}=await this.collect({timeoutMillis:this._exportTimeout});if(o.length>0&&t.diag.error("PeriodicExportingMetricReader: metrics collection errors",...o),e.resource.asyncAttributesPending)try{await e.resource.waitForAsyncAttributes?.()}catch(e){t.diag.debug("Error while resolving async portion of resource: ",e),(0,n.globalErrorHandler)(e)}if(0===e.scopeMetrics.length)return;let a=await r.internal._export(this._exporter,e);if(a.code!==i.ExportResultCode.SUCCESS)throw Error(`PeriodicExportingMetricReader: metrics export failed (error ${a.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,o.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this.onForceFlush(),await this._exporter.shutdown()}}e.s(["PeriodicExportingMetricReader",()=>h],268694)},36177,e=>{"use strict";var t=e.i(680465),r=e.i(787039);e.i(100808);var i=e.i(625552),n=e.i(580611),o=e.i(276406),a=e.i(885858),s=e.i(82431),l=e.i(741840);function u(e,t){return n.flatMap(e.runtimeEffect,e=>n.withFiberRuntime(r=>(r.setFiberRefs(e.fiberRefs),r.currentRuntimeFlags=e.runtimeFlags,n.provideContext(t,e.context))))}let c={...t.CommitPrototype,[s.TypeId]:s.TypeId,pipe(){return(0,r.pipeArguments)(this,arguments)},commit(){return this.runtimeEffect}},d=(e,t)=>{let r;t=t??a.unsafeMakeMemoMap();let s=l.unsafeRunSyncEffect(o.scopeMake()),d=n.withFiberRuntime(o=>(r||(r=l.unsafeForkEffect(n.tap(i.extend(a.toRuntimeWithMemoMap(e,t),s),e=>{p.cachedRuntime=e}),{scope:s,scheduler:o.currentScheduler})),n.flatten(r.await))),p=Object.assign(Object.create(c),{memoMap:t,scope:s,runtimeEffect:d,cachedRuntime:void 0,runtime:()=>void 0===p.cachedRuntime?l.unsafeRunPromiseEffect(p.runtimeEffect):Promise.resolve(p.cachedRuntime),dispose:()=>l.unsafeRunPromiseEffect(p.disposeEffect),disposeEffect:n.suspend(()=>(p.runtimeEffect=n.die("ManagedRuntime disposed"),p.cachedRuntime=void 0,i.close(p.scope,n.exitVoid))),runFork:(e,t)=>void 0===p.cachedRuntime?l.unsafeForkEffect(u(p,e),t):l.unsafeFork(p.cachedRuntime)(e,t),runSyncExit:e=>void 0===p.cachedRuntime?l.unsafeRunSyncExitEffect(u(p,e)):l.unsafeRunSyncExit(p.cachedRuntime)(e),runSync:e=>void 0===p.cachedRuntime?l.unsafeRunSyncEffect(u(p,e)):l.unsafeRunSync(p.cachedRuntime)(e),runPromiseExit:(e,t)=>void 0===p.cachedRuntime?l.unsafeRunPromiseExitEffect(u(p,e),t):l.unsafeRunPromiseExit(p.cachedRuntime)(e,t),runCallback:(e,t)=>void 0===p.cachedRuntime?l.unsafeRunCallback(l.defaultRuntime)(u(p,e),t):l.unsafeRunCallback(p.cachedRuntime)(e,t),runPromise:(e,t)=>void 0===p.cachedRuntime?l.unsafeRunPromiseEffect(u(p,e),t):l.unsafeRunPromise(p.cachedRuntime)(e,t)});return p};s.TypeId;let p=d;e.s(["make",0,p],36177)},303277,e=>e.a(async(t,r)=>{try{e.i(531831);var i=e.i(78244),n=e.i(662515),o=e.i(31650),a=e.i(590643),s=e.i(46707);e.i(566797);var l=e.i(326942);e.i(671027);var u=e.i(405597),c=e.i(48767),d=e.i(69232),p=e.i(214912),f=e.i(853053),h=e.i(634541);e.i(308173);var m=e.i(886899),g=e.i(28191),y=e.i(165992),v=e.i(675498),b=e.i(997857),A=e.i(141159),w=e.i(727683),_=e.i(389258),S=e.i(268694),E=e.i(303997),T=e.i(405614),I=e.i(347064),x=e.i(11194),O=e.i(36177),C=t([n,c,d,p]);[n,c,d,p]=C.then?(await C)():C;let k="dev"===a.serverEnv.app.env,N=`${a.serverEnv.app.name}-server`,R=a.serverEnv.otlp.traceExporterUrl.toString(),P=a.serverEnv.otlp.logExporterUrl.toString(),D=a.serverEnv.otlp.metricExporterUrl.toString(),U=y.NodeSdk.layer(()=>({resource:{serviceName:N},spanProcessor:new E.BatchSpanProcessor(new w.OTLPTraceExporter({url:R})),logRecordProcessor:new _.BatchLogRecordProcessor(new b.OTLPLogExporter({url:P})),metricReader:new S.PeriodicExportingMetricReader({exporter:new A.OTLPMetricExporter({url:D})})})),L=k?(0,s.makePrettyConsoleLoggerLayer)():x.json,K=x.minimumLogLevel(a.serverEnv.app.logLevel),M=k?g.DevTools.layerWebSocket().pipe(I.provide(v.BunSocket.layerWebSocketConstructor)):I.empty,B=I.mergeAll(L,U,M),j=I.mergeAll(h.IamRepos.layer,l.FilesRepos.layer),$=I.mergeAll(m.IamDb.IamDb.Live,u.FilesDb.FilesDb.Live),z=I.provideMerge($,i.Db.Live),F=I.provideMerge(j,z),q=d.AuthEmailService.DefaultWithoutDependencies.pipe(I.provide([o.ResendService.Default,f.IamConfig.Live])),V=I.provideMerge(F,q),H=p.AuthService.DefaultWithoutDependencies.pipe(I.provide([V,f.IamConfig.Live])).pipe(I.provideMerge(L)),G=O.make(H.pipe(I.provide([B,K]))),W=(e,t="serverRuntime.runPromise",r)=>G.runPromise(T.withSpan(e,t),r);e.s(["runServerPromise",0,W]),r()}catch(e){r(e)}},!1),773308,e=>e.a(async(t,r)=>{try{var i=e.i(303277),n=t([i]);[i]=n.then?(await n)():n,e.s([]),r()}catch(e){r(e)}},!1),119161,e=>e.a(async(t,r)=>{try{var i=e.i(214912),n=e.i(773308),o=e.i(303277),a=e.i(405614),s=t([i,n,o]);[i,n,o]=s.then?(await s)():s;let l=a.flatMap(i.AuthService,({auth:e})=>a.gen(function*(){return yield*a.succeed(e().handler)})),u=async e=>(await (0,o.runServerPromise)(l,"auth.route"))(e),c=u,d=u;e.s(["GET",0,d,"POST",0,c]),r()}catch(e){r(e)}},!1),336910,e=>e.a(async(t,r)=>{try{var i=e.i(31173),n=e.i(462205),o=e.i(709467),a=e.i(268273),s=e.i(618601),l=e.i(891886),u=e.i(435398),c=e.i(194179),d=e.i(686434),p=e.i(234044),f=e.i(700282),h=e.i(163625),m=e.i(262788),g=e.i(260321),y=e.i(221422),v=e.i(891917),b=e.i(193695);e.i(993930);var A=e.i(582490),w=e.i(119161),_=t([w]);[w]=_.then?(await _)():_;let T="",I=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/auth/[...all]/route",pathname:"/api/auth/[...all]",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/apps/web/src/app/api/auth/[...all]/route.ts",nextConfigOutput:T,userland:w}),{workAsyncStorage:x,workUnitAsyncStorage:O,serverHooks:C}=I;function S(){return(0,o.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:O})}async function E(e,t,r){var i;let o="/api/auth/[...all]/route";o=o.replace(/\/index$/,"")||"/";let w=!1,_=await I.prepare(e,t,{srcPage:o,multiZoneDraftMode:w});if(!_)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:S,params:E,nextConfig:T,isDraftMode:x,prerenderManifest:O,routerServerContext:C,isOnDemandRevalidate:k,revalidateOnlyGenerated:N,resolvedPathname:R,clientReferenceManifest:P,serverActionsManifest:D}=_,U=(0,c.normalizeAppPath)(o),L=!!(O.dynamicRoutes[U]||O.routes[R]);if(L&&!x){let e=!!O.routes[R],t=O.dynamicRoutes[U];if(t&&!1===t.fallback&&!e)throw new b.NoFallbackError}let K=null;!L||I.isDev||x||(K=R,K="/index"===K?"/":K);let M=!0===I.isDev||!L,B=L&&!M;D&&P&&(0,l.setReferenceManifestsSingleton)({page:o,clientReferenceManifest:P,serverActionsManifest:D,serverModuleMap:(0,u.createServerModuleMap)({serverActionsManifest:D})});let j=e.method||"GET",$=(0,s.getTracer)(),z=$.getActiveScopeSpan(),F={params:E,prerenderManifest:O,renderOpts:{experimental:{cacheComponents:!!T.experimental.cacheComponents,authInterrupts:!!T.experimental.authInterrupts},supportsDynamicResponse:M,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(i=T.experimental)?void 0:i.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,i)=>I.onRequestError(e,t,i,C)},sharedContext:{buildId:S}},q=new d.NodeNextRequest(e),V=new d.NodeNextResponse(t),H=p.NextRequestAdapter.fromNodeNextRequest(q,(0,p.signalFromNodeResponse)(t));try{let i=async e=>I.handle(H,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=$.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==f.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=r.get("next.route");if(i){let t=`${j} ${i}`;e.setAttributes({"next.route":i,"http.route":i,"next.span_name":t}),e.updateName(t)}else e.updateName(`${j} ${o}`)}),l=async s=>{var l,u;let c=async({previousCacheEntry:n})=>{try{if(!(0,a.getRequestMeta)(e,"minimalMode")&&k&&N&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let o=await i(s);e.fetchMetrics=F.renderOpts.fetchMetrics;let l=F.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let u=F.renderOpts.collectedTags;if(!L)return await (0,m.sendResponse)(q,V,o,F.renderOpts.pendingWaitUntil),null;{let e=await o.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(o.headers);u&&(t[v.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=v.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,i=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=v.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:A.CachedRouteKind.APP_ROUTE,status:o.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:i}}}}catch(t){throw(null==n?void 0:n.isStale)&&await I.onRequestError(e,t,{routerKind:"App Router",routePath:o,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:B,isOnDemandRevalidate:k})},C),t}},d=await I.handleResponse({req:e,nextConfig:T,cacheKey:K,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:O,isRoutePPREnabled:!1,isOnDemandRevalidate:k,revalidateOnlyGenerated:N,responseGenerator:c,waitUntil:r.waitUntil});if(!L)return null;if((null==d||null==(l=d.value)?void 0:l.kind)!==A.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(u=d.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,a.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",k?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),x&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let p=(0,g.fromNodeOutgoingHttpHeaders)(d.value.headers);return(0,a.getRequestMeta)(e,"minimalMode")&&L||p.delete(v.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||p.get("Cache-Control")||p.set("Cache-Control",(0,y.getCacheControlHeader)(d.cacheControl)),await (0,m.sendResponse)(q,V,new Response(d.value.body,{headers:p,status:d.value.status||200})),null};z?await l(z):await $.withPropagatedContext(e.headers,()=>$.trace(f.BaseServerSpan.handleRequest,{spanName:`${j} ${o}`,kind:s.SpanKind.SERVER,attributes:{"http.method":j,"http.target":e.url}},l))}catch(t){if(t instanceof b.NoFallbackError||await I.onRequestError(e,t,{routerKind:"App Router",routePath:U,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:B,isOnDemandRevalidate:k})}),L)throw t;return await (0,m.sendResponse)(q,V,new Response(null,{status:500})),null}}e.s(["handler",()=>E,"patchFetch",()=>S,"routeModule",()=>I,"serverHooks",()=>C,"workAsyncStorage",()=>x,"workUnitAsyncStorage",()=>O]),r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=_bc7e2028._.js.map