module.exports=[277944,a=>{"use strict";let b;a.s(["View",()=>fz],277944);var c=a.i(909581);a.i(153549);var d=a.i(261360);a.i(910937);var e=a.i(867236),f=a.i(588463),g=a.i(325326),h=a.i(368028),i=a.i(248042),j=a.i(800129),k=a.i(298621),l=a.i(476979),m=a.i(836472),n=a.i(326893),o=a.i(643267),p=a.i(74443),q=a.i(25054),r=a.i(294805),s=a.i(833115),t=a.i(786452);let u=j.createContext({}),v=j.createContext(void 0),w=(0,p.styled)(n.default,{name:"MuiToggleButton",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`size${(0,o.default)(c.size)}`]]}})((0,q.default)(({theme:a})=>({...a.typography.button,borderRadius:(a.vars||a).shape.borderRadius,padding:11,border:`1px solid ${(a.vars||a).palette.divider}`,color:(a.vars||a).palette.action.active,[`&.${t.default.disabled}`]:{color:(a.vars||a).palette.action.disabled,border:`1px solid ${(a.vars||a).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:a.alpha((a.vars||a).palette.text.primary,(a.vars||a).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${t.default.selected}`]:{color:(a.vars||a).palette.text.primary,backgroundColor:a.alpha((a.vars||a).palette.text.primary,(a.vars||a).palette.action.selectedOpacity),"&:hover":{backgroundColor:a.alpha((a.vars||a).palette.text.primary,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette.text.primary,(a.vars||a).palette.action.selectedOpacity)}}}}},...Object.entries(a.palette).filter((0,r.default)()).map(([b])=>({props:{color:b},style:{[`&.${t.default.selected}`]:{color:(a.vars||a).palette[b].main,backgroundColor:a.alpha((a.vars||a).palette[b].main,(a.vars||a).palette.action.selectedOpacity),"&:hover":{backgroundColor:a.alpha((a.vars||a).palette[b].main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette[b].main,(a.vars||a).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:a.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:a.typography.pxToRem(15)}}]}))),x=j.forwardRef(function(a,b){var d;let{value:e,...f}=j.useContext(u),g=j.useContext(v),h=(0,l.default)({...f,selected:(d=a.value,void 0!==e&&void 0!==d&&(Array.isArray(e)?e.includes(d):d===e))},a),i=(0,s.useDefaultProps)({props:h,name:"MuiToggleButton"}),{children:n,className:p,color:q="standard",disabled:r=!1,disableFocusRipple:x=!1,fullWidth:y=!1,onChange:z,onClick:A,selected:B,size:C="medium",value:D,...E}=i,F={...i,color:q,disabled:r,disableFocusRipple:x,fullWidth:y,size:C},G=(a=>{let{classes:b,fullWidth:c,selected:d,disabled:e,size:f,color:g}=a,h={root:["root",d&&"selected",e&&"disabled",c&&"fullWidth",`size${(0,o.default)(f)}`,g]};return(0,m.default)(h,t.getToggleButtonUtilityClass,b)})(F);return(0,c.jsx)(w,{className:(0,k.default)(f.className,G.root,p,g||""),disabled:r,focusRipple:!x,ref:b,onClick:a=>{A&&(A(a,D),a.defaultPrevented)||z&&z(a,D)},onChange:z,value:D,ownerState:F,"aria-pressed":B,...E,children:n})});var y=a.i(668604),z=a.i(429297);function A(a){return(0,z.default)("MuiToggleButtonGroup",a)}let B=(0,y.default)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),C=(0,p.styled)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[{[`& .${B.grouped}`]:b.grouped},{[`& .${B.grouped}`]:b[`grouped${(0,o.default)(c.orientation)}`]},{[`& .${B.firstButton}`]:b.firstButton},{[`& .${B.lastButton}`]:b.lastButton},{[`& .${B.middleButton}`]:b.middleButton},b.root,"vertical"===c.orientation&&b.vertical,c.fullWidth&&b.fullWidth]}})((0,q.default)(({theme:a})=>({display:"inline-flex",borderRadius:(a.vars||a).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${B.grouped}`]:{[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderTop:0,marginTop:0}},[`& .${B.firstButton},& .${B.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${B.lastButton},& .${B.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${B.lastButton}.${t.default.disabled},& .${B.middleButton}.${t.default.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${B.grouped}`]:{[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${B.firstButton},& .${B.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${B.lastButton},& .${B.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${B.lastButton}.${t.default.disabled},& .${B.middleButton}.${t.default.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),D=j.forwardRef(function(a,b){let d=(0,s.useDefaultProps)({props:a,name:"MuiToggleButtonGroup"}),{children:e,className:f,color:g="standard",disabled:h=!1,exclusive:i=!1,fullWidth:l=!1,onChange:n,orientation:p="horizontal",size:q="medium",value:r,...t}=d,w={...d,disabled:h,fullWidth:l,orientation:p,size:q},x=(a=>{let{classes:b,orientation:c,fullWidth:d,disabled:e}=a,f={root:["root",c,d&&"fullWidth"],grouped:["grouped",`grouped${(0,o.default)(c)}`,e&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,m.default)(f,A,b)})(w),y=j.useCallback((a,b)=>{let c;if(!n)return;let d=r&&r.indexOf(b);r&&d>=0?(c=r.slice()).splice(d,1):c=r?r.concat(b):[b],n(a,c)},[n,r]),z=j.useCallback((a,b)=>{n&&n(a,r===b?null:b)},[n,r]),B=j.useMemo(()=>({className:x.grouped,onChange:i?z:y,value:r,size:q,fullWidth:l,color:g,disabled:h}),[x.grouped,i,z,y,r,q,l,g,h]),D=j.Children.toArray(e).filter(a=>j.isValidElement(a)),E=D.length;return(0,c.jsx)(C,{role:"group",className:(0,k.default)(x.root,f),ref:b,ownerState:w,...t,children:(0,c.jsx)(u.Provider,{value:B,children:D.map((a,b)=>{let d,e;return(0,c.jsx)(v.Provider,{value:(d=0===b,e=b===E-1,d&&e?"":d?x.firstButton:e?x.lastButton:x.middleButton),children:a},b)})})})});var E=a.i(856068),F=a.i(973814),G=a.i(649246),H=a.i(415879),I=a.i(462665),J=a.i(87112);class K{constructor(a){if(function(a){return"object"!=typeof a||void 0===a.length||void 0===a.readUInt8||void 0===a.readUInt16LE||void 0===a.readUInt16BE||void 0===a.readUInt32LE||void 0===a.readUInt32BE||void 0===a.readInt32LE||void 0===a.readInt32BE}(a))throw Error("DataView: Passed buffer type is unsupported.");this.buffer=a,this.byteLength=this.buffer.length}getUint8(a){return this.buffer.readUInt8(a)}getUint16(a,b){return b?this.buffer.readUInt16LE(a):this.buffer.readUInt16BE(a)}getUint32(a,b){return b?this.buffer.readUInt32LE(a):this.buffer.readUInt32BE(a)}getInt32(a,b){return b?this.buffer.readInt32LE(a):this.buffer.readInt32BE(a)}}function L(a,b,c){try{return new DataView(a,b,c)}catch(d){return new K(a,b,c)}}function M(a,b,c){let d=[];for(let e=0;e<c&&b+e<a.byteLength;e++)d.push(a.getUint8(b+e));return P(d)}function N(a,b){let c=[],d=0;for(;b+d<a.byteLength;){let e=a.getUint8(b+d);if(0===e)break;c.push(e),d++}return P(c)}function O(a,b){let c=a.getUint8(b),d=M(a,b+1,c);return[c,d]}function P(a){return a.map(a=>String.fromCharCode(a)).join("")}function Q(){for(let a=1;a<arguments.length;a++)for(let b in arguments[a])arguments[0][b]=arguments[a][b];return arguments[0]}function R(a,b,c){let d=!1;Object.defineProperty(a,b,{get:()=>(d||(d=!0,Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c.apply(a),writable:!0})),a[b]),configurable:!0,enumerable:!0})}function S(a){return"undefined"!=typeof btoa?"string"==typeof a?btoa(a):btoa(Array.prototype.reduce.call(new Uint8Array(a),(a,b)=>a+String.fromCharCode(b),"")):"undefined"!=typeof Buffer?void 0!==Buffer.from?Buffer.from(a).toString("base64"):new Buffer(a).toString("base64"):void 0}function T(a,b){return Array(b+1).join(a)}function U(a,b,c,d="string"){if(0===b&&"function"==typeof DecompressionStream){let b=new DecompressionStream("deflate"),e=new Blob([a]).stream().pipeThrough(b);return"dataview"===d?new Response(e).arrayBuffer().then(a=>new DataView(a)):new Response(e).arrayBuffer().then(a=>new TextDecoder(c).decode(a))}return void 0!==b?Promise.reject(`Unknown compression method ${b}.`):a}function V(a){return a.map(a=>String.fromCharCode(a)).join("")}function W(a){if(a.length>=8){let b=V(a.slice(0,8));if("ASCII\0\0\0"===b)return V(a.slice(8));if("JIS\0\0\0\0\0"===b)return"[JIS encoded text]";if("UNICODE\0"===b)return"[Unicode encoded text]";else if("\0\0\0\0\0\0\0\0"===b)return"[Undefined encoding]"}return"Undefined"}function X(a){return a[0][0]/a[0][1]+a[1][0]/a[1][1]/60+a[2][0]/a[2][1]/3600}let Y=function(a,b){if(18761===a.getUint16(b))return 18761;if(19789===a.getUint16(b))return 19789;throw Error("Illegal byte order value. Faulty image.")},Z=function(a){var b;let c;return!!a&&a.byteLength>=4&&(c=18761===(b=a).getUint16(0),42===b.getUint16(2,c))},$=function(a){let b,c,d,e,f,g,h,i,j,k=2;for(;k+4+5<=a.byteLength;){var l,m,n,o,p,q;if(l=a,m=k,65472!==l.getUint16(m)){if(n=a,o=k,65474!==n.getUint16(o))if(function(a,b){let c=ad.length;return 65504===a.getUint16(b)&&M(a,b+4,c)===ad&&0===a.getUint8(b+4+c)}(a,k))b=a.getUint16(k+2),e=k+2;else if(function(a,b){let c=ae.length;return 65505===a.getUint16(b)&&M(a,b+4,c)===ae&&0===a.getUint8(b+4+c)}(a,k))b=a.getUint16(k+2),f=k+10;else if(function(a,b){return 65505===a.getUint16(b)&&M(a,b+4,af.length)===af}(a,k))h||(h=[]),b=a.getUint16(k+2),h.push({dataOffset:k+33,length:b-31});else if(function(a,b){return 65505===a.getUint16(b)&&M(a,b+4,ag.length)===ag}(a,k))h||(h=[]),b=a.getUint16(k+2),h.push({dataOffset:k+79,length:b-77});else if(function(a,b){let c=ah.length;return 65517===a.getUint16(b)&&M(a,b+4,c)===ah&&0===a.getUint8(b+4+c)}(a,k))b=a.getUint16(k+2),g=k+18;else if(function(a,b){let c=_.length;return 65506===a.getUint16(b)&&M(a,b+4,c)===_}(a,k)){b=a.getUint16(k+2);let c=k+18,d=b-16,e=a.getUint8(k+aa),f=a.getUint8(k+ab);i||(i=[]),i.push({offset:c,length:d,chunkNumber:e,chunksTotal:f})}else if(function(a,b){let c=ac.length;return 65506===a.getUint16(b)&&M(a,b+4,c)===ac}(a,k))b=a.getUint16(k+2),j=k+8;else if(function(a,b){let c=a.getUint16(b);return c>=65504&&c<=65519||65534===c||65472===c||65474===c||65476===c||65499===c||65501===c||65498===c}(a,k))b=a.getUint16(k+2);else{if(p=a,q=k,65535===p.getUint16(q)){k++;continue}else break}else b=a.getUint16(k+2),d=k+2}else b=a.getUint16(k+2),c=k+2;k+=2+b}return{hasAppMarkers:k>2,fileDataOffset:c||d,jfifDataOffset:e,tiffHeaderOffset:f,iptcDataOffset:g,xmpChunks:h,iccChunks:i,mpfDataOffset:j}},_="ICC_PROFILE\0",aa=4+_.length,ab=aa+1,ac="MPF\0",ad="JFIF",ae="Exif",af="http://ns.adobe.com/xap/1.0/\0",ag="http://ns.adobe.com/xmp/extension/\0",ah="Photoshop 3.0",ai=function(a,b){let c={hasAppMarkers:!1},d=aj.length;for(;d+4+4<=a.byteLength;){if("IHDR"!==M(a,d+4,4)){var e,f;if(M(e=a,(f=d)+4,4)!==an||M(e,f+ak,al.length)!==al)if(function(a,b,c){let d=M(a,b+4,4);return d===am||d===an||d===ao&&c}(a,d,b)){c.hasAppMarkers=!0;let b=M(a,d+4,4);c.pngTextChunks||(c.pngTextChunks=[]),c.pngTextChunks.push({length:a.getUint32(d+0),type:b,offset:d+ak})}else if("eXIf"===M(a,d+4,4))c.hasAppMarkers=!0,c.tiffHeaderOffset=d+ak;else if(b&&"iCCP"===M(a,d+4,4)){c.hasAppMarkers=!0;let b=a.getUint32(d+0),e=d+ak,{profileName:f,compressionMethod:g,compressedProfileOffset:h}=function(a,b){let c=N(a,b);return b+=c.length+1,{profileName:c,compressionMethod:a.getUint8(b),compressedProfileOffset:b+=1}}(a,e);c.iccChunks||(c.iccChunks=[]),c.iccChunks.push({offset:h,length:b-(h-e),chunkNumber:1,chunksTotal:1,profileName:f,compressionMethod:g})}else[ap,aq].includes(M(a,d+4,4))&&(c.hasAppMarkers=!0,c.pngChunkOffsets||(c.pngChunkOffsets=[]),c.pngChunkOffsets.push(d+0));else{let b=function(a,b){b+=ak+al.length+1+1;let c=0;for(;c<2&&b<a.byteLength;)0===a.getUint8(b)&&c++,b++;if(!(c<2))return b}(a,d);void 0!==b&&(c.hasAppMarkers=!0,c.xmpChunks=[{dataOffset:b,length:a.getUint32(d+0)-(b-(d+ak))}])}}else c.hasAppMarkers=!0,c.pngHeaderOffset=d+ak;d+=a.getUint32(d+0)+4+4+4}return c},aj="PNG\r\n\x1a\n",ak=8,al="XML:com.adobe.xmp\0",am="tEXt",an="iTXt",ao="zTXt",ap="pHYs",aq="tIME";function ar(a,b,c){if(4===c)return a.getUint32(b);if(8===c)return console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),a.getUint32(b+4);return 0}function as(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;let D,E,{length:F,contentOffset:G}=(c=a,d=b,0===(D=c.getUint32(d))?{length:c.byteLength-d,contentOffset:d+4+4}:1===D&&(e=c,f=d,0===e.getUint32(f+8))?{length:c.getUint32(d+12),contentOffset:d+4+4+8}:{length:D,contentOffset:d+4+4});if(F<8)return;let H=a.getUint32(b+4);if(0x66747970===H){return g=a,h=G,i=F,{type:"ftyp",majorBrand:M(g,h,4),length:i}}if(0x69707270===H){return j=a,k=b,{type:"iprp",subBoxes:av(j,l=G,(m=F)-(l-k)),length:m}}if(0x6970636f===H){return n=a,o=b,{type:"ipco",properties:av(n,p=G,(q=F)-(p-o)),length:q}}if(0x636f6c72===H){return r=a,s=G,t=F,{type:"colr",icc:function(a,b){let c=M(a,b,4);if("prof"===c||"rICC"===c)return{offset:b+4,length:a.getUint32(b+4),chunkNumber:1,chunksTotal:1}}(r,s),length:t}}let I=a.getUint8(G);return 0x6d657461===H?(u=a,v=b,{type:"meta",subBoxes:av(u,(w=G+1)+3,(x=F)-(w+3-v)),length:x}):0x696c6f63===H?function(a,b,c,d){var e,f,g,h,i;let j,k,{offsets:l,sizes:m}=(e=b,f=c+3,j={item:{dataReferenceIndex:2,extentCount:2,extent:{}}},e<2?(j.itemCount=2,j.item.itemId=2):2===e&&(j.itemCount=4,j.item.itemId=4),1===e||2===e?j.item.constructionMethod=2:j.item.constructionMethod=0,(k={offsetSize:f,lengthSize:f,baseOffsetSize:f+1,indexSize:f+1}).itemCount=f+2,k.items=k.itemCount+j.itemCount,k.item={itemId:0},k.item.constructionMethod=k.item.itemId+j.item.itemId,k.item.dataReferenceIndex=k.item.constructionMethod+j.item.constructionMethod,{offsets:k,sizes:j}),n=a.getUint8(l.offsetSize)>>4;m.item.extent.extentOffset=n;let o=15&a.getUint8(l.lengthSize);m.item.extent.extentLength=o;let p=a.getUint8(l.baseOffsetSize)>>4;m.item.baseOffset=p;let q=function(a,b,c){if(1===c||2===c)return 15&a.getUint8(b)}(a,l.indexSize,b);m.item.extent.extentIndex=void 0!==q?q:0;let r=(g=a,h=l.itemCount,(i=b)<2?g.getUint16(h):2===i?g.getUint32(h):void 0);return{type:"iloc",items:function(a,b,c,d,e,f,g,h){if(void 0===h)return[];let i=[],j=c.items;for(let c=0;c<h;c++){var k,l,m;let c={extents:[]};k=a,l=j,c.itemId=(m=b)<2?k.getUint16(l):2===m?k.getUint32(l):void 0,j+=d.item.itemId,c.constructionMethod=1===b||2===b?15&a.getUint16(j):void 0,j+=d.item.constructionMethod,c.dataReferenceIndex=a.getUint16(j),c.baseOffset=ar(a,j+=d.item.dataReferenceIndex,d.item.baseOffset),j+=d.item.baseOffset,c.extentCount=a.getUint16(j),j+=d.item.extentCount;for(let h=0;h<c.extentCount;h++){let h={};h.extentIndex=function(a,b,c,d){if((1===b||2===b)&&d>0)return ar(a,c,d)}(a,b,j,g),h.extentOffset=ar(a,j+=d.item.extent.extentIndex,e),h.extentLength=ar(a,j+=d.item.extent.extentOffset,f),j+=d.item.extent.extentLength,c.extents.push(h)}i.push(c)}return i}(a,b,l,m,n,o,q,r),length:d}}(a,I,G+1,F):0x69696e66===H?function(a,b,c,d,e){var f;let g,h,{offsets:i}=(f=c,g={entryCount:d+3},h={},0===f?h.entryCount=2:h.entryCount=4,g.itemInfos=g.entryCount+h.entryCount,{offsets:g});return{type:"iinf",itemInfos:av(a,i.itemInfos,e-(i.itemInfos-b)),length:e}}(a,b,I,G+1,F):0x696e6665===H?(y=a,z=b,A=I,B=G+1,B+=3,E={type:"infe",length:C=F},(0===A||1===A)&&(E.itemId=y.getUint16(B),B+=2,E.itemProtectionIndex=y.getUint16(B),E.itemName=N(y,B+=2),B+=E.itemName.length+1),A>=2&&(2===A?(E.itemId=y.getUint16(B),B+=2):3===A&&(E.itemId=y.getUint32(B),B+=4),E.itemProtectionIndex=y.getUint16(B),B+=2,E.itemType=y.getUint32(B),E.itemName=N(y,B+=4),B+=E.itemName.length+1,0x6d696d65===E.itemType?(E.contentType=N(y,B),z+C>(B+=E.contentType.length+1)&&(E.contentEncoding=N(y,B),B+=E.contentEncoding.length+1)):0x75726920===E.itemType&&(E.itemUri=N(y,B),B+=E.itemUri.length+1)),E):{type:void 0,length:F}}function at(a){1;{let b={},c=function(a){let b=0;for(;b+4+4<=a.byteLength;){let c=as(a,b);if(void 0===c)break;if("meta"===c.type)return c;b+=c.length}}(a);return c?(b.tiffHeaderOffset=function(a,b){try{var c,d;let e=b.subBoxes.find(a=>"iinf"===a.type).itemInfos.find(a=>0x45786966===a.itemType).itemId,f=au(b,e),g=f.baseOffset+f.extents[0].extentOffset;return c=a,(d=g)+4+c.getUint32(d)}catch(a){return}}(a,c),b.xmpChunks=function(a){try{let b=a.subBoxes.find(a=>"iinf"===a.type).itemInfos.find(a=>0x6d696d65===a.itemType&&"application/rdf+xml"===a.contentType).itemId,c=au(a,b),d=au(a,b).extents[0];return[{dataOffset:c.baseOffset+d.extentOffset,length:d.extentLength}]}catch(a){return}}(c),b.iccChunks=function(a){try{let b=a.subBoxes.find(a=>"iprp"===a.type).subBoxes.find(a=>"ipco"===a.type).properties.find(a=>"colr"===a.type).icc;if(b)return[b]}catch(a){}}(c),b.hasAppMarkers=void 0!==b.tiffHeaderOffset||void 0!==b.xmpChunks||void 0!==b.iccChunks,b):{hasAppMarkers:!1}}}function au(a,b){return a.subBoxes.find(a=>"iloc"===a.type).items.find(a=>a.itemId===b)}function av(a,b,c){let d=[0x45786966,0x6d696d65],e=[],f=b;for(;f<b+c;){let b=as(a,f);if(void 0===b)break;void 0!==b.type&&(void 0===b.itemType||-1!==d.indexOf(b.itemType))&&e.push(b),f+=b.length}return e}let aw=function(a){if(!a)return!1;try{let b=as(a,0);return b&&-1!==["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"].indexOf(b.majorBrand)}catch(a){return!1}},ax=function(a){if(!a)return!1;try{let b=as(a,0);return b&&"avif"===b.majorBrand}catch(a){return!1}},ay=function(a){let b="RIFF",c="WEBP";return!!a&&M(a,0,b.length)===b&&M(a,8,c.length)===c},az=function(a){let b,c,d,e,f="Exif\0\0",g=12,h=!1;for(;g+8<a.byteLength;){let i=M(a,g,4),j=a.getUint32(g+4,!0);"EXIF"===i?(h=!0,b=M(a,g+8,f.length)===f?g+8+f.length:g+8):"XMP "===i?(h=!0,c=[{dataOffset:g+8,length:j}]):"ICCP"===i?(h=!0,d=[{offset:g+8,length:j,chunkNumber:1,chunksTotal:1}]):"VP8X"===i&&(h=!0,e=g+8),g+=8+(j%2==0?j:j+1)}return{hasAppMarkers:h,tiffHeaderOffset:b,xmpChunks:c,iccChunks:d,vp8xChunkOffset:e}},aA=["GIF87a","GIF89a"],aB=function(a){let b=[];return b.push({dataOffset:0,length:a.byteLength}),{xmpChunks:b}},aC="<?xpacket begin",aD=function(a,b){var c,d,e,f;if(Z(a))return aE({hasAppMarkers:!0,tiffHeaderOffset:0},"tiff","TIFF");if((c=a)&&c.byteLength>=2&&65496===c.getUint16(0))return aE($(a),"jpeg","JPEG");if((d=a)&&M(d,0,aj.length)===aj)return aE(ai(a,b),"png","PNG");if(aw(a))return aE(at(a),"heic","HEIC");if(ax(a))return aE(at(a),"avif","AVIF");if(ay(a))return aE(az(a),"webp","WebP");if((e=a)&&aA.includes(M(e,0,6)))return aE({gifHeaderOffset:0},"gif","GIF");if((f=a)&&M(f,0,aC.length)===aC)return aE(aB(a),"xml","XML");throw Error("Invalid image format")};function aE(a,b,c){return Q({},a,{fileType:{value:b,description:c}})}let aF={ApertureValue:a=>Math.pow(Math.sqrt(2),a[0]/a[1]).toFixed(2),ColorSpace:a=>1===a?"sRGB":65535===a?"Uncalibrated":"Unknown",ComponentsConfiguration:a=>a.map(a=>{if(49===a)return"Y";if(50===a)return"Cb";if(51===a)return"Cr";if(52===a)return"R";if(53===a)return"G";else if(54===a)return"B"}).join(""),Contrast:a=>0===a?"Normal":1===a?"Soft":2===a?"Hard":"Unknown",CustomRendered:a=>0===a?"Normal process":1===a?"Custom process":"Unknown",ExposureMode:a=>0===a?"Auto exposure":1===a?"Manual exposure":2===a?"Auto bracket":"Unknown",ExposureProgram(a){if(0===a)return"Undefined";if(1===a)return"Manual";if(2===a)return"Normal program";if(3===a)return"Aperture priority";if(4===a)return"Shutter priority";else if(5===a)return"Creative program";else if(6===a)return"Action program";else if(7===a)return"Portrait mode";else if(8===a)return"Landscape mode";else if(9===a)return"Bulb";return"Unknown"},ExposureTime(a){if(a[0]/a[1]>.25){let b=a[0]/a[1];return Number.isInteger(b)?""+b:b.toFixed(1)}return 0!==a[0]?`1/${Math.round(a[1]/a[0])}`:`0/${a[1]}`},FNumber:a=>`f/${Number(a[0]/a[1]).toFixed(1)}`,FocalLength:a=>a[0]/a[1]+" mm",FocalPlaneResolutionUnit:a=>2===a?"inches":3===a?"centimeters":4===a?"millimeters":"Unknown",LightSource:a=>{if(1===a)return"Daylight";if(2===a)return"Fluorescent";if(3===a)return"Tungsten (incandescent light)";if(4===a)return"Flash";if(9===a)return"Fine weather";else if(10===a)return"Cloudy weather";else if(11===a)return"Shade";else if(12===a)return"Daylight fluorescent (D 5700 – 7100K)";else if(13===a)return"Day white fluorescent (N 4600 – 5400K)";else if(14===a)return"Cool white fluorescent (W 3900 – 4500K)";else if(15===a)return"White fluorescent (WW 3200 – 3700K)";else if(17===a)return"Standard light A";else if(18===a)return"Standard light B";else if(19===a)return"Standard light C";else if(20===a)return"D55";else if(21===a)return"D65";else if(22===a)return"D75";else if(23===a)return"D50";else if(24===a)return"ISO studio tungsten";else if(255===a)return"Other light source";return"Unknown"},MeteringMode(a){if(1===a)return"Average";if(2===a)return"CenterWeightedAverage";if(3===a)return"Spot";if(4===a)return"MultiSpot";if(5===a)return"Pattern";else if(6===a)return"Partial";else if(255===a)return"Other";return"Unknown"},ResolutionUnit:a=>2===a?"inches":3===a?"centimeters":"Unknown",Saturation:a=>0===a?"Normal":1===a?"Low saturation":2===a?"High saturation":"Unknown",FocalLengthIn35mmFilm:a=>0===a?"Unknown":a+" mm",SceneCaptureType:a=>0===a?"Standard":1===a?"Landscape":2===a?"Portrait":3===a?"Night scene":"Unknown",Sharpness:a=>0===a?"Normal":1===a?"Soft":2===a?"Hard":"Unknown",ShutterSpeedValue(a){let b=Math.pow(2,a[0]/a[1]);return b<=1?`${Math.round(1/b)}`:`1/${Math.round(b)}`},WhiteBalance:a=>0===a?"Auto white balance":1===a?"Manual white balance":"Unknown",XResolution:a=>""+Math.round(a[0]/a[1]),YResolution:a=>""+Math.round(a[0]/a[1])},aG={11:"ProcessingSoftware",254:{name:"SubfileType",description:a=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",0xffffffff:"Invalid"})[a]||"Unknown"},255:{name:"OldSubfileType",description:a=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[a]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:a=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[a]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:a=>({1:"Normal",2:"Reversed"})[a]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:a=>1===a?"top-left":2===a?"top-right":3===a?"bottom-right":4===a?"bottom-left":5===a?"left-top":6===a?"right-top":7===a?"right-bottom":8===a?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:aF.XResolution},283:{name:"YResolution",description:aF.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:a=>""+Math.round(a[0]/a[1])},287:{name:"YPosition",description:a=>""+Math.round(a[0]/a[1])},290:{name:"GrayResponseUnit",description:a=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[a]||"Unknown"},296:{name:"ResolutionUnit",description:aF.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:a=>a.map(a=>`${a[0]}/${a[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:a=>a.map(a=>`${a[0]}/${a[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:a=>({1:"CMYK",2:"Not CMYK"})[a]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:a=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[a]||"Unknown"},339:{name:"SampleFormat",description:a=>{let b={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(a)?a.map(a=>b[a]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:a=>a.map(a=>""+a[0]/a[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:a=>1===a?"centered":2===a?"co-sited":"undefined "+a},532:{name:"ReferenceBlackWhite",description:a=>a.map(a=>""+a[0]/a[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:a=>a.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:{name:"XPTitle",description:aH},40092:{name:"XPComment",description:aH},40093:{name:"XPAuthor",description:aH},40094:{name:"XPKeywords",description:aH},40095:{name:"XPSubject",description:aH},42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:a=>({0:"Unsafe",1:"Safe"})[a]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:aF.LightSource},50779:{name:"CalibrationIlluminant2",description:aF.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:a=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[a]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:a=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[a]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:a=>({0:"Linear",1:"sRGB"})[a]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:a=>({0:"Linear",1:"sRGB"})[a]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:a=>({0:"Auto",1:"None"})[a]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};function aH(a){return new TextDecoder("utf-16").decode(new Uint8Array(a)).replace(/\u0000+$/,"")}let aI=Q({},aG,{33434:{name:"ExposureTime",description:aF.ExposureTime},33437:{name:"FNumber",description:aF.FNumber},34850:{name:"ExposureProgram",description:aF.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:a=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[a]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:a=>V(a)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:aF.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:aF.ShutterSpeedValue},37378:{name:"ApertureValue",description:aF.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:a=>Math.pow(Math.sqrt(2),a[0]/a[1]).toFixed(2)},37382:{name:"SubjectDistance",description:a=>a[0]/a[1]+" m"},37383:{name:"MeteringMode",description:aF.MeteringMode},37384:{name:"LightSource",description:aF.LightSource},37385:{name:"Flash",description:a=>{if(0===a)return"Flash did not fire";if(1===a)return"Flash fired";if(5===a)return"Strobe return light not detected";if(7===a)return"Strobe return light detected";if(9===a)return"Flash fired, compulsory flash mode";else if(13===a)return"Flash fired, compulsory flash mode, return light not detected";else if(15===a)return"Flash fired, compulsory flash mode, return light detected";else if(16===a)return"Flash did not fire, compulsory flash mode";else if(24===a)return"Flash did not fire, auto mode";else if(25===a)return"Flash fired, auto mode";else if(29===a)return"Flash fired, auto mode, return light not detected";else if(31===a)return"Flash fired, auto mode, return light detected";else if(32===a)return"No flash function";else if(65===a)return"Flash fired, red-eye reduction mode";else if(69===a)return"Flash fired, red-eye reduction mode, return light not detected";else if(71===a)return"Flash fired, red-eye reduction mode, return light detected";else if(73===a)return"Flash fired, compulsory flash mode, red-eye reduction mode";else if(77===a)return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";else if(79===a)return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";else if(89===a)return"Flash fired, auto mode, red-eye reduction mode";else if(93===a)return"Flash fired, auto mode, return light not detected, red-eye reduction mode";else if(95===a)return"Flash fired, auto mode, return light detected, red-eye reduction mode";return"Unknown"}},37386:{name:"FocalLength",description:aF.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:a=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[a]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:a=>2===a.length?`Location; X: ${a[0]}, Y: ${a[1]}`:3===a.length?`Circle; X: ${a[0]}, Y: ${a[1]}, diameter: ${a[2]}`:4===a.length?`Rectangle; X: ${a[0]}, Y: ${a[1]}, width: ${a[2]}, height: ${a[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:W},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:a=>a[0]/a[1]+" °C"},37889:{name:"Humidity",description:a=>a[0]/a[1]+" %"},37890:{name:"Pressure",description:a=>a[0]/a[1]+" hPa"},37891:{name:"WaterDepth",description:a=>a[0]/a[1]+" m"},37892:{name:"Acceleration",description:a=>a[0]/a[1]+" mGal"},37893:{name:"CameraElevationAngle",description:a=>a[0]/a[1]+" °"},40960:{name:"FlashpixVersion",description:a=>a.map(a=>String.fromCharCode(a)).join("")},40961:{name:"ColorSpace",description:aF.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:aF.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([a,b])=>`X: ${a}, Y: ${b}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:a=>{if(1===a)return"Undefined";if(2===a)return"One-chip color area sensor";if(3===a)return"Two-chip color area sensor";if(4===a)return"Three-chip color area sensor";if(5===a)return"Color sequential area sensor";else if(7===a)return"Trilinear sensor";else if(8===a)return"Color sequential linear sensor";return"Unknown"}},41728:{name:"FileSource",description:a=>3===a?"DSC":"Unknown"},41729:{name:"SceneType",description:a=>1===a?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:aF.CustomRendered},41986:{name:"ExposureMode",description:aF.ExposureMode},41987:{name:"WhiteBalance",description:aF.WhiteBalance},41988:{name:"DigitalZoomRatio",description:a=>0===a[0]?"Digital zoom was not used":""+a[0]/a[1]},41989:{name:"FocalLengthIn35mmFilm",description:aF.FocalLengthIn35mmFilm},41990:{name:"SceneCaptureType",description:aF.SceneCaptureType},41991:{name:"GainControl",description:a=>{if(0===a)return"None";if(1===a)return"Low gain up";if(2===a)return"High gain up";if(3===a)return"Low gain down";if(4===a)return"High gain down";return"Unknown"}},41992:{name:"Contrast",description:aF.Contrast},41993:{name:"Saturation",description:aF.Saturation},41994:{name:"Sharpness",description:aF.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:a=>1===a?"Macro":2===a?"Close view":3===a?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:a=>{let b=parseFloat((a[0][0]/a[0][1]).toFixed(5)),c=parseFloat((a[1][0]/a[1][1]).toFixed(5)),d=`${b}-${c} mm`;if(0===a[3][1])return`${d} f/?`;let e=1/(a[2][1]/a[2][1]/(a[3][0]/a[3][1]));return`${d} f/${parseFloat(e.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:a=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[a]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"}),aJ="exif",aK="interoperability",aL="canon",aM="pentax",aN={"0th":aI,"1st":aG,[aJ]:aI,gps:{0:{name:"GPSVersionID",description:a=>2===a[0]&&2===a[1]&&0===a[2]&&0===a[3]?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:a=>{let b=a.join("");return"N"===b?"North latitude":"S"===b?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:X},3:{name:"GPSLongitudeRef",description:a=>{let b=a.join("");return"E"===b?"East longitude":"W"===b?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:X},5:{name:"GPSAltitudeRef",description:a=>0===a?"Sea level":1===a?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:a=>a[0]/a[1]+" m"},7:{name:"GPSTimeStamp",description:a=>a.map(([a,b])=>{let c=a/b;return/^\d(\.|$)/.test(`${c}`)?`0${c}`:c}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:a=>{let b=a.join("");return"A"===b?"Measurement in progress":"V"===b?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:a=>{let b=a.join("");return"2"===b?"2-dimensional measurement":"3"===b?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:a=>{let b=a.join("");return"K"===b?"Kilometers per hour":"M"===b?"Miles per hour":"N"===b?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:a=>{let b=a.join("");return"T"===b?"True direction":"M"===b?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:a=>{let b=a.join("");return"T"===b?"True direction":"M"===b?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:a=>{let b=a.join("");return"N"===b?"North latitude":"S"===b?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:a=>a[0][0]/a[0][1]+a[1][0]/a[1][1]/60+a[2][0]/a[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:a=>{let b=a.join("");return"E"===b?"East longitude":"W"===b?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:a=>a[0][0]/a[0][1]+a[1][0]/a[1][1]/60+a[2][0]/a[2][1]/3600},23:{name:"GPSDestBearingRef",description:a=>{let b=a.join("");return"T"===b?"True direction":"M"===b?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:a=>{let b=a.join("");return"K"===b?"Kilometers":"M"===b?"Miles":"N"===b?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:W},28:{name:"GPSAreaInformation",description:W},29:"GPSDateStamp",30:{name:"GPSDifferential",description:a=>0===a?"Measurement without differential correction":1===a?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},[aK]:{1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:a=>V(a)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},mpf:{45056:{name:"MPFVersion",description:a=>V(a)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},[aL]:{4:{name:"ShotInfo",description:a=>a}},[aM]:{0:{name:"PentaxVersion",description:a=>a.join(".")},5:"PentaxModelID",555:"LevelInfo"}},aO={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},aP={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},aQ=aU,aR=function(a,b,c){return a.getUint16(b,18761===c)},aS=aV,aT=function(a){if(void 0===aP[a])throw Error("No such type found.");return aO[aP[a]]};function aU(a,b){return a.getUint8(b)}function aV(a,b,c){return a.getUint32(b,18761===c)}function aW(a,b,c){return a.getInt32(b,18761===c)}let aX={1:aQ,2:function(a,b){return a.getUint8(b)},3:aR,4:aS,5:function(a,b,c){return[aV(a,b,c),aV(a,b+4,c)]},7:function(a,b){return aU(a,b)},9:aW,10:function(a,b,c){return[aW(a,b,c),aW(a,b+4,c)]},13:function(a,b,c){return aV(a,b,c)}};function aY(a,b,c,d,e,f){var g,h,i;let j=aT("SHORT"),k={},l=(g=a,h=d,i=e,h+aT("SHORT")<=g.byteLength?aR(g,h,i):0);d+=j;for(let g=0;g<l&&!(d+12>a.byteLength);g++){let g=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;let n,o,p=aT("SHORT"),q=p+aT("SHORT"),r=q+aT("LONG"),s=aR(a,d,e),t=aR(a,d+p,e),u=aS(a,d+q,e);if(void 0===aO[t]||!f&&void 0===aN[b][s])return;(g=t,h=u,aO[g]*h<=aT("LONG"))?n=aZ(a,o=d+r,t,u,e):(o=aS(a,d+r,e),i=a,j=c,k=o,l=t,m=u,n=j+k+aO[l]*m<=i.byteLength?aZ(a,c+o,t,u,e,33723===s):"<faulty value>"),t===aP.ASCII&&(n=function(a){try{return a.map(a=>decodeURIComponent(escape(a)))}catch(b){return a}}(n=function(a){let b=[],c=0;for(let d=0;d<a.length;d++){if("\0"===a[d]){c++;continue}void 0===b[c]&&(b[c]=""),b[c]+=a[d]}return b}(n)));let v=`undefined-${s}`,w=n;if(void 0!==aN[b][s])if(void 0!==aN[b][s].name&&void 0!==aN[b][s].description){v=aN[b][s].name;try{w=aN[b][s].description(n)}catch(a){w=a$(n)}}else t===aP.RATIONAL||t===aP.SRATIONAL?(v=aN[b][s],w=""+n[0]/n[1]):(v=aN[b][s],w=a$(n));return{id:s,name:v,value:n,description:w,__offset:o}}(a,b,c,d,e,f);void 0!==g&&(k[g.name]={id:g.id,value:g.value,description:g.description},("MakerNote"===g.name||b===aM&&"LevelInfo"===g.name)&&(k[g.name].__offset=g.__offset)),d+=12}if(d<a.byteLength-aT("LONG")){let g=aS(a,d,e);0!==g&&"0th"===b&&(k.Thumbnail=aY(a,"1st",c,c+g,e,f))}return k}function aZ(a,b,c,d,e,f=!1){let g=[];f&&(d*=aO[c],c=aP.BYTE);for(let f=0;f<d;f++)g.push(aX[c](a,b,e)),b+=aO[c];return c===aP.ASCII?g=g.map(a=>String.fromCharCode(a)):1===g.length&&(g=g[0]),g}function a$(a){return a instanceof Array?a.join(", "):a}let a_="Exif IFD Pointer",a0="GPS Info IFD Pointer",a1="Interoperability IFD Pointer",a2=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;let s=Y(a,b),t=function(a,b,c,d){return aY(a,"0th",b,b+aS(a,b+4,c),c,d)}(a,b,s,c);return{tags:(n=(i=(d=t,e=a,f=b,g=s,h=c,t=void 0!==d[a_]?Q(d,aY(e,aJ,f,f+d[a_].value,g,h)):d),j=a,k=b,l=s,m=c,t=void 0!==i[a0]?Q(i,aY(j,"gps",k,k+i[a0].value,l,m)):i),o=a,p=b,q=s,r=c,t=void 0!==n[a1]?Q(n,aY(o,aK,p,p+n[a1].value,q,r)):n),byteOrder:s}},a3=function(a,b,c){let d=Y(a,b),e=aY(a,"mpf",b,b+aS(a,b+4,d),d,c);return function(a,b,c,d){if(!c.MPEntry)return c;let e=[];for(let f=0;f<Math.ceil(c.MPEntry.value.length/16);f++){e[f]={};let g=a4(c.MPEntry.value,16*f,aT("LONG"),d);e[f].ImageFlags=function(a){let b=[a>>31&1,a>>30&1,a>>29&1],c=[];return b[0]&&c.push("Dependent Parent Image"),b[1]&&c.push("Dependent Child Image"),b[2]&&c.push("Representative Image"),{value:b,description:c.join(", ")||"None"}}(g),e[f].ImageFormat=function(a){let b=a>>24&7;return{value:b,description:0===b?"JPEG":"Unknown"}}(g),e[f].ImageType=function(a){let b=0xffffff&a;return{value:b,description:({196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"})[b]||"Unknown"}}(g);let h=a4(c.MPEntry.value,16*f+4,aT("LONG"),d);e[f].ImageSize={value:h,description:""+h};let i=function(a,b,c,d){return 0===a?0:a4(b.value,16*a+8,aT("LONG"),c)+d}(f,c.MPEntry,d,b);e[f].ImageOffset={value:i,description:""+i};let j=a4(c.MPEntry.value,16*f+12,aT("SHORT"),d);e[f].DependentImage1EntryNumber={value:j,description:""+j};let k=a4(c.MPEntry.value,16*f+14,aT("SHORT"),d);e[f].DependentImage2EntryNumber={value:k,description:""+k},e[f].image=a.buffer.slice(i,i+h),R(e[f],"base64",function(){return S(this.image)})}return c.Images=e,c}(a,b,e,d)};function a4(a,b,c,d){if(18761===d){let d=0;for(let e=0;e<c;e++)d+=a[b+e]<<8*e;return d}let e=0;for(let d=0;d<c;d++)e+=a[b+d]<<8*(c-1-d);return e}let a5=function(a,b){let c=aR(a,b),d=function(a,b,c){if(8>c)return;let d=aQ(a,b+7);return{value:d,description:""+d}}(a,b,c);return{"Bits Per Sample":function(a,b,c){if(3>c)return;let d=aQ(a,b+2);return{value:d,description:""+d}}(a,b,c),"Image Height":function(a,b,c){if(5>c)return;let d=aR(a,b+3);return{value:d,description:`${d}px`}}(a,b,c),"Image Width":function(a,b,c){if(7>c)return;let d=aR(a,b+5);return{value:d,description:`${d}px`}}(a,b,c),"Color Components":d,Subsampling:d&&function(a,b,c,d){var e;let f,g;if(8+3*c>d)return;let h=[];for(let d=0;d<c;d++){let c=b+8+3*d;h.push([aQ(a,c),aQ(a,c+1),aQ(a,c+2)])}return{value:h,description:h.length>1?(f={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"},h.map(a=>f[a[0]]).join("")+(g={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"},0===(e=h).length||void 0===e[0][1]||void 0===g[e[0][1]]?"":g[e[0][1]])):""}}(a,b,d.value,c)}},a6=function(a,b){let c=aR(a,b),d=function(a,b,c){if(15>c)return;let d=aQ(a,b+14);return{value:d,description:`${d}px`}}(a,b,c),e=function(a,b,c){if(16>c)return;let d=aQ(a,b+15);return{value:d,description:`${d}px`}}(a,b,c),f={"JFIF Version":function(a,b,c){if(9>c)return;let d=aQ(a,b+7),e=aQ(a,b+7+1);return{value:256*d+e,description:d+"."+e}}(a,b,c),"Resolution Unit":function(a,b,c){var d;if(10>c)return;let e=aQ(a,b+9);return{value:e,description:0===(d=e)?"None":1===d?"inches":2===d?"cm":"Unknown"}}(a,b,c),XResolution:function(a,b,c){if(12>c)return;let d=aR(a,b+10);return{value:d,description:""+d}}(a,b,c),YResolution:function(a,b,c){if(14>c)return;let d=aR(a,b+12);return{value:d,description:""+d}}(a,b,c),"JFIF Thumbnail Width":d,"JFIF Thumbnail Height":e};if(void 0!==d&&void 0!==e){let g=function(a,b,c,d){if(0!==c&&!(16+c>d))return{value:a.buffer.slice(b+16,b+16+c),description:"<24-bit RGB pixel data>"}}(a,b,3*d.value*e.value,c);g&&(f["JFIF Thumbnail"]=g)}for(let a in f)void 0===f[a]&&delete f[a];return f},a7={256:{name:"Model Version",description:a=>((a[0]<<8)+a[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:a=>((a[0]<<8)+a[1]).toString()},278:{name:"File Format Version",description:a=>((a[0]<<8)+a[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:a8},336:{name:"Time Sent",description:a9},346:{name:"Coded Character Set",description:ba,encoding_name:ba},356:"UNO",376:{name:"ARM Identifier",description:a=>((a[0]<<8)+a[1]).toString()},378:{name:"ARM Version",description:a=>((a[0]<<8)+a[1]).toString()},512:{name:"Record Version",description:a=>((a[0]<<8)+a[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:a=>"01"===V(a)?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:a=>{let b=V(a).split(":");return b[2]+(b[3]?"/"+b[3]:"")+(b[4]?"/"+b[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:a=>{let b=V(a);return"01"===b?"Object Kill":"02"===b?"Object Replace":"03"===b?"Object Append":"04"===b?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:a8},572:{name:"Time Created",description:a9},574:{name:"Digital Creation Date",description:a8},575:{name:"Digital Creation Time",description:a9},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:a=>{let b=V(a);return"a"===b?"morning":"p"===b?"evening":"b"===b?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:a=>a},642:"Image Type",643:{name:"Image Orientation",description:a=>{let b=V(a);return"P"===b?"Portrait":"L"===b?"Landscape":"S"===b?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:a=>{let b=V(a),c=b.charAt(0),d=b.charAt(1),e="";return("1"===c?e+="Mono":"2"===c&&(e+="Stereo"),"A"===d?e+=", actuality":"C"===d?e+=", question and answer session":"M"===d?e+=", music, transmitted by itself":"Q"===d?e+=", response to a question":"R"===d?e+=", raw sound":"S"===d?e+=", scener":"V"===d?e+=", voicer":"W"===d&&(e+=", wrap"),""!==e)?e:b}},663:{name:"Audio Sampling Rate",description:a=>parseInt(V(a),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:a=>{let b=parseInt(V(a),10);return b+(1===b?" bit":" bits")}},665:{name:"Audio Duration",description:a=>{let b=V(a);return b.length>=6?b.substr(0,2)+":"+b.substr(2,2)+":"+b.substr(4,2):b}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:a=>2===a.length?"ObjectData Preview File Format":"Record 2 destination",description:a=>{if(2===a.length){let b=(a[0]<<8)+a[1];if(0===b)return"No ObjectData";if(1===b)return"IPTC-NAA Digital Newsphoto Parameter Record";if(2===b)return"IPTC7901 Recommended Message Format";else if(3===b)return"Tagged Image File Format (Adobe/Aldus Image data)";else if(4===b)return"Illustrator (Adobe Graphics data)";else if(5===b)return"AppleSingle (Apple Computer Inc)";else if(6===b)return"NAA 89-3 (ANPA 1312)";else if(7===b)return"MacBinary II";else if(8===b)return"IPTC Unstructured Character Oriented File Format (UCOFF)";else if(9===b)return"United Press International ANPA 1312 variant";else if(10===b)return"United Press International Down-Load Message";else if(11===b)return"JPEG File Interchange (JFIF)";else if(12===b)return"Photo-CD Image-Pac (Eastman Kodak)";else if(13===b)return"Microsoft Bit Mapped Graphics File [*.BMP]";else if(14===b)return"Digital Audio File [*.WAV] (Microsoft & Creative Labs)";else if(15===b)return"Audio plus Moving Video [*.AVI] (Microsoft)";else if(16===b)return"PC DOS/Windows Executable Files [*.COM][*.EXE]";else if(17===b)return"Compressed Binary File [*.ZIP] (PKWare Inc)";else if(18===b)return"Audio Interchange File Format AIFF (Apple Computer Inc)";else if(19===b)return"RIFF Wave (Microsoft Corporation)";else if(20===b)return"Freehand (Macromedia/Aldus)";else if(21===b)return'Hypertext Markup Language "HTML" (The Internet Society)';else if(22===b)return"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC";else if(23===b)return"MPEG 2 Audio Layer 3, ISO/IEC";else if(24===b)return"Portable Document File (*.PDF) Adobe";else if(25===b)return"News Industry Text Format (NITF)";else if(26===b)return"Tape Archive (*.TAR)";else if(27===b)return"Tidningarnas Telegrambyrå NITF version (TTNITF DTD)";else if(28===b)return"Ritzaus Bureau NITF version (RBNITF DTD)";else if(29===b)return"Corel Draw [*.CDR]";return`Unknown format ${b}`}return V(a)}},713:{name:"ObjectData Preview File Format Version",description:(a,b)=>{let c={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},d=V(a);if(b["ObjectData Preview File Format"]){let a=V(b["ObjectData Preview File Format"].value);if(c[a]&&c[a][d])return c[a][d]}return d}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:a=>a[0].toString()},1812:{name:"Max Subfile Size",description:a=>{let b=0;for(let c=0;c<a.length;c++)b=(b<<8)+a[c];return b.toString()}},1882:{name:"ObjectData Size Announced",description:a=>{let b=0;for(let c=0;c<a.length;c++)b=(b<<8)+a[c];return b.toString()}},1887:{name:"Maximum ObjectData Size",description:a=>{let b=0;for(let c=0;c<a.length;c++)b=(b<<8)+a[c];return b.toString()}}};function a8(a){let b=V(a);return b.length>=8?b.substr(0,4)+"-"+b.substr(4,2)+"-"+b.substr(6,2):b}function a9(a){let b=V(a),c=b;return b.length>=6&&(c=b.substr(0,2)+":"+b.substr(2,2)+":"+b.substr(4,2),11===b.length&&(c+=b.substr(6,1)+b.substr(7,2)+":"+b.substr(9,2))),c}function ba(a){let b=V(a);if("\x1b%G"===b)return"UTF-8";if("\x1b%5"===b)return"Windows-1252";if("\x1b%/G"===b)return"UTF-8 Level 1";if("\x1b%/H"===b)return"UTF-8 Level 2";if("\x1b%/I"===b)return"UTF-8 Level 3";else if("\x1b/A"===b)return"ISO-8859-1";else if("\x1b/B"===b)return"ISO-8859-2";else if("\x1b/C"===b)return"ISO-8859-3";else if("\x1b/D"===b)return"ISO-8859-4";else if("\x1b/@"===b)return"ISO-8859-5";else if("\x1b/G"===b)return"ISO-8859-6";else if("\x1b/F"===b)return"ISO-8859-7";else if("\x1b/H"===b)return"ISO-8859-8";return"Unknown"}let bb=function(){if("undefined"!=typeof TextDecoder)return TextDecoder},bc=function(a,b){let c=bb();if(void 0!==c&&void 0!==a)try{return new c(a).decode(b instanceof DataView?b.buffer:Uint8Array.from(b))}catch(a){}var d=b.map(a=>String.fromCharCode(a)).join("");try{return decodeURIComponent(escape(d))}catch(a){return d}},bd=function(a,b,c){try{if(Array.isArray(a))return be(new DataView(Uint8Array.from(a).buffer),{size:a.length},0,c);let{naaBlock:d,dataOffset:e}=function(a,b){for(;b+12<=a.byteLength;){var c,d;let e=function(a,b){if(0x3842494d!==a.getUint32(b,!1))throw Error("Not an IPTC resource block.");let c=a.getUint8(b+4+2),d=(c%2==0?c+1:c)+1;return{headerSize:6+d+4,type:a.getUint16(b+4),size:a.getUint32(b+4+2+d)}}(a,b);if(c=e,1028===c.type)return{naaBlock:e,dataOffset:b+e.headerSize};b+=e.headerSize+e.size+(d=e,+(d.size%2!=0))}throw Error("No IPTC NAA resource block.")}(a,b);return be(a,d,e,c)}catch(a){return{}}};function be(a,b,c,d){let e,f={},g=c+b.size;for(;c<g&&c<a.byteLength;){let{tag:b,tagSize:g}=function(a,b,c,d,e){var f,g,h,i;if(f=a,g=b,28!==f.getUint8(g))return{tag:null,tagSize:0};let j=a.getUint16(b+1),k=a.getUint16(b+3);if(!e&&!a7[j])return{tag:void 0,tagSize:k};let l=function(a,b,c){let d=[];for(let e=0;e<c;e++)d.push(a.getUint8(b+e));return d}(a,b+5,k),m={id:j,name:function(a,b,c){return a?"string"==typeof a?a:"function"==typeof a.name?a.name(c):a.name:`undefined-${b}`}(a7[j],j,l),value:l,description:function(a,b,c,d){var e,f,g;if((e=a)&&void 0!==e.description)try{return a.description(b,c)}catch(a){}return(f=a,g=b,f&&g instanceof Array)?bc(d,b):b}(a7[j],l,c,d)};return a7[h=j]&&a7[h].repeatable&&(m.repeatable=!0),a7[i=j]&&void 0!==a7[i].encoding_name&&(m.encoding=a7[j].encoding_name(l)),{tag:m,tagSize:k}}(a,c,f,e,d);if(null===b)break;b&&("encoding"in b&&(e=b.encoding),void 0===f[b.name]||void 0===b.repeatable?f[b.name]={id:b.id,value:b.value,description:b.description}:(f[b.name]instanceof Array||(f[b.name]=[{id:f[b.name].id,value:f[b.name].value,description:f[b.name].description}]),f[b.name].push({id:b.id,value:b.value,description:b.description}))),c+=5+g}return f}let bf={"tiff:Orientation":a=>"1"===a?"Horizontal (normal)":"2"===a?"Mirror horizontal":"3"===a?"Rotate 180":"4"===a?"Mirror vertical":"5"===a?"Mirror horizontal and rotate 270 CW":"6"===a?"Rotate 90 CW":"7"===a?"Mirror horizontal and rotate 90 CW":"8"===a?"Rotate 270 CW":a,"tiff:ResolutionUnit":a=>aF.ResolutionUnit(parseInt(a,10)),"tiff:XResolution":a=>bg(aF.XResolution,a),"tiff:YResolution":a=>bg(aF.YResolution,a),"exif:ApertureValue":a=>bg(aF.ApertureValue,a),"exif:GPSLatitude":bi,"exif:GPSLongitude":bi,"exif:FNumber":a=>bg(aF.FNumber,a),"exif:FocalLength":a=>bg(aF.FocalLength,a),"exif:FocalPlaneResolutionUnit":a=>aF.FocalPlaneResolutionUnit(parseInt(a,10)),"exif:ColorSpace":a=>{var b;return aF.ColorSpace("0x"===(b=a).substring(0,2)?parseInt(b.substring(2),16):parseInt(b,10))},"exif:ComponentsConfiguration"(a,b){if(/^\d, \d, \d, \d$/.test(b)){let a=b.split(", ").map(a=>a.charCodeAt(0));return aF.ComponentsConfiguration(a)}return b},"exif:Contrast":a=>aF.Contrast(parseInt(a,10)),"exif:CustomRendered":a=>aF.CustomRendered(parseInt(a,10)),"exif:ExposureMode":a=>aF.ExposureMode(parseInt(a,10)),"exif:ExposureProgram":a=>aF.ExposureProgram(parseInt(a,10)),"exif:ExposureTime":a=>bh(a)?aF.ExposureTime(a.split("/").map(a=>parseInt(a,10))):a,"exif:MeteringMode":a=>aF.MeteringMode(parseInt(a,10)),"exif:Saturation":a=>aF.Saturation(parseInt(a,10)),"exif:SceneCaptureType":a=>aF.SceneCaptureType(parseInt(a,10)),"exif:Sharpness":a=>aF.Sharpness(parseInt(a,10)),"exif:ShutterSpeedValue":a=>bg(aF.ShutterSpeedValue,a),"exif:WhiteBalance":a=>aF.WhiteBalance(parseInt(a,10))};function bg(a,b){return bh(b)?a(b.split("/")):b}function bh(a){return/^-?\d+\/-?\d+$/.test(a)}function bi(a){let[b,c]=a.split(",");if(void 0!==b&&void 0!==c){let a=parseFloat(b),d=parseFloat(c),e=c.charAt(c.length-1);if(!Number.isNaN(a)&&!Number.isNaN(d))return""+(a+d/60)+e}return a}let bj=function(a){if(a)return a;if("undefined"!=typeof DOMParser)return new DOMParser;try{let{DOMParser:a,onErrorStopParsing:b}=__non_webpack_require__("@xmldom/xmldom");return new a({onError:b})}catch(a){return}},bk={xmp:"http://ns.adobe.com/xap/1.0/",tiff:"http://ns.adobe.com/tiff/1.0/",exif:"http://ns.adobe.com/exif/1.0/",dc:"http://purl.org/dc/elements/1.1/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/",stEvt:"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#",stRef:"http://ns.adobe.com/xap/1.0/sType/ResourceRef#",photoshop:"http://ns.adobe.com/photoshop/1.0/"},bl=function(a,b,c){let d={};if("string"==typeof a)return bo(d,a,c),d;let[e,f]=function(a,b){if(0===b.length)return[];let c=[bn(a,b.slice(0,1))];return b.length>1&&c.push(bn(a,b.slice(1))),c}(a,b),g=bo(d,e,c);if(f){let e=bo(d,f,c);g||e||(delete d._raw,bo(d,bn(a,b),c))}return d};class bm extends Error{constructor(a){super(a),this.name="ParseError"}}function bn(a,b){let c=new Uint8Array(b.reduce((a,b)=>a+b.length,0)),d=0;for(let e=0;e<b.length;e++){let f=b[e],g=a.buffer.slice(f.dataOffset,f.dataOffset+f.length);c.set(new Uint8Array(g),d),d+=f.length}return new DataView(c.buffer)}function bo(a,b,c){try{let{doc:d,raw:e}=function(a,b){let c=bj(b);if(!c)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),Error();let d="string"==typeof a?a:M(a,0,a.byteLength);return{doc:function a(b,c,d=!1){try{let a=b.parseFromString(c,"application/xml"),d=a.getElementsByTagName("parsererror");if(d.length>0)throw new bm(d[0].textContent);return a}catch(e){if("ParseError"===e.name&&function(a){let b=["prefix is non-null and namespace is null","prefix not bound to a namespace","prefix inte bundet till en namnrymd",/Namespace prefix .+ is not defined/];for(let c=0;c<b.length;c++)if(new RegExp(b[c]).test(a.message))return!0;return!1}(e)&&!d)return a(b,function(a){var b,c,d;let e,f=a.match(/<([A-Za-z_][A-Za-z0-9._-]*)([^>]*)>/);if(!f)return a;let g=f[1],h=function(a){let b,c=[],d=/xmlns:([\w-]+)=["'][^"']+["']/g;for(;null!==(b=d.exec(a));)-1===c.indexOf(b[1])&&c.push(b[1]);return c}(a),i=(function(a){let b,c=[],d=/\b([A-Za-z_][A-Za-z0-9._-]*):[A-Za-z_][A-Za-z0-9._-]*\b/g;for(;null!==(b=d.exec(a));){let a=b[1];"xmlns"!==a&&"xml"!==a&&-1===c.indexOf(a)&&c.push(a)}return c})(a).filter(a=>-1===h.indexOf(a));return 0===i.length?a:(b=a,c=g,d=function(a){let b=[];for(let c=0;c<a.length;c++){let d=a[c],e=bk[d]||"http://fallback.namespace/"+d;b.push(" xmlns:"+d+'="'+e+'"')}return b.join("")}(i),e=RegExp("<"+c+"([^>]*)>"),b.replace(e,"<"+c+"$1"+d+">"))}(c),!0);throw e}}(c,d.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")),raw:d}}(b,c);a._raw=(a._raw||"")+e;let f=function a(b){for(let c=0;c<b.childNodes.length;c++){if("x:xmpmeta"===b.childNodes[c].tagName)return a(b.childNodes[c]);if("rdf:RDF"===b.childNodes[c].tagName)return b.childNodes[c]}throw Error()}(d);return Q(a,bp(function a(b,c=!1){var d;let e,f=function(a){let b=[];for(let c=0;c<a.childNodes.length;c++)b.push(a.childNodes[c]);return b}(b);if(1===(d=f).length&&"#text"===d[0].nodeName)return c?{}:f[0].nodeValue;return e={},f.forEach(b=>{var c,d;if((c=b).nodeName&&"#text"!==c.nodeName){let c={attributes:function(a){let b={};for(let c=0;c<a.attributes.length;c++)b[a.attributes[c].nodeName]=decodeURIComponent(escape(a.attributes[c].value));return b}(d=b),value:a(d)};void 0!==e[b.nodeName]?(Array.isArray(e[b.nodeName])||(e[b.nodeName]=[e[b.nodeName]]),e[b.nodeName].push(c)):e[b.nodeName]=c}}),e}(f,!0))),!0}catch(a){return!1}}function bp(a){let b={};if("string"==typeof a)return a;for(let c in a){let d=a[c];Array.isArray(d)||(d=[d]),d.forEach(a=>{Q(b,bq(a.attributes)),"object"==typeof a.value&&Q(b,bu(a.value))})}return b}function bq(a){let b={};for(let d in a)try{var c;c=d,"rdf:parseType"===c||br(c)||(b[bs(d)]={value:a[d],attributes:{},description:bt(a[d],d)})}catch(a){}return b}function br(a){return"xmlns"===a.split(":")[0]}function bs(a){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(a)?"RatingPercent":a.split(":")[1]}function bt(a,b){if(Array.isArray(a)){let c=a.map(a=>void 0!==a.value?bt(a.value):bt(a)).join(", ");return b&&"function"==typeof bf[b]?bf[b](a,c):c}if("object"==typeof a){var c,d=a;let b=[];for(let a in d){b.push(`${"CiAdrCity"===(c=a)?"CreatorCity":"CiAdrCtry"===c?"CreatorCountry":"CiAdrExtadr"===c?"CreatorAddress":"CiAdrPcode"===c?"CreatorPostalCode":"CiAdrRegion"===c?"CreatorRegion":"CiEmailWork"===c?"CreatorWorkEmail":"CiTelWork"===c?"CreatorWorkPhone":"CiUrlWork"===c?"CreatorWorkUrl":c}: ${bt(d[a].value)}`)}return b.join("; ")}try{if(b&&"function"==typeof bf[b])return bf[b](a);return decodeURIComponent(escape(a))}catch(b){return a}}function bu(a){let b={};for(let c in a)try{br(c)||(b[bs(c)]=function(a,b){var c,d,e,f,g;return(c=a,Array.isArray(c))?(d=a,e=b,bD(d[d.length-1],e)):(f=a,"Resource"===f.attributes["rdf:parseType"]&&"string"==typeof f.value&&""===f.value.trim())?{value:"",attributes:{},description:""}:bv(a)?bw(a,b):by(a)?bz(a,b):bA(a)?bB(a,b):(g=a,void 0!==bC(g.value))?function(a,b){let c=bC(a.value).value["rdf:li"],d=bx(a),e=[];return void 0===c?c=[]:Array.isArray(c)||(c=[c]),c.forEach(a=>{var b;e.push((b=a,bv(b)?bw(b):by(b)?bz(b).value:bA(b)?bB(b).value:bD(b)))}),{value:e,attributes:d,description:bt(e,b)}}(a,b):bD(a,b)}(a[c],c))}catch(a){}return b}function bv(a){return"Resource"===a.attributes["rdf:parseType"]&&void 0!==a.value["rdf:value"]||void 0!==a.value["rdf:Description"]&&void 0!==a.value["rdf:Description"].value["rdf:value"]}function bw(a,b){var c;let d=bx(a);void 0!==a.value["rdf:Description"]&&(a=a.value["rdf:Description"]),Q(d,bx(a),function(a){let b={};for(let c in a.value)"rdf:value"===c||br(c)||(b[bs(c)]=a.value[c].value);return b}(a));let e=bE((c=a).value["rdf:value"])||c.value["rdf:value"].value;return{value:e,attributes:d,description:bt(e,b)}}function bx(a){let b={};for(let c in a.attributes)"rdf:parseType"===c||"rdf:resource"===c||br(c)||(b[bs(c)]=a.attributes[c]);return b}function by(a){return"Resource"===a.attributes["rdf:parseType"]||void 0!==a.value["rdf:Description"]&&void 0===a.value["rdf:Description"].value["rdf:value"]}function bz(a,b){let c={value:{},attributes:{}};return void 0!==a.value["rdf:Description"]&&(Q(c.value,bq(a.value["rdf:Description"].attributes)),Q(c.attributes,bx(a)),a=a.value["rdf:Description"]),Q(c.value,bu(a.value)),c.description=bt(c.value,b),c}function bA(a){return 0===Object.keys(a.value).length&&void 0===a.attributes["xml:lang"]&&void 0===a.attributes["rdf:resource"]}function bB(a,b){let c=bq(a.attributes);return{value:c,attributes:{},description:bt(c,b)}}function bC(a){return a["rdf:Bag"]||a["rdf:Seq"]||a["rdf:Alt"]}function bD(a,b){let c=bE(a)||bp(a.value);return{value:c,attributes:bx(a),description:bt(c,b)}}function bE(a){return a.attributes&&a.attributes["rdf:resource"]}let bF={2e3:{name:"PathInformation",description:function(a){let b={},c=[];for(let d=0;d<a.byteLength;d+=26){let e=aR(a,d);bG[e]&&(b[e]||(b[e]=bG[e].description),c.push({type:e,path:bG[e].path(a,d+2)}))}return JSON.stringify({types:b,paths:c})}},2999:{name:"ClippingPathName",description(a){let[,b]=O(a,0);return b}}},bG={0:{description:"Closed subpath length",path:(a,b)=>[aR(a,b)]},1:{description:"Closed subpath Bezier knot, linked",path:bH},2:{description:"Closed subpath Bezier knot, unlinked",path:bH},3:{description:"Open subpath length",path:(a,b)=>[aR(a,b)]},4:{description:"Open subpath Bezier knot, linked",path:bH},5:{description:"Open subpath Bezier knot, unlinked",path:bH},6:{description:"Path fill rule",path:()=>[]},8:{description:"Initial fill rule",path:(a,b)=>[aR(a,b)]},7:{description:"Clipboard",path:function(a,b){return[[bI(a,b,8),bI(a,b+4,8),bI(a,b+8,8),bI(a,b+12,8)],bI(a,b+16,8)]}}};function bH(a,b){let c=[];for(let d=0;d<24;d+=8)c.push(function(a,b){let c=bI(a,b,8);return[bI(a,b+4,8),c]}(a,b+d));return c}function bI(a,b,c){var d,e;let f=aS(a,b),g=f&parseInt(T("1",32-c),2);return(f>>>31==0?1:-1)*(e=((0x7f000000&f)>>>32-c).toString(2)+"."+(d=g.toString(2),T("0",32-c-d.length)+d),parseInt(e.replace(".",""),2)/Math.pow(2,(e.split(".")[1]||"").length))}let bJ=function(a,b){let c=L(new Uint8Array(a).buffer),d={},e=0;for(;e<a.length;){let a=M(c,e,bL),f=aR(c,e+=bL),{tagName:g,tagNameSize:h}=function(a,b){let[c,d]=O(a,b);return{tagName:d,tagNameSize:1+c+ +(c%2==0)}}(c,e+=2),i=aS(c,e+=h);if(e+=4,a===bK){let a=L(c.buffer,e,i),h={id:f,value:M(a,0,i)};if(bF[f]){try{h.description=bF[f].description(a)}catch(a){h.description="<no description formatter>"}d[g||bF[f].name]=h}else b&&(d[`undefined-${f}`]=h)}e+=i+i%2}return d},bK="8BIM",bL=bK.length,bM={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},bN={4:{name:"Preferred CMM type",value:(a,b)=>M(a,b,4),description:a=>null!==a?bO(a):""},8:{name:"Profile Version",value:(a,b)=>a.getUint8(b).toString(10)+"."+(a.getUint8(b+1)>>4).toString(10)+"."+(a.getUint8(b+1)%16).toString(10)},12:{name:"Profile/Device class",value:(a,b)=>M(a,b,4),description:a=>{switch(a.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return a}}},16:{name:"Color Space",value:(a,b)=>M(a,b,4)},20:{name:"Connection Space",value:(a,b)=>M(a,b,4)},24:{name:"ICC Profile Date",value:(a,b)=>{var c,d;return(c=a,d=b,new Date(Date.UTC(c.getUint16(d),c.getUint16(d+2)-1,c.getUint16(d+4),c.getUint16(d+6),c.getUint16(d+8),c.getUint16(d+10)))).toISOString()}},36:{name:"ICC Signature",value:(a,b)=>{var c;return c=a.buffer.slice(b,b+4),String.fromCharCode.apply(null,new Uint8Array(c))}},40:{name:"Primary Platform",value:(a,b)=>M(a,b,4),description:a=>bO(a)},48:{name:"Device Manufacturer",value:(a,b)=>M(a,b,4),description:a=>bO(a)},52:{name:"Device Model Number",value:(a,b)=>M(a,b,4)},64:{name:"Rendering Intent",value:(a,b)=>a.getUint32(b),description:a=>{switch(a){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return a}}},80:{name:"Profile Creator",value:(a,b)=>M(a,b,4)}};function bO(a){switch(a.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return a}}let bP=function(a,c,d){var e,f;return d&&c[0].compressionMethod!==b?(e=a,0!==(f=c)[0].compressionMethod?{}:U(new DataView(e.buffer.slice(f[0].offset,f[0].offset+f[0].length)),f[0].compressionMethod,"utf-8","dataview").then(bQ).catch(()=>({}))):function(a,b){try{var c;let d=b.reduce((a,b)=>a+b.length,0),e=new Uint8Array(d),f=0,g=(c=a,Array.isArray(c)?new DataView(Uint8Array.from(c).buffer).buffer:c.buffer);for(let a=1;a<=b.length;a++){let c=b.find(b=>b.chunkNumber===a);if(!c)throw Error(`ICC chunk ${a} not found`);let d=g.slice(c.offset,c.offset+c.length),h=new Uint8Array(d);e.set(h,f),f+=h.length}return bQ(new DataView(e.buffer))}catch(a){return{}}}(a,c)};function bQ(a){let b=a.buffer,c=a.getUint32();if(a.byteLength!==c)throw Error("ICC profile length not matching");if(a.byteLength<84)throw Error("ICC profile too short");let d={},e=Object.keys(bN);for(let b=0;b<e.length;b++){let c=e[b],f=bN[c],g=f.value(a,parseInt(c,10)),h=g;f.description&&(h=f.description(g)),d[f.name]={value:g,description:h}}if("acsp"!==bR(b.slice(36,40)))throw Error("ICC profile: missing signature");if(b.length<132)return d;let f=a.getUint32(128),g=132;for(let c=0;c<f;c++){var h;if(h=g,b.length<h+12)break;let c=M(a,g,4),e=a.getUint32(g+4),f=a.getUint32(g+8);if(e>b.length)break;let i=M(a,e,4);if("desc"===i){let g=a.getUint32(e+8);if(g>f)return d;bS(d,c,bR(b.slice(e+12,e+g+11)))}else if("mluc"===i){let b=a.getUint32(e+8),f=a.getUint32(e+12),g=e+16,h=[];for(let c=0;c<b;c++){let b=M(a,g+0,2),c=M(a,g+2,2),d=a.getUint32(g+4),i=a.getUint32(g+8),j=function(a,b,c){let d=[];for(let e=0;e<c&&b+e<a.byteLength;e+=2)d.push(a.getUint16(b+e));return 0===d[d.length-1]&&d.pop(),P(d)}(a,e+i,d);h.push({languageCode:b,countryCode:c,text:j}),g+=f}if(1===b)bS(d,c,h[0].text);else{let a={};for(let b=0;b<h.length;b++)a[`${h[b].languageCode}-${h[b].countryCode}`]=h[b].text;bS(d,c,a)}}else"text"===i?bS(d,c,bR(b.slice(e+8,e+f-7))):"sig "===i&&bS(d,c,bR(b.slice(e+8,e+12)));g+=12}return d}function bR(a){return String.fromCharCode.apply(null,new Uint8Array(a))}function bS(a,b,c){bM[b]?a[bM[b].name]={value:c,description:c}:a[b]={value:c,description:c}}let bT=function(a,b,c,d,e){var f,g;let h,i=aY(a,aL,b,b+c,d,e);return i.ShotInfo&&(i=Q({},i,(f=i.ShotInfo.value,h={},void 0!==f[27]&&(h.AutoRotate={value:f[27],description:0===(g=f[27])?"None":1===g?"Rotate 90 CW":2===g?"Rotate 180":3===g?"Rotate 270 CW":"Unknown"}),h)),delete i.ShotInfo),i},bU=78420,bV=1,bW=3,bX=5,bY=function(a,b,c,d){var e;let f=Y(a,b+c+8),g=b+c,h=aY(a,aM,g,g+10,f,d,!0);return(e=h).PentaxModelID&&e.PentaxModelID.value===bU&&e.LevelInfo&&(h=Q({},h,function(a,b,c){var d;let e={};if(b+7>a.byteLength)return e;let f=a.getInt8(b+bV);e.CameraOrientation={value:f,description:0===(d=f)?"Horizontal (normal)":1===d?"Rotate 270 CW":2===d?"Rotate 180":3===d?"Rotate 90 CW":4===d?"Upwards":5===d?"Downwards":"Unknown"};let g=a.getInt16(b+bW,18761===c);e.RollAngle={value:g,description:""+-.5*g};let h=a.getInt16(b+bX,18761===c);return e.PitchAngle={value:h,description:""+-.5*h},e}(a,g+h.LevelInfo.__offset,f)),delete h.LevelInfo),h},bZ=function(a,c,d,e){let f={},g=[];for(let h=0;h<c.length;h++){let{offset:i,length:j,type:k}=c[h],l=function(a,c,d,e,f){var g;let h,i=[],j=[],k=[],l=b$,m=b;for(let f=0;f<d&&c+f<a.byteLength;f++){if(l===b_){m=function({type:a,dataView:c,offset:d}){if(a===an){if(1===c.getUint8(d))return c.getUint8(d+1)}else if(a===ao)return c.getUint8(d);return b}({type:e,dataView:a,offset:c+f}),e===an&&(f+=1),l=b3(e,l);continue}if(l===b2){h=new DataView(a.buffer.slice(c+f,c+d));break}let g=a.getUint8(c+f);0===g?l=b3(e,l):l===b$?i.push(g):l===b0?j.push(g):l===b1&&k.push(g)}if(m!==b&&!f)return{};let n=U(h,m,(g=e)===am||g===ao?"latin1":"utf-8");return n instanceof Promise?n.then(a=>b4(a,e,j,i)).catch(()=>b4("<text using unknown compression>".split(""),e,j,i)):b4(n,e,j,i)}(a,i,j,k,d);if(l instanceof Promise)g.push(l.then(({name:a,value:b,description:c})=>{try{if(b5(a,b))return{__exif:a2(b7(b),6,e).tags};if(b6(a,b))return{__iptc:bd(b7(b),0,e)};if(a&&!b5(a,b)&&!b6(a,b))return{[a]:{value:b,description:c}}}catch(a){}return{}}));else{let{name:a,value:b,description:c}=l;a&&(f[a]={value:b,description:c})}}return{readTags:f,readTagsPromise:g.length>0?Promise.all(g):void 0}},b$="STATE_KEYWORD",b_="STATE_COMPRESSION",b0="STATE_LANG",b1="STATE_TRANSLATED_KEYWORD",b2="STATE_TEXT";function b3(a,b){return b===b$&&[an,ao].includes(a)?b_:b===b_?a===an?b0:b2:b===b0?b1:b2}function b4(a,b,c,d){var e;let f=(e=a)instanceof DataView?M(e,0,e.byteLength):e;return{name:function(a,b,c){let d=P(c);if(a===am||0===b.length)return d;let e=P(b);return`${d} (${e})`}(b,c,d),value:f,description:b===an?bc("UTF-8",a):f}}function b5(a,b){return"raw profile type exif"===a.toLowerCase()&&"exif"===b.substring(1,5)}function b6(a,b){return"raw profile type iptc"===a.toLowerCase()&&"iptc"===b.substring(1,5)}function b7(a){var b=a.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/)[2].replace(/\n/g,"");let c=new DataView(new ArrayBuffer(b.length/2));for(let a=0;a<b.length;a+=2)c.setUint8(a/2,parseInt(b.substring(a,a+2),16));return c}let b8=function(a,b){let c={};for(let d=0;d<b.length;d++){let e=aS(a,b[d]+0),f=M(a,b[d]+4,4);f===ap?(c["Pixels Per Unit X"]=function(a,b,c){if(!b9(a,b,c,0,4))return;let d=aS(a,b+ak+0);return{value:d,description:""+d}}(a,b[d],e),c["Pixels Per Unit Y"]=function(a,b,c){if(!b9(a,b,c,4,4))return;let d=aS(a,b+ak+4);return{value:d,description:""+d}}(a,b[d],e),c["Pixel Units"]=function(a,b,c){if(!b9(a,b,c,8,1))return;let d=aQ(a,b+ak+8);return{value:d,description:1===d?"meters":"Unknown"}}(a,b[d],e)):f===aq&&(c["Modify Date"]=function(a,b,c){if(!b9(a,b,c,0,7))return;let d=aR(a,b+ak),e=aQ(a,b+ak+2),f=aQ(a,b+ak+3),g=aQ(a,b+ak+4),h=aQ(a,b+ak+5),i=aQ(a,b+ak+6);return{value:[d,e,f,g,h,i],description:`${ca(d,4)}-${ca(e,2)}-${ca(f,2)} ${ca(g,2)}:${ca(h,2)}:${ca(i,2)}`}}(a,b[d],e))}return c};function b9(a,b,c,d,e){return d+e<=c&&b+ak+d+e<=a.byteLength}function ca(a,b){return`${"0".repeat(b-(""+a).length)}${a}`}let cb=function(a,b){let c,d,e={},f=aQ(a,b);return e.Alpha={value:+!!(c=16&f),description:c?"Yes":"No"},e.Animation={value:+!!(d=2&f),description:d?"Yes":"No"},e.ImageWidth=cc(a,b+4),e.ImageHeight=cc(a,b+7),e};function cc(a,b){let c=aQ(a,b)+256*aQ(a,b+1)+65536*aQ(a,b+2)+1;return{value:c,description:c+"px"}}let cd=[6,7,99],ce=function(a,b,c){var d;if((d=b)&&(void 0===d.Compression||cd.includes(d.Compression.value))&&d.JPEGInterchangeFormat&&d.JPEGInterchangeFormat.value&&d.JPEGInterchangeFormatLength&&d.JPEGInterchangeFormatLength.value){b.type="image/jpeg";let d=c+b.JPEGInterchangeFormat.value;b.image=a.buffer.slice(d,d+b.JPEGInterchangeFormatLength.value),R(b,"base64",function(){return S(this.image)})}return b},cf=function(a,b){let c={},d=!1,e=cg(a,"exif","FocalLength",b),f=cg(a,"exif","FocalPlaneXResolution",b),g=cg(a,"exif","FocalPlaneYResolution",b),h=cg(a,"exif","FocalPlaneResolutionUnit",b),i=cg(a,"file","Image Width",b),j=cg(a,"file","Image Height",b),k=cg(a,"exif","FocalLengthIn35mmFilm",b)||function(a,b,c,d,e,f){if(a&&b&&c&&d&&e&&f)try{let g;switch(c){case 2:g=25.4;break;case 3:g=10;break;case 4:g=1;break;default:return}let h=a[0]/a[1]*g,i=b[0]/b[1]*g,j=Math.sqrt((d/h)**2+(e/i)**2);return f[0]/f[1]*(43.27/j)}catch(a){}}(f,g,h,i,j,e);k&&(c.FocalLength35efl={value:k,description:aF.FocalLengthIn35mmFilm(k)},d=!0);let l=function(a,b){if(a&&b)try{let c=b/(a[0]/a[1]);return{value:c,description:c.toFixed(1)}}catch(a){}}(e,k);l&&(c.ScaleFactorTo35mmEquivalent=l,d=!0);let m=function(a){if(a)try{let b=2*Math.atan(36/(2*a))*(180/Math.PI);return{value:b,description:b.toFixed(1)+" deg"}}catch(a){}}(k);if(m&&(c.FieldOfView=m,d=!0),d)return c};function cg(a,b,c,d){return d&&a[b]&&a[b][c]?a[b][c].value:!d&&a[c]?a[c].value:void 0}function ch(a){this.name="MetadataMissingError",this.message=a||"No Exif data",this.stack=Error().stack}ch.prototype=Error();let ci=ch,cj=function(a,b={}){var c,d;return"string"==typeof a?(b.async=!0,(function(a,b){var c;if(/^\w+:\/\//.test(a))return"undefined"!=typeof fetch?function(a,{length:b}={}){let c={method:"GET"};return Number.isInteger(b)&&b>=0&&(c.headers={range:`bytes=0-${b-1}`}),fetch(a,c).then(a=>a.arrayBuffer())}(a,b):function(a,{length:b}={}){return new Promise((c,d)=>{var e;let f={};Number.isInteger(b)&&b>=0&&(f.headers={range:`bytes=0-${b-1}`}),(e=a,/^https:\/\//.test(e)?__non_webpack_require__("https").get:__non_webpack_require__("http").get)(a,f,a=>{if(a.statusCode>=200&&a.statusCode<=299){let b=[];a.on("data",a=>b.push(Buffer.from(a))),a.on("error",a=>d(a)),a.on("end",()=>c(Buffer.concat(b)))}else d(`Could not fetch file: ${a.statusCode} ${a.statusMessage}`),a.resume()}).on("error",a=>d(a))})}(a,b);return(c=a,/^data:[^;,]*(;base64)?,/.test(c))?Promise.resolve(function(a){let b=a.substring(a.indexOf(",")+1);if(-1!==a.indexOf(";base64"))return"undefined"!=typeof atob?Uint8Array.from(atob(b),a=>a.charCodeAt(0)).buffer:"undefined"==typeof Buffer?void 0:void 0!==Buffer.from?Buffer.from(b,"base64"):new Buffer(b,"base64");let c=decodeURIComponent(b);return"undefined"!=typeof Buffer?void 0!==Buffer.from?Buffer.from(c):new Buffer(c):Uint8Array.from(c,a=>a.charCodeAt(0)).buffer}(a)):function(a,{length:b}={}){return new Promise((c,d)=>{let e=function(){try{return __non_webpack_require__("fs")}catch(a){return}}();e.open(a,(f,g)=>{f?d(f):e.stat(a,(f,h)=>{if(f)d(f);else{let f=Math.min(h.size,void 0!==b?b:h.size),i=Buffer.alloc(f);e.read(g,{buffer:i,length:f},b=>{b?d(b):e.close(g,b=>{b&&console.warn(`Could not close file ${a}:`,b),c(i)})})}})})})}(a,b)})(a,b).then(a=>ck(a,b))):(c=a,"undefined"!=typeof File&&c instanceof File)?(b.async=!0,(d=a,new Promise((a,b)=>{let c=new FileReader;c.onload=b=>a(b.target.result),c.onerror=()=>b(c.error),c.readAsArrayBuffer(d)})).then(a=>ck(a,b))):ck(a,b)};function ck(a,b){return function(a){try{return Buffer.isBuffer(a)}catch(a){return!1}}(a)&&(a=new Uint8Array(a).buffer),function(a,{expanded:b=!1,async:c=!1,includeUnknown:d=!1,domParser:e}={expanded:!1,async:!1,includeUnknown:!1,domParser:void 0}){var f,g,h,i,j;let k=!1,l={},m=[],{fileType:n,fileDataOffset:o,jfifDataOffset:p,tiffHeaderOffset:q,iptcDataOffset:r,xmpChunks:s,iccChunks:t,mpfDataOffset:u,pngHeaderOffset:v,pngTextChunks:w,pngChunkOffsets:x,vp8xChunkOffset:y,gifHeaderOffset:z}=aD(a,c);if(void 0!==o){k=!0;let c=a5(a,o);b?l.file=c:l=Q({},l,c)}if(void 0!==p){k=!0;let c=a6(a,p);b?l.jfif=c:l=Q({},l,c)}if(void 0!==q){k=!0;let{tags:c,byteOrder:h}=a2(a,q,d);if(c.Thumbnail&&(l.Thumbnail=c.Thumbnail,delete c.Thumbnail),b?(l.exif=c,function(a){if(a.exif){if(a.exif.GPSLatitude&&a.exif.GPSLatitudeRef)try{a.gps=a.gps||{},a.gps.Latitude=X(a.exif.GPSLatitude.value),"S"===a.exif.GPSLatitudeRef.value.join("")&&(a.gps.Latitude=-a.gps.Latitude)}catch(a){}if(a.exif.GPSLongitude&&a.exif.GPSLongitudeRef)try{a.gps=a.gps||{},a.gps.Longitude=X(a.exif.GPSLongitude.value),"W"===a.exif.GPSLongitudeRef.value.join("")&&(a.gps.Longitude=-a.gps.Longitude)}catch(a){}if(a.exif.GPSAltitude&&a.exif.GPSAltitudeRef)try{a.gps=a.gps||{},a.gps.Altitude=a.exif.GPSAltitude.value[0]/a.exif.GPSAltitude.value[1],1===a.exif.GPSAltitudeRef.value&&(a.gps.Altitude=-a.gps.Altitude)}catch(a){}}}(l)):l=Q({},l,c),c["IPTC-NAA"]&&void 0===r){let a=bd(c["IPTC-NAA"].value,0,d);b?l.iptc=a:l=Q({},l,a)}if(0,c.ApplicationNotes&&!cl(s)){let a=bl(P(c.ApplicationNotes.value),void 0,e);b?l.xmp=a:(delete a._raw,l=Q({},l,a))}if(0,c.ImageSourceData&&c.PhotoshopSettings){let a=bJ(c.PhotoshopSettings.value,d);b?l.photoshop=a:l=Q({},l,a)}if(0,c.ICC_Profile&&!cm(t)){let a=bP(c.ICC_Profile.value,[{offset:0,length:c.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);b?l.icc=a:l=Q({},l,a)}if(0,c.MakerNote){if((f=c).Make&&f.Make.value&&Array.isArray(f.Make.value)&&"Canon"===f.Make.value[0]&&f.MakerNote&&f.MakerNote.__offset){let e=bT(a,q,c.MakerNote.__offset,h,d);b?l.makerNotes=e:l=Q({},l,e)}else{let e;if(e="PENTAX ",(g=c).MakerNote.value.length>e.length&&P(g.MakerNote.value.slice(0,e.length))===e&&g.MakerNote.__offset){let e=bY(a,q,c.MakerNote.__offset,d);b?l.makerNotes=e:l=Q({},l,e)}}}c.MakerNote&&delete c.MakerNote.__offset}if(void 0!==r){k=!0;let c=bd(a,r,d);b?l.iptc=c:l=Q({},l,c)}if(cl(s)){k=!0;let c=bl(a,s,e);b?l.xmp=c:(delete c._raw,l=Q({},l,c))}if(cm(t)){k=!0;let b=bP(a,t,c);b instanceof Promise?m.push(b.then(C)):C(b)}if(void 0!==u){k=!0;let c=a3(a,u,d);b?l.mpf=c:l=Q({},l,c)}if(void 0!==v){k=!0;let c={"Image Width":function(a,b){if(b+0+4>a.byteLength)return;let c=aS(a,b);return{value:c,description:`${c}px`}}(h=a,i=v),"Image Height":function(a,b){if(b+4+4>a.byteLength)return;let c=aS(a,b+4);return{value:c,description:`${c}px`}}(h,i),"Bit Depth":function(a,b){if(b+8+1>a.byteLength)return;let c=aQ(a,b+8);return{value:c,description:`${c}`}}(h,i),"Color Type":function(a,b){if(b+9+1>a.byteLength)return;let c=aQ(a,b+9);return{value:c,description:({0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"})[c]||"Unknown"}}(h,i),Compression:function(a,b){if(b+10+1>a.byteLength)return;let c=aQ(a,b+10);return{value:c,description:0===c?"Deflate/Inflate":"Unknown"}}(h,i),Filter:function(a,b){if(b+11+1>a.byteLength)return;let c=aQ(a,b+11);return{value:c,description:0===c?"Adaptive":"Unknown"}}(h,i),Interlace:function(a,b){if(b+12+1>a.byteLength)return;let c=aQ(a,b+12);return{value:c,description:({0:"Noninterlaced",1:"Adam7 Interlace"})[c]||"Unknown"}}(h,i)};b?(l.png=l.png?Q({},l.png,c):c,l.pngFile=c):l=Q({},l,c)}if(void 0!==w){k=!0;let{readTags:b,readTagsPromise:e}=bZ(a,w,c,d);D(b),e&&m.push(e.then(a=>a.forEach(D)))}if(void 0!==x){k=!0;let c=b8(a,x);b?l.png=l.png?Q({},l.png,c):c:l=Q({},l,c)}if(void 0!==y){k=!0;let c=cb(a,y);b?l.riff=l.riff?Q({},l.riff,c):c:l=Q({},l,c)}if(void 0!==z){k=!0;let c={"GIF Version":function(a){if(6>a.byteLength)return;let b=M(a,3,3);return{value:b,description:b}}(j=a),"Image Width":function(a){if(8>a.byteLength)return;let b=a.getUint16(6,!0);return{value:b,description:`${b}px`}}(j),"Image Height":function(a){if(10>a.byteLength)return;let b=a.getUint16(8,!0);return{value:b,description:`${b}px`}}(j),"Global Color Map":function(a){if(11>a.byteLength)return;let b=(128&a.getUint8(10))>>>7;return{value:b,description:1===b?"Yes":"No"}}(j),"Bits Per Pixel":function(a){if(11>a.byteLength)return;let b=(7&a.getUint8(10))+1;return{value:b,description:`${b} ${1===b?"bit":"bits"}`}}(j),"Color Resolution Depth":function(a){if(11>a.byteLength)return;let b=((112&a.getUint8(10))>>>4)+1;return{value:b,description:`${b} ${1===b?"bit":"bits"}`}}(j)};b?l.gif=l.gif?Q({},l.gif,c):c:l=Q({},l,c)}let A=cf(l,b);A&&(b?l.composite=A:l=Q({},l,A));let B=ce(a,l.Thumbnail,q);if(B?(k=!0,l.Thumbnail=B):delete l.Thumbnail,n&&(b?(l.file||(l.file={}),l.file.FileType=n):l.FileType=n,k=!0),!k)throw new ci;if(c)return Promise.all(m).then(()=>l);return l;function C(a){b?l.icc=a:l=Q({},l,a)}function D(a){if(b){for(let b of["exif","iptc"]){let c=`__${b}`;a[c]&&(l[b]=l[b]?Q({},l.exif,a[c]):a[c],delete a[c])}l.png=l.png?Q({},l.png,a):a,l.pngText=l.pngText?Q({},l.png,a):a}else l=Q({},l,a.__exif?a.__exif:{},a.__iptc?a.__iptc:{},a),delete l.__exif,delete l.__iptc}}(function(a){try{return new DataView(a)}catch(b){return new K(a)}}(a),b)}function cl(a){return Array.isArray(a)&&a.length>0}function cm(a){return Array.isArray(a)&&a.length>0}var cn=a.i(546081);class co extends cn.TaggedError("ExifParseError"){}class cp extends cn.TaggedError("FileReadError"){}let cq=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],cr=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],cs=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],ct=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],cu=(a,b,c)=>"string"==typeof b||Array.isArray(b)?a.toLocaleString(b,c):!0===b||void 0!==c?a.toLocaleString(void 0,c):String(a),cv=a=>{if("number"==typeof a)return Math.log10(a);let b=a.toString(10);return b.length+Math.log10(Number.parseFloat(`0.${b.slice(0,15)}`))};function cw(a,b){var c;let d;if("bigint"!=typeof a&&!Number.isFinite(a))throw TypeError(`Expected a finite number, got ${typeof a}: ${a}`);let e={bits:!1,binary:!1,space:!0,...b},f=e.bits?e.binary?ct:cs:e.binary?cr:cq,g=e.space?" ":"";if(e.signed&&("number"==typeof a?0===a:0n===a))return` 0${g}${f[0]}`;let h=a<0,i=h?"-":e.signed?"+":"";if(h&&(a=-a),void 0!==e.minimumFractionDigits&&(d={minimumFractionDigits:e.minimumFractionDigits}),void 0!==e.maximumFractionDigits&&(d={maximumFractionDigits:e.maximumFractionDigits,...d}),"number"==typeof a?a<1:a<1n)return i+cu("number"==typeof a?a:Number(a),e.locale,d)+g+f[0];let j=e.binary?1024:1e3,k=Math.min(Math.floor(e.binary?("number"==typeof(c=a)?Math.log(c):cv(c)*Math.log(10))/Math.log(1024):cv(a)/3),f.length-1),l=((a,b)=>{if("number"==typeof a)return a/b;let c=a/BigInt(b),d=a%BigInt(b);return Number(c)+Number(d)/b})(a,j**k);if(!d){let a=Math.max(3,Number.parseInt(String(l),10).toString().length);l=Number(l.toPrecision(a))}return i+cu(Number(l),e.locale,d)+g+f[k]}let cx=G.fn("readFileArrayBuffer")(function*(a){return yield*G.tryPromise({try:()=>a.arrayBuffer(),catch:b=>new cp({message:"Array buffer could not be read",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,phase:"read"})})});a.i(702333);var cy=a.i(829929);let cz=cy.BS.Struct({description:I.String,value:I.Number}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/NumberFileTag"),identifier:"NumberFileTag",title:"Number File Tag",description:"EXIF tag with a numeric value and a human-readable description."}),cA=cy.BS.Struct({description:I.String,value:I.Array(I.Number)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/NumberArrayFileTag"),identifier:"NumberArrayFileTag",title:"Number Array File Tag",description:"EXIF tag with an array of numbers (e.g., resolutions, coordinates)."}),cB=cy.BS.Struct({description:I.String,value:I.Union(I.Array(I.Number),I.Array(I.Array(I.Number)))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/NumberArray2DFileTag"),identifier:"NumberArray2DFileTag",title:"Number Array 2D File Tag",description:"EXIF tag with a 1D or 2D array of numbers (e.g., chroma subsampling)."}),cC=a=>cy.BS.Struct({id:I.Number,description:I.Union(I.String,I.Number),value:a}),cD=cC(I.Tuple(I.Number,I.Number)).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/RationalTag"),identifier:"RationalTag",title:"Rational Tag",description:"Typed EXIF tag whose value is a rational tuple [numerator, denominator] (e.g., shutter speed)."}),cE=cC(I.Number).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/NumberTag"),identifier:"NumberTag",title:"Number Tag",description:"Typed EXIF tag with numeric value."}),cF=cC(I.Array(I.Number)).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/NumberArrayTag"),identifier:"NumberArrayTag",title:"Number Array Tag",description:"Typed EXIF tag with array of numbers."}),cG=cC(I.Array(I.String)).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/StringArrayTag"),identifier:"StringArrayTag",title:"String Array Tag",description:"Typed EXIF tag with array of strings."}),cH=cC(I.String).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/StringTag"),identifier:"StringTag",title:"String Tag",description:"Typed EXIF tag with string value."}),cI=cy.BS.Struct({description:I.String,value:I.Union(I.String,I.Number)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/ValueTag"),identifier:"ValueTag",title:"Value Tag",description:"Generic EXIF tag with a string or numeric value."}),cJ=cy.BS.Struct({value:I.Literal("tiff","jpeg","png","heic","avif","webp","gif"),description:I.Literal("TIFF","JPEG","PNG","HEIC","AVIF","WebP","GIF")}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/FileTypeTag"),identifier:"FileTypeTag",title:"File Type Tag",description:"File container/codec identification reported by the reader."}),cK=cy.BS.Struct({fileType:I.optional(I.Union(cJ,I.Literal("TIFF","JPEG","PNG","HEIC","AVIF","WebP","GIF"))).pipe(I.fromKey("FileType")),bitsPerSample:I.optional(cz).pipe(I.fromKey("Bits Per Sample")),height:I.optional(cz).pipe(I.fromKey("Image Height")),width:I.optional(cz).pipe(I.fromKey("Image Width")),colorComponents:I.optional(cz).pipe(I.fromKey("Color Components")),subsampling:I.optional(cB).pipe(I.fromKey("Subsampling"))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/FileTags"),identifier:"FileTags",title:"File Tags",description:"Basic file-level properties from container headers (dimensions, bit depth, subsampling, etc.)."}),cL=cy.BS.Struct({value:I.Number,description:I.Literal("None","inches","cm","Unknown")}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/JfifResolutionUnitTag"),identifier:"JfifResolutionUnitTag",title:"Jfif Resolution Unit Tag",description:"Resolution unit for JFIF (e.g., inches for DPI, centimeters for DPCM)."}),cM=cy.BS.Struct({value:I.Union(I.instanceOf(ArrayBuffer),I.instanceOf(SharedArrayBuffer),I.instanceOf(Buffer)),description:I.Literal("<24-bit RGB pixel data>")}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/JfifThumbnailTag"),identifier:"JfifThumbnailTag",title:"Jfif Thumbnail Tag",description:"Embedded JFIF thumbnail or raw RGB pixel data from the container."}),cN=cy.BS.Struct({jfifVersion:I.optional(cz).pipe(I.fromKey("JFIF Version")),resolutionUnit:I.optional(cL).pipe(I.fromKey("Resolution Unit")),xResolution:I.optional(cz).pipe(I.fromKey("XResolution")),yResolution:I.optional(cz).pipe(I.fromKey("YResolution")),jfifThumbnailWidth:I.optional(cz).pipe(I.fromKey("JFIF Thumbnail Width")),jfifThumbnailHeight:I.optional(cz).pipe(I.fromKey("JFIF Thumbnail Height")),jfifThumbnail:I.optional(cM).pipe(I.fromKey("JFIF Thumbnail"))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/JfifTags"),identifier:"JfifTags",title:"JFIF Tags",description:"JFIF segment fields including resolution and embedded thumbnail metadata."}),cO=cy.BS.Struct({value:I.Number,description:I.Literal("Grayscale","RGB","Palette","Grayscale with Alpha","RGB with Alpha","Unknown")}),cP=cy.BS.Struct({value:I.Number,description:I.Literal("Deflate/Inflate","Unknown")}),cQ=cy.BS.Struct({value:I.Number,description:I.Literal("Adaptive","Unknown")}),cR=cy.BS.Struct({value:I.Number,description:I.Literal("Noninterlaced","Adam7 Interlace","Unknown")}),cS=cy.BS.Struct({imageWidth:I.optional(cz).pipe(I.fromKey("Image Width")),imageHeight:I.optional(cz).pipe(I.fromKey("Image Height")),bitDepth:I.optional(cz).pipe(I.fromKey("Bit Depth")),colorType:I.optional(cO).pipe(I.fromKey("Color Type")),compression:I.optional(cP).pipe(I.fromKey("Compression")),filter:I.optional(cQ).pipe(I.fromKey("Filter")),interlace:I.optional(cR).pipe(I.fromKey("Interlace"))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PngFileTags"),identifier:"PngFileTags",title:"PNG File Tags",description:"IHDR-level PNG properties: dimensions, bit depth, color type, compression, filter, and interlace."}),cT=cy.BS.Struct({value:I.Number,description:I.Literal("meters","Unknown")}),cU=cy.BS.Struct({pixelsPerUnitX:I.optional(cz).pipe(I.fromKey("Pixels Per Unit X")),pixelsPerUnitY:I.optional(cz).pipe(I.fromKey("Pixels Per Unit Y")),pixelUnits:I.optional(cT).pipe(I.fromKey("Pixel Units")),modifyDate:I.optional(cA).pipe(I.fromKey("Modify Date"))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PngPhysTags"),identifier:"PngPhysTags",title:"PNG Physical Pixel Tags",description:"pHYs chunk-derived physical pixel density and units."}),cV=cy.BS.Struct({description:I.String,value:I.Union(I.String,I.Number)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PngTag"),identifier:"PngTag",title:"PNG Tag",description:"Generic PNG tag with a textual description and a string or numeric value."}),cW=cy.BS.Struct({...cS.fields,...cU.fields},I.Record({key:I.String,value:cV})).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PngTags"),identifier:"PngTags",title:"PNG Tags",description:"Aggregate PNG metadata combining IHDR/pHYs fields and arbitrary tag map."}),cX=cy.BS.Struct({description:I.String,value:I.String}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PngTextTag"),identifier:"PngTextTag",title:"PNG Text Tag",description:"PNG textual metadata entry (tEXt/zTXt/iTXt)."}),cY=I.Record({key:I.String,value:cX}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PngTextTags"),identifier:"PngTextTags",title:"PNG Text Tags",description:"Map of PNG textual metadata entries."}),cZ=cy.BS.Struct({value:I.Literal(0,1),description:I.Literal("No","Yes")}),c$=cy.BS.Struct({value:I.Literal(0,1),description:I.Literal("No","Yes")}),c_=cy.BS.Struct({value:I.Number,description:I.String}),c0=cy.BS.Struct({alpha:I.optional(cZ).pipe(I.fromKey("Alpha")),animation:I.optional(c$).pipe(I.fromKey("Animation")),imageWidth:I.optional(c_).pipe(I.fromKey("ImageWidth")),imageHeight:I.optional(c_).pipe(I.fromKey("ImageHeight"))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/RiffTags"),identifier:"RiffTags",title:"RIFF/WEBP Tags",description:"Basic WEBP/RIFF properties such as alpha, animation, and dimensions."}),c1=cy.BS.Struct({value:I.Literal("87a","89a"),description:I.Literal("87a","89a")}),c2=cy.BS.Struct({value:I.Literal(0,1),description:I.Literal("No","Yes")}),c3=cy.BS.Struct({value:I.Number,description:I.String}),c4=cy.BS.Struct({value:I.Literal(1,2,3,4,5,6,7,8),description:I.String}),c5=cy.BS.Struct({gifVersion:c1.pipe(I.propertySignature,I.fromKey("GIF Version")),imageWidth:I.optional(c3).pipe(I.fromKey("Image Width")),imageHeight:I.optional(c3).pipe(I.fromKey("Image Height")),globalColorMap:I.optional(c2).pipe(I.fromKey("Global Color Map")),bitsPerPixel:I.optional(c4).pipe(I.fromKey("Bits Per Pixel")),colorResolutionDepth:I.optional(c4).pipe(I.fromKey("Color Resolution Depth"))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/GifTags"),identifier:"GifTags",title:"GIF Tags",description:"Core GIF header and logical screen descriptor fields."}),c6=cy.BS.Struct({value:I.Union(I.String,I.Array(I.suspend(()=>c6)),I.Record({key:I.String,value:I.suspend(()=>c6)})),attributes:I.Record({key:I.String,value:I.String}),description:I.String}),c7=I.Record({key:I.String,value:c6}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/XmpTags"),identifier:"XmpTags",title:"XMP Tags",description:"Recursive map of XMP metadata entries (namespaced XML properties)."}),c8=cy.BS.Struct({Latitude:I.optional(I.Number),Longitude:I.optional(I.Number),Altitude:I.optional(I.Number)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/GpsTags"),identifier:"GpsTags",title:"GPS Tags",description:"Simplified GPS coordinate values in decimal degrees and altitude in meters (if present)."}),c9=cy.BS.Struct({value:I.Array(I.Number),description:I.String}),da=cy.BS.Struct({value:I.Number,description:I.String}),db=cy.BS.Struct({ImageFlags:c9,ImageFormat:da,ImageType:da,ImageSize:da,ImageOffset:da,DependentImage1EntryNumber:da,DependentImage2EntryNumber:da,image:I.Union(I.instanceOf(ArrayBuffer),I.instanceOf(SharedArrayBuffer),I.instanceOf(Buffer)),base64:I.String}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/MPFImageTags"),identifier:"MPFImageTags",title:"MPF Image Tags",description:"Multi-Picture Format (MPF) entries for burst/live-photo auxiliary images."}),dc=cy.BS.Struct({PathInformation:I.optional(cH),ClippingPathName:I.optional(cH)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PhotoshopTags"),identifier:"PhotoshopTags",title:"Photoshop Tags",description:"Subset of Photoshop-specific metadata embedded in images."}),dd=cy.BS.Struct({value:I.Number,description:I.Literal("None","Rotate 90 CW","Rotate 180","Rotate 270 CW","Unknown")}),de=cy.BS.Struct({AutoRotate:I.optional(dd)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/CanonTags"),identifier:"CanonTags",title:"Canon Maker Notes",description:"Common Canon-specific maker notes."}),df=cy.BS.Struct({value:I.Array(I.Number),description:I.String}),dg=cy.BS.Struct({value:I.Number,description:I.String}),dh=cy.BS.Struct({value:I.Number,description:I.Literal("Horizontal (normal)","Rotate 270 CW","Rotate 180","Rotate 90 CW","Upwards","Downwards","Unknown")}),di=cy.BS.Struct({value:I.Number,description:I.String}),dj=cy.BS.Struct({PentaxVersion:I.optional(df),PentaxModelID:I.optional(dg),Orientation:I.optional(dh),RollAngle:I.optional(di),PitchAngle:I.optional(di)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/PentaxTags"),identifier:"PentaxTags",title:"Pentax Maker Notes",description:"Common Pentax-specific maker notes (orientation, roll/pitch)."}),dk=cy.BS.Struct({value:I.Number,description:I.String}),dl=cy.BS.Struct({FocalLength35efl:I.optional(dk),ScaleFactorTo35mmEquivalent:I.optional(dk),FieldOfView:I.optional(dk)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/CompositeTags"),identifier:"CompositeTags",title:"Composite Tags",description:"Calculated/composite properties derived from primary EXIF fields."}),dm=cy.BS.Struct({type:I.Literal("image/jpeg"),image:I.Union(I.instanceOf(ArrayBuffer),I.instanceOf(SharedArrayBuffer),I.instanceOf(Buffer)),base64:I.optional(I.String),Compression:I.optional(cE),XResolution:I.optional(cD),YResolution:I.optional(cD),ResolutionUnit:I.optional(cE),JPEGInterchangeFormat:I.optional(cE),JPEGInterchangeFormatLength:I.optional(cE),ImageWidth:I.optional(cE),ImageLength:I.optional(cE),YCbCrPositioning:I.optional(cE),Orientation:I.optional(cE),PhotometricInterpretation:I.optional(cE),StripOffsets:I.optional(cF),SamplesPerPixel:I.optional(cE),RowsPerStrip:I.optional(cE),StripByteCounts:I.optional(cF)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/ThumbnailTags"),identifier:"ThumbnailTags",title:"Thumbnail Tags",description:"Embedded thumbnail metadata and pixel data (image/base64 may be removed by cleaners)."}),dn=I.Record({key:I.String,value:cI}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/IccTags"),identifier:"IccTags",title:"ICC Profile Tags",description:"ICC color profile key-value entries. Large binary fields may be cleaned by utilities."}),dp=cy.BS.Struct({interoperabilityIndex:I.optional(cG).pipe(I.fromKey("InteroperabilityIndex")),imageWidth:I.optional(cE).pipe(I.fromKey("ImageWidth")),imageLength:I.optional(cE).pipe(I.fromKey("ImageLength")),bitsPerSample:I.optional(cF).pipe(I.fromKey("BitsPerSample")),compression:I.optional(cE).pipe(I.fromKey("Compression")),photometricInterpretation:I.optional(cE).pipe(I.fromKey("PhotometricInterpretation")),documentName:I.optional(cG).pipe(I.fromKey("DocumentName")),imageDescription:I.optional(cG).pipe(I.fromKey("ImageDescription")),make:I.optional(cG).pipe(I.fromKey("Make")),model:I.optional(cG).pipe(I.fromKey("Model")),stripOffsets:I.optional(cF).pipe(I.fromKey("StripOffsets")),orientation:I.optional(cE).pipe(I.fromKey("Orientation")),samplesPerPixel:I.optional(cE).pipe(I.fromKey("SamplesPerPixel")),rowsPerStrip:I.optional(cE).pipe(I.fromKey("RowsPerStrip")),stripByteCounts:I.optional(cF).pipe(I.fromKey("StripByteCounts")),xResolution:I.optional(I.Union(cD,cz)).pipe(I.fromKey("XResolution")),yResolution:I.optional(I.Union(cD,cz)).pipe(I.fromKey("YResolution")),planarConfiguration:I.optional(cE).pipe(I.fromKey("PlanarConfiguration")),resolutionUnit:I.optional(cE).pipe(I.fromKey("ResolutionUnit")),transferFunction:I.optional(cF).pipe(I.fromKey("TransferFunction")),software:I.optional(cG).pipe(I.fromKey("Software")),dateTime:I.optional(cG).pipe(I.fromKey("DateTime")),artist:I.optional(cG).pipe(I.fromKey("Artist")),whitePoint:I.optional(cF).pipe(I.fromKey("WhitePoint")),primaryChromaticities:I.optional(cF).pipe(I.fromKey("PrimaryChromaticities")),jpegInterchangeFormat:I.optional(cE).pipe(I.fromKey("JPEGInterchangeFormat")),jpegInterchangeFormatLength:I.optional(cE).pipe(I.fromKey("JPEGInterchangeFormatLength")),yCbCrCoefficients:I.optional(cF).pipe(I.fromKey("YCbCrCoefficients")),yCbCrSubSampling:I.optional(cF).pipe(I.fromKey("YCbCrSubSampling")),yCbCrPositioning:I.optional(cE).pipe(I.fromKey("YCbCrPositioning")),referenceBlackWhite:I.optional(cF).pipe(I.fromKey("ReferenceBlackWhite")),copyright:I.optional(cG).pipe(I.fromKey("Copyright")),exifIfdPointer:I.optional(cE).pipe(I.fromKey("Exif IFD Pointer")),gpsInfoIfdPointer:I.optional(cE).pipe(I.fromKey("GPS Info IFD Pointer")),jfifVersion:I.optional(cz).pipe(I.fromKey("JFIF Version")),jfifResolutionUnit:I.optional(cL).pipe(I.fromKey("Resolution Unit")),jfifThumbnailWidth:I.optional(cz).pipe(I.fromKey("JFIF Thumbnail Width")),jfifThumbnailHeight:I.optional(cz).pipe(I.fromKey("JFIF Thumbnail Height")),jfifThumbnail:I.optional(cM).pipe(I.fromKey("JFIF Thumbnail")),exposureTime:I.optional(cD).pipe(I.fromKey("ExposureTime")),fNumber:I.optional(cD).pipe(I.fromKey("FNumber")),exposureProgram:I.optional(cE).pipe(I.fromKey("ExposureProgram")),spectralSensitivity:I.optional(cG).pipe(I.fromKey("SpectralSensitivity")),isoSpeedRatings:I.optional(I.Union(cE,cF)).pipe(I.fromKey("ISOSpeedRatings")),oecf:I.optional(I.Unknown).pipe(I.fromKey("OECF")),exifVersion:I.optional(cF).pipe(I.fromKey("ExifVersion")),dateTimeOriginal:I.optional(cG).pipe(I.fromKey("DateTimeOriginal")),dateTimeDigitized:I.optional(cG).pipe(I.fromKey("DateTimeDigitized")),componentsConfiguration:I.optional(cF).pipe(I.fromKey("ComponentsConfiguration")),compressedBitsPerPixel:I.optional(cD).pipe(I.fromKey("CompressedBitsPerPixel")),shutterSpeedValue:I.optional(cD).pipe(I.fromKey("ShutterSpeedValue")),apertureValue:I.optional(cD).pipe(I.fromKey("ApertureValue")),brightnessValue:I.optional(cD).pipe(I.fromKey("BrightnessValue")),exposureBiasValue:I.optional(cD).pipe(I.fromKey("ExposureBiasValue")),maxApertureValue:I.optional(cD).pipe(I.fromKey("MaxApertureValue")),subjectDistance:I.optional(cD).pipe(I.fromKey("SubjectDistance")),meteringMode:I.optional(cE).pipe(I.fromKey("MeteringMode")),lightSource:I.optional(cE).pipe(I.fromKey("LightSource")),flash:I.optional(cE).pipe(I.fromKey("Flash")),focalLength:I.optional(cD).pipe(I.fromKey("FocalLength")),subjectArea:I.optional(cF).pipe(I.fromKey("SubjectArea")),makerNote:I.optional(I.Unknown).pipe(I.fromKey("MakerNote")),userComment:I.optional(I.Unknown).pipe(I.fromKey("UserComment")),subSecTime:I.optional(cG).pipe(I.fromKey("SubSecTime")),subSecTimeOriginal:I.optional(cG).pipe(I.fromKey("SubSecTimeOriginal")),subSecTimeDigitized:I.optional(cG).pipe(I.fromKey("SubSecTimeDigitized")),flashpixVersion:I.optional(cF).pipe(I.fromKey("FlashpixVersion")),colorSpace:I.optional(cE).pipe(I.fromKey("ColorSpace")),pixelXDimension:I.optional(cE).pipe(I.fromKey("PixelXDimension")),pixelYDimension:I.optional(cE).pipe(I.fromKey("PixelYDimension")),relatedSoundFile:I.optional(cG).pipe(I.fromKey("RelatedSoundFile")),interoperabilityIfdPointer:I.optional(cE).pipe(I.fromKey("Interoperability IFD Pointer")),flashEnergy:I.optional(cE).pipe(I.fromKey("FlashEnergy")),spatialFrequencyResponse:I.optional(I.Unknown).pipe(I.fromKey("SpatialFrequencyResponse")),focalPlaneXResolution:I.optional(cD).pipe(I.fromKey("FocalPlaneXResolution")),focalPlaneYResolution:I.optional(cD).pipe(I.fromKey("FocalPlaneYResolution")),focalPlaneResolutionUnit:I.optional(cE).pipe(I.fromKey("FocalPlaneResolutionUnit")),subjectLocation:I.optional(cF).pipe(I.fromKey("SubjectLocation")),exposureIndex:I.optional(cD).pipe(I.fromKey("ExposureIndex")),sensingMethod:I.optional(cE).pipe(I.fromKey("SensingMethod")),fileSource:I.optional(cE).pipe(I.fromKey("FileSource")),sceneType:I.optional(cE).pipe(I.fromKey("SceneType")),cfaPattern:I.optional(I.Unknown).pipe(I.fromKey("CFAPattern")),customRendered:I.optional(cE).pipe(I.fromKey("CustomRendered")),exposureMode:I.optional(cE).pipe(I.fromKey("ExposureMode")),whiteBalance:I.optional(cE).pipe(I.fromKey("WhiteBalance")),digitalZoomRatio:I.optional(cD).pipe(I.fromKey("DigitalZoomRatio")),focalLengthIn35mmFilm:I.optional(cE).pipe(I.fromKey("FocalLengthIn35mmFilm")),sceneCaptureType:I.optional(cE).pipe(I.fromKey("SceneCaptureType")),gainControl:I.optional(cE).pipe(I.fromKey("GainControl")),contrast:I.optional(cE).pipe(I.fromKey("Contrast")),saturation:I.optional(cE).pipe(I.fromKey("Saturation")),sharpness:I.optional(cE).pipe(I.fromKey("Sharpness")),deviceSettingDescription:I.optional(I.Unknown).pipe(I.fromKey("DeviceSettingDescription")),subjectDistanceRange:I.optional(cE).pipe(I.fromKey("SubjectDistanceRange")),imageUniqueId:I.optional(cG).pipe(I.fromKey("ImageUniqueID")),lensMake:I.optional(cG).pipe(I.fromKey("LensMake")),lensModel:I.optional(cG).pipe(I.fromKey("LensModel")),offsetTime:I.optional(cG).pipe(I.fromKey("OffsetTime")),offsetTimeDigitized:I.optional(cG).pipe(I.fromKey("OffsetTimeDigitized")),offsetTimeOriginal:I.optional(cG).pipe(I.fromKey("OffsetTimeOriginal")),gpsHPositioningError:I.optional(cF).pipe(I.fromKey("GPSHPositioningError")),gpsVersionId:I.optional(cE).pipe(I.fromKey("GPSVersionID")),gpsLatitudeRef:I.optional(cG).pipe(I.fromKey("GPSLatitudeRef")),gpsLatitude:I.optional(cC(I.Tuple(I.Tuple(I.Number,I.Number),I.Tuple(I.Number,I.Number),I.Tuple(I.Number,I.Number)))).pipe(I.fromKey("GPSLatitude")),gpsLongitudeRef:I.optional(cG).pipe(I.fromKey("GPSLongitudeRef")),gpsLongitude:I.optional(cC(I.Tuple(I.Tuple(I.Number,I.Number),I.Tuple(I.Number,I.Number),I.Tuple(I.Number,I.Number)))).pipe(I.fromKey("GPSLongitude")),gpsAltitudeRef:I.optional(cE).pipe(I.fromKey("GPSAltitudeRef")),gpsAltitude:I.optional(cD).pipe(I.fromKey("GPSAltitude")),gpsTimeStamp:I.optional(cF).pipe(I.fromKey("GPSTimeStamp")),gpsSatellites:I.optional(cG).pipe(I.fromKey("GPSSatellites")),gpsStatus:I.optional(cG).pipe(I.fromKey("GPSStatus")),gpsMeasureMode:I.optional(cG).pipe(I.fromKey("GPSMeasureMode")),gpsDop:I.optional(cE).pipe(I.fromKey("GPSDOP")),gpsSpeedRef:I.optional(cG).pipe(I.fromKey("GPSSpeedRef")),gpsSpeed:I.optional(cE).pipe(I.fromKey("GPSSpeed")),gpsTrackRef:I.optional(cG).pipe(I.fromKey("GPSTrackRef")),gpsTrack:I.optional(cE).pipe(I.fromKey("GPSTrack")),gpsImgDirectionRef:I.optional(cG).pipe(I.fromKey("GPSImgDirectionRef")),gpsImgDirection:I.optional(cD).pipe(I.fromKey("GPSImgDirection")),gpsMapDatum:I.optional(cG).pipe(I.fromKey("GPSMapDatum")),gpsDestLatitudeRef:I.optional(cG).pipe(I.fromKey("GPSDestLatitudeRef")),gpsDestLatitude:I.optional(cF).pipe(I.fromKey("GPSDestLatitude")),gpsDestLongitudeRef:I.optional(cG).pipe(I.fromKey("GPSDestLongitudeRef")),gpsDestLongitude:I.optional(cF).pipe(I.fromKey("GPSDestLongitude")),gpsDestBearingRef:I.optional(cG).pipe(I.fromKey("GPSDestBearingRef")),gpsDestBearing:I.optional(cE).pipe(I.fromKey("GPSDestBearing")),gpsDestDistanceRef:I.optional(cG).pipe(I.fromKey("GPSDestDistanceRef")),gpsDestDistance:I.optional(cE).pipe(I.fromKey("GPSDestDistance")),gpsProcessingMethod:I.optional(I.Unknown).pipe(I.fromKey("GPSProcessingMethod")),gpsAreaInformation:I.optional(I.Unknown).pipe(I.fromKey("GPSAreaInformation")),gpsDateStamp:I.optional(cG).pipe(I.fromKey("GPSDateStamp")),gpsDifferential:I.optional(cE).pipe(I.fromKey("GPSDifferential")),mpfVersion:I.optional(cF).pipe(I.fromKey("MPFVersion")),numberOfImages:I.optional(cE).pipe(I.fromKey("NumberOfImages")),mpEntry:I.optional(cF).pipe(I.fromKey("MPEntry")),imageUidList:I.optional(cF).pipe(I.fromKey("ImageUIDList")),totalFrames:I.optional(cE).pipe(I.fromKey("TotalFrames")),images:I.optional(I.Array(db)).pipe(I.fromKey("Images")),modelVersion:I.optional(cF).pipe(I.fromKey("Model Version")),destination:I.optional(cF).pipe(I.fromKey("Destination")),fileFormat:I.optional(cF).pipe(I.fromKey("File Format")),fileFormatVersion:I.optional(cF).pipe(I.fromKey("File Format Version")),serviceIdentifier:I.optional(cF).pipe(I.fromKey("Service Identifier")),envelopeNumber:I.optional(cF).pipe(I.fromKey("Envelope Number")),productId:I.optional(cF).pipe(I.fromKey("Product ID")),envelopePriority:I.optional(cF).pipe(I.fromKey("Envelope Priority")),dateSent:I.optional(cF).pipe(I.fromKey("Date Sent")),timeSent:I.optional(cF).pipe(I.fromKey("Time Sent")),codedCharacterSet:I.optional(cF).pipe(I.fromKey("Coded Character Set")),uno:I.optional(cF).pipe(I.fromKey("UNO")),armIdentifier:I.optional(cF).pipe(I.fromKey("ARM Identifier")),armVersion:I.optional(cF).pipe(I.fromKey("ARM Version")),recordVersion:I.optional(cF).pipe(I.fromKey("Record Version")),objectTypeReference:I.optional(cF).pipe(I.fromKey("Object Type Reference")),objectAttributeReference:I.optional(cF).pipe(I.fromKey("Object Attribute Reference")),objectName:I.optional(cF).pipe(I.fromKey("Object Name")),editStatus:I.optional(cF).pipe(I.fromKey("Edit Status")),editorialUpdate:I.optional(cF).pipe(I.fromKey("Editorial Update")),urgency:I.optional(cF).pipe(I.fromKey("Urgency")),subjectReference:I.optional(cF).pipe(I.fromKey("Subject Reference")),category:I.optional(cF).pipe(I.fromKey("Category")),supplementalCategory:I.optional(cF).pipe(I.fromKey("Supplemental Category")),fixtureIdentifier:I.optional(cF).pipe(I.fromKey("Fixture Identifier")),keywords:I.optional(I.Union(cF,I.Array(cF))).pipe(I.fromKey("Keywords")),contentLocationCode:I.optional(cF).pipe(I.fromKey("Content Location Code")),contentLocationName:I.optional(cF).pipe(I.fromKey("Content Location Name")),releaseDate:I.optional(cF).pipe(I.fromKey("Release Date")),releaseTime:I.optional(cF).pipe(I.fromKey("Release Time")),expirationDate:I.optional(cF).pipe(I.fromKey("Expiration Date")),expirationTime:I.optional(cF).pipe(I.fromKey("Expiration Time")),specialInstructions:I.optional(cF).pipe(I.fromKey("Special Instructions")),actionAdvised:I.optional(cF).pipe(I.fromKey("Action Advised")),referenceService:I.optional(cF).pipe(I.fromKey("Reference Service")),referenceDate:I.optional(cF).pipe(I.fromKey("Reference Date")),referenceNumber:I.optional(cF).pipe(I.fromKey("Reference Number")),dateCreated:I.optional(cF).pipe(I.fromKey("Date Created")),timeCreated:I.optional(cF).pipe(I.fromKey("Time Created")),digitalCreationDate:I.optional(cF).pipe(I.fromKey("Digital Creation Date")),digitalCreationTime:I.optional(cF).pipe(I.fromKey("Digital Creation Time")),originatingProgram:I.optional(cF).pipe(I.fromKey("Originating Program")),programVersion:I.optional(cF).pipe(I.fromKey("Program Version")),objectCycle:I.optional(cF).pipe(I.fromKey("Object Cycle")),byline:I.optional(cF).pipe(I.fromKey("By-line")),bylineTitle:I.optional(cF).pipe(I.fromKey("By-line Title")),city:I.optional(cF).pipe(I.fromKey("City")),subLocation:I.optional(cF).pipe(I.fromKey("Sub-location")),provinceState:I.optional(cF).pipe(I.fromKey("Province/State")),countryPrimaryLocationCode:I.optional(cF).pipe(I.fromKey("Country/Primary Location Code")),countryPrimaryLocationName:I.optional(cF).pipe(I.fromKey("Country/Primary Location Name")),originalTransmissionReference:I.optional(cF).pipe(I.fromKey("Original Transmission Reference")),headline:I.optional(cF).pipe(I.fromKey("Headline")),credit:I.optional(cF).pipe(I.fromKey("Credit")),source:I.optional(cF).pipe(I.fromKey("Source")),copyrightNotice:I.optional(cF).pipe(I.fromKey("Copyright Notice")),contact:I.optional(cF).pipe(I.fromKey("Contact")),captionAbstract:I.optional(cF).pipe(I.fromKey("Caption/Abstract")),writerEditor:I.optional(cF).pipe(I.fromKey("Writer/Editor")),rasterizedCaption:I.optional(cF).pipe(I.fromKey("Rasterized Caption")),imageType:I.optional(cF).pipe(I.fromKey("Image Type")),imageOrientation:I.optional(cF).pipe(I.fromKey("Image Orientation")),languageIdentifier:I.optional(cF).pipe(I.fromKey("Language Identifier")),audioType:I.optional(cF).pipe(I.fromKey("Audio Type")),audioSamplingRate:I.optional(cF).pipe(I.fromKey("Audio Sampling Rate")),audioSamplingResolution:I.optional(cF).pipe(I.fromKey("Audio Sampling Resolution")),audioDuration:I.optional(cF).pipe(I.fromKey("Audio Duration")),audioOutcue:I.optional(cF).pipe(I.fromKey("Audio Outcue")),shortDocumentId:I.optional(cF).pipe(I.fromKey("Short Document ID")),uniqueDocumentId:I.optional(cF).pipe(I.fromKey("Unique Document ID")),ownerId:I.optional(cF).pipe(I.fromKey("Owner ID")),objectDataPreviewFileFormat:I.optional(cF).pipe(I.fromKey("ObjectData Preview File Format")),record2Destination:I.optional(cF).pipe(I.fromKey("Record 2 destination")),objectDataPreviewFileFormatVersion:I.optional(cF).pipe(I.fromKey("ObjectData Preview File Format Version")),objectDataPreviewData:I.optional(cF).pipe(I.fromKey("ObjectData Preview Data")),sizeMode:I.optional(cF).pipe(I.fromKey("Size Mode")),maxSubfileSize:I.optional(cF).pipe(I.fromKey("Max Subfile Size")),objectDataSizeAnnounced:I.optional(cF).pipe(I.fromKey("ObjectData Size Announced")),maximumObjectDataSize:I.optional(cF).pipe(I.fromKey("Maximum ObjectData Size")),thumbnail:I.optional(dm).pipe(I.fromKey("Thumbnail"))}),dq=cy.BS.Struct({file:I.optional(cK),jfif:I.optional(cN),pngFile:I.optional(cS),pngText:I.optional(cY),png:I.optional(cW),exif:I.optional(dp),iptc:I.optional(dp),xmp:I.optional(I.Union(cy.BS.Json,cy.BS.Struct({_raw:I.String},I.Record({key:I.String,value:c6})),I.String)),icc:I.optional(dn),riff:I.optional(c0),gif:I.optional(c5),Thumbnail:I.optional(dm),gps:I.optional(c8),photoshop:I.optional(dc),makerNotes:I.optional(cy.BS.Struct({...de.fields,...dj.fields})),composite:I.optional(dl)}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/ExpandedTags"),identifier:"ExpandedTags",title:"Expanded EXIF Metadata",description:"High-level structure compatible with ExifReader's expanded output across multiple containers."});cy.BS.Struct({...c7.fields,...dn.fields,...cW.fields,...c0.fields,...c5.fields,...dc.fields,...de.fields,...dj.fields,...dl.fields,Thumbnail:I.optional(dm),Images:I.optional(I.Array(db))}).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifTags/Tags"),identifier:"Tags",title:"Combined Tags",description:"Flattened union of container-specific tag maps for convenience."});let dr=["base64","image","thumbnailImage","preview","previewImage","rawImage","blob","buffer","data","binaryData","iccProfile","colorProfile","embeddedImage","makerNoteImage"],ds=a=>{let b=a.toLowerCase();return"thumbnail"!==b&&(dr.some(a=>b.includes(a.toLowerCase()))||b.endsWith("image")||b.includes("base64"))},dt=a=>a instanceof ArrayBuffer||a instanceof Uint8Array?a.byteLength>1024:"string"==typeof a&&(a.length>1024||/^[A-Za-z0-9+/]+=*$/.test(a)&&a.length>100),du=a=>{let b={};for(let[c,d]of Object.entries(a))!ds(c)&&(dt(d)||(d&&"object"==typeof d&&!Array.isArray(d)?b[c]=du(d):Array.isArray(d)?b[c]=d.filter(a=>!dt(a)).map(a=>a&&"object"==typeof a&&!Array.isArray(a)?du(a):a):b[c]=d));return b},dv=a=>a&&"object"==typeof a?du(a):a,dw=a=>{let b={...a};if(H.isNotNullable(b.icc)&&"object"==typeof b.icc&&(b={...b,icc:J.omit("base64","data","buffer")(b.icc)}),H.isNotNullable(b.xmp)&&"object"==typeof b.xmp&&(b={...b,xmp:J.omit("base64","rawXml","data")(b.xmp)}),H.isNotNullable(b.iptc)&&"object"==typeof b.iptc&&(b={...b,iptc:J.omit("base64","data","buffer")(b.iptc)}),H.isNotNullable(b.thumbnail)&&"object"==typeof b.thumbnail&&(b={...b,thumbnail:J.omit("image","base64","blob","buffer")(b.thumbnail)}),H.isNotNullable(b.exif)&&"object"==typeof b.exif){let a=du(b.exif);b={...b,exif:a}}return b};class dx extends dq.annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/exif-metadata/ExifMetadata"),identifier:"ExifMetadata",title:"EXIF Metadata",description:"EXIF metadata extracted from an image file."}){static cleanExifData=dv;static omitKnownLargeFields=dw;static isLargeDataField=ds;static isLargeDataValue=dt;static omitLargeDataFromObject=du;static extractMetadata=G.fn("extractMetadata")(function*(a){let b=yield*cx(a),c=dv((yield*G.try({try:()=>cj(b,{expanded:!0}),catch:b=>new co({message:"Could not parse EXIF data",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,phase:"parse"})})));return yield*I.decodeUnknown(dx)(c).pipe(G.mapError(b=>new co({message:"Could not decode EXIF data to schema",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,phase:"decode"})))})}var dy=cy,dz=I;class dA extends dy.BS.Class("FileAttributes")({size:dz.NonNegativeInt,type:dy.BS.MimeType,lastModifiedDate:dy.BS.DateFromAllAcceptable,lastModified:dy.BS.DateFromAllAcceptable,name:dz.NonEmptyString,webkitRelativePath:dz.optional(dz.NonEmptyString),relativePath:dz.optional(dz.NonEmptyString),path:dz.optional(dz.NonEmptyString)},{schemaId:Symbol.for("@beep/files-domain/value-objects/FileAttributes"),identifier:"FileAttributes",title:"FileAttributes",description:"File attributes schema"}){}var dB=I;class dC extends dB.declare(a=>a instanceof File).annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/FileInstance"),identifier:"FileInstance",title:"FileInstance",description:"Base file instance schema"}){}let dD=cy.BS.stringLiteralKit("B","kB","MB","GB","TB","PB","EB","ZB","YB");class dE extends dD.Schema.annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/ByteUnit"),identifier:"ByteUnit",title:"Byte Unit — SI (Decimal, base‑10)",description:"Byte units using SI decimal prefixes for file sizes: B, kB, MB, GB, TB, PB, EB, ZB, YB. Uses powers of 10 (1 kB = 1,000 B; 1 MB = 1,000,000 B). Prefer for storage/device specs and end‑user file size displays. Case‑sensitive: 'B' means byte (8 bits)."}){static Options=dD.Options;static Enum=dD.Enum}let dF=cy.BS.stringLiteralKit("B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB");class dG extends dF.Schema.annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/BiByteUnit"),identifier:"BiByteUnit",title:"Byte Unit — IEC (Binary, base‑2)",description:"Byte units using IEC binary prefixes: B, KiB, MiB, GiB, TiB, PiB, EiB, ZiB, YiB. Uses powers of 2 (1 KiB = 1,024 B; 1 MiB = 1,024 KiB). Prefer for memory sizes and contexts requiring exact powers‑of‑two semantics. Case‑sensitive: 'B' means byte (8 bits)."}){static Options=dF.Options;static Enum=dF.Enum}let dH=cy.BS.stringLiteralKit("b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit");class dI extends dH.Schema.annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/BitUnit"),identifier:"BitUnit",title:"Bit Unit — SI (Decimal, base‑10)",description:"Bit units with SI decimal prefixes, commonly used for data rates: b, kbit, Mbit, Gbit, Tbit, Pbit, Ebit, Zbit, Ybit. Uses powers of 10 (1 kbit = 1,000 b). Case‑sensitive: 'b' means bit; 8 bits = 1 byte. Practical rule of thumb: MB/s ≈ Mb/s ÷ 8."}){static Options=dH.Options;static Enum=dH.Enum}let dJ=cy.BS.stringLiteralKit("b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit");class dK extends dJ.Schema.annotations({schemaId:Symbol.for("@beep/files-domain/value-objects/BiBitUnit"),identifier:"BiBitUnit",title:"Bit Unit — IEC (Binary, base‑2)",description:"Bit units with IEC binary prefixes: b, kibit, Mibit, Gibit, Tibit, Pibit, Eibit, Zibit, Yibit. Uses powers of 2 (1 kibit = 1,024 b). Less common than decimal bit units; use when exact base‑2 bit counts are required. Case‑sensitive: 'b' means bit."}){static Options=dJ.Options;static Enum=dJ.Enum}var dL=cy,dM=I,dN=I;class dO extends dN.Class("FileSignature")({sequence:dN.Array(dN.Union(dN.Number,dN.NonEmptyString)),offset:dN.optional(dN.Int.pipe(dN.greaterThan(0))),skippedBytes:dN.optional(dN.Array(dN.Int.pipe(dN.greaterThan(0)))),description:dN.optional(dN.NonEmptyString),compatibleExtensions:dN.optional(dN.NonEmptyArray(dN.String))},{schemaId:Symbol.for("@beep/files-domain/value-objects/file-types/FileSignature"),identifier:"FileSignature",title:"File Signature",description:"File signature"}){}class dP extends dM.Class("FileInfo")({extension:dL.BS.FileExtension,mimeType:dL.BS.MimeType,description:dM.NonEmptyString,signatures:dM.Array(dO)},{schemaId:Symbol.for("@beep/files-domain/value-objects/file-types/FileInfo"),identifier:"FileInfo",title:"File Info",description:"File information"}){}dM.Class("DetectedFileInfo")({extension:dL.BS.FileExtension,mimeType:dL.BS.MimeType,description:dM.String,signature:dO},{schemaId:Symbol.for("@beep/files-domain/value-objects/file-types/DetectedFileInfo"),identifier:"DetectedFileInfo",title:"Detected File Info",description:"File information detected by signature"});var dQ=cn,dR=a.i(524263);function dS(a,b=32){let c=a instanceof ArrayBuffer?new Uint8Array(a):a,d=[];if(H.or(H.and(dR.isArray,cy.BS.ArrayOfNumbers.is),H.or(cy.BS.ArrBuffer.is,cy.BS.Uint8Arr.is))(a))d=Array.from(c.slice(0,b));else throw TypeError(`Expected the \`file\` argument to be of type \`Array<number>\`, \`Uint8Array\`, or \`ArrayBuffer\`, got \`${typeof a}\``);if(!d.every(a=>H.and(H.isNumber,H.not(Number.isNaN))(a)))throw TypeError("File content contains illegal values");return d}function dT(a,b){let c=b.indexOf(".");return c>-1?dT(a[b.slice(0,c)],b.slice(c+1)):a[b]}function dU(a){let b=a.map(a=>String.fromCharCode(a)).join("");return b.includes("webm")?"webm":b.includes("matroska")?"mkv":void 0}function dV(a){return"ftypavif"===a.slice(4,12).map(a=>String.fromCharCode(a)).join("")}class dW extends dQ.TaggedClass("VideoTypes"){static AVI=dP.make({extension:"avi",mimeType:"video/x-msvideo",description:"Audio Video Interleave video format",signatures:[dO.make({sequence:[82,73,70,70,65,86,73,32,76,73,83,84],skippedBytes:[4,5,6,7]})]});static FLV=dP.make({extension:"flv",mimeType:"video/x-flv",description:"Flash Video file",signatures:[dO.make({sequence:[70,76,86,1]}),dO.make({sequence:[102,116,121,112,77,52,86,32],description:"ISO Media, MPEG v4 system, or iTunes AVC-LC file",offset:4,compatibleExtensions:["mp4","m4v"]})]});static M4V=dP.make({extension:"m4v",mimeType:"video/x-m4v",description:"Apple's video container format, very similar to MP4",signatures:[dO.make({sequence:[102,116,121,112,109,112,52,50],description:"MPEG-4 video | QuickTime file",offset:4,compatibleExtensions:["mp4"]}),dO.make({sequence:[102,116,121,112,77,52,86,32],description:"ISO Media, MPEG v4 system, or iTunes AVC-LC file",offset:4,compatibleExtensions:["mp4","flv"]})]});static MKV=dP.make({extension:"mkv",mimeType:"video/x-matroska",description:"MKV (Matroska Video) is a flexible, open-source media container format that supports multiple audio, video, and subtitle streams in a single file",signatures:[dO.make({sequence:[26,69,223,163],description:"EBML identifier",compatibleExtensions:["webm","mka","mks","mk3d"]})]});static MOV=dP.make({extension:"mov",mimeType:"video/quicktime",description:"QuickTime movie file",signatures:[dO.make({sequence:[102,116,121,112,113,116,32,32],offset:4}),dO.make({sequence:[109,111,111,118],offset:4})]});static MP4=dP.make({extension:"mp4",mimeType:"video/mp4",description:"A multimedia container format widely used for storing audio, video, and other data, and is known for its high compression efficiency and compatibility with many devices",signatures:[dO.make({sequence:[102,116,121,112,77,83,78,86],description:"MPEG-4 video file",offset:4}),dO.make({sequence:[102,116,121,112,105,115,111,109],description:"ISO Base Media file (MPEG-4) v1",offset:4}),dO.make({sequence:[102,116,121,112,77,52,86,32],description:"ISO Media, MPEG v4 system, or iTunes AVC-LC file",offset:4,compatibleExtensions:["m4v","flv"]})]});static OGG=dP.make({extension:"ogg",mimeType:"video/ogg",description:"Ogg Vorbis Codec compressed Multimedia file",signatures:[dO.make({sequence:[79,103,103,83,0,2,0,0,0,0,0,0,0,0],compatibleExtensions:["oga","ogv","ogx"]})]});static SWF=dP.make({extension:"swf",mimeType:"application/x-shockwave-flash",description:"SWF (Shockwave Flash) is a file format for multimedia, vector graphics, and ActionScript, used for creating and delivering animations, games, and other interactive web-based content",signatures:[dO.make({sequence:[67,87,83],description:"Macromedia Shockwave Flash player file (zlib compressed, SWF 6 and later)"}),dO.make({sequence:[70,87,83],description:"Macromedia Shockwave Flash player file (uncompressed)"}),dO.make({sequence:[90,87,83],description:"Macromedia Shockwave Flash player file (uncompressed)"})]});static WEBM=dP.make({extension:"webm",mimeType:"video/webm",description:"WebM is a royalty-free, open-source media file format optimized for web delivery, using efficient VP8 video and Vorbis audio codecs",signatures:[dO.make({sequence:[26,69,223,163],description:"EBML identifier",compatibleExtensions:["mkv"]})]})}class dX{static BLEND=dP.make({extension:"blend",mimeType:"application/x-blender",description:"Blender File Format",signatures:[dO.make({sequence:[66,76,69,78,68,69,82]})]});static DOC=dP.make({extension:"doc",mimeType:"application/msword",description:"Old Microsoft Word documents",signatures:[dO.make({sequence:[208,207,17,224,161,177,26,225],compatibleExtensions:["xls","ppt","msi","msg","dot","pps","xla","wiz"],description:"An Object Linking and Embedding (OLE) Compound File (CF) (i.e., OLECF) file format, known as Compound Binary File format by Microsoft, used by Microsoft Office 97-2003 applications"}),dO.make({sequence:[219,165,45,0],description:"Microsoft Word 2.0 file format"})]});static ELF=dP.make({extension:"elf",mimeType:"application/x-executable",description:"Executable and Linking Format executable file (Linux/Unix)",signatures:[dO.make({sequence:[127,69,76,70]})]});static EXE=dP.make({extension:"exe",mimeType:"application/x-msdownload",description:"Windows/DOS executable file and its descendants",signatures:[dO.make({sequence:[77,90],compatibleExtensions:["acm","ax","cpl","com","dll","drv","efi","fon","iec","ime","mui","ocx","olb","pif","qts","qtx","rs","sys","scr","tsp","vbx","vxd"]}),dO.make({sequence:[90,77],description:"DOS ZM executable (rare)"})]});static INDD=dP.make({extension:"indd",mimeType:"application/x-indesign",description:"Adobe InDesign document",signatures:[dO.make({sequence:[6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29],compatibleExtensions:["indt"]})]});static MACHO=dP.make({extension:"macho",mimeType:"application/x-mach-binary",description:"Apple OS X ABI Mach-O binary file",signatures:[dO.make({sequence:[254,237,250,206],description:"32-bit"}),dO.make({sequence:[206,250,237,254],description:"32-bit, where target system has reverse byte ordering from host running compiler"}),dO.make({sequence:[254,237,250,207],description:"64-bit"}),dO.make({sequence:[207,250,237,254],description:"64-bit, where target system has reverse byte ordering from host running compiler"}),dO.make({sequence:[202,254,186,190],description:"Mach-O Fat Binary"})]});static PDF=dP.make({extension:"pdf",mimeType:"application/pdf",description:"Portable Document Format",signatures:[dO.make({sequence:[37,80,68,70,45]})]});static ORC=dP.make({extension:"orc",mimeType:"application/x-orc",description:"Apache ORC (Optimized Row Columnar) file format for columnar storage",signatures:[dO.make({sequence:[79,82,67]})]});static PARQUET=dP.make({extension:"parquet",mimeType:"application/vnd.apache.parquet",description:"Apache Parquet file format for columnar storage",signatures:[dO.make({sequence:[80,65,82,49]})]});static PS=dP.make({extension:"ps",mimeType:"application/postscript",description:"PostScript document",signatures:[dO.make({sequence:[37,33,80,83]})]});static RTF=dP.make({extension:"rtf",mimeType:"application/rtf",description:"Rich Text Format word processing file",signatures:[dO.make({sequence:[123,92,114,116,102,49]})]});static SQLITE=dP.make({extension:"sqlite",mimeType:"application/x-sqlite3",description:"SQLite database file",signatures:[dO.make({sequence:[83,81,76,105,116,101,32,102,111,114,109,97,116,32,51,0]})]});static STL=dP.make({extension:"stl",mimeType:"application/sla",description:"ASCII STL (STereoLithography) file for 3D printing",signatures:[dO.make({sequence:[115,111,108,105,100]})]});static TTF=dP.make({extension:"ttf",mimeType:"application/x-font-ttf",description:"TrueType font file",signatures:[dO.make({sequence:[116,114,117,101,0]}),dO.make({sequence:[0,1,0,0,0],compatibleExtensions:["tte, dfont"]})]});static PCAP=dP.make({extension:"pcap",mimeType:"application/vnd.tcpdump.pcap",description:"Libpcap File Format",signatures:[dO.make({sequence:[212,195,178,161]}),dO.make({sequence:[77,60,178,161],description:"Nanosecond resolution"})]})}class dY extends dQ.TaggedClass("FileInfo"){static AVIF=dP.make({extension:"avif",mimeType:"image/avif",description:"Alliance for Open Media (AOMedia) Video 1 (AV1) Image File",signatures:[dO.make({sequence:[0,0,0]})]});static BMP=dP.make({extension:"bmp",mimeType:"image/bmp",description:"A bitmap format used mostly in Windows",signatures:[dO.make({sequence:[66,77],compatibleExtensions:["dib"]})]});static BPG=dP.make({extension:"bpg",mimeType:"image/bpg",description:"Better Portable Graphics image format",signatures:[dO.make({sequence:[66,80,71,251]})]});static CR2=dP.make({extension:"cr2",mimeType:"image/x-canon-cr2",description:"Canon digital camera RAW file",signatures:[dO.make({sequence:[73,73,42,0,16,0,0,0,67,82]})]});static EXR=dP.make({extension:"exr",mimeType:"image/x-exr",description:"OpenEXR bitmap image format",signatures:[dO.make({sequence:[118,47,49,1]})]});static GIF=dP.make({extension:"gif",mimeType:"image/gif",description:"Image file encoded in the Graphics Interchange Format (GIF)",signatures:[dO.make({sequence:[71,73,70,56,55,97]}),dO.make({sequence:[71,73,70,56,57,97]})]});static HEIC=dP.make({extension:"heic",mimeType:"image/heic",description:"A variant of the HEIF (High Efficiency Image Format) that store images on the latest Apple devices.",signatures:[dO.make({sequence:[102,116,121,112,104,101,105,99],offset:4}),dO.make({sequence:[102,116,121,112,109],offset:4})]});static ICO=dP.make({extension:"ico",mimeType:"image/x-icon",description:"Computer icon encoded in ICO file format",signatures:[dO.make({sequence:[0,0,1,0],compatibleExtensions:["spl"]})]});static JPEG=dP.make({extension:"jpeg",mimeType:"image/jpeg",description:"JPEG (Joint Photographic Experts Group) is a widely used lossy image compression format.",signatures:[dO.make({sequence:[255,216,255,225,69,120,105,102,0],skippedBytes:[4,5],description:"Digital camera JPG using Exchangeable Image File Format (EXIF)"}),dO.make({sequence:[255,216,255,232,83,80,73,70,70,0],skippedBytes:[4,5],description:"Still Picture Interchange File Format (SPIFF)"}),dO.make({sequence:[255,216,255,224,0,16,74,70,73,70,0,0],description:"JPEG raw or in the JFIF or Exif file format"}),dO.make({sequence:[255,216,255,238],description:"JPEG raw or in the JFIF or Exif file format"}),dO.make({sequence:[255,216,255,225,69,120,105,102,0,0],skippedBytes:[4,5],description:"JPEG raw or in the JFIF or Exif file format"}),dO.make({sequence:[255,216,255,224,74,70,73,70,0],skippedBytes:[4,5],description:"JPEG/JFIF graphics file",compatibleExtensions:["jfif","jpe"]}),dO.make({sequence:[255,216,255,224],description:"JPEG raw or in the JFIF or Exif file format"}),dO.make({sequence:[255,216],description:"Generic JPEGimage file",compatibleExtensions:["jpe"]})]});static PBM=dP.make({extension:"pbm",mimeType:"image/x-portable-bitmap",description:"PBM (Portable Bitmap) is a simple monochrome bitmap image format that uses plain text ASCII characters to represent binary image data",signatures:[dO.make({sequence:[80,49,10],description:"Portable bitmap ASCII"}),dO.make({sequence:[80,52,10],description:"Portable bitmap binary"})]});static PGM=dP.make({extension:"pgm",mimeType:"image/x-portable-graymap",description:"PGM (Portable Graymap) is a simple grayscale image format that uses ASCII text characters to represent binary image data.",signatures:[dO.make({sequence:[80,50,10],description:"Portable Gray Map ASCII"}),dO.make({sequence:[80,53,10],description:"Portable Gray Map binary"})]});static PNG=dP.make({extension:"png",mimeType:"image/png",description:"PNG (Portable Network Graphics) is a lossless image compression format that supports a wide range of color depths and transparency and is widely used for high-quality graphics.",signatures:[dO.make({sequence:[137,80,78,71,13,10,26,10]})]});static PPM=dP.make({extension:"ppm",mimeType:"image/x-portable-pixmap",description:"PPM (Portable Pixmap) is a simple color image format in the Portable Network Graphics (PNG) suite.",signatures:[dO.make({sequence:[80,51,10],description:"Portable Pixmap ASCII"}),dO.make({sequence:[80,54,10],description:"Portable Pixmap binary"})]});static PSD=dP.make({extension:"psd",mimeType:"image/vnd.adobe.photoshop",description:"PSD (Photoshop Document) is an Adobe Photoshop image file format",signatures:[dO.make({sequence:[56,66,80,83]})]});static WEBP=dP.make({extension:"webp",mimeType:"image/webp",description:"A modern image format that provides superior lossless and lossy compression for images on the web",signatures:[dO.make({sequence:[82,73,70,70,87,69,66,80],skippedBytes:[4,5,6,7]})]})}class dZ extends dQ.TaggedClass("CompressedTypes"){static _7Z=dP.make({extension:"7z",mimeType:"application/x-7z-compressed",description:"7-Zip compressed file",signatures:[dO.make({sequence:[55,122,188,175,39,28]})]});static LZH=dP.make({extension:"lzh",mimeType:"application/x-lzh-compressed",description:"Compressed file using Lempel-Ziv and Haruyasu (LZH) compression algorithm",signatures:[dO.make({sequence:[45,104,108,48,45],description:"Lempel Ziv Huffman archive file Method 0 (No compression)",compatibleExtensions:["lha"]}),dO.make({sequence:[45,104,108,53,45],description:"Lempel Ziv Huffman archive file Method 5 (8KiB sliding window)",compatibleExtensions:["lha"]})]});static RAR=dP.make({extension:"rar",mimeType:"application/x-rar-compressed",description:"Roshal ARchive compressed archive file",signatures:[dO.make({sequence:[82,97,114,33,26,7,0],description:"Compressed archive v5.00 onwards"}),dO.make({sequence:[82,97,114,33,26,7,1,0],description:"Compressed archive v1.50 onwards"})]});static ZIP=dP.make({extension:"zip",mimeType:"application/zip",description:"Compressed archive file",signatures:[dO.make({sequence:[87,105,110,90,105,112],offset:29152,description:"WinZip compressed archive"}),dO.make({sequence:[80,75,3,4,20,0,1,0,99,0,0,0,0,0],description:"ZLock Pro encrypted ZIP"}),dO.make({sequence:[80,75,76,73,84,69],offset:30,description:"PKLITE compressed ZIP archive (see also PKZIP)"}),dO.make({sequence:[80,75,83,112,88],offset:526,description:"PKSFX self-extracting executable compressed file (see also PKZIP)"}),dO.make({sequence:[80,75,3,4],description:"PKZIP archive file - zip file format and multiple formats based on it",compatibleExtensions:["aar","apk","docx","epub","ipa","jar","kmz","maff","msix","odp","ods","odt","pk3","pk4","pptx","usdz","vsdx","xlsx","xpi"]}),dO.make({sequence:[80,75,5,6],description:"PKZIP empty archive file - zip file format and multiple formats based on it",compatibleExtensions:["aar","apk","docx","epub","ipa","jar","kmz","maff","msix","odp","ods","odt","pk3","pk4","pptx","usdz","vsdx","xlsx","xpi"]}),dO.make({sequence:[80,75,7,8],description:"PKZIP multivolume archive file - zip file format and multiple formats based on it",compatibleExtensions:["aar","apk","docx","epub","ipa","jar","kmz","maff","msix","odp","ods","odt","pk3","pk4","pptx","usdz","vsdx","xlsx","xpi"]})]})}class d$ extends dQ.TaggedClass("AudioTypes"){static AAC=dP.make({extension:"aac",mimeType:"audio/aac",description:"Advanced Audio Coding (AAC) is an audio coding standard for lossy digital audio compression",signatures:[dO.make({sequence:[255,241],description:"MPEG-4 Advanced Audio Coding (AAC) Low Complexity (LC) audio file"}),dO.make({sequence:[255,249],description:"MPEG-2 Advanced Audio Coding (AAC) Low Complexity (LC) audio file"})]});static AMR=dP.make({extension:"amr",mimeType:"audio/amr",description:"Adaptive Multi-Rate ACELP (Algebraic Code Excited Linear Prediction) Codec, commonly audio format with GSM cell phones",signatures:[dO.make({sequence:[35,33,65,77,82]})]});static FLAC=dP.make({extension:"flac",mimeType:"audio/x-flac",description:"Free Lossless Audio Codec file",signatures:[dO.make({sequence:[102,76,97,67,0,0,0,34]})]});static M4A=dP.make({extension:"m4a",mimeType:"audio/x-m4a",description:"Apple Lossless Audio Codec file",signatures:[dO.make({sequence:[102,116,121,112,77,52,65,32],offset:4,compatibleExtensions:["aac"]},{disableValidation:!0})]});static MP3=dP.make({extension:"mp3",mimeType:"audio/mpeg",description:"A digital audio file format that uses compression to reduce file size while maintaining high quality sound",signatures:[dO.make({sequence:[255,251],description:"MPEG-1 Layer 3 file without an ID3 tag or with an ID3v1 tag (which is appended at the end of the file)"}),dO.make({sequence:[255,243],description:"MPEG-1 Layer 3 file without an ID3 tag or with an ID3v1 tag (which is appended at the end of the file)"}),dO.make({sequence:[255,242],description:"MPEG-1 Layer 3 file without an ID3 tag or with an ID3v1 tag (which is appended at the end of the file)"}),dO.make({sequence:[73,68,51],description:"MP3 file with an ID3v2 container"})]});static WAV=dP.make({extension:"wav",mimeType:"audio/wav",description:"Waveform Audio File Format",signatures:[dO.make({sequence:[82,73,70,70,87,65,86,69,102,109,116,32],skippedBytes:[4,5,6,7]})]})}let d_=[...cy.BS.FileExtensionKit.pick("m4v","flv","mp4","mkv","webm","avif","heic")];class d0 extends dQ.TaggedClass("FileTypes"){static AAC=d$.AAC;static AMR=d$.AMR;static FLAC=d$.FLAC;static M4A=d$.M4A;static MP3=d$.MP3;static WAV=d$.WAV;static AVIF=dY.AVIF;static BMP=dY.BMP;static BPG=dY.BPG;static CR2=dY.CR2;static EXR=dY.EXR;static GIF=dY.GIF;static ICO=dY.ICO;static JPEG=dY.JPEG;static PBM=dY.PBM;static PGM=dY.PGM;static PNG=dY.PNG;static PPM=dY.PPM;static PSD=dY.PSD;static WEBP=dY.WEBP;static HEIC=dY.HEIC;static AVI=dW.AVI;static FLV=dW.FLV;static M4V=dW.M4V;static MKV=dW.MKV;static MOV=dW.MOV;static MP4=dW.MP4;static OGG=dW.OGG;static SWF=dW.SWF;static WEBM=dW.WEBM;static _7Z=dZ._7Z;static LZH=dZ.LZH;static RAR=dZ.RAR;static ZIP=dZ.ZIP;static BLEND=dX.BLEND;static DOC=dX.DOC;static ELF=dX.ELF;static EXE=dX.EXE;static INDD=dX.INDD;static MACHO=dX.MACHO;static ORC=dX.ORC;static PARQUET=dX.PARQUET;static PCAP=dX.PCAP;static PDF=dX.PDF;static PS=dX.PS;static RTF=dX.RTF;static SQLITE=dX.SQLITE;static STL=dX.STL;static TTF=dX.TTF;static getInfoByName(a){return dT(d0,a.toUpperCase())}static getSignaturesByName(a){let{signatures:b}=dT(d0,a.toUpperCase());return b}static detectSignature(a,b){for(let c of b){let b=!0,d=c.offset||0,e=0;for(let f=0;f<c.sequence.length;f++){if(c.skippedBytes?.includes(f)){e++;continue}if(a[d+f]!==c.sequence[f-e]){b=!1;break}}if(b)return c}}static detectTypeByAdditionalCheck(a,b){let c=b.map(a=>a.extension);if(c.some(a=>["m4v","flv","mp4","heic"].includes(a)))return c.includes("heic")&&eh(a)?"heic":eG(a)?"flv":eH(a)&&!eh(a)?"m4v":"mp4";if(c.some(a=>["mkv","webm"].includes(a))){let b=dU(a);return"mkv"===b&&eI(a)?"mkv":"webm"===b&&eN(a)?"webm":void 0}if(c.some(a=>["avif"].includes(a))&&dV(a))return"avif"}static detectBySignatures(a,b){for(let c of b){let b=0,d=!0,e=c.offset||0,f=c?.skippedBytes?c.sequence.length+c.skippedBytes.length:c.sequence.length;for(let g=0;g<f;g++){if(c.skippedBytes?.includes(g)){b++;continue}if(a[e+g]!==c.sequence[g-b]){d=!1;break}}if(d)return c}}static checkByFileType(a,b){if(Object.prototype.hasOwnProperty.call(d0,b.toUpperCase())){let c=d0.getSignaturesByName(b.toUpperCase());if(d0.detectSignature(a,c))return!0}return!1}}function d1(a,b){let c=dS(a);return!!d0.checkByFileType(c,"aac")||!b?.excludeSimilarTypes&&d4(c)}function d2(a){let b=dS(a);return d0.checkByFileType(b,"amr")}function d3(a){let b=dS(a);return d0.checkByFileType(b,"flac")}function d4(a){let b=dS(a);return d0.checkByFileType(b,"m4a")}function d5(a){let b=dS(a);return d0.checkByFileType(b,"mp3")}function d6(a){let b=dS(a);return d0.checkByFileType(b,"wav")}function d7(a){let b=dS(a);return d0.checkByFileType(b,"_7z")}function d8(a){let b=dS(a);return d0.checkByFileType(b,"lzh")}function d9(a){let b=dS(a);return d0.checkByFileType(b,"rar")}function ea(a,b){let c=dS(a,b?.chunkSize||64);return d0.checkByFileType(c,"zip")}function eb(a){let b=dS(a);return!!d0.checkByFileType(b,"avif")&&dV(b)}function ec(a){let b=dS(a);return d0.checkByFileType(b,"bmp")}function ed(a){let b=dS(a);return d0.checkByFileType(b,"bpg")}function ee(a){let b=dS(a);return d0.checkByFileType(b,"cr2")}function ef(a){let b=dS(a);return d0.checkByFileType(b,"exr")}function eg(a){let b=dS(a);return d0.checkByFileType(b,"gif")}function eh(a){let b,c=dS(a);return!!d0.checkByFileType(c,"avif")&&(b=c.map(a=>String.fromCharCode(a)).join(""),["ftypheic","ftyphevc","ftypmif1","ftypmsf1"].some(a=>b.includes(a)))}function ei(a){let b=dS(a);return d0.checkByFileType(b,"ico")}function ej(a){let b=dS(a);return d0.checkByFileType(b,"jpeg")}function ek(a){let b=dS(a);return d0.checkByFileType(b,"pbm")}function el(a){let b=dS(a);return d0.checkByFileType(b,"pgm")}function em(a){let b=dS(a);return d0.checkByFileType(b,"png")}function en(a){let b=dS(a);return d0.checkByFileType(b,"ppm")}function eo(a){let b=dS(a);return d0.checkByFileType(b,"psd")}function ep(a){let b=dS(a);return d0.checkByFileType(b,"webp")}function eq(a){let b=dS(a);return d0.checkByFileType(b,"blend")}function er(a){let b=dS(a);return d0.checkByFileType(b,"elf")}function es(a){let b=dS(a);return d0.checkByFileType(b,"exe")}function et(a){let b=dS(a);return d0.checkByFileType(b,"macho")}function eu(a){let b=dS(a);return d0.checkByFileType(b,"indd")}function ev(a){let b=dS(a);return d0.checkByFileType(b,"orc")}function ew(a){let b=dS(a);return d0.checkByFileType(b,"parquet")}function ex(a){let b=dS(a);return d0.checkByFileType(b,"pdf")}function ey(a){let b=dS(a);return d0.checkByFileType(b,"ps")}function ez(a){let b=dS(a);return d0.checkByFileType(b,"rtf")}function eA(a){let b=dS(a);return d0.checkByFileType(b,"sqlite")}function eB(a){let b=dS(a);return d0.checkByFileType(b,"stl")}function eC(a){let b=dS(a);return d0.checkByFileType(b,"ttf")}function eD(a){let b=dS(a);return d0.checkByFileType(b,"doc")}function eE(a){let b=dS(a);return d0.checkByFileType(b,"pcap")}function eF(a){let b=dS(a);return d0.checkByFileType(b,"avi")}function eG(a){let b,c=dS(a);return!!d0.checkByFileType(c,"flv")&&(b=c.slice(0,3),new TextDecoder().decode(new Uint8Array(b)).includes("FLV"))}function eH(a){let b=dS(a);if(!d0.checkByFileType(b,"m4v"))return!1;let c=[102,116,121,112];for(let a=0;a<b.length-c.length;a++){let d=!0;for(let e=0;e<c.length;e++)if(b[a+e]!==c[e]){d=!1;break}if(d)return!0}return!1}function eI(a){let b=dS(a,64);return!!d0.checkByFileType(b,"mkv")&&"mkv"===dU(b)}function eJ(a){let b=dS(a);return d0.checkByFileType(b,"mov")}function eK(a,b){let c=dS(a);return!!d0.checkByFileType(c,"mp4")||!b?.excludeSimilarTypes&&eH(c)}function eL(a){let b=dS(a);return d0.checkByFileType(b,"ogg")}function eM(a){let b=dS(a);return d0.checkByFileType(b,"swf")}function eN(a){let b=dS(a,64);return!!d0.checkByFileType(b,"webm")&&"webm"===dU(b)}function eO(a,b,c){let d=[];for(let a of[...new Set(b.map(a=>{let b=a.split(".").join("").toUpperCase();return"7Z"===b?`_${b}`:b}))]){if(!Object.prototype.hasOwnProperty.call(d0,a))throw TypeError(`Type \`${a.toLowerCase()}\` is not supported. Please make sure that \`types\` list conatins only supported files`);d.push(a)}if(c&&Object.prototype.hasOwnProperty.call(c,"chunkSize")&&(c?.chunkSize??0)<=0)throw RangeError("chunkSize must be bigger than zero");if(!c||!c?.excludeSimilarTypes){var e;let a=(e=d).some(a=>"MP4"===a)?["M4V"]:e.some(a=>"AAC"===a)?["M4A"]:[];a.length>0&&(d=d.concat(a))}let f=[],g=[];for(let a of d){let b=d0.getSignaturesByName(a);f=f.concat(b),d_.includes(a.toLowerCase())&&g.push(d0.getInfoByName(a))}let h=dS(a,c?.chunkSize||64),i=d0.detectSignature(h,f);if(!i)return!1;if(g.length>0){let a=g.filter(a=>a.signatures.includes(i));if(a.length>0){let b=d0.detectTypeByAdditionalCheck(h,a);return!!b&&d.some(a=>a.toLowerCase()===b)}}return!0}function eP(a,b){if(b&&Object.prototype.hasOwnProperty.call(b,"chunkSize")&&(b?.chunkSize??0)<=0)throw RangeError("chunkSize must be bigger than zero");let c=dS(a,b?.chunkSize||64);if(0===c.length)return;let d=[],e=[];for(let a in d0)if(Object.prototype.hasOwnProperty.call(d0,a)){let b=d0.getSignaturesByName(a),f=d0.detectBySignatures(c,b);if(f){let b=d0.getInfoByName(a);d_.includes(b.extension)&&e.push(b.extension);let c={extension:b.extension,mimeType:b.mimeType,description:b.description,signature:{...f,sequence:f.sequence.map(a=>a.toString(16))}};d.push(c)}}if(0===d.length)return;if(1===d.length&&0===e.length)return d[0];let f=d0.detectTypeByAdditionalCheck(c,d);if(f)return d.find(a=>a.extension===f)}a.s(["AudioTypes",()=>d$,"CompressedTypes",()=>dZ,"FILE_TYPES_REQUIRED_ADDITIONAL_CHECK",0,d_,"FileTypes",()=>d0,"ImageTypes",()=>dY,"OtherTypes",()=>dX,"VideoTypes",()=>dW,"is7Z",()=>d7,"isAAC",()=>d1,"isAMR",()=>d2,"isAVI",()=>eF,"isAVIF",()=>eb,"isBLEND",()=>eq,"isBMP",()=>ec,"isBPG",()=>ed,"isCR2",()=>ee,"isDOC",()=>eD,"isELF",()=>er,"isEXE",()=>es,"isEXR",()=>ef,"isFLAC",()=>d3,"isFLV",()=>eG,"isGIF",()=>eg,"isHEIC",()=>eh,"isICO",()=>ei,"isINDD",()=>eu,"isJPEG",()=>ej,"isLZH",()=>d8,"isM4A",()=>d4,"isM4V",()=>eH,"isMACHO",()=>et,"isMKV",()=>eI,"isMOV",()=>eJ,"isMP3",()=>d5,"isMP4",()=>eK,"isOGG",()=>eL,"isORC",()=>ev,"isPARQUET",()=>ew,"isPBM",()=>ek,"isPCAP",()=>eE,"isPDF",()=>ex,"isPGM",()=>el,"isPNG",()=>em,"isPPM",()=>en,"isPS",()=>ey,"isPSD",()=>eo,"isRAR",()=>d9,"isRTF",()=>ez,"isSQLITE",()=>eA,"isSTL",()=>eB,"isSWF",()=>eM,"isTTF",()=>eC,"isWAV",()=>d6,"isWEBM",()=>eN,"isWEBP",()=>ep,"isZIP",()=>ea,"validateFileType",()=>eO],361758),a.s(["detectFile",()=>eP],735536);var eQ=a.i(735536),eR=a.i(361758);let eS={...eQ,...eR};a.i(553723);var eT=a.i(596856),eU=a.i(498999);a.i(306915);var eV=a.i(175207),eW=a.i(671958),eX=a.i(952029),eY=a.i(681625),eZ=a.i(178769),e$=cn;class e_ extends e$.TaggedError("ValidationError"){}class e0 extends e$.TaggedError("DetectionError"){}class e1 extends e$.TaggedError("ExifParseError"){}var e2=a.i(56298),e3=a.i(830931),e4=a.i(569858);e4.MetricBoundariesTypeId,e4.isMetricBoundaries;let e5=e4.fromIterable;e4.linear,e4.exponential;let e6={filesProcessedTotal:e3.counter("upload.files_processed_total"),filesFailedTotal:e3.counter("upload.files_failed_total"),detectionFailedTotal:e3.counter("upload.detection_failed_total"),exifParsedTotal:e3.counter("upload.exif_parsed_total"),exifFailedTotal:e3.counter("upload.exif_failed_total"),processFileDurationMs:e3.histogram("upload.process_file_duration_ms",e5([1,5,10,25,50,100,250,500,1e3,2e3,5e3,1e4]))},e7=(a,b)=>({service:"upload",fileName:a.name,fileType:a.type,fileSize:a.size,...b}),e8=a=>b=>b.pipe((0,e2.withLogContext)({service:"upload",...a}),(0,e2.withRootSpan)("upload.processFile"),(0,e2.withSpanAndMetrics)("upload.processFile",{successCounter:e6.filesProcessedTotal,errorCounter:e6.filesFailedTotal,durationHistogram:e6.processFileDurationMs,durationUnit:"millis"},{service:"upload",...a})),e9=(a,b)=>G.logWarning(a).pipe(G.annotateLogs(b??{}));var fa=a.i(447932);let fb=G.fn("upload.validateFile")(function*({file:a,config:b}){let c=cw(a.size);if("number"==typeof b?.maxSizeBytes&&a.size>b.maxSizeBytes){let d=cw(b.maxSizeBytes);return yield*new e_({message:`File too large: ${c} (max ${d})`,fileName:a.name,fileType:a.type,fileSize:a.size})}let d=b?.chunkSize??64,e=dS((yield*G.tryPromise({try:async()=>a.arrayBuffer(),catch:b=>new e0({message:"Could not detect file type from signature",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,chunkSize:d})})),d),f=eS.detectFile(e,{chunkSize:d});if(!f)return yield*e3.increment(e6.detectionFailedTotal),yield*e9("upload.validateFile: signature detection failed",e7(a)),yield*new e0({message:"Could not detect file type from signature",fileName:a.name,fileType:a.type,fileSize:a.size,chunkSize:d});let g=f?.mimeType??a.type;return(yield*I.decodeUnknown(cy.BS.MimeType)(g).pipe(G.tapError(b=>e9("upload.validateFile: unsupported mime type",{...e7(a),candidate:g,error:b})),G.mapError(b=>new e_({message:`Unsupported mime type: ${g}`,cause:b,fileName:a.name,fileType:g,fileSize:a.size}))),b?.allowedMime&&!b.allowedMime.includes(g))?(yield*e9("upload.validateFile: disallowed MIME",{...e7(a),candidate:g,allowed:b.allowedMime}),yield*new e_({message:`Disallowed type: ${g}`,fileName:a.name,fileType:a.type,fileSize:a.size,candidateMime:g,allowedMime:b.allowedMime})):{detected:f,formattedSize:c}}),fc=G.fn("upload.extractBasicMetadata")(function*({file:a,detected:b}){let c=a.webkitRelativePath,d=fa.isString(c)&&c.length>0,e=b?.mimeType??a.type,f={size:a.size,type:e,lastModifiedDate:a.lastModified,lastModified:a.lastModified,name:a.name,...d?{webkitRelativePath:c,relativePath:c}:{}};return{attributes:yield*I.decodeUnknown(dA)(f).pipe(G.tapError(b=>e9("upload.extractBasicMetadata: invalid file attributes",{...e7(a),candidateType:e,error:b})),G.mapError(b=>new e_({message:"Invalid file attributes",cause:b,fileName:a.name,fileType:e,fileSize:a.size}))),detected:b}}),fd=G.fn("upload.extractExifMetadata")(function*({file:a,detected:b}){let c=b?.mimeType??a.type;if(c&&c.startsWith("image/"))return yield*G.gen(function*(){let b,c=yield*G.tryPromise({try:()=>a.arrayBuffer(),catch:b=>new e1({message:"Could not parse EXIF data because array buffer could not be read",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,phase:"read"})}),d=yield*G.try({try:()=>cj(c,{expanded:!0}),catch:b=>new e1({message:"Could not parse EXIF data",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,phase:"parse"})}),e=dx.cleanExifData(d),f=yield*I.decodeUnknown(dx)(e).pipe(G.mapError(b=>new e1({message:"Could not decode EXIF data to schema",cause:b,fileName:a.name,fileType:a.type,fileSize:a.size,phase:"decode"})));return yield*e3.increment(e6.exifParsedTotal),yield*(b=e7(a),G.logInfo("upload.extractExifMetadata: parsed EXIF").pipe(G.annotateLogs(b??{}))),f}).pipe(G.catchAll(b=>G.gen(function*(){yield*e3.increment(e6.exifFailedTotal),yield*e9("upload.extractExifMetadata: non-fatal EXIF parse failure",{...e7(a),error:b})})))});var fe=F,ff=G;class fg extends ff.Service()("UploadFileService",{dependencies:[],accessors:!0,effect:ff.gen(function*(){let a=ff.fn("UploadFileService.processFile")(function*({file:a,config:b}){let c=ff.gen(function*(){let c=yield*fb({file:a,config:b}),d=yield*fc({file:a,detected:c.detected}),e=yield*fd({file:a,detected:d.detected??c.detected}),f={file:a,validated:c,basic:d,exif:e};return f});return yield*c.pipe(e8(e7(a)))}),b=ff.fn("UploadFileService.processFiles")(function*({files:b,config:c}){let d=b.map(b=>a({file:b,config:c})),e=yield*(0,fe.accumulateEffectsAndReport)(d,{concurrency:"unbounded",annotations:{service:"upload"}});return e});return{processFile:a,processFiles:b,validateFile:fb,extractBasicMetadata:fc,extractExifMetadata:fd}})}){}var fh=a.i(875139);let fi={flexDirection:"column",alignItems:"unset",justifyContent:"flex-start"};function fj({sx:a,disabled:b,onReset:d,loading:e,...g}){return(0,c.jsxs)(f.default,{sx:[()=>({mb:3,gap:2,display:"flex",justifyContent:"flex-end"}),...Array.isArray(a)?a:[a]],...g,children:[(0,c.jsx)(fh.default,{color:"error",size:"large",disabled:b,onClick:d,children:"Reset"}),(0,c.jsx)(fh.default,{size:"large",type:"submit",variant:"contained",loading:e,children:"Submit to check"})]})}function fk({sx:a,children:b,...d}){return(0,c.jsx)(f.default,{sx:[()=>({rowGap:5,columnGap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"}}),...Array.isArray(a)?a:[a]],...d,children:b})}a.i(473051);var fl=a.i(128245);function fm({title:a,sx:b,children:d,...e}){return(0,c.jsxs)(fn,{sx:b,...e,children:[a&&(0,c.jsx)(fo,{children:a}),d]})}let fn=(0,p.styled)("div")(({theme:a})=>({width:"100%",display:"flex",flexWrap:"wrap",position:"relative",alignItems:"center",rowGap:a.spacing(3),columnGap:a.spacing(2),justifyContent:"center",padding:a.spacing(6,3),borderRadius:1.5*Number(a.shape.borderRadius),backgroundColor:(0,fl.rgbaFromChannel)(a.vars?.palette.grey["500Channel"],.04),boxShadow:`0 0 0 1px ${(0,fl.rgbaFromChannel)(a.vars?.palette.grey["500Channel"],.16)}`})),fo=(0,p.styled)("span")(({theme:a})=>({top:0,left:0,position:"absolute",marginLeft:a.spacing(2.5),padding:a.spacing(.25,1),color:a.vars?.palette.text.primary,borderRadius:2*Number(a.shape.borderRadius),backgroundColor:a.vars?.palette.common.white,transform:"translateY(-50%)",fontSize:a.typography.caption.fontSize,fontWeight:a.typography.fontWeightSemiBold,border:`solid 1px ${(0,fl.rgbaFromChannel)(a.vars?.palette.grey["500Channel"],.24)}`,...a.applyStyles("dark",{backgroundColor:a.vars?.palette.background.neutral})}));a.i(140406),a.i(416444),a.i(878185),a.i(673636),a.i(691073),a.i(629653),a.i(843997);var fp=a.i(508814);let fq=({category:a,name:b,iconPrefix:c,packageType:d})=>({name:b,href:`/components/${a}/${fp.StrUtils.kebabCase(b)}`,icon:`/assets/icons/components/${c}-${fp.StrUtils.kebabCase(b)}.svg`,packageType:d});["Colors","Typography","Shadows","Grid","Icons"].map(a=>fq({category:"foundation",name:a,iconPrefix:"ic",packageType:"Foundation"}));let fr=["Data grid","Date pickers","Tree view"],fs=["Chip","List","Menu","Tabs","Alert","Badge","Table","Avatar","Dialog","Rating","Slider","Switch","Drawer","Buttons","Date pickers","Popover","Stepper","Tooltip","Checkbox","Progress","Timeline","Accordion","Textfield","Data grid","Tree view","Pagination","Breadcrumbs","Autocomplete","Radio button","Transfer list"].map(a=>fq({category:"mui",name:a,iconPrefix:"ic",packageType:fr.includes(a)?"MUI X":"MUI"})),ft=["Map","Chart","Image","Editor","Upload","Scroll","Animate","Carousel","Lightbox","Snackbar","Markdown","Form wizard","Multi language","Form validation","Scroll progress","Organization chart"],fu=["Map","Dnd","Chart","Image","Label","Editor","Upload","Scroll","Layout","Animate","Carousel","Lightbox","Snackbar","Markdown","Mega menu","Utilities","Multi language","Navigation bar","Form validation","Form wizard","Scroll progress","Organization chart"].map(a=>fq({category:"extra",name:a,iconPrefix:"ic-extra",packageType:ft.includes(a)?"3rd Party":"Custom"}));fp.ArrayUtils.orderBy(fs,["name"],["asc"]),fp.ArrayUtils.orderBy(fu,["name"],["asc"]);let fv=I.Struct({singleUpload:I.NullOr(dC),multiUpload:I.Array(dC)});function fw(){let a=(0,eU.useRuntime)(),b=(0,eX.useAppForm)({...(0,eW.makeFormOptions)({schema:fv,defaultValues:{singleUpload:null,multiUpload:[]},validator:"onSubmit"}),onSubmit:async({value:b})=>{let c=G.gen(function*(){let a=yield*I.decode(fv)(b),c=[...a.singleUpload?[a.singleUpload]:[],...a.multiUpload??[]];if(0===c.length)return{successes:[],errors:[]};let d=yield*fg,{successes:e,errors:f}=yield*d.processFiles({files:c,config:{maxSizeBytes:3145728}});return{successes:e,errors:f}});console.log(await (0,eT.runClientPromise)(a,c.pipe(F.withEnvLogging,G.provide(fg.Default)),"upload.form.submit"))}});return(0,c.jsxs)(c.Fragment,{children:[b.state.isSubmitting&&(0,c.jsx)(eY.default,{open:!0,sx:[a=>({zIndex:a.zIndex.modal+1})],children:(0,c.jsx)(eZ.default,{color:"warning"})}),(0,c.jsxs)(eV.Form,{onSubmit:b.handleSubmit,children:[(0,c.jsx)(fj,{loading:b.state.isSubmitting,disabled:0===Object.keys(b.state.errors).length,onReset:()=>b.reset()}),(0,c.jsxs)(fk,{sx:{gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"}},children:[(0,c.jsx)(fm,{title:"Upload",sx:fi,children:(0,c.jsx)(b.AppField,{name:"singleUpload",children:a=>(0,c.jsx)(a.Upload,{maxSize:3145728,onDelete:()=>b.setFieldValue("singleUpload",null)})})}),(0,c.jsx)(fm,{children:(0,c.jsx)(b.AppField,{name:"multiUpload",children:a=>(0,c.jsx)(a.Upload,{multiple:!0,maxSize:3145728,onRemove:a=>b.setFieldValue("multiUpload",b.state.values.multiUpload.filter(b=>b!==a)),onRemoveAll:()=>b.setFieldValue("multiUpload",[]),onUpload:()=>b.handleSubmit()})})})]})]})]})}let fx=[{value:"",label:"Other"},{value:"fields",label:"Fields"},{value:"controls",label:"Controls"}],fy="category";function fz(){let a=(0,d.usePathname)(),b=(0,d.useSearchParams)().get(fy)??"",[k,l]=j.default.useState(!0),m=j.default.useCallback(a=>{l(a.target.checked)},[]);return(0,c.jsxs)(f.default,{children:[(0,c.jsx)(E.default,{variant:"h4",sx:{mb:3},children:"@tanstack/react-form + effect/Schema"}),(0,c.jsxs)(f.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsx)(D,{exclusive:!0,value:b,children:fx.map(b=>{var d;let f;return(0,c.jsx)(x,{component:e.RouterLink,href:(f=new URLSearchParams({[fy]:d=b.value}).toString(),d?`${a}?${f}`:a),value:b.value,"aria-label":b.label,children:b.label},b.label)})}),(0,c.jsx)(h.default,{label:"Debug",labelPlacement:"start",control:(0,c.jsx)(i.default,{checked:k,onChange:m,slotProps:{input:{id:"debug-switch"}}}),sx:[a=>({display:"none",[a.breakpoints.up(1440)]:{display:"flex"}})]})]}),(0,c.jsx)(g.default,{sx:{my:3}}),""===b&&(0,c.jsx)(fw,{}),"fields"===b&&(0,c.jsx)(E.default,{variant:"h1",children:"beep1"}),"controls"===b&&(0,c.jsx)(E.default,{variant:"h1",children:"beep2"})]})}}];

//# sourceMappingURL=apps_web_src_features_upload_view_tsx_33288d0b._.js.map