module.exports=[295173,(a,b,c)=>{"use strict";let d=()=>"linux"===process.platform,e=null,f=()=>{if(!e)if(d()&&process.report){let a=process.report.excludeNetwork;process.report.excludeNetwork=!0,e=process.report.getReport(),process.report.excludeNetwork=a}else e={};return e};b.exports={isLinux:d,getReport:f}},763569,(a,b,c)=>{"use strict";let d=a.r(522734),e=2048;b.exports={LDD_PATH:"/usr/bin/ldd",SELF_PATH:"/proc/self/exe",readFileSync:a=>{let b=d.openSync(a,"r"),c=Buffer.alloc(e),f=d.readSync(b,c,0,e,0);return d.close(b,()=>{}),c.subarray(0,f)},readFile:a=>new Promise((b,c)=>{d.open(a,"r",(a,f)=>{if(a)c(a);else{let a=Buffer.alloc(e);d.read(f,a,0,e,0,(c,e)=>{b(a.subarray(0,e)),d.close(f,()=>{})})}})})}},135953,(a,b,c)=>{"use strict";b.exports={interpreterPath:a=>{if(a.length<64||0x7f454c46!==a.readUInt32BE(0)||2!==a.readUInt8(4)||1!==a.readUInt8(5))return null;let b=a.readUInt32LE(32),c=a.readUInt16LE(54),d=a.readUInt16LE(56);for(let e=0;e<d;e++){let d=b+e*c;if(3===a.readUInt32LE(d)){let b=a.readUInt32LE(d+8),c=a.readUInt32LE(d+32);return a.subarray(b,b+c).toString().replace(/\0.*$/g,"")}}return null}}},521510,(a,b,c)=>{"use strict";let d,e,f,g=a.r(233405),{isLinux:h,getReport:i}=a.r(295173),{LDD_PATH:j,SELF_PATH:k,readFile:l,readFileSync:m}=a.r(763569),{interpreterPath:n}=a.r(135953),o="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",p="",q=()=>p||new Promise(a=>{g.exec(o,(b,c)=>{a(p=b?" ":c)})}),r=()=>{if(!p)try{p=g.execSync(o,{encoding:"utf8"})}catch(a){p=" "}return p},s="glibc",t=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,u="musl",v=a=>a.includes("libc.musl-")||a.includes("ld-musl-"),w=()=>{let a=i();return a.header&&a.header.glibcVersionRuntime?s:Array.isArray(a.sharedObjects)&&a.sharedObjects.some(v)?u:null},x=a=>{let[b,c]=a.split(/[\r\n]+/);return b&&b.includes(s)?s:c&&c.includes(u)?u:null},y=a=>{if(a){if(a.includes("/ld-musl-"))return u;else if(a.includes("/ld-linux-"))return s}return null},z=a=>(a=a.toString()).includes("musl")?u:a.includes("GNU C Library")?s:null,A=async()=>{if(void 0!==e)return e;e=null;try{let a=await l(j);e=z(a)}catch(a){}return e},B=()=>{if(void 0!==e)return e;e=null;try{let a=m(j);e=z(a)}catch(a){}return e},C=async()=>{if(void 0!==d)return d;d=null;try{let a=await l(k),b=n(a);d=y(b)}catch(a){}return d},D=()=>{if(void 0!==d)return d;d=null;try{let a=m(k),b=n(a);d=y(b)}catch(a){}return d},E=async()=>{let a=null;return h()&&((a=await C())||((a=await A())||(a=w()),a||(a=x(await q())))),a},F=()=>{let a=null;return h()&&((a=D())||((a=B())||(a=w()),a||(a=x(r())))),a},G=async()=>h()&&await E()!==s,H=()=>h()&&F()!==s,I=async()=>{if(void 0!==f)return f;f=null;try{let a=(await l(j)).match(t);a&&(f=a[1])}catch(a){}return f},J=()=>{if(void 0!==f)return f;f=null;try{let a=m(j).match(t);a&&(f=a[1])}catch(a){}return f},K=()=>{let a=i();return a.header&&a.header.glibcVersionRuntime?a.header.glibcVersionRuntime:null},L=a=>a.trim().split(/\s+/)[1],M=a=>{let[b,c,d]=a.split(/[\r\n]+/);return b&&b.includes(s)?L(b):c&&d&&c.includes(u)?L(d):null};b.exports={GLIBC:s,MUSL:u,family:E,familySync:F,isNonGlibcLinux:G,isNonGlibcLinuxSync:H,version:async()=>{let a=null;return h()&&((a=await I())||(a=K()),a||(a=M(await q()))),a},versionSync:()=>{let a=null;return h()&&((a=J())||(a=K()),a||(a=M(r()))),a}}},641613,(a,b,c)=>{var d=a.r(522734),e=a.r(814747),f=a.r(792509),g=a.r(446786),h="function"==typeof __webpack_require__?__non_webpack_require__:a.t,i=process.config&&process.config.variables||{},j=!!process.env.PREBUILDS_ONLY,k=process.versions,l=k.modules;(k.deno||process.isBun)&&(l="unsupported");var m=E()?"electron":D()?"node-webkit":"node",n=process.env.npm_config_arch||g.arch(),o=process.env.npm_config_platform||g.platform(),p=process.env.LIBC||(F(o)?"musl":"glibc"),q=process.env.ARM_VERSION||("arm64"===n?"8":i.arm_version)||"",r=(k.uv||"").split(".")[0];function s(a){return h(s.resolve(a))}function t(a){try{return d.readdirSync(a)}catch(a){return[]}}function u(a,b){var c=t(a).filter(b);return c[0]&&e.join(a,c[0])}function v(a){return/\.node$/.test(a)}function w(a){var b=a.split("-");if(2===b.length){var c=b[0],d=b[1].split("+");if(c&&d.length&&d.every(Boolean))return{name:a,platform:c,architectures:d}}}function x(a,b){return function(c){return null!=c&&c.platform===a&&c.architectures.includes(b)}}function y(a,b){return a.architectures.length-b.architectures.length}function z(a){var b=a.split("."),c=b.pop(),d={file:a,specificity:0};if("node"===c){for(var e=0;e<b.length;e++){var f=b[e];if("node"===f||"electron"===f||"node-webkit"===f)d.runtime=f;else if("napi"===f)d.napi=!0;else if("abi"===f.slice(0,3))d.abi=f.slice(3);else if("uv"===f.slice(0,2))d.uv=f.slice(2);else if("armv"===f.slice(0,4))d.armv=f.slice(4);else{if("glibc"!==f&&"musl"!==f)continue;d.libc=f}d.specificity++}return d}}function A(a,b){return function(c){return null!=c&&(c.runtime===a||!!B(c))&&(c.abi===b||!!c.napi)&&(!c.uv||c.uv===r)&&(!c.armv||c.armv===q)&&(!c.libc||c.libc===p)&&!0}}function B(a){return"node"===a.runtime&&a.napi}function C(a){return function(b,c){return b.runtime!==c.runtime?b.runtime===a?-1:1:b.abi!==c.abi?b.abi?-1:1:b.specificity!==c.specificity?b.specificity>c.specificity?-1:1:0}}function D(){return!!(process.versions&&process.versions.nw)}function E(){return!!process.versions&&!!process.versions.electron||!!process.env.ELECTRON_RUN_AS_NODE}function F(b){if("linux"!==b)return!1;let{familySync:c,MUSL:d}=a.r(521510);return c()===d}b.exports=s,s.resolve=s.path=function(b){b=e.resolve(b||".");var c,d,g="";try{var i=(g=h(e.join(b,"package.json")).name).toUpperCase().replace(/-/g,"_");process.env[i+"_PREBUILD"]&&(b=process.env[i+"_PREBUILD"])}catch(a){c=a}if(!j){var k=u(e.join(b,"build/Release"),v);if(k)return k;var s=u(e.join(b,"build/Debug"),v);if(s)return s}var B=H(b);if(B)return B;var D=H(e.dirname(process.execPath));if(D)return D;var E=("@"==g[0]?"":"@"+g+"/")+g+"-"+o+"-"+n;try{var F=e.dirname(a.r(362562).createRequire(f.pathToFileURL(e.join(b,"package.json"))).resolve(E));return I(F)}catch(a){d=a}let G="No native build was found for "+["platform="+o,"arch="+n,"runtime="+m,"abi="+l,"uv="+r,q?"armv="+q:"","libc="+p,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","function"==typeof __webpack_require__?"webpack=true":""].filter(Boolean).join(" ")+"\n    attempted loading from: "+b+" and package: "+E+"\n";throw c&&(G+="Error finding package.json: "+c.message+"\n"),d&&(G+="Error resolving package: "+d.message+"\n"),Error(G);function H(a){var b=t(e.join(a,"prebuilds")).map(w).filter(x(o,n)).sort(y)[0];if(b)return I(e.join(a,"prebuilds",b.name))}function I(a){var b=t(a).map(z).filter(A(m,l)).sort(C(m))[0];if(b)return e.join(a,b.file)}},s.parseTags=z,s.matchTags=A,s.compareTags=C,s.parseTuple=w,s.matchTuple=x,s.compareTuples=y},42259,(a,b,c)=>{let d="function"==typeof __webpack_require__?__non_webpack_require__:a.t;"function"==typeof d.addon?b.exports=d.addon.bind(d):b.exports=a.r(641613)},320549,(a,b,c)=>{b.exports=a.r(42259)("/ROOT/node_modules/msgpackr-extract")},666072,395184,122385,624175,946215,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m;var n,o,p,q,r,s,t,u,v,w,x,y=a.i(651297),z=a.i(133698),A=a.i(839890),B=a.i(649246),C=a.i(870370),D=a.i(971815),E=a.i(963264),F=A,G=B,H=C,I=a.i(744994),J=a.i(595518),K=a.i(676736),L=a.i(220929),M=a.i(3072),N=a.i(620686),O=a.i(903694),P=a.i(415879),Q=a.i(89855);let R=Symbol.for("effect/FiberSet"),S=a=>P.hasProperty(a,R),T={[R]:R,[Symbol.iterator](){return"Closed"===this.state._tag?N.empty():this.state.backing[Symbol.iterator]()},toString(){return M.format(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[M.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,O.pipeArguments)(this,arguments)}},U=(a,b)=>{let c=Object.create(T);return c.state={_tag:"Open",backing:a},c.deferred=b,c},V=()=>G.acquireRelease(G.map(F.make(),a=>U(new Set,a)),a=>G.withFiberRuntime(b=>{let c=a.state;if("Closed"===c._tag)return G.void;a.state={_tag:"Closed"};let d=c.backing;return I.interruptAllAs(d,J.combine(b.id(),X)).pipe(G.intoDeferred(a.deferred))})),W=-1,X=J.make(W,0),Y=E.reduceWithContext(void 0,{emptyCase:K.constFalse,failCase:K.constFalse,dieCase:K.constFalse,interruptCase:(a,b)=>L.has(J.ids(b),W),sequentialCase:(a,b,c)=>b||c,parallelCase:(a,b,c)=>b||c}),Z=(0,K.dual)(a=>S(a[0]),(a,b,c)=>{"Closed"===a.state._tag?b.unsafeInterruptAsFork(J.combine(c?.interruptAs??J.none,X)):a.state.backing.has(b)||(a.state.backing.add(b),b.addObserver(d=>{"Closed"!==a.state._tag&&(a.state.backing.delete(b),!H.isFailure(d)||(c?.propagateInterruption===!0?Y(d.cause):E.isInterruptedOnly(d.cause))||F.unsafeDone(a.deferred,d))}))}),$=a=>F.await(a.deferred);var _=a.i(614639),aa=a.i(831135),ab=a.i(852845),ac=z,ad=a.i(125340),ae=a.i(204456),af=K,ag=N,ah=ab,ai=O,aj=a.i(28528),ak=a.i(356721),al=a.i(774342),am=a.i(744661),an=a.i(277968),ao=a.i(530225);let ap=Symbol.for("effect/Pool"),aq={_E:a=>a,_A:a=>a},ar=a=>ak.uninterruptibleMask(b=>ak.flatMap(ak.context(),c=>{let d=ac.get(c,an.scopeTag),e=new au(d,ak.mapInputContext(a.acquire,a=>ac.merge(c,a)),a.concurrency??1,a.min,a.max,a.strategy,Math.min(Math.max(a.targetUtilization??1,.1),1)),f=ak.tap(an.forkDaemon(b(e.resize)),a=>d.addFinalizer(()=>ak.interruptFiber(a))),g=ak.tap(an.forkDaemon(b(a.strategy.run(e))),a=>d.addFinalizer(()=>ak.interruptFiber(a)));return ak.succeed(e).pipe(ak.zipLeft(d.addFinalizer(()=>e.shutdown)),ak.zipLeft(f),ak.zipLeft(g))})),as=a=>ar({...a,min:a.size,max:a.size,strategy:av()}),at=a=>ak.flatMap("creation"===a.timeToLiveStrategy?aw(a.timeToLive):ax(a.timeToLive),b=>ar({...a,strategy:b}));class au extends ae.Class{scope;acquire;concurrency;minSize;maxSize;strategy;targetUtilization;[ap];isShuttingDown=!1;semaphore;items=new Set;available=new Set;availableLatch=am.unsafeMakeLatch(!1);invalidated=new Set;waiters=0;constructor(a,b,c,d,e,f,g){super(),this.scope=a,this.acquire=b,this.concurrency=c,this.minSize=d,this.maxSize=e,this.strategy=f,this.targetUtilization=g,this[ap]=aq,this.semaphore=am.unsafeMakeSemaphore(c*e)}allocate=ak.acquireUseRelease(an.scopeMake(),a=>this.acquire.pipe(an.scopeExtend(a),ak.exit,ak.flatMap(b=>{let c={exit:b,finalizer:ak.catchAllCause(a.close(b),ay),refCount:0,disableReclaim:!1};return this.items.add(c),this.available.add(c),ak.as("Success"===b._tag?this.strategy.onAcquire(c):ak.zipRight(c.finalizer,this.strategy.onAcquire(c)),c)})),(a,b)=>"Failure"===b._tag?a.close(b):ak.void);get currentUsage(){let a=this.waiters;for(let b of this.items)a+=b.refCount;return a}get targetSize(){if(this.isShuttingDown)return 0;let a=Math.ceil(this.currentUsage/this.targetUtilization/this.concurrency);return Math.min(Math.max(this.minSize,a),this.maxSize)}get activeSize(){return this.items.size-this.invalidated.size}resizeLoop=ak.suspend(()=>{if(this.activeSize>=this.targetSize)return ak.void;let a=this.targetSize-this.activeSize;return this.strategy.reclaim(this).pipe(ak.flatMap(ah.match({onNone:()=>this.allocate,onSome:ak.succeed})),an.replicateEffect(a,{concurrency:a}),ak.zipLeft(this.availableLatch.open),ak.flatMap(a=>a.some(a=>"Failure"===a.exit._tag)?ak.void:this.resizeLoop))});resizeSemaphore=am.unsafeMakeSemaphore(1);resize=this.resizeSemaphore.withPermits(1)(this.resizeLoop);getPoolItem=ak.uninterruptibleMask(a=>a(this.semaphore.take(1)).pipe(ak.zipRight(an.scopeTag),ak.flatMap(a=>ak.suspend(()=>{if(this.waiters++,this.isShuttingDown)return ak.interrupt;if(this.targetSize>this.activeSize){let a=this;return ak.flatMap(this.resizeSemaphore.withPermitsIfAvailable(1)(am.forkIn(ak.interruptible(this.resize),this.scope)),function b(){return a.isShuttingDown?ak.interrupt:a.available.size>0?ak.succeed(ag.unsafeHead(a.available)):(a.availableLatch.unsafeClose(),ak.flatMap(a.availableLatch.await,b))})}return ak.succeed(ag.unsafeHead(this.available))}).pipe(an.ensuring(ak.sync(()=>this.waiters--)),ak.tap(b=>"Failure"===b.exit._tag?(this.items.delete(b),this.invalidated.delete(b),this.available.delete(b),this.semaphore.release(1)):(b.refCount++,this.available.delete(b),b.refCount<this.concurrency&&this.available.add(b),a.addFinalizer(()=>ak.zipRight(ak.suspend(()=>(b.refCount--,this.invalidated.has(b))?this.invalidatePoolItem(b):(this.available.add(b),ak.exitVoid)),this.semaphore.release(1))))),ak.onInterrupt(()=>this.semaphore.release(1))))));commit(){return this.get}get=ak.flatMap(ak.suspend(()=>this.isShuttingDown?ak.interrupt:this.getPoolItem),a=>a.exit);invalidate(a){return ak.suspend(()=>{if(this.isShuttingDown)return ak.void;for(let b of this.items)if("Success"===b.exit._tag&&b.exit.value===a)return b.disableReclaim=!0,ak.uninterruptible(this.invalidatePoolItem(b));return ak.void})}invalidatePoolItem(a){return ak.suspend(()=>this.items.has(a)?0===a.refCount?(this.items.delete(a),this.available.delete(a),this.invalidated.delete(a),ak.zipRight(a.finalizer,am.forkIn(ak.interruptible(this.resize),this.scope))):(this.invalidated.add(a),this.available.delete(a),ak.void):ak.void)}get shutdown(){return ak.suspend(()=>{if(this.isShuttingDown)return ak.void;this.isShuttingDown=!0;let a=this.items.size,b=am.unsafeMakeSemaphore(a);return ak.forEachSequentialDiscard(this.items,a=>a.refCount>0?(a.finalizer=ak.zipLeft(a.finalizer,b.release(1)),this.invalidated.add(a),b.take(1)):(this.items.delete(a),this.available.delete(a),this.invalidated.delete(a),a.finalizer)).pipe(ak.zipRight(this.semaphore.releaseAll),ak.zipRight(this.availableLatch.open),ak.zipRight(b.take(a)))})}pipe(){return(0,ai.pipeArguments)(this,arguments)}}let av=()=>({run:a=>ak.void,onAcquire:a=>ak.void,reclaim:a=>aj.succeedNone}),aw=a=>al.clockWith(b=>ak.map(ao.unbounded(),c=>{let d=ad.toMillis(a),e=new WeakMap;return(0,af.identity)({run:a=>{let f=c=>ak.suspend(()=>{if(!a.items.has(c)||a.invalidated.has(c))return ak.void;let g=d-(b.unsafeCurrentTimeMillis()-e.get(c));return g>0?aj.delay(f(c),g):a.invalidatePoolItem(c)});return c.take.pipe(ak.tap(f),aj.forever)},onAcquire:a=>ak.suspend(()=>(e.set(a,b.unsafeCurrentTimeMillis()),c.offer(a))),reclaim:a=>aj.succeedNone})})),ax=a=>ak.map(ao.unbounded(),b=>(0,af.identity)({run:c=>{let d=ak.suspend(()=>c.activeSize-c.targetSize<=0?ak.void:b.take.pipe(ak.tap(a=>c.invalidatePoolItem(a)),ak.zipRight(d)));return d.pipe(aj.delay(a),aj.forever)},onAcquire:a=>b.offer(a),reclaim:a=>ak.suspend(()=>{if(0===a.invalidated.size)return aj.succeedNone;let c=ag.head(ag.filter(a.invalidated,a=>!a.disableReclaim));return"None"===c._tag?aj.succeedNone:(a.invalidated.delete(c.value),c.value.refCount<a.concurrency&&a.available.add(c.value),ak.as(b.offer(c.value),c))})})),ay=a=>ak.withFiberRuntime(b=>{let c=b.getFiberRef(ak.currentUnhandledErrorLogLevel);return"Some"===c._tag&&b.log("Unhandled error in pool finalizer",a,c),ak.void}),az=as,aA=at;var aB=Q,aC=a.i(738791),aD=a.i(462665),aE=a.i(196945),aF=a.i(991788),aG=a.i(594449),aH=z,aI=B,aJ=ab,aK=a.i(357102),aL=aD;class aM extends aH.Tag("@effect/platform/Transferable/Collector")(){}let aN=()=>{let a=[],b=b=>{a.push(...b)},c=()=>a,d=()=>{let b=a;return a=[],b};return aM.of({unsafeAddAll:b,addAll:a=>aI.sync(()=>b(a)),unsafeRead:c,read:aI.sync(c),unsafeClear:d,clear:aI.sync(d)})},aO=a=>aI.flatMap(aI.serviceOption(aM),aJ.match({onNone:()=>aI.void,onSome:b=>b.addAll(a)}));aL.Any,aL.Any,aL.Uint8ArrayFromSelf,a=>[a.buffer];var aP=aD,aQ=aK;let aR=Symbol.for("@effect/platform/WorkerError");class aS extends aP.TaggedError()("WorkerError",{reason:aP.Literal("spawn","decode","send","unknown","encode"),cause:aP.Defect}){[aR]=aR;static Cause=aP.Cause({error:this,defect:aP.Defect});static encodeCause=aQ.encodeSync(this.Cause);static decodeCause=aQ.decodeSync(this.Cause);get message(){switch(this.reason){case"send":return"An error occurred calling .postMessage";case"spawn":return"An error occurred while spawning a worker";case"decode":return"An error occurred during decoding";case"encode":return"An error occurred during encoding";case"unknown":return"An unexpected error occurred"}}}let aT=Symbol.for("@effect/platform/Worker/PlatformWorker"),aU=z.GenericTag("@effect/platform/Worker/PlatformWorker"),aV=Symbol.for("@effect/platform/Worker/WorkerManager"),aW=z.GenericTag("@effect/platform/Worker/WorkerManager"),aX=z.GenericTag("@effect/platform/Worker/Spawner"),aY=B.gen(function*(){let a=yield*aU,b=0;return aW.of({[aV]:aV,spawn:({encode:c,initialMessage:d})=>B.gen(function*(){let e=b++,f=0,g=new Map,h=aN(),i=c?a=>B.zipRight(h.clear,B.provideService(c(a),aM,h)):B.succeed,j=yield*A.make(),k=yield*a.spawn(e);yield*k.run(a=>0===a[0]?A.complete(j,B.void):l(a[1])).pipe(B.onError(a=>B.forEach(g.values(),b=>A.DeferredTypeId in b?A.failCause(b,a):b.failCause(a))),B.tapErrorCause(B.logWarning),B.retry(aC.spaced(1e3)),B.annotateLogs({package:"@effect/platform",module:"Worker"}),B.interruptible,B.forkScoped),yield*B.addFinalizer(()=>B.zipRight(B.forEach(g.values(),a=>A.DeferredTypeId in a?A.interrupt(a):a.end,{discard:!0}),B.sync(()=>g.clear())));let l=a=>B.suspend(()=>{let b=g.get(a[0]);if(!b)return B.void;switch(a[1]){case 0:return A.DeferredTypeId in b?A.succeed(b,a[2][0]):b.offerAll(a[2]);case 1:if(2===a.length)return A.DeferredTypeId in b?A.interrupt(b):b.end;return A.DeferredTypeId in b?A.succeed(b,a[2][0]):B.zipRight(b.offerAll(a[2]),b.end);case 2:case 3:{if(2===a[1])return A.DeferredTypeId in b?A.fail(b,a[2]):b.fail(a[2]);let c=aS.decodeCause(a[2]);return A.DeferredTypeId in b?A.failCause(b,c):b.failCause(c)}}}),m=(a,b)=>B.withFiberRuntime(c=>{let d=c.getFiberRef(D.currentContext),e=z.getOption(d,aG.ParentSpan).pipe(ab.filter(a=>"Span"===a._tag)),j=f++;return b.pipe(B.tap(b=>(g.set(j,b),i(a).pipe(B.tap(a=>k.send([j,0,a,"Some"===e._tag?[e.value.traceId,e.value.spanId,e.value.sampled]:void 0],h.unsafeRead())),B.catchAllCause(a=>aa.isMailbox(b)?b.failCause(a):A.failCause(b,a))))),B.map(a=>({id:j,mailbox:a})))}),n=({id:a},b)=>{let c=B.sync(()=>g.delete(a));return C.isFailure(b)?B.zipRight(B.orDie(k.send([a,1])),c):c},o=a=>aF.fromChannel(y.acquireUseRelease(m(a,aa.make()),({mailbox:a})=>aa.toChannel(a),n)),p=a=>B.acquireUseRelease(m(a,A.make()),({mailbox:a})=>A.await(a),n);return yield*A.await(j),d&&(yield*B.sync(d).pipe(B.flatMap(p),B.mapError(a=>new aS({reason:"spawn",cause:a})))),{id:e,execute:o,executeEffect:p}})})}),aZ=a=>_.succeed(aX,a),a$=()=>a=>aU.of({[aT]:aT,spawn:b=>B.gen(function*(){let c,d=yield*aX,e=[];return{run:f=>B.uninterruptibleMask(g=>B.gen(function*(){let h=yield*B.scope,i=yield*a.setup({worker:d(b),scope:h});c=i,yield*aE.addFinalizer(h,B.sync(()=>{c=void 0}));let j=(yield*B.runtime()).pipe(aB.updateContext(z.omit(aE.Scope))),k=yield*V(),l=aB.runFork(j);if(yield*a.listen({port:i,scope:h,emit(a){Z(k,l(f(a)))},deferred:k.deferred}),e.length>0){for(let[a,b]of e)i.postMessage([0,a],b);e.length=0}return yield*g($(k))}).pipe(B.scoped)),send:(a,b)=>B.try({try:()=>{void 0===c?e.push([a,b]):c.postMessage([0,a],b)},catch:a=>new aS({reason:"send",cause:a})})}})}),a_=aU,a0=aZ;var a1=A,a2=B,a3=_,a4=aE;let a5=a$()({setup({scope:a,worker:b}){let c="port"in b?b.port:b;return a2.as(a4.addFinalizer(a,a2.sync(()=>{c.postMessage([1])})),c)},listen({deferred:a,emit:b,port:c,scope:d}){function e(a){b(a.data)}function f(b){a1.unsafeDone(a,new aS({reason:"unknown",cause:b.error??b.message}))}return c.addEventListener("message",e),c.addEventListener("error",f),"start"in c&&c.start(),a4.addFinalizer(d,a2.sync(()=>{c.removeEventListener("message",e),c.removeEventListener("error",f)}))}}),a6=a3.succeed(a_,a5),a7=a=>a3.merge(a6,a0(a));var a8=D,a9=a.i(587404),ba=K,bb=a.i(366963),bc=M,bd=a.i(279353),be=a.i(258046),bf=aD;a.i(447932);let bg=Symbol.for("@effect/platform/Headers"),bh=Object.assign(Object.create(null),{[bg]:bg,[bc.symbolRedactable](a){return bq(this,a9.getOrDefault(a,br))}}),bi=a=>Object.assign(Object.create(bh),a);bf.String,bf.String,ba.identity;let bj=Object.create(bh),bk=a=>{if(void 0===a)return bj;if(Symbol.iterator in a){let b=Object.create(bh);for(let[c,d]of a)b[c.toLowerCase()]=d;return b}let b=Object.create(bh);for(let[c,d]of Object.entries(a))Array.isArray(d)?b[c.toLowerCase()]=d.join(", "):void 0!==d&&(b[c.toLowerCase()]=d);return b},bl=a=>Object.setPrototypeOf(a,bh),bm=(0,ba.dual)(3,(a,b,c)=>{let d=bi(a);return d[b.toLowerCase()]=c,d}),bn=(0,ba.dual)(2,(a,b)=>bi({...a,...bk(b)})),bo=(0,ba.dual)(2,(a,b)=>{let c=bi(a);return Object.assign(c,b),c}),bp=(0,ba.dual)(2,(a,b)=>{let c=bi(a),d=b=>{if("string"==typeof b){let d=b.toLowerCase();d in a&&delete c[d]}else for(let d in a)b.test(d)&&delete c[d]};if(Array.isArray(b))for(let a=0;a<b.length;a++)d(b[a]);else d(b);return c}),bq=(0,ba.dual)(2,(a,b)=>{let c={...a},d=b=>{if("string"==typeof b){let d=b.toLowerCase();d in a&&(c[d]=be.make(a[d]))}else for(let d in a)b.test(d)&&(c[d]=be.make(a[d]))};if(Array.isArray(b))for(let a=0;a<b.length;a++)d(b[a]);else d(b);return c}),br=(0,bb.globalValue)("@effect/platform/Headers/currentRedactedNames",()=>a8.unsafeMake(["authorization","cookie","set-cookie","x-api-key"]));a.s(["currentRedactedNames",0,br,"empty",0,bj,"fromInput",0,bk,"merge",0,bo,"redact",0,bq,"remove",0,bp,"set",0,bm,"setAll",0,bn,"unsafeFromRecord",0,bl],395184);var bs=a.i(546081),bt=M,bu=a.i(584709),bv=a.i(524263),bw=a.i(536350),bx=K,by=aD;let bz=a=>{let b=bA(a),c=[];for(let a=0;a<b.length;a++)if(Array.isArray(b[a][0])){let[d,e]=b[a];c.push([`${d[0]}[${d.slice(1).join("][")}]`,e])}else c.push(b[a]);return c},bA=a=>{let b=Symbol.iterator in a?bv.fromIterable(a):Object.entries(a),c=[];for(let[a,d]of b)if(Array.isArray(d))for(let b=0;b<d.length;b++)void 0!==d[b]&&c.push([a,String(d[b])]);else if("object"==typeof d)for(let[b,e]of bA(d))c.push([[a,..."string"==typeof b?[b]:b],e]);else void 0!==d&&c.push([a,String(d)]);return c},bB=[],bC=((a,b,c)=>bv.append(bv.filter(a,([a])=>a!==b),[b,String(c)]),(0,bx.dual)(2,(a,b)=>{let c=bz(b),d=c.map(([a])=>a);return bv.appendAll(bv.filter(a,([a])=>d.includes(a)),c)})),bD=((a,b,c)=>bv.append(a,[b,String(c)]),(a,b,c)=>{try{let d=new URL(a,bE());for(let a=0;a<b.length;a++){let[c,e]=b[a];void 0!==e&&d.searchParams.append(c,e)}return"Some"===c._tag&&(d.hash=c.value),bw.right(d)}catch(a){return bw.left(a)}}),bE=()=>{if("location"in globalThis&&void 0!==globalThis.location&&void 0!==globalThis.location.origin&&void 0!==globalThis.location.pathname)return location.origin+location.pathname};by.String;let bF=Symbol.for("@effect/platform/HttpBody"),bG=Symbol.for("@effect/platform/HttpBody/HttpBodyError"),bH=bs.tagged("HttpBodyError");class bI{[bF];constructor(){this[bF]=bF}[bt.NodeInspectSymbol](){return this.toJSON()}toString(){return bt.format(this)}}class bJ extends bI{_tag="Empty";toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Empty"}}}let bK=new bJ;class bL extends bI{body;contentType;_tag="Uint8Array";constructor(a,b){super(),this.body=a,this.contentType=b}get contentLength(){return this.body.length}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Uint8Array",body:this.contentType.startsWith("text/")||this.contentType.endsWith("json")?new TextDecoder().decode(this.body):`Uint8Array(${this.body.length})`,contentType:this.contentType,contentLength:this.contentLength}}}(a,b)=>new bL(a,b??"application/octet-stream");var bM=E,bN=z,bO=B,bP=D,bQ=K,bR=bb,bS=M,bT=_,bU=O,bV=P,bW=a.i(99894),bX=aC,bY=aE,bZ=aF,b$=ad,b_=bw,b0=K,b1=M,b2=ab,b3=O,b4=bd,b5=a.i(811030);let b6=Symbol.for("@effect/platform/Cookies"),b7=Symbol.for("@effect/platform/Cookies/Cookie"),b8=Symbol.for("@effect/platform/Cookies/CookieError");class b9 extends(0,b5.TypeIdError)(b8,"CookieError"){get message(){return this.reason}}let ca={[b6]:b6,...b1.BaseProto,toJSON(){return{_id:"@effect/platform/Cookies",cookies:b4.map(this.cookies,a=>a.toJSON())}},pipe(){return(0,b3.pipeArguments)(this,arguments)}},cb=a=>{let b=Object.create(ca);return b.cookies=a,b},cc=a=>{let b={};for(let c of a)b[c.name]=c;return cb(b)},cd=a=>{let b=[];for(let c of"string"==typeof a?[a]:a){let a=ce(c.trim());b2.isSome(a)&&b.push(a.value)}return cc(b)};function ce(a){let b=a.split(";").map(a=>a.trim()).filter(a=>""!==a);if(0===b.length)return b2.none();let c=b[0].indexOf("=");if(-1===c)return b2.none();let d=b[0].slice(0,c);if(!cg.test(d))return b2.none();let e=b[0].slice(c+1),f=cl(e);if(1===b.length)return b2.some(Object.assign(Object.create(ch),{name:d,value:f,valueEncoded:e}));let g={};for(let a=1;a<b.length;a++){let c=b[a],d=c.indexOf("="),e=-1===d?c:c.slice(0,d).trim(),f=-1===d?void 0:c.slice(d+1).trim();switch(e.toLowerCase()){case"domain":{if(void 0===f)break;let a=f.trim().replace(/^\./,"");a&&(g.domain=a);break}case"expires":{if(void 0===f)break;let a=new Date(f);isNaN(a.getTime())||(g.expires=a);break}case"max-age":{if(void 0===f)break;let a=parseInt(f,10);isNaN(a)||(g.maxAge=b$.seconds(a));break}case"path":if(void 0===f)break;"/"===f[0]&&(g.path=f);break;case"priority":if(void 0===f)break;switch(f.toLowerCase()){case"low":g.priority="low";break;case"medium":g.priority="medium";break;case"high":g.priority="high"}break;case"httponly":g.httpOnly=!0;break;case"secure":g.secure=!0;break;case"partitioned":g.partitioned=!0;break;case"samesite":if(void 0===f)break;switch(f.toLowerCase()){case"lax":g.sameSite="lax";break;case"strict":g.sameSite="strict";break;case"none":g.sameSite="none"}}}return b2.some(Object.assign(Object.create(ch),{name:d,value:f,valueEncoded:e,options:Object.keys(g).length>0?g:void 0}))}let cf=a=>b4.isEmptyRecord(a.cookies),cg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ch={[b7]:b7,...b1.BaseProto,toJSON(){return{_id:"@effect/platform/Cookies/Cookie",name:this.name,value:this.value,options:this.options}}};function ci(a,b,c){if(!cg.test(a))return b_.left(new b9({reason:"InvalidName"}));let d=encodeURIComponent(b);if(d&&!cg.test(d))return b_.left(new b9({reason:"InvalidValue"}));if(void 0!==c){if(void 0!==c.domain&&!cg.test(c.domain))return b_.left(new b9({reason:"InvalidDomain"}));if(void 0!==c.path&&!cg.test(c.path))return b_.left(new b9({reason:"InvalidPath"}));if(void 0!==c.maxAge&&!b$.isFinite(b$.decode(c.maxAge)))return b_.left(new b9({reason:"InfinityMaxAge"}))}return b_.right(Object.assign(Object.create(ch),{name:a,value:b,valueEncoded:d,options:c}))}let cj=(0,b0.dual)(2,(a,b)=>cb({...a.cookies,...b.cookies})),ck=((a,b)=>{let c={...a.cookies};for(let[a,d,e]of b){let b=ci(a,d,e);if(b_.isLeft(b))return b;c[a]=b.right}return b_.right(cb(c))},a=>Object.values(a.cookies).map(a=>`${a.name}=${a.valueEncoded}`).join("; ")),cl=a=>{try{return decodeURIComponent(a)}catch{return a}};var cm=P,cn=b5;let co=Symbol.for("@effect/platform/HttpClientError"),cp=a=>(0,cm.hasProperty)(a,co);class cq extends cn.TypeIdError(co,"RequestError"){get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){return this.description?`${this.reason}: ${this.description} (${this.methodAndUrl})`:`${this.reason} error (${this.methodAndUrl})`}}class cr extends cn.TypeIdError(co,"ResponseError"){get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){let a=`${this.response.status} ${this.methodAndUrl}`;return this.description?`${this.reason}: ${this.description} (${a})`:`${this.reason} error (${a})`}}a.s(["RequestError",()=>cq,"ResponseError",()=>cr,"isHttpClientError",0,cp],122385);var cs=z,ct=B,cu=M,cv=ab;let cw=Symbol.for("@effect/platform/HttpIncomingMessage");cv.none;let cx=(a,b)=>{let c,d=a.headers["content-type"]??"";if(d.includes("application/json"))try{c=ct.runSync(a.json)}catch{}else if(d.includes("text/")||d.includes("urlencoded"))try{c=ct.runSync(a.text)}catch{}let e={...b,headers:cu.redact(a.headers),remoteAddress:a.remoteAddress.toJSON()};return void 0!==c&&(e.body=c),e},cy=a=>bl({b3:`${a.traceId}-${a.spanId}-${a.sampled?"1":"0"}${"Some"===a.parent._tag?`-${a.parent.value.spanId}`:""}`,traceparent:`00-${a.traceId}-${a.spanId}-${a.sampled?"01":"00"}`});var cz=K,cA=M,cB=ab,cC=O;let cD=Symbol.for("@effect/platform/HttpClientRequest"),cE={[cD]:cD,...cA.BaseProto,toJSON(){return{_id:"@effect/platform/HttpClientRequest",method:this.method,url:this.url,urlParams:this.urlParams,hash:this.hash,headers:cA.redact(this.headers),body:this.body.toJSON()}},pipe(){return(0,cC.pipeArguments)(this,arguments)}};function cF(a,b,c,d,e,f){let g=Object.create(cE);return g.method=a,g.url=b,g.urlParams=c,g.hash=d,g.headers=e,g.body=f,g}let cG=cF("GET","",bB,cB.none(),bj,bK),cH=a=>(b,c)=>cP(cG,{method:a,url:b,...c??void 0}),cI=cH("GET"),cJ=cH("POST"),cK=cH("PUT"),cL=cH("PATCH"),cM=cH("DELETE"),cN=cH("HEAD"),cO=cH("OPTIONS"),cP=(0,cz.dual)(2,(a,b)=>{let c=a;return b.method&&(c=cU(c,b.method)),b.url&&(c=cV(c,b.url)),b.headers&&(c=cR(c,b.headers)),b.urlParams&&(c=cW(c,b.urlParams)),b.hash&&(c=cX(c,b.hash)),b.body&&(c=cY(c,b.body)),b.accept&&(c=cS(c,b.accept)),b.acceptJson&&(c=cT(c)),c}),cQ=(0,cz.dual)(3,(a,b,c)=>cF(a.method,a.url,a.urlParams,a.hash,bm(a.headers,b,c),a.body)),cR=(0,cz.dual)(2,(a,b)=>cF(a.method,a.url,a.urlParams,a.hash,bn(a.headers,b),a.body)),cS=(0,cz.dual)(2,(a,b)=>cQ(a,"Accept",b)),cT=cS("application/json"),cU=(0,cz.dual)(2,(a,b)=>cF(b,a.url,a.urlParams,a.hash,a.headers,a.body)),cV=(0,cz.dual)(2,(a,b)=>{if("string"==typeof b)return cF(a.method,b,a.urlParams,a.hash,a.headers,a.body);let c=new URL(b.toString()),d=bz(c.searchParams),e=c.hash?cB.some(c.hash.slice(1)):cB.none();return c.search="",c.hash="",cF(a.method,c.toString(),d,e,a.headers,a.body)}),cW=(0,cz.dual)(2,(a,b)=>cF(a.method,a.url,bC(a.urlParams,b),a.hash,a.headers,a.body)),cX=(0,cz.dual)(2,(a,b)=>cF(a.method,a.url,a.urlParams,cB.some(b),a.headers,a.body)),cY=(0,cz.dual)(2,(a,b)=>{let c=a.headers;if("Empty"===b._tag||"FormData"===b._tag)c=bp(c,["Content-type","Content-length"]);else{let a=b.contentType;a&&(c=bm(c,"content-type",a));let d=b.contentLength;d&&(c=bm(c,"content-length",d.toString()))}return cF(a.method,a.url,a.urlParams,a.hash,c,b)});var cZ=B,c$=K,c_=M,c0=ab,c1=aF;let c2=Symbol.for("@effect/platform/HttpClientResponse"),c3=(a,b)=>new c4(a,b);class c4 extends c_.Class{request;source;[cw];[c2];constructor(a,b){super(),this.request=a,this.source=b,this[cw]=cw,this[c2]=c2}toJSON(){return cx(this,{_id:"@effect/platform/HttpClientResponse",request:this.request.toJSON(),status:this.status})}get status(){return this.source.status}get headers(){return bk(this.source.headers)}cachedCookies;get cookies(){return this.cachedCookies?this.cachedCookies:this.cachedCookies=cd(this.source.headers.getSetCookie())}get remoteAddress(){return c0.none()}get stream(){return this.source.body?c1.fromReadableStream(()=>this.source.body,a=>new cr({request:this.request,response:this,reason:"Decode",cause:a})):c1.fail(new cr({request:this.request,response:this,reason:"EmptyBody",description:"can not create stream from empty body"}))}get json(){return cZ.tryMap(this.text,{try:a=>""===a?null:JSON.parse(a),catch:a=>new cr({request:this.request,response:this,reason:"Decode",cause:a})})}textBody;get text(){return this.textBody??=cZ.tryPromise({try:()=>this.source.text(),catch:a=>new cr({request:this.request,response:this,reason:"Decode",cause:a})}).pipe(cZ.cached,cZ.runSync)}get urlParamsBody(){return cZ.flatMap(this.text,a=>cZ.try({try:()=>bz(new URLSearchParams(a)),catch:a=>new cr({request:this.request,response:this,reason:"Decode",cause:a})}))}formDataBody;get formData(){return this.formDataBody??=cZ.tryPromise({try:()=>this.source.formData(),catch:a=>new cr({request:this.request,response:this,reason:"Decode",cause:a})}).pipe(cZ.cached,cZ.runSync)}arrayBufferBody;get arrayBuffer(){return this.arrayBufferBody??=cZ.tryPromise({try:()=>this.source.arrayBuffer(),catch:a=>new cr({request:this.request,response:this,reason:"Decode",cause:a})}).pipe(cZ.cached,cZ.runSync)}}let c5=(0,c$.dual)(2,(a,b)=>cZ.suspend(()=>b(a.status)?cZ.succeed(a):cZ.fail(new cr({response:a,request:a.request,reason:"StatusCode",description:"invalid status code"})))),c6=a=>a.status>=200&&a.status<300?cZ.succeed(a):cZ.fail(new cr({response:a,request:a.request,reason:"StatusCode",description:"non 2xx status code"}));a.s(["TypeId",0,c2,"filterStatus",0,c5,"filterStatusOk",0,c6,"fromWeb",0,c3],624175);let c7=a=>`http.request.header.${a}`,c8="http.request.method",c9=a=>`http.response.header.${a}`,da="http.response.status_code",db="server.address",dc="server.port",dd="url.full",de="url.path",df="url.scheme",dg="url.query",dh=Symbol.for("@effect/platform/HttpClient"),di=bN.GenericTag("@effect/platform/HttpClient"),dj=(0,bR.globalValue)(Symbol.for("@effect/platform/HttpClient/tracerDisabledWhen"),()=>bP.unsafeMake(bQ.constFalse)),dk=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.locally(dj,b))),dl=(0,bR.globalValue)(Symbol.for("@effect/platform/HttpClient/currentTracerPropagation"),()=>bP.unsafeMake(!0)),dm=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.locally(dl,b))),dn=bN.Reference()("@effect/platform/HttpClient/SpanNameGenerator",{defaultValue:()=>a=>`http.client ${a.method}`}),dp=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.provideService(dn,b))),dq={[dh]:dh,pipe(){return(0,bU.pipeArguments)(this,arguments)},...bS.BaseProto,toJSON:()=>({_id:"@effect/platform/HttpClient"}),get(a,b){return this.execute(cI(a,b))},head(a,b){return this.execute(cN(a,b))},post(a,b){return this.execute(cJ(a,b))},put(a,b){return this.execute(cK(a,b))},patch(a,b){return this.execute(cL(a,b))},del(a,b){return this.execute(cM(a,b))},options(a,b){return this.execute(cO(a,b))}},dr=a=>bV.hasProperty(a,dh),ds=(a,b)=>{let c=Object.create(dq);return c.preprocess=b,c.postprocess=a,c.execute=function(c){return a(b(c))},c},dt=(0,bR.globalValue)("@effect/platform/HttpClient/responseRegistry",()=>{if("FinalizationRegistry"in globalThis&&globalThis.FinalizationRegistry){let a=new FinalizationRegistry(a=>{a.abort()});return{register(b,c){a.register(b,c,b)},unregister(b){a.unregister(b)}}}let a=new Map;return{register(b,c){a.set(b,setTimeout(()=>c.abort(),5e3))},unregister(b){let c=a.get(b);void 0!==c&&(clearTimeout(c),a.delete(b))}}}),du=(0,bR.globalValue)("@effect/platform/HttpClient/scopedRequests",()=>new WeakMap),dv=a=>ds(b=>bO.flatMap(b,b=>bO.withFiberRuntime(c=>{let d=du.get(b),e=d??new AbortController,f=bD(b.url,b.urlParams,b.hash);if("Left"===f._tag)return bO.fail(new cq({request:b,reason:"InvalidUrl",cause:f.left}));let g=f.right;if(!c.getFiberRef(bP.currentTracerEnabled)||c.getFiberRef(dj)(b)){let f=a(b,g,e.signal,c);return d?f:bO.uninterruptibleMask(a=>bO.matchCauseEffect(a(f),{onSuccess:a=>(dt.register(a,e),bO.succeed(new dw(a,e))),onFailure:a=>(bM.isInterrupted(a)&&e.abort(),bO.failCause(a))}))}let h=bN.get(c.currentContext,dn);return bO.useSpan(h(b),{kind:"client",captureStackTrace:!1},f=>{f.attribute(c8,b.method),f.attribute(db,g.origin),""!==g.port&&f.attribute(dc,+g.port),f.attribute(dd,g.toString()),f.attribute(de,g.pathname),f.attribute(df,g.protocol.slice(0,-1));let h=g.search.slice(1);""!==h&&f.attribute(dg,h);let i=c.getFiberRef(br),j=bq(b.headers,i);for(let a in j)f.attribute(c7(a),String(j[a]));return b=c.getFiberRef(dl)?cR(b,cy(f)):b,bO.uninterruptibleMask(h=>h(a(b,g,e.signal,c)).pipe(bO.withParentSpan(f),bO.matchCauseEffect({onSuccess:a=>{f.attribute(da,a.status);let b=bq(a.headers,i);for(let a in b)f.attribute(c9(a),String(b[a]));return d?bO.succeed(a):(dt.register(a,e),bO.succeed(new dw(a,e)))},onFailure:a=>(!d&&bM.isInterrupted(a)&&e.abort(),bO.failCause(a))})))})})),bO.succeed);class dw{original;controller;constructor(a,b){this.original=a,this.controller=b}[c2]=c2;[cw]=cw;applyInterrupt(a){return bO.suspend(()=>(dt.unregister(this.original),bO.onInterrupt(a,()=>bO.sync(()=>{this.controller.abort()}))))}get request(){return this.original.request}get status(){return this.original.status}get headers(){return this.original.headers}get cookies(){return this.original.cookies}get remoteAddress(){return this.original.remoteAddress}get formData(){return this.applyInterrupt(this.original.formData)}get text(){return this.applyInterrupt(this.original.text)}get json(){return this.applyInterrupt(this.original.json)}get urlParamsBody(){return this.applyInterrupt(this.original.urlParamsBody)}get arrayBuffer(){return this.applyInterrupt(this.original.arrayBuffer)}get stream(){return bZ.suspend(()=>(dt.unregister(this.original),bZ.ensuring(this.original.stream,bO.sync(()=>{this.controller.abort()}))))}toJSON(){return this.original.toJSON()}[bS.NodeInspectSymbol](){return this.original[bS.NodeInspectSymbol]()}}let dx=a=>dG(a,(a,b)=>{let c=new AbortController;return du.set(b,c),bO.zipRight(bO.scopeWith(a=>bY.addFinalizer(a,bO.sync(()=>c.abort()))),a)}),{del:dy,execute:dz,get:dA,head:dB,options:dC,patch:dD,post:dE,put:dF}=bO.serviceFunctions(di),dG=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(bO.flatMap(a=>b(c.postprocess(bO.succeed(a)),a)),c.preprocess)}),dH=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.flatMap(c5(b)))),dI=a=>dJ(a,bO.flatMap(c6)),dJ=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(a=>b(c.postprocess(a)),c.preprocess)}),dK=(0,bQ.dual)(3,(a,b,c)=>dJ(a,bO.catchTag(b,c))),dL=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.catchTags(b))),dM=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.catchAll(b))),dN=(0,bQ.dual)(3,(a,b,c)=>dJ(a,bO.filterOrElse(b,c))),dO=(0,bQ.dual)(3,(a,b,c)=>dJ(a,bO.filterOrFail(b,c))),dP=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(c.postprocess,a=>bO.map(c.preprocess(a),b))}),dQ=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(c.postprocess,a=>bO.flatMap(c.preprocess(a),b))}),dR=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(c.postprocess,a=>c.preprocess(b(a)))}),dS=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(c.postprocess,a=>bO.flatMap(b(a),c.preprocess))}),dT=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.retry(b))),dU=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.retry({while:bX.ScheduleTypeId in b||void 0===b.while?dV:bV.or(dV,b.while),schedule:bX.ScheduleTypeId in b?b:b.schedule,times:bX.ScheduleTypeId in b?void 0:b.times}))),dV=a=>bV.hasProperty(a,bM.TimeoutExceptionTypeId)||dW(a),dW=a=>cp(a)&&("RequestError"===a._tag&&"Transport"===a.reason||"ResponseError"===a._tag&&a.response.status>=429),dX=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.tap(b))),dY=(0,bQ.dual)(2,(a,b)=>dJ(a,bO.tapError(b))),dZ=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(c.postprocess,a=>bO.tap(c.preprocess(a),b))}),d$=(0,bQ.dual)(2,(a,b)=>{let c=a;return ds(a=>bO.tap(c.postprocess(a),a=>bW.update(b,b=>cj(b,a.cookies))),a=>bO.flatMap(c.preprocess(a),a=>bO.map(bW.get(b),b=>cf(b)?a:cQ(a,"cookie",ck(b)))))}),d_=(0,bQ.dual)(a=>dr(a[0]),(a,b)=>{let c=a;return ds(a=>{let d=(a,e)=>bO.flatMap(c.postprocess(bO.succeed(a)),c=>c.status>=300&&c.status<400&&c.headers.location&&e<(b??10)?d(cV(a,new URL(c.headers.location,c.request.url)),e+1):bO.succeed(c));return bO.flatMap(a,a=>d(a,0))},c.preprocess)}),d0=a=>bT.effect(di,bO.flatMap(bO.context(),b=>bO.map(a,a=>dJ(a,bO.mapInputContext(a=>bN.merge(b,a))))));a.s(["SpanNameGenerator",0,dn,"TypeId",0,dh,"catchAll",0,dM,"catchTag",0,dK,"catchTags",0,dL,"currentTracerDisabledWhen",0,dj,"currentTracerPropagation",0,dl,"del",0,dy,"execute",0,dz,"filterOrElse",0,dN,"filterOrFail",0,dO,"filterStatus",0,dH,"filterStatusOk",0,dI,"followRedirects",0,d_,"get",0,dA,"head",0,dB,"layerMergedContext",0,d0,"make",0,dv,"makeWith",0,ds,"mapRequest",0,dP,"mapRequestEffect",0,dQ,"mapRequestInput",0,dR,"mapRequestInputEffect",0,dS,"options",0,dC,"patch",0,dD,"post",0,dE,"put",0,dF,"retry",0,dT,"retryTransient",0,dU,"tag",0,di,"tap",0,dX,"tapError",0,dY,"tapRequest",0,dZ,"transform",0,dG,"transformResponse",0,dJ,"withCookiesRef",0,d$,"withScope",0,dx,"withSpanNameGenerator",0,dp,"withTracerDisabledWhen",0,dk,"withTracerPropagation",0,dm],946215);var d1=a.i(24312),d2=P,d3=b5;let d4=Symbol.for("@effect/platform/Socket"),d5=Symbol.for("@effect/platform/Socket/SocketError"),d6=a=>d2.hasProperty(a,d5);class d7 extends(0,d3.TypeIdError)(d5,"SocketError"){static is(a){return d6(a)&&"Close"===a.reason}static isClean(a){return function(b){return d7.is(b)&&a(b.code)}}get message(){return this.closeReason?`${this.reason}: ${this.code}: ${this.closeReason}`:`${this.reason}: ${this.code}`}}var d8=E;a.i(799234);var d9=z,ea=B,eb=C,ec=I,ed=J,ee=D,ef=K,eg=bb,eh=_,ei=aa,ej=ab,ek=Q,el=aC,em=aD,en=aK,eo=aE,ep=aF,eq=B;let er=()=>a=>eq.suspend(()=>{let b=eq.unsafeMakeSemaphore(1),c=[],d=(...a)=>eq.contextWith(b=>{c.push([a,b])});return eq.map(a((...a)=>d(...a)),a=>({...a,run:a=>b.withPermits(1)(eq.gen(function*(){let b=d;for(let[b,e]of(d=a,c))yield*eq.provide(d(...b),e);return c=[],yield*eq.onExit(eq.never,()=>(d=b,eq.void))}))}))});var es=z,et=bb,eu=ab,ev=O,ew=a.i(324047),ex=aD,ey=B,ez=ab,eA=aK,eB=P,eC=aD,eD=a.i(528831),eE=aF;let eF=Symbol.for("@effect/rpc/RpcSchema/Stream"),eG=a=>a.ast.annotations[eD.SchemaIdAnnotationId]===eF,eH=a=>a.annotations[eF]?ez.some(a.annotations[eF]):ez.none(),eI=({failure:a,success:b})=>Object.assign(eC.declare([b,a],{decode:(a,b)=>eK(eA.decodeUnknown(eC.ChunkFromSelf(a)),eA.decodeUnknown(b)),encode:(a,b)=>eK(eA.encodeUnknown(eC.ChunkFromSelf(a)),eA.encodeUnknown(b))},{schemaId:eF,[eF]:{success:b,failure:a}}),{success:b,failure:a}),eJ=a=>(0,eB.hasProperty)(a,eE.StreamTypeId),eK=(a,b)=>(c,d,e)=>ey.flatMap(ey.context(),f=>eJ(c)?ey.succeed(c.pipe(eE.mapChunksEffect(b=>a(b,d)),eE.catchAll(a=>eA.isParseError(a)?eE.die(a):ey.matchEffect(b(a,d),{onFailure:ey.die,onSuccess:ey.fail})),eE.provideContext(f))):ey.fail(new eA.Type(e,c))),eL=Symbol.for("@effect/rpc/Rpc"),eM={[eL]:eL,pipe(){return(0,ev.pipeArguments)(this,arguments)},setSuccess(a){return eN({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:a,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},setError(a){return eN({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:a,annotations:this.annotations,middlewares:this.middlewares})},setPayload(a){return eN({_tag:this._tag,payloadSchema:ex.isSchema(a)?a:ex.Struct(a),successSchema:this.successSchema,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},middleware(a){return eN({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:new Set([...this.middlewares,a])})},prefix(a){return eN({_tag:`${a}${this._tag}`,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},annotate(a,b){return eN({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,middlewares:this.middlewares,annotations:es.add(this.annotations,a,b)})},annotateContext(a){return eN({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,middlewares:this.middlewares,annotations:es.merge(this.annotations,a)})}},eN=a=>{function b(){}return Object.setPrototypeOf(b,eM),Object.assign(b,a),b.key=`@effect/rpc/Rpc/${a._tag}`,b},eO=(a,b)=>{let c,d=b?.success??ex.Void,e=b?.error??ex.Never;return c=b?.primaryKey?class extends ex.Class(`@effect/rpc/Rpc/${a}`)(b.payload){[ew.symbol](){return b.primaryKey(this)}}:ex.isSchema(b?.payload)?b?.payload:b?.payload?ex.Struct(b?.payload):ex.Void,eN({_tag:a,payloadSchema:c,successSchema:b?.stream?eI({success:d,failure:e}):d,errorSchema:b?.stream?ex.Never:e,annotations:es.empty(),middlewares:new Set})},eP=a=>eN({_tag:a._tag,payloadSchema:a,successSchema:a.success,errorSchema:a.failure,annotations:es.empty(),middlewares:new Set}),eQ=(0,et.globalValue)("@effect/rpc/Rpc/exitSchemaCache",()=>new WeakMap),eR=a=>{if(eQ.has(a))return eQ.get(a);let b=a,c=new Set([b.errorSchema]),d=eH(b.successSchema.ast);for(let a of(eu.isSome(d)&&c.add(d.value.failure),b.middlewares))c.add(a.failure);let e=ex.Exit({success:eu.isSome(d)?ex.Void:b.successSchema,failure:ex.Union(...c),defect:ex.Defect});return eQ.set(a,e),e},eS=Symbol.for("@effect/rpc/Rpc/Wrapper"),eT=a=>eS in a;var eU=aD;let eV=Symbol.for("@effect/rpc/RpcClientError");class eW extends eU.TaggedError("@effect/rpc/RpcClientError")("RpcClientError",{reason:eU.Literal("Protocol","Unknown"),message:eU.String,cause:eU.optional(eU.Defect)}){[eV]=eV}let eX=a=>"bigint"==typeof a?a:BigInt(a);aD.Defect;var eY=z;try{n=new TextDecoder}catch(a){}var eZ=0;let e$=[];var e_=e$,e0=0,e1={},e2=0,e3=0,e4=[],e5={useRecords:!1,mapsAsObjects:!0};class e6{}let e7=new e6;e7.name="MessagePack 0xC1";var e8=!1,e9=2;try{Function("")}catch(a){e9=1/0}class fa{constructor(a){a&&(!1===a.useRecords&&void 0===a.mapsAsObjects&&(a.mapsAsObjects=!0),a.sequential&&!1!==a.trusted&&(a.trusted=!0,!a.structures&&!1!=a.useRecords&&(a.structures=[],a.maxSharedStructures||(a.maxSharedStructures=0))),a.structures?a.structures.sharedLength=a.structures.length:a.getStructures&&((a.structures=[]).uninitialized=!0,a.structures.sharedLength=0),a.int64AsNumber&&(a.int64AsType="number")),Object.assign(this,a)}unpack(a,b){if(o)return fF(()=>(fG(),this?this.unpack(a,b):fa.prototype.unpack.call(e5,a,b)));a.buffer||a.constructor!==ArrayBuffer||(a="undefined"!=typeof Buffer?Buffer.from(a):new Uint8Array(a)),"object"==typeof b?(p=b.end||a.length,eZ=b.start||0):(eZ=0,p=b>-1?b:a.length),e0=0,e3=0,r=null,e_=e$,s=null,o=a;try{u=a.dataView||(a.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength))}catch(b){if(o=null,a instanceof Uint8Array)throw b;throw Error("Source must be a Uint8Array or Buffer but was a "+(a&&"object"==typeof a?a.constructor.name:typeof a))}return this instanceof fa?(e1=this,this.structures?q=this.structures:(!q||q.length>0)&&(q=[])):(e1=e5,(!q||q.length>0)&&(q=[])),fb(b)}unpackMultiple(a,b){let c,d=0;try{e8=!0;let e=a.length,f=this?this.unpack(a,e):fI.unpack(a,e);if(b){if(!1===b(f,d,eZ))return;for(;eZ<e;)if(d=eZ,!1===b(fb(),d,eZ))return}else{for(c=[f];eZ<e;)d=eZ,c.push(fb());return c}}catch(a){throw a.lastPosition=d,a.values=c,a}finally{e8=!1,fG()}}_mergeStructures(a,b){w&&(a=w.call(this,a)),Object.isFrozen(a=a||[])&&(a=a.map(a=>a.slice(0)));for(let b=0,c=a.length;b<c;b++){let c=a[b];c&&(c.isShared=!0,b>=32&&(c.highByte=b-32>>5))}for(let c in a.sharedLength=a.length,b||[])if(c>=0){let d=a[c],e=b[c];e&&(d&&((a.restoreStructures||(a.restoreStructures=[]))[c]=d),a[c]=e)}return this.structures=a}decode(a,b){return this.unpack(a,b)}}function fb(a){try{let b;if(!e1.trusted&&!e8){let a=q.sharedLength||0;a<q.length&&(q.length=a)}if(e1.randomAccessStructure&&o[eZ]<64&&o[eZ]>=32&&v?(b=v(o,eZ,p,e1),o=null,!(a&&a.lazy)&&b&&(b=b.toJSON()),eZ=p):b=fd(),s&&(eZ=s.postBundlePosition,s=null),e8&&(q.restoreStructures=null),eZ==p)q&&q.restoreStructures&&fc(),q=null,o=null,t&&(t=null);else if(eZ>p)throw Error("Unexpected end of MessagePack data");else if(!e8){let a;try{a=JSON.stringify(b,(a,b)=>"bigint"==typeof b?`${b}n`:b).slice(0,100)}catch(b){a="(JSON view not available "+b+")"}throw Error("Data read, but end of buffer not reached "+a)}return b}catch(a){throw q&&q.restoreStructures&&fc(),fG(),(a instanceof RangeError||a.message.startsWith("Unexpected end of buffer")||eZ>p)&&(a.incomplete=!0),a}}function fc(){for(let a in q.restoreStructures)q[a]=q.restoreStructures[a];q.restoreStructures=null}function fd(){let a=o[eZ++];if(a<160)if(a<128)if(a<64)return a;else{let b=q[63&a]||e1.getStructures&&fh()[63&a];return b?(b.read||(b.read=ff(b,63&a)),b.read()):a}else if(a<144){if(a-=128,e1.mapsAsObjects){let b={};for(let c=0;c<a;c++){let a=fy();"__proto__"===a&&(a="__proto_"),b[a]=fd()}return b}{let b=new Map;for(let c=0;c<a;c++)b.set(fd(),fd());return b}}else{let b=Array(a-=144);for(let c=0;c<a;c++)b[c]=fd();return e1.freezeData?Object.freeze(b):b}if(a<192){let b=a-160;if(e3>=eZ)return r.slice(eZ-e2,(eZ+=b)-e2);if(0==e3&&p<140){let a=b<16?ft(b):fs(b);if(null!=a)return a}return fi(b)}{let b;switch(a){case 192:return null;case 193:if(s){if((b=fd())>0)return s[1].slice(s.position1,s.position1+=b);return s[0].slice(s.position0,s.position0-=b)}return e7;case 194:return!1;case 195:return!0;case 196:if(void 0===(b=o[eZ++]))throw Error("Unexpected end of buffer");return fv(b);case 197:return b=u.getUint16(eZ),eZ+=2,fv(b);case 198:return b=u.getUint32(eZ),eZ+=4,fv(b);case 199:return fw(o[eZ++]);case 200:return b=u.getUint16(eZ),eZ+=2,fw(b);case 201:return b=u.getUint32(eZ),eZ+=4,fw(b);case 202:if(b=u.getFloat32(eZ),e1.useFloat32>2){let a=fH[(127&o[eZ])<<1|o[eZ+1]>>7];return eZ+=4,(a*b+(b>0?.5:-.5)|0)/a}return eZ+=4,b;case 203:return b=u.getFloat64(eZ),eZ+=8,b;case 204:return o[eZ++];case 205:return b=u.getUint16(eZ),eZ+=2,b;case 206:return b=u.getUint32(eZ),eZ+=4,b;case 207:return"number"===e1.int64AsType?b=0x100000000*u.getUint32(eZ)+u.getUint32(eZ+4):"string"===e1.int64AsType?b=u.getBigUint64(eZ).toString():"auto"===e1.int64AsType?(b=u.getBigUint64(eZ))<=BigInt(2)<<BigInt(52)&&(b=Number(b)):b=u.getBigUint64(eZ),eZ+=8,b;case 208:return u.getInt8(eZ++);case 209:return b=u.getInt16(eZ),eZ+=2,b;case 210:return b=u.getInt32(eZ),eZ+=4,b;case 211:return"number"===e1.int64AsType?b=0x100000000*u.getInt32(eZ)+u.getUint32(eZ+4):"string"===e1.int64AsType?b=u.getBigInt64(eZ).toString():"auto"===e1.int64AsType?(b=u.getBigInt64(eZ))>=BigInt(-2)<<BigInt(52)&&b<=BigInt(2)<<BigInt(52)&&(b=Number(b)):b=u.getBigInt64(eZ),eZ+=8,b;case 212:if(114==(b=o[eZ++]))return fA(63&o[eZ++]);{let a=e4[b];if(a)if(a.read)return eZ++,a.read(fd());else if(a.noBuffer)return eZ++,a();else return a(o.subarray(eZ,++eZ));throw Error("Unknown extension "+b)}case 213:if(114==(b=o[eZ]))return eZ++,fA(63&o[eZ++],o[eZ++]);return fw(2);case 214:return fw(4);case 215:return fw(8);case 216:return fw(16);case 217:if(b=o[eZ++],e3>=eZ)return r.slice(eZ-e2,(eZ+=b)-e2);return fj(b);case 218:if(b=u.getUint16(eZ),eZ+=2,e3>=eZ)return r.slice(eZ-e2,(eZ+=b)-e2);return fk(b);case 219:if(b=u.getUint32(eZ),eZ+=4,e3>=eZ)return r.slice(eZ-e2,(eZ+=b)-e2);return fl(b);case 220:return b=u.getUint16(eZ),eZ+=2,fp(b);case 221:return b=u.getUint32(eZ),eZ+=4,fp(b);case 222:return b=u.getUint16(eZ),eZ+=2,fq(b);case 223:return b=u.getUint32(eZ),eZ+=4,fq(b);default:if(a>=224)return a-256;if(void 0===a){let a=Error("Unexpected end of MessagePack data");throw a.incomplete=!0,a}throw Error("Unknown MessagePack token "+a)}}}let fe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ff(a,b){function c(){if(c.count++>e9){let c=a.read=Function("r","return function(){return "+(e1.freezeData?"Object.freeze":"")+"({"+a.map(a=>"__proto__"===a?"__proto_:r()":fe.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"})}")(fd);return 0===a.highByte&&(a.read=fg(b,a.read)),c()}let d={};for(let b=0,c=a.length;b<c;b++){let c=a[b];"__proto__"===c&&(c="__proto_"),d[c]=fd()}return e1.freezeData?Object.freeze(d):d}return(c.count=0,0===a.highByte)?fg(b,c):c}let fg=(a,b)=>function(){let c=o[eZ++];if(0===c)return b();let d=a<32?-(a+(c<<5)):a+(c<<5),e=q[d]||fh()[d];if(!e)throw Error("Record id is not defined for "+d);return e.read||(e.read=ff(e,a)),e.read()};function fh(){let a=fF(()=>(o=null,e1.getStructures()));return q=e1._mergeStructures(a,q)}var fi=fn,fj=fn,fk=fn,fl=fn;function fm(a){function b(b){return function(c){let d=e_[e0++];if(null==d){if(s)return fn(c);let e=o.byteOffset,f=a(eZ-b+e,p+e,o.buffer);if("string"==typeof f)d=f,e_=e$;else if(e0=1,e3=1,void 0===(d=(e_=f)[0]))throw Error("Unexpected end of buffer")}let e=d.length;return e<=c?(eZ+=c,d):(r=d,e2=eZ,e3=eZ+e,eZ+=c,d.slice(0,c))}}fi=b(1),fj=b(2),fk=b(3),fl=b(5)}function fn(a){let b;if(a<16&&(b=ft(a)))return b;if(a>64&&n)return n.decode(o.subarray(eZ,eZ+=a));let c=eZ+a,d=[];for(b="";eZ<c;){let a=o[eZ++];if((128&a)==0)d.push(a);else if((224&a)==192){let b=63&o[eZ++];d.push((31&a)<<6|b)}else if((240&a)==224){let b=63&o[eZ++],c=63&o[eZ++];d.push((31&a)<<12|b<<6|c)}else if((248&a)==240){let b=(7&a)<<18|(63&o[eZ++])<<12|(63&o[eZ++])<<6|63&o[eZ++];b>65535&&(b-=65536,d.push(b>>>10&1023|55296),b=56320|1023&b),d.push(b)}else d.push(a);d.length>=4096&&(b+=fr.apply(String,d),d.length=0)}return d.length>0&&(b+=fr.apply(String,d)),b}function fo(a,b,c){let d=o;o=a,eZ=b;try{return fn(c)}finally{o=d}}function fp(a){let b=Array(a);for(let c=0;c<a;c++)b[c]=fd();return e1.freezeData?Object.freeze(b):b}function fq(a){if(e1.mapsAsObjects){let b={};for(let c=0;c<a;c++){let a=fy();"__proto__"===a&&(a="__proto_"),b[a]=fd()}return b}{let b=new Map;for(let c=0;c<a;c++)b.set(fd(),fd());return b}}var fr=String.fromCharCode;function fs(a){let b=eZ,c=Array(a);for(let d=0;d<a;d++){let a=o[eZ++];if((128&a)>0){eZ=b;return}c[d]=a}return fr.apply(String,c)}function ft(a){if(a<4)if(a<2)if(0===a)return"";else{let a=o[eZ++];if((128&a)>1){eZ-=1;return}return fr(a)}else{let b=o[eZ++],c=o[eZ++];if((128&b)>0||(128&c)>0){eZ-=2;return}if(a<3)return fr(b,c);let d=o[eZ++];if((128&d)>0){eZ-=3;return}return fr(b,c,d)}{let b=o[eZ++],c=o[eZ++],d=o[eZ++],e=o[eZ++];if((128&b)>0||(128&c)>0||(128&d)>0||(128&e)>0){eZ-=4;return}if(a<6)if(4===a)return fr(b,c,d,e);else{let a=o[eZ++];if((128&a)>0){eZ-=5;return}return fr(b,c,d,e,a)}if(a<8){let f=o[eZ++],g=o[eZ++];if((128&f)>0||(128&g)>0){eZ-=6;return}if(a<7)return fr(b,c,d,e,f,g);let h=o[eZ++];if((128&h)>0){eZ-=7;return}return fr(b,c,d,e,f,g,h)}{let f=o[eZ++],g=o[eZ++],h=o[eZ++],i=o[eZ++];if((128&f)>0||(128&g)>0||(128&h)>0||(128&i)>0){eZ-=8;return}if(a<10)if(8===a)return fr(b,c,d,e,f,g,h,i);else{let a=o[eZ++];if((128&a)>0){eZ-=9;return}return fr(b,c,d,e,f,g,h,i,a)}if(a<12){let j=o[eZ++],k=o[eZ++];if((128&j)>0||(128&k)>0){eZ-=10;return}if(a<11)return fr(b,c,d,e,f,g,h,i,j,k);let l=o[eZ++];if((128&l)>0){eZ-=11;return}return fr(b,c,d,e,f,g,h,i,j,k,l)}{let j=o[eZ++],k=o[eZ++],l=o[eZ++],m=o[eZ++];if((128&j)>0||(128&k)>0||(128&l)>0||(128&m)>0){eZ-=12;return}if(a<14)if(12===a)return fr(b,c,d,e,f,g,h,i,j,k,l,m);else{let a=o[eZ++];if((128&a)>0){eZ-=13;return}return fr(b,c,d,e,f,g,h,i,j,k,l,m,a)}{let n=o[eZ++],p=o[eZ++];if((128&n)>0||(128&p)>0){eZ-=14;return}if(a<15)return fr(b,c,d,e,f,g,h,i,j,k,l,m,n,p);let q=o[eZ++];if((128&q)>0){eZ-=15;return}return fr(b,c,d,e,f,g,h,i,j,k,l,m,n,p,q)}}}}}function fu(){let a,b=o[eZ++];if(b<192)a=b-160;else switch(b){case 217:a=o[eZ++];break;case 218:a=u.getUint16(eZ),eZ+=2;break;case 219:a=u.getUint32(eZ),eZ+=4;break;default:throw Error("Expected string")}return fn(a)}function fv(a){return e1.copyBuffers?Uint8Array.prototype.slice.call(o,eZ,eZ+=a):o.subarray(eZ,eZ+=a)}function fw(a){let b=o[eZ++];if(e4[b]){let c;return e4[b](o.subarray(eZ,c=eZ+=a),a=>{eZ=a;try{return fd()}finally{eZ=c}})}throw Error("Unknown extension type "+b)}var fx=Array(4096);function fy(){let a,b=o[eZ++];if(!(b>=160)||!(b<192))return eZ--,fz(fd());if(b-=160,e3>=eZ)return r.slice(eZ-e2,(eZ+=b)-e2);if(!(0==e3&&p<180))return fi(b);let c=(b<<5^(b>1?u.getUint16(eZ):b>0?o[eZ]:0))&4095,d=fx[c],e=eZ,f=eZ+b-3,g=0;if(d&&d.bytes==b){for(;e<f;){if((a=u.getUint32(e))!=d[g++]){e=0x70000000;break}e+=4}for(f+=3;e<f;)if((a=o[e++])!=d[g++]){e=0x70000000;break}if(e===f)return eZ=e,d.string;f-=3,e=eZ}for(d=[],fx[c]=d,d.bytes=b;e<f;)a=u.getUint32(e),d.push(a),e+=4;for(f+=3;e<f;)a=o[e++],d.push(a);let h=b<16?ft(b):fs(b);return null!=h?d.string=h:d.string=fi(b)}function fz(a){if("string"==typeof a)return a;if("number"==typeof a||"boolean"==typeof a||"bigint"==typeof a)return a.toString();if(null==a)return a+"";if(e1.allowArraysInMapKeys&&Array.isArray(a)&&a.flat().every(a=>["string","number","boolean","bigint"].includes(typeof a)))return a.flat().toString();throw Error(`Invalid property type for record: ${typeof a}`)}let fA=(a,b)=>{let c=fd().map(fz),d=a;void 0!==b&&(a=a<32?-((b<<5)+a):(b<<5)+a,c.highByte=b);let e=q[a];return e&&(e.isShared||e8)&&((q.restoreStructures||(q.restoreStructures=[]))[a]=e),q[a]=c,c.read=ff(c,d),c.read()};e4[0]=()=>{},e4[0].noBuffer=!0,e4[66]=a=>{let b=a.byteLength%8||8,c=BigInt(128&a[0]?a[0]-256:a[0]);for(let d=1;d<b;d++)c<<=BigInt(8),c+=BigInt(a[d]);if(a.byteLength!==b){let d=new DataView(a.buffer,a.byteOffset,a.byteLength),e=(a,b)=>{let c=b-a;if(c<=40){let c=d.getBigUint64(a);for(let e=a+8;e<b;e+=8)c<<=BigInt(64n),c|=d.getBigUint64(e);return c}let f=a+(c>>4<<3),g=e(a,f),h=e(f,b);return g<<BigInt((b-f)*8)|h};c=c<<BigInt((d.byteLength-b)*8)|e(b,d.byteLength)}return c};let fB={Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,AggregateError:"function"==typeof AggregateError?AggregateError:null};e4[101]=()=>{let a=fd();if(!fB[a[0]]){let b=Error(a[1],{cause:a[2]});return b.name=a[0],b}return fB[a[0]](a[1],{cause:a[2]})},e4[105]=a=>{let b;if(!1===e1.structuredClone)throw Error("Structured clone extension is disabled");let c=u.getUint32(eZ-4);t||(t=new Map);let d=o[eZ],e={target:b=d>=144&&d<160||220==d||221==d?[]:d>=128&&d<144||222==d||223==d?new Map:(d>=199&&d<=201||d>=212&&d<=216)&&115===o[eZ+1]?new Set:{}};t.set(c,e);let f=fd();if(!e.used)return e.target=f;if(Object.assign(b,f),b instanceof Map)for(let[a,c]of f.entries())b.set(a,c);if(b instanceof Set)for(let a of Array.from(f))b.add(a);return b},e4[112]=a=>{if(!1===e1.structuredClone)throw Error("Structured clone extension is disabled");let b=u.getUint32(eZ-4),c=t.get(b);return c.used=!0,c.target},e4[115]=()=>new Set(fd());let fC=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(a=>a+"Array"),fD="object"==typeof globalThis?globalThis:window;e4[116]=a=>{let b=a[0],c=Uint8Array.prototype.slice.call(a,1).buffer,d=fC[b];if(!d){if(16===b)return c;if(17===b)return new DataView(c);throw Error("Could not find typed array for code "+b)}return new fD[d](c)},e4[120]=()=>{let a=fd();return new RegExp(a[0],a[1])};let fE=[];function fF(a){x&&x();let b=p,c=eZ,d=e0,e=e2,f=e3,g=r,h=e_,i=t,j=s,k=new Uint8Array(o.slice(0,p)),l=q,m=q.slice(0,q.length),n=e1,v=e8,w=a();return p=b,eZ=c,e0=d,e2=e,e3=f,r=g,e_=h,t=i,s=j,o=k,e8=v,(q=l).splice(0,q.length,...m),e1=n,u=new DataView(o.buffer,o.byteOffset,o.byteLength),w}function fG(){o=null,t=null,q=null}e4[98]=a=>{let b=(a[0]<<24)+(a[1]<<16)+(a[2]<<8)+a[3],c=eZ;return eZ+=b-a.length,s=fE,(s=[fu(),fu()]).position0=0,s.position1=0,s.postBundlePosition=eZ,eZ=c,fd()},e4[255]=a=>4==a.length?new Date((0x1000000*a[0]+(a[1]<<16)+(a[2]<<8)+a[3])*1e3):8==a.length?new Date(((a[0]<<22)+(a[1]<<14)+(a[2]<<6)+(a[3]>>2))/1e6+((3&a[3])*0x100000000+0x1000000*a[4]+(a[5]<<16)+(a[6]<<8)+a[7])*1e3):12==a.length?new Date(((a[0]<<24)+(a[1]<<16)+(a[2]<<8)+a[3])/1e6+((128&a[4]?-0x1000000000000:0)+0x10000000000*a[6]+0x100000000*a[7]+0x1000000*a[8]+(a[9]<<16)+(a[10]<<8)+a[11])*1e3):new Date("invalid");let fH=Array(147);for(let a=0;a<256;a++)fH[a]=+("1e"+Math.floor(45.15-.30103*a));var fI=new fa({useRecords:!1});fI.unpack,fI.unpackMultiple,fI.unpack;let fJ={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};function fK(a,b,c){v=a,w=b,x=c}new Uint8Array(new Float32Array(1).buffer,0,4);try{b=new TextEncoder}catch(a){}let fL="undefined"!=typeof Buffer,fM=fL?function(a){return Buffer.allocUnsafeSlow(a)}:Uint8Array,fN=fL?Buffer:Uint8Array,fO=fL?0x100000000:0x7fd00000,fP=0,fQ=null,fR=21760,fS=/[\u0080-\uFFFF]/,fT=Symbol("record-id");class fU extends fa{constructor(a){let j,k,l,m;super(a),this.offset=0;let n=fN.prototype.utf8Write?function(a,b){return e.utf8Write(a,b,e.byteLength-b)}:!!b&&!!b.encodeInto&&function(a,c){return b.encodeInto(a,e.subarray(c)).written},o=this;a||(a={});let p=a&&a.sequential,q=a.structures||a.saveStructures,r=a.maxSharedStructures;if(null==r&&(r=32*!!q),r>8160)throw Error("Maximum maxSharedStructure is 8160");a.structuredClone&&void 0==a.moreTypes&&(this.moreTypes=!0);let s=a.maxOwnStructures;null==s&&(s=q?32:64),this.structures||!1==a.useRecords||(this.structures=[]);let t=r>32||s+r>64,u=r+64,v=r+s+64;if(v>8256)throw Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let w=[],x=0,y=0;this.pack=this.encode=function(a,b){let c;if(e||(g=(e=new fM(8192)).dataView||(e.dataView=new DataView(e.buffer,0,8192)),fP=0),(h=e.length-10)-fP<2048?(g=(e=new fM(e.length)).dataView||(e.dataView=new DataView(e.buffer,0,e.length)),h=e.length-10,fP=0):fP=fP+7&0x7ffffff8,j=fP,b&f7&&(fP+=255&b),m=o.structuredClone?new Map:null,o.bundleStrings&&"string"!=typeof a?(fQ=[]).size=1/0:fQ=null,l=o.structures){l.uninitialized&&(l=o._mergeStructures(o.getStructures()));let a=l.sharedLength||0;if(a>r)throw Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+l.sharedLength);if(!l.transitions){l.transitions=Object.create(null);for(let b=0;b<a;b++){let a=l[b];if(!a)continue;let c,d=l.transitions;for(let b=0,e=a.length;b<e;b++){let e=a[b];(c=d[e])||(c=d[e]=Object.create(null)),d=c}d[fT]=b+64}this.lastNamedStructuresLength=a}p||(l.nextId=a+64)}k&&(k=!1);try{o.randomAccessStructure&&a&&a.constructor&&a.constructor===Object?J(a):B(a);let c=fQ;if(fQ&&fZ(j,B,0),m&&m.idsToInsert){let a=m.idsToInsert.sort((a,b)=>a.offset>b.offset?1:-1),b=a.length,d=-1;for(;c&&b>0;){let e=a[--b].offset+j;e<c.stringsPosition+j&&-1===d&&(d=0),e>c.position+j?d>=0&&(d+=6):(d>=0&&(g.setUint32(c.position+j,g.getUint32(c.position+j)+d),d=-1),c=c.previous,b++)}d>=0&&c&&g.setUint32(c.position+j,g.getUint32(c.position+j)+d),(fP+=6*a.length)>h&&G(fP),o.offset=fP;let f=fY(e.subarray(j,fP),a);return m=null,f}if(o.offset=fP,b&f5)return e.start=j,e.end=fP,e;return e.subarray(j,fP)}catch(a){throw c=a,a}finally{if(l&&(z(),k&&o.saveStructures)){let d=l.sharedLength||0,f=e.subarray(j,fP),g=f$(l,o);if(!c){if(!1===o.saveStructures(g,g.isCompatible))return o.pack(a,b);return o.lastNamedStructuresLength=d,e.length>0x40000000&&(e=null),f}}e.length>0x40000000&&(e=null),b&f6&&(fP=j)}};const z=()=>{y<10&&y++;let a=l.sharedLength||0;if(l.length>a&&!p&&(l.length=a),x>1e4)l.transitions=null,y=0,x=0,w.length>0&&(w=[]);else if(w.length>0&&!p){for(let a=0,b=w.length;a<b;a++)w[a][fT]=0;w=[]}},A=a=>{var b=a.length;b<16?e[fP++]=144|b:b<65536?(e[fP++]=220,e[fP++]=b>>8,e[fP++]=255&b):(e[fP++]=221,g.setUint32(fP,b),fP+=4);for(let c=0;c<b;c++)B(a[c])},B=a=>{fP>h&&(e=G(fP));var b,f=typeof a;if("string"===f){let c,d=a.length;if(fQ&&d>=4&&d<4096){if((fQ.size+=d)>fR){let a,b,c=(fQ[0]?3*fQ[0].length+fQ[1].length:0)+10;fP+c>h&&(e=G(fP+c)),fQ.position?(b=fQ,e[fP]=200,fP+=3,e[fP++]=98,a=fP-j,fP+=4,fZ(j,B,0),g.setUint16(a+j-3,fP-j-a)):(e[fP++]=214,e[fP++]=98,a=fP-j,fP+=4),(fQ=["",""]).previous=b,fQ.size=0,fQ.position=a}let b=fS.test(a);fQ[+!b]+=a,e[fP++]=193,B(b?-d:d);return}c=d<32?1:d<256?2:d<65536?3:5;let f=3*d;if(fP+f>h&&(e=G(fP+f)),d<64||!n){let f,g,h,i=fP+c;for(f=0;f<d;f++)(g=a.charCodeAt(f))<128?e[i++]=g:(g<2048?e[i++]=g>>6|192:((64512&g)==55296&&(64512&(h=a.charCodeAt(f+1)))==56320?(g=65536+((1023&g)<<10)+(1023&h),f++,e[i++]=g>>18|240,e[i++]=g>>12&63|128):e[i++]=g>>12|224,e[i++]=g>>6&63|128),e[i++]=63&g|128);b=i-fP-c}else b=n(a,fP+c);b<32?e[fP++]=160|b:b<256?(c<2&&e.copyWithin(fP+2,fP+1,fP+1+b),e[fP++]=217,e[fP++]=b):b<65536?(c<3&&e.copyWithin(fP+3,fP+2,fP+2+b),e[fP++]=218,e[fP++]=b>>8,e[fP++]=255&b):(c<5&&e.copyWithin(fP+5,fP+3,fP+3+b),e[fP++]=219,g.setUint32(fP,b),fP+=4),fP+=b}else if("number"===f)if(a>>>0===a)a<32||a<128&&!1===this.useRecords||a<64&&!this.randomAccessStructure?e[fP++]=a:a<256?(e[fP++]=204,e[fP++]=a):a<65536?(e[fP++]=205,e[fP++]=a>>8,e[fP++]=255&a):(e[fP++]=206,g.setUint32(fP,a),fP+=4);else if((0|a)===a)a>=-32?e[fP++]=256+a:a>=-128?(e[fP++]=208,e[fP++]=a+256):a>=-32768?(e[fP++]=209,g.setInt16(fP,a),fP+=2):(e[fP++]=210,g.setInt32(fP,a),fP+=4);else{let b;if((b=this.useFloat32)>0&&a<0x100000000&&a>=-0x80000000){let c;if(e[fP++]=202,g.setFloat32(fP,a),b<4||(0|(c=a*fH[(127&e[fP])<<1|e[fP+1]>>7]))===c){fP+=4;return}fP--}e[fP++]=203,g.setFloat64(fP,a),fP+=8}else if("object"===f||"function"===f)if(a){if(m){let b=m.get(a);if(b){b.id||(b.id=(m.idsToInsert||(m.idsToInsert=[])).push(b)),e[fP++]=214,e[fP++]=112,g.setUint32(fP,b.id),fP+=4;return}m.set(a,{offset:fP-j})}let i=a.constructor;if(i===Object)F(a);else if(i===Array)A(a);else if(i===Map)if(this.mapAsEmptyObject)e[fP++]=128;else for(let[c,d]of((b=a.size)<16?e[fP++]=128|b:b<65536?(e[fP++]=222,e[fP++]=b>>8,e[fP++]=255&b):(e[fP++]=223,g.setUint32(fP,b),fP+=4),a))B(c),B(d);else{for(let b=0,f=c.length;b<f;b++)if(a instanceof d[b]){let d,f=c[b];if(f.write){f.type&&(e[fP++]=212,e[fP++]=f.type,e[fP++]=0);let b=f.write.call(this,a);b===a?Array.isArray(a)?A(a):F(a):B(b);return}let i=e,j=g,k=fP;e=null;try{d=f.pack.call(this,a,a=>(e=i,i=null,(fP+=a)>h&&G(fP),{target:e,targetView:g,position:fP-a}),B)}finally{i&&(e=i,g=j,fP=k,h=e.length-10)}d&&(d.length+fP>h&&G(d.length+fP),fP=fX(d,e,fP,f.type));return}if(Array.isArray(a))A(a);else{if(a.toJSON){let b=a.toJSON();if(b!==a)return B(b)}if("function"===f)return B(this.writeFunction&&this.writeFunction(a));F(a)}}}else e[fP++]=192;else if("boolean"===f)e[fP++]=a?195:194;else if("bigint"===f){if(a<0x8000000000000000&&a>=-0x8000000000000000)e[fP++]=211,g.setBigInt64(fP,a);else if(a<0xffffffffffffffff&&a>0)e[fP++]=207,g.setBigUint64(fP,a);else if(this.largeBigIntToFloat)e[fP++]=203,g.setFloat64(fP,Number(a));else if(this.largeBigIntToString)return B(a.toString());else if(this.useBigIntExtension||this.moreTypes){let b,c=a<0?BigInt(-1):BigInt(0);if(a>>BigInt(65536)===c){let d=BigInt(0xffffffffffffffff)-BigInt(1),e=[];for(;e.push(a&d),a>>BigInt(63)!==c;)a>>=BigInt(64);(b=new Uint8Array(new BigUint64Array(e).buffer)).reverse()}else{let c=a<0,d=(c?~a:a).toString(16);if(d.length%2?d="0"+d:parseInt(d.charAt(0),16)>=8&&(d="00"+d),fL)b=Buffer.from(d,"hex");else{b=new Uint8Array(d.length/2);for(let a=0;a<b.length;a++)b[a]=parseInt(d.slice(2*a,2*a+2),16)}if(c)for(let a=0;a<b.length;a++)b[a]=~b[a]}b.length+fP>h&&G(b.length+fP),fP=fX(b,e,fP,66);return}else throw RangeError(a+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string");fP+=8}else if("undefined"===f)this.encodeUndefinedAsNil?e[fP++]=192:(e[fP++]=212,e[fP++]=0,e[fP++]=0);else throw Error("Unknown type: "+f)},C=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?a=>{let b,c;if(this.skipValues)for(let c in b=[],a)("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(c))&&!this.skipValues.includes(a[c])&&b.push(c);else b=Object.keys(a);let d=b.length;if(d<16?e[fP++]=128|d:d<65536?(e[fP++]=222,e[fP++]=d>>8,e[fP++]=255&d):(e[fP++]=223,g.setUint32(fP,d),fP+=4),this.coercibleKeyAsNumber)for(let e=0;e<d;e++){let d=Number(c=b[e]);B(isNaN(d)?c:d),B(a[c])}else for(let e=0;e<d;e++)B(c=b[e]),B(a[c])}:a=>{e[fP++]=222;let b=fP-j;fP+=2;let c=0;for(let b in a)("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(b))&&(B(b),B(a[b]),c++);if(c>65535)throw Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');e[b+++j]=c>>8,e[b+j]=255&c},D=!1===this.useRecords?C:a.progressiveRecords&&!t?a=>{let b,c,d=l.transitions||(l.transitions=Object.create(null)),f=fP++-j;for(let e in a)if("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(e)){if(c=d[e])d=c;else{let g=Object.keys(a),h=d;d=l.transitions;let i=0;for(let a=0,b=g.length;a<b;a++){let b=g[a];!(c=d[b])&&(c=d[b]=Object.create(null),i++),d=c}f+j+1==fP?(fP--,H(d,g,i)):I(d,g,f,i),b=!0,d=h[e]}B(a[e])}if(!b){let b=d[fT];b?e[f+j]=b:I(d,Object.keys(a),f,0)}}:a=>{let b,c=l.transitions||(l.transitions=Object.create(null)),d=0;for(let e in a)("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(e))&&(!(b=c[e])&&(b=c[e]=Object.create(null),d++),c=b);let f=c[fT];for(let b in f?f>=96&&t?(e[fP++]=(31&(f-=96))+96,e[fP++]=f>>5):e[fP++]=f:H(c,c.__keys__||Object.keys(a),d),a)("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(b))&&B(a[b])},E="function"==typeof this.useRecords&&this.useRecords,F=E?a=>{E(a)?D(a):C(a)}:D,G=a=>{let b;if(a>0x1000000){if(a-j>fO)throw Error("Packed buffer would be larger than maximum buffer size");b=Math.min(fO,4096*Math.round(Math.max((a-j)*(a>0x4000000?1.25:2),4194304)/4096))}else b=(Math.max(a-j<<2,e.length-1)>>12)+1<<12;let c=new fM(b);return g=c.dataView||(c.dataView=new DataView(c.buffer,0,b)),a=Math.min(a,e.length),e.copy?e.copy(c,0,j,a):c.set(e.slice(j,a)),fP-=j,j=0,h=c.length-10,e=c},H=(a,b,c)=>{let d=l.nextId;d||(d=64),d<u&&this.shouldShareStructure&&!this.shouldShareStructure(b)?((d=l.nextOwnId)<v||(d=u),l.nextOwnId=d+1):(d>=v&&(d=u),l.nextId=d+1);let f=b.highByte=d>=96&&t?d-96>>5:-1;a[fT]=d,a.__keys__=b,l[d-64]=b,d<u?(b.isShared=!0,l.sharedLength=d-63,k=!0,f>=0?(e[fP++]=(31&d)+96,e[fP++]=f):e[fP++]=d):(f>=0?(e[fP++]=213,e[fP++]=114,e[fP++]=(31&d)+96,e[fP++]=f):(e[fP++]=212,e[fP++]=114,e[fP++]=d),c&&(x+=y*c),w.length>=s&&(w.shift()[fT]=0),w.push(a),B(b))},I=(a,b,c,d)=>{let g=e,i=fP,k=h,l=j;fP=0,j=0,(e=f)||(f=e=new fM(8192)),h=e.length-10,H(a,b,d),f=e;let m=fP;if(e=g,fP=i,h=k,j=l,m>1){let a=fP+m-1;a>h&&G(a);let b=c+j;e.copyWithin(b+m,b+1,fP),e.set(f.slice(0,m),b),fP=a}else e[c+j]=f[0]},J=a=>{let b=i(a,e,j,fP,l,G,(a,b,c)=>{if(c)return k=!0;fP=b;let d=e;return(B(a),z(),d!==e)?{position:fP,targetView:g,target:e}:fP},this);if(0===b)return F(a);fP=b}}useBuffer(a){(e=a).dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)),g=e.dataView,fP=0}set position(a){fP=a}get position(){return fP}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function fV(a,b,c,d){let e=a.byteLength;if(e+1<256){var{target:f,position:g}=c(4+e);f[g++]=199,f[g++]=e+1}else if(e+1<65536){var{target:f,position:g}=c(5+e);f[g++]=200,f[g++]=e+1>>8,f[g++]=e+1&255}else{var{target:f,position:g,targetView:h}=c(7+e);f[g++]=201,h.setUint32(g,e+1),g+=4}f[g++]=116,f[g++]=b,a.buffer||(a=new Uint8Array(a)),f.set(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),g)}function fW(a,b){let c=a.byteLength;if(c<256){var d,e,{target:d,position:e}=b(c+2);d[e++]=196,d[e++]=c}else if(c<65536){var{target:d,position:e}=b(c+3);d[e++]=197,d[e++]=c>>8,d[e++]=255&c}else{var{target:d,position:e,targetView:f}=b(c+5);d[e++]=198,f.setUint32(e,c),e+=4}d.set(a,e)}function fX(a,b,c,d){let e=a.length;switch(e){case 1:b[c++]=212;break;case 2:b[c++]=213;break;case 4:b[c++]=214;break;case 8:b[c++]=215;break;case 16:b[c++]=216;break;default:e<256?(b[c++]=199,b[c++]=e):(e<65536?(b[c++]=200,b[c++]=e>>8):(b[c++]=201,b[c++]=e>>24,b[c++]=e>>16&255,b[c++]=e>>8&255),b[c++]=255&e)}return b[c++]=d,b.set(a,c),c+=e}function fY(a,b){let c,d=6*b.length,e=a.length-d;for(;c=b.pop();){let b=c.offset,f=c.id;a.copyWithin(b+d,b,e);let g=b+(d-=6);a[g++]=214,a[g++]=105,a[g++]=f>>24,a[g++]=f>>16&255,a[g++]=f>>8&255,a[g++]=255&f,e=b}return a}function fZ(a,b,c){if(fQ.length>0){g.setUint32(fQ.position+a,fP+c-fQ.position-a),fQ.stringsPosition=fP-a;let d=fQ;fQ=null,b(d[0]),b(d[1])}}function f$(a,b){return a.isCompatible=a=>{let c=!a||(b.lastNamedStructuresLength||0)===a.length;return c||b._mergeStructures(a),c},a}function f_(a,b){i=a,f$=b}d=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,e6],c=[{pack(a,b,c){let d=a.getTime()/1e3;if((this.useTimestamp32||0===a.getMilliseconds())&&d>=0&&d<0x100000000){let{target:a,targetView:c,position:e}=b(6);a[e++]=214,a[e++]=255,c.setUint32(e,d)}else if(d>0&&d<0x100000000){let{target:c,targetView:e,position:f}=b(10);c[f++]=215,c[f++]=255,e.setUint32(f,4e6*a.getMilliseconds()+(d/1e3/0x100000000|0)),e.setUint32(f+4,d)}else if(isNaN(d)){if(this.onInvalidDate)return b(0),c(this.onInvalidDate());let{target:a,targetView:d,position:e}=b(3);a[e++]=212,a[e++]=255,a[e++]=255}else{let{target:c,targetView:e,position:f}=b(15);c[f++]=199,c[f++]=12,c[f++]=255,e.setUint32(f,1e6*a.getMilliseconds()),e.setBigInt64(f+4,BigInt(Math.floor(d)))}}},{pack(a,b,c){if(this.setAsEmptyObject)return b(0),c({});let d=Array.from(a),{target:e,position:f}=b(3*!!this.moreTypes);this.moreTypes&&(e[f++]=212,e[f++]=115,e[f++]=0),c(d)}},{pack(a,b,c){let{target:d,position:e}=b(3*!!this.moreTypes);this.moreTypes&&(d[e++]=212,d[e++]=101,d[e++]=0),c([a.name,a.message,a.cause])}},{pack(a,b,c){let{target:d,position:e}=b(3*!!this.moreTypes);this.moreTypes&&(d[e++]=212,d[e++]=120,d[e++]=0),c([a.source,a.flags])}},{pack(a,b){this.moreTypes?fV(a,16,b):fW(fL?Buffer.from(a):new Uint8Array(a),b)}},{pack(a,b){let c=a.constructor;c!==fN&&this.moreTypes?fV(a,fC.indexOf(c.name),b):fW(a,b)}},{pack(a,b){this.moreTypes?fV(a,17,b):fW(fL?Buffer.from(a):new Uint8Array(a),b)}},{pack(a,b){let{target:c,position:d}=b(1);c[d]=193}}];let f0=new fU({useRecords:!1});f0.pack,f0.pack;let{NEVER:f1,ALWAYS:f2,DECIMAL_ROUND:f3,DECIMAL_FIT:f4}=fJ,f5=512,f6=1024,f7=2048,f8=3,f9=0,ga=2,gb=1,gc=16,gd=["num","object","string","ascii"];gd[16]="date";let ge=[!1,!0,!0,!1,!1,!0,!0,!1];try{Function(""),j=!0}catch(a){}let gf="undefined"!=typeof Buffer;try{l=new TextEncoder}catch(a){}let gg=gf?function(a,b,c){return a.utf8Write(b,c,a.byteLength-c)}:!!l&&!!l.encodeInto&&function(a,b,c){return l.encodeInto(b,a.subarray(c)).written};function gh(a,b,c,d,e,f,g,h){let i,j=h.typedStructs||(h.typedStructs=[]),l=b.dataView,m=(j.lastStringStart||100)+d,n=b.length-10,o=d;d>n&&(l=(b=f(d)).dataView,d-=c,o-=c,m-=c,c=0,n=b.length-10);let p,q=m,r=j.transitions||(j.transitions=Object.create(null)),s=j.nextId||j.length,t=s<15?1:s<240?2:s<61440?3:4*(s<0xf00000);if(0===t)return 0;d+=t;let u=[],v=0;for(let e in a){let h=a[e],t=r[e];switch(!t&&(r[e]=t={key:e,parent:r,enumerationOffset:0,ascii0:null,ascii8:null,num8:null,string16:null,object16:null,num32:null,float64:null,date64:null}),d>n&&(l=(b=f(d)).dataView,d-=c,o-=c,m-=c,q-=c,c=0,n=b.length-10),typeof h){case"number":let w=h;if(s<200||!t.num64){if((0|w)===w&&w<0x20000000&&w>-0x1f000000){w<246&&w>=0&&(t.num8&&!(s>200&&t.num32)||w<32&&!t.num32)?(r=t.num8||gj(t,f9,1),b[d++]=w):(r=t.num32||gj(t,f9,4),l.setUint32(d,w,!0),d+=4);break}else if(w<0x100000000&&w>=-0x80000000&&(l.setFloat32(d,w,!0),ge[b[d+3]>>>5])){let a;if((0|(a=w*fH[(127&b[d+3])<<1|b[d+2]>>7]))===a){r=t.num32||gj(t,f9,4),d+=4;break}}}r=t.num64||gj(t,f9,8),l.setFloat64(d,w,!0),d+=8;break;case"string":let x,y=h.length;if(p=q-m,(y<<2)+q>n&&(l=(b=f((y<<2)+q)).dataView,d-=c,o-=c,m-=c,q-=c,c=0,n=b.length-10),y>65280+p>>2){u.push(e,h,d-o);break}let z=q;if(y<64){let a,c,d;for(a=0;a<y;a++)(c=h.charCodeAt(a))<128?b[q++]=c:(c<2048?(x=!0,b[q++]=c>>6|192):((64512&c)==55296&&(64512&(d=h.charCodeAt(a+1)))==56320?(x=!0,c=65536+((1023&c)<<10)+(1023&d),a++,b[q++]=c>>18|240,b[q++]=c>>12&63|128):(x=!0,b[q++]=c>>12|224),b[q++]=c>>6&63|128),b[q++]=63&c|128)}else q+=gg(b,h,q),x=q-z>y;if(p<160||p<246&&(t.ascii8||t.string8)){if(x)(r=t.string8)||(j.length>10&&(r=t.ascii8)?(r.__type=ga,t.ascii8=null,t.string8=r,g(null,0,!0)):r=gj(t,ga,1));else if(0!==p||i)(r=t.ascii8)||j.length>10&&(r=t.string8)||(r=gj(t,f8,1));else{i=!0,r=t.ascii0||gj(t,f8,0);break}b[d++]=p}else r=t.string16||gj(t,ga,2),l.setUint16(d,p,!0),d+=2;break;case"object":h?h.constructor===Date?(r=t.date64||gj(t,gc,8),l.setFloat64(d,h.getTime(),!0),d+=8):u.push(e,h,v):(t=gi(t,d,l,-10))?(r=t,d=k):u.push(e,h,v);break;case"boolean":r=t.num8||t.ascii8||gj(t,f9,1),b[d++]=h?249:248;break;case"undefined":(t=gi(t,d,l,-9))?(r=t,d=k):u.push(e,h,v);break;default:u.push(e,h,v)}v++}for(let a=0,e=u.length;a<e;){let e,f=u[a++],h=u[a++],i=u[a++],j=r[f];if(j||(r[f]=j={key:f,parent:r,enumerationOffset:i-v,ascii0:null,ascii8:null,num8:null,string16:null,object16:null,num32:null,float64:null}),h){let a;(p=q-m)<65280?(r=j.object16)?a=2:(r=j.object32)?a=4:(r=gj(j,gb,2),a=2):(r=j.object32||gj(j,gb,4),a=4),"object"==typeof(e=g(h,q))?(q=e.position,l=e.targetView,b=e.target,m-=c,d-=c,o-=c,c=0):q=e,2===a?(l.setUint16(d,p,!0),d+=2):(l.setUint32(d,p,!0),d+=4)}else r=j.object16||gj(j,gb,2),l.setInt16(d,null===h?-10:-9,!0),d+=2;v++}let w=r[fT];if(null==w){let a;w=h.typedStructs.length;let b=[],c=r;for(;void 0!==(a=c.__type);){let d=[a,c.__size,(c=c.__parent).key];c.enumerationOffset&&d.push(c.enumerationOffset),b.push(d),c=c.parent}b.reverse(),r[fT]=w,h.typedStructs[w]=b,g(null,0,!0)}switch(t){case 1:if(w>=16)return 0;b[o]=w+32;break;case 2:if(w>=256)return 0;b[o]=56,b[o+1]=w;break;case 3:if(w>=65536)return 0;b[o]=57,l.setUint16(o+1,w,!0);break;case 4:if(w>=0x1000000)return 0;l.setUint32(o,(w<<8)+58,!0)}if(d<m){if(m===q)return d;b.copyWithin(d,m,q),q+=d-m,j.lastStringStart=d-o}else if(d>m)return m===q?d:(j.lastStringStart=d-o,gh(a,b,c,o,e,f,g,h));return q}function gi(a,b,c,d){let e;return(e=a.ascii8||a.num8)?(c.setInt8(b,d,!0),k=b+1,e):(e=a.string16||a.object16)?(c.setInt16(b,d,!0),k=b+2,e):(e=a.num32)?(c.setUint32(b,0xe0000100+d,!0),k=b+4,e):(e=a.num64)?(c.setFloat64(b,NaN,!0),c.setInt8(b,d),k=b+8,e):void(k=b)}function gj(a,b,c){let d=gd[b]+(c<<3),e=a[d]||(a[d]=Object.create(null));return e.__type=b,e.__size=c,e.__parent=a,e}function gk(a){if(!(a instanceof Map))return a;let b=a.get("typed")||[];Object.isFrozen(b)&&(b=b.map(a=>a.slice(0)));let c=a.get("named"),d=Object.create(null);for(let a=0,c=b.length;a<c;a++){let c=b[a],e=d;for(let[a,b,d]of c){let c=e[d];c||(e[d]=c={key:d,parent:e,enumerationOffset:0,ascii0:null,ascii8:null,num8:null,string16:null,object16:null,num32:null,float64:null,date64:null}),e=gj(c,a,b)}e[fT]=a}return b.transitions=d,this.typedStructs=b,this.lastTypedStructuresLength=b.length,c}Symbol("type"),Symbol("parent"),f_(gh,go);var gl=Symbol.for("source");function gm(a){switch(a){case 246:return null;case 247:return;case 248:return!1;case 249:return!0}throw Error("Unknown constant")}function gn(a){return function(){return a(this[gl])}}function go(a,b){if(b.typedStructs){let c=new Map;c.set("named",a),c.set("typed",b.typedStructs),a=c}let c=b.lastTypedStructuresLength||0;return a.isCompatible=a=>{let d=!0;return a instanceof Map?((a.get("named")||[]).length!==(b.lastNamedStructuresLength||0)&&(d=!1),(a.get("typed")||[]).length!==c&&(d=!1)):(a instanceof Array||Array.isArray(a))&&a.length!==(b.lastNamedStructuresLength||0)&&(d=!1),d||b._mergeStructures(a),d},b.lastTypedStructuresLength=b.typedStructs&&b.typedStructs.length,a}fK(function(a,b,c,d){let e=a[b++]-32;if(e>=24)switch(e){case 24:e=a[b++];break;case 25:e=a[b++]+(a[b++]<<8);break;case 26:e=a[b++]+(a[b++]<<8)+(a[b++]<<16);break;case 27:e=a[b++]+(a[b++]<<8)+(a[b++]<<16)+(a[b++]<<24)}let f=d.typedStructs&&d.typedStructs[e];if(!f){if(a=Uint8Array.prototype.slice.call(a,b,c),c-=b,b=0,!d.getStructures)throw Error(`Reference to shared structure ${e} without getStructures method`);if(d._mergeStructures(d.getStructures()),!d.typedStructs)throw Error("Could not find any shared typed structures");if(d.lastTypedStructuresLength=d.typedStructs.length,!(f=d.typedStructs[e]))throw Error("Could not find typed structure "+e)}var g=f.construct,h=f.fullConstruct;if(!g){let a;g=f.construct=function(){},(h=f.fullConstruct=function(){}).prototype=d.structPrototype||{};var i=g.prototype=d.structPrototype?Object.create(d.structPrototype):{};let b=[],c=0;for(let e=0,g=f.length;e<g;e++){let g,h,[i,j,k,l]=f[e];"__proto__"===k&&(k="__proto_");let n={key:k,offset:c};switch(l?b.splice(e+l,0,n):b.push(n),j){case 0:g=()=>0;break;case 1:g=(a,b)=>{let c=a.bytes[b+n.offset];return c>=246?gm(c):c};break;case 2:g=(a,b)=>{let c=a.bytes,d=(c.dataView||(c.dataView=new DataView(c.buffer,c.byteOffset,c.byteLength))).getUint16(b+n.offset,!0);return d>=65280?gm(255&d):d};break;case 4:g=(a,b)=>{let c=a.bytes,d=(c.dataView||(c.dataView=new DataView(c.buffer,c.byteOffset,c.byteLength))).getUint32(b+n.offset,!0);return d>=0xffffff00?gm(255&d):d}}switch(n.getRef=g,c+=j,i){case f8:a&&!a.next&&(a.next=n),a=n,n.multiGetCount=0,h=function(a){let b=a.bytes,d=a.position,e=c+d,f=g(a,d);if("number"!=typeof f)return f;let h,i=n.next;for(;i&&"number"!=typeof(h=i.getRef(a,d));)h=null,i=i.next;return(null==h&&(h=a.bytesEnd-e),a.srcString)?a.srcString.slice(f,h):fo(b,f+e,h-f)};break;case ga:case gb:a&&!a.next&&(a.next=n),a=n,h=function(a){let b=a.position,e=c+b,f=g(a,b);if("number"!=typeof f)return f;let h=a.bytes,j,k=n.next;for(;k&&"number"!=typeof(j=k.getRef(a,b));)j=null,k=k.next;if(null==j&&(j=a.bytesEnd-e),i===ga)return h.toString("utf8",f+e,j+e);m=a;try{return d.unpack(h,{start:f+e,end:j+e})}finally{m=null}};break;case f9:switch(j){case 4:h=function(a){let b=a.bytes,c=b.dataView||(b.dataView=new DataView(b.buffer,b.byteOffset,b.byteLength)),d=a.position+n.offset,e=c.getInt32(d,!0);if(e<0x20000000){if(e>-0x1f000000)return e;if(e>-0x20000000)return gm(255&e)}let f=c.getFloat32(d,!0),g=fH[(127&b[d+3])<<1|b[d+2]>>7];return(g*f+(f>0?.5:-.5)|0)/g};break;case 8:h=function(a){let b=a.bytes,c=(b.dataView||(b.dataView=new DataView(b.buffer,b.byteOffset,b.byteLength))).getFloat64(a.position+n.offset,!0);if(isNaN(c)){let c=b[a.position+n.offset];if(c>=246)return gm(c)}return c};break;case 1:h=function(a){let b=a.bytes[a.position+n.offset];return b<246?b:gm(b)}}break;case gc:h=function(a){let b=a.bytes;return new Date((b.dataView||(b.dataView=new DataView(b.buffer,b.byteOffset,b.byteLength))).getFloat64(a.position+n.offset,!0))}}n.get=h}if(j){let a,c=[],e=[],f=0;for(let g of b){if(d.alwaysLazyProperty&&d.alwaysLazyProperty(g.key)){a=!0;continue}Object.defineProperty(i,g.key,{get:gn(g.get),enumerable:!0});let b="v"+f++;e.push(b),c.push("o["+JSON.stringify(g.key)+"]="+b+"(s)")}a&&c.push("__proto__:this");let g=Function(...e,"var c=this;return function(s){var o=new c();"+c.join(";")+";return o;}").apply(h,b.map(a=>a.get));Object.defineProperty(i,"toJSON",{value(a){return g.call(this,this[gl])}})}else Object.defineProperty(i,"toJSON",{value(a){let c={};for(let a=0,d=b.length;a<d;a++){let d=b[a].key;c[d]=this[d]}return c}})}var k=new g;return k[gl]={bytes:a,position:b,srcString:"",bytesEnd:c},k},gk,function(){m&&(m.bytes=Uint8Array.prototype.slice.call(m.bytes,m.position,m.bytesEnd),m.position=0,m.bytesEnd=m.bytes.length)});var gp=a.i(688947);if(gp.Transform,gp.Transform,a.i(362562),void 0===process.env.MSGPACKR_NATIVE_ACCELERATION_DISABLED||"true"!==process.env.MSGPACKR_NATIVE_ACCELERATION_DISABLED.toLowerCase()){let b;try{(b=a.r(320549))&&fm(b.extractStrings)}catch(a){}}var gq=z;class gr extends gq.Tag("@effect/rpc/RpcWorker/InitialMessage")(){}let gs=BigInt(0),gt=ea.fnUntraced(function*(a,b){let c,d=b?.spanPrefix??"RpcClient",e=b?.supportsAck??!0,f=b?.disableTracing??!1,g=b?.generateRequestId??(()=>gs++),h=yield*ea.context(),i=d9.get(h,eo.Scope),j=new Map,k=!1;yield*eo.addFinalizer(i,ea.fiberIdWith(a=>(k=!0,l(eb.interrupt(a)))));let l=ea.fnUntraced(function*(a){for(let[b,c]of j)j.delete(b),"Mailbox"===c._tag?yield*c.mailbox.done(a):c.resume(a)}),m=a=>{let c=eG(a.successSchema),e=p(a);return(g,h)=>{let i=h?.headers?bk(h.headers):bj,j=h?.context??d9.empty();if(!c){let c=b=>n(a,e,b,a.payloadSchema.make?a.payloadSchema.make(g):g,i,j,h?.discard??!1);return f?c(void 0):ea.useSpan(`${d}.${a._tag}`,{captureStackTrace:!1,attributes:b.spanAttributes},c)}let k=o(a,e,a.payloadSchema.make?a.payloadSchema.make(g):g,i,h?.streamBufferSize??16,j);return h?.asMailbox?k:ep.unwrapScoped(ea.map(k,ei.toStream))}},n=(a,c,d,e,f,h,i)=>ea.withFiberRuntime(l=>{let m;if(k)return ea.interrupt;let n=g(),o=c({_tag:"Request",id:n,tag:a._tag,payload:e,traceId:d?.traceId,spanId:d?.spanId,sampled:d?.sampled,headers:bo(l.getFiberRef(gv),f)});if(i)return ea.flatMap(o,a=>b.onFromClient({message:a,context:h,discard:i}));let p=ek.make({context:l.currentContext,fiberRefs:l.getFiberRefs(),runtimeFlags:ek.defaultRuntime.runtimeFlags});return ea.onInterrupt(ea.async(c=>{let e={_tag:"Effect",rpc:a,context:h,resume(a){c(a),m&&!m.unsafePoll()&&l.currentScheduler.scheduleTask(()=>{m.unsafeInterruptAsFork(l.id())},0)}};j.set(n,e),(m=o.pipe(ea.flatMap(a=>b.onFromClient({message:a,context:h,discard:i})),d?ea.withParentSpan(d):ef.identity,ek.runFork(p))).addObserver(a=>{if("Failure"===a._tag)return c(a)})}),a=>{j.delete(n);let b=Array.from(a).flatMap(a=>Array.from(ed.toSet(a)));return ea.zipRight(ec.interrupt(m),q(n,b,h))})}),o=ea.fnUntraced(function*(a,c,e,h,i,l){if(k)return yield*ea.interrupt;let m=f?void 0:yield*ea.makeSpanScoped(`${d}.${a._tag}`,{captureStackTrace:!1,attributes:b.spanAttributes}),n=ej.getOrThrow(ec.getCurrentFiber()),o=g(),p=d9.unsafeGet(n.currentContext,eo.Scope);yield*eo.addFinalizerExit(p,a=>j.has(o)?(j.delete(o),q(o,eb.isFailure(a)?Array.from(d8.interruptors(a.cause)).flatMap(a=>Array.from(ed.toSet(a))):[],l)):ea.void);let r=yield*ei.make(i);return j.set(o,{_tag:"Mailbox",rpc:a,mailbox:r,scope:p,context:l}),yield*c({_tag:"Request",id:o,tag:a._tag,traceId:m?.traceId,payload:e,spanId:m?.spanId,sampled:m?.sampled,headers:bo(n.getFiberRef(gv),h)}).pipe(ea.flatMap(a=>b.onFromClient({message:a,context:l,discard:!1})),m?ea.withParentSpan(m):ef.identity,ea.catchAllCause(a=>r.failCause(a)),ea.interruptible,ea.forkIn(p)),r}),p=a=>{let b=[];for(let c of a.middlewares.values()){let a=h.unsafeMap.get(`${c.key}/Client`);a&&b.push(a)}return 0===b.length?ea.succeed:function(c){let d=0;return ea.map(ea.whileLoop({while:()=>d<b.length,body:()=>b[d]({rpc:a,request:c}),step(a){c=a,d++}}),()=>c)}},q=(a,c,d)=>ea.async(e=>{let f=ej.getOrThrow(ec.getCurrentFiber()),g=ek.make({context:f.currentContext,fiberRefs:f.getFiberRefs(),runtimeFlags:ek.defaultRuntime.runtimeFlags});b.onFromClient({message:{_tag:"Interrupt",requestId:a,interruptors:c},context:d,discard:!1}).pipe(ea.timeout(1e3),ek.runFork(g)).addObserver(()=>{e(ea.void)})}),r=a=>{switch(a._tag){case"Chunk":{let c=a.requestId,d=j.get(c);if(!d||"Mailbox"!==d._tag)return ea.void;return d.mailbox.offerAll(a.values).pipe(e?ea.zipRight(b.onFromClient({message:{_tag:"Ack",requestId:a.requestId},context:d.context,discard:!1})):ef.identity,ea.catchAllCause(a=>d.mailbox.done(eb.failCause(a))))}case"Exit":{let b=a.requestId,c=j.get(b);if(!c)return ea.void;if(j.delete(b),"Effect"===c._tag)return c.resume(a.exit),ea.void;return c.mailbox.done(eb.asVoid(a.exit))}case"Defect":return l(eb.die(a.defect));case"ClientEnd":return ea.void}};if(b.flatten){let b=new Map;c=function(c,d,e){let f=b.get(c);return f||(f=m(a.requests.get(c)),b.set(c,f)),f(d,e)}}else for(let b of(c={},a.requests.values())){let a=b._tag.indexOf("."),d=-1===a?void 0:b._tag.slice(0,a);void 0===d||d in c||(c[d]={}),(void 0!==d?c[d]:c)[void 0!==d?b._tag.slice(a+1):b._tag]=m(b)}return{client:c,write:r}}),gu=ea.fnUntraced(function*(a,b){let{run:c,send:d,supportsAck:e,supportsTransferables:f}=yield*gw,g=new Map,{client:h,write:i}=yield*gt(a,{...b,supportsAck:e,onFromClient({message:b}){switch(b._tag){case"Request":{let c=a.requests.get(b.tag),e=eH(c.successSchema.ast),h=f?aN():void 0,i=ej.getOrThrow(ec.getCurrentFiber()),j={rpc:c,context:h?d9.add(i.currentContext,aM,h):i.currentContext,decodeChunk:ej.isSome(e)?em.decodeUnknown(em.NonEmptyArray(e.value.success)):void 0};return g.set(b.id,j),em.encode(c.payloadSchema)(b.payload).pipe(ea.locally(ee.currentContext,j.context),ea.orDie,ea.flatMap(a=>d({...b,id:String(b.id),payload:a,headers:Object.entries(b.headers)},h&&h.unsafeClear())))}case"Ack":if(!g.get(b.requestId))return ea.void;return d({_tag:"Ack",requestId:String(b.requestId)});case"Interrupt":if(!g.get(b.requestId))return ea.void;return g.delete(b.requestId),d({_tag:"Interrupt",requestId:String(b.requestId)});case"Eof":return ea.void}}});return yield*c(a=>{switch(a._tag){case"Chunk":{let b=eX(a.requestId),c=g.get(b);if(!c||!c.decodeChunk)return ea.void;return c.decodeChunk(a.values).pipe(ea.locally(ee.currentContext,c.context),ea.orDie,ea.flatMap(b=>i({_tag:"Chunk",clientId:0,requestId:eX(a.requestId),values:b})),ea.onError(b=>i({_tag:"Exit",clientId:0,requestId:eX(a.requestId),exit:eb.failCause(b)})))}case"Exit":{let b=eX(a.requestId),c=g.get(b);if(!c)return ea.void;return g.delete(b),em.decode(eR(c.rpc))(a.exit).pipe(ea.locally(ee.currentContext,c.context),ea.orDie,ea.matchCauseEffect({onSuccess:a=>i({_tag:"Exit",clientId:0,requestId:b,exit:a}),onFailure:a=>i({_tag:"Exit",clientId:0,requestId:b,exit:eb.failCause(a)})}))}case"Defect":return i({_tag:"Defect",clientId:0,defect:gz(a.defect)});case"ClientProtocolError":{let b=eb.fail(a.error);return ea.forEach(g.keys(),a=>i({_tag:"Exit",clientId:0,requestId:a,exit:b}))}default:return ea.void}}).pipe(ea.catchAllCause(ea.logError),ea.interruptible,ea.forkScoped),h}),gv=(0,eg.globalValue)("@effect/rpc/RpcClient/currentHeaders",()=>ee.unsafeMake(bj));(a,b)=>ea.locallyWith(a,gv,bo(bk(b)));class gw extends d9.Tag("@effect/rpc/RpcClient/Protocol")(){static make=er()}let gx=a=>gw.make(ea.fnUntraced(function*(b){let c=yield*a_,d=yield*ea.scope,e=0,f=yield*ea.serviceOption(gr),g=new Map,h=ea.gen(function*(){let a=e++,d=yield*c.spawn(a),h=yield*ea.makeLatch();if(yield*d.run(a=>{if(0===a[0])return h.open;let c=a[1];if("Exit"===c._tag){let a=g.get(c.requestId);a&&(g.delete(c.requestId),a.latch.unsafeOpen())}else if("Defect"===c._tag)for(let[a,b]of g)g.delete(a),b.latch.unsafeOpen();return b(c)}).pipe(ea.tapErrorCause(a=>b({_tag:"ClientProtocolError",error:new eW({reason:"Protocol",message:"Error in worker",cause:d8.squash(a)})})),ea.retry(el.spaced(1e3)),ea.annotateLogs({module:"RpcClient",method:"makeProtocolWorker"}),ea.interruptible,ea.forkScoped),yield*h.await,ej.isSome(f)){let[a,b]=yield*f.value;yield*d.send({_tag:"InitialMessage",value:a},b)}return d}),i="minSize"in a?yield*aA({acquire:h,min:a.minSize,max:a.maxSize,concurrency:a.concurrency,targetUtilization:a.targetUtilization,timeToLive:a.timeToLive}):yield*az({acquire:h,size:a.size,concurrency:a.concurrency,targetUtilization:a.targetUtilization});yield*eo.addFinalizer(d,ea.sync(()=>{for(let a of g.values())a.latch.unsafeOpen();g.clear()}));let j=(a,b)=>{switch(a._tag){case"Request":return i.get.pipe(ea.flatMap(c=>{let d=ea.unsafeMakeLatch(!1);return g.set(a.id,{worker:c,latch:d}),ea.zipRight(c.send(a,b),d.await)}),ea.scoped,ea.orDie);case"Interrupt":{let b=g.get(a.requestId);if(!b)return ea.void;return g.delete(a.requestId),b.latch.unsafeOpen(),ea.orDie(b.worker.send(a))}case"Ack":{let b=g.get(a.requestId);if(!b)return ea.void;return ea.orDie(b.worker.send(a))}}return ea.void};return yield*ea.scoped(i.get),{send:j,supportsAck:!0,supportsTransferables:!0}})),gy=a=>eh.scoped(gw,gx(a)),gz=en.decodeSync(em.Defect);var gA=B,gB=_,gC=z,gD=B,gE=_,gF=aD,gG=aF;let gH={add(...a){return gI({requests:gJ(...this.requests.values(),...a),annotations:this.annotations})},merge(...a){let b=new Map(this.requests),c=new Map(this.annotations.unsafeMap);for(let d of a){for(let[a,c]of d.requests)b.set(a,c);for(let[a,b]of d.annotations.unsafeMap)c.set(a,b)}return gI({requests:b,annotations:gC.unsafeMake(c)})},middleware(a){let b=new Map;for(let[c,d]of this.requests)b.set(c,d.middleware(a));return gI({requests:b,annotations:this.annotations})},toHandlersContext(a){return gD.gen(this,function*(){let b=yield*gD.context(),c=gD.isEffect(a)?yield*a:a,d=new Map;for(let[a,e]of Object.entries(c)){let c=this.requests.get(a);d.set(c.key,{handler:e,context:b})}return gC.unsafeMake(d)})},prefix(a){let b=new Map;for(let c of this.requests.values()){let d=c.prefix(a);b.set(d._tag,d)}return gI({requests:b,annotations:this.annotations})},toLayer(a){return gE.scopedContext(this.toHandlersContext(a))},of:K.identity,toLayerHandler(a,b){return gE.scopedContext(gD.gen(this,function*(){let c=yield*gD.context(),d=gD.isEffect(b)?yield*b:b,e=new Map,f=this.requests.get(a);return e.set(f.key,{handler:d,context:c}),gC.unsafeMake(e)}))},accessHandler(a){return gD.contextWith(b=>{let c=this.requests.get(a),{context:d,handler:e}=b.unsafeMap.get(c.key);return(a,b)=>{let c=e(a,b),f=eT(c)?c.value:c;return gD.isEffect(f)?gD.provide(f,d):gG.provideContext(f,d)}})},annotate(a,b){return gI({requests:this.requests,annotations:gC.add(this.annotations,a,b)})},annotateRpcs(a,b){return this.annotateRpcsContext(gC.make(a,b))},annotateContext(a){return gI({requests:this.requests,annotations:gC.merge(this.annotations,a)})},annotateRpcsContext(a){let b=new Map;for(let[c,d]of this.requests)b.set(c,d.annotateContext(gC.merge(a,d.annotations)));return gI({requests:b,annotations:this.annotations})}},gI=a=>Object.assign(function(){},gH,{requests:a.requests,annotations:a.annotations}),gJ=(...a)=>{let b=new Map;for(let c of a)b.set(c._tag,gF.isSchema(c)?eP(c):c);return b},gK=(...a)=>gI({requests:gJ(...a),annotations:gC.empty()});var gL=aD;class gM extends gL.TaggedError()("FilterError",{message:gL.String}){}class gN extends gK(eO("filterData",{success:gL.Array(gL.Number),error:gM,payload:{data:gL.Array(gL.Number),threshold:gL.Number}}),eO("calculatePrimes",{success:gL.Number,error:gL.Never,payload:{upperBound:gL.Number}})){}let gO=gy({size:1,concurrency:1}).pipe(gB.provide(a7(()=>new Worker(new a.U(a.r(856601)),{type:"module"}))),gB.orDie);class gP extends gA.Service()("@beep/runtime-client/WorkerClient",{dependencies:[gO],scoped:gA.gen(function*(){return{client:yield*gu(gN)}})}){}a.s(["WorkerClient",()=>gP],666072)},896146,(a,b,c)=>{"use strict";b.exports=function a(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}},728344,(a,b,c)=>{"use strict";var d=c;d.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};for(var e=Array(64),f=Array(123),g=0;g<64;)f[e[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;d.encode=function(a,b,c){for(var d,f=null,g=[],h=0,i=0;b<c;){var j=a[b++];switch(i){case 0:g[h++]=e[j>>2],d=(3&j)<<4,i=1;break;case 1:g[h++]=e[d|j>>4],d=(15&j)<<2,i=2;break;case 2:g[h++]=e[d|j>>6],g[h++]=e[63&j],i=0}h>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,g)),h=0)}return(i&&(g[h++]=e[d],g[h++]=61,1===i&&(g[h++]=61)),f)?(h&&f.push(String.fromCharCode.apply(String,g.slice(0,h))),f.join("")):String.fromCharCode.apply(String,g.slice(0,h))};var h="invalid encoding";d.decode=function(a,b,c){for(var d,e=c,g=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&g>1)break;if(void 0===(j=f[j]))throw Error(h);switch(g){case 0:d=j,g=1;break;case 1:b[c++]=d<<2|(48&j)>>4,d=j,g=2;break;case 2:b[c++]=(15&d)<<4|(60&j)>>2,d=j,g=3;break;case 3:b[c++]=(3&d)<<6|j,g=0}}if(1===g)throw Error(h);return c-e},d.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}},38588,(a,b,c)=>{"use strict";function d(){this._listeners={}}b.exports=d,d.prototype.on=function(a,b,c){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:b,ctx:c||this}),this},d.prototype.off=function(a,b){if(void 0===a)this._listeners={};else if(void 0===b)this._listeners[a]=[];else for(var c=this._listeners[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},d.prototype.emit=function(a){var b=this._listeners[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}},640830,(a,b,c)=>{"use strict";function d(a){return"undefined"!=typeof Float32Array?!function(){var b=new Float32Array([-0]),c=new Uint8Array(b.buffer),d=128===c[3];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3]}function f(a,d,e){b[0]=a,d[e]=c[3],d[e+1]=c[2],d[e+2]=c[1],d[e+3]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],b[0]}function h(a,d){return c[3]=a[d],c[2]=a[d+1],c[1]=a[d+2],c[0]=a[d+3],b[0]}a.writeFloatLE=d?e:f,a.writeFloatBE=d?f:e,a.readFloatLE=d?g:h,a.readFloatBE=d?h:g}():!function(){function b(a,b,c,d){var e=+(b<0);if(e&&(b=-b),0===b)a(1/b>0?0:0x80000000,c,d);else if(isNaN(b))a(0x7fc00000,c,d);else if(b>34028234663852886e22)a((e<<31|0x7f800000)>>>0,c,d);else if(b<11754943508222875e-54)a((e<<31|Math.round(b/1401298464324817e-60))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function c(a,b,c){var d=a(b,c),e=(d>>31)*2+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:1/0*e:0===f?1401298464324817e-60*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,e),a.writeFloatBE=b.bind(null,f),a.readFloatLE=c.bind(null,g),a.readFloatBE=c.bind(null,h)}(),"undefined"!=typeof Float64Array?!function(){var b=new Float64Array([-0]),c=new Uint8Array(b.buffer),d=128===c[7];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3],d[e+4]=c[4],d[e+5]=c[5],d[e+6]=c[6],d[e+7]=c[7]}function f(a,d,e){b[0]=a,d[e]=c[7],d[e+1]=c[6],d[e+2]=c[5],d[e+3]=c[4],d[e+4]=c[3],d[e+5]=c[2],d[e+6]=c[1],d[e+7]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],c[4]=a[d+4],c[5]=a[d+5],c[6]=a[d+6],c[7]=a[d+7],b[0]}function h(a,d){return c[7]=a[d],c[6]=a[d+1],c[5]=a[d+2],c[4]=a[d+3],c[3]=a[d+4],c[2]=a[d+5],c[1]=a[d+6],c[0]=a[d+7],b[0]}a.writeDoubleLE=d?e:f,a.writeDoubleBE=d?f:e,a.readDoubleLE=d?g:h,a.readDoubleBE=d?h:g}():!function(){function b(a,b,c,d,e,f){var g,h=+(d<0);if(h&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:0x80000000,e,f+c);else if(isNaN(d))a(0,e,f+b),a(0x7ff80000,e,f+c);else if(d>17976931348623157e292)a(0,e,f+b),a((h<<31|0x7ff00000)>>>0,e,f+c);else if(d<22250738585072014e-324)a((g=d/5e-324)>>>0,e,f+b),a((h<<31|g/0x100000000)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),a(0x10000000000000*(g=d*Math.pow(2,-i))>>>0,e,f+b),a((h<<31|i+1023<<20|1048576*g&1048575)>>>0,e,f+c)}}function c(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=(g>>31)*2+1,i=g>>>20&2047,j=0x100000000*(1048575&g)+f;return 2047===i?j?NaN:1/0*h:0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+0x10000000000000)}a.writeDoubleLE=b.bind(null,e,0,4),a.writeDoubleBE=b.bind(null,f,4,0),a.readDoubleLE=c.bind(null,g,0,4),a.readDoubleBE=c.bind(null,h,4,0)}(),a}function e(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function f(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function g(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function h(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}b.exports=d(d)},368754,(__turbopack_context__,module,exports)=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},266298,(a,b,c)=>{"use strict";var d=c;d.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b},d.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)(d=a[b++])<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},d.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?b[c++]=d:(d<2048?b[c++]=d>>6|192:((64512&d)==55296&&(64512&(e=a.charCodeAt(g+1)))==56320?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128):b[c++]=d>>12|224,b[c++]=d>>6&63|128),b[c++]=63&d|128);return c-f}},382820,(a,b,c)=>{"use strict";b.exports=function a(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=(7|g)+1),h}}},948309,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(385457);function e(a,b){this.lo=a>>>0,this.hi=b>>>0}var f=e.zero=new e(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var g=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(0===a)return f;var b=a<0;b&&(a=-a);var c=a>>>0,d=(a-c)/0x100000000>>>0;return b&&(d=~d>>>0,c=~c>>>0,++c>0xffffffff&&(c=0,++d>0xffffffff&&(d=0))),new e(c,d)},e.from=function(a){if("number"==typeof a)return e.fromNumber(a);if(d.isString(a))if(!d.Long)return e.fromNumber(parseInt(a,10));else a=d.Long.fromString(a);return a.low||a.high?new e(a.low>>>0,a.high>>>0):f},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=~this.lo+1>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+0x100000000*c)}return this.lo+0x100000000*this.hi},e.prototype.toLong=function(a){return d.Long?new d.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var h=String.prototype.charCodeAt;e.fromHash=function(a){return a===g?f:new e((h.call(a,0)|h.call(a,1)<<8|h.call(a,2)<<16|h.call(a,3)<<24)>>>0,(h.call(a,4)|h.call(a,5)<<8|h.call(a,6)<<16|h.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}},385457,(a,b,c)=>{"use strict";var d=c;function e(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;++e)void 0!==a[d[e]]&&c||(a[d[e]]=b[d[e]]);return a}function f(a){function b(a,c){if(!(this instanceof b))return new b(a,c);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack||""}),c&&e(this,c)}return b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),b}d.asPromise=a.r(896146),d.base64=a.r(728344),d.EventEmitter=a.r(38588),d.float=a.r(640830),d.inquire=a.r(368754),d.utf8=a.r(266298),d.pool=a.r(382820),d.LongBits=a.r(948309),d.isNode=!!(a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),d.global=d.isNode&&a.g||"undefined"!=typeof self&&self||a.e,d.emptyArray=Object.freeze?Object.freeze([]):[],d.emptyObject=Object.freeze?Object.freeze({}):{},d.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},d.isString=function(a){return"string"==typeof a||a instanceof String},d.isObject=function(a){return a&&"object"==typeof a},d.isset=d.isSet=function(a,b){var c=a[b];return!!(null!=c&&a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},d.Buffer=function(){try{var a=d.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch(a){return null}}(),d._Buffer_from=null,d._Buffer_allocUnsafe=null,d.newBuffer=function(a){return"number"==typeof a?d.Buffer?d._Buffer_allocUnsafe(a):new d.Array(a):d.Buffer?d._Buffer_from(a):"undefined"==typeof Uint8Array?a:new Uint8Array(a)},d.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long"),d.key2Re=/^true|false|0|1$/,d.key32Re=/^-?(?:0|[1-9][0-9]*)$/,d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,d.longToHash=function(a){return a?d.LongBits.from(a).toHash():d.LongBits.zeroHash},d.longFromHash=function(a,b){var c=d.LongBits.fromHash(a);return d.Long?d.Long.fromBits(c.lo,c.hi,b):c.toNumber(!!b)},d.merge=e,d.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},d.newError=f,d.ProtocolError=f("ProtocolError"),d.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&void 0!==this[a[c]]&&null!==this[a[c]])return a[c]}},d.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},d._configure=function(){var a=d.Buffer;if(!a){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)},d._Buffer_allocUnsafe=a.allocUnsafe||function(b){return new a(b)}}},93548,(a,b,c)=>{"use strict";b.exports=l;var d,e=a.r(385457),f=e.LongBits,g=e.base64,h=e.utf8;function i(a,b,c){this.fn=a,this.len=b,this.next=void 0,this.val=c}function j(){}function k(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function l(){this.len=0,this.head=new i(j,0,0),this.tail=this.head,this.states=null}var m=function(){return e.Buffer?function(){return(l.create=function(){return new d})()}:function(){return new l}};function n(a,b,c){b[c]=255&a}function o(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a}function p(a,b){this.len=a,this.next=void 0,this.val=b}function q(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function r(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}l.create=m(),l.alloc=function(a){return new e.Array(a)},e.Array!==Array&&(l.alloc=e.pool(l.alloc,e.Array.prototype.subarray)),l.prototype._push=function(a,b,c){return this.tail=this.tail.next=new i(a,b,c),this.len+=b,this},p.prototype=Object.create(i.prototype),p.prototype.fn=o,l.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new p((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:5,a)).len,this},l.prototype.int32=function(a){return a<0?this._push(q,10,f.fromNumber(a)):this.uint32(a)},l.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},l.prototype.uint64=function(a){var b=f.from(a);return this._push(q,b.length(),b)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(a){var b=f.from(a).zzEncode();return this._push(q,b.length(),b)},l.prototype.bool=function(a){return this._push(n,1,+!!a)},l.prototype.fixed32=function(a){return this._push(r,4,a>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(a){var b=f.from(a);return this._push(r,4,b.lo)._push(r,4,b.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(a){return this._push(e.float.writeFloatLE,4,a)},l.prototype.double=function(a){return this._push(e.float.writeDoubleLE,8,a)};var s=e.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};l.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this._push(n,1,0);if(e.isString(a)){var c=l.alloc(b=g.length(a));g.decode(a,c,0),a=c}return this.uint32(b)._push(s,b,a)},l.prototype.string=function(a){var b=h.length(a);return b?this.uint32(b)._push(h.write,b,a):this._push(n,1,0)},l.prototype.fork=function(){return this.states=new k(this),this.head=this.tail=new i(j,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(j,0,0),this.len=0),this},l.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},l.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},l._configure=function(a){d=a,l.create=m(),d._configure()}},830186,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(93548);(f.prototype=Object.create(d.prototype)).constructor=f;var e=a.r(385457);function f(){d.call(this)}function g(a,b,c){a.length<40?e.utf8.write(a,b,c):b.utf8Write?b.utf8Write(a,c):b.write(a,c)}f._configure=function(){f.alloc=e._Buffer_allocUnsafe,f.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]}},f.prototype.bytes=function(a){e.isString(a)&&(a=e._Buffer_from(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this._push(f.writeBytesBuffer,b,a),this},f.prototype.string=function(a){var b=e.Buffer.byteLength(a);return this.uint32(b),b&&this._push(g,b,a),this},f._configure()},372999,(a,b,c)=>{"use strict";b.exports=i;var d,e=a.r(385457),f=e.LongBits,g=e.utf8;function h(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function i(a){this.buf=a,this.pos=0,this.len=a.length}var j="undefined"!=typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new i(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new i(a);throw Error("illegal buffer")},k=function(){return e.Buffer?function(a){return(i.create=function(a){return e.Buffer.isBuffer(a)?new d(a):j(a)})(a)}:j};function l(){var a=new f(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw h(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}if(this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw h(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function m(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function n(){if(this.pos+8>this.len)throw h(this,8);return new f(m(this.buf,this.pos+=4),m(this.buf,this.pos+=4))}i.create=k(),i.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,i.prototype.uint32=function(){var a=0xffffffff;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,h(this,10);return a}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw h(this,4);return m(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw h(this,4);return 0|m(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw h(this,4);var a=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},i.prototype.double=function(){if(this.pos+8>this.len)throw h(this,4);var a=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},i.prototype.bytes=function(){var a=this.uint32(),b=this.pos,c=this.pos+a;if(c>this.len)throw h(this,a);if(this.pos+=a,Array.isArray(this.buf))return this.buf.slice(b,c);if(b===c){var d=e.Buffer;return d?d.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,b,c)},i.prototype.string=function(){var a=this.bytes();return g.read(a,0,a.length)},i.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw h(this,a);this.pos+=a}else do if(this.pos>=this.len)throw h(this);while(128&this.buf[this.pos++])return this},i.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},i._configure=function(a){d=a,i.create=k(),d._configure();var b=e.Long?"toLong":"toNumber";e.merge(i.prototype,{int64:function(){return l.call(this)[b](!1)},uint64:function(){return l.call(this)[b](!0)},sint64:function(){return l.call(this).zzDecode()[b](!1)},fixed64:function(){return n.call(this)[b](!0)},sfixed64:function(){return n.call(this)[b](!1)}})}},324886,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(372999);(f.prototype=Object.create(d.prototype)).constructor=f;var e=a.r(385457);function f(a){d.call(this,a)}f._configure=function(){e.Buffer&&(f.prototype._slice=e.Buffer.prototype.slice)},f.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},f._configure()},361122,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(385457);function e(a,b,c){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!c}(e.prototype=Object.create(d.EventEmitter.prototype)).constructor=e,e.prototype.rpcCall=function a(b,c,e,f,g){if(!f)throw TypeError("request must be specified");var h=this;if(!g)return d.asPromise(a,h,b,c,e,f);if(!h.rpcImpl)return void setTimeout(function(){g(Error("already ended"))},0);try{return h.rpcImpl(b,c[h.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(a,c){if(a)return h.emit("error",a,b),g(a);if(null===c)return void h.end(!0);if(!(c instanceof e))try{c=e[h.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return h.emit("error",a,b),g(a)}return h.emit("data",c,b),g(null,c)})}catch(a){h.emit("error",a,b),setTimeout(function(){g(a)},0);return}},e.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},334207,(a,b,c)=>{"use strict";c.Service=a.r(361122)},23318,(a,b,c)=>{"use strict";b.exports={}},313383,(a,b,c)=>{"use strict";var d=c;function e(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}d.build="minimal",d.Writer=a.r(93548),d.BufferWriter=a.r(830186),d.Reader=a.r(372999),d.BufferReader=a.r(324886),d.util=a.r(385457),d.rpc=a.r(334207),d.roots=a.r(23318),d.configure=e,e()},443363,(a,b,c)=>{"use strict";b.exports=a.r(313383)},695600,(a,b,c)=>{"use strict";var d=a.r(443363),e=d.Reader,f=d.Writer,g=d.util,h=d.roots.default||(d.roots.default={});h.opentelemetry=function(){var a={};return a.proto=function(){var a={};return a.common=function(){var a={};return a.v1=function(){var a={};return a.AnyValue=function(){var a;function b(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.stringValue=null,b.prototype.boolValue=null,b.prototype.intValue=null,b.prototype.doubleValue=null,b.prototype.arrayValue=null,b.prototype.kvlistValue=null,b.prototype.bytesValue=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){return b||(b=f.create()),null!=a.stringValue&&Object.hasOwnProperty.call(a,"stringValue")&&b.uint32(10).string(a.stringValue),null!=a.boolValue&&Object.hasOwnProperty.call(a,"boolValue")&&b.uint32(16).bool(a.boolValue),null!=a.intValue&&Object.hasOwnProperty.call(a,"intValue")&&b.uint32(24).int64(a.intValue),null!=a.doubleValue&&Object.hasOwnProperty.call(a,"doubleValue")&&b.uint32(33).double(a.doubleValue),null!=a.arrayValue&&Object.hasOwnProperty.call(a,"arrayValue")&&h.opentelemetry.proto.common.v1.ArrayValue.encode(a.arrayValue,b.uint32(42).fork()).ldelim(),null!=a.kvlistValue&&Object.hasOwnProperty.call(a,"kvlistValue")&&h.opentelemetry.proto.common.v1.KeyValueList.encode(a.kvlistValue,b.uint32(50).fork()).ldelim(),null!=a.bytesValue&&Object.hasOwnProperty.call(a,"bytesValue")&&b.uint32(58).bytes(a.bytesValue),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.common.v1.AnyValue;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.stringValue=a.string();break;case 2:f.boolValue=a.bool();break;case 3:f.intValue=a.int64();break;case 4:f.doubleValue=a.double();break;case 5:f.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.decode(a,a.uint32());break;case 6:f.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.decode(a,a.uint32());break;case 7:f.bytesValue=a.bytes();break;default:a.skipType(7&g)}}return f},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.stringValue&&a.hasOwnProperty("stringValue")&&(b.value=1,!g.isString(a.stringValue)))return"stringValue: string expected";if(null!=a.boolValue&&a.hasOwnProperty("boolValue")){if(1===b.value)return"value: multiple values";if(b.value=1,"boolean"!=typeof a.boolValue)return"boolValue: boolean expected"}if(null!=a.intValue&&a.hasOwnProperty("intValue")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.intValue)&&!(a.intValue&&g.isInteger(a.intValue.low)&&g.isInteger(a.intValue.high)))return"intValue: integer|Long expected"}if(null!=a.doubleValue&&a.hasOwnProperty("doubleValue")){if(1===b.value)return"value: multiple values";if(b.value=1,"number"!=typeof a.doubleValue)return"doubleValue: number expected"}if(null!=a.arrayValue&&a.hasOwnProperty("arrayValue")){if(1===b.value)return"value: multiple values";b.value=1;var c=h.opentelemetry.proto.common.v1.ArrayValue.verify(a.arrayValue);if(c)return"arrayValue."+c}if(null!=a.kvlistValue&&a.hasOwnProperty("kvlistValue")){if(1===b.value)return"value: multiple values";b.value=1;var c=h.opentelemetry.proto.common.v1.KeyValueList.verify(a.kvlistValue);if(c)return"kvlistValue."+c}if(null!=a.bytesValue&&a.hasOwnProperty("bytesValue")){if(1===b.value)return"value: multiple values";if(b.value=1,!(a.bytesValue&&"number"==typeof a.bytesValue.length||g.isString(a.bytesValue)))return"bytesValue: buffer expected"}return null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.AnyValue)return a;var b=new h.opentelemetry.proto.common.v1.AnyValue;if(null!=a.stringValue&&(b.stringValue=String(a.stringValue)),null!=a.boolValue&&(b.boolValue=!!a.boolValue),null!=a.intValue&&(g.Long?(b.intValue=g.Long.fromValue(a.intValue)).unsigned=!1:"string"==typeof a.intValue?b.intValue=parseInt(a.intValue,10):"number"==typeof a.intValue?b.intValue=a.intValue:"object"==typeof a.intValue&&(b.intValue=new g.LongBits(a.intValue.low>>>0,a.intValue.high>>>0).toNumber())),null!=a.doubleValue&&(b.doubleValue=Number(a.doubleValue)),null!=a.arrayValue){if("object"!=typeof a.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");b.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.fromObject(a.arrayValue)}if(null!=a.kvlistValue){if("object"!=typeof a.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");b.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.fromObject(a.kvlistValue)}return null!=a.bytesValue&&("string"==typeof a.bytesValue?g.base64.decode(a.bytesValue,b.bytesValue=g.newBuffer(g.base64.length(a.bytesValue)),0):a.bytesValue.length>=0&&(b.bytesValue=a.bytesValue)),b},b.toObject=function(a,b){b||(b={});var c={};return null!=a.stringValue&&a.hasOwnProperty("stringValue")&&(c.stringValue=a.stringValue,b.oneofs&&(c.value="stringValue")),null!=a.boolValue&&a.hasOwnProperty("boolValue")&&(c.boolValue=a.boolValue,b.oneofs&&(c.value="boolValue")),null!=a.intValue&&a.hasOwnProperty("intValue")&&("number"==typeof a.intValue?c.intValue=b.longs===String?String(a.intValue):a.intValue:c.intValue=b.longs===String?g.Long.prototype.toString.call(a.intValue):b.longs===Number?new g.LongBits(a.intValue.low>>>0,a.intValue.high>>>0).toNumber():a.intValue,b.oneofs&&(c.value="intValue")),null!=a.doubleValue&&a.hasOwnProperty("doubleValue")&&(c.doubleValue=b.json&&!isFinite(a.doubleValue)?String(a.doubleValue):a.doubleValue,b.oneofs&&(c.value="doubleValue")),null!=a.arrayValue&&a.hasOwnProperty("arrayValue")&&(c.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.toObject(a.arrayValue,b),b.oneofs&&(c.value="arrayValue")),null!=a.kvlistValue&&a.hasOwnProperty("kvlistValue")&&(c.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.toObject(a.kvlistValue,b),b.oneofs&&(c.value="kvlistValue")),null!=a.bytesValue&&a.hasOwnProperty("bytesValue")&&(c.bytesValue=b.bytes===String?g.base64.encode(a.bytesValue,0,a.bytesValue.length):b.bytes===Array?Array.prototype.slice.call(a.bytesValue):a.bytesValue,b.oneofs&&(c.value="bytesValue")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.AnyValue"},b}(),a.ArrayValue=function(){function a(a){if(this.values=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.values=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.values&&a.values.length)for(var c=0;c<a.values.length;++c)h.opentelemetry.proto.common.v1.AnyValue.encode(a.values[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.common.v1.ArrayValue;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.values&&f.values.length||(f.values=[]),f.values.push(h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.values&&a.hasOwnProperty("values")){if(!Array.isArray(a.values))return"values: array expected";for(var b=0;b<a.values.length;++b){var c=h.opentelemetry.proto.common.v1.AnyValue.verify(a.values[b]);if(c)return"values."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.ArrayValue)return a;var b=new h.opentelemetry.proto.common.v1.ArrayValue;if(a.values){if(!Array.isArray(a.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");b.values=[];for(var c=0;c<a.values.length;++c){if("object"!=typeof a.values[c])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");b.values[c]=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.values[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.values=[]),a.values&&a.values.length){c.values=[];for(var d=0;d<a.values.length;++d)c.values[d]=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.values[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.ArrayValue"},a}(),a.KeyValueList=function(){function a(a){if(this.values=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.values=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.values&&a.values.length)for(var c=0;c<a.values.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.values[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.common.v1.KeyValueList;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.values&&f.values.length||(f.values=[]),f.values.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.values&&a.hasOwnProperty("values")){if(!Array.isArray(a.values))return"values: array expected";for(var b=0;b<a.values.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.values[b]);if(c)return"values."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.KeyValueList)return a;var b=new h.opentelemetry.proto.common.v1.KeyValueList;if(a.values){if(!Array.isArray(a.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");b.values=[];for(var c=0;c<a.values.length;++c){if("object"!=typeof a.values[c])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");b.values[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.values[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.values=[]),a.values&&a.values.length){c.values=[];for(var d=0;d<a.values.length;++d)c.values[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.values[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.KeyValueList"},a}(),a.KeyValue=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.key=null,a.prototype.value=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.key&&Object.hasOwnProperty.call(a,"key")&&b.uint32(10).string(a.key),null!=a.value&&Object.hasOwnProperty.call(a,"value")&&h.opentelemetry.proto.common.v1.AnyValue.encode(a.value,b.uint32(18).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.common.v1.KeyValue;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.key=a.string();break;case 2:f.value=h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32());break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.key&&a.hasOwnProperty("key")&&!g.isString(a.key))return"key: string expected";if(null!=a.value&&a.hasOwnProperty("value")){var b=h.opentelemetry.proto.common.v1.AnyValue.verify(a.value);if(b)return"value."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.KeyValue)return a;var b=new h.opentelemetry.proto.common.v1.KeyValue;if(null!=a.key&&(b.key=String(a.key)),null!=a.value){if("object"!=typeof a.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");b.value=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.value)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.key="",c.value=null),null!=a.key&&a.hasOwnProperty("key")&&(c.key=a.key),null!=a.value&&a.hasOwnProperty("value")&&(c.value=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.value,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.KeyValue"},a}(),a.InstrumentationScope=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.name=null,a.prototype.version=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(10).string(a.name),null!=a.version&&Object.hasOwnProperty.call(a,"version")&&b.uint32(18).string(a.version),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(32).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.common.v1.InstrumentationScope;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.name=a.string();break;case 2:f.version=a.string();break;case 3:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 4:f.droppedAttributesCount=a.uint32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.version&&a.hasOwnProperty("version")&&!g.isString(a.version))return"version: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.InstrumentationScope)return a;var b=new h.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=a.name&&(b.name=String(a.name)),null!=a.version&&(b.version=String(a.version)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(c.name="",c.version="",c.droppedAttributesCount=0),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.version&&a.hasOwnProperty("version")&&(c.version=a.version),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.InstrumentationScope"},a}(),a.EntityRef=function(){function a(a){if(this.idKeys=[],this.descriptionKeys=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.schemaUrl=null,a.prototype.type=null,a.prototype.idKeys=g.emptyArray,a.prototype.descriptionKeys=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(10).string(a.schemaUrl),null!=a.type&&Object.hasOwnProperty.call(a,"type")&&b.uint32(18).string(a.type),null!=a.idKeys&&a.idKeys.length)for(var c=0;c<a.idKeys.length;++c)b.uint32(26).string(a.idKeys[c]);if(null!=a.descriptionKeys&&a.descriptionKeys.length)for(var c=0;c<a.descriptionKeys.length;++c)b.uint32(34).string(a.descriptionKeys[c]);return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.common.v1.EntityRef;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.schemaUrl=a.string();break;case 2:f.type=a.string();break;case 3:f.idKeys&&f.idKeys.length||(f.idKeys=[]),f.idKeys.push(a.string());break;case 4:f.descriptionKeys&&f.descriptionKeys.length||(f.descriptionKeys=[]),f.descriptionKeys.push(a.string());break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl))return"schemaUrl: string expected";if(null!=a.type&&a.hasOwnProperty("type")&&!g.isString(a.type))return"type: string expected";if(null!=a.idKeys&&a.hasOwnProperty("idKeys")){if(!Array.isArray(a.idKeys))return"idKeys: array expected";for(var b=0;b<a.idKeys.length;++b)if(!g.isString(a.idKeys[b]))return"idKeys: string[] expected"}if(null!=a.descriptionKeys&&a.hasOwnProperty("descriptionKeys")){if(!Array.isArray(a.descriptionKeys))return"descriptionKeys: array expected";for(var b=0;b<a.descriptionKeys.length;++b)if(!g.isString(a.descriptionKeys[b]))return"descriptionKeys: string[] expected"}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.common.v1.EntityRef)return a;var b=new h.opentelemetry.proto.common.v1.EntityRef;if(null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),null!=a.type&&(b.type=String(a.type)),a.idKeys){if(!Array.isArray(a.idKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.idKeys: array expected");b.idKeys=[];for(var c=0;c<a.idKeys.length;++c)b.idKeys[c]=String(a.idKeys[c])}if(a.descriptionKeys){if(!Array.isArray(a.descriptionKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.descriptionKeys: array expected");b.descriptionKeys=[];for(var c=0;c<a.descriptionKeys.length;++c)b.descriptionKeys[c]=String(a.descriptionKeys[c])}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.idKeys=[],c.descriptionKeys=[]),b.defaults&&(c.schemaUrl="",c.type=""),null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),null!=a.type&&a.hasOwnProperty("type")&&(c.type=a.type),a.idKeys&&a.idKeys.length){c.idKeys=[];for(var d=0;d<a.idKeys.length;++d)c.idKeys[d]=a.idKeys[d]}if(a.descriptionKeys&&a.descriptionKeys.length){c.descriptionKeys=[];for(var d=0;d<a.descriptionKeys.length;++d)c.descriptionKeys[d]=a.descriptionKeys[d]}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.common.v1.EntityRef"},a}(),a}(),a}(),a.resource=function(){var a={};return a.v1=function(){var a={};return a.Resource=function(){function a(a){if(this.attributes=[],this.entityRefs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.entityRefs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(10).fork()).ldelim();if(null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(16).uint32(a.droppedAttributesCount),null!=a.entityRefs&&a.entityRefs.length)for(var c=0;c<a.entityRefs.length;++c)h.opentelemetry.proto.common.v1.EntityRef.encode(a.entityRefs[c],b.uint32(26).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.resource.v1.Resource;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:f.droppedAttributesCount=a.uint32();break;case 3:f.entityRefs&&f.entityRefs.length||(f.entityRefs=[]),f.entityRefs.push(h.opentelemetry.proto.common.v1.EntityRef.decode(a,a.uint32()));break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=a.entityRefs&&a.hasOwnProperty("entityRefs")){if(!Array.isArray(a.entityRefs))return"entityRefs: array expected";for(var b=0;b<a.entityRefs.length;++b){var c=h.opentelemetry.proto.common.v1.EntityRef.verify(a.entityRefs[b]);if(c)return"entityRefs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.resource.v1.Resource)return a;var b=new h.opentelemetry.proto.resource.v1.Resource;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),a.entityRefs){if(!Array.isArray(a.entityRefs))throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: array expected");b.entityRefs=[];for(var c=0;c<a.entityRefs.length;++c){if("object"!=typeof a.entityRefs[c])throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: object expected");b.entityRefs[c]=h.opentelemetry.proto.common.v1.EntityRef.fromObject(a.entityRefs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.entityRefs=[]),b.defaults&&(c.droppedAttributesCount=0),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),a.entityRefs&&a.entityRefs.length){c.entityRefs=[];for(var d=0;d<a.entityRefs.length;++d)c.entityRefs[d]=h.opentelemetry.proto.common.v1.EntityRef.toObject(a.entityRefs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.resource.v1.Resource"},a}(),a}(),a}(),a.trace=function(){var a={};return a.v1=function(){var a={};return a.TracesData=function(){function a(a){if(this.resourceSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceSpans=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceSpans&&a.resourceSpans.length)for(var c=0;c<a.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.TracesData;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.resourceSpans&&f.resourceSpans.length||(f.resourceSpans=[]),f.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceSpans&&a.hasOwnProperty("resourceSpans")){if(!Array.isArray(a.resourceSpans))return"resourceSpans: array expected";for(var b=0;b<a.resourceSpans.length;++b){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(a.resourceSpans[b]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.TracesData)return a;var b=new h.opentelemetry.proto.trace.v1.TracesData;if(a.resourceSpans){if(!Array.isArray(a.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");b.resourceSpans=[];for(var c=0;c<a.resourceSpans.length;++c){if("object"!=typeof a.resourceSpans[c])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");b.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(a.resourceSpans[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceSpans=[]),a.resourceSpans&&a.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<a.resourceSpans.length;++d)c.resourceSpans[d]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(a.resourceSpans[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.TracesData"},a}(),a.ResourceSpans=function(){function a(a){if(this.scopeSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeSpans=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeSpans&&a.scopeSpans.length)for(var c=0;c<a.scopeSpans.length;++c)h.opentelemetry.proto.trace.v1.ScopeSpans.encode(a.scopeSpans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.ResourceSpans;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:f.scopeSpans&&f.scopeSpans.length||(f.scopeSpans=[]),f.scopeSpans.push(h.opentelemetry.proto.trace.v1.ScopeSpans.decode(a,a.uint32()));break;case 3:f.schemaUrl=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeSpans&&a.hasOwnProperty("scopeSpans")){if(!Array.isArray(a.scopeSpans))return"scopeSpans: array expected";for(var c=0;c<a.scopeSpans.length;++c){var b=h.opentelemetry.proto.trace.v1.ScopeSpans.verify(a.scopeSpans[c]);if(b)return"scopeSpans."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.ResourceSpans)return a;var b=new h.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeSpans){if(!Array.isArray(a.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");b.scopeSpans=[];for(var c=0;c<a.scopeSpans.length;++c){if("object"!=typeof a.scopeSpans[c])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");b.scopeSpans[c]=h.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(a.scopeSpans[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeSpans=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeSpans&&a.scopeSpans.length){c.scopeSpans=[];for(var d=0;d<a.scopeSpans.length;++d)c.scopeSpans[d]=h.opentelemetry.proto.trace.v1.ScopeSpans.toObject(a.scopeSpans[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.ResourceSpans"},a}(),a.ScopeSpans=function(){function a(a){if(this.spans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.spans=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.spans&&a.spans.length)for(var c=0;c<a.spans.length;++c)h.opentelemetry.proto.trace.v1.Span.encode(a.spans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.ScopeSpans;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:f.spans&&f.spans.length||(f.spans=[]),f.spans.push(h.opentelemetry.proto.trace.v1.Span.decode(a,a.uint32()));break;case 3:f.schemaUrl=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.spans&&a.hasOwnProperty("spans")){if(!Array.isArray(a.spans))return"spans: array expected";for(var c=0;c<a.spans.length;++c){var b=h.opentelemetry.proto.trace.v1.Span.verify(a.spans[c]);if(b)return"spans."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.ScopeSpans)return a;var b=new h.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.spans){if(!Array.isArray(a.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");b.spans=[];for(var c=0;c<a.spans.length;++c){if("object"!=typeof a.spans[c])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");b.spans[c]=h.opentelemetry.proto.trace.v1.Span.fromObject(a.spans[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.spans=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.spans&&a.spans.length){c.spans=[];for(var d=0;d<a.spans.length;++d)c.spans[d]=h.opentelemetry.proto.trace.v1.Span.toObject(a.spans[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.ScopeSpans"},a}(),a.Span=function(){function a(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.parentSpanId=null,a.prototype.flags=null,a.prototype.name=null,a.prototype.kind=null,a.prototype.startTimeUnixNano=null,a.prototype.endTimeUnixNano=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.events=g.emptyArray,a.prototype.droppedEventsCount=null,a.prototype.links=g.emptyArray,a.prototype.droppedLinksCount=null,a.prototype.status=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&Object.hasOwnProperty.call(a,"traceState")&&b.uint32(26).string(a.traceState),null!=a.parentSpanId&&Object.hasOwnProperty.call(a,"parentSpanId")&&b.uint32(34).bytes(a.parentSpanId),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(42).string(a.name),null!=a.kind&&Object.hasOwnProperty.call(a,"kind")&&b.uint32(48).int32(a.kind),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(57).fixed64(a.startTimeUnixNano),null!=a.endTimeUnixNano&&Object.hasOwnProperty.call(a,"endTimeUnixNano")&&b.uint32(65).fixed64(a.endTimeUnixNano),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(74).fork()).ldelim();if(null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(80).uint32(a.droppedAttributesCount),null!=a.events&&a.events.length)for(var c=0;c<a.events.length;++c)h.opentelemetry.proto.trace.v1.Span.Event.encode(a.events[c],b.uint32(90).fork()).ldelim();if(null!=a.droppedEventsCount&&Object.hasOwnProperty.call(a,"droppedEventsCount")&&b.uint32(96).uint32(a.droppedEventsCount),null!=a.links&&a.links.length)for(var c=0;c<a.links.length;++c)h.opentelemetry.proto.trace.v1.Span.Link.encode(a.links[c],b.uint32(106).fork()).ldelim();return null!=a.droppedLinksCount&&Object.hasOwnProperty.call(a,"droppedLinksCount")&&b.uint32(112).uint32(a.droppedLinksCount),null!=a.status&&Object.hasOwnProperty.call(a,"status")&&h.opentelemetry.proto.trace.v1.Status.encode(a.status,b.uint32(122).fork()).ldelim(),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(133).fixed32(a.flags),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.Span;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.traceId=a.bytes();break;case 2:f.spanId=a.bytes();break;case 3:f.traceState=a.string();break;case 4:f.parentSpanId=a.bytes();break;case 16:f.flags=a.fixed32();break;case 5:f.name=a.string();break;case 6:f.kind=a.int32();break;case 7:f.startTimeUnixNano=a.fixed64();break;case 8:f.endTimeUnixNano=a.fixed64();break;case 9:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 10:f.droppedAttributesCount=a.uint32();break;case 11:f.events&&f.events.length||(f.events=[]),f.events.push(h.opentelemetry.proto.trace.v1.Span.Event.decode(a,a.uint32()));break;case 12:f.droppedEventsCount=a.uint32();break;case 13:f.links&&f.links.length||(f.links=[]),f.links.push(h.opentelemetry.proto.trace.v1.Span.Link.decode(a,a.uint32()));break;case 14:f.droppedLinksCount=a.uint32();break;case 15:f.status=h.opentelemetry.proto.trace.v1.Status.decode(a,a.uint32());break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId)))return"traceId: buffer expected";if(null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId)))return"spanId: buffer expected";if(null!=a.traceState&&a.hasOwnProperty("traceState")&&!g.isString(a.traceState))return"traceState: string expected";if(null!=a.parentSpanId&&a.hasOwnProperty("parentSpanId")&&!(a.parentSpanId&&"number"==typeof a.parentSpanId.length||g.isString(a.parentSpanId)))return"parentSpanId: buffer expected";if(null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags))return"flags: integer expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.kind&&a.hasOwnProperty("kind"))switch(a.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.endTimeUnixNano&&a.hasOwnProperty("endTimeUnixNano")&&!g.isInteger(a.endTimeUnixNano)&&!(a.endTimeUnixNano&&g.isInteger(a.endTimeUnixNano.low)&&g.isInteger(a.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=a.events&&a.hasOwnProperty("events")){if(!Array.isArray(a.events))return"events: array expected";for(var b=0;b<a.events.length;++b){var c=h.opentelemetry.proto.trace.v1.Span.Event.verify(a.events[b]);if(c)return"events."+c}}if(null!=a.droppedEventsCount&&a.hasOwnProperty("droppedEventsCount")&&!g.isInteger(a.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=a.links&&a.hasOwnProperty("links")){if(!Array.isArray(a.links))return"links: array expected";for(var b=0;b<a.links.length;++b){var c=h.opentelemetry.proto.trace.v1.Span.Link.verify(a.links[b]);if(c)return"links."+c}}if(null!=a.droppedLinksCount&&a.hasOwnProperty("droppedLinksCount")&&!g.isInteger(a.droppedLinksCount))return"droppedLinksCount: integer expected";if(null!=a.status&&a.hasOwnProperty("status")){var c=h.opentelemetry.proto.trace.v1.Status.verify(a.status);if(c)return"status."+c}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span)return a;var b=new h.opentelemetry.proto.trace.v1.Span;switch(null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceState&&(b.traceState=String(a.traceState)),null!=a.parentSpanId&&("string"==typeof a.parentSpanId?g.base64.decode(a.parentSpanId,b.parentSpanId=g.newBuffer(g.base64.length(a.parentSpanId)),0):a.parentSpanId.length>=0&&(b.parentSpanId=a.parentSpanId)),null!=a.flags&&(b.flags=a.flags>>>0),null!=a.name&&(b.name=String(a.name)),a.kind){default:"number"==typeof a.kind&&(b.kind=a.kind);break;case"SPAN_KIND_UNSPECIFIED":case 0:b.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:b.kind=1;break;case"SPAN_KIND_SERVER":case 2:b.kind=2;break;case"SPAN_KIND_CLIENT":case 3:b.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:b.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:b.kind=5}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.endTimeUnixNano&&(g.Long?(b.endTimeUnixNano=g.Long.fromValue(a.endTimeUnixNano)).unsigned=!1:"string"==typeof a.endTimeUnixNano?b.endTimeUnixNano=parseInt(a.endTimeUnixNano,10):"number"==typeof a.endTimeUnixNano?b.endTimeUnixNano=a.endTimeUnixNano:"object"==typeof a.endTimeUnixNano&&(b.endTimeUnixNano=new g.LongBits(a.endTimeUnixNano.low>>>0,a.endTimeUnixNano.high>>>0).toNumber())),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),a.events){if(!Array.isArray(a.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");b.events=[];for(var c=0;c<a.events.length;++c){if("object"!=typeof a.events[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");b.events[c]=h.opentelemetry.proto.trace.v1.Span.Event.fromObject(a.events[c])}}if(null!=a.droppedEventsCount&&(b.droppedEventsCount=a.droppedEventsCount>>>0),a.links){if(!Array.isArray(a.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");b.links=[];for(var c=0;c<a.links.length;++c){if("object"!=typeof a.links[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");b.links[c]=h.opentelemetry.proto.trace.v1.Span.Link.fromObject(a.links[c])}}if(null!=a.droppedLinksCount&&(b.droppedLinksCount=a.droppedLinksCount>>>0),null!=a.status){if("object"!=typeof a.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");b.status=h.opentelemetry.proto.trace.v1.Status.fromObject(a.status)}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.events=[],c.links=[]),b.defaults){if(b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),c.traceState="",b.bytes===String?c.parentSpanId="":(c.parentSpanId=[],b.bytes!==Array&&(c.parentSpanId=g.newBuffer(c.parentSpanId))),c.name="",c.kind=b.enums===String?"SPAN_KIND_UNSPECIFIED":0,g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.endTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.endTimeUnixNano=b.longs===String?"0":0;c.droppedAttributesCount=0,c.droppedEventsCount=0,c.droppedLinksCount=0,c.status=null,c.flags=0}if(null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceState&&a.hasOwnProperty("traceState")&&(c.traceState=a.traceState),null!=a.parentSpanId&&a.hasOwnProperty("parentSpanId")&&(c.parentSpanId=b.bytes===String?g.base64.encode(a.parentSpanId,0,a.parentSpanId.length):b.bytes===Array?Array.prototype.slice.call(a.parentSpanId):a.parentSpanId),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.kind&&a.hasOwnProperty("kind")&&(c.kind=b.enums===String?void 0===h.opentelemetry.proto.trace.v1.Span.SpanKind[a.kind]?a.kind:h.opentelemetry.proto.trace.v1.Span.SpanKind[a.kind]:a.kind),null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.endTimeUnixNano&&a.hasOwnProperty("endTimeUnixNano")&&("number"==typeof a.endTimeUnixNano?c.endTimeUnixNano=b.longs===String?String(a.endTimeUnixNano):a.endTimeUnixNano:c.endTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.endTimeUnixNano):b.longs===Number?new g.LongBits(a.endTimeUnixNano.low>>>0,a.endTimeUnixNano.high>>>0).toNumber():a.endTimeUnixNano),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}if(null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),a.events&&a.events.length){c.events=[];for(var e=0;e<a.events.length;++e)c.events[e]=h.opentelemetry.proto.trace.v1.Span.Event.toObject(a.events[e],b)}if(null!=a.droppedEventsCount&&a.hasOwnProperty("droppedEventsCount")&&(c.droppedEventsCount=a.droppedEventsCount),a.links&&a.links.length){c.links=[];for(var e=0;e<a.links.length;++e)c.links[e]=h.opentelemetry.proto.trace.v1.Span.Link.toObject(a.links[e],b)}return null!=a.droppedLinksCount&&a.hasOwnProperty("droppedLinksCount")&&(c.droppedLinksCount=a.droppedLinksCount),null!=a.status&&a.hasOwnProperty("status")&&(c.status=h.opentelemetry.proto.trace.v1.Status.toObject(a.status,b)),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span"},a.SpanKind=function(){var a={},b=Object.create(a);return b[a[0]="SPAN_KIND_UNSPECIFIED"]=0,b[a[1]="SPAN_KIND_INTERNAL"]=1,b[a[2]="SPAN_KIND_SERVER"]=2,b[a[3]="SPAN_KIND_CLIENT"]=3,b[a[4]="SPAN_KIND_PRODUCER"]=4,b[a[5]="SPAN_KIND_CONSUMER"]=5,b}(),a.Event=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(18).string(a.name),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(32).uint32(a.droppedAttributesCount),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.Span.Event;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.timeUnixNano=a.fixed64();break;case 2:f.name=a.string();break;case 3:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 4:f.droppedAttributesCount=a.uint32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span.Event)return a;var b=new h.opentelemetry.proto.trace.v1.Span.Event;if(null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.name&&(b.name=String(a.name)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),a.Link=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.flags=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&Object.hasOwnProperty.call(a,"traceState")&&b.uint32(26).string(a.traceState),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(34).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(40).uint32(a.droppedAttributesCount),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(53).fixed32(a.flags),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.Span.Link;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.traceId=a.bytes();break;case 2:f.spanId=a.bytes();break;case 3:f.traceState=a.string();break;case 4:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 5:f.droppedAttributesCount=a.uint32();break;case 6:f.flags=a.fixed32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId)))return"traceId: buffer expected";if(null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId)))return"spanId: buffer expected";if(null!=a.traceState&&a.hasOwnProperty("traceState")&&!g.isString(a.traceState))return"traceState: string expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Span.Link)return a;var b=new h.opentelemetry.proto.trace.v1.Span.Link;if(null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceState&&(b.traceState=String(a.traceState)),a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),null!=a.flags&&(b.flags=a.flags>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults&&(b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0,c.flags=0),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceState&&a.hasOwnProperty("traceState")&&(c.traceState=a.traceState),a.attributes&&a.attributes.length){c.attributes=[];for(var d=0;d<a.attributes.length;++d)c.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[d],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),a}(),a.Status=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.message=null,a.prototype.code=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.message&&Object.hasOwnProperty.call(a,"message")&&b.uint32(18).string(a.message),null!=a.code&&Object.hasOwnProperty.call(a,"code")&&b.uint32(24).int32(a.code),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.trace.v1.Status;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 2:f.message=a.string();break;case 3:f.code=a.int32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.message&&a.hasOwnProperty("message")&&!g.isString(a.message))return"message: string expected";if(null!=a.code&&a.hasOwnProperty("code"))switch(a.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.trace.v1.Status)return a;var b=new h.opentelemetry.proto.trace.v1.Status;switch(null!=a.message&&(b.message=String(a.message)),a.code){default:"number"==typeof a.code&&(b.code=a.code);break;case"STATUS_CODE_UNSET":case 0:b.code=0;break;case"STATUS_CODE_OK":case 1:b.code=1;break;case"STATUS_CODE_ERROR":case 2:b.code=2}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.message="",c.code=b.enums===String?"STATUS_CODE_UNSET":0),null!=a.message&&a.hasOwnProperty("message")&&(c.message=a.message),null!=a.code&&a.hasOwnProperty("code")&&(c.code=b.enums===String?void 0===h.opentelemetry.proto.trace.v1.Status.StatusCode[a.code]?a.code:h.opentelemetry.proto.trace.v1.Status.StatusCode[a.code]:a.code),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.trace.v1.Status"},a.StatusCode=function(){var a={},b=Object.create(a);return b[a[0]="STATUS_CODE_UNSET"]=0,b[a[1]="STATUS_CODE_OK"]=1,b[a[2]="STATUS_CODE_ERROR"]=2,b}(),a}(),a.SpanFlags=function(){var a={},b=Object.create(a);return b[a[0]="SPAN_FLAGS_DO_NOT_USE"]=0,b[a[255]="SPAN_FLAGS_TRACE_FLAGS_MASK"]=255,b[a[256]="SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK"]=256,b[a[512]="SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK"]=512,b}(),a}(),a}(),a.collector=function(){var a={};return a.trace=function(){var a={};return a.v1=function(){var a={};return a.TraceService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,b,c)},"name",{value:"Export"}),a}(),a.ExportTraceServiceRequest=function(){function a(a){if(this.resourceSpans=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceSpans=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceSpans&&a.resourceSpans.length)for(var c=0;c<a.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.resourceSpans&&f.resourceSpans.length||(f.resourceSpans=[]),f.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceSpans&&a.hasOwnProperty("resourceSpans")){if(!Array.isArray(a.resourceSpans))return"resourceSpans: array expected";for(var b=0;b<a.resourceSpans.length;++b){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(a.resourceSpans[b]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(a.resourceSpans){if(!Array.isArray(a.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");b.resourceSpans=[];for(var c=0;c<a.resourceSpans.length;++c){if("object"!=typeof a.resourceSpans[c])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");b.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(a.resourceSpans[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceSpans=[]),a.resourceSpans&&a.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<a.resourceSpans.length;++d)c.resourceSpans[d]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(a.resourceSpans[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),a.ExportTraceServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?f.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(a,a.uint32()):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),a.ExportTracePartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedSpans&&Object.hasOwnProperty.call(a,"rejectedSpans")&&b.uint32(8).int64(a.rejectedSpans),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.rejectedSpans=a.int64();break;case 2:f.errorMessage=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedSpans&&a.hasOwnProperty("rejectedSpans")&&!g.isInteger(a.rejectedSpans)&&!(a.rejectedSpans&&g.isInteger(a.rejectedSpans.low)&&g.isInteger(a.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return a;var b=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=a.rejectedSpans&&(g.Long?(b.rejectedSpans=g.Long.fromValue(a.rejectedSpans)).unsigned=!1:"string"==typeof a.rejectedSpans?b.rejectedSpans=parseInt(a.rejectedSpans,10):"number"==typeof a.rejectedSpans?b.rejectedSpans=a.rejectedSpans:"object"==typeof a.rejectedSpans&&(b.rejectedSpans=new g.LongBits(a.rejectedSpans.low>>>0,a.rejectedSpans.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedSpans=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedSpans=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedSpans&&a.hasOwnProperty("rejectedSpans")&&("number"==typeof a.rejectedSpans?c.rejectedSpans=b.longs===String?String(a.rejectedSpans):a.rejectedSpans:c.rejectedSpans=b.longs===String?g.Long.prototype.toString.call(a.rejectedSpans):b.longs===Number?new g.LongBits(a.rejectedSpans.low>>>0,a.rejectedSpans.high>>>0).toNumber():a.rejectedSpans),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),a}(),a}(),a.metrics=function(){var a={};return a.v1=function(){var a={};return a.MetricsService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,b,c)},"name",{value:"Export"}),a}(),a.ExportMetricsServiceRequest=function(){function a(a){if(this.resourceMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceMetrics=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceMetrics&&a.resourceMetrics.length)for(var c=0;c<a.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(a.resourceMetrics[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.resourceMetrics&&f.resourceMetrics.length||(f.resourceMetrics=[]),f.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceMetrics&&a.hasOwnProperty("resourceMetrics")){if(!Array.isArray(a.resourceMetrics))return"resourceMetrics: array expected";for(var b=0;b<a.resourceMetrics.length;++b){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(a.resourceMetrics[b]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(a.resourceMetrics){if(!Array.isArray(a.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");b.resourceMetrics=[];for(var c=0;c<a.resourceMetrics.length;++c){if("object"!=typeof a.resourceMetrics[c])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");b.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(a.resourceMetrics[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceMetrics=[]),a.resourceMetrics&&a.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<a.resourceMetrics.length;++d)c.resourceMetrics[d]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(a.resourceMetrics[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),a.ExportMetricsServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?f.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(a,a.uint32()):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),a.ExportMetricsPartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedDataPoints&&Object.hasOwnProperty.call(a,"rejectedDataPoints")&&b.uint32(8).int64(a.rejectedDataPoints),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.rejectedDataPoints=a.int64();break;case 2:f.errorMessage=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedDataPoints&&a.hasOwnProperty("rejectedDataPoints")&&!g.isInteger(a.rejectedDataPoints)&&!(a.rejectedDataPoints&&g.isInteger(a.rejectedDataPoints.low)&&g.isInteger(a.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return a;var b=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=a.rejectedDataPoints&&(g.Long?(b.rejectedDataPoints=g.Long.fromValue(a.rejectedDataPoints)).unsigned=!1:"string"==typeof a.rejectedDataPoints?b.rejectedDataPoints=parseInt(a.rejectedDataPoints,10):"number"==typeof a.rejectedDataPoints?b.rejectedDataPoints=a.rejectedDataPoints:"object"==typeof a.rejectedDataPoints&&(b.rejectedDataPoints=new g.LongBits(a.rejectedDataPoints.low>>>0,a.rejectedDataPoints.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedDataPoints=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedDataPoints=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedDataPoints&&a.hasOwnProperty("rejectedDataPoints")&&("number"==typeof a.rejectedDataPoints?c.rejectedDataPoints=b.longs===String?String(a.rejectedDataPoints):a.rejectedDataPoints:c.rejectedDataPoints=b.longs===String?g.Long.prototype.toString.call(a.rejectedDataPoints):b.longs===Number?new g.LongBits(a.rejectedDataPoints.low>>>0,a.rejectedDataPoints.high>>>0).toNumber():a.rejectedDataPoints),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),a}(),a}(),a.logs=function(){var a={};return a.v1=function(){var a={};return a.LogsService=function(){function a(a,b,c){d.rpc.Service.call(this,a,b,c)}return(a.prototype=Object.create(d.rpc.Service.prototype)).constructor=a,a.create=function(a,b,c){return new this(a,b,c)},Object.defineProperty(a.prototype.export=function a(b,c){return this.rpcCall(a,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,b,c)},"name",{value:"Export"}),a}(),a.ExportLogsServiceRequest=function(){function a(a){if(this.resourceLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceLogs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceLogs&&a.resourceLogs.length)for(var c=0;c<a.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(a.resourceLogs[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.resourceLogs&&f.resourceLogs.length||(f.resourceLogs=[]),f.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceLogs&&a.hasOwnProperty("resourceLogs")){if(!Array.isArray(a.resourceLogs))return"resourceLogs: array expected";for(var b=0;b<a.resourceLogs.length;++b){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(a.resourceLogs[b]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(a.resourceLogs){if(!Array.isArray(a.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");b.resourceLogs=[];for(var c=0;c<a.resourceLogs.length;++c){if("object"!=typeof a.resourceLogs[c])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");b.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(a.resourceLogs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceLogs=[]),a.resourceLogs&&a.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<a.resourceLogs.length;++d)c.resourceLogs[d]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(a.resourceLogs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),a.ExportLogsServiceResponse=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.partialSuccess=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.partialSuccess&&Object.hasOwnProperty.call(a,"partialSuccess")&&h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(a.partialSuccess,b.uint32(10).fork()).ldelim(),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?f.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(a,a.uint32()):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")){var b=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(a.partialSuccess);if(b)return"partialSuccess."+b}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=a.partialSuccess){if("object"!=typeof a.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");b.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(a.partialSuccess)}return b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.partialSuccess=null),null!=a.partialSuccess&&a.hasOwnProperty("partialSuccess")&&(c.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(a.partialSuccess,b)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),a.ExportLogsPartialSuccess=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.rejectedLogRecords&&Object.hasOwnProperty.call(a,"rejectedLogRecords")&&b.uint32(8).int64(a.rejectedLogRecords),null!=a.errorMessage&&Object.hasOwnProperty.call(a,"errorMessage")&&b.uint32(18).string(a.errorMessage),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.rejectedLogRecords=a.int64();break;case 2:f.errorMessage=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.rejectedLogRecords&&a.hasOwnProperty("rejectedLogRecords")&&!g.isInteger(a.rejectedLogRecords)&&!(a.rejectedLogRecords&&g.isInteger(a.rejectedLogRecords.low)&&g.isInteger(a.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&!g.isString(a.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return a;var b=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=a.rejectedLogRecords&&(g.Long?(b.rejectedLogRecords=g.Long.fromValue(a.rejectedLogRecords)).unsigned=!1:"string"==typeof a.rejectedLogRecords?b.rejectedLogRecords=parseInt(a.rejectedLogRecords,10):"number"==typeof a.rejectedLogRecords?b.rejectedLogRecords=a.rejectedLogRecords:"object"==typeof a.rejectedLogRecords&&(b.rejectedLogRecords=new g.LongBits(a.rejectedLogRecords.low>>>0,a.rejectedLogRecords.high>>>0).toNumber())),null!=a.errorMessage&&(b.errorMessage=String(a.errorMessage)),b},a.toObject=function(a,b){b||(b={});var c={};if(b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.rejectedLogRecords=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.rejectedLogRecords=b.longs===String?"0":0;c.errorMessage=""}return null!=a.rejectedLogRecords&&a.hasOwnProperty("rejectedLogRecords")&&("number"==typeof a.rejectedLogRecords?c.rejectedLogRecords=b.longs===String?String(a.rejectedLogRecords):a.rejectedLogRecords:c.rejectedLogRecords=b.longs===String?g.Long.prototype.toString.call(a.rejectedLogRecords):b.longs===Number?new g.LongBits(a.rejectedLogRecords.low>>>0,a.rejectedLogRecords.high>>>0).toNumber():a.rejectedLogRecords),null!=a.errorMessage&&a.hasOwnProperty("errorMessage")&&(c.errorMessage=a.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),a}(),a}(),a}(),a.metrics=function(){var a={};return a.v1=function(){var a={};return a.MetricsData=function(){function a(a){if(this.resourceMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceMetrics=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceMetrics&&a.resourceMetrics.length)for(var c=0;c<a.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(a.resourceMetrics[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.MetricsData;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.resourceMetrics&&f.resourceMetrics.length||(f.resourceMetrics=[]),f.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceMetrics&&a.hasOwnProperty("resourceMetrics")){if(!Array.isArray(a.resourceMetrics))return"resourceMetrics: array expected";for(var b=0;b<a.resourceMetrics.length;++b){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(a.resourceMetrics[b]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.MetricsData)return a;var b=new h.opentelemetry.proto.metrics.v1.MetricsData;if(a.resourceMetrics){if(!Array.isArray(a.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");b.resourceMetrics=[];for(var c=0;c<a.resourceMetrics.length;++c){if("object"!=typeof a.resourceMetrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");b.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(a.resourceMetrics[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceMetrics=[]),a.resourceMetrics&&a.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<a.resourceMetrics.length;++d)c.resourceMetrics[d]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(a.resourceMetrics[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.MetricsData"},a}(),a.ResourceMetrics=function(){function a(a){if(this.scopeMetrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeMetrics=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeMetrics&&a.scopeMetrics.length)for(var c=0;c<a.scopeMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(a.scopeMetrics[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:f.scopeMetrics&&f.scopeMetrics.length||(f.scopeMetrics=[]),f.scopeMetrics.push(h.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(a,a.uint32()));break;case 3:f.schemaUrl=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeMetrics&&a.hasOwnProperty("scopeMetrics")){if(!Array.isArray(a.scopeMetrics))return"scopeMetrics: array expected";for(var c=0;c<a.scopeMetrics.length;++c){var b=h.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(a.scopeMetrics[c]);if(b)return"scopeMetrics."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ResourceMetrics)return a;var b=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeMetrics){if(!Array.isArray(a.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");b.scopeMetrics=[];for(var c=0;c<a.scopeMetrics.length;++c){if("object"!=typeof a.scopeMetrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");b.scopeMetrics[c]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(a.scopeMetrics[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeMetrics=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeMetrics&&a.scopeMetrics.length){c.scopeMetrics=[];for(var d=0;d<a.scopeMetrics.length;++d)c.scopeMetrics[d]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(a.scopeMetrics[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},a}(),a.ScopeMetrics=function(){function a(a){if(this.metrics=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.metrics=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.metrics&&a.metrics.length)for(var c=0;c<a.metrics.length;++c)h.opentelemetry.proto.metrics.v1.Metric.encode(a.metrics[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:f.metrics&&f.metrics.length||(f.metrics=[]),f.metrics.push(h.opentelemetry.proto.metrics.v1.Metric.decode(a,a.uint32()));break;case 3:f.schemaUrl=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.metrics&&a.hasOwnProperty("metrics")){if(!Array.isArray(a.metrics))return"metrics: array expected";for(var c=0;c<a.metrics.length;++c){var b=h.opentelemetry.proto.metrics.v1.Metric.verify(a.metrics[c]);if(b)return"metrics."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ScopeMetrics)return a;var b=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.metrics){if(!Array.isArray(a.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");b.metrics=[];for(var c=0;c<a.metrics.length;++c){if("object"!=typeof a.metrics[c])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");b.metrics[c]=h.opentelemetry.proto.metrics.v1.Metric.fromObject(a.metrics[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.metrics=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.metrics&&a.metrics.length){c.metrics=[];for(var d=0;d<a.metrics.length;++d)c.metrics[d]=h.opentelemetry.proto.metrics.v1.Metric.toObject(a.metrics[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},a}(),a.Metric=function(){var a;function b(a){if(this.metadata=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.name=null,b.prototype.description=null,b.prototype.unit=null,b.prototype.gauge=null,b.prototype.sum=null,b.prototype.histogram=null,b.prototype.exponentialHistogram=null,b.prototype.summary=null,b.prototype.metadata=g.emptyArray,Object.defineProperty(b.prototype,"data",{get:g.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.name&&Object.hasOwnProperty.call(a,"name")&&b.uint32(10).string(a.name),null!=a.description&&Object.hasOwnProperty.call(a,"description")&&b.uint32(18).string(a.description),null!=a.unit&&Object.hasOwnProperty.call(a,"unit")&&b.uint32(26).string(a.unit),null!=a.gauge&&Object.hasOwnProperty.call(a,"gauge")&&h.opentelemetry.proto.metrics.v1.Gauge.encode(a.gauge,b.uint32(42).fork()).ldelim(),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&h.opentelemetry.proto.metrics.v1.Sum.encode(a.sum,b.uint32(58).fork()).ldelim(),null!=a.histogram&&Object.hasOwnProperty.call(a,"histogram")&&h.opentelemetry.proto.metrics.v1.Histogram.encode(a.histogram,b.uint32(74).fork()).ldelim(),null!=a.exponentialHistogram&&Object.hasOwnProperty.call(a,"exponentialHistogram")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(a.exponentialHistogram,b.uint32(82).fork()).ldelim(),null!=a.summary&&Object.hasOwnProperty.call(a,"summary")&&h.opentelemetry.proto.metrics.v1.Summary.encode(a.summary,b.uint32(90).fork()).ldelim(),null!=a.metadata&&a.metadata.length)for(var c=0;c<a.metadata.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.metadata[c],b.uint32(98).fork()).ldelim();return b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.Metric;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.name=a.string();break;case 2:f.description=a.string();break;case 3:f.unit=a.string();break;case 5:f.gauge=h.opentelemetry.proto.metrics.v1.Gauge.decode(a,a.uint32());break;case 7:f.sum=h.opentelemetry.proto.metrics.v1.Sum.decode(a,a.uint32());break;case 9:f.histogram=h.opentelemetry.proto.metrics.v1.Histogram.decode(a,a.uint32());break;case 10:f.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(a,a.uint32());break;case 11:f.summary=h.opentelemetry.proto.metrics.v1.Summary.decode(a,a.uint32());break;case 12:f.metadata&&f.metadata.length||(f.metadata=[]),f.metadata.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;default:a.skipType(7&g)}}return f},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.name&&a.hasOwnProperty("name")&&!g.isString(a.name))return"name: string expected";if(null!=a.description&&a.hasOwnProperty("description")&&!g.isString(a.description))return"description: string expected";if(null!=a.unit&&a.hasOwnProperty("unit")&&!g.isString(a.unit))return"unit: string expected";if(null!=a.gauge&&a.hasOwnProperty("gauge")){b.data=1;var c=h.opentelemetry.proto.metrics.v1.Gauge.verify(a.gauge);if(c)return"gauge."+c}if(null!=a.sum&&a.hasOwnProperty("sum")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Sum.verify(a.sum);if(c)return"sum."+c}if(null!=a.histogram&&a.hasOwnProperty("histogram")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Histogram.verify(a.histogram);if(c)return"histogram."+c}if(null!=a.exponentialHistogram&&a.hasOwnProperty("exponentialHistogram")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(a.exponentialHistogram);if(c)return"exponentialHistogram."+c}if(null!=a.summary&&a.hasOwnProperty("summary")){if(1===b.data)return"data: multiple values";b.data=1;var c=h.opentelemetry.proto.metrics.v1.Summary.verify(a.summary);if(c)return"summary."+c}if(null!=a.metadata&&a.hasOwnProperty("metadata")){if(!Array.isArray(a.metadata))return"metadata: array expected";for(var d=0;d<a.metadata.length;++d){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.metadata[d]);if(c)return"metadata."+c}}return null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Metric)return a;var b=new h.opentelemetry.proto.metrics.v1.Metric;if(null!=a.name&&(b.name=String(a.name)),null!=a.description&&(b.description=String(a.description)),null!=a.unit&&(b.unit=String(a.unit)),null!=a.gauge){if("object"!=typeof a.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");b.gauge=h.opentelemetry.proto.metrics.v1.Gauge.fromObject(a.gauge)}if(null!=a.sum){if("object"!=typeof a.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");b.sum=h.opentelemetry.proto.metrics.v1.Sum.fromObject(a.sum)}if(null!=a.histogram){if("object"!=typeof a.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");b.histogram=h.opentelemetry.proto.metrics.v1.Histogram.fromObject(a.histogram)}if(null!=a.exponentialHistogram){if("object"!=typeof a.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");b.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(a.exponentialHistogram)}if(null!=a.summary){if("object"!=typeof a.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");b.summary=h.opentelemetry.proto.metrics.v1.Summary.fromObject(a.summary)}if(a.metadata){if(!Array.isArray(a.metadata))throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: array expected");b.metadata=[];for(var c=0;c<a.metadata.length;++c){if("object"!=typeof a.metadata[c])throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: object expected");b.metadata[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.metadata[c])}}return b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.metadata=[]),b.defaults&&(c.name="",c.description="",c.unit=""),null!=a.name&&a.hasOwnProperty("name")&&(c.name=a.name),null!=a.description&&a.hasOwnProperty("description")&&(c.description=a.description),null!=a.unit&&a.hasOwnProperty("unit")&&(c.unit=a.unit),null!=a.gauge&&a.hasOwnProperty("gauge")&&(c.gauge=h.opentelemetry.proto.metrics.v1.Gauge.toObject(a.gauge,b),b.oneofs&&(c.data="gauge")),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=h.opentelemetry.proto.metrics.v1.Sum.toObject(a.sum,b),b.oneofs&&(c.data="sum")),null!=a.histogram&&a.hasOwnProperty("histogram")&&(c.histogram=h.opentelemetry.proto.metrics.v1.Histogram.toObject(a.histogram,b),b.oneofs&&(c.data="histogram")),null!=a.exponentialHistogram&&a.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(a.exponentialHistogram,b),b.oneofs&&(c.data="exponentialHistogram")),null!=a.summary&&a.hasOwnProperty("summary")&&(c.summary=h.opentelemetry.proto.metrics.v1.Summary.toObject(a.summary,b),b.oneofs&&(c.data="summary")),a.metadata&&a.metadata.length){c.metadata=[];for(var d=0;d<a.metadata.length;++d)c.metadata[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.metadata[d],b)}return c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Metric"},b}(),a.Gauge=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.Gauge;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.dataPoints&&f.dataPoints.length||(f.dataPoints=[]),f.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Gauge)return a;var b=new h.opentelemetry.proto.metrics.v1.Gauge;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(a.dataPoints[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(a.dataPoints[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Gauge"},a}(),a.Sum=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.prototype.isMonotonic=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),null!=a.isMonotonic&&Object.hasOwnProperty.call(a,"isMonotonic")&&b.uint32(24).bool(a.isMonotonic),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.Sum;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.dataPoints&&f.dataPoints.length||(f.dataPoints=[]),f.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(a,a.uint32()));break;case 2:f.aggregationTemporality=a.int32();break;case 3:f.isMonotonic=a.bool();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=a.isMonotonic&&a.hasOwnProperty("isMonotonic")&&"boolean"!=typeof a.isMonotonic?"isMonotonic: boolean expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Sum)return a;var b=new h.opentelemetry.proto.metrics.v1.Sum;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return null!=a.isMonotonic&&(b.isMonotonic=!!a.isMonotonic),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,c.isMonotonic=!1),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),null!=a.isMonotonic&&a.hasOwnProperty("isMonotonic")&&(c.isMonotonic=a.isMonotonic),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Sum"},a}(),a.Histogram=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.Histogram;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.dataPoints&&f.dataPoints.length||(f.dataPoints=[]),f.dataPoints.push(h.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(a,a.uint32()));break;case 2:f.aggregationTemporality=a.int32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Histogram)return a;var b=new h.opentelemetry.proto.metrics.v1.Histogram;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Histogram"},a}(),a.ExponentialHistogram=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.prototype.aggregationTemporality=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return null!=a.aggregationTemporality&&Object.hasOwnProperty.call(a,"aggregationTemporality")&&b.uint32(16).int32(a.aggregationTemporality),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.dataPoints&&f.dataPoints.length||(f.dataPoints=[]),f.dataPoints.push(h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(a,a.uint32()));break;case 2:f.aggregationTemporality=a.int32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}if(null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality"))switch(a.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogram)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(a.dataPoints[c])}}switch(a.aggregationTemporality){default:"number"==typeof a.aggregationTemporality&&(b.aggregationTemporality=a.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:b.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:b.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:b.aggregationTemporality=2}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),b.defaults&&(c.aggregationTemporality=b.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(a.dataPoints[d],b)}return null!=a.aggregationTemporality&&a.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=b.enums===String?void 0===h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]?a.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[a.aggregationTemporality]:a.aggregationTemporality),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},a}(),a.Summary=function(){function a(a){if(this.dataPoints=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.dataPoints=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.dataPoints&&a.dataPoints.length)for(var c=0;c<a.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(a.dataPoints[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.Summary;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.dataPoints&&f.dataPoints.length||(f.dataPoints=[]),f.dataPoints.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dataPoints&&a.hasOwnProperty("dataPoints")){if(!Array.isArray(a.dataPoints))return"dataPoints: array expected";for(var b=0;b<a.dataPoints.length;++b){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(a.dataPoints[b]);if(c)return"dataPoints."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Summary)return a;var b=new h.opentelemetry.proto.metrics.v1.Summary;if(a.dataPoints){if(!Array.isArray(a.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");b.dataPoints=[];for(var c=0;c<a.dataPoints.length;++c){if("object"!=typeof a.dataPoints[c])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");b.dataPoints[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(a.dataPoints[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.dataPoints=[]),a.dataPoints&&a.dataPoints.length){c.dataPoints=[];for(var d=0;d<a.dataPoints.length;++d)c.dataPoints[d]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(a.dataPoints[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Summary"},a}(),a.AggregationTemporality=function(){var a={},b=Object.create(a);return b[a[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,b[a[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,b[a[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,b}(),a.DataPointFlags=function(){var a={},b=Object.create(a);return b[a[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,b[a[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,b}(),a.NumberDataPoint=function(){var a;function b(a){if(this.attributes=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.asDouble=null,b.prototype.asInt=null,b.prototype.exemplars=g.emptyArray,b.prototype.flags=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["asDouble","asInt"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.asDouble&&Object.hasOwnProperty.call(a,"asDouble")&&b.uint32(33).double(a.asDouble),null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(42).fork()).ldelim();if(null!=a.asInt&&Object.hasOwnProperty.call(a,"asInt")&&b.uint32(49).sfixed64(a.asInt),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(58).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(64).uint32(a.flags),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 7:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:f.startTimeUnixNano=a.fixed64();break;case 3:f.timeUnixNano=a.fixed64();break;case 4:f.asDouble=a.double();break;case 6:f.asInt=a.sfixed64();break;case 5:f.exemplars&&f.exemplars.length||(f.exemplars=[]),f.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 8:f.flags=a.uint32();break;default:a.skipType(7&g)}}return f},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(b.value=1,"number"!=typeof a.asDouble))return"asDouble: number expected";if(null!=a.asInt&&a.hasOwnProperty("asInt")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.asInt)&&!(a.asInt&&g.isInteger(a.asInt.low)&&g.isInteger(a.asInt.high)))return"asInt: integer|Long expected"}if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.NumberDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.asDouble&&(b.asDouble=Number(a.asDouble)),null!=a.asInt&&(g.Long?(b.asInt=g.Long.fromValue(a.asInt)).unsigned=!1:"string"==typeof a.asInt?b.asInt=parseInt(a.asInt,10):"number"==typeof a.asInt?b.asInt=a.asInt:"object"==typeof a.asInt&&(b.asInt=new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber())),a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.exemplars=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(c.asDouble=b.json&&!isFinite(a.asDouble)?String(a.asDouble):a.asDouble,b.oneofs&&(c.value="asDouble")),a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}if(null!=a.asInt&&a.hasOwnProperty("asInt")&&("number"==typeof a.asInt?c.asInt=b.longs===String?String(a.asInt):a.asInt:c.asInt=b.longs===String?g.Long.prototype.toString.call(a.asInt):b.longs===Number?new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber():a.asInt,b.oneofs&&(c.value="asInt")),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},b}(),a.HistogramDataPoint=function(){var a;function b(a){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.count=null,b.prototype.sum=null,b.prototype.bucketCounts=g.emptyArray,b.prototype.explicitBounds=g.emptyArray,b.prototype.exemplars=g.emptyArray,b.prototype.flags=null,b.prototype.min=null,b.prototype.max=null,Object.defineProperty(b.prototype,"_sum",{get:g.oneOfGetter(a=["sum"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_min",{get:g.oneOfGetter(a=["min"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_max",{get:g.oneOfGetter(a=["max"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.bucketCounts&&a.bucketCounts.length){b.uint32(50).fork();for(var c=0;c<a.bucketCounts.length;++c)b.fixed64(a.bucketCounts[c]);b.ldelim()}if(null!=a.explicitBounds&&a.explicitBounds.length){b.uint32(58).fork();for(var c=0;c<a.explicitBounds.length;++c)b.double(a.explicitBounds[c]);b.ldelim()}if(null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(66).fork()).ldelim();if(null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(74).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(80).uint32(a.flags),null!=a.min&&Object.hasOwnProperty.call(a,"min")&&b.uint32(89).double(a.min),null!=a.max&&Object.hasOwnProperty.call(a,"max")&&b.uint32(97).double(a.max),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 9:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:f.startTimeUnixNano=a.fixed64();break;case 3:f.timeUnixNano=a.fixed64();break;case 4:f.count=a.fixed64();break;case 5:f.sum=a.double();break;case 6:if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(7&g)==2)for(var i=a.uint32()+a.pos;a.pos<i;)f.bucketCounts.push(a.fixed64());else f.bucketCounts.push(a.fixed64());break;case 7:if(f.explicitBounds&&f.explicitBounds.length||(f.explicitBounds=[]),(7&g)==2)for(var i=a.uint32()+a.pos;a.pos<i;)f.explicitBounds.push(a.double());else f.explicitBounds.push(a.double());break;case 8:f.exemplars&&f.exemplars.length||(f.exemplars=[]),f.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 10:f.flags=a.uint32();break;case 11:f.min=a.double();break;case 12:f.max=a.double();break;default:a.skipType(7&g)}}return f},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&(b._sum=1,"number"!=typeof a.sum))return"sum: number expected";if(null!=a.bucketCounts&&a.hasOwnProperty("bucketCounts")){if(!Array.isArray(a.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<a.bucketCounts.length;++c)if(!g.isInteger(a.bucketCounts[c])&&!(a.bucketCounts[c]&&g.isInteger(a.bucketCounts[c].low)&&g.isInteger(a.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(null!=a.explicitBounds&&a.hasOwnProperty("explicitBounds")){if(!Array.isArray(a.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<a.explicitBounds.length;++c)if("number"!=typeof a.explicitBounds[c])return"explicitBounds: number[] expected"}if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null!=a.min&&a.hasOwnProperty("min")&&(b._min=1,"number"!=typeof a.min)?"min: number expected":null!=a.max&&a.hasOwnProperty("max")&&(b._max=1,"number"!=typeof a.max)?"max: number expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.HistogramDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),a.bucketCounts){if(!Array.isArray(a.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");b.bucketCounts=[];for(var c=0;c<a.bucketCounts.length;++c)g.Long?(b.bucketCounts[c]=g.Long.fromValue(a.bucketCounts[c])).unsigned=!1:"string"==typeof a.bucketCounts[c]?b.bucketCounts[c]=parseInt(a.bucketCounts[c],10):"number"==typeof a.bucketCounts[c]?b.bucketCounts[c]=a.bucketCounts[c]:"object"==typeof a.bucketCounts[c]&&(b.bucketCounts[c]=new g.LongBits(a.bucketCounts[c].low>>>0,a.bucketCounts[c].high>>>0).toNumber())}if(a.explicitBounds){if(!Array.isArray(a.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");b.explicitBounds=[];for(var c=0;c<a.explicitBounds.length;++c)b.explicitBounds[c]=Number(a.explicitBounds[c])}if(a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),null!=a.min&&(b.min=Number(a.min)),null!=a.max&&(b.max=Number(a.max)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum,b.oneofs&&(c._sum="sum")),a.bucketCounts&&a.bucketCounts.length){c.bucketCounts=[];for(var e=0;e<a.bucketCounts.length;++e)"number"==typeof a.bucketCounts[e]?c.bucketCounts[e]=b.longs===String?String(a.bucketCounts[e]):a.bucketCounts[e]:c.bucketCounts[e]=b.longs===String?g.Long.prototype.toString.call(a.bucketCounts[e]):b.longs===Number?new g.LongBits(a.bucketCounts[e].low>>>0,a.bucketCounts[e].high>>>0).toNumber():a.bucketCounts[e]}if(a.explicitBounds&&a.explicitBounds.length){c.explicitBounds=[];for(var e=0;e<a.explicitBounds.length;++e)c.explicitBounds[e]=b.json&&!isFinite(a.explicitBounds[e])?String(a.explicitBounds[e]):a.explicitBounds[e]}if(a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),null!=a.min&&a.hasOwnProperty("min")&&(c.min=b.json&&!isFinite(a.min)?String(a.min):a.min,b.oneofs&&(c._min="min")),null!=a.max&&a.hasOwnProperty("max")&&(c.max=b.json&&!isFinite(a.max)?String(a.max):a.max,b.oneofs&&(c._max="max")),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},b}(),a.ExponentialHistogramDataPoint=function(){var a;function b(a){if(this.attributes=[],this.exemplars=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.attributes=g.emptyArray,b.prototype.startTimeUnixNano=null,b.prototype.timeUnixNano=null,b.prototype.count=null,b.prototype.sum=null,b.prototype.scale=null,b.prototype.zeroCount=null,b.prototype.positive=null,b.prototype.negative=null,b.prototype.flags=null,b.prototype.exemplars=g.emptyArray,b.prototype.min=null,b.prototype.max=null,b.prototype.zeroThreshold=null,Object.defineProperty(b.prototype,"_sum",{get:g.oneOfGetter(a=["sum"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_min",{get:g.oneOfGetter(a=["min"]),set:g.oneOfSetter(a)}),Object.defineProperty(b.prototype,"_max",{get:g.oneOfGetter(a=["max"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(10).fork()).ldelim();if(null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.scale&&Object.hasOwnProperty.call(a,"scale")&&b.uint32(48).sint32(a.scale),null!=a.zeroCount&&Object.hasOwnProperty.call(a,"zeroCount")&&b.uint32(57).fixed64(a.zeroCount),null!=a.positive&&Object.hasOwnProperty.call(a,"positive")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(a.positive,b.uint32(66).fork()).ldelim(),null!=a.negative&&Object.hasOwnProperty.call(a,"negative")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(a.negative,b.uint32(74).fork()).ldelim(),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(80).uint32(a.flags),null!=a.exemplars&&a.exemplars.length)for(var c=0;c<a.exemplars.length;++c)h.opentelemetry.proto.metrics.v1.Exemplar.encode(a.exemplars[c],b.uint32(90).fork()).ldelim();return null!=a.min&&Object.hasOwnProperty.call(a,"min")&&b.uint32(97).double(a.min),null!=a.max&&Object.hasOwnProperty.call(a,"max")&&b.uint32(105).double(a.max),null!=a.zeroThreshold&&Object.hasOwnProperty.call(a,"zeroThreshold")&&b.uint32(113).double(a.zeroThreshold),b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:f.startTimeUnixNano=a.fixed64();break;case 3:f.timeUnixNano=a.fixed64();break;case 4:f.count=a.fixed64();break;case 5:f.sum=a.double();break;case 6:f.scale=a.sint32();break;case 7:f.zeroCount=a.fixed64();break;case 8:f.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(a,a.uint32());break;case 9:f.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(a,a.uint32());break;case 10:f.flags=a.uint32();break;case 11:f.exemplars&&f.exemplars.length||(f.exemplars=[]),f.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(a,a.uint32()));break;case 12:f.min=a.double();break;case 13:f.max=a.double();break;case 14:f.zeroThreshold=a.double();break;default:a.skipType(7&g)}}return f},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(d)return"attributes."+d}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&(b._sum=1,"number"!=typeof a.sum))return"sum: number expected";if(null!=a.scale&&a.hasOwnProperty("scale")&&!g.isInteger(a.scale))return"scale: integer expected";if(null!=a.zeroCount&&a.hasOwnProperty("zeroCount")&&!g.isInteger(a.zeroCount)&&!(a.zeroCount&&g.isInteger(a.zeroCount.low)&&g.isInteger(a.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=a.positive&&a.hasOwnProperty("positive")){var d=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(a.positive);if(d)return"positive."+d}if(null!=a.negative&&a.hasOwnProperty("negative")){var d=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(a.negative);if(d)return"negative."+d}if(null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags))return"flags: integer expected";if(null!=a.exemplars&&a.hasOwnProperty("exemplars")){if(!Array.isArray(a.exemplars))return"exemplars: array expected";for(var c=0;c<a.exemplars.length;++c){var d=h.opentelemetry.proto.metrics.v1.Exemplar.verify(a.exemplars[c]);if(d)return"exemplars."+d}}return null!=a.min&&a.hasOwnProperty("min")&&(b._min=1,"number"!=typeof a.min)?"min: number expected":null!=a.max&&a.hasOwnProperty("max")&&(b._max=1,"number"!=typeof a.max)?"max: number expected":null!=a.zeroThreshold&&a.hasOwnProperty("zeroThreshold")&&"number"!=typeof a.zeroThreshold?"zeroThreshold: number expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),null!=a.scale&&(b.scale=0|a.scale),null!=a.zeroCount&&(g.Long?(b.zeroCount=g.Long.fromValue(a.zeroCount)).unsigned=!1:"string"==typeof a.zeroCount?b.zeroCount=parseInt(a.zeroCount,10):"number"==typeof a.zeroCount?b.zeroCount=a.zeroCount:"object"==typeof a.zeroCount&&(b.zeroCount=new g.LongBits(a.zeroCount.low>>>0,a.zeroCount.high>>>0).toNumber())),null!=a.positive){if("object"!=typeof a.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");b.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(a.positive)}if(null!=a.negative){if("object"!=typeof a.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");b.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(a.negative)}if(null!=a.flags&&(b.flags=a.flags>>>0),a.exemplars){if(!Array.isArray(a.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");b.exemplars=[];for(var c=0;c<a.exemplars.length;++c){if("object"!=typeof a.exemplars[c])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");b.exemplars[c]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(a.exemplars[c])}}return null!=a.min&&(b.min=Number(a.min)),null!=a.max&&(b.max=Number(a.max)),null!=a.zeroThreshold&&(b.zeroThreshold=Number(a.zeroThreshold)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[],c.exemplars=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;if(c.scale=0,g.Long){var d=new g.Long(0,0,!1);c.zeroCount=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.zeroCount=b.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum,b.oneofs&&(c._sum="sum")),null!=a.scale&&a.hasOwnProperty("scale")&&(c.scale=a.scale),null!=a.zeroCount&&a.hasOwnProperty("zeroCount")&&("number"==typeof a.zeroCount?c.zeroCount=b.longs===String?String(a.zeroCount):a.zeroCount:c.zeroCount=b.longs===String?g.Long.prototype.toString.call(a.zeroCount):b.longs===Number?new g.LongBits(a.zeroCount.low>>>0,a.zeroCount.high>>>0).toNumber():a.zeroCount),null!=a.positive&&a.hasOwnProperty("positive")&&(c.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(a.positive,b)),null!=a.negative&&a.hasOwnProperty("negative")&&(c.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(a.negative,b)),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),a.exemplars&&a.exemplars.length){c.exemplars=[];for(var e=0;e<a.exemplars.length;++e)c.exemplars[e]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(a.exemplars[e],b)}return null!=a.min&&a.hasOwnProperty("min")&&(c.min=b.json&&!isFinite(a.min)?String(a.min):a.min,b.oneofs&&(c._min="min")),null!=a.max&&a.hasOwnProperty("max")&&(c.max=b.json&&!isFinite(a.max)?String(a.max):a.max,b.oneofs&&(c._max="max")),null!=a.zeroThreshold&&a.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=b.json&&!isFinite(a.zeroThreshold)?String(a.zeroThreshold):a.zeroThreshold),c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},b.Buckets=function(){function a(a){if(this.bucketCounts=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.offset=null,a.prototype.bucketCounts=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.offset&&Object.hasOwnProperty.call(a,"offset")&&b.uint32(8).sint32(a.offset),null!=a.bucketCounts&&a.bucketCounts.length){b.uint32(18).fork();for(var c=0;c<a.bucketCounts.length;++c)b.uint64(a.bucketCounts[c]);b.ldelim()}return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.offset=a.sint32();break;case 2:if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(7&g)==2)for(var i=a.uint32()+a.pos;a.pos<i;)f.bucketCounts.push(a.uint64());else f.bucketCounts.push(a.uint64());break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.offset&&a.hasOwnProperty("offset")&&!g.isInteger(a.offset))return"offset: integer expected";if(null!=a.bucketCounts&&a.hasOwnProperty("bucketCounts")){if(!Array.isArray(a.bucketCounts))return"bucketCounts: array expected";for(var b=0;b<a.bucketCounts.length;++b)if(!g.isInteger(a.bucketCounts[b])&&!(a.bucketCounts[b]&&g.isInteger(a.bucketCounts[b].low)&&g.isInteger(a.bucketCounts[b].high)))return"bucketCounts: integer|Long[] expected"}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return a;var b=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=a.offset&&(b.offset=0|a.offset),a.bucketCounts){if(!Array.isArray(a.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");b.bucketCounts=[];for(var c=0;c<a.bucketCounts.length;++c)g.Long?(b.bucketCounts[c]=g.Long.fromValue(a.bucketCounts[c])).unsigned=!0:"string"==typeof a.bucketCounts[c]?b.bucketCounts[c]=parseInt(a.bucketCounts[c],10):"number"==typeof a.bucketCounts[c]?b.bucketCounts[c]=a.bucketCounts[c]:"object"==typeof a.bucketCounts[c]&&(b.bucketCounts[c]=new g.LongBits(a.bucketCounts[c].low>>>0,a.bucketCounts[c].high>>>0).toNumber(!0))}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.bucketCounts=[]),b.defaults&&(c.offset=0),null!=a.offset&&a.hasOwnProperty("offset")&&(c.offset=a.offset),a.bucketCounts&&a.bucketCounts.length){c.bucketCounts=[];for(var d=0;d<a.bucketCounts.length;++d)"number"==typeof a.bucketCounts[d]?c.bucketCounts[d]=b.longs===String?String(a.bucketCounts[d]):a.bucketCounts[d]:c.bucketCounts[d]=b.longs===String?g.Long.prototype.toString.call(a.bucketCounts[d]):b.longs===Number?new g.LongBits(a.bucketCounts[d].low>>>0,a.bucketCounts[d].high>>>0).toNumber(!0):a.bucketCounts[d]}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},a}(),b}(),a.SummaryDataPoint=function(){function a(a){if(this.attributes=[],this.quantileValues=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.attributes=g.emptyArray,a.prototype.startTimeUnixNano=null,a.prototype.timeUnixNano=null,a.prototype.count=null,a.prototype.sum=null,a.prototype.quantileValues=g.emptyArray,a.prototype.flags=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.startTimeUnixNano&&Object.hasOwnProperty.call(a,"startTimeUnixNano")&&b.uint32(17).fixed64(a.startTimeUnixNano),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(25).fixed64(a.timeUnixNano),null!=a.count&&Object.hasOwnProperty.call(a,"count")&&b.uint32(33).fixed64(a.count),null!=a.sum&&Object.hasOwnProperty.call(a,"sum")&&b.uint32(41).double(a.sum),null!=a.quantileValues&&a.quantileValues.length)for(var c=0;c<a.quantileValues.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(a.quantileValues[c],b.uint32(50).fork()).ldelim();if(null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(58).fork()).ldelim();return null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(64).uint32(a.flags),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 7:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:f.startTimeUnixNano=a.fixed64();break;case 3:f.timeUnixNano=a.fixed64();break;case 4:f.count=a.fixed64();break;case 5:f.sum=a.double();break;case 6:f.quantileValues&&f.quantileValues.length||(f.quantileValues=[]),f.quantileValues.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(a,a.uint32()));break;case 8:f.flags=a.uint32();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var b=0;b<a.attributes.length;++b){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[b]);if(c)return"attributes."+c}}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&!g.isInteger(a.startTimeUnixNano)&&!(a.startTimeUnixNano&&g.isInteger(a.startTimeUnixNano.low)&&g.isInteger(a.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.count&&a.hasOwnProperty("count")&&!g.isInteger(a.count)&&!(a.count&&g.isInteger(a.count.low)&&g.isInteger(a.count.high)))return"count: integer|Long expected";if(null!=a.sum&&a.hasOwnProperty("sum")&&"number"!=typeof a.sum)return"sum: number expected";if(null!=a.quantileValues&&a.hasOwnProperty("quantileValues")){if(!Array.isArray(a.quantileValues))return"quantileValues: array expected";for(var b=0;b<a.quantileValues.length;++b){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(a.quantileValues[b]);if(c)return"quantileValues."+c}}return null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint)return a;var b=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}if(null!=a.startTimeUnixNano&&(g.Long?(b.startTimeUnixNano=g.Long.fromValue(a.startTimeUnixNano)).unsigned=!1:"string"==typeof a.startTimeUnixNano?b.startTimeUnixNano=parseInt(a.startTimeUnixNano,10):"number"==typeof a.startTimeUnixNano?b.startTimeUnixNano=a.startTimeUnixNano:"object"==typeof a.startTimeUnixNano&&(b.startTimeUnixNano=new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber())),null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.count&&(g.Long?(b.count=g.Long.fromValue(a.count)).unsigned=!1:"string"==typeof a.count?b.count=parseInt(a.count,10):"number"==typeof a.count?b.count=a.count:"object"==typeof a.count&&(b.count=new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber())),null!=a.sum&&(b.sum=Number(a.sum)),a.quantileValues){if(!Array.isArray(a.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");b.quantileValues=[];for(var c=0;c<a.quantileValues.length;++c){if("object"!=typeof a.quantileValues[c])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");b.quantileValues[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(a.quantileValues[c])}}return null!=a.flags&&(b.flags=a.flags>>>0),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.quantileValues=[],c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.startTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.startTimeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(g.Long){var d=new g.Long(0,0,!1);c.count=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.count=b.longs===String?"0":0;c.sum=0,c.flags=0}if(null!=a.startTimeUnixNano&&a.hasOwnProperty("startTimeUnixNano")&&("number"==typeof a.startTimeUnixNano?c.startTimeUnixNano=b.longs===String?String(a.startTimeUnixNano):a.startTimeUnixNano:c.startTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.startTimeUnixNano):b.longs===Number?new g.LongBits(a.startTimeUnixNano.low>>>0,a.startTimeUnixNano.high>>>0).toNumber():a.startTimeUnixNano),null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.count&&a.hasOwnProperty("count")&&("number"==typeof a.count?c.count=b.longs===String?String(a.count):a.count:c.count=b.longs===String?g.Long.prototype.toString.call(a.count):b.longs===Number?new g.LongBits(a.count.low>>>0,a.count.high>>>0).toNumber():a.count),null!=a.sum&&a.hasOwnProperty("sum")&&(c.sum=b.json&&!isFinite(a.sum)?String(a.sum):a.sum),a.quantileValues&&a.quantileValues.length){c.quantileValues=[];for(var e=0;e<a.quantileValues.length;++e)c.quantileValues[e]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(a.quantileValues[e],b)}if(a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},a.ValueAtQuantile=function(){function a(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(b){return new a(b)},a.encode=function(a,b){return b||(b=f.create()),null!=a.quantile&&Object.hasOwnProperty.call(a,"quantile")&&b.uint32(9).double(a.quantile),null!=a.value&&Object.hasOwnProperty.call(a,"value")&&b.uint32(17).double(a.value),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.quantile=a.double();break;case 2:f.value=a.double();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.quantile&&a.hasOwnProperty("quantile")&&"number"!=typeof a.quantile?"quantile: number expected":null!=a.value&&a.hasOwnProperty("value")&&"number"!=typeof a.value?"value: number expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return a;var b=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=a.quantile&&(b.quantile=Number(a.quantile)),null!=a.value&&(b.value=Number(a.value)),b},a.toObject=function(a,b){b||(b={});var c={};return b.defaults&&(c.quantile=0,c.value=0),null!=a.quantile&&a.hasOwnProperty("quantile")&&(c.quantile=b.json&&!isFinite(a.quantile)?String(a.quantile):a.quantile),null!=a.value&&a.hasOwnProperty("value")&&(c.value=b.json&&!isFinite(a.value)?String(a.value):a.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),a}(),a.Exemplar=function(){var a;function b(a){if(this.filteredAttributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return b.prototype.filteredAttributes=g.emptyArray,b.prototype.timeUnixNano=null,b.prototype.asDouble=null,b.prototype.asInt=null,b.prototype.spanId=null,b.prototype.traceId=null,Object.defineProperty(b.prototype,"value",{get:g.oneOfGetter(a=["asDouble","asInt"]),set:g.oneOfSetter(a)}),b.create=function(a){return new b(a)},b.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(17).fixed64(a.timeUnixNano),null!=a.asDouble&&Object.hasOwnProperty.call(a,"asDouble")&&b.uint32(25).double(a.asDouble),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(34).bytes(a.spanId),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(42).bytes(a.traceId),null!=a.asInt&&Object.hasOwnProperty.call(a,"asInt")&&b.uint32(49).sfixed64(a.asInt),null!=a.filteredAttributes&&a.filteredAttributes.length)for(var c=0;c<a.filteredAttributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.filteredAttributes[c],b.uint32(58).fork()).ldelim();return b},b.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},b.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.metrics.v1.Exemplar;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 7:f.filteredAttributes&&f.filteredAttributes.length||(f.filteredAttributes=[]),f.filteredAttributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 2:f.timeUnixNano=a.fixed64();break;case 3:f.asDouble=a.double();break;case 6:f.asInt=a.sfixed64();break;case 4:f.spanId=a.bytes();break;case 5:f.traceId=a.bytes();break;default:a.skipType(7&g)}}return f},b.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},b.verify=function(a){if("object"!=typeof a||null===a)return"object expected";var b={};if(null!=a.filteredAttributes&&a.hasOwnProperty("filteredAttributes")){if(!Array.isArray(a.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<a.filteredAttributes.length;++c){var d=h.opentelemetry.proto.common.v1.KeyValue.verify(a.filteredAttributes[c]);if(d)return"filteredAttributes."+d}}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(b.value=1,"number"!=typeof a.asDouble))return"asDouble: number expected";if(null!=a.asInt&&a.hasOwnProperty("asInt")){if(1===b.value)return"value: multiple values";if(b.value=1,!g.isInteger(a.asInt)&&!(a.asInt&&g.isInteger(a.asInt.low)&&g.isInteger(a.asInt.high)))return"asInt: integer|Long expected"}return null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId))?"spanId: buffer expected":null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId))?"traceId: buffer expected":null},b.fromObject=function(a){if(a instanceof h.opentelemetry.proto.metrics.v1.Exemplar)return a;var b=new h.opentelemetry.proto.metrics.v1.Exemplar;if(a.filteredAttributes){if(!Array.isArray(a.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");b.filteredAttributes=[];for(var c=0;c<a.filteredAttributes.length;++c){if("object"!=typeof a.filteredAttributes[c])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");b.filteredAttributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.filteredAttributes[c])}}return null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.asDouble&&(b.asDouble=Number(a.asDouble)),null!=a.asInt&&(g.Long?(b.asInt=g.Long.fromValue(a.asInt)).unsigned=!1:"string"==typeof a.asInt?b.asInt=parseInt(a.asInt,10):"number"==typeof a.asInt?b.asInt=a.asInt:"object"==typeof a.asInt&&(b.asInt=new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber())),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),b},b.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.filteredAttributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId)))}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.asDouble&&a.hasOwnProperty("asDouble")&&(c.asDouble=b.json&&!isFinite(a.asDouble)?String(a.asDouble):a.asDouble,b.oneofs&&(c.value="asDouble")),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.asInt&&a.hasOwnProperty("asInt")&&("number"==typeof a.asInt?c.asInt=b.longs===String?String(a.asInt):a.asInt:c.asInt=b.longs===String?g.Long.prototype.toString.call(a.asInt):b.longs===Number?new g.LongBits(a.asInt.low>>>0,a.asInt.high>>>0).toNumber():a.asInt,b.oneofs&&(c.value="asInt")),a.filteredAttributes&&a.filteredAttributes.length){c.filteredAttributes=[];for(var e=0;e<a.filteredAttributes.length;++e)c.filteredAttributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.filteredAttributes[e],b)}return c},b.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},b.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.metrics.v1.Exemplar"},b}(),a}(),a}(),a.logs=function(){var a={};return a.v1=function(){var a={};return a.LogsData=function(){function a(a){if(this.resourceLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resourceLogs=g.emptyArray,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resourceLogs&&a.resourceLogs.length)for(var c=0;c<a.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(a.resourceLogs[c],b.uint32(10).fork()).ldelim();return b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.logs.v1.LogsData;a.pos<d;){var g=a.uint32();if(g===c)break;g>>>3==1?(f.resourceLogs&&f.resourceLogs.length||(f.resourceLogs=[]),f.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(a,a.uint32()))):a.skipType(7&g)}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resourceLogs&&a.hasOwnProperty("resourceLogs")){if(!Array.isArray(a.resourceLogs))return"resourceLogs: array expected";for(var b=0;b<a.resourceLogs.length;++b){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(a.resourceLogs[b]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.LogsData)return a;var b=new h.opentelemetry.proto.logs.v1.LogsData;if(a.resourceLogs){if(!Array.isArray(a.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");b.resourceLogs=[];for(var c=0;c<a.resourceLogs.length;++c){if("object"!=typeof a.resourceLogs[c])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");b.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(a.resourceLogs[c])}}return b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.resourceLogs=[]),a.resourceLogs&&a.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<a.resourceLogs.length;++d)c.resourceLogs[d]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(a.resourceLogs[d],b)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.LogsData"},a}(),a.ResourceLogs=function(){function a(a){if(this.scopeLogs=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.resource=null,a.prototype.scopeLogs=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.resource&&Object.hasOwnProperty.call(a,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeLogs&&a.scopeLogs.length)for(var c=0;c<a.scopeLogs.length;++c)h.opentelemetry.proto.logs.v1.ScopeLogs.encode(a.scopeLogs[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.logs.v1.ResourceLogs;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.resource=h.opentelemetry.proto.resource.v1.Resource.decode(a,a.uint32());break;case 2:f.scopeLogs&&f.scopeLogs.length||(f.scopeLogs=[]),f.scopeLogs.push(h.opentelemetry.proto.logs.v1.ScopeLogs.decode(a,a.uint32()));break;case 3:f.schemaUrl=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.resource&&a.hasOwnProperty("resource")){var b=h.opentelemetry.proto.resource.v1.Resource.verify(a.resource);if(b)return"resource."+b}if(null!=a.scopeLogs&&a.hasOwnProperty("scopeLogs")){if(!Array.isArray(a.scopeLogs))return"scopeLogs: array expected";for(var c=0;c<a.scopeLogs.length;++c){var b=h.opentelemetry.proto.logs.v1.ScopeLogs.verify(a.scopeLogs[c]);if(b)return"scopeLogs."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.ResourceLogs)return a;var b=new h.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=a.resource){if("object"!=typeof a.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");b.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(a.resource)}if(a.scopeLogs){if(!Array.isArray(a.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");b.scopeLogs=[];for(var c=0;c<a.scopeLogs.length;++c){if("object"!=typeof a.scopeLogs[c])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");b.scopeLogs[c]=h.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(a.scopeLogs[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.scopeLogs=[]),b.defaults&&(c.resource=null,c.schemaUrl=""),null!=a.resource&&a.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(a.resource,b)),a.scopeLogs&&a.scopeLogs.length){c.scopeLogs=[];for(var d=0;d<a.scopeLogs.length;++d)c.scopeLogs[d]=h.opentelemetry.proto.logs.v1.ScopeLogs.toObject(a.scopeLogs[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.ResourceLogs"},a}(),a.ScopeLogs=function(){function a(a){if(this.logRecords=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.scope=null,a.prototype.logRecords=g.emptyArray,a.prototype.schemaUrl=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.scope&&Object.hasOwnProperty.call(a,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(a.scope,b.uint32(10).fork()).ldelim(),null!=a.logRecords&&a.logRecords.length)for(var c=0;c<a.logRecords.length;++c)h.opentelemetry.proto.logs.v1.LogRecord.encode(a.logRecords[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&Object.hasOwnProperty.call(a,"schemaUrl")&&b.uint32(26).string(a.schemaUrl),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.logs.v1.ScopeLogs;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(a,a.uint32());break;case 2:f.logRecords&&f.logRecords.length||(f.logRecords=[]),f.logRecords.push(h.opentelemetry.proto.logs.v1.LogRecord.decode(a,a.uint32()));break;case 3:f.schemaUrl=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.scope&&a.hasOwnProperty("scope")){var b=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(a.scope);if(b)return"scope."+b}if(null!=a.logRecords&&a.hasOwnProperty("logRecords")){if(!Array.isArray(a.logRecords))return"logRecords: array expected";for(var c=0;c<a.logRecords.length;++c){var b=h.opentelemetry.proto.logs.v1.LogRecord.verify(a.logRecords[c]);if(b)return"logRecords."+b}}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&!g.isString(a.schemaUrl)?"schemaUrl: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.ScopeLogs)return a;var b=new h.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=a.scope){if("object"!=typeof a.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");b.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(a.scope)}if(a.logRecords){if(!Array.isArray(a.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");b.logRecords=[];for(var c=0;c<a.logRecords.length;++c){if("object"!=typeof a.logRecords[c])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");b.logRecords[c]=h.opentelemetry.proto.logs.v1.LogRecord.fromObject(a.logRecords[c])}}return null!=a.schemaUrl&&(b.schemaUrl=String(a.schemaUrl)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.logRecords=[]),b.defaults&&(c.scope=null,c.schemaUrl=""),null!=a.scope&&a.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(a.scope,b)),a.logRecords&&a.logRecords.length){c.logRecords=[];for(var d=0;d<a.logRecords.length;++d)c.logRecords[d]=h.opentelemetry.proto.logs.v1.LogRecord.toObject(a.logRecords[d],b)}return null!=a.schemaUrl&&a.hasOwnProperty("schemaUrl")&&(c.schemaUrl=a.schemaUrl),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.ScopeLogs"},a}(),a.SeverityNumber=function(){var a={},b=Object.create(a);return b[a[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,b[a[1]="SEVERITY_NUMBER_TRACE"]=1,b[a[2]="SEVERITY_NUMBER_TRACE2"]=2,b[a[3]="SEVERITY_NUMBER_TRACE3"]=3,b[a[4]="SEVERITY_NUMBER_TRACE4"]=4,b[a[5]="SEVERITY_NUMBER_DEBUG"]=5,b[a[6]="SEVERITY_NUMBER_DEBUG2"]=6,b[a[7]="SEVERITY_NUMBER_DEBUG3"]=7,b[a[8]="SEVERITY_NUMBER_DEBUG4"]=8,b[a[9]="SEVERITY_NUMBER_INFO"]=9,b[a[10]="SEVERITY_NUMBER_INFO2"]=10,b[a[11]="SEVERITY_NUMBER_INFO3"]=11,b[a[12]="SEVERITY_NUMBER_INFO4"]=12,b[a[13]="SEVERITY_NUMBER_WARN"]=13,b[a[14]="SEVERITY_NUMBER_WARN2"]=14,b[a[15]="SEVERITY_NUMBER_WARN3"]=15,b[a[16]="SEVERITY_NUMBER_WARN4"]=16,b[a[17]="SEVERITY_NUMBER_ERROR"]=17,b[a[18]="SEVERITY_NUMBER_ERROR2"]=18,b[a[19]="SEVERITY_NUMBER_ERROR3"]=19,b[a[20]="SEVERITY_NUMBER_ERROR4"]=20,b[a[21]="SEVERITY_NUMBER_FATAL"]=21,b[a[22]="SEVERITY_NUMBER_FATAL2"]=22,b[a[23]="SEVERITY_NUMBER_FATAL3"]=23,b[a[24]="SEVERITY_NUMBER_FATAL4"]=24,b}(),a.LogRecordFlags=function(){var a={},b=Object.create(a);return b[a[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,b[a[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,b}(),a.LogRecord=function(){function a(a){if(this.attributes=[],a)for(var b=Object.keys(a),c=0;c<b.length;++c)null!=a[b[c]]&&(this[b[c]]=a[b[c]])}return a.prototype.timeUnixNano=null,a.prototype.observedTimeUnixNano=null,a.prototype.severityNumber=null,a.prototype.severityText=null,a.prototype.body=null,a.prototype.attributes=g.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.flags=null,a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.eventName=null,a.create=function(b){return new a(b)},a.encode=function(a,b){if(b||(b=f.create()),null!=a.timeUnixNano&&Object.hasOwnProperty.call(a,"timeUnixNano")&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.severityNumber&&Object.hasOwnProperty.call(a,"severityNumber")&&b.uint32(16).int32(a.severityNumber),null!=a.severityText&&Object.hasOwnProperty.call(a,"severityText")&&b.uint32(26).string(a.severityText),null!=a.body&&Object.hasOwnProperty.call(a,"body")&&h.opentelemetry.proto.common.v1.AnyValue.encode(a.body,b.uint32(42).fork()).ldelim(),null!=a.attributes&&a.attributes.length)for(var c=0;c<a.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(a.attributes[c],b.uint32(50).fork()).ldelim();return null!=a.droppedAttributesCount&&Object.hasOwnProperty.call(a,"droppedAttributesCount")&&b.uint32(56).uint32(a.droppedAttributesCount),null!=a.flags&&Object.hasOwnProperty.call(a,"flags")&&b.uint32(69).fixed32(a.flags),null!=a.traceId&&Object.hasOwnProperty.call(a,"traceId")&&b.uint32(74).bytes(a.traceId),null!=a.spanId&&Object.hasOwnProperty.call(a,"spanId")&&b.uint32(82).bytes(a.spanId),null!=a.observedTimeUnixNano&&Object.hasOwnProperty.call(a,"observedTimeUnixNano")&&b.uint32(89).fixed64(a.observedTimeUnixNano),null!=a.eventName&&Object.hasOwnProperty.call(a,"eventName")&&b.uint32(98).string(a.eventName),b},a.encodeDelimited=function(a,b){return this.encode(a,b).ldelim()},a.decode=function(a,b,c){a instanceof e||(a=e.create(a));for(var d=void 0===b?a.len:a.pos+b,f=new h.opentelemetry.proto.logs.v1.LogRecord;a.pos<d;){var g=a.uint32();if(g===c)break;switch(g>>>3){case 1:f.timeUnixNano=a.fixed64();break;case 11:f.observedTimeUnixNano=a.fixed64();break;case 2:f.severityNumber=a.int32();break;case 3:f.severityText=a.string();break;case 5:f.body=h.opentelemetry.proto.common.v1.AnyValue.decode(a,a.uint32());break;case 6:f.attributes&&f.attributes.length||(f.attributes=[]),f.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(a,a.uint32()));break;case 7:f.droppedAttributesCount=a.uint32();break;case 8:f.flags=a.fixed32();break;case 9:f.traceId=a.bytes();break;case 10:f.spanId=a.bytes();break;case 12:f.eventName=a.string();break;default:a.skipType(7&g)}}return f},a.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},a.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&!g.isInteger(a.timeUnixNano)&&!(a.timeUnixNano&&g.isInteger(a.timeUnixNano.low)&&g.isInteger(a.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=a.observedTimeUnixNano&&a.hasOwnProperty("observedTimeUnixNano")&&!g.isInteger(a.observedTimeUnixNano)&&!(a.observedTimeUnixNano&&g.isInteger(a.observedTimeUnixNano.low)&&g.isInteger(a.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=a.severityNumber&&a.hasOwnProperty("severityNumber"))switch(a.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=a.severityText&&a.hasOwnProperty("severityText")&&!g.isString(a.severityText))return"severityText: string expected";if(null!=a.body&&a.hasOwnProperty("body")){var b=h.opentelemetry.proto.common.v1.AnyValue.verify(a.body);if(b)return"body."+b}if(null!=a.attributes&&a.hasOwnProperty("attributes")){if(!Array.isArray(a.attributes))return"attributes: array expected";for(var c=0;c<a.attributes.length;++c){var b=h.opentelemetry.proto.common.v1.KeyValue.verify(a.attributes[c]);if(b)return"attributes."+b}}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&!g.isInteger(a.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=a.flags&&a.hasOwnProperty("flags")&&!g.isInteger(a.flags)?"flags: integer expected":null!=a.traceId&&a.hasOwnProperty("traceId")&&!(a.traceId&&"number"==typeof a.traceId.length||g.isString(a.traceId))?"traceId: buffer expected":null!=a.spanId&&a.hasOwnProperty("spanId")&&!(a.spanId&&"number"==typeof a.spanId.length||g.isString(a.spanId))?"spanId: buffer expected":null!=a.eventName&&a.hasOwnProperty("eventName")&&!g.isString(a.eventName)?"eventName: string expected":null},a.fromObject=function(a){if(a instanceof h.opentelemetry.proto.logs.v1.LogRecord)return a;var b=new h.opentelemetry.proto.logs.v1.LogRecord;switch(null!=a.timeUnixNano&&(g.Long?(b.timeUnixNano=g.Long.fromValue(a.timeUnixNano)).unsigned=!1:"string"==typeof a.timeUnixNano?b.timeUnixNano=parseInt(a.timeUnixNano,10):"number"==typeof a.timeUnixNano?b.timeUnixNano=a.timeUnixNano:"object"==typeof a.timeUnixNano&&(b.timeUnixNano=new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber())),null!=a.observedTimeUnixNano&&(g.Long?(b.observedTimeUnixNano=g.Long.fromValue(a.observedTimeUnixNano)).unsigned=!1:"string"==typeof a.observedTimeUnixNano?b.observedTimeUnixNano=parseInt(a.observedTimeUnixNano,10):"number"==typeof a.observedTimeUnixNano?b.observedTimeUnixNano=a.observedTimeUnixNano:"object"==typeof a.observedTimeUnixNano&&(b.observedTimeUnixNano=new g.LongBits(a.observedTimeUnixNano.low>>>0,a.observedTimeUnixNano.high>>>0).toNumber())),a.severityNumber){default:"number"==typeof a.severityNumber&&(b.severityNumber=a.severityNumber);break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:b.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:b.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:b.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:b.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:b.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:b.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:b.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:b.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:b.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:b.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:b.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:b.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:b.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:b.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:b.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:b.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:b.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:b.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:b.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:b.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:b.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:b.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:b.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:b.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:b.severityNumber=24}if(null!=a.severityText&&(b.severityText=String(a.severityText)),null!=a.body){if("object"!=typeof a.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");b.body=h.opentelemetry.proto.common.v1.AnyValue.fromObject(a.body)}if(a.attributes){if(!Array.isArray(a.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");b.attributes=[];for(var c=0;c<a.attributes.length;++c){if("object"!=typeof a.attributes[c])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");b.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(a.attributes[c])}}return null!=a.droppedAttributesCount&&(b.droppedAttributesCount=a.droppedAttributesCount>>>0),null!=a.flags&&(b.flags=a.flags>>>0),null!=a.traceId&&("string"==typeof a.traceId?g.base64.decode(a.traceId,b.traceId=g.newBuffer(g.base64.length(a.traceId)),0):a.traceId.length>=0&&(b.traceId=a.traceId)),null!=a.spanId&&("string"==typeof a.spanId?g.base64.decode(a.spanId,b.spanId=g.newBuffer(g.base64.length(a.spanId)),0):a.spanId.length>=0&&(b.spanId=a.spanId)),null!=a.eventName&&(b.eventName=String(a.eventName)),b},a.toObject=function(a,b){b||(b={});var c={};if((b.arrays||b.defaults)&&(c.attributes=[]),b.defaults){if(g.Long){var d=new g.Long(0,0,!1);c.timeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.timeUnixNano=b.longs===String?"0":0;if(c.severityNumber=b.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,c.severityText="",c.body=null,c.droppedAttributesCount=0,c.flags=0,b.bytes===String?c.traceId="":(c.traceId=[],b.bytes!==Array&&(c.traceId=g.newBuffer(c.traceId))),b.bytes===String?c.spanId="":(c.spanId=[],b.bytes!==Array&&(c.spanId=g.newBuffer(c.spanId))),g.Long){var d=new g.Long(0,0,!1);c.observedTimeUnixNano=b.longs===String?d.toString():b.longs===Number?d.toNumber():d}else c.observedTimeUnixNano=b.longs===String?"0":0;c.eventName=""}if(null!=a.timeUnixNano&&a.hasOwnProperty("timeUnixNano")&&("number"==typeof a.timeUnixNano?c.timeUnixNano=b.longs===String?String(a.timeUnixNano):a.timeUnixNano:c.timeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.timeUnixNano):b.longs===Number?new g.LongBits(a.timeUnixNano.low>>>0,a.timeUnixNano.high>>>0).toNumber():a.timeUnixNano),null!=a.severityNumber&&a.hasOwnProperty("severityNumber")&&(c.severityNumber=b.enums===String?void 0===h.opentelemetry.proto.logs.v1.SeverityNumber[a.severityNumber]?a.severityNumber:h.opentelemetry.proto.logs.v1.SeverityNumber[a.severityNumber]:a.severityNumber),null!=a.severityText&&a.hasOwnProperty("severityText")&&(c.severityText=a.severityText),null!=a.body&&a.hasOwnProperty("body")&&(c.body=h.opentelemetry.proto.common.v1.AnyValue.toObject(a.body,b)),a.attributes&&a.attributes.length){c.attributes=[];for(var e=0;e<a.attributes.length;++e)c.attributes[e]=h.opentelemetry.proto.common.v1.KeyValue.toObject(a.attributes[e],b)}return null!=a.droppedAttributesCount&&a.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=a.droppedAttributesCount),null!=a.flags&&a.hasOwnProperty("flags")&&(c.flags=a.flags),null!=a.traceId&&a.hasOwnProperty("traceId")&&(c.traceId=b.bytes===String?g.base64.encode(a.traceId,0,a.traceId.length):b.bytes===Array?Array.prototype.slice.call(a.traceId):a.traceId),null!=a.spanId&&a.hasOwnProperty("spanId")&&(c.spanId=b.bytes===String?g.base64.encode(a.spanId,0,a.spanId.length):b.bytes===Array?Array.prototype.slice.call(a.spanId):a.spanId),null!=a.observedTimeUnixNano&&a.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof a.observedTimeUnixNano?c.observedTimeUnixNano=b.longs===String?String(a.observedTimeUnixNano):a.observedTimeUnixNano:c.observedTimeUnixNano=b.longs===String?g.Long.prototype.toString.call(a.observedTimeUnixNano):b.longs===Number?new g.LongBits(a.observedTimeUnixNano.low>>>0,a.observedTimeUnixNano.high>>>0).toNumber():a.observedTimeUnixNano),null!=a.eventName&&a.hasOwnProperty("eventName")&&(c.eventName=a.eventName),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},a.getTypeUrl=function(a){return void 0===a&&(a="type.googleapis.com"),a+"/opentelemetry.proto.logs.v1.LogRecord"},a}(),a}(),a}(),a}(),a}(),b.exports=h},453469,413534,a=>{"use strict";var b=a.i(649246),c=a.i(204456),d=a.i(676736),e=a.i(957686),f=a.i(372599),g=a.i(99894),h=a.i(903694),i=a.i(415879),j=f;a.i(991788);let k=Symbol.for("effect/Subscribable"),l=a=>(0,i.hasProperty)(a,k),m={[j.TypeId]:j.TypeId,[k]:k,pipe(){return(0,h.pipeArguments)(this,arguments)}};a.s(["TypeId",0,k,"isSubscribable",0,l],413534);var n=a.i(744661),o=a.i(668749),p=a.i(277600);let q=n.SynchronizedTypeId;n.makeSynchronized,o.get,o.getAndSet,o.getAndUpdate,p.getAndUpdateEffect,o.getAndUpdateSome,p.getAndUpdateSomeEffect,p.modify,p.modifyEffect,o.modifySome,p.modifySomeEffect,o.set,o.setAndGet,o.update,p.updateEffect,o.updateAndGet,p.updateAndGetEffect,o.updateSome,p.updateSomeEffect,o.updateSomeAndGet,n.updateSomeAndGetEffectSynchronized,n.unsafeMakeSynchronized;var r=n,s=o,t=a.i(217438);let u=Symbol.for("effect/SubscriptionRef"),v={_A:a=>a};class w extends c.Class{ref;pubsub;semaphore;[f.TypeId]=f.TypeId;[k]=k;[g.RefTypeId]=s.refVariance;[q]=r.synchronizedVariance;[u]=v;constructor(a,b,c){super(),this.ref=a,this.pubsub=b,this.semaphore=c,this.get=g.get(this.ref)}commit(){return this.get}get;get changes(){return(0,d.pipe)(g.get(this.ref),b.flatMap(a=>b.map(t.fromPubSub(this.pubsub,{scoped:!0}),b=>t.concat(t.make(a),b))),this.semaphore.withPermits(1),t.unwrapScoped)}modify(a){return this.modifyEffect(c=>b.succeed(a(c)))}modifyEffect(a){return(0,d.pipe)(g.get(this.ref),b.flatMap(a),b.flatMap(([a,c])=>(0,d.pipe)(g.set(this.ref,c),b.as(a),b.zipLeft(e.publish(this.pubsub,c)))),this.semaphore.withPermits(1))}}let x=a=>(0,d.pipe)(b.all([e.unbounded(),g.make(a),b.makeSemaphore(1)]),b.map(([a,b,c])=>new w(b,a,c))),y=(0,d.dual)(2,(a,c)=>(0,d.pipe)(g.set(a.ref,c),b.zipLeft(e.publish(a.pubsub,c)),a.semaphore.withPermits(1)));var z=g;let A=u;z.getAndSet,z.getAndUpdate,z.getAndUpdateSome;let B=x;z.modifySome;let C=y;z.setAndGet;let D=z.update;z.updateAndGet,z.updateSome,z.updateSomeAndGet,a.s(["SubscriptionRefTypeId",0,A,"make",0,B,"set",0,C,"update",0,D],453469)},596856,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=a.i(224785),t=a.i(666072);let u="[object Object]",v="[object Null]",w="[object Undefined]",x=Function.prototype.toString,y=x.call(Object),z=Object.getPrototypeOf,A=Object.prototype,B=A.hasOwnProperty,C=Symbol?Symbol.toStringTag:void 0,D=A.toString;function E(a){if(!F(a)||G(a)!==u)return!1;let b=z(a);if(null===b)return!0;let c=B.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&x.call(c)===y}function F(a){return null!=a&&"object"==typeof a}function G(a){return null==a?void 0===a?w:v:C&&C in Object(a)?H(a):I(a)}function H(a){let b=B.call(a,C),c=a[C],d=!1;try{a[C]=void 0,d=!0}catch{}let e=D.call(a);return d&&(b?a[C]=c:delete a[C]),e}function I(a){return D.call(a)}let J=20;function K(...a){let b=a.shift(),c=new WeakMap;for(;a.length>0;)b=M(b,a.shift(),0,c);return b}function L(a){return O(a)?a.slice():a}function M(a,b,c=0,d){let e;if(!(c>J)){if(c++,R(a)||R(b)||P(b))e=L(b);else if(O(a)){if(e=a.slice(),O(b))for(let a=0,c=b.length;a<c;a++)e.push(L(b[a]));else if(Q(b)){let a=Object.keys(b);for(let c=0,d=a.length;c<d;c++){let d=a[c];e[d]=L(b[d])}}}else if(Q(a))if(Q(b)){if(!S(a,b))return b;e=Object.assign({},a);let f=Object.keys(b);for(let g=0,h=f.length;g<h;g++){let h=f[g],i=b[h];if(R(i))void 0===i?delete e[h]:e[h]=i;else{let f=e[h],g=i;if(N(a,h,d)||N(b,h,d))delete e[h];else{if(Q(f)&&Q(g)){let c=d.get(f)||[],e=d.get(g)||[];c.push({obj:a,key:h}),e.push({obj:b,key:h}),d.set(f,c),d.set(g,e)}e[h]=M(e[h],i,c,d)}}}}else e=b;return e}}function N(a,b,c){let d=c.get(a[b])||[];for(let c=0,e=d.length;c<e;c++){let e=d[c];if(e.key===b&&e.obj===a)return!0}return!1}function O(a){return Array.isArray(a)}function P(a){return"function"==typeof a}function Q(a){return!R(a)&&!O(a)&&!P(a)&&"object"==typeof a}function R(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||void 0===a||a instanceof Date||a instanceof RegExp||null===a}function S(a,b){return!!E(a)&&!!E(b)}var T="object"==typeof globalThis?globalThis:a.g,U="1.9.0",V=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,W=function(a){var b=new Set([a]),c=new Set,d=a.match(V);if(!d)return function(){return!1};var e={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=e.prerelease)return function(b){return b===a};function f(a){return c.add(a),!1}function g(a){return b.add(a),!0}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;var d=a.match(V);if(!d)return f(a);var h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return null!=h.prerelease||e.major!==h.major?f(a):0===e.major?e.minor===h.minor&&e.patch<=h.patch?g(a):f(a):e.minor<=h.minor?g(a):f(a)}}(U),X=Symbol.for("opentelemetry.js.api."+U.split(".")[0]),Y=T;function Z(a,b,c,d){void 0===d&&(d=!1);var e,f=Y[X]=null!=(e=Y[X])?e:{version:U};if(!d&&f[a]){var g=Error("@opentelemetry/api: Attempted duplicate registration of API: "+a);return c.error(g.stack||g.message),!1}if(f.version!==U){var g=Error("@opentelemetry/api: Registration of version v"+f.version+" for "+a+" does not match previously registered API v"+U);return c.error(g.stack||g.message),!1}return f[a]=b,c.debug("@opentelemetry/api: Registered a global for "+a+" v"+U+"."),!0}function $(a){var b,c,d=null==(b=Y[X])?void 0:b.version;if(d&&W(d))return null==(c=Y[X])?void 0:c[a]}function _(a,b){b.debug("@opentelemetry/api: Unregistering a global for "+a+" v"+U+".");var c=Y[X];c&&delete c[a]}var aa=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ab=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ac=function(){function a(a){this._namespace=a.namespace||"DiagComponentLogger"}return a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return ad("debug",this._namespace,a)},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return ad("error",this._namespace,a)},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return ad("info",this._namespace,a)},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return ad("warn",this._namespace,a)},a.prototype.verbose=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return ad("verbose",this._namespace,a)},a}();function ad(a,b,c){var d=$("diag");if(d)return c.unshift(b),d[a].apply(d,ab([],aa(c),!1))}function ae(a,c){function d(b,d){var e=c[b];return"function"==typeof e&&a>=d?e.bind(c):function(){}}return a<b.NONE?a=b.NONE:a>b.ALL&&(a=b.ALL),c=c||{},{error:d("error",b.ERROR),warn:d("warn",b.WARN),info:d("info",b.INFO),debug:d("debug",b.DEBUG),verbose:d("verbose",b.VERBOSE)}}!function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(b||(b={}));var af=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ag=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ah="diag",ai=function(){function a(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=$("diag");if(d)return d[a].apply(d,ag([],af(b),!1))}}var c=this,d=function(a,d){if(void 0===d&&(d={logLevel:b.INFO}),a===c){var e,f,g,h=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return c.error(null!=(e=h.stack)?e:h.message),!1}"number"==typeof d&&(d={logLevel:d});var i=$("diag"),j=ae(null!=(f=d.logLevel)?f:b.INFO,a);if(i&&!d.suppressOverrideMessage){var k=null!=(g=Error().stack)?g:"<failed to generate stacktrace>";i.warn("Current logger will be overwritten from "+k),j.warn("Current logger will overwrite one already registered from "+k)}return Z("diag",j,c,!0)};c.setLogger=d,c.disable=function(){_(ah,c)},c.createComponentLogger=function(a){return new ac(a)},c.verbose=a("verbose"),c.debug=a("debug"),c.info=a("info"),c.warn=a("warn"),c.error=a("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}(),aj=ai.instance();let ak="exception.message",al="exception.stacktrace",am="exception.type",an="service.name",ao="service.version",ap="telemetry.sdk.language",aq="nodejs",ar="webjs",as="telemetry.sdk.name",at="telemetry.sdk.version",au={[as]:"opentelemetry","process.runtime.name":"node",[ap]:aq,[at]:"2.1.0"};function av(){return`unknown_service:${process.argv0}`}let aw=a=>null!==a&&"object"==typeof a&&"function"==typeof a.then;class ax{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(a,b){let c=new ax({},b);return c._rawAttributes=aA(a),c._asyncAttributesPending=a.filter(([a,b])=>aw(b)).length>0,c}constructor(a,b){const c=a.attributes??{};this._rawAttributes=Object.entries(c).map(([a,b])=>(aw(b)&&(this._asyncAttributesPending=!0),[a,b])),this._rawAttributes=aA(this._rawAttributes),this._schemaUrl=aB(b?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let a=0;a<this._rawAttributes.length;a++){let[b,c]=this._rawAttributes[a];this._rawAttributes[a]=[b,aw(c)?await c:c]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&aj.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let a={};for(let[b,c]of this._rawAttributes){if(aw(c)){aj.debug(`Unsettled resource attribute ${b} skipped`);continue}null!=c&&(a[b]??=c)}return this._asyncAttributesPending||(this._memoizedAttributes=a),a}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(a){if(null==a)return this;let b=aC(this,a),c=b?{schemaUrl:b}:void 0;return ax.FromAttributeList([...a.getRawAttributes(),...this.getRawAttributes()],c)}}function ay(a,b){return ax.FromAttributeList(Object.entries(a),b)}function az(){return ay({[an]:av(),[ap]:au[ap],[as]:au[as],[at]:au[at]})}function aA(a){return a.map(([a,b])=>aw(b)?[a,b.catch(b=>{aj.debug("promise rejection for resource attribute: %s - %s",a,b)})]:[a,b])}function aB(a){if("string"==typeof a||void 0===a)return a;aj.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",a)}function aC(a,b){let c=a?.schemaUrl,d=b?.schemaUrl,e=void 0===d||""===d;return void 0===c||""===c?d:e||c===d?c:void aj.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',c,d)}function aD(a){return Symbol.for(a)}var aE=new(function(){function a(b){var c=this;c._currentContext=b?new Map(b):new Map,c.getValue=function(a){return c._currentContext.get(a)},c.setValue=function(b,d){var e=new a(c._currentContext);return e._currentContext.set(b,d),e},c.deleteValue=function(b){var d=new a(c._currentContext);return d._currentContext.delete(b),d}}return a}()),aF=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},aG=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},aH=function(){function a(){}return a.prototype.active=function(){return aE},a.prototype.with=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];return b.call.apply(b,aG([c],aF(d),!1))},a.prototype.bind=function(a,b){return b},a.prototype.enable=function(){return this},a.prototype.disable=function(){return this},a}(),aI=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},aJ=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},aK="context",aL=new aH,aM=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalContextManager=function(a){return Z(aK,a,ai.instance())},a.prototype.active=function(){return this._getContextManager().active()},a.prototype.with=function(a,b,c){for(var d,e=[],f=3;f<arguments.length;f++)e[f-3]=arguments[f];return(d=this._getContextManager()).with.apply(d,aJ([a,b,c],aI(e),!1))},a.prototype.bind=function(a,b){return this._getContextManager().bind(a,b)},a.prototype._getContextManager=function(){return $(aK)||aL},a.prototype.disable=function(){this._getContextManager().disable(),_(aK,ai.instance())},a}(),aN=aM.getInstance();!function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(c||(c={}));var aO="0000000000000000",aP="00000000000000000000000000000000",aQ={traceId:aP,spanId:aO,traceFlags:c.NONE},aR=function(){function a(a){void 0===a&&(a=aQ),this._spanContext=a}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return this},a.prototype.setAttributes=function(a){return this},a.prototype.addEvent=function(a,b){return this},a.prototype.addLink=function(a){return this},a.prototype.addLinks=function(a){return this},a.prototype.setStatus=function(a){return this},a.prototype.updateName=function(a){return this},a.prototype.end=function(a){},a.prototype.isRecording=function(){return!1},a.prototype.recordException=function(a,b){},a}(),aS=aD("OpenTelemetry Context Key SPAN");function aT(a){return a.getValue(aS)||void 0}function aU(){return aT(aM.getInstance().active())}function aV(a,b){return a.setValue(aS,b)}function aW(a){return a.deleteValue(aS)}function aX(a,b){return aV(a,new aR(b))}function aY(a){var b;return null==(b=aT(a))?void 0:b.spanContext()}var aZ=/^([0-9a-f]{32})$/i,a$=/^[0-9a-f]{16}$/i;function a_(a){return aZ.test(a)&&a!==aP}function a0(a){return a$.test(a)&&a!==aO}function a1(a){return a_(a.traceId)&&a0(a.spanId)}function a2(a){return new aR(a)}var a3=aM.getInstance(),a4=function(){function a(){}return a.prototype.startSpan=function(a,b,c){if(void 0===c&&(c=a3.active()),null==b?void 0:b.root)return new aR;var d=c&&aY(c);return a5(d)&&a1(d)?new aR(d):new aR},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?g=b:3==arguments.length?(e=b,g=c):(e=b,f=c,g=d);var e,f,g,h=null!=f?f:a3.active(),i=this.startSpan(a,e,h),j=aV(h,i);return a3.with(j,g,void 0,i)}},a}();function a5(a){return"object"==typeof a&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags}var a6=new a4,a7=function(){function a(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}return a.prototype.startSpan=function(a,b,c){return this._getTracer().startSpan(a,b,c)},a.prototype.startActiveSpan=function(a,b,c,d){var e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)},a.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):a6},a}(),a8=new(function(){function a(){}return a.prototype.getTracer=function(a,b,c){return new a4},a}()),a9=function(){function a(){}return a.prototype.getTracer=function(a,b,c){var d;return null!=(d=this.getDelegateTracer(a,b,c))?d:new a7(this,a,b,c)},a.prototype.getDelegate=function(){var a;return null!=(a=this._delegate)?a:a8},a.prototype.setDelegate=function(a){this._delegate=a},a.prototype.getDelegateTracer=function(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)},a}(),ba="trace",bb=(function(){function a(){this._proxyTracerProvider=new a9,this.wrapSpanContext=a2,this.isSpanContextValid=a1,this.deleteSpan=aW,this.getSpan=aT,this.getActiveSpan=aU,this.getSpanContext=aY,this.setSpan=aV,this.setSpanContext=aX}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalTracerProvider=function(a){var b=Z(ba,this._proxyTracerProvider,ai.instance());return b&&this._proxyTracerProvider.setDelegate(a),b},a.prototype.getTracerProvider=function(){return $(ba)||this._proxyTracerProvider},a.prototype.getTracer=function(a,b){return this.getTracerProvider().getTracer(a,b)},a.prototype.disable=function(){_(ba,ai.instance()),this._proxyTracerProvider=new a9},a})().getInstance();function bc(a){let b={};if("object"!=typeof a||null==a)return b;for(let[c,d]of Object.entries(a)){if(!bd(c)){aj.warn(`Invalid attribute key: ${c}`);continue}if(!be(d)){aj.warn(`Invalid attribute value set for key: ${c}`);continue}Array.isArray(d)?b[c]=d.slice():b[c]=d}return b}function bd(a){return"string"==typeof a&&a.length>0}function be(a){return null==a||(Array.isArray(a)?bf(a):bg(a))}function bf(a){let b;for(let c of a)if(null!=c){if(!b){if(bg(c)){b=typeof c;continue}return!1}if(typeof c!==b)return!1}return!0}function bg(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}!function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(d||(d={})),function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(e||(e={}));let bh=aD("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function bi(a){return a.setValue(bh,!0)}function bj(a){return!0===a.getValue(bh)}!function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(f||(f={}));let bk=a.i(60438).performance,bl=1e6,bm=1e9;function bn(a){return[Math.trunc(a/1e3),Math.round(a%1e3*bl)]}function bo(){let a=bk.timeOrigin;if("number"!=typeof a){let b=bk;a=b.timing&&b.timing.fetchStart}return a}function bp(a){return bw(bn(bo()),bn("number"==typeof a?a:bk.now()))}function bq(a){if(bu(a))return a;if("number"==typeof a)if(a<bo())return bp(a);else return bn(a);if(a instanceof Date)return bn(a.getTime());throw TypeError("Invalid input type")}function br(a,b){let c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=bm),[c,d]}function bs(a){return a[0]*bm+a[1]}function bt(a){return 1e6*a[0]+a[1]/1e3}function bu(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function bv(a){return bu(a)||"number"==typeof a||a instanceof Date}function bw(a,b){let c=[a[0]+b[0],a[1]+b[1]];return c[1]>=bm&&(c[1]-=bm,c[0]+=1),c}let bx="exception";class by{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:f.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(a){const b=Date.now();this._spanContext=a.spanContext,this._performanceStartTime=bk.now(),this._performanceOffset=b-(this._performanceStartTime+bo()),this._startTimeProvided=null!=a.startTime,this._spanLimits=a.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=a.spanProcessor,this.name=a.name,this.parentSpanContext=a.parentSpanContext,this.kind=a.kind,this.links=a.links||[],this.startTime=this._getTime(a.startTime??b),this.resource=a.resource,this.instrumentationScope=a.scope,null!=a.attributes&&this.setAttributes(a.attributes),this._spanProcessor.onStart(this,a.context)}spanContext(){return this._spanContext}setAttribute(a,b){if(null==b||this._isSpanEnded())return this;if(0===a.length)return aj.warn(`Invalid attribute key: ${a}`),this;if(!be(b))return aj.warn(`Invalid attribute value set for key: ${a}`),this;let{attributeCountLimit:c}=this._spanLimits;return void 0!==c&&Object.keys(this.attributes).length>=c&&!Object.prototype.hasOwnProperty.call(this.attributes,a)?this._droppedAttributesCount++:this.attributes[a]=this._truncateToSize(b),this}setAttributes(a){for(let[b,c]of Object.entries(a))this.setAttribute(b,c);return this}addEvent(a,b,c){if(this._isSpanEnded())return this;let{eventCountLimit:d}=this._spanLimits;if(0===d)return aj.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==d&&this.events.length>=d&&(0===this._droppedEventsCount&&aj.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),bv(b)&&(bv(c)||(c=b),b=void 0);let e=bc(b);return this.events.push({name:a,attributes:e,time:this._getTime(c),droppedAttributesCount:0}),this}addLink(a){return this.links.push(a),this}addLinks(a){return this.links.push(...a),this}setStatus(a){return this._isSpanEnded()||(this.status={...a},null!=this.status.message&&"string"!=typeof a.message&&(aj.warn(`Dropping invalid status.message of type '${typeof a.message}', expected 'string'`),delete this.status.message)),this}updateName(a){return this._isSpanEnded()||(this.name=a),this}end(a){this._isSpanEnded()?aj.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`):(this._ended=!0,this.endTime=this._getTime(a),this._duration=br(this.startTime,this.endTime),this._duration[0]<0&&(aj.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&aj.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this))}_getTime(a){if("number"==typeof a&&a<=bk.now())return bp(a+this._performanceOffset);if("number"==typeof a)return bn(a);if(a instanceof Date)return bn(a.getTime());if(bu(a))return a;if(this._startTimeProvided)return bn(Date.now());let b=bk.now()-this._performanceStartTime;return bw(this.startTime,bn(b))}isRecording(){return!1===this._ended}recordException(a,b){let c={};"string"==typeof a?c[ak]=a:a&&(a.code?c[am]=a.code.toString():a.name&&(c[am]=a.name),a.message&&(c[ak]=a.message),a.stack&&(c[al]=a.stack)),c[am]||c[ak]?this.addEvent(bx,c,b):aj.warn(`Failed to record an exception ${a}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let a=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);aj.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,a)}return this._ended}_truncateToLimitUtil(a,b){return a.length<=b?a:a.substring(0,b)}_truncateToSize(a){let b=this._attributeValueLengthLimit;return b<=0?(aj.warn(`Attribute value limit must be positive, got ${b}`),a):"string"==typeof a?this._truncateToLimitUtil(a,b):Array.isArray(a)?a.map(a=>"string"==typeof a?this._truncateToLimitUtil(a,b):a):a}}var bz=a.i(224361);function bA(a){let b=process.env[a];if(null==b||""===b.trim())return;let c=Number(b);return isNaN(c)?void aj.warn(`Unknown value ${(0,bz.inspect)(b)} for ${a}, expected a number, using defaults`):c}function bB(a){let b=process.env[a];if(null!=b&&""!==b.trim())return b}!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(g||(g={}));class bC{shouldSample(){return{decision:g.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class bD{shouldSample(){return{decision:g.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}function bE(a){return"string"==typeof a?a:JSON.stringify(bF(a))}function bF(a){let b={},c=a;for(;null!==c;)Object.getOwnPropertyNames(c).forEach(a=>{if(b[a])return;let d=c[a];d&&(b[a]=String(d))}),c=Object.getPrototypeOf(c);return b}let bG=function(){return a=>{aj.error(bE(a))}}();function bH(a){try{bG(a)}catch{}}class bI{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(a){this._root=a.root,this._root||(bH(Error("ParentBasedSampler must have a root sampler configured")),this._root=new bD),this._remoteParentSampled=a.remoteParentSampled??new bD,this._remoteParentNotSampled=a.remoteParentNotSampled??new bC,this._localParentSampled=a.localParentSampled??new bD,this._localParentNotSampled=a.localParentNotSampled??new bC}shouldSample(a,b,d,e,f,g){let h=bb.getSpanContext(a);return h&&a1(h)?h.isRemote?h.traceFlags&c.SAMPLED?this._remoteParentSampled.shouldSample(a,b,d,e,f,g):this._remoteParentNotSampled.shouldSample(a,b,d,e,f,g):h.traceFlags&c.SAMPLED?this._localParentSampled.shouldSample(a,b,d,e,f,g):this._localParentNotSampled.shouldSample(a,b,d,e,f,g):this._root.shouldSample(a,b,d,e,f,g)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class bJ{_ratio;_upperBound;constructor(a=0){this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(a,b){return{decision:a_(b)&&this._accumulate(b)<this._upperBound?g.RECORD_AND_SAMPLED:g.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a}_accumulate(a){let b=0;for(let c=0;c<a.length/8;c++){let d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b}}!function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(h||(h={}));let bK=1;function bL(){return{sampler:bM(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:bA("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:bA("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:bA("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:bA("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:bA("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:bA("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:bA("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:bA("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function bM(){let a=bB("OTEL_TRACES_SAMPLER")??h.ParentBasedAlwaysOn;switch(a){case h.AlwaysOn:return new bD;case h.AlwaysOff:return new bC;case h.ParentBasedAlwaysOn:return new bI({root:new bD});case h.ParentBasedAlwaysOff:return new bI({root:new bC});case h.TraceIdRatio:return new bJ(bN());case h.ParentBasedTraceIdRatio:return new bI({root:new bJ(bN())});default:return aj.error(`OTEL_TRACES_SAMPLER value "${a}" invalid, defaulting to "${h.ParentBasedAlwaysOn}".`),new bI({root:new bD})}}function bN(){let a=bA("OTEL_TRACES_SAMPLER_ARG");return null==a?(aj.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${bK}.`),bK):a<0||a>1?(aj.error(`OTEL_TRACES_SAMPLER_ARG=${a} was given, but it is out of range ([0..1]), defaulting to ${bK}.`),bK):a}let bO=128,bP=1/0;function bQ(a){let b={sampler:bM()},c=bL(),d=Object.assign({},c,b,a);return d.generalLimits=Object.assign({},c.generalLimits,a.generalLimits||{}),d.spanLimits=Object.assign({},c.spanLimits,a.spanLimits||{}),d}function bR(a){let b=Object.assign({},a.spanLimits);return b.attributeCountLimit=a.spanLimits?.attributeCountLimit??a.generalLimits?.attributeCountLimit??bA("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??bA("OTEL_ATTRIBUTE_COUNT_LIMIT")??bO,b.attributeValueLengthLimit=a.spanLimits?.attributeValueLengthLimit??a.generalLimits?.attributeValueLengthLimit??bA("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??bA("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??bP,Object.assign({},a,{spanLimits:b})}let bS=8,bT=16;class bU{generateTraceId=bW(bT);generateSpanId=bW(bS)}let bV=Buffer.allocUnsafe(bT);function bW(a){return function(){for(let b=0;b<a/4;b++)bV.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(let b=0;b<a;b++)if(bV[b]>0)break;else b===a-1&&(bV[a-1]=1);return bV.toString("hex",0,a)}}class bX{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(a,b,c,d){const e=bQ(b);this._sampler=e.sampler,this._generalLimits=e.generalLimits,this._spanLimits=e.spanLimits,this._idGenerator=b.idGenerator||new bU,this._resource=c,this._spanProcessor=d,this.instrumentationScope=a}startSpan(a,b={},f=aN.active()){let g,h,i;b.root&&(f=bb.deleteSpan(f));let j=bb.getSpan(f);if(bj(f))return aj.debug("Instrumentation suppressed, returning Noop Span"),bb.wrapSpanContext(aQ);let k=j?.spanContext(),l=this._idGenerator.generateSpanId();k&&bb.isSpanContextValid(k)?(h=k.traceId,i=k.traceState,g=k):h=this._idGenerator.generateTraceId();let m=b.kind??d.INTERNAL,n=(b.links??[]).map(a=>({context:a.context,attributes:bc(a.attributes)})),o=bc(b.attributes),p=this._sampler.shouldSample(f,h,a,m,o,n);i=p.traceState??i;let q={traceId:h,spanId:l,traceFlags:p.decision===e.RECORD_AND_SAMPLED?c.SAMPLED:c.NONE,traceState:i};if(p.decision===e.NOT_RECORD)return aj.debug("Recording is off, propagating context in a non-recording span"),bb.wrapSpanContext(q);let r=bc(Object.assign(o,p.attributes));return new by({resource:this._resource,scope:this.instrumentationScope,context:f,spanContext:q,name:a,kind:m,links:n,parentSpanContext:g,attributes:r,startTime:b.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(a,b,c,d){let e,f,g;if(arguments.length<2)return;2==arguments.length?g=b:3==arguments.length?(e=b,g=c):(e=b,f=c,g=d);let h=f??aN.active(),i=this.startSpan(a,e,h),j=bb.setSpan(h,i);return aN.with(j,g,void 0,i)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class bY{_spanProcessors;constructor(a){this._spanProcessors=a}forceFlush(){let a=[];for(let b of this._spanProcessors)a.push(b.forceFlush());return new Promise(b=>{Promise.all(a).then(()=>{b()}).catch(a=>{bH(a||Error("MultiSpanProcessor: forceFlush failed")),b()})})}onStart(a,b){for(let c of this._spanProcessors)c.onStart(a,b)}onEnd(a){for(let b of this._spanProcessors)b.onEnd(a)}shutdown(){let a=[];for(let b of this._spanProcessors)a.push(b.shutdown());return new Promise((b,c)=>{Promise.all(a).then(()=>{b()},c)})}}!function(a){a[a.resolved=0]="resolved",a[a.timeout=1]="timeout",a[a.error=2]="error",a[a.unresolved=3]="unresolved"}(i||(i={}));class bZ{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(a={}){const b=K({},bL(),bR(a));this._resource=b.resource??az(),this._config=Object.assign({},b,{resource:this._resource});const c=[];a.spanProcessors?.length&&c.push(...a.spanProcessors),this._activeSpanProcessor=new bY(c)}getTracer(a,b,c){let d=`${a}@${b||""}:${c?.schemaUrl||""}`;return this._tracers.has(d)||this._tracers.set(d,new bX({name:a,version:b,schemaUrl:c?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(d)}forceFlush(){let a=this._config.forceFlushTimeoutMillis,b=this._activeSpanProcessor._spanProcessors.map(b=>new Promise(c=>{let d,e=setTimeout(()=>{c(Error(`Span processor did not completed within timeout period of ${a} ms`)),d=i.timeout},a);b.forceFlush().then(()=>{clearTimeout(e),d!==i.timeout&&c(d=i.resolved)}).catch(a=>{clearTimeout(e),d=i.error,c(a)})}));return new Promise((a,c)=>{Promise.all(b).then(b=>{let d=b.filter(a=>a!==i.resolved);d.length>0?c(d):a()}).catch(a=>c([a]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}class b${_enabled=!1;_currentContext=aE;_bindFunction(a=aE,b){let c=this,d=function(...d){return c.with(a,()=>b.apply(this,d))};return Object.defineProperty(d,"length",{enumerable:!1,configurable:!0,writable:!1,value:b.length}),d}active(){return this._currentContext}bind(a,b){return(void 0===a&&(a=this.active()),"function"==typeof b)?this._bindFunction(a,b):b}disable(){return this._currentContext=aE,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=aE),this}with(a,b,c,...d){let e=this._currentContext;this._currentContext=a||aE;try{return b.call(c,...d)}finally{this._currentContext=e}}}var b_=function(){function a(){}return a.prototype.inject=function(a,b){},a.prototype.extract=function(a,b){return a},a.prototype.fields=function(){return[]},a}(),b0={get:function(a,b){if(null!=a)return a[b]},keys:function(a){return null==a?[]:Object.keys(a)}},b1={set:function(a,b,c){null!=a&&(a[b]=c)}},b2=aD("OpenTelemetry Baggage Key");function b3(a){return a.getValue(b2)||void 0}function b4(){return b3(aM.getInstance().active())}function b5(a,b){return a.setValue(b2,b)}function b6(a){return a.deleteValue(b2)}var b7=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},b8=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},b9=function(){function a(a){this._entries=a?new Map(a):new Map}return a.prototype.getEntry=function(a){var b=this._entries.get(a);if(b)return Object.assign({},b)},a.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(a){var b=b7(a,2);return[b[0],b[1]]})},a.prototype.setEntry=function(b,c){var d=new a(this._entries);return d._entries.set(b,c),d},a.prototype.removeEntry=function(b){var c=new a(this._entries);return c._entries.delete(b),c},a.prototype.removeEntries=function(){for(var b,c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var f=new a(this._entries);try{for(var g=b8(d),h=g.next();!h.done;h=g.next()){var i=h.value;f._entries.delete(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return f},a.prototype.clear=function(){return new a},a}(),ca=Symbol("BaggageEntryMetadata"),cb=ai.instance();function cc(a){return void 0===a&&(a={}),new b9(new Map(Object.entries(a)))}function cd(a){return"string"!=typeof a&&(cb.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:ca,toString:function(){return a}}}var ce="propagation",cf=new b_,cg=(function(){function a(){this.createBaggage=cc,this.getBaggage=b3,this.getActiveBaggage=b4,this.setBaggage=b5,this.deleteBaggage=b6}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalPropagator=function(a){return Z(ce,a,ai.instance())},a.prototype.inject=function(a,b,c){return void 0===c&&(c=b1),this._getGlobalPropagator().inject(a,b,c)},a.prototype.extract=function(a,b,c){return void 0===c&&(c=b0),this._getGlobalPropagator().extract(a,b,c)},a.prototype.fields=function(){return this._getGlobalPropagator().fields()},a.prototype.disable=function(){_(ce,ai.instance())},a.prototype._getGlobalPropagator=function(){return $(ce)||cf},a})().getInstance();class ch{_propagators;_fields;constructor(a={}){this._propagators=a.propagators??[],this._fields=Array.from(new Set(this._propagators.map(a=>"function"==typeof a.fields?a.fields():[]).reduce((a,b)=>a.concat(b),[])))}inject(a,b,c){for(let d of this._propagators)try{d.inject(a,b,c)}catch(a){aj.warn(`Failed to inject with ${d.constructor.name}. Err: ${a.message}`)}}extract(a,b,c){return this._propagators.reduce((a,d)=>{try{return d.extract(a,b,c)}catch(a){aj.warn(`Failed to extract with ${d.constructor.name}. Err: ${a.message}`)}return a},a)}fields(){return this._fields.slice()}}let ci="=",cj=";",ck=",",cl="baggage",cm=180,cn=4096,co=8192;function cp(a){return a.reduce((a,b)=>{let c=`${a}${""!==a?ck:""}${b}`;return c.length>co?a:c},"")}function cq(a){return a.getAllEntries().map(([a,b])=>{let c=`${encodeURIComponent(a)}=${encodeURIComponent(b.value)}`;return void 0!==b.metadata&&(c+=cj+b.metadata.toString()),c})}function cr(a){let b,c=a.split(cj);if(c.length<=0)return;let d=c.shift();if(!d)return;let e=d.indexOf(ci);if(e<=0)return;let f=decodeURIComponent(d.substring(0,e).trim()),g=decodeURIComponent(d.substring(e+1).trim());return c.length>0&&(b=cd(c.join(cj))),{key:f,value:g,metadata:b}}function cs(a){let b={};return"string"==typeof a&&a.length>0&&a.split(ck).forEach(a=>{let c=cr(a);void 0!==c&&c.value.length>0&&(b[c.key]=c.value)}),b}class ct{inject(a,b,c){let d=cg.getBaggage(a);if(!d||bj(a))return;let e=cp(cq(d).filter(a=>a.length<=cn).slice(0,cm));e.length>0&&c.set(b,cl,e)}extract(a,b,c){let d=c.get(b,cl),e=Array.isArray(d)?d.join(ck):d;if(!e)return a;let f={};return 0===e.length||(e.split(ck).forEach(a=>{let b=cr(a);if(b){let a={value:b.value};b.metadata&&(a.metadata=b.metadata),f[b.key]=a}}),0===Object.entries(f).length)?a:cg.setBaggage(a,cg.createBaggage(f))}fields(){return[cl]}}let cu="[_0-9a-z-*/]",cv=`[a-z]${cu}{0,255}`,cw=`[a-z0-9]${cu}{0,240}@[a-z]${cu}{0,13}`,cx=RegExp(`^(?:${cv}|${cw})$`),cy=/^[ -~]{0,255}[!-~]$/,cz=/,|=/;function cA(a){return cx.test(a)}function cB(a){return cy.test(a)&&!cz.test(a)}let cC=32,cD=512,cE=",",cF="=";class cG{_internalState=new Map;constructor(a){a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+cF+this.get(b)),a),[]).join(cE)}_parse(a){!(a.length>cD)&&(this._internalState=a.split(cE).reverse().reduce((a,b)=>{let c=b.trim(),d=c.indexOf(cF);if(-1!==d){let e=c.slice(0,d),f=c.slice(d+1,b.length);cA(e)&&cB(f)&&a.set(e,f)}return a},new Map),this._internalState.size>cC&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,cC))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new cG;return a._internalState=new Map(this._internalState),a}}let cH="traceparent",cI="tracestate",cJ="00",cK="(?!ff)[\\da-f]{2}",cL="(?![0]{32})[\\da-f]{32}",cM="(?![0]{16})[\\da-f]{16}",cN="[\\da-f]{2}",cO=RegExp(`^\\s?(${cK})-(${cL})-(${cM})-(${cN})(-.*)?\\s?$`);function cP(a){let b=cO.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}class cQ{inject(a,b,d){let e=bb.getSpanContext(a);if(!e||bj(a)||!a1(e))return;let f=`${cJ}-${e.traceId}-${e.spanId}-0${Number(e.traceFlags||c.NONE).toString(16)}`;d.set(b,cH,f),e.traceState&&d.set(b,cI,e.traceState.serialize())}extract(a,b,c){let d=c.get(b,cH);if(!d)return a;let e=Array.isArray(d)?d[0]:d;if("string"!=typeof e)return a;let f=cP(e);if(!f)return a;f.isRemote=!0;let g=c.get(b,cI);if(g){let a=Array.isArray(g)?g.join(","):g;f.traceState=new cG("string"==typeof a?a:void 0)}return bb.setSpanContext(a,f)}fields(){return[cH,cI]}}function cR(a){if(null!==a){if(void 0===a){let a=new b$;a.enable(),aN.setGlobalContextManager(a);return}a.enable(),aN.setGlobalContextManager(a)}}function cS(a){if(null!==a){if(void 0===a)return void cg.setGlobalPropagator(new ch({propagators:[new cQ,new ct]}));cg.setGlobalPropagator(a)}}class cT extends bZ{constructor(a={}){super(a)}register(a={}){bb.setGlobalTracerProvider(this),cS(a.propagator),cR(a.contextManager)}}var cU=a.i(649246),cV=a.i(676736),cW=a.i(614639),cX=a.i(3072);let cY=1000000000n,cZ=a=>[Number(a/cY),Number(a%cY)],c$=a=>Object.entries(a).reduce((a,[b,c])=>(a[b]=c_(c),a),{}),c_=a=>"string"==typeof a||"number"==typeof a||"boolean"==typeof a?a:"bigint"==typeof a?Number(a):cX.toStringUnknown(a),c0=a=>void 0!==a&&!(Array.isArray(a)&&0===a.length);class c1{emit(a){}}let c2=new c1;class c3{_promise;_resolve;_reject;constructor(){this._promise=new Promise((a,b)=>{this._resolve=a,this._reject=b})}get promise(){return this._promise}resolve(a){this._resolve(a)}reject(a){this._reject(a)}}class c4{_callback;_that;_isCalled=!1;_deferred=new c3;constructor(a,b){this._callback=a,this._that=b}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...a){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...a)).then(a=>this._deferred.resolve(a),a=>this._deferred.reject(a))}catch(a){this._deferred.reject(a)}}return this._deferred.promise}}class c5{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(a){this._isLogRecordReadonly()||(this._severityText=a)}get severityText(){return this._severityText}set severityNumber(a){this._isLogRecordReadonly()||(this._severityNumber=a)}get severityNumber(){return this._severityNumber}set body(a){this._isLogRecordReadonly()||(this._body=a)}get body(){return this._body}get eventName(){return this._eventName}set eventName(a){this._isLogRecordReadonly()||(this._eventName=a)}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(a,b,c){const{timestamp:d,observedTimestamp:e,eventName:f,severityNumber:g,severityText:h,body:i,attributes:j={},context:k}=c,l=Date.now();if(this.hrTime=bq(d??l),this.hrTimeObserved=bq(e??l),k){const a=bb.getSpanContext(k);a&&a1(a)&&(this.spanContext=a)}this.severityNumber=g,this.severityText=h,this.body=i,this.resource=a.resource,this.instrumentationScope=b,this._logRecordLimits=a.logRecordLimits,this._eventName=f,this.setAttributes(j)}setAttribute(a,b){return this._isLogRecordReadonly()||null===b||(0===a.length?aj.warn(`Invalid attribute key: ${a}`):be(b)||"object"==typeof b&&!Array.isArray(b)&&Object.keys(b).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a))?1===this.droppedAttributesCount&&aj.warn("Dropping extra attributes."):be(b)?this.attributes[a]=this._truncateToSize(b):this.attributes[a]=b:aj.warn(`Invalid attribute value set for key: ${a}`)),this}setAttributes(a){for(let[b,c]of Object.entries(a))this.setAttribute(b,c);return this}setBody(a){return this.body=a,this}setEventName(a){return this.eventName=a,this}setSeverityNumber(a){return this.severityNumber=a,this}setSeverityText(a){return this.severityText=a,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(a){let b=this._logRecordLimits.attributeValueLengthLimit;return b<=0?(aj.warn(`Attribute value limit must be positive, got ${b}`),a):"string"==typeof a?this._truncateToLimitUtil(a,b):Array.isArray(a)?a.map(a=>"string"==typeof a?this._truncateToLimitUtil(a,b):a):a}_truncateToLimitUtil(a,b){return a.length<=b?a:a.substring(0,b)}_isLogRecordReadonly(){return this._isReadonly&&aj.warn("Can not execute the operation on emitted log record"),this._isReadonly}}class c6{instrumentationScope;_sharedState;constructor(a,b){this.instrumentationScope=a,this._sharedState=b}emit(a){let b=a.context||aN.active(),c=new c5(this._sharedState,this.instrumentationScope,{context:b,...a});this._sharedState.activeProcessor.onEmit(c,b),c._makeReadonly()}}function c7(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:bA("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:bA("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}function c8(a){return{attributeCountLimit:a.attributeCountLimit??bA("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??bA("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:a.attributeValueLengthLimit??bA("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??bA("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}class c9{forceFlush(){return Promise.resolve()}onEmit(a,b){}shutdown(){return Promise.resolve()}}class da extends Error{constructor(a){super(a),Object.setPrototypeOf(this,da.prototype)}}function db(a,b){let c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new da("Operation timed out."))},b)})]).then(a=>(clearTimeout(c),a),a=>{throw clearTimeout(c),a})}class dc{processors;forceFlushTimeoutMillis;constructor(a,b){this.processors=a,this.forceFlushTimeoutMillis=b}async forceFlush(){let a=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(b=>db(b.forceFlush(),a)))}onEmit(a,b){this.processors.forEach(c=>c.onEmit(a,b))}async shutdown(){await Promise.all(this.processors.map(a=>a.shutdown()))}}class dd{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(a,b,c,d){this.resource=a,this.forceFlushTimeoutMillis=b,this.logRecordLimits=c,this.processors=d,d.length>0?(this.registeredLogRecordProcessors=d,this.activeProcessor=new dc(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis)):this.activeProcessor=new c9}}let de="unknown";class df{_shutdownOnce;_sharedState;constructor(a={}){const b=K({},c7(),a),c=a.resource??az();this._sharedState=new dd(c,b.forceFlushTimeoutMillis,c8(b.logRecordLimits),a?.processors??[]),this._shutdownOnce=new c4(this._shutdown,this)}getLogger(a,b,c){if(this._shutdownOnce.isCalled)return aj.warn("A shutdown LoggerProvider cannot provide a Logger"),c2;a||aj.warn("Logger requested without instrumentation scope name.");let d=a||de,e=`${d}@${b||""}:${c?.schemaUrl||""}`;return this._sharedState.loggers.has(e)||this._sharedState.loggers.set(e,new c6({name:d,version:b,schemaUrl:c?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(e)}forceFlush(){return this._shutdownOnce.isCalled?(aj.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(aj.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}var dg=a.i(524263),dh=a.i(133698),di=cU,dj=a.i(595518),dk=a.i(971815),dl=a.i(587404),dm=cW,dn=a.i(277968),dp=a.i(963802),dq=a.i(963264),dr=(a.i(169628),a.i(414561),a.i(356721),a.i(990034),a.i(104687),a.i(785887));dr.LoggerTypeId;let ds=dr.makeLogger;dp.addLogger;let dt=dp.addLoggerEffect;dp.addLoggerScoped,dr.mapInput,dr.mapInputOptions,dr.filterLogLevel,dr.map,dn.batchedLogger,dn.loggerWithConsoleLog,dn.loggerWithLeveledLog,dn.loggerWithConsoleError,dr.none,dp.removeLogger;let du=dp.replaceLogger;dp.replaceLoggerEffect,dp.replaceLoggerScoped,dr.simple,dr.succeed,dr.sync,dp.withMinimumLogLevel,dn.loggerWithSpanAnnotations,dr.zip,dr.zipLeft,dr.zipRight,dn.defaultLogger,dr.jsonLogger,dr.logfmtLogger,dr.stringLogger,dr.prettyLogger,dr.prettyLoggerDefault,dr.structuredLogger,dn.tracerLogger;let dv=du(dn.defaultLogger,dn.jsonLogger);dn.defaultLogger,dn.logFmtLogger;let dw=du(dn.defaultLogger,dn.prettyLogger);dn.defaultLogger,dn.structuredLogger;let dx=dp.minimumLogLevel;dr.isLogger;var dy=a.i(594449);a.i(961763);var dz=cW;let dA=(0,dh.GenericTag)("@effect/opentelemetry/Resource"),dB=a=>dz.succeed(dA,ay(dC(a))),dC=a=>{let b={...a.attributes??void 0,[an]:a.serviceName,[as]:"@effect/opentelemetry",[ap]:void 0===globalThis.document?aq:ar};return a.serviceVersion&&(b[ao]=a.serviceVersion),b};class dD extends dh.Tag("@effect/opentelemetry/Logger/OtelLoggerProvider")(){}let dE=dt(di.gen(function*(){let a=yield*dD,b=yield*di.clock,c=a.getLogger("@effect/opentelemetry");return ds(a=>{let d=a.date.getTime(),e={fiberId:dj.threadName(a.fiberId)},f=dh.getOption(dl.getOrDefault(a.context,dk.currentContext),dy.ParentSpan);for(let[b,c]of("Some"===f._tag&&(e.spanId=f.value.spanId,e.traceId=f.value.traceId),a.annotations))e[b]=c_(c);for(let b of a.spans)e[`logSpan.${b.label}`]=`${d-b.startTime}ms`;let g=dg.ensure(a.message).map(c_);c.emit({body:1===g.length?g[0]:g,severityText:a.logLevel.label,severityNumber:a.logLevel.ordinal,timestamp:a.date,observedTimestamp:b.unsafeCurrentTimeMillis(),attributes:e})})})),dF=(a,b)=>dm.scoped(dD,di.flatMap(dA,c=>di.acquireRelease(di.sync(()=>new df({...b??void 0,processors:dg.ensure(a),resource:c})),a=>di.promise(()=>a.forceFlush().then(()=>a.shutdown())).pipe(di.ignoreLogged,di.interruptible,di.timeoutOption(b?.shutdownTimeout??3e3)))));!function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(j||(j={})),function(a){a[a.DELTA=0]="DELTA",a[a.CUMULATIVE=1]="CUMULATIVE"}(k||(k={})),function(a){a.COUNTER="COUNTER",a.GAUGE="GAUGE",a.HISTOGRAM="HISTOGRAM",a.UP_DOWN_COUNTER="UP_DOWN_COUNTER",a.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",a.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",a.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(l||(l={})),function(a){a[a.HISTOGRAM=0]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",a[a.GAUGE=2]="GAUGE",a[a.SUM=3]="SUM"}(m||(m={}));var dG=dg,dH=cU,dI=cW,dJ=a.i(830931),dK=a.i(704872);dK.MetricKeyTypeTypeId,dK.CounterKeyTypeTypeId,dK.FrequencyKeyTypeTypeId,dK.GaugeKeyTypeTypeId,dK.HistogramKeyTypeTypeId,dK.SummaryKeyTypeTypeId,dK.counter,dK.frequency,dK.gauge,dK.histogram,dK.summary,dK.isMetricKeyType;let dL=dK.isCounterKey,dM=dK.isFrequencyKey,dN=dK.isGaugeKey,dO=dK.isHistogramKey;dK.isSummaryKey;var dP=a.i(442544);dP.MetricStateTypeId,dP.CounterStateTypeId,dP.FrequencyStateTypeId,dP.GaugeStateTypeId,dP.HistogramStateTypeId,dP.SummaryStateTypeId,dP.counter,dP.frequency,dP.gauge,dP.histogram,dP.summary,dP.isMetricState;let dQ=dP.isCounterState,dR=dP.isFrequencyState,dS=dP.isGaugeState,dT=dP.isHistogramState,dU=dP.isSummaryState;var dV=a.i(852845);let dW="@effect/opentelemetry/Metrics";class dX{resource;constructor(a){this.resource=a}startTimes=new Map;startTimeFor(a,b){return this.startTimes.has(a)?this.startTimes.get(a):(this.startTimes.set(a,b),b)}collect(a){let b=dJ.unsafeSnapshot(),c=d_(),d=[],e=new Map,f=a=>{d.push(a),e.set(a.descriptor.name,a)};for(let a=0,d=b.length;a<d;a++){let{metricKey:d,metricState:g}=b[a],h=dG.reduce(d.tags,{},(a,b)=>(a[b.key]=b.value,a)),i=dZ(d,h),n=this.startTimeFor(i.name,c);if(dQ(g)){let a={startTime:n,endTime:c,attributes:h,value:Number(g.count)};e.has(i.name)?e.get(i.name).dataPoints.push(a):f({dataPointType:m.SUM,descriptor:i,isMonotonic:i.type===l.COUNTER,aggregationTemporality:k.CUMULATIVE,dataPoints:[a]})}else if(dS(g)){let a={startTime:n,endTime:c,attributes:h,value:Number(g.value)};e.has(i.name)?e.get(i.name).dataPoints.push(a):f({dataPointType:m.GAUGE,descriptor:i,aggregationTemporality:k.CUMULATIVE,dataPoints:[a]})}else if(dT(g)){let a=g.buckets.length,b={boundaries:dG.allocate(a-1),counts:dG.allocate(a)},d=0,j=0;for(let[c,e]of g.buckets)d<a-1&&(b.boundaries[d]=c),b.counts[d]=e-j,j=e,d++;let l={startTime:n,endTime:c,attributes:h,value:{buckets:b,count:g.count,min:g.min,max:g.max,sum:g.sum}};e.has(i.name)?e.get(i.name).dataPoints.push(l):f({dataPointType:m.HISTOGRAM,descriptor:i,aggregationTemporality:k.CUMULATIVE,dataPoints:[l]})}else if(dR(g)){let a=[];for(let[b,d]of g.occurrences)a.push({startTime:n,endTime:c,attributes:{...h,key:b},value:d});e.has(i.name)?e.get(i.name).dataPoints.push(...a):f({dataPointType:m.SUM,descriptor:dZ(d,h),aggregationTemporality:k.CUMULATIVE,isMonotonic:!0,dataPoints:a})}else if(dU(g)){let a=[{startTime:n,endTime:c,attributes:{...h,quantile:"min"},value:g.min}];for(let[b,d]of g.quantiles)a.push({startTime:n,endTime:c,attributes:{...h,quantile:b.toString()},value:"Some"===d._tag?d.value:0});a.push({startTime:n,endTime:c,attributes:{...h,quantile:"max"},value:g.max});let b={startTime:n,endTime:c,attributes:h,value:g.count},o={startTime:n,endTime:c,attributes:h,value:g.sum};e.has(`${i.name}_quantiles`)?(e.get(`${i.name}_quantiles`).dataPoints.push(...a),e.get(`${i.name}_count`).dataPoints.push(b),e.get(`${i.name}_sum`).dataPoints.push(o)):(f({dataPointType:m.SUM,descriptor:dZ(d,h,"quantiles"),aggregationTemporality:k.CUMULATIVE,isMonotonic:!1,dataPoints:a}),f({dataPointType:m.SUM,descriptor:{...dY(d,"count"),unit:"1",type:l.COUNTER,valueType:j.INT},aggregationTemporality:k.CUMULATIVE,isMonotonic:!0,dataPoints:[b]}),f({dataPointType:m.SUM,descriptor:{...dY(d,"sum"),unit:"1",type:l.COUNTER,valueType:j.DOUBLE},aggregationTemporality:k.CUMULATIVE,isMonotonic:!0,dataPoints:[o]}))}}return Promise.resolve({resourceMetrics:{resource:this.resource,scopeMetrics:[{scope:{name:dW},metrics:d}]},errors:[]})}}let dY=(a,b)=>({name:b?`${a.name}_${b}`:a.name,description:dV.getOrElse(a.description,()=>""),advice:{}}),dZ=(a,b,c)=>({...dY(a,c),unit:b.unit??b.time_unit??"1",type:d$(a),valueType:"bigint"in a.keyType&&!0===a.keyType.bigint?j.INT:j.DOUBLE}),d$=a=>dO(a.keyType)?l.HISTOGRAM:dN(a.keyType)?l.OBSERVABLE_GAUGE:dM(a.keyType)?l.COUNTER:dL(a.keyType)&&a.keyType.incremental?l.COUNTER:l.UP_DOWN_COUNTER,d_=()=>{let a=Date.now();return[Math.floor(a/1e3),a%1e3*1e6]},d0=dH.map(dA,a=>new dX(a)),d1=(a,b,c)=>dH.acquireRelease(dH.sync(()=>{let c=b(),d=Array.isArray(c)?c:[c];return d.forEach(b=>b.setMetricProducer(a)),d}),a=>dH.promise(()=>Promise.all(a.map(a=>a.shutdown()))).pipe(dH.ignoreLogged,dH.interruptible,dH.timeoutOption(c?.shutdownTimeout??3e3))),d2=(a,b)=>dI.scopedDiscard(dH.flatMap(d0,c=>d1(c,a,b)));var d3="[_0-9a-z-*/]",d4=RegExp("^(?:[a-z]"+d3+"{0,255}|"+("[a-z0-9]"+d3+"{0,240}@[a-z]"+d3)+"{0,13})$"),d5=/^[ -~]{0,255}[!-~]$/,d6=/,|=/;function d7(a){return d4.test(a)}function d8(a){return d5.test(a)&&!d6.test(a)}var d9=32,ea=512,eb=",",ec="=",ed=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+ec+a.get(c)),b},[]).join(eb)},a.prototype._parse=function(a){!(a.length>ea)&&(this._internalState=a.split(eb).reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf(ec);if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);d7(e)&&d8(f)&&a.set(e,f)}return a},new Map),this._internalState.size>d9&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,d9))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}();function ee(a){return new ed(a)}var ef=dq,eg=dh,eh=cU,ei=cW,ej=dV,ek=dy;let el=Symbol.for("@effect/opentelemetry/Tracer/OtelSpan"),em={internal:d.INTERNAL,client:d.CLIENT,server:d.SERVER,producer:d.PRODUCER,consumer:d.CONSUMER},en=(a,b,c)=>{let d=a.getSpan(b),e=d?d.spanContext():void 0;return e?ej.some(ek.externalSpan({spanId:e.spanId,traceId:e.traceId,sampled:(1&e.traceFlags)==1,context:c})):ej.none()};class eo{name;context;links;kind;[el];_tag="Span";span;spanId;traceId;attributes=new Map;sampled;parent;status;constructor(a,b,d,e,f,g,h,i,j,k){this.name=e,this.context=g,this.links=h,this.kind=j,this[el]=el;const l=a.active();this.parent="Some"===f._tag?f:k?.root!==!0?en(b,l,g):ej.none(),this.span=d.startSpan(e,{startTime:cZ(i),links:h.length>0?h.map(a=>({context:ey(a.span),attributes:c$(a.attributes)})):void 0,kind:em[this.kind]},"Some"===this.parent._tag?ex(l,this.parent.value,g):bb.deleteSpan(l));const m=this.span.spanContext();this.spanId=m.spanId,this.traceId=m.traceId,this.status={_tag:"Started",startTime:i},this.sampled=(m.traceFlags&c.SAMPLED)===c.SAMPLED}attribute(a,b){this.span.setAttribute(a,c_(b)),this.attributes.set(a,b)}addLinks(a){this.links.push(...a),this.span.addLinks(a.map(a=>({context:ey(a.span),attributes:c$(a.attributes)})))}end(a,b){let c=cZ(a);if(this.status={_tag:"Ended",endTime:a,exit:b,startTime:this.status.startTime},"Success"===b._tag)this.span.setStatus({code:f.OK});else if(ef.isInterruptedOnly(b.cause))this.span.setStatus({code:f.OK,message:ef.pretty(b.cause)}),this.span.setAttribute("span.label"," Interrupted"),this.span.setAttribute("status.interrupted",!0);else{let a=ef.prettyErrors(b.cause)[0];a?(a.stack=ef.pretty(b.cause,{renderErrorCause:!0}),this.span.recordException(a,c),this.span.setStatus({code:f.ERROR,message:a.message})):this.span.setStatus({code:f.OK})}this.span.end(c)}event(a,b,c){this.span.addEvent(a,c?c$(c):void 0,cZ(b))}}let ep=eg.GenericTag("@effect/opentelemetry/Tracer/OtelTracerProvider"),eq=eg.GenericTag("@effect/opentelemetry/Tracer/OtelTracer"),er=eh.map(eq,a=>ek.make({span:(b,c,d,e,f,g,h)=>new eo(aN,bb,a,b,c,d,e.slice(),f,g,h),context(a,b){let c=b.currentSpan;return void 0===c?a():aN.with(ex(aN.active(),c),a)}})),es=eg.GenericTag("@effect/opentelemetry/Tracer/OtelTraceFlags"),et=eg.GenericTag("@effect/opentelemetry/Tracer/OtelTraceState");eh.currentSpan,()=>bb.getTracerProvider();let eu=ei.effect(eq,eh.flatMap(eh.zip(dA,ep),([a,b])=>eh.sync(()=>b.getTracer(a.attributes[an],a.attributes[ao])))),ev=ei.unwrapEffect(eh.map(er,ei.setTracer)).pipe(ei.provideMerge(eu)),ew=ej.liftThrowable(ee),ex=(a,b,c)=>b instanceof eo?bb.setSpan(a,b.span):bb.setSpanContext(a,ey(b,c)),ey=(a,b)=>({spanId:a.spanId,traceId:a.traceId,isRemote:"ExternalSpan"===a._tag,traceFlags:ej.getOrElse(b?ez(a,b,es):eg.getOption(a.context,es),()=>c.SAMPLED),traceState:ej.getOrUndefined(b?ez(a,b,et):eg.getOption(a.context,et))}),ez=(a,b,c)=>ej.orElse(eg.getOption(b,c),()=>eg.getOption(a.context,c)),eA=ev,eB=ep,eC=(a,b)=>cW.scoped(eB,cU.flatMap(dA,c=>cU.acquireRelease(cU.sync(()=>new cT({...b??void 0,resource:c,spanProcessors:Array.isArray(a)?a:[a]})),a=>cU.ignoreLogged(cU.promise(()=>a.forceFlush().then(()=>a.shutdown())))))),eD=a=>cW.unwrapEffect(cU.map(cU.isEffect(a)?a:cU.sync(a),a=>{let b=dB(a.resource),c=c0(a.spanProcessor)?cW.provide(eA,eC(a.spanProcessor,a.tracerConfig)):cW.empty,d=c0(a.logRecordProcessor)?cW.provide(dE,dF(a.logRecordProcessor,a.loggerProviderConfig)):cW.empty,e=c0(a.metricReader)?d2((0,cV.constant)(a.metricReader)):cW.empty;return cW.mergeAll(c,e,d).pipe(cW.provideMerge(b))}));a.s(["layer",0,eD,"layerTracerProvider",0,eC],180757);var eE=a.i(180757),eE=eE,eF=dh,eG=cU,eH=dk,eI=a.i(991788),eJ=a.i(395184),eK=a.i(122385),eL=a.i(946215),eM=a.i(624175);let eN="@effect/platform/FetchHttpClient/Fetch",eO="@effect/platform/FetchHttpClient/FetchOptions",eP=eL.make((a,b,c,d)=>{let e=d.getFiberRef(eH.currentContext),f=e.unsafeMap.get(eN)??globalThis.fetch,g=e.unsafeMap.get(eO)??{},h=g.headers?eJ.merge(eJ.fromInput(g.headers),a.headers):a.headers,i=d=>eG.map(eG.tryPromise({try:()=>f(b,{...g,method:a.method,headers:h,body:d,duplex:"Stream"===a.body._tag?"half":void 0,signal:c}),catch:b=>new eK.RequestError({request:a,reason:"Transport",cause:b})}),b=>eM.fromWeb(a,b));switch(a.body._tag){case"Raw":case"Uint8Array":return i(a.body.body);case"FormData":return i(a.body.formData);case"Stream":return eG.flatMap(eI.toReadableStreamEffect(a.body.stream),i)}return i(void 0)}),eQ=eL.layerMergedContext(eG.succeed(eP));class eR extends eF.Tag(eN)(){}class eS extends eF.Tag(eO)(){}let eT=eQ;a.s(["Fetch",()=>eR,"RequestInit",()=>eS,"layer",0,eT],481893);var eU=a.i(481893),eU=eU,eV=a.i(759432);let eW=eV.layerStorage(()=>sessionStorage),eX=eV.layerStorage(()=>localStorage),eY=eW;a.s(["layerLocalStorage",0,eX,"layerSessionStorage",0,eY],535666);var eZ=a.i(535666),eZ=eZ;class e${_delegate;constructor(a){this._delegate=a}export(a,b){this._delegate.export(a,b)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}}function e_(a){return a>=48&&a<=57?a-48:a>=97&&a<=102?a-87:a-55}function e0(a){let b=new Uint8Array(a.length/2),c=0;for(let d=0;d<a.length;d+=2){let e=e_(a.charCodeAt(d)),f=e_(a.charCodeAt(d+1));b[c++]=e<<4|f}return b}function e1(a){let b=BigInt(1e9);return BigInt(Math.trunc(a[0]))*b+BigInt(Math.trunc(a[1]))}function e2(a){return{low:Number(BigInt.asUintN(32,a)),high:Number(BigInt.asUintN(32,a>>BigInt(32)))}}function e3(a){return e2(e1(a))}function e4(a){return e1(a).toString()}let e5="undefined"!=typeof BigInt?e4:bs;function e6(a){return a}function e7(a){if(void 0!==a)return e0(a)}let e8={encodeHrTime:e3,encodeSpanContext:e0,encodeOptionalSpanContext:e7};function e9(a){if(void 0===a)return e8;let b=a.useLongBits??!0,c=a.useHex??!1;return{encodeHrTime:b?e3:e5,encodeSpanContext:c?e6:e0,encodeOptionalSpanContext:c?e6:e7}}function fa(a){let b={attributes:fc(a.attributes),droppedAttributesCount:0},c=a.schemaUrl;return c&&""!==c&&(b.schemaUrl=c),b}function fb(a){return{name:a.name,version:a.version}}function fc(a){return Object.keys(a).map(b=>fd(b,a[b]))}function fd(a,b){return{key:a,value:fe(b)}}function fe(a){let b=typeof a;return"string"===b?{stringValue:a}:"number"===b?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:"boolean"===b?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(fe)}}:"object"===b&&null!=a?{kvlistValue:{values:Object.entries(a).map(([a,b])=>fd(a,b))}}:{}}function ff(a,b){return{resourceLogs:fh(a,e9(b))}}function fg(a){let b=new Map;for(let c of a){let{resource:a,instrumentationScope:{name:d,version:e="",schemaUrl:f=""}}=c,g=b.get(a);g||(g=new Map,b.set(a,g));let h=`${d}@${e}:${f}`,i=g.get(h);i||(i=[],g.set(h,i)),i.push(c)}return b}function fh(a,b){return Array.from(fg(a),([a,c])=>{let d=fa(a);return{resource:d,scopeLogs:Array.from(c,([,a])=>({scope:fb(a[0].instrumentationScope),logRecords:a.map(a=>fi(a,b)),schemaUrl:a[0].instrumentationScope.schemaUrl})),schemaUrl:d.schemaUrl}})}function fi(a,b){return{timeUnixNano:b.encodeHrTime(a.hrTime),observedTimeUnixNano:b.encodeHrTime(a.hrTimeObserved),severityNumber:fj(a.severityNumber),severityText:a.severityText,body:fe(a.body),eventName:a.eventName,attributes:fk(a.attributes),droppedAttributesCount:a.droppedAttributesCount,flags:a.spanContext?.traceFlags,traceId:b.encodeOptionalSpanContext(a.spanContext?.traceId),spanId:b.encodeOptionalSpanContext(a.spanContext?.spanId)}}function fj(a){return a}function fk(a){return Object.keys(a).map(b=>fd(b,a[b]))}let fl={serializeRequest:a=>{let b=ff(a,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:a=>0===a.length?{}:JSON.parse(new TextDecoder().decode(a))},fm="0.206.0";function fn(a){if(Number.isFinite(a)&&a>0)return a;throw Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${a}')`)}function fo(a){if(null!=a)return()=>a}function fp(a,b,c){return{timeoutMillis:fn(a.timeoutMillis??b.timeoutMillis??c.timeoutMillis),concurrencyLimit:a.concurrencyLimit??b.concurrencyLimit??c.concurrencyLimit,compression:a.compression??b.compression??c.compression}}function fq(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}function fr(a){return()=>{let b={};return Object.entries(a?.()??{}).forEach(([a,c])=>{void 0!==c?b[a]=String(c):aj.warn(`Header "${a}" has invalid value (${c}) and will be ignored`)}),b}}function fs(a,b,c){let d={...c()},e={};return()=>(null!=b&&Object.assign(e,b()),null!=a&&Object.assign(e,a()),Object.assign(e,d))}function ft(a){if(null!=a)try{let b=globalThis.location?.href;return new URL(a,b).href}catch{throw Error(`Configuration: Could not parse user-provided export URL: '${a}'`)}}function fu(a,b,c){return{...fp(a,b,c),headers:fs(fr(a.headers),b.headers,c.headers),url:ft(a.url)??b.url??c.url}}function fv(a,b){return{...fq(),headers:()=>a,url:"http://localhost:4318/"+b}}function fw(b){return async c=>{let d="http:"===c?a.A(953731):a.A(367955),{Agent:e}=await d;return new e(b)}}function fx(a,b,c){return{...fu(a,b,c),agentFactory:a.agentFactory??b.agentFactory??c.agentFactory}}function fy(a,b){return{...fv(a,b),agentFactory:fw({keepAlive:!0})}}function fz(a){let b=bA(a);if(null!=b){if(Number.isFinite(b)&&b>0)return b;aj.warn(`Configuration: ${a} is invalid, expected number greater than 0 (actual: ${b})`)}}function fA(a){let b=fz(`OTEL_EXPORTER_OTLP_${a}_TIMEOUT`),c=fz("OTEL_EXPORTER_OTLP_TIMEOUT");return b??c}function fB(a){let b=bB(a)?.trim();if(null==b||"none"===b||"gzip"===b)return b;aj.warn(`Configuration: ${a} is invalid, expected 'none' or 'gzip' (actual: '${b}')`)}function fC(a){let b=fB(`OTEL_EXPORTER_OTLP_${a}_COMPRESSION`),c=fB("OTEL_EXPORTER_OTLP_COMPRESSION");return b??c}function fD(a){return{timeoutMillis:fA(a),compression:fC(a)}}function fE(a){let b=bB(`OTEL_EXPORTER_OTLP_${a}_HEADERS`),c=bB("OTEL_EXPORTER_OTLP_HEADERS"),d=cs(b),e=cs(c);if(0!==Object.keys(d).length||0!==Object.keys(e).length)return Object.assign({},cs(c),cs(b))}function fF(a){try{return new URL(a).toString()}catch{aj.warn(`Configuration: Could not parse environment-provided export URL: '${a}', falling back to undefined`);return}}function fG(a,b){try{new URL(a)}catch{aj.warn(`Configuration: Could not parse environment-provided export URL: '${a}', falling back to undefined`);return}a.endsWith("/")||(a+="/"),a+=b;try{new URL(a)}catch{aj.warn(`Configuration: Provided URL appended with '${b}' is not a valid URL, using 'undefined' instead of '${a}'`);return}return a}function fH(a){let b=bB("OTEL_EXPORTER_OTLP_ENDPOINT");if(void 0!==b)return fG(b,a)}function fI(a){let b=bB(`OTEL_EXPORTER_OTLP_${a}_ENDPOINT`);if(void 0!==b)return fF(b)}function fJ(a,b){return{...fD(a),url:fI(a)??fH(b),headers:fo(fE(a))}}function fK(a){if("function"==typeof a.httpAgentOptions)return a.httpAgentOptions;let b=a.httpAgentOptions;return(null!=a.keepAlive&&(b={keepAlive:a.keepAlive,...b}),null!=b)?fw(b):void 0}function fL(a,b,c,d){return a.metadata&&aj.warn("Metadata cannot be set when using http"),fx({url:a.url,headers:fo(a.headers),concurrencyLimit:a.concurrencyLimit,timeoutMillis:a.timeoutMillis,compression:a.compression,agentFactory:fK(a)},fJ(b,c),fy(d,c))}!function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(n||(n={}));class fM extends Error{code;name="OTLPExporterError";data;constructor(a,b,c){super(a),this.data=c,this.code=b}}function fN(a){return Object.prototype.hasOwnProperty.call(a,"partialSuccess")}function fO(){return{handleResponse(a){null!=a&&fN(a)&&null!=a.partialSuccess&&0!==Object.keys(a.partialSuccess).length&&aj.warn("Received Partial Success response:",JSON.stringify(a.partialSuccess))}}}class fP{_transport;_serializer;_responseHandler;_promiseQueue;_timeout;_diagLogger;constructor(a,b,c,d,e){this._transport=a,this._serializer=b,this._responseHandler=c,this._promiseQueue=d,this._timeout=e,this._diagLogger=aj.createComponentLogger({namespace:"OTLPExportDelegate"})}export(a,b){if(this._diagLogger.debug("items to be sent",a),this._promiseQueue.hasReachedLimit())return void b({code:n.FAILED,error:Error("Concurrent export limit reached")});let c=this._serializer.serializeRequest(a);null==c?b({code:n.FAILED,error:Error("Nothing to send")}):this._promiseQueue.pushPromise(this._transport.send(c,this._timeout).then(a=>{if("success"===a.status){if(null!=a.data)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(a.data))}catch(b){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",b,a.data)}b({code:n.SUCCESS});return}"failure"===a.status&&a.error?b({code:n.FAILED,error:a.error}):"retryable"===a.status?b({code:n.FAILED,error:new fM("Export failed with retryable status")}):b({code:n.FAILED,error:new fM("Export failed with unknown error")})},a=>b({code:n.FAILED,error:a})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}}function fQ(a,b){return new fP(a.transport,a.serializer,fO(),a.promiseHandler,b.timeout)}var fR=a.i(406461),fS=a.i(688947);function fT(a){return[429,502,503,504].includes(a)}function fU(a){if(null==a)return;let b=Number.parseInt(a,10);if(Number.isInteger(b))return b>0?1e3*b:-1;let c=new Date(a).getTime()-Date.now();return c>=0?c:0}function fV(a,b,c,d,e,f){let g=new URL(b.url),h=a({hostname:g.hostname,port:g.port,path:g.pathname,method:"POST",headers:{...b.headers()},agent:c},a=>{let b=[];a.on("data",a=>b.push(a)),a.on("end",()=>{a.statusCode&&a.statusCode<299?e({status:"success",data:Buffer.concat(b)}):a.statusCode&&fT(a.statusCode)?e({status:"retryable",retryInMillis:fU(a.headers["retry-after"])}):e({status:"failure",error:new fM(a.statusMessage,a.statusCode,Buffer.concat(b).toString())})})});h.setTimeout(f,()=>{h.destroy(),e({status:"failure",error:Error("Request Timeout")})}),h.on("error",a=>{e({status:"failure",error:a})}),fW(h,b.compression,d,a=>{e({status:"failure",error:a})})}function fW(a,b,c,d){let e=fX(c);"gzip"===b&&(a.setHeader("Content-Encoding","gzip"),e=e.on("error",d).pipe(fR.createGzip()).on("error",d)),e.pipe(a).on("error",d)}function fX(a){let b=new fS.Readable;return b.push(a),b.push(null),b}class fY{_parameters;_utils=null;constructor(a){this._parameters=a}async send(a,b){let{agent:c,request:d}=await this._loadUtils();return new Promise(e=>{fV(d,this._parameters,c,a,a=>{e(a)},b)})}shutdown(){}async _loadUtils(){let a=this._utils;if(null===a){let b=new URL(this._parameters.url).protocol,[c,d]=await Promise.all([this._parameters.agentFactory(b),fZ(b)]);a=this._utils={agent:c,request:d}}return a}}async function fZ(b){let c="http:"===b?a.A(953731):a.A(367955),{request:d}=await c;return d}function f$(a){return new fY(a)}class f_{_concurrencyLimit;_sendingPromises=[];constructor(a){this._concurrencyLimit=a}pushPromise(a){if(this.hasReachedLimit())throw Error("Concurrency Limit reached");this._sendingPromises.push(a);let b=()=>{let b=this._sendingPromises.indexOf(a);this._sendingPromises.splice(b,1)};a.then(b,b)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}}function f0(a){return new f_(a.concurrencyLimit)}let f1=5,f2=1e3,f3=5e3,f4=1.5,f5=.2;function f6(){return 2*f5*Math.random()-f5}class f7{_transport;constructor(a){this._transport=a}retry(a,b,c){return new Promise((d,e)=>{setTimeout(()=>{this._transport.send(a,b).then(d,e)},c)})}async send(a,b){let c=Date.now()+b,d=await this._transport.send(a,b),e=f1,f=f2;for(;"retryable"===d.status&&e>0;){e--;let b=Math.max(Math.min(f,f3)+f6(),0);f*=f4;let g=d.retryInMillis??b,h=c-Date.now();if(g>h)break;d=await this.retry(a,h,g)}return d}shutdown(){return this._transport.shutdown()}}function f8(a){return new f7(a.transport)}function f9(a,b){return fQ({transport:f8({transport:f$(a)}),serializer:b,promiseHandler:f0(a)},{timeout:a.timeoutMillis})}class ga extends e${constructor(a={}){super(f9(fL(a,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${fm}`,"Content-Type":"application/json"}),fl))}}!function(a){a[a.DROP=0]="DROP",a[a.SUM=1]="SUM",a[a.LAST_VALUE=2]="LAST_VALUE",a[a.HISTOGRAM=3]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(o||(o={}));class gb{startTime;monotonic;_current;reset;constructor(a,b,c=0,d=!1){this.startTime=a,this.monotonic=b,this._current=c,this.reset=d}record(a){this.monotonic&&a<0||(this._current+=a)}setStartTime(a){this.startTime=a}toPointValue(){return this._current}}class gc{monotonic;kind=o.SUM;constructor(a){this.monotonic=a}createAccumulation(a){return new gb(a,this.monotonic)}merge(a,b){let c=a.toPointValue(),d=b.toPointValue();return b.reset?new gb(b.startTime,this.monotonic,d,b.reset):new gb(a.startTime,this.monotonic,c+d)}diff(a,b){let c=a.toPointValue(),d=b.toPointValue();return this.monotonic&&c>d?new gb(b.startTime,this.monotonic,d,!0):new gb(b.startTime,this.monotonic,d-c)}toMetricData(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:m.SUM,dataPoints:c.map(([a,b])=>({attributes:a,startTime:b.startTime,endTime:d,value:b.toPointValue()})),isMonotonic:this.monotonic}}}class gd{kind=o.DROP;createAccumulation(){}merge(a,b){}diff(a,b){}toMetricData(a,b,c,d){}}class ge{startTime;_current;sampleTime;constructor(a,b=0,c=[0,0]){this.startTime=a,this._current=b,this.sampleTime=c}record(a){this._current=a,this.sampleTime=bn(Date.now())}setStartTime(a){this.startTime=a}toPointValue(){return this._current}}class gf{kind=o.LAST_VALUE;createAccumulation(a){return new ge(a)}merge(a,b){let c=bt(b.sampleTime)>=bt(a.sampleTime)?b:a;return new ge(a.startTime,c.toPointValue(),c.sampleTime)}diff(a,b){let c=bt(b.sampleTime)>=bt(a.sampleTime)?b:a;return new ge(b.startTime,c.toPointValue(),c.sampleTime)}toMetricData(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:m.GAUGE,dataPoints:c.map(([a,b])=>({attributes:a,startTime:b.startTime,endTime:d,value:b.toPointValue()}))}}}class gg extends Error{constructor(a){super(a),Object.setPrototypeOf(this,gg.prototype)}}function gh(a,b){let c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new gg("Operation timed out."))},b)})]).then(a=>(clearTimeout(c),a),a=>{throw clearTimeout(c),a})}function gi(a,b){let c=[];return a.forEach(a=>{c.push(...b(a))}),c}function gj(a,b){let c=0,d=a.length-1,e=a.length;for(;d>=c;){let f=c+Math.trunc((d-c)/2);a[f]<b?c=f+1:(e=f,d=f-1)}return e}function gk(a){let b=a.map(()=>0);return b.push(0),{buckets:{boundaries:a,counts:b},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}class gl{startTime;_boundaries;_recordMinMax;_current;constructor(a,b,c=!0,d=gk(b)){this.startTime=a,this._boundaries=b,this._recordMinMax=c,this._current=d}record(a){if(Number.isNaN(a))return;this._current.count+=1,this._current.sum+=a,this._recordMinMax&&(this._current.min=Math.min(a,this._current.min),this._current.max=Math.max(a,this._current.max),this._current.hasMinMax=!0);let b=gj(this._boundaries,a);this._current.buckets.counts[b]+=1}setStartTime(a){this.startTime=a}toPointValue(){return this._current}}class gm{_boundaries;_recordMinMax;kind=o.HISTOGRAM;constructor(a,b){this._boundaries=a,this._recordMinMax=b}createAccumulation(a){return new gl(a,this._boundaries,this._recordMinMax)}merge(a,b){let c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,g=Array(e.length);for(let a=0;a<e.length;a++)g[a]=e[a]+f[a];let h=1/0,i=-1/0;return this._recordMinMax&&(c.hasMinMax&&d.hasMinMax?(h=Math.min(c.min,d.min),i=Math.max(c.max,d.max)):c.hasMinMax?(h=c.min,i=c.max):d.hasMinMax&&(h=d.min,i=d.max)),new gl(a.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:g},count:c.count+d.count,sum:c.sum+d.sum,hasMinMax:this._recordMinMax&&(c.hasMinMax||d.hasMinMax),min:h,max:i})}diff(a,b){let c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,g=Array(e.length);for(let a=0;a<e.length;a++)g[a]=f[a]-e[a];return new gl(b.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:g},count:d.count-c.count,sum:d.sum-c.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:m.HISTOGRAM,dataPoints:c.map(([b,c])=>{let e=c.toPointValue(),f=a.type===l.GAUGE||a.type===l.UP_DOWN_COUNTER||a.type===l.OBSERVABLE_GAUGE||a.type===l.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:b,startTime:c.startTime,endTime:d,value:{min:e.hasMinMax?e.min:void 0,max:e.hasMinMax?e.max:void 0,sum:f?void 0:e.sum,buckets:e.buckets,count:e.count}}})}}}class gn{backing;indexBase;indexStart;indexEnd;constructor(a=new go,b=0,c=0,d=0){this.backing=a,this.indexBase=b,this.indexStart=c,this.indexEnd=d}get offset(){return this.indexStart}get length(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(a,b)=>this.at(b))}at(a){let b=this.indexBase-this.indexStart;return a<b&&(a+=this.backing.length),a-=b,this.backing.countAt(a)}incrementBucket(a,b){this.backing.increment(a,b)}decrementBucket(a,b){this.backing.decrement(a,b)}trim(){for(let a=0;a<this.length;a++)if(0!==this.at(a)){this.indexStart+=a;break}else if(a===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let a=this.length-1;a>=0;a--)if(0!==this.at(a)){this.indexEnd-=this.length-a-1;break}this._rotate()}downscale(a){this._rotate();let b=1+this.indexEnd-this.indexStart,c=1<<a,d=0,e=0;for(let a=this.indexStart;a<=this.indexEnd;){let f=a%c;f<0&&(f+=c);for(let g=f;g<c&&d<b;g++)this._relocateBucket(e,d),d++,a++;e++}this.indexStart>>=a,this.indexEnd>>=a,this.indexBase=this.indexStart}clone(){return new gn(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let a=this.indexBase-this.indexStart;0!==a&&(a>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,a),this.backing.reverse(a,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+a)),this.indexBase=this.indexStart)}_relocateBucket(a,b){a!==b&&this.incrementBucket(a,this.backing.emptyBucket(b))}}class go{_counts;constructor(a=[0]){this._counts=a}get length(){return this._counts.length}countAt(a){return this._counts[a]}growTo(a,b,c){let d=Array(a).fill(0);d.splice(c,this._counts.length-b,...this._counts.slice(b)),d.splice(0,b,...this._counts.slice(0,b)),this._counts=d}reverse(a,b){let c=Math.floor((a+b)/2)-a;for(let d=0;d<c;d++){let c=this._counts[a+d];this._counts[a+d]=this._counts[b-d-1],this._counts[b-d-1]=c}}emptyBucket(a){let b=this._counts[a];return this._counts[a]=0,b}increment(a,b){this._counts[a]+=b}decrement(a,b){this._counts[a]>=b?this._counts[a]-=b:this._counts[a]=0}clone(){return new go([...this._counts])}}let gp=52,gq=0x7ff00000,gr=1048575,gs=1023,gt=-1022,gu=1023,gv=22250738585072014e-324;function gw(a){let b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),((b.getUint32(0)&gq)>>20)-gs}function gx(a){let b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),(b.getUint32(0)&gr)*0x100000000+b.getUint32(4)}function gy(a,b){return 0===a||a===1/0||a===-1/0||Number.isNaN(a)?a:a*Math.pow(2,b)}function gz(a){return a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,++a}class gA extends Error{}class gB{_shift;constructor(a){this._shift=-a}mapToIndex(a){return a<gv?this._minNormalLowerBoundaryIndex():gw(a)+this._rightShift(gx(a)-1,gp)>>this._shift}lowerBoundary(a){let b=this._minNormalLowerBoundaryIndex();if(a<b)throw new gA(`underflow: ${a} is < minimum lower boundary: ${b}`);let c=this._maxNormalLowerBoundaryIndex();if(a>c)throw new gA(`overflow: ${a} is > maximum lower boundary: ${c}`);return gy(1,a<<this._shift)}get scale(){return 0===this._shift?0:-this._shift}_minNormalLowerBoundaryIndex(){let a=gt>>this._shift;return this._shift<2&&a--,a}_maxNormalLowerBoundaryIndex(){return gu>>this._shift}_rightShift(a,b){return Math.floor(a*Math.pow(2,-b))}}class gC{_scale;_scaleFactor;_inverseFactor;constructor(a){this._scale=a,this._scaleFactor=gy(Math.LOG2E,a),this._inverseFactor=gy(Math.LN2,-a)}mapToIndex(a){if(a<=gv)return this._minNormalLowerBoundaryIndex()-1;if(0===gx(a))return(gw(a)<<this._scale)-1;let b=Math.floor(Math.log(a)*this._scaleFactor),c=this._maxNormalLowerBoundaryIndex();return b>=c?c:b}lowerBoundary(a){let b=this._maxNormalLowerBoundaryIndex();if(a>=b){if(a===b)return 2*Math.exp((a-(1<<this._scale))/this._scaleFactor);throw new gA(`overflow: ${a} is > maximum lower boundary: ${b}`)}let c=this._minNormalLowerBoundaryIndex();if(a<=c){if(a===c)return gv;if(a===c-1)return Math.exp((a+(1<<this._scale))/this._scaleFactor)/2;throw new gA(`overflow: ${a} is < minimum lower boundary: ${c}`)}return Math.exp(a*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return gt<<this._scale}_maxNormalLowerBoundaryIndex(){return(gu+1<<this._scale)-1}}let gD=-10,gE=20,gF=Array.from({length:31},(a,b)=>b>10?new gC(b-10):new gB(b-10));function gG(a){if(a>gE||a<gD)throw new gA(`expected scale >= ${gD} && <= ${gE}, got: ${a}`);return gF[a+10]}class gH{low;high;static combine(a,b){return new gH(Math.min(a.low,b.low),Math.max(a.high,b.high))}constructor(a,b){this.low=a,this.high=b}}let gI=20,gJ=160,gK=2;class gL{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(a,b=gJ,c=!0,d=0,e=0,f=0,g=1/0,h=-1/0,i=new gn,j=new gn,k=gG(gI)){this.startTime=a,this._maxSize=b,this._recordMinMax=c,this._sum=d,this._count=e,this._zeroCount=f,this._min=g,this._max=h,this._positive=i,this._negative=j,this._mapping=k,this._maxSize<gK&&(aj.warn(`Exponential Histogram Max Size set to ${this._maxSize}, \
                changing to the minimum size of: ${gK}`),this._maxSize=gK)}record(a){this.updateByIncrement(a,1)}setStartTime(a){this.startTime=a}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(a,b){if(!Number.isNaN(a)){if(a>this._max&&(this._max=a),a<this._min&&(this._min=a),this._count+=b,0===a){this._zeroCount+=b;return}this._sum+=a*b,a>0?this._updateBuckets(this._positive,a,b):this._updateBuckets(this._negative,-a,b)}}merge(a){0===this._count?(this._min=a.min,this._max=a.max):0!==a.count&&(a.min<this.min&&(this._min=a.min),a.max>this.max&&(this._max=a.max)),this.startTime=a.startTime,this._sum+=a.sum,this._count+=a.count,this._zeroCount+=a.zeroCount;let b=this._minScale(a);this._downscale(this.scale-b),this._mergeBuckets(this.positive,a,a.positive,b),this._mergeBuckets(this.negative,a,a.negative,b)}diff(a){this._min=1/0,this._max=-1/0,this._sum-=a.sum,this._count-=a.count,this._zeroCount-=a.zeroCount;let b=this._minScale(a);this._downscale(this.scale-b),this._diffBuckets(this.positive,a,a.positive,b),this._diffBuckets(this.negative,a,a.negative,b)}clone(){return new gL(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(a,b,c){let d=this._mapping.mapToIndex(b),e=!1,f=0,g=0;if(0===a.length?(a.indexStart=d,a.indexEnd=a.indexStart,a.indexBase=a.indexStart):d<a.indexStart&&a.indexEnd-d>=this._maxSize?(e=!0,g=d,f=a.indexEnd):d>a.indexEnd&&d-a.indexStart>=this._maxSize&&(e=!0,g=a.indexStart,f=d),e){let a=this._changeScale(f,g);this._downscale(a),d=this._mapping.mapToIndex(b)}this._incrementIndexBy(a,d,c)}_incrementIndexBy(a,b,c){if(0===c)return;if(0===a.length&&(a.indexStart=a.indexEnd=a.indexBase=b),b<a.indexStart){let c=a.indexEnd-b;c>=a.backing.length&&this._grow(a,c+1),a.indexStart=b}else if(b>a.indexEnd){let c=b-a.indexStart;c>=a.backing.length&&this._grow(a,c+1),a.indexEnd=b}let d=b-a.indexBase;d<0&&(d+=a.backing.length),a.incrementBucket(d,c)}_grow(a,b){let c=a.backing.length,d=a.indexBase-a.indexStart,e=c-d,f=gz(b);f>this._maxSize&&(f=this._maxSize);let g=f-d;a.backing.growTo(f,e,g)}_changeScale(a,b){let c=0;for(;a-b>=this._maxSize;)a>>=1,b>>=1,c++;return c}_downscale(a){if(0===a)return;if(a<0)throw Error(`impossible change of scale: ${this.scale}`);let b=this._mapping.scale-a;this._positive.downscale(a),this._negative.downscale(a),this._mapping=gG(b)}_minScale(a){let b=Math.min(this.scale,a.scale),c=gH.combine(this._highLowAtScale(this.positive,this.scale,b),this._highLowAtScale(a.positive,a.scale,b)),d=gH.combine(this._highLowAtScale(this.negative,this.scale,b),this._highLowAtScale(a.negative,a.scale,b));return Math.min(b-this._changeScale(c.high,c.low),b-this._changeScale(d.high,d.low))}_highLowAtScale(a,b,c){if(0===a.length)return new gH(0,-1);let d=b-c;return new gH(a.indexStart>>d,a.indexEnd>>d)}_mergeBuckets(a,b,c,d){let e=c.offset,f=b.scale-d;for(let b=0;b<c.length;b++)this._incrementIndexBy(a,e+b>>f,c.at(b))}_diffBuckets(a,b,c,d){let e=c.offset,f=b.scale-d;for(let b=0;b<c.length;b++){let d=(e+b>>f)-a.indexBase;d<0&&(d+=a.backing.length),a.decrementBucket(d,c.at(b))}a.trim()}}class gM{_maxSize;_recordMinMax;kind=o.EXPONENTIAL_HISTOGRAM;constructor(a,b){this._maxSize=a,this._recordMinMax=b}createAccumulation(a){return new gL(a,this._maxSize,this._recordMinMax)}merge(a,b){let c=b.clone();return c.merge(a),c}diff(a,b){let c=b.clone();return c.diff(a),c}toMetricData(a,b,c,d){return{descriptor:a,aggregationTemporality:b,dataPointType:m.EXPONENTIAL_HISTOGRAM,dataPoints:c.map(([b,c])=>{let e=c.toPointValue(),f=a.type===l.GAUGE||a.type===l.UP_DOWN_COUNTER||a.type===l.OBSERVABLE_GAUGE||a.type===l.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:b,startTime:c.startTime,endTime:d,value:{min:e.hasMinMax?e.min:void 0,max:e.hasMinMax?e.max:void 0,sum:f?void 0:e.sum,positive:{offset:e.positive.offset,bucketCounts:e.positive.bucketCounts},negative:{offset:e.negative.offset,bucketCounts:e.negative.bucketCounts},count:e.count,scale:e.scale,zeroCount:e.zeroCount}}})}}}class gN{static DEFAULT_INSTANCE=new gd;createAggregator(a){return gN.DEFAULT_INSTANCE}}class gO{static MONOTONIC_INSTANCE=new gc(!0);static NON_MONOTONIC_INSTANCE=new gc(!1);createAggregator(a){switch(a.type){case l.COUNTER:case l.OBSERVABLE_COUNTER:case l.HISTOGRAM:return gO.MONOTONIC_INSTANCE;default:return gO.NON_MONOTONIC_INSTANCE}}}class gP{static DEFAULT_INSTANCE=new gf;createAggregator(a){return gP.DEFAULT_INSTANCE}}class gQ{static DEFAULT_INSTANCE=new gm([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);createAggregator(a){return gQ.DEFAULT_INSTANCE}}class gR{_recordMinMax;_boundaries;constructor(a,b=!0){if(this._recordMinMax=b,null==a)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");const c=(a=(a=a.concat()).sort((a,b)=>a-b)).lastIndexOf(-1/0);let d=a.indexOf(1/0);-1===d&&(d=void 0),this._boundaries=a.slice(c+1,d)}createAggregator(a){return new gm(this._boundaries,this._recordMinMax)}}class gS{_maxSize;_recordMinMax;constructor(a=160,b=!0){this._maxSize=a,this._recordMinMax=b}createAggregator(a){return new gM(this._maxSize,this._recordMinMax)}}class gT{_resolve(a){switch(a.type){case l.COUNTER:case l.UP_DOWN_COUNTER:case l.OBSERVABLE_COUNTER:case l.OBSERVABLE_UP_DOWN_COUNTER:return gV;case l.GAUGE:case l.OBSERVABLE_GAUGE:return gW;case l.HISTOGRAM:if(a.advice.explicitBucketBoundaries)return new gR(a.advice.explicitBucketBoundaries);return gX}return aj.warn(`Unable to recognize instrument type: ${a.type}`),gU}createAggregator(a){return this._resolve(a).createAggregator(a)}}let gU=new gN,gV=new gO,gW=new gP,gX=new gQ;new gS,new gT,function(a){a[a.DEFAULT=0]="DEFAULT",a[a.DROP=1]="DROP",a[a.SUM=2]="SUM",a[a.LAST_VALUE=3]="LAST_VALUE",a[a.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM"}(p||(p={})),function(a){a[a.DELTA=0]="DELTA",a[a.CUMULATIVE=1]="CUMULATIVE",a[a.LOWMEMORY=2]="LOWMEMORY"}(q||(q={}));let gY=()=>k.CUMULATIVE,gZ=a=>{switch(a){case l.COUNTER:case l.OBSERVABLE_COUNTER:case l.GAUGE:case l.HISTOGRAM:case l.OBSERVABLE_GAUGE:return k.DELTA;case l.UP_DOWN_COUNTER:case l.OBSERVABLE_UP_DOWN_COUNTER:return k.CUMULATIVE}},g$=a=>{switch(a){case l.COUNTER:case l.HISTOGRAM:return k.DELTA;case l.GAUGE:case l.UP_DOWN_COUNTER:case l.OBSERVABLE_UP_DOWN_COUNTER:case l.OBSERVABLE_COUNTER:case l.OBSERVABLE_GAUGE:return k.CUMULATIVE}};function g_(){let a=(bB("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();return"cumulative"===a?gY:"delta"===a?gZ:"lowmemory"===a?g$:(aj.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${a}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),gY)}function g0(a){return null!=a?a===q.DELTA?gZ:a===q.LOWMEMORY?g$:gY:g_()}let g1=Object.freeze({type:p.DEFAULT});function g2(a){return a?.aggregationPreference??(()=>g1)}class g3 extends e${_aggregationTemporalitySelector;_aggregationSelector;constructor(a,b){super(a),this._aggregationSelector=g2(b),this._aggregationTemporalitySelector=g0(b?.temporalityPreference)}selectAggregation(a){return this._aggregationSelector(a)}selectAggregationTemporality(a){return this._aggregationTemporalitySelector(a)}}var g4=a.i(695600);function g5(a,b){let c=e9(b),d=fa(a.resource);return{resource:d,schemaUrl:d.schemaUrl,scopeMetrics:g6(a.scopeMetrics,c)}}function g6(a,b){return Array.from(a.map(a=>({scope:fb(a.scope),metrics:a.metrics.map(a=>g7(a,b)),schemaUrl:a.scope.schemaUrl})))}function g7(a,b){let c={name:a.descriptor.name,description:a.descriptor.description,unit:a.descriptor.unit},d=hc(a.aggregationTemporality);switch(a.dataPointType){case m.SUM:c.sum={aggregationTemporality:d,isMonotonic:a.isMonotonic,dataPoints:g9(a,b)};break;case m.GAUGE:c.gauge={dataPoints:g9(a,b)};break;case m.HISTOGRAM:c.histogram={aggregationTemporality:d,dataPoints:ha(a,b)};break;case m.EXPONENTIAL_HISTOGRAM:c.exponentialHistogram={aggregationTemporality:d,dataPoints:hb(a,b)}}return c}function g8(a,b,c){let d={attributes:fc(a.attributes),startTimeUnixNano:c.encodeHrTime(a.startTime),timeUnixNano:c.encodeHrTime(a.endTime)};switch(b){case j.INT:d.asInt=a.value;break;case j.DOUBLE:d.asDouble=a.value}return d}function g9(a,b){return a.dataPoints.map(c=>g8(c,a.descriptor.valueType,b))}function ha(a,b){return a.dataPoints.map(a=>{let c=a.value;return{attributes:fc(a.attributes),bucketCounts:c.buckets.counts,explicitBounds:c.buckets.boundaries,count:c.count,sum:c.sum,min:c.min,max:c.max,startTimeUnixNano:b.encodeHrTime(a.startTime),timeUnixNano:b.encodeHrTime(a.endTime)}})}function hb(a,b){return a.dataPoints.map(a=>{let c=a.value;return{attributes:fc(a.attributes),count:c.count,min:c.min,max:c.max,sum:c.sum,positive:{offset:c.positive.offset,bucketCounts:c.positive.bucketCounts},negative:{offset:c.negative.offset,bucketCounts:c.negative.bucketCounts},scale:c.scale,zeroCount:c.zeroCount,startTimeUnixNano:b.encodeHrTime(a.startTime),timeUnixNano:b.encodeHrTime(a.endTime)}})}function hc(a){switch(a){case k.DELTA:return r.AGGREGATION_TEMPORALITY_DELTA;case k.CUMULATIVE:return r.AGGREGATION_TEMPORALITY_CUMULATIVE}}function hd(a,b){return{resourceMetrics:a.map(a=>g5(a,b))}}!function(a){a[a.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",a[a.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",a[a.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE"}(r||(r={}));let he=g4.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,hf=g4.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,hg={serializeRequest:a=>{let b=hd([a]);return hf.encode(b).finish()},deserializeResponse:a=>he.decode(a)},hh="0.206.0";class hi extends g3{constructor(a){super(f9(fL(a??{},"METRICS","v1/metrics",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${hh}`,"Content-Type":"application/x-protobuf"}),hg),a)}}let hj="0.206.0",hk=256,hl=512;function hm(a,b){let c=255&a|hk;return b&&(c|=hl),c}function hn(a,b){let c=a.spanContext(),d=a.status,e=a.parentSpanContext?.spanId?b.encodeSpanContext(a.parentSpanContext?.spanId):void 0;return{traceId:b.encodeSpanContext(c.traceId),spanId:b.encodeSpanContext(c.spanId),parentSpanId:e,traceState:c.traceState?.serialize(),name:a.name,kind:null==a.kind?0:a.kind+1,startTimeUnixNano:b.encodeHrTime(a.startTime),endTimeUnixNano:b.encodeHrTime(a.endTime),attributes:fc(a.attributes),droppedAttributesCount:a.droppedAttributesCount,events:a.events.map(a=>hp(a,b)),droppedEventsCount:a.droppedEventsCount,status:{code:d.code,message:d.message},links:a.links.map(a=>ho(a,b)),droppedLinksCount:a.droppedLinksCount,flags:hm(c.traceFlags,a.parentSpanContext?.isRemote)}}function ho(a,b){return{attributes:a.attributes?fc(a.attributes):[],spanId:b.encodeSpanContext(a.context.spanId),traceId:b.encodeSpanContext(a.context.traceId),traceState:a.context.traceState?.serialize(),droppedAttributesCount:a.droppedAttributesCount||0,flags:hm(a.context.traceFlags,a.context.isRemote)}}function hp(a,b){return{attributes:a.attributes?fc(a.attributes):[],name:a.name,timeUnixNano:b.encodeHrTime(a.time),droppedAttributesCount:a.droppedAttributesCount||0}}function hq(a,b){return{resourceSpans:hs(a,e9(b))}}function hr(a){let b=new Map;for(let c of a){let a=b.get(c.resource);a||(a=new Map,b.set(c.resource,a));let d=`${c.instrumentationScope.name}@${c.instrumentationScope.version||""}:${c.instrumentationScope.schemaUrl||""}`,e=a.get(d);e||(e=[],a.set(d,e)),e.push(c)}return b}function hs(a,b){let c=hr(a),d=[],e=c.entries(),f=e.next();for(;!f.done;){let[a,c]=f.value,g=[],h=c.values(),i=h.next();for(;!i.done;){let a=i.value;if(a.length>0){let c=a.map(a=>hn(a,b));g.push({scope:fb(a[0].instrumentationScope),spans:c,schemaUrl:a[0].instrumentationScope.schemaUrl})}i=h.next()}let j=fa(a),k={resource:j,scopeSpans:g,schemaUrl:j.schemaUrl};d.push(k),f=e.next()}return d}let ht={serializeRequest:a=>{let b=hq(a,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(b))},deserializeResponse:a=>0===a.length?{}:JSON.parse(new TextDecoder().decode(a))};class hu extends e${constructor(a={}){super(f9(fL(a,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${hj}`,"Content-Type":"application/json"}),ht))}}function hv(a){a.unref()}let hw=function(a,b){return new Promise(c=>{aN.with(bi(aN.active()),()=>{a.export(b,a=>{c(a)})})})};class hx{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(a,b){this._exporter=a,this._maxExportBatchSize=b?.maxExportBatchSize??bA("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=b?.maxQueueSize??bA("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=b?.scheduledDelayMillis??bA("OTEL_BLRP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=b?.exportTimeoutMillis??bA("OTEL_BLRP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new c4(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(aj.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(a){this._shutdownOnce.isCalled||this._addToBuffer(a)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(a){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(a),this._maybeStartTimer())}_flushAll(){return new Promise((a,b)=>{let c=[],d=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<d;a++)c.push(this._flushOneBatch());Promise.all(c).then(()=>{a()}).catch(b)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedLogRecords.length)?Promise.resolve():new Promise((a,b)=>{db(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>a()).catch(b)})}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(a=>{bH(a)})},this._scheduledDelayMillis),hv(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}_export(a){let b=()=>hw(this._exporter,a).then(a=>{a.code!==n.SUCCESS&&bH(a.error??Error(`BatchLogRecordProcessor: log record export failed (status ${a})`))}).catch(bH),c=a.map(a=>a.resource).filter(a=>a.asyncAttributesPending);return 0===c.length?b():Promise.all(c.map(a=>a.waitForAsyncAttributes?.())).then(b,bH)}}class hy extends hx{onShutdown(){}}let hz=a=>({type:p.DEFAULT}),hA=a=>k.CUMULATIVE;class hB{_shutdown=!1;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(a){this._aggregationSelector=a?.aggregationSelector??hz,this._aggregationTemporalitySelector=a?.aggregationTemporalitySelector??hA,this._metricProducers=a?.metricProducers??[],this._cardinalitySelector=a?.cardinalitySelector}setMetricProducer(a){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=a,this.onInitialized()}selectAggregation(a){return this._aggregationSelector(a)}selectAggregationTemporality(a){return this._aggregationTemporalitySelector(a)}selectCardinalityLimit(a){return this._cardinalitySelector?this._cardinalitySelector(a):2e3}onInitialized(){}async collect(a){if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");let[b,...c]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:a?.timeoutMillis}),...this._metricProducers.map(b=>b.collect({timeoutMillis:a?.timeoutMillis}))]),d=b.errors.concat(gi(c,a=>a.errors));return{resourceMetrics:{resource:b.resourceMetrics.resource,scopeMetrics:b.resourceMetrics.scopeMetrics.concat(gi(c,a=>a.resourceMetrics.scopeMetrics))},errors:d}}async shutdown(a){this._shutdown?aj.error("Cannot call shutdown twice."):(a?.timeoutMillis==null?await this.onShutdown():await gh(this.onShutdown(),a.timeoutMillis),this._shutdown=!0)}async forceFlush(a){this._shutdown?aj.warn("Cannot forceFlush on already shutdown MetricReader."):a?.timeoutMillis==null?await this.onForceFlush():await gh(this.onForceFlush(),a.timeoutMillis)}}class hC extends hB{_interval;_exporter;_exportInterval;_exportTimeout;constructor(a){if(super({aggregationSelector:a.exporter.selectAggregation?.bind(a.exporter),aggregationTemporalitySelector:a.exporter.selectAggregationTemporality?.bind(a.exporter),metricProducers:a.metricProducers}),void 0!==a.exportIntervalMillis&&a.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==a.exportTimeoutMillis&&a.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==a.exportTimeoutMillis&&void 0!==a.exportIntervalMillis&&a.exportIntervalMillis<a.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=a.exportIntervalMillis??6e4,this._exportTimeout=a.exportTimeoutMillis??3e4,this._exporter=a.exporter}async _runOnce(){try{await gh(this._doRun(),this._exportTimeout)}catch(a){if(a instanceof gg)return void aj.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);bH(a)}}async _doRun(){let{resourceMetrics:a,errors:b}=await this.collect({timeoutMillis:this._exportTimeout});if(b.length>0&&aj.error("PeriodicExportingMetricReader: metrics collection errors",...b),a.resource.asyncAttributesPending)try{await a.resource.waitForAsyncAttributes?.()}catch(a){aj.debug("Error while resolving async portion of resource: ",a),bH(a)}if(0===a.scopeMetrics.length)return;let c=await hw(this._exporter,a);if(c.code!==n.SUCCESS)throw Error(`PeriodicExportingMetricReader: metrics export failed (error ${c.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),hv(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this.onForceFlush(),await this._exporter.shutdown()}}class hD{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(a,b){this._exporter=a,this._maxExportBatchSize="number"==typeof b?.maxExportBatchSize?b.maxExportBatchSize:bA("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize="number"==typeof b?.maxQueueSize?b.maxQueueSize:bA("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis="number"==typeof b?.scheduledDelayMillis?b.scheduledDelayMillis:bA("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis="number"==typeof b?.exportTimeoutMillis?b.exportTimeoutMillis:bA("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new c4(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(aj.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(a,b){}onEnd(a){this._shutdownOnce.isCalled||(a.spanContext().traceFlags&c.SAMPLED)!=0&&this._addToBuffer(a)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(a){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&aj.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(aj.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(a),this._maybeStartTimer()}_flushAll(){return new Promise((a,b)=>{let c=[],d=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,b=d;a<b;a++)c.push(this._flushOneBatch());Promise.all(c).then(()=>{a()}).catch(b)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise((a,b)=>{let c=setTimeout(()=>{b(Error("Timeout"))},this._exportTimeoutMillis);aN.with(bi(aN.active()),()=>{let d;this._finishedSpans.length<=this._maxExportBatchSize?(d=this._finishedSpans,this._finishedSpans=[]):d=this._finishedSpans.splice(0,this._maxExportBatchSize);let e=()=>this._exporter.export(d,d=>{clearTimeout(c),d.code===n.SUCCESS?a():b(d.error??Error("BatchSpanProcessor: span export failed"))}),f=null;for(let a=0,b=d.length;a<b;a++){let b=d[a];b.resource.asyncAttributesPending&&b.resource.waitForAsyncAttributes&&(f??=[]).push(b.resource.waitForAsyncAttributes())}null===f?e():Promise.all(f).then(e,a=>{bH(a),b(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let a=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(a=>{this._isExporting=!1,bH(a)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return a();void 0===this._timer&&(this._timer=setTimeout(()=>a(),this._scheduledDelayMillis),hv(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}class hE extends hD{onShutdown(){}}var hF=cU,hG=cW,hH=a.i(941631),hI=a.i(799234),hJ=cU,hK=eI,hL=a.i(453469);class hM extends hJ.Service()("NetworkMonitor",{scoped:hJ.gen(function*(){let a=yield*hJ.makeLatch(!0),b=yield*hL.make(window.navigator.onLine);return yield*hK.async(a=>{let b=()=>a(hJ.succeed(hI.of(!0))),c=()=>a(hJ.succeed(hI.of(!1)));window.addEventListener("online",b),window.addEventListener("offline",c)}).pipe(hK.tap(c=>(c?a.open:a.close).pipe(hJ.zipRight(hL.update(b,()=>c)))),hK.runDrain,hJ.forkScoped),{latch:a,ref:b}}),accessors:!0}){}let hN="dev"===s.clientEnv.env,hO=`${s.clientEnv.appName}-client`,hP=eE.layer(()=>({resource:{serviceName:hO},spanProcessor:new hE(new hu({url:s.clientEnv.otlpTraceExporterUrl})),logRecordProcessor:new hy(new ga({url:s.clientEnv.otlpLogExporterUrl})),metricReader:new hC({exporter:new hi({url:s.clientEnv.otlpMetricExporterUrl})})})).pipe(hG.provideMerge(eU.layer)),hQ=hN?dw:dv,hR=dx(hN?hH.Debug:hH.Info),hS=hG.mergeAll(hQ,hP),hT=eU.layer,hU=hM.Default,hV=t.WorkerClient.Default,hW=hG.mergeAll(hT,hS,hU,hV,eZ.layerLocalStorage).pipe(hG.provide(hR)),hX=(a,b,c="clientRuntime.runPromise",d)=>a.runPromise(hF.withSpan(b,c),d),hY=(a,b="clientRuntime.runPromise",c)=>d=>hX(a,d,b,c);a.s(["clientRuntimeLayer",0,hW,"makeRunClientPromise",0,hY,"runClientPromise",0,hX],596856)},686017,a=>{"use strict";let b=a.i(800129).default.createContext(null);a.s(["RuntimeContext",0,b])},609990,a=>{"use strict";var b=a.i(909581),c=a.i(204456),d=a.i(903694);a.i(415879);var e=a.i(196945),f=a.i(356721),g=a.i(277968),h=a.i(283658),i=a.i(806758),j=a.i(891078);function k(a,b){return f.flatMap(a.runtimeEffect,a=>f.withFiberRuntime(c=>(c.setFiberRefs(a.fiberRefs),c.currentRuntimeFlags=a.runtimeFlags,f.provideContext(b,a.context))))}let l={...c.CommitPrototype,[i.TypeId]:i.TypeId,pipe(){return(0,d.pipeArguments)(this,arguments)},commit(){return this.runtimeEffect}},m=(a,b)=>{let c;b=b??h.unsafeMakeMemoMap();let d=j.unsafeRunSyncEffect(g.scopeMake()),i=f.withFiberRuntime(g=>(c||(c=j.unsafeForkEffect(f.tap(e.extend(h.toRuntimeWithMemoMap(a,b),d),a=>{m.cachedRuntime=a}),{scope:d,scheduler:g.currentScheduler})),f.flatten(c.await))),m=Object.assign(Object.create(l),{memoMap:b,scope:d,runtimeEffect:i,cachedRuntime:void 0,runtime:()=>void 0===m.cachedRuntime?j.unsafeRunPromiseEffect(m.runtimeEffect):Promise.resolve(m.cachedRuntime),dispose:()=>j.unsafeRunPromiseEffect(m.disposeEffect),disposeEffect:f.suspend(()=>(m.runtimeEffect=f.die("ManagedRuntime disposed"),m.cachedRuntime=void 0,e.close(m.scope,f.exitVoid))),runFork:(a,b)=>void 0===m.cachedRuntime?j.unsafeForkEffect(k(m,a),b):j.unsafeFork(m.cachedRuntime)(a,b),runSyncExit:a=>void 0===m.cachedRuntime?j.unsafeRunSyncExitEffect(k(m,a)):j.unsafeRunSyncExit(m.cachedRuntime)(a),runSync:a=>void 0===m.cachedRuntime?j.unsafeRunSyncEffect(k(m,a)):j.unsafeRunSync(m.cachedRuntime)(a),runPromiseExit:(a,b)=>void 0===m.cachedRuntime?j.unsafeRunPromiseExitEffect(k(m,a),b):j.unsafeRunPromiseExit(m.cachedRuntime)(a,b),runCallback:(a,b)=>void 0===m.cachedRuntime?j.unsafeRunCallback(j.defaultRuntime)(k(m,a),b):j.unsafeRunCallback(m.cachedRuntime)(a,b),runPromise:(a,b)=>void 0===m.cachedRuntime?j.unsafeRunPromiseEffect(k(m,a),b):j.unsafeRunPromise(m.cachedRuntime)(a,b)});return m};i.TypeId;let n=m;var o=a.i(800129);let p=s();function q(a,...b){if(!p)return;let c=r(a,...b);performance.mark(c);try{console.log(a,...b)}catch{console.log(c)}}function r(a,...b){return a.replace(/%[sfdO]/g,a=>{let c=b.shift();return"%O"===a&&c?JSON.stringify(c).replace(/"([^"]+)":/g,"$1:"):String(c)})}function s(){try{let a="nuqs-localStorage-test";if("undefined"==typeof localStorage)return!1;localStorage.setItem(a,a);let b=localStorage.getItem(a)===a;return localStorage.removeItem(a),b&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}let t={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function u(a){return`[nuqs] ${t[a]}
  See https://nuqs.dev/NUQS-${a}`}function v(a){if(0===a.size)return"";let b=[];for(let[c,d]of a.entries()){let a=c.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");b.push(`${a}=${w(d)}`)}let c="?"+b.join("&");return x(c),c}function w(a){return a.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,a=>encodeURIComponent(a))}function x(a){}let y=(0,o.createContext)({useAdapter(){throw Error(u(404))}});function z(a){return({children:b,defaultOptions:c,processUrlSearchParams:d,...e})=>(0,o.createElement)(y.Provider,{...e,value:{useAdapter:a,defaultOptions:c,processUrlSearchParams:d}},b)}y.displayName="NuqsAdapterContext";var A=o;let B=function(a){return{method:"throttle",timeMs:50}}(50);function C(a,b,c){if("string"==typeof a)c.set(b,a);else{for(let d of(c.delete(b),a))c.append(b,d);c.has(b)||c.set(b,"")}return c}function D(){let a=new Map;return{on(b,c){let d=a.get(b)||[];return d.push(c),a.set(b,d),()=>this.off(b,c)},off(b,c){let d=a.get(b);d&&a.set(b,d.filter(a=>a!==c))},emit(b,c){a.get(b)?.forEach(a=>a(c))}}}function E(a,b,c){let d=setTimeout(function(){a(),c.removeEventListener("abort",e)},b);function e(){clearTimeout(d),c.removeEventListener("abort",e)}c.addEventListener("abort",e)}function F(){let a=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let b=()=>{},c=()=>{};return{promise:new a((a,d)=>{b=a,c=d}),resolve:b,reject:c}}function G(a,b){let c=b;for(let b=a.length-1;b>=0;b--){let d=a[b];if(!d)continue;let e=c;c=()=>d(e)}c()}function H(){return new URLSearchParams(location.search)}var I=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=B.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:a,query:b,options:c},d=B.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),q("[nuqs gtq] Enqueueing %s=%s %O",a,b,c),this.updateMap.set(a,b),"push"===c.history&&(this.options.history="push"),c.scroll&&(this.options.scroll=!0),!1===c.shallow&&(this.options.shallow=!1),c.startTransition&&this.transitions.add(c.startTransition),(!Number.isFinite(this.timeMs)||d>this.timeMs)&&(this.timeMs=d)}getQueuedQuery(a){return this.updateMap.get(a)}getPendingPromise({getSearchParamsSnapshot:a=H}){return this.resolvers?.promise??Promise.resolve(a())}flush({getSearchParamsSnapshot:a=H,rateLimitFactor:b=1,...c},d){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return q("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(a());if(this.resolvers)return this.resolvers.promise;this.resolvers=F();let e=()=>{this.lastFlushedAt=performance.now();let[b,e]=this.applyPendingUpdates({...c,autoResetQueueOnUpdate:c.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:a},d);null===e?(this.resolvers.resolve(b),this.resetQueueOnNextPush=!0):this.resolvers.reject(b),this.resolvers=null},f=()=>{let a=performance.now()-this.lastFlushedAt,c=this.timeMs,d=b*Math.max(0,c-a);q("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",d,c,b),0===d?e():E(e,d,this.controller.signal)};return E(f,0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){let a=Array.from(this.updateMap.keys());return q("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=B.timeMs,a}applyPendingUpdates(a,b){let{updateUrl:c,getSearchParamsSnapshot:d}=a,e=d();if(q("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,e.toString()),0===this.updateMap.size)return[e,null];let f=Array.from(this.updateMap.entries()),g={...this.options},h=Array.from(this.transitions);for(let[b,c]of(a.autoResetQueueOnUpdate&&this.reset(),q("[nuqs gtq] Flushing queue %O with options %O",f,g),f))null===c?e.delete(b):e=C(c,b,e);b&&(e=b(e));try{return G(h,()=>{c(e,g)}),[e,null]}catch(a){return console.error(u(429),f.map(([a])=>a).join(),a),[e,a]}}};let J=new I;function K(a,b,c){let d=(0,A.useCallback)(()=>{let b=Object.fromEntries(a.map(a=>[a,c(a)]));return[JSON.stringify(b),b]},[a.join(","),c]),e=(0,A.useRef)(null);null===e.current&&(e.current=d());let f=(0,A.useCallback)(c=>{let d=a.map(a=>b(a,c));return()=>d.forEach(a=>a())},[a.join(","),b]);return(0,A.useSyncExternalStore)(f,()=>{let[a,b]=d();return e.current[0]===a?e.current[1]:(e.current=[a,b],b)},()=>e.current[1])}var L=class{callback;resolvers=F();controller=new AbortController;queuedValue=void 0;constructor(a){this.callback=a}abort(){this.controller.abort(),this.queuedValue=void 0}push(a,b){return this.queuedValue=a,this.controller.abort(),this.controller=new AbortController,E(()=>{let b=this.resolvers;try{q("[nuqs dq] Flushing debounce queue",a);let c=this.callback(a);q("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=F(),c.then(a=>b.resolve(a)).catch(a=>b.reject(a))}catch(a){this.queuedValue=void 0,b.reject(a)}},b,this.controller.signal),this.resolvers.promise}};let M=new class{throttleQueue;queues=new Map;queuedQuerySync=D();constructor(a=new I){this.throttleQueue=a}useQueuedQueries(a){return K(a,(a,b)=>this.queuedQuerySync.on(a,b),a=>this.getQueuedQuery(a))}push(a,b,c){if(!Number.isFinite(b))return Promise.resolve((c.getSearchParamsSnapshot??H)());let d=a.key;if(!this.queues.has(d)){q("[nuqs dqc] Creating debounce queue for `%s`",d);let a=new L(a=>(this.throttleQueue.push(a),this.throttleQueue.flush(c).finally(()=>{this.queues.get(a.key)?.queuedValue===void 0&&(q("[nuqs dqc] Cleaning up empty queue for `%s`",a.key),this.queues.delete(a.key)),this.queuedQuerySync.emit(a.key)})));this.queues.set(d,a)}q("[nuqs dqc] Enqueueing debounce update %O",a);let e=this.queues.get(d).push(a,b);return this.queuedQuerySync.emit(d),e}abort(a){let b=this.queues.get(a);return b?(q("[nuqs dqc] Aborting debounce queue %s=%s",a,b.queuedValue?.query),this.queues.delete(a),b.abort(),this.queuedQuerySync.emit(a),a=>(a.then(b.resolvers.resolve,b.resolvers.reject),a)):a=>a}abortAll(){for(let[a,b]of this.queues.entries())q("[nuqs dqc] Aborting debounce queue %s=%s",a,b.queuedValue?.query),b.abort(),b.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(a);this.queues.clear()}getQueuedQuery(a){let b=this.queues.get(a)?.queuedValue?.query;return void 0!==b?b:this.throttleQueue.getQueuedQuery(a)}}(J);function N(){q("[nuqs] Aborting queues"),M.abortAll(),J.abort().forEach(a=>M.queuedQuerySync.emit(a))}function O(a){return"undefined"!=typeof history&&(history.nuqs?.version&&"0.0.0-inject-version-here"!==history.nuqs.version?(console.error(u(409),history.nuqs.version,"0.0.0-inject-version-here",a),!1):!history.nuqs?.adapters?.includes(a))}function P(a){history.nuqs=history.nuqs??{version:"0.0.0-inject-version-here",adapters:[]},history.nuqs.adapters.push(a)}var Q=o,R=a.i(261360);let S=3,T=0;function U(){T=0,N()}function V(){--T<=0&&(T=0,queueMicrotask(N))}function W(){if(!O("next/app"))return;let a=history.replaceState,b=history.pushState;history.replaceState=function(b,c,d){return V(),a.call(history,b,c,d)},history.pushState=function(a,c,d){return V(),b.call(history,a,c,d)},P("next/app")}function X(){return(0,Q.useEffect)(()=>(W(),window.addEventListener("popstate",U),()=>window.removeEventListener("popstate",U)),[]),null}function Y(a){let{origin:b,pathname:c,hash:d}=location;return b+c+v(a)+d}var Z=o;let $=z(function(){let a=(0,R.useRouter)(),b=(0,R.useSearchParams)(),[c,d]=(0,Q.useOptimistic)(b);return{searchParams:c,updateUrl:(0,Q.useCallback)((b,c)=>{(0,Q.startTransition)(()=>{c.shallow||d(b);let e=Y(b);q("[nuqs next/app] Updating url: %s",e);let f="push"===c.history?history.pushState:history.replaceState;T=S,f.call(history,null,"",e),c.scroll&&window.scrollTo(0,0),c.shallow||a.replace(e,{scroll:!1})})},[]),rateLimitFactor:S,autoResetQueueOnUpdate:!1}});function _({children:a,...b}){return(0,Z.createElement)($,{...b,children:[(0,Z.createElement)(Z.Suspense,{key:"nuqs-adapter-suspense-navspy",children:(0,Z.createElement)(X)}),a]})}var aa=o,ab=a.i(596856),ac=b,ad=a.i(676736),ae=o,af=a.i(686017);let ag=({children:a,runtime:b})=>{let c=ae.default.useRef(!1);return ae.default.useEffect(()=>c.current?()=>{b.dispose()}:(c.current=!0,ad.constVoid),[b]),(0,ac.jsx)(af.RuntimeContext.Provider,{value:b,children:a})},ah=({children:a})=>{let c=aa.default.useMemo(()=>n(ab.clientRuntimeLayer),[]);return(0,b.jsx)(ag,{runtime:c,children:(0,b.jsx)(_,{children:a})})};a.s(["BeepProvider",0,ah],609990)},61917,(a,b,c)=>{"use strict";function d(a,b){var c=a.length;for(a.push(b);0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break}}function e(a){return 0===a.length?null:a[0]}function f(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;for(var d=0,e=a.length,f=e>>>1;d<f;){var h=2*(d+1)-1,i=a[h],j=h+1,k=a[j];if(0>g(i,c))j<e&&0>g(k,i)?(a[d]=k,a[j]=c,d=j):(a[d]=i,a[h]=c,d=h);else if(j<e&&0>g(k,c))a[d]=k,a[j]=c,d=j;else break}}return b}function g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(c.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var h,i=performance;c.unstable_now=function(){return i.now()}}else{var j=Date,k=j.now();c.unstable_now=function(){return j.now()-k}}var l=[],m=[],n=1,o=null,p=3,q=!1,r=!1,s=!1,t=!1,u="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(a){for(var b=e(m);null!==b;){if(null===b.callback)f(m);else if(b.startTime<=a)f(m),b.sortIndex=b.expirationTime,d(l,b);else break;b=e(m)}}function y(a){if(s=!1,x(a),!r)if(null!==e(l))r=!0,z||(z=!0,h());else{var b=e(m);null!==b&&H(y,b.startTime-a)}}var z=!1,A=-1,B=5,C=-1;function D(){return!!t||!(c.unstable_now()-C<B)}function E(){if(t=!1,z){var a=c.unstable_now();C=a;var b=!0;try{a:{r=!1,s&&(s=!1,v(A),A=-1),q=!0;var d=p;try{b:{for(x(a),o=e(l);null!==o&&!(o.expirationTime>a&&D());){var g=o.callback;if("function"==typeof g){o.callback=null,p=o.priorityLevel;var i=g(o.expirationTime<=a);if(a=c.unstable_now(),"function"==typeof i){o.callback=i,x(a),b=!0;break b}o===e(l)&&f(l),x(a)}else f(l);o=e(l)}if(null!==o)b=!0;else{var j=e(m);null!==j&&H(y,j.startTime-a),b=!1}}break a}finally{o=null,p=d,q=!1}}}finally{b?h():z=!1}}}if("function"==typeof w)h=function(){w(E)};else if("undefined"!=typeof MessageChannel){var F=new MessageChannel,G=F.port2;F.port1.onmessage=E,h=function(){G.postMessage(null)}}else h=function(){u(E,0)};function H(a,b){A=u(function(){a(c.unstable_now())},b)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(a){a.callback=null},c.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<a?Math.floor(1e3/a):5},c.unstable_getCurrentPriorityLevel=function(){return p},c.unstable_next=function(a){switch(p){case 1:case 2:case 3:var b=3;break;default:b=p}var c=p;p=b;try{return a()}finally{p=c}},c.unstable_requestPaint=function(){t=!0},c.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=p;p=a;try{return b()}finally{p=c}},c.unstable_scheduleCallback=function(a,b,f){var g=c.unstable_now();switch(f="object"==typeof f&&null!==f&&"number"==typeof(f=f.delay)&&0<f?g+f:g,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=0x3fffffff;break;case 4:i=1e4;break;default:i=5e3}return i=f+i,a={id:n++,callback:b,priorityLevel:a,startTime:f,expirationTime:i,sortIndex:-1},f>g?(a.sortIndex=f,d(m,a),null===e(l)&&a===e(m)&&(s?(v(A),A=-1):s=!0,H(y,f-g))):(a.sortIndex=i,d(l,a),r||q||(r=!0,z||(z=!0,h()))),a},c.unstable_shouldYield=D,c.unstable_wrapCallback=function(a){var b=p;return function(){var c=p;p=b;try{return a.apply(this,arguments)}finally{p=c}}}},590693,(a,b,c)=>{"use strict";b.exports=a.r(61917)},914678,408252,443795,601926,a=>{"use strict";var b,c,d,e=a.i(649246),f=a.i(876065),g=a.i(870370),h=a.i(676736),i=a.i(366963),j=a.i(852845),k=a.i(639808),l=a.i(991788),m=a.i(963264),n=f,o=g,p=h,q=a.i(258521),r=j,s=a.i(903694),t=a.i(415879);a.i(462665);let u=Symbol.for("@effect-atom/atom/Result"),v=a=>(0,t.hasProperty)(a,u),w={[u]:{E:p.identity,A:p.identity},pipe(){return(0,s.pipeArguments)(this,arguments)},[n.symbol](a){if(this._tag!==a._tag&&this.waiting!==a.waiting)return!1;switch(this._tag){case"Initial":return!0;case"Success":return n.equals(this.value,a.value);case"Failure":return n.equals(this.cause,a.cause)}},[q.symbol](){let a=q.string(`${this._tag}:${this.waiting}`);return"Initial"===this._tag?q.cached(this,a):q.cached(this,q.combine(a)("Success"===this._tag?q.hash(this.value):q.hash(this.cause)))}},x=(a,b)=>"Success"===a._tag?D(a.value):G(a.cause,{previous:b}),y=a=>"None"===a._tag?B(!0):I(a.value),z=a=>"Initial"===a._tag,A=a=>"Initial"!==a._tag,B=(a=!1)=>{let b=Object.create(w);return b._tag="Initial",b.waiting=a,b},C=a=>"Success"===a._tag,D=(a,b)=>{let c=Object.create(w);return c._tag="Success",c.value=a,c.waiting=b?.waiting??!1,c.timestamp=b?.timestamp??Date.now(),c},E=a=>"Failure"===a._tag,F=(a,b)=>{let c=Object.create(w);return c._tag="Failure",c.cause=a,c.previousSuccess=b?.previousSuccess??r.none(),c.waiting=b?.waiting??!1,c},G=(a,b)=>F(a,{previousSuccess:r.flatMap(b.previous,a=>C(a)?r.some(a):E(a)?a.previousSuccess:r.none()),waiting:b.waiting}),H=(a,b)=>G(m.fail(a),b),I=(a,b)=>{if(a.waiting)return b?.touch?J(a):a;let c=Object.assign(Object.create(w),a);return c.waiting=!0,b?.touch&&C(c)&&(c.timestamp=Date.now()),c},J=a=>C(a)?D(a.value,{waiting:a.waiting}):a,K=(a,b)=>"Failure"===a._tag?G(a.cause,{previous:b,waiting:a.waiting}):a,L=a=>"Success"===a._tag?r.some(a.value):"Failure"===a._tag?r.map(a.previousSuccess,a=>a.value):r.none(),M=(0,p.dual)(2,(a,b)=>r.getOrElse(L(a),b)),N=a=>r.getOrThrowWith(L(a),()=>new m.NoSuchElementException("Result.getOrThrow: no value found")),O=a=>{switch(a._tag){case"Success":return o.succeed(a.value);case"Failure":return o.failCause(a.cause);default:return o.fail(new m.NoSuchElementException)}},P=(0,p.dual)(2,(a,b)=>{switch(a._tag){case"Initial":return a;case"Failure":return F(a.cause,{previousSuccess:r.map(a.previousSuccess,a=>D(b(a.value),a)),waiting:a.waiting});case"Success":return D(b(a.value),a)}});a.s(["failWithPrevious",0,H,"failureWithPrevious",0,G,"fromExitWithPrevious",0,x,"getOrElse",0,M,"getOrThrow",0,N,"initial",0,B,"isFailure",0,E,"isInitial",0,z,"isNotInitial",0,A,"isResult",0,v,"isSuccess",0,C,"map",0,P,"replacePrevious",0,K,"success",0,D,"toExit",0,O,"value",0,L,"waiting",0,I,"waitingFrom",0,y],408252);let Q={immediate:!0};function R(a){}let S="~effect-atom/atom/Registry",T=a=>new W(a?.initialValues,a?.scheduleTask,a?.timeoutResolution,a?.defaultIdleTTL),U="~effect-atom/atom/Atom/Serializable",V=a=>U in a?a[U].key:a;class W{scheduleTask;defaultIdleTTL;[S];timeoutResolution;constructor(a,b=a=>queueMicrotask(a),c,d){if(this.scheduleTask=b,this.defaultIdleTTL=d,this[S]=S,void 0===c&&void 0!==d?this.timeoutResolution=Math.round(d/2):this.timeoutResolution=c??1e3,void 0!==a)for(const[b,c]of a)this.ensureNode(b).setValue(c)}nodes=new Map;preloadedSerializable=new Map;timeoutBuckets=new Map;nodeTimeoutBucket=new Map;disposed=!1;getNodes(){return this.nodes}get(a){return this.ensureNode(a).value()}set(a,b){a.write(this.ensureNode(a).writeContext,b)}setSerializable(a,b){this.preloadedSerializable.set(a,b)}modify(a,b){let c=this.ensureNode(a),d=b(c.value());return a.write(c.writeContext,d[1]),d[0]}update(a,b){let c=this.ensureNode(a);a.write(c.writeContext,b(c.value()))}refresh=a=>{void 0!==a.refresh?a.refresh(this.refresh):this.invalidateAtom(a)};subscribe(a,b,c){let d=this.ensureNode(a);c?.immediate&&b(d.value());let e=d.subscribe(function(){b(d._value)});return()=>{e(),d.canBeRemoved&&this.scheduleNodeRemoval(d)}}mount(a){return this.subscribe(a,R,Q)}atomHasTtl(a){return!a.keepAlive&&0!==a.idleTTL&&(void 0!==a.idleTTL||void 0!==this.defaultIdleTTL)}ensureNode(a){let b=V(a),c=this.nodes.get(b);if(void 0===c?(c=this.createNode(a),this.nodes.set(b,c)):this.atomHasTtl(a)&&this.removeNodeTimeout(c),"string"==typeof b&&this.preloadedSerializable.has(b)){let d=this.preloadedSerializable.get(b);this.preloadedSerializable.delete(b);let e=a[U].decode(d);c.setValue(e)}return c}createNode(a){if(this.disposed)throw Error(`Cannot access Atom ${a}: registry is disposed`);return a.keepAlive||this.scheduleAtomRemoval(a),new X(this,a)}invalidateAtom=a=>{this.ensureNode(a).invalidate()};scheduleAtomRemoval(a){this.scheduleTask(()=>{let b=this.nodes.get(V(a));void 0!==b&&b.canBeRemoved&&this.removeNode(b)})}scheduleNodeRemoval(a){this.scheduleTask(()=>{a.canBeRemoved&&this.removeNode(a)})}removeNode(a){this.atomHasTtl(a.atom)?this.setNodeTimeout(a):(this.nodes.delete(V(a.atom)),a.remove())}setNodeTimeout(a){if(this.nodeTimeoutBucket.has(a))return;let b=a.atom.idleTTL??this.defaultIdleTTL;if(null!==this.#a&&(b-=this.#a)<=0){this.nodes.delete(V(a.atom)),a.remove();return}let c=Math.ceil(b/this.timeoutResolution)*this.timeoutResolution,d=Date.now()+c,e=d-d%this.timeoutResolution+this.timeoutResolution,f=this.timeoutBuckets.get(e);void 0===f&&(f=[new Set,setTimeout(()=>this.sweepBucket(e),e-Date.now())],this.timeoutBuckets.set(e,f)),f[0].add(a),this.nodeTimeoutBucket.set(a,e)}removeNodeTimeout(a){let b=this.nodeTimeoutBucket.get(a);if(void 0===b)return;this.nodeTimeoutBucket.delete(a),this.scheduleNodeRemoval(a);let[c,d]=this.timeoutBuckets.get(b);c.delete(a),0===c.size&&(clearTimeout(d),this.timeoutBuckets.delete(b))}#a=null;sweepBucket(a){let b=this.timeoutBuckets.get(a)[0];this.timeoutBuckets.delete(a),b.forEach(a=>{a.canBeRemoved&&(this.nodeTimeoutBucket.delete(a),this.nodes.delete(V(a.atom)),this.#a=a.atom.idleTTL??this.defaultIdleTTL,a.remove(),this.#a=null)})}reset(){this.timeoutBuckets.forEach(([,a])=>clearTimeout(a)),this.timeoutBuckets.clear(),this.nodeTimeoutBucket.clear(),this.nodes.forEach(a=>a.remove()),this.nodes.clear()}dispose(){this.disposed=!0,this.reset()}}!function(a){a[a.alive=1]="alive",a[a.initialized=2]="initialized",a[a.waitingForValue=4]="waitingForValue"}(b||(b={})),function(a){a[a.uninitialized=5]="uninitialized",a[a.stale=7]="stale",a[a.valid=3]="valid",a[a.removed=0]="removed"}(c||(c={}));class X{registry;atom;constructor(a,b){this.registry=a,this.atom=b,this.writeContext=new aa(a,this)}state=c.uninitialized;lifetime;writeContext;parents=[];previousParents;children=[];listeners=[];skipInvalidation=!1;get canBeRemoved(){return!this.atom.keepAlive&&0===this.listeners.length&&0===this.children.length&&0!==this.state}_value=void 0;value(){if((this.state&b.waitingForValue)!=0){this.lifetime=_(this);let a=this.atom.read(this.lifetime);if((this.state&b.waitingForValue)!=0&&this.setValue(a),this.previousParents){let a=this.previousParents;this.previousParents=void 0;for(let b=0;b<a.length;b++)a[b].removeChild(this),a[b].canBeRemoved&&this.registry.scheduleNodeRemoval(a[b])}}return this._value}valueOption(){return(this.state&b.initialized)==0?j.none():j.some(this._value)}setValue(a){if((this.state&b.initialized)==0){this.state=c.valid,this._value=a,ab.phase===d.collect?ab.notify.add(this):this.notify();return}this.state=c.valid,!f.equals(this._value,a)&&(this._value=a,this.skipInvalidation?this.skipInvalidation=!1:this.invalidateChildren(),this.listeners.length>0&&(ab.phase===d.collect?ab.notify.add(this):this.notify()))}addParent(a){if(this.parents.push(a),void 0!==this.previousParents){let b=this.previousParents.indexOf(a);-1!==b&&(this.previousParents[b]=this.previousParents[this.previousParents.length-1],void 0===this.previousParents.pop()&&(this.previousParents=void 0))}-1===a.children.indexOf(this)&&a.children.push(this)}removeChild(a){let b=this.children.indexOf(a);-1!==b&&(this.children[b]=this.children[this.children.length-1],this.children.pop())}invalidate(){this.state===c.valid&&(this.state=c.stale,this.disposeLifetime()),ab.phase===d.collect?ab.stale.push(this):this.atom.lazy&&0===this.listeners.length&&!Y(this.children)?(this.invalidateChildren(),this.skipInvalidation=!0):this.value()}invalidateChildren(){if(0===this.children.length)return;let a=this.children;this.children=[];for(let b=0;b<a.length;b++)a[b].invalidate()}notify(){for(let a=0;a<this.listeners.length;a++)this.listeners[a]();ab.phase===d.commit&&ab.notify.delete(this)}disposeLifetime(){void 0!==this.lifetime&&(this.lifetime.dispose(),this.lifetime=void 0),0!==this.parents.length&&(this.previousParents=this.parents,this.parents=[])}remove(){if(this.state=c.removed,this.listeners=[],void 0===this.lifetime||(this.disposeLifetime(),void 0===this.previousParents))return;let a=this.previousParents;this.previousParents=void 0;for(let b=0;b<a.length;b++)a[b].removeChild(this),a[b].canBeRemoved&&this.registry.removeNode(a[b])}subscribe(a){return this.listeners.push(a),()=>{let b=this.listeners.indexOf(a);-1!==b&&(this.listeners[b]=this.listeners[this.listeners.length-1],this.listeners.pop())}}}function Y(a){let b;if(0===a.length)return!1;let c=a,d=0;for(;void 0!==c;){for(let a=0,d=c.length;a<d;a++){let d=c[a];if(!d.atom.lazy||d.listeners.length>0)return!0;d.children.length>0&&(void 0===b?b=[d.children]:b.push(d.children))}c=b?.[d++]}return!1}let Z=a=>Error(`Cannot use context of disposed Atom: ${a}`),$={get registry(){return this.node.registry},addFinalizer(a){if(this.disposed)throw Z(this.node.atom);this.finalizers??=[],this.finalizers.push(a)},get(a){if(this.disposed)throw Z(this.node.atom);let b=this.node.registry.ensureNode(a);return this.node.addParent(b),b.value()},result(a,b){if(this.disposed)throw Z(this.node.atom);if(this.isFn)return this.resultOnce(a);let c=this.get(a);if(b?.suspendOnWaiting&&c.waiting)return e.never;switch(c._tag){case"Initial":return e.never;case"Failure":return g.failCause(c.cause);case"Success":return e.succeed(c.value)}},resultOnce(a,b){if(this.disposed)throw Z(this.node.atom);return e.async(c=>{let d=this.once(a);if("Initial"!==d._tag&&!(b?.suspendOnWaiting&&d.waiting))return c(O(d));let f=this.node.registry.subscribe(a,a=>{"Initial"===a._tag||b?.suspendOnWaiting&&a.waiting||(f(),c(O(a)))},{immediate:!1});return e.sync(f)})},some(a){if(this.disposed)throw Z(this.node.atom);if(this.isFn)return this.someOnce(a);let b=this.get(a);return"None"===b._tag?e.never:e.succeed(b.value)},someOnce(a){if(this.disposed)throw Z(this.node.atom);return e.async(b=>{let c=this.once(a);if(j.isSome(c))return b(e.succeed(c.value));let d=this.node.registry.subscribe(a,a=>{j.isNone(a)||(d(),b(e.succeed(a.value)))},{immediate:!1});return e.sync(d)})},once(a){if(this.disposed)throw Z(this.node.atom);return this.node.registry.get(a)},self(){if(this.disposed)throw Z(this.node.atom);return this.node.valueOption()},refresh(a){if(this.disposed)throw Z(this.node.atom);this.node.registry.refresh(a)},refreshSelf(){if(this.disposed)throw Z(this.node.atom);this.node.invalidate()},mount(a){if(this.disposed)throw Z(this.node.atom);this.addFinalizer(this.node.registry.mount(a))},subscribe(a,b,c){if(this.disposed)throw Z(this.node.atom);this.addFinalizer(this.node.registry.subscribe(a,b,c))},setSelf(a){if(this.disposed)throw Z(this.node.atom);this.node.setValue(a)},set(a,b){if(this.disposed)throw Z(this.node.atom);this.node.registry.set(a,b)},stream(a,b){if(this.disposed)throw Z(this.node.atom);return(0,h.pipe)(e.acquireRelease(k.bounded(b?.bufferSize??16),k.shutdown),e.tap(c=>e.acquireRelease(e.sync(()=>this.node.registry.subscribe(a,a=>{k.unsafeOffer(c,a)},{immediate:b?.withoutInitialValue!==!0})),a=>e.sync(a))),e.map(a=>l.fromQueue(a)),l.unwrapScoped)},streamResult(a,b){return(0,h.pipe)(this.stream(a,b),l.filter(A),l.flatMap(a=>"Success"===a._tag?l.succeed(a.value):l.failCause(a.cause)))},dispose(){if(this.disposed=!0,void 0===this.finalizers)return;let a=this.finalizers;this.finalizers=void 0;for(let b=a.length-1;b>=0;b--)a[b]()}},_=a=>{function b(c){if(b.disposed)throw Z(c);if(b.isFn)return a.registry.get(c);let d=a.registry.ensureNode(c);return a.addParent(d),d.value()}return Object.setPrototypeOf(b,$),b.isFn=!1,b.disposed=!1,b.finalizers=void 0,b.node=a,b};class aa{registry;node;constructor(a,b){this.registry=a,this.node=b}get(a){return this.registry.get(a)}set(a,b){return this.registry.set(a,b)}setSelf(a){return this.node.setValue(a)}refreshSelf(){return this.node.invalidate()}}!function(a){a[a.disabled=0]="disabled",a[a.collect=1]="collect",a[a.commit=2]="commit"}(d||(d={}));let ab=(0,i.globalValue)("@effect-atom/atom/Registry/batchState",()=>({phase:d.disabled,depth:0,stale:[],notify:new Set}));function ac(a){ab.phase=d.collect,ab.depth++;try{if(a(),1===ab.depth){for(let a=0;a<ab.stale.length;a++)ad(ab.stale[a]);for(let a of(ab.phase=d.commit,ab.notify))a.notify();ab.notify.clear()}}finally{ab.depth--,0===ab.depth&&(ab.phase=d.disabled,ab.stale=[])}}function ad(a){if(a.state!==c.valid){for(let b=0;b<a.parents.length;b++){let d=a.parents[b];d.state!==c.valid&&ad(d)}a.state!==c.valid&&a.value()}}a.s(["batch",()=>ac,"make",0,T],914678);var ae=a.i(133698),af=e,ag=(a.i(971815),h),ah=(a.i(614639),a.i(831135)),ai=t,aj=a.i(196945),ak=l;let al="~effect-atom/atom/Registry",am=a=>(0,ai.hasProperty)(a,al),an=T;class ao extends ae.Tag("@effect/atom/Registry/CurrentRegistry")(){}let ap=(0,ag.dual)(2,(a,b)=>ak.unwrapScoped(af.contextWithEffect(c=>{let d=ae.get(c,aj.Scope);return ah.make().pipe(af.tap(c=>{let e=a.subscribe(b,a=>c.unsafeOffer(a),{immediate:!0});return aj.addFinalizer(d,af.suspend(()=>(e(),c.shutdown)))}),af.uninterruptible,af.map(a=>ah.toStream(a)))}))),aq=(0,ag.dual)(2,(a,b)=>ap(a,b).pipe(ak.filter(A),ak.mapEffect(a=>"Success"===a._tag?af.succeed(a.value):af.failCause(a.cause)))),ar=(0,ag.dual)(a=>am(a[0]),(a,b,c)=>{let d=c?.suspendOnWaiting??!1;return af.async(c=>{let e=a.get(b);if("Initial"!==e._tag&&!(d&&e.waiting))return c(O(e));let f=a.subscribe(b,a=>{"Initial"===a._tag||d&&a.waiting||(c(O(a)),f())});return af.sync(f)})});a.s(["AtomRegistry",()=>ao,"getResult",0,ar,"make",0,an,"toStream",0,ap,"toStreamResult",0,aq],443795);var as=a.i(800129),at=a.i(590693);function au(a){at.unstable_scheduleCallback(at.unstable_LowPriority,a)}let av=as.createContext(an({scheduleTask:au,defaultIdleTTL:400})),aw=a=>{let b=as.useRef(null);return null===b.current&&(b.current={registry:an({scheduleTask:a.scheduleTask??au,initialValues:a.initialValues,timeoutResolution:a.timeoutResolution,defaultIdleTTL:a.defaultIdleTTL})}),as.useEffect(()=>(b.current?.timeout!==void 0&&clearTimeout(b.current.timeout),()=>{b.current.timeout=setTimeout(()=>{b.current?.registry.dispose(),b.current=null},500)}),[b]),as.createElement(av.Provider,{value:b.current.registry},a?.children)};a.s(["RegistryContext",0,av,"RegistryProvider",0,aw,"scheduleTask",()=>au],601926)},100718,68366,a=>{"use strict";var b=a.i(784524),c=a.i(759432),d=a.i(524263),e=a.i(963264),f=a.i(651297),g=a.i(799234),h=a.i(133698),i=a.i(125340),j=a.i(649246),k=a.i(536350),l=a.i(870370),m=a.i(744994),n=a.i(595518),o=a.i(971815),p=a.i(676736),q=a.i(366963),r=a.i(3072),s=a.i(614639),t=a.i(863613),u=a.i(852845),v=a.i(903694),w=a.i(415879),x=a.i(89855),y=a.i(357102),z=a.i(462665),A=a.i(196945),B=a.i(991788),C=a.i(413534),D=a.i(453469),E=a.i(914678),F=e,G=l,H=n,I=x,J=a.i(244785);let K=a=>{let b=a;switch(b._tag){case"Failure":case"Success":return b;case"Left":return G.fail(b.left);case"Right":return G.succeed(b.right);case"Some":return G.succeed(b.value);case"None":return G.fail(new F.NoSuchElementException)}},L=a=>{let b=I.runFork(a);return(a,c,d=!1)=>{let e=K(a);if(e)return void c(e);let f=new J.SyncScheduler,g=b(a,{scheduler:f});f.flush();let h=g.unsafePoll();return h?void c(h):(g.addObserver(c),function(){g.removeObserver(c),d||g.unsafeInterruptAsFork(H.none)})}};var M=a.i(443795),N=a.i(408252);let O="~effect-atom/atom/Atom",P=a=>(0,w.hasProperty)(a,O),Q="~effect-atom/atom/Atom/Writable",R={[O]:O,pipe(){return(0,v.pipeArguments)(this,arguments)},toJSON(){return{_id:"Atom",keepAlive:this.keepAlive,lazy:this.lazy,label:this.label}},toString(){return r.format(this)},[r.NodeInspectSymbol](){return this.toJSON()}},S={...R,atom(a,b){let c=_(a,b);return W(a=>{let b=a.self(),d=a(this);return"Success"!==d._tag?N.replacePrevious(d,b):c(a,d.value)})},fn(a,b){return 0==arguments.length?(a,b)=>T(this,a,b):T(this,a,b)},pull(a,b){let c=aa(0),d=W(d=>{let e=d.self(),f=d(this);return"Success"!==f._tag?N.replacePrevious(f,e):ac(d,ax(d,c,a,b),N.initial(!0),f.value)});return ay(c,d)},subscriptionRef(a){return ak(W(b=>{let c=b.self(),d=b(this);if("Success"!==d._tag)return N.replacePrevious(d,c);let e="function"==typeof a?a(b):a;return D.SubscriptionRefTypeId in e?e:ac(b,e,N.initial(!0),d.value)}),(a,b)=>{let c=N.getOrThrow(a(this));return aj(a,b,c)})},subscribable(a){return an(W(b=>{let c=b.self(),d=b(this);if("Success"!==d._tag)return N.replacePrevious(d,c);let e="function"==typeof a?a(b):a;return C.isSubscribable(e)?e:ac(b,e,N.initial(!0),d.value)}),(a,b)=>{let c=N.getOrThrow(a(this));return aj(a,b,c)})}},T=(a,c,d)=>{let[e,f,g]=au(d?.reactivityKeys?(a,e)=>{let f=c(a,e);return j.isEffect(f)?b.mutation(f,d.reactivityKeys):B.ensuring(f,b.invalidate(d.reactivityKeys))}:c,d);return X(b=>{b.get(g);let c=b.self(),d=b.get(a);return"Success"!==d._tag?N.replacePrevious(d,c):e(b,d.value)},f)},U={...R,[Q]:Q},V=a=>Q in a,W=(a,b)=>{let c=Object.create(R);return c.keepAlive=!1,c.lazy=!0,c.read=a,c.refresh=b,c},X=(a,b,c)=>{let d=Object.create(U);return d.keepAlive=!1,d.lazy=!0,d.read=a,d.write=b,d.refresh=c,d};function Y(a,b){a.setSelf(b)}let Z=(a,b)=>{let c=_(a,b);return O in c?c:W(c)},$=a=>u.TypeId in a||k.TypeId in a,_=(a,b)=>{if("function"!=typeof a||j.isEffect(a)||B.StreamTypeId in a){if((0,w.isObject)(a)){if($(a));else if(j.EffectTypeId in a)return function(c,d){return ab(c,a,b,d)};else if(B.StreamTypeId in a)return function(c,d){return ah(c,a,b,d)}}}else{let c=a;return function(a,d){let e=c(a);if((0,w.isObject)(e)){if($(e));else if(j.EffectTypeId in e)return ab(a,e,b,d);else if(B.StreamTypeId in e)return ah(a,e,b,d)}return e}}return aa(a)},aa=a=>X(function(b){return a},Y),ab=(a,b,c,d)=>ac(a,b,c?.initialValue!==void 0?N.success(c.initialValue):N.initial(),d,c?.uninterruptible);function ac(a,b,c,d=x.defaultRuntime,e=!1){let f,g=a.self(),i=j.runSync(A.make());a.addFinalizer(()=>{j.runFork(A.close(i,l.void))});let k=new Map(d.context.unsafeMap);k.set(A.Scope.key,i),k.set(M.AtomRegistry.key,a.registry);let m=x.make({context:h.unsafeMake(k),fiberRefs:d.fiberRefs,runtimeFlags:d.runtimeFlags}),n=!1,o=L(m)(b,function(b){f=N.fromExitWithPrevious(b,g),n&&a.setSelf(f)},e);return(n=!0,void 0!==o&&a.addFinalizer(o),void 0!==f)?f:"Some"===g._tag?N.waitingFrom(g):N.waiting(c)}let ad=a=>{let c=b.layer;function d(b){let e=Object.create(S);e.keepAlive=!1,e.lazy=!0,e.refresh=void 0,e.factory=d;let f=aB("function"==typeof b?W(a=>s.provideMerge(b(a),c)):W(()=>s.provideMerge(b,c)));return e.layer=f,e.read=function(b){let c=b(f);return ab(b,j.flatMap(j.flatMap(j.scope,b=>s.buildWithMemoMap(c,a.memoMap,b)),a=>j.provide(j.runtime(),a)),{uninterruptible:!0})},e}d.memoMap=a.memoMap,d.addGlobalLayer=a=>{c=s.provideMerge(c,s.provide(a,b.layer))};let e=Z(j.scopeWith(c=>s.buildWithMemoMap(b.layer,a.memoMap,c)).pipe(j.map(h.get(b.Reactivity))));return d.withReactivity=a=>b=>aH(b,c=>{let d=N.getOrThrow(c(e));return c.addFinalizer(d.unsafeRegister(a,()=>{c.refresh(b)})),c.subscribe(b,a=>c.setSelf(a)),c.once(b)}),d},ae=(0,q.globalValue)("@effect-atom/atom/Atom/defaultMemoMap",()=>j.runSync(s.makeMemoMap)),af=(0,q.globalValue)("@effect-atom/atom/Atom/defaultContext",()=>ad({memoMap:ae})),ag=af.withReactivity,ah=(a,b,c,d)=>ai(a,b,c?.initialValue!==void 0?N.success(c.initialValue):N.initial(),d);function ai(a,b,c,d=x.defaultRuntime){let i=a.self(),j=f.readWithCause({onInput:b=>f.suspend(()=>{let c=g.last(b);return"Some"===c._tag&&a.setSelf(N.success(c.value,{waiting:!0})),j}),onFailure:b=>f.sync(()=>{a.setSelf(N.failureWithPrevious(b,{previous:a.self()}))}),onDone:b=>f.sync(()=>{(0,p.pipe)(a.self(),u.flatMap(N.value),u.match({onNone:()=>a.setSelf(N.failWithPrevious(new e.NoSuchElementException,{previous:a.self()})),onSome:b=>a.setSelf(N.success(b))}))})}),k=L(x.make({context:h.add(d.context,M.AtomRegistry,a.registry),fiberRefs:d.fiberRefs,runtimeFlags:d.runtimeFlags}))(f.runDrain(f.pipeTo(B.toChannel(b),j)),p.constVoid,!1);return(void 0!==k&&a.addFinalizer(k),"Some"===i._tag)?N.waitingFrom(i):N.waiting(c)}let aj=(a,b,c=x.defaultRuntime)=>C.TypeId in b?(a.addFinalizer(b.changes.pipe(B.runForEach(b=>(a.setSelf(b),j.void)),x.runCallback(c))),x.runSync(c)(b.get)):"Success"!==b._tag?b:ai(a,b.value.changes,N.initial(!0),c),ak=(a,b)=>X(c=>{let d=c(a);return D.SubscriptionRefTypeId in d||N.isSuccess(d)?b(c,d):d},function(b,c){let d=b.get(a);D.SubscriptionRefTypeId in d?j.runSync(D.set(d,c)):N.isSuccess(d)&&j.runSync(D.set(d.value,c))}),al=a=>ak(W(b=>{let c="function"==typeof a?a(b):a;return D.SubscriptionRefTypeId in c?c:ac(b,c,N.initial(!0))}),aj),am=a=>an(W(b=>{let c="function"==typeof a?a(b):a;return C.isSubscribable(c)?c:ac(b,c,N.initial(!0))}),aj),an=(a,b)=>W(c=>{let d=c(a);return C.isSubscribable(d)||N.isSuccess(d)?b(c,d):d}),ao=function(...a){return 0===a.length?ap:ap(...a)},ap=(a,b)=>{let c=aa([0,void 0]),d=b?.initialValue!==void 0;return X(function(e){e.isFn=!0;let[f,g]=e.get(c);return 0===f?d?b.initialValue:u.none():d?a(g,e):u.some(a(g,e))},function(a,b){aN(()=>{a.set(c,[a.get(c)[0]+1,b]),a.refreshSelf()})})},aq=Symbol.for("@effect-atom/atom/Atom/Reset"),ar=Symbol.for("@effect-atom/atom/Atom/Interrupt"),as=function(...a){return 0===a.length?at:at(...a)},at=(a,b)=>{let[c,d]=au(a,b);return X(c,d)};function au(a,b){let c=aa([0,void 0]),d=b?.initialValue!==void 0?N.success(b.initialValue):N.initial(),f=b?.concurrent?Z(a=>{let b=new Set;return a.addFinalizer(()=>b.forEach(a=>a.unsafeInterruptAsFork(n.none))),b}):void 0;return[function(b,g){let h=f?b(f):void 0;b.isFn=!0;let[i,k]=b.get(c);if(0===i)return d;if(k===ar)return N.failureWithPrevious(e.interrupt(n.none),{previous:b.self()});let l=a(k,b);if(j.EffectTypeId in l){if(h){let a=l;l=j.flatMap(j.runtime(),b=>{let c=x.runFork(b,a);h.add(c);let d=Array.from(h);return c.addObserver(()=>h.delete(c)),av(d)})}return ac(b,l,d,g,!1)}return ai(b,l,d,g)},function(a,b){aN(()=>{b===aq?a.set(c,[0,void 0]):b===ar?a.set(c,[a.get(c)[0]+1,ar]):a.set(c,[a.get(c)[0]+1,b]),a.refreshSelf()})},c]}let av=a=>j.async(b=>{let c,d,f=0;function g(a,b=!1){"Failure"===a._tag?c=c?e.parallel(a.cause,c):a.cause:c||(d=a),f++,b||h()}function h(){for(;f<a.length;){let b=a[f],c=b.unsafePoll();if(!c)return b.addObserver(g);g(c,!0)}b(c?l.failCause(c):d||l.failCause(e.empty))}return h(),j.sync(()=>{f<a.length&&a[f].removeObserver(g)})}),aw=(a,b)=>{let c=aa(0),d=W(_(function(d){return ax(d,c,a,b)}));return ay(c,d)},ax=(a,b,c,h)=>j.flatMap(f.toPull(B.toChannel("function"==typeof c?c(a):c)),c=>{let f=j.unsafeMakeSemaphore(1),i=u.getOrThrow(m.getCurrentFiber()),l=i.currentContext,n=g.empty(),p=j.flatMap(j.locally(j.suspend(()=>c),o.currentContext,l),k.match({onLeft:()=>{let a=g.toReadonlyArray(n);return d.isNonEmptyArray(a)?j.succeed({done:!0,items:a}):j.fail(new e.NoSuchElementException("Atom.pull: no items"))},onRight(a){let b;h?.disableAccumulation?b=a:n=b=g.appendAll(n,a);let c=g.toReadonlyArray(b);return d.isNonEmptyArray(c)?j.succeed({done:!1,items:c}):p}})),q=f.withPermits(1)(p),r=L(x.make({context:l,fiberRefs:i.getFiberRefs(),runtimeFlags:x.defaultRuntime.runtimeFlags})),s=new Set;return a.addFinalizer(()=>{for(let a of s)a()}),a.once(b),a.subscribe(b,()=>{let b;a.setSelf(N.waitingFrom(a.self())),(b=r(q,c=>{b&&s.delete(b);let d=N.fromExitWithPrevious(c,a.self()),e=s.size>0;a.setSelf(e?N.waiting(d):d)}))&&s.add(b)}),p}),ay=(a,b)=>X(b.read,function(b,c){b.set(a,b.get(a)+1)}),az="undefined"==typeof WeakRef||"undefined"==typeof FinalizationRegistry?a=>{let b=t.empty();return function(c){let d=t.get(b,c);if("Some"===d._tag)return d.value;let e=a(c);return t.set(b,c,e),e}}:a=>{let b=t.empty(),c=new FinalizationRegistry(a=>{t.remove(b,a)});return function(d){let e=t.get(b,d).pipe(u.flatMapNullable(a=>a.deref()));if("Some"===e._tag)return e.value;let f=a(d);return t.set(b,d,new WeakRef(f)),c.register(f,d),f}},aA=(0,p.dual)(2,(a,b)=>{function c(c){let d=c(a);return"Initial"===d._tag?N.waiting(c(b)):d}return V(a)?X(c,a.write,a.refresh??function(b){b(a)}):W(c,a.refresh??function(b){b(a)})}),aB=a=>Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,keepAlive:!0}),aC=a=>Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,keepAlive:!1}),aD=(0,p.dual)(2,(a,b)=>Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,lazy:b})),aE=(0,p.dual)(2,(a,b)=>Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,label:[b,Error().stack?.split("\n")[5]??""]})),aF=(0,p.dual)(2,(a,b)=>{let c=i.decode(b),d=i.isFinite(c);return Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,keepAlive:!d,idleTTL:d?i.toMillis(c):void 0})}),aG=(0,p.dual)(2,(a,b)=>[a,b]),aH=(0,p.dual)(2,(a,b)=>V(a)?X(b,function(b,c){b.set(a,c)},a.refresh??function(b){b(a)}):W(b,a.refresh??function(b){b(a)})),aI=(0,p.dual)(2,(a,b)=>aH(a,c=>b(c(a)))),aJ=(0,p.dual)(2,(a,b)=>aI(a,N.map(b))),aK=(0,p.dual)(2,(a,b)=>{let c=i.toMillis(b);return aH(a,function(b){let d,e=b.once(a);function f(){d=void 0,b.setSelf(e)}return b.addFinalizer(function(){d&&clearTimeout(d)}),b.subscribe(a,function(a){e=a,d&&clearTimeout(d),d=setTimeout(f,c)}),e})}),aL=a=>{let b=0,c=aa([0,void 0]);return X(b=>{let d=b.once(a),e=!1;b.subscribe(a,a=>{if(d=a,f.size>0)return;if(e=!1,!N.isResult(a))return b.setSelf(a);let c=u.getOrUndefined(b.self());switch(a._tag){case"Initial":N.isInitial(c)&&b.setSelf(a);return;case"Success":N.isSuccess(c)?!a.waiting&&a.timestamp>=c.timestamp&&b.setSelf(a):b.setSelf(a);return;case"Failure":return b.setSelf(a)}});let f=new Set,g=new Set;return b.subscribe(c,([,c])=>{let h;f.has(c)||(f.add(c),h=b.registry.subscribe(c,i=>{if(N.isSuccess(i)&&i.waiting)return b.setSelf(i.value);f.delete(c),h&&(g.delete(h),h()),e||N.isFailure(i)||(e=!0),0===f.size&&(e?(e=!1,b.refresh(a)):b.setSelf(d))},{immediate:!0}),f.has(c)?g.add(h):h())}),b.addFinalizer(()=>{for(let a of g)a();f.clear(),g.clear()}),d},(a,d)=>a.set(c,[++b,d]),b=>b(a))},aM=(0,p.dual)(2,(a,b)=>{let c=aa(N.initial());return as((d,e)=>{let f=b.reducer(e(a),d);N.isResult(f)&&(f=N.waiting(f,{touch:!0})),e.set(c,N.success(f,{waiting:!0})),e.set(a,c);let g="function"==typeof b.fn?aC(b.fn(a=>e.set(c,N.success(N.isResult(a)?N.waiting(a):a,{waiting:!0})))):b.fn;return e.set(g,d),j.async(a=>{e.subscribe(g,b=>{"Initial"===b._tag||b.waiting||(e.set(c,N.map(b,()=>f)),a(N.toExit(b)))},{immediate:!0})})})}),aN=E.batch,aO=W(a=>{let b=0;function c(){"visible"===document.visibilityState&&a.setSelf(++b)}return window.addEventListener("visibilitychange",c),a.addFinalizer(()=>{window.removeEventListener("visibilitychange",c)}),b}),aP=a=>b=>aH(b,c=>(c.once(a),c.subscribe(a,a=>c.refresh(b)),c.subscribe(b,a=>c.setSelf(a)),c.once(b))),aQ=aP(aO),aR=a=>{let b=a.runtime.fn(j.fnUntraced(function*(b){let d=(yield*c.KeyValueStore).forSchema(a.schema);yield*d.set(a.key,b)})),d=a.runtime.atom(j.flatMap(c.KeyValueStore,b=>j.flatten(b.forSchema(a.schema).get(a.key))));return X(c=>(c.mount(b),N.getOrElse(c(d),a.defaultValue)),(a,c)=>{a.set(b,c),a.setSelf(c)})},aS=(a,b)=>{let c=b?.schema&&z.decodeEither(b.schema),d=b?.schema&&z.encodeEither(b.schema);return X(b=>{let d=()=>{if(aT.updating)return;let d=new URLSearchParams(window.location.search).get(a)||"";c?b.setSelf(k.getRight(c(d))):d!==u.getOrUndefined(b.self())&&b.setSelf(d)};window.addEventListener("popstate",d),window.addEventListener("pushstate",d),b.addFinalizer(()=>{window.removeEventListener("popstate",d),window.removeEventListener("pushstate",d)});let e=new URLSearchParams(window.location.search).get(a)||"";return c?k.getRight(c(e)):e},(b,c)=>{if(d){let b=u.flatMap(c,a=>k.getRight(d(a)));aT.updates.set(a,u.getOrElse(b,()=>"")),c=u.zipRight(b,c)}else aT.updates.set(a,c);b.setSelf(c),aT.timeout&&clearTimeout(aT.timeout),aT.timeout=setTimeout(aU,500)})},aT={timeout:void 0,updates:new Map,updating:!1};function aU(){aT.timeout=void 0,aT.updating=!0;let a=new URLSearchParams(window.location.search);for(let[b,c]of aT.updates.entries())c.length>0?a.set(b,c):a.delete(b);aT.updates.clear();let b=`${window.location.pathname}?${a.toString()}`;window.history.pushState({},"",b),aT.updating=!1}let aV=a=>B.unwrap(j.map(M.AtomRegistry,M.toStream(a))),aW=a=>B.unwrap(j.map(M.AtomRegistry,M.toStreamResult(a))),aX=a=>j.map(M.AtomRegistry,b=>b.get(a)),aY=(0,p.dual)(2,(a,b)=>j.map(M.AtomRegistry,c=>c.modify(a,b))),aZ=(0,p.dual)(2,(a,b)=>j.map(M.AtomRegistry,c=>c.set(a,b))),a$=(0,p.dual)(2,(a,b)=>j.map(M.AtomRegistry,c=>c.update(a,b))),a_=(a,b)=>j.flatMap(M.AtomRegistry,M.getResult(a,b)),a0=a=>j.map(M.AtomRegistry,b=>b.refresh(a)),a1="~effect-atom/atom/Atom/Serializable",a2=a=>a1 in a,a3=(0,p.dual)(2,(a,b)=>Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,label:a.label??[b.key,Error().stack?.split("\n")[5]??""],[a1]:{key:b.key,encode:y.encodeSync(b.schema),decode:y.decodeSync(b.schema)}})),a4="~effect-atom/atom/Atom/ServerValue",a5=(0,p.dual)(2,(a,b)=>Object.assign(Object.create(Object.getPrototypeOf(a)),{...a,[a4]:b})),a6=a=>a5(a,(0,p.constant)(N.initial(!0))),a7=(0,p.dual)(2,(a,b)=>a4 in a?a[a4](a=>b.get(a)):b.get(a));a.s(["Interrupt",0,ar,"Reset",0,aq,"SerializableTypeId",0,a1,"ServerValueTypeId",0,a4,"TypeId",0,O,"WritableTypeId",0,Q,"autoDispose",0,aC,"batch",0,aN,"context",0,ad,"debounce",0,aK,"defaultMemoMap",0,ae,"family",0,az,"fn",0,as,"fnSync",0,ao,"get",0,aX,"getResult",0,a_,"getServerValue",0,a7,"initialValue",0,aG,"isAtom",0,P,"isSerializable",0,a2,"isWritable",0,V,"keepAlive",0,aB,"kvs",0,aR,"make",0,Z,"makeRefreshOnSignal",0,aP,"map",0,aI,"mapResult",0,aJ,"modify",0,aY,"optimistic",0,aL,"optimisticFn",0,aM,"pull",0,aw,"readable",0,W,"refresh",0,a0,"refreshOnWindowFocus",0,aQ,"runtime",0,af,"searchParam",0,aS,"serializable",0,a3,"set",0,aZ,"setIdleTTL",0,aF,"setLazy",0,aD,"subscribable",0,am,"subscriptionRef",0,al,"toStream",0,aV,"toStreamResult",0,aW,"transform",0,aH,"update",0,a$,"windowFocusSignal",0,aO,"withFallback",0,aA,"withLabel",0,aE,"withReactivity",0,ag,"withServerValue",0,a5,"withServerValueInitial",0,a6,"writable",0,X],68366);var a8=M,a9=a.i(506586),ba=e,bb=l,bc=q,bd=a.i(800129),be=a.i(601926);let bf=(0,bc.globalValue)("@effect-atom/atom-react/storeRegistry",()=>new WeakMap);function bg(a,b){let c=bf.get(a);void 0===c&&(c=new WeakMap,bf.set(a,c));let d=c.get(b);if(void 0!==d)return d;let e={subscribe:c=>a.subscribe(b,c),snapshot:()=>a.get(b),getServerSnapshot:()=>a7(b,a)};return c.set(b,e),e}function bh(a,b){let c=bg(a,b);return bd.useSyncExternalStore(c.subscribe,c.snapshot,c.getServerSnapshot)}let bi=(0,bc.globalValue)("@effect-atom/atom-react/initialValuesSet",()=>new WeakMap),bj=a=>{let b=bd.useContext(be.RegistryContext),c=bi.get(b);for(let[d,e]of(void 0===c&&(c=new WeakSet,bi.set(b,c)),a))c.has(d)||(c.add(d),b.ensureNode(d).setValue(e))},bk=(a,b)=>{let c=bd.useContext(be.RegistryContext);return b?bh(c,bd.useMemo(()=>aI(a,b),[a,b])):bh(c,a)};function bl(a,b){bd.useEffect(()=>a.mount(b),[b,a])}function bm(a,b,c){return c?.mode==="promise"||c?.mode==="promiseExit"?bd.useCallback(d=>{a.set(b,d);let e=a9.Effect.runPromiseExit(a8.getResult(a,b,{suspendOnWaiting:!0}));return"promise"===c.mode?e.then(bn):e},[a,b,c.mode]):bd.useCallback(c=>{a.set(b,"function"==typeof c?c(a.get(b)):c)},[a,b])}let bn=a=>{if(bb.isSuccess(a))return a.value;throw ba.squash(a.cause)},bo=a=>{bl(bd.useContext(be.RegistryContext),a)},bp=(a,b)=>{let c=bd.useContext(be.RegistryContext);return bl(c,a),bm(c,a,b)},bq=a=>{let b=bd.useContext(be.RegistryContext);return bl(b,a),bd.useCallback(()=>{b.refresh(a)},[b,a])},br=(a,b)=>{let c=bd.useContext(be.RegistryContext);return[bh(c,a),bm(c,a,b)]},bs=(0,bc.globalValue)("@effect-atom/atom-react/atomPromiseMap",()=>({suspendOnWaiting:new Map,default:new Map}));function bt(a,b,c){let d=c?bs.suspendOnWaiting:bs.default,e=d.get(b);return void 0!==e||(e=new Promise(e=>{let f=a.subscribe(b,a=>{"Initial"===a._tag||c&&a.waiting||(setTimeout(f,1e3),e(),d.delete(b))})}),d.set(b,e)),e}function bu(a,b,c){let d=bh(a,b);if("Initial"===d._tag||c&&d.waiting)throw bt(a,b,c);return d}let bv=(a,b)=>{let c=bu(bd.useContext(be.RegistryContext),a,b?.suspendOnWaiting??!1);if("Failure"===c._tag&&!b?.includeFailure)throw ba.squash(c.cause);return c},bw=(a,b,c)=>{let d=bd.useContext(be.RegistryContext);bd.useEffect(()=>d.subscribe(a,b,c),[d,a,b,c?.immediate])},bx=a=>{let[,b]=bd.useState(a.value);return bd.useEffect(()=>a.subscribe(b),[a]),a.value},by=(a,b)=>bd.useMemo(()=>a.prop(b),[a,b]),bz=(a,b)=>bx(by(a,b));a.s(["useAtom",0,br,"useAtomInitialValues",0,bj,"useAtomMount",0,bo,"useAtomRef",0,bx,"useAtomRefProp",0,by,"useAtomRefPropValue",0,bz,"useAtomRefresh",0,bq,"useAtomSet",0,bp,"useAtomSubscribe",0,bw,"useAtomSuspense",0,bv,"useAtomValue",0,bk],100718)},342089,329302,a=>{"use strict";var b=a.i(596856),c=a.i(68366);a.s(["Atom",0,c],329302);var c=c;let d=c.context({memoMap:c.defaultMemoMap});d.addGlobalLayer(b.clientRuntimeLayer),a.s(["makeAtomRuntime",0,d],342089)},732148,a=>{"use strict";var b=a.i(100718),c=a.i(666072);let d=(0,a.i(342089).makeAtomRuntime)(c.WorkerClient.Default),e=()=>((0,b.useAtomMount)(d),null);a.s(["KaServices",0,e])},498999,a=>{"use strict";var b=a.i(800129),c=a.i(686017);let d=()=>{let a=b.default.useContext(c.RuntimeContext);if(null===a)throw Error("useRuntime must be used within a RuntimeProvider");return a};a.s(["useRuntime",0,d])},553723,a=>{"use strict";a.i(609990),a.i(732148),a.i(596856),a.i(498999),a.s([])}];

//# sourceMappingURL=_9523d851._.js.map