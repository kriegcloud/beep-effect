module.exports=[569411,273697,74767,763728,738263,226231,247280,582966,555590,404269,15385,821993,277298,294474,186500,555661,50074,49102,443256,702018,662605,451684,967811,279030,164166,a=>{"use strict";a.i(702333);var b,c,d=a.i(829929),e=a.i(947714),f=a.i(462665);let g={createdAt:d.BS.DateTimeInsertFromDateOmittable({description:"The date and time the record was created"}),updatedAt:d.BS.DateTimeUpdateFromDateOmittable({description:"The date and time the record was last updated"}),deletedAt:d.BS.FieldOptionOmittable(d.BS.DateTimeFromDate({description:"If not null, the date and time the record was deleted"}))},h={...{createdBy:d.BS.FieldOptionOmittable(f.String),updatedBy:d.BS.FieldOptionOmittable(f.String),deletedBy:d.BS.FieldOptionOmittable(f.String)},...g,version:e.Generated(f.Int.pipe(f.greaterThanOrEqualTo(1))),source:d.BS.FieldOptionOmittable(f.String)},i=(a,b)=>({...{...{id:a.modelIdSchema,_rowId:a.modelRowIdSchema},...h},...b});var j=d,k=e,l=f,m=f;a.i(708310);var n=a.i(601905),n=n;let o=n.make("account",{brand:"AccountId",annotations:{description:"A unique identifier for an account",schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/AccountId")}}),p=n.make("apikey",{brand:"ApiKeyId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/ApiKey"),description:"A unique identifier for an api key"}}),q=n.make("invitation",{brand:"InvitationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/InvitationId"),description:"A unique identifier for an invitation"}}),r=n.make("jwks",{brand:"JwksId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/JwksId"),description:"A unique identifier for a jwks"}}),s=n.make("member",{brand:"MemberId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/MemberId"),description:"A unique identifier for a member"}}),t=n.make("oauth_access_token",{brand:"OAuthAccessTokenId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthAccessTokenId"),description:"A unique identifier for an oauth access token"}}),u=n.make("oauth_application",{brand:"OAuthApplicationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthApplicationId"),description:"A unique identifier for an oauth application"}}),v=n.make("oauth_consent",{brand:"OAuthConsentId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthConsentId"),description:"A unique identifier for an oauth consent"}}),w=n.make("passkey",{brand:"Passkey",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/PasskeyId"),description:"A unique identifier for a passkey"}}),x=n.make("rate_limit",{brand:"RateLimitId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/RateLimitId"),description:"A unique identifier for a rate limit"}}),y=n.make("session",{brand:"SessionId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SessionId"),description:"A unique identifier for a session"}}),z=n.make("sso_provider",{brand:"SsoProviderId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SsoProviderId"),description:"A unique identifier for an sso provider"}}),A=n.make("subscription",{brand:"SubscriptionId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SubscriptionId"),description:"A unique identifier for a subscription"}}),B=n.make("team_member",{brand:"TeamMemberId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/TeamMemberId"),description:"A unique identifier for a team member"}}),C=n.make("two_factor",{brand:"TwoFactorId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/TwoFactorId"),description:"A unique identifier for a two factor"}}),D=n.make("verification",{brand:"VerificationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/VerificationId"),description:"A unique identifier for a verification"}}),E=n.make("wallet_address",{brand:"WalletAddressId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/WalletAddressId"),description:"A unique identifier for a wallet address"}}),F=n.make("organization_role",{brand:"OrganizationRoleId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OrganizationRoleId"),description:"A unique identifier for an organization role"}}),G=n.make("device_code",{brand:"OrganizationRoleId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/DeviceCodeId"),description:"A unique identifier for a device code"}});a.s(["AccountId",0,o,"ApiKeyId",0,p,"DeviceCodeId",0,G,"InvitationId",0,q,"JwksId",0,r,"MemberId",0,s,"OAuthAccessTokenId",0,t,"OAuthApplicationId",0,u,"OAuthConsentId",0,v,"OrganizationRoleId",0,F,"PasskeyId",0,w,"RateLimitId",0,x,"SessionId",0,y,"SsoProviderId",0,z,"SubscriptionId",0,A,"TeamMemberId",0,B,"TwoFactorId",0,C,"VerificationId",0,D,"WalletAddressId",0,E],833175);var n=n;let H=n.make("organization",{brand:"OrganizationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/OrganizationId"),description:"A unique identifier for an organization"}}),I=n.make("team",{brand:"TeamId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/TeamId"),description:"A unique identifier for a team"}}),J=n.make("file",{brand:"FileId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/FileId"),description:"A unique identifier for a file"}}),K=n.make("audit_log",{brand:"AuditLogId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/AuditLogId"),description:"A unique identifier for an audit log"}}),L=n.make("user",{brand:"UserId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/UserId"),description:"A unique identifier for a user"}});a.s(["AuditLogId",0,K,"FileId",0,J,"OrganizationId",0,H,"TeamId",0,I,"UserId",0,L],429125);class M extends m.Union(o,p,q,s,u,t,v,w,y,z,A,A,B,C,D,E,F,G,H,I,L).annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/AnyEntityId"),description:"Any entity id",title:"Any Entity Id",identifier:"AnyEntityId"}){}a.s(["AnyEntityId",()=>M],777582);var N=b||(b={});N.SharedTableNameKit=d.BS.stringLiteralKit(J.tableName,I.tableName,H.tableName,L.tableName,K.tableName);class O extends N.SharedTableNameKit.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SharedTableName"),description:"The set of table_names for entityIds within the shared-kernel",identifier:"SharedTableName",title:"Shared Table Name"}){static Tagged=N.SharedTableNameKit.toTagged("tableName");static Enum=N.SharedTableNameKit.Enum;static Options=N.SharedTableNameKit.Options;static is=N.SharedTableNameKit.is}N.SharedTableName=O;var P=c||(c={});P.IamTableNameKit=d.BS.stringLiteralKit(o.tableName,p.tableName,q.tableName,r.tableName,s.tableName,t.tableName,u.tableName,v.tableName,w.tableName,x.tableName,y.tableName,z.tableName,A.tableName,B.tableName,C.tableName,D.tableName,E.tableName,F.tableName,G.tableName);class Q extends P.IamTableNameKit.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/IamTableName"),description:"The set of table_names for entityIds within the iam domain slice",identifier:"IamTableName",title:"Iam Table Name"}){static Tagged=P.IamTableNameKit.toTagged("tableName");static Enum=P.IamTableNameKit.Enum;static Options=P.IamTableNameKit.Options;static is=P.IamTableNameKit.is}P.IamTableName=Q;let R=d.BS.stringLiteralKit(...c.IamTableNameKit.Options,...b.SharedTableNameKit.Options);class S extends R.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/AnyTableName"),description:"The set of table_names for entityIds within the shared-kernel and iam domain slices",identifier:"AnyTableName",title:"Any Table Name"}){static Tagged=R.toTagged("tableName");static Enum=R.Enum;static Options=R.Options}a.s(["AnyTableName",()=>S,"AnyTableNameKit",0,R,"IamTableNames",()=>c,"SharedTableNames",()=>b],70295);class T extends k.Class("AuditLogModel")(i(K,{entityKind:S,entityId:M,action:l.String,userSessionId:j.BS.FieldOptionOmittable(y),userId:L,userEmail:k.Sensitive(j.BS.Email.annotations({description:"The user's email address"})),userIp:j.BS.FieldOptionOmittable(j.BS.IP),oldValues:j.BS.FieldOptionOmittable(j.BS.Json),oldValuesJson:j.BS.FieldOptionOmittable(j.BS.Json),newValues:j.BS.FieldOptionOmittable(j.BS.Json),newValuesJson:j.BS.FieldOptionOmittable(j.BS.Json),metadataJson:j.BS.FieldOptionOmittable(j.BS.Json),metadata:j.BS.FieldOptionOmittable(j.BS.Json)})){}a.s(["Model",()=>T],273697),a.s([],74767);var U=e;let V=d.BS.stringLiteralKit(...c.IamTableNameKit.Options,...b.SharedTableNameKit.Options);class W extends V.Schema.annotations({schemaId:Symbol.for("@beep/shared-domain/EntityKind"),description:"The set of entity_kinds for entityIds within the shared-kernel",title:"Entity Kind",identifier:"EntityKind"}){static Tagged=V.toTagged("__entityKind");static Options=V.Options;static Enum=V.Enum;static is=V.is}a.s(["EntityKind",()=>W,"EntityKindKit",0,V],482984);var n=n;let X=n.make("inventory",{brand:"InventoryId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/InventoryId"),description:"A unique identifier for an inventory"}}),Y=n.make("item",{brand:"ItemId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/ItemId"),description:"A unique identifier for an item"}}),Z=n.make("location",{brand:"LocationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/LocationId"),description:"A unique identifier for a location"}}),$=n.make("order",{brand:"OrderId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/OrderId"),description:"A unique identifier for an order"}}),_=n.make("uom",{brand:"UomId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/UomId"),description:"A unique identifier for a uom"}}),aa=n.make("warehouse",{brand:"WarehouseId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/WarehouseId"),description:"A unique identifier for a warehouse"}}),ab=n.make("work",{brand:"WorkId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/WorkId"),description:"A unique identifier for a work"}});a.s(["InventoryId",0,X,"ItemId",0,Y,"LocationId",0,Z,"OrderId",0,$,"UomId",0,_,"WarehouseId",0,aa,"WorkId",0,ab],65182),a.s([],335013),a.i(335013),a.i(777582),a.i(482984);var ac=a.i(833175),ad=a.i(429125);a.i(70295),a.i(65182),a.s(["IamEntityIds",0,ac,"SharedEntityIds",0,ad],763728);var ad=ad;class ae extends U.Class("FileModel")(i(ad.FileId,{organizationId:ad.OrganizationId})){}a.s(["Model",()=>ae],738263),a.i(963081);var af=a.i(778087),ag=d,ah=a.i(437566),ai=a.i(649246),aj=a.i(258521),ak=a.i(357102),al=f,ad=ad,am=d;a.i(545050);var an=a.i(61653),ao=a.i(591177),ap=e,aq=f,ad=ad;let ar=d.BS.stringLiteralKit("individual","team","enterprise"),as=ar.toPgEnum,at=ar.Enum,au=ar.Options;class av extends ar.Schema.annotations({schemaId:Symbol.for("@beep/shared-domain/Organization/schemas/OrganizationType"),identifier:"OrganizationType",title:"Organization Type",description:"The type of organization (individual, team, enterprise)"}){static Options=ar.Options;static Enum=ar.Enum}a.s(["OrganizationType",()=>av,"OrganizationTypeEnum",0,at,"OrganizationTypeOptions",0,au,"makeOrganizationTypePgEnum",0,as,"organizationTypeKit",0,ar],226231);let aw=d.BS.stringLiteralKit("active","canceled"),ax=aw.toPgEnum,ay=aw.Enum,az=aw.Options;class aA extends aw.Schema{static Options=aw.Options;static Enum=aw.Enum}a.s(["SubscriptionStatus",()=>aA,"SubscriptionStatusEnum",0,ay,"SubscriptionStatusOptions",0,az,"makeSubscriptionStatusPgEnum",0,ax],247280);let aB=d.BS.stringLiteralKit("free","plus","pro","enterprise"),aC=aB.toPgEnum,aD=aB.Enum,aE=aB.Options;class aF extends aB.Schema{static Options=aB.Options;static Enum=aB.Enum}a.s(["SubscriptionTier",()=>aF,"SubscriptionTierEnum",0,aD,"SubscriptionTierOptions",0,aE,"makeSubscriptionTierPgEnum",0,aC],582966),a.s([],555590);let aG=Symbol.for("@beep/shared-domain/OrganizationModel");class aH extends ap.Class("OrganizationModel")(i(ad.OrganizationId,{name:aq.NonEmptyString.annotations({description:"The organization's display name"}),slug:an.Slug.pipe(aq.pattern(/^[a-z0-9]+(?:-[a-z0-9]+)*$/),aq.minLength(2),aq.maxLength(50)).annotations({description:"URL-friendly identifier for the organization"}),logo:am.BS.FieldOptionOmittable(ao.Url.annotations({description:"URL to the organization's logo"})),metadata:am.BS.FieldOptionOmittable(aq.String.annotations({description:"JSON metadata for additional organization data"})),type:am.BS.toOptionalWithDefault(av)(at.individual).annotations({description:"The type of the organization"}),ownerUserId:ad.UserId.annotations({description:"The owner of the organization"}),isPersonal:am.BS.BoolFalse.annotations({description:"Whether this organization is auto-created for a user"}),maxMembers:am.BS.FieldOptionOmittable(aq.NonNegativeInt.annotations({description:"The maximum number of members allowed in the organization"})),features:am.BS.FieldOptionOmittable(am.BS.Json),settings:am.BS.FieldOptionOmittable(am.BS.Json),subscriptionTier:am.BS.toOptionalWithDefault(aF)(aF.Enum.free).annotations({description:"The subscription tier of the organization"}),subscriptionStatus:am.BS.toOptionalWithDefault(aA)(aA.Enum.active).annotations({description:"The subscription status of the organization"})}),{title:"Organization Model",description:"Organization model representing organizations.",schemaId:aG}){}a.s(["Model",()=>aH,"OrganizationModelSchemaId",0,aG],404269),a.s([],15385);class aI extends al.String.annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefixEncoded"),identifier:"ShardPrefixEncoded",title:"Shard Prefix Encoded",description:"Raw string representation of a two-character hexadecimal shard prefix for S3 load distribution. Used to distribute files across S3 prefixes to prevent hotspotting.",examples:["a1","f3","00","ff","2b"]}){}class aJ extends al.NonEmptyTrimmedString.pipe(al.pattern(ag.BS.Regex.make(/^[0-9a-f]{2}$/i)),al.brand("ShardPrefixDecoded")).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefixDecoded"),identifier:"ShardPrefixDecoded",title:"Shard Prefix Decoded",description:"Validated two-character hexadecimal shard prefix with branded type safety. Ensures proper format (exactly 2 hex characters) for consistent S3 load distribution.",examples:[ag.BS.makeBranded("a1"),ag.BS.makeBranded("F3"),ag.BS.makeBranded("00"),ag.BS.makeBranded("ff"),ag.BS.makeBranded("2B")]}){}class aK extends al.transformOrFail(aI,aJ,{strict:!0,decode:(a,b,c)=>ak.try({try:()=>ak.decodeUnknownSync(aJ)(a),catch:()=>new ak.Type(c,a,"Invalid shard prefix format: must be exactly 2 hexadecimal characters")}),encode:(a,b,c)=>ak.try({try:()=>ak.decodeUnknownSync(aI)(a),catch:()=>new ak.Type(c,a,"Failed to encode shard prefix to string representation")})}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefix"),identifier:"ShardPrefix",title:"Shard Prefix Transformation",description:"Bidirectional transformation for shard prefixes with validation. Converts between raw strings and validated branded types while ensuring proper hexadecimal format for S3 load distribution."}){static fromFileId=a=>{let b=Math.abs(aj.string(a)).toString(16).slice(0,2).padStart(2,"0");return ak.decodeSync(aK)(b)}}let aL=["/",af.EnvValue,"/","tenants","/",aI,"/",av,"/",al.encodedSchema(ad.OrganizationId),"/",al.String,"/",al.String,"/",al.String,"/",ag.BS.YearEncoded,"/",ag.BS.MonthNumber,"/",al.encodedSchema(ad.FileId),".",al.String];class aM extends al.TemplateLiteral(...aL).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathEncoded"),identifier:"UploadPathEncoded",title:"Upload Path Encoded",description:"Complete S3 object key as a string following the standardized upload path format: /{env}/tenants/{shard}/{orgType}/{orgId}/{entityKind}/{entityId}/{attribute}/{year}/{month}/{fileId}.{ext}"}){}let aN=al.TemplateLiteralParser(...aL).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathParser"),identifier:"UploadPathParser",title:"Upload Path Parser",description:"Bidirectional parser for upload path strings. Converts between string paths and typed component arrays, validating each segment according to its schema definition."}),aO=ag.BS.Struct({env:af.EnvValue,fileId:ad.FileId,organizationType:av,organizationId:ad.OrganizationId,entityKind:W,entityIdentifier:M,entityAttribute:al.String,fileItemExtension:ag.BS.FileExtension}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathDecoded"),identifier:"UploadPathDecoded",title:"Upload Path Decoded Structure",description:"Structured data representation for upload paths. Contains all user-provided components needed to generate S3 paths. System automatically injects timestamp and shard prefix during encoding.",examples:[{env:"dev",fileId:ad.FileId.make("file__12345678-1234-1234-1234-123456789012"),organizationType:"individual",organizationId:ad.OrganizationId.make("organization__87654321-4321-4321-4321-210987654321"),entityKind:"user",entityIdentifier:ad.UserId.make("user__12345678-1234-1234-1234-123456789012"),entityAttribute:"avatar",fileItemExtension:"jpg"}]});class aP extends al.transformOrFail(aO,aM,{strict:!0,decode:(a,b,c)=>{let d=ah.now.pipe(ai.flatMap(b=>ai.flatMap(ai.all([ai.succeed(b),ai.succeed(aK.fromFileId(a.fileId)),al.encode(ag.BS.FileExtension)(a.fileItemExtension),al.decode(ag.BS.MonthNumberFromMonthInt)(ah.getPartUtc(b,"month"))]),([b,c,d,e])=>ai.flatMap(al.encode(aN)(["/",a.env,"/","tenants","/",c,"/",a.organizationType,"/",a.organizationId,"/",a.entityKind,"/",a.entityIdentifier,"/",a.entityAttribute,"/",ah.getPartUtc(b,"year"),"/",e,"/",a.fileId,".",d]),a=>al.decode(aM)(a)))));return ai.try({try:()=>ai.runSync(d),catch:b=>new ak.Type(c,a,`Invalid upload path: ${b}`)})},encode:(a,b,c)=>{let d=ai.flatMap(al.decode(aN)(a),a=>ai.flatMap(ai.all([ai.succeed(a[1]),ai.succeed(a[7]),al.decodeUnknown(ad.OrganizationId)(a[9]),al.decodeUnknown(W)(a[11]),al.decodeUnknown(M)(a[13]),ai.succeed(a[15]),al.decodeUnknown(ad.FileId)(a[21]),al.decodeUnknown(ag.BS.FileExtension)(a[23])]),([a,b,c,d,e,f,g,h])=>al.decode(aO)({env:a,fileId:g,organizationType:b,organizationId:c,entityKind:d,entityIdentifier:e,entityAttribute:f,fileItemExtension:h})));return ai.try({try:()=>ai.runSync(d),catch:b=>new ak.Type(c,a,`Failed to parse upload path: ${b}`)})}}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPath"),identifier:"UploadPath",title:"Upload Path Transformation",description:"Complete bidirectional transformation system for S3 upload paths. Handles conversion between structured upload data and S3 object keys with automatic timestamp injection, shard generation, and comprehensive validation. Ensures consistent path format across all file operations.",documentation:"Automatic shard prefix generation using fileId hash for load distribution\n- Current timestamp injection (year/month) for temporal organization\n- Comprehensive validation of all path components and format\n- Type-safe transformations with Effect-based error handling\n- Supports all entity types: organization, user, team\n- Compatible with all environments: dev, staging, prod"}){}a.s(["ShardPrefix",()=>aK,"ShardPrefixDecoded",()=>aJ,"ShardPrefixEncoded",()=>aI,"UploadPath",()=>aP,"UploadPathDecoded",0,aO,"UploadPathEncoded",()=>aM,"UploadPathParser",0,aN],821993),a.s([],277298),a.s([],294474);var aQ=d,aR=e,aS=f,ad=ad;let aT=Symbol.for("@beep/shared-domain/TeamModel");class aU extends aR.Class("TeamModel")(i(ad.TeamId,{name:aS.NonEmptyString.annotations({description:"The team's name"}),description:aQ.BS.FieldOptionOmittable(aS.String.annotations({description:"Description of the team's purpose"})),slug:aQ.BS.Slug.annotations({description:"URL-friendly team identifier"}),metadata:aQ.BS.FieldOptionOmittable(aS.String.annotations({description:"JSON metadata for additional team data"}))}),{title:"Team Model",description:"Team model representing teams within organizations.",schemaId:aT}){}a.s(["Model",()=>aU,"TeamModelSchemaId",0,aT],186500),a.s([],555661);let aV=d.BS.stringLiteralKit("male","female"),aW=aV.Enum,aX=aV.toPgEnum,aY=aV.Options;class aZ extends aV.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/User/UserGender"),identifier:"UserGender",title:"User Gender",description:"The user's role in the system"}){static Options=aV.Options;static Enum=aV.Enum;static DropDownOptions=aV.Options.map(a=>({label:a,value:a}))}a.s(["UserGender",()=>aZ,"UserGenderEnum",0,aW,"UserGenderKit",0,aV,"UserGenderOptions",0,aY,"makeUserGenderPgEnum",0,aX],50074);let a$=d.BS.stringLiteralKit("admin","super_admin","user","tenant","guest"),a_=a$.Enum,a0=a$.toPgEnum,a1=a$.Options;class a2 extends a$.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/User/UserRole"),identifier:"UserRole",title:"User Role",description:"The user's role in the system"}){static Options=a$.Options;static Enum=a$.Enum}a.s(["UserRole",()=>a2,"UserRoleEnum",0,a_,"UserRoleKit",0,a$,"UserRoleOptions",0,a1,"makeUserRolePgEnum",0,a0],49102),a.s([],443256);var a3=d,a4=e,a5=f,ad=ad;class a6 extends a4.Class("UserModel")(i(ad.UserId,{name:a5.NonEmptyString.annotations({description:"The user's display name"}),email:a3.BS.Email.annotations({description:"The user's email address"}),emailVerified:a3.BS.BoolWithDefault(!1),image:a3.BS.FieldOptionOmittable(a5.String.pipe(a5.pattern(/^https?:\/\/.+/)).annotations({description:"URL to the user's profile image"})),role:a3.BS.toOptionalWithDefault(a2)(a2.Enum.user).annotations({description:"The user's role in the system"}),gender:a3.BS.toOptionalWithDefault(aZ)(aZ.Enum.male).annotations({description:"The user's gender"}),banned:a3.BS.BoolWithDefault(!1).annotations({description:"Whether the user is currently banned"}),banReason:a3.BS.FieldOptionOmittable(a5.NonEmptyString.annotations({description:"Reason why the user was banned"})),banExpires:a3.BS.FieldOptionOmittable(a3.BS.DateTimeFromDate({description:"When the user's ban expires"})),isAnonymous:a3.BS.BoolWithDefault(!1).annotations({description:"Whether this user is anonymous (guest user)"}),phoneNumber:a3.BS.FieldOptionOmittable(a3.BS.Phone.annotations({description:"The user's phone number"})),phoneNumberVerified:a3.BS.BoolWithDefault(!1).annotations({description:"Whether the user's phone number has been verified"}),twoFactorEnabled:a3.BS.BoolWithDefault(!1).annotations({description:"Whether two-factor authentication is enabled for this user"}),username:a3.BS.FieldOptionOmittable(a5.NonEmptyTrimmedString.pipe(a5.lowercased()).annotations({description:"The user's username"})),displayUsername:a3.BS.FieldOptionOmittable(a5.NonEmptyTrimmedString.annotations({description:"The user's display name"})),stripeCustomerId:a3.BS.FieldOptionOmittable(a5.NonEmptyString.annotations({description:"Stripe customer ID for billing integration"})),lastLoginMethod:a3.BS.FieldOptionOmittable(a5.NonEmptyString.annotations({description:"The user's last login method"}))}),{title:"User Model",description:"User model representing application users with authentication and profile data.",schemaId:Symbol.for("@beep/iam-domain/UserModel")}){}a.s(["Model",()=>a6],702018);var a7=d,a8=a.i(852845);class a9 extends a7.BS.Class("NewUser")(a6.insert.pick("email","name","username","phoneNumber","gender","displayUsername"),{schemaId:Symbol.for("@beep/iam-domain/User/NewUser"),title:"New User",description:"The shape of a new user"}){static create=a=>a6.insert.make({email:a.email,name:a.name,username:a.username,phoneNumber:a.phoneNumber,gender:a.gender,displayUsername:a.displayUsername,emailVerified:!1,phoneNumberVerified:!1,banned:!1,createdBy:a8.some("system"),updatedBy:a8.some("system"),source:a8.some("sign-up")})}a.s(["NewUser",()=>a9],662605),a.s([],451684),a.s([],967811),a.s([],279030),a.i(53143);var ba=a.i(496673),bb=a.i(676736);let bc=ba.PathBuilder.createRoot("/auth"),bd=bc.child("sign-in"),be=bc.child("sign-up"),bf=bc.child("update-password"),bg=bc.child("request-reset-password"),bh=bc.child("reset-password"),bi=bc.child("verify-email"),bj=bc.child("verify-phone"),bk=bj.child("resend"),bl=bc.child("accept-invitation"),bm=bc.child("passkey"),bn=bm.child("manage"),bo=bm.child("register"),bp=bc.child("anonymous"),bq=bp.child("upgrade"),br=bc.child("sign-out"),bs=bc.child("one-time-token"),bt=bs.child("generate"),bu=bs.child("verify"),bv=bc.child("siwe"),bw=bv.child("connect"),bx=bv.child("verify"),by=bc.child("oauth"),bz=by.child("callback"),bA=by.child("success"),bB=by.child("error"),bC=by.child("complete"),bD=by.child("link"),bE=bc.child("callback"),bF=bc.child("status"),bG=bc.child("success"),bH=bc.child("failure"),bI=bc.child("two-factor"),bJ=bI.child("challenge"),bK=bI.child("otp"),bL=bI.child("totp"),bM=bI.child("recovery"),bN=bI.child("backup-codes"),bO=bI.child("devices"),bP=bc.child("device"),bQ=bP.child("start"),bR=bP.child("poll"),bS=bP.child("verify"),bT=bP.child("status"),bU=ba.PathBuilder.createRoot("/dashboard"),bV=bU.child("billing"),bW=bV.child("subscribe"),bX=bV.child("portal"),bY=bV.child("success"),bZ=bV.child("cancel"),b$=bV.child("history"),b_=bU.child("security"),b0=b_.child("sessions"),b1=b_.child("devices"),b2=b_.child("passkeys"),b3=b_.child("two-factor"),b4=b_.child("recovery-codes"),b5=b_.child("jwt"),b6=bU.child("api-keys"),b7=b6.child("new"),b8=bU.child("admin"),b9=b8.child("users"),ca=b8.child("sso"),cb=b8.child("oidc"),cc=b8.child("permissions"),cd=b8.child("oauth-clients"),ce=bU.child("user"),cf=bU.child("file-manager"),cg=ba.PathBuilder.createRoot("/oauth2"),ch=cg.child("authorize"),ci=cg.child("consent"),cj=cg.child("register"),ck=cg.child("userinfo"),cl=cg.child("clients"),cm=ba.PathBuilder.createRoot("/api"),cn=cm.child("auth"),co=cn.child("jwks"),cp=cn.child("device"),cq=cm.child("oauth2"),cr=cq.child("authorize"),cs=cq.child("token"),ct=cq.child("userinfo"),cu=cq.child("register"),cv=cq.child("client"),cw=ba.PathBuilder.collection({root:"/",comingSoon:"/coming-soon",maintenance:"/maintenance",pricing:"/pricing",payment:"/payment",about:"/about-us",contact:"/contact-us",faqs:"/faqs",terms:"/terms",privacy:"/privacy-policy",auth:{signIn:bd.root,signUp:be.root,signOut:br.root,updatePassword:bf.root,requestResetPassword:bg.root,resetPassword:bh.root,status:bF.root,success:bG.root,failure:bH.root,callback:bE.root,verification:{email:bb.pipe(bi,a=>({root:a.root,verify:b=>ba.PathBuilder.dynamicQueries(a.root)({token:b}),callback:(b,c)=>ba.PathBuilder.dynamicQueries(a.root)({token:b,callbackURL:c}),error:b=>ba.PathBuilder.dynamicQueries(a.root)({error:b}),status:b=>ba.PathBuilder.dynamicQueries(a.root)({status:b})})),phone:bb.pipe(bj,a=>({root:a.root,verify:b=>ba.PathBuilder.dynamicQueries(a.root)({code:b}),withStatus:b=>ba.PathBuilder.dynamicQueries(a.root)({status:b}),error:b=>ba.PathBuilder.dynamicQueries(a.root)({error:b}),resend:bk.root}))},twoFactor:bb.pipe(bI,a=>({root:a.root,challenge:bb.pipe(bJ,a=>({root:a.root,withToken:b=>ba.PathBuilder.dynamicQueries(a.root)({token:b}),trustedDevice:b=>ba.PathBuilder.dynamicQueries(a.root)({token:b,trustDevice:"true"})})),otp:bb.pipe(bK,a=>({root:a.root,withStatus:b=>ba.PathBuilder.dynamicQueries(a.root)({status:b}),error:b=>ba.PathBuilder.dynamicQueries(a.root)({error:b})})),totp:bb.pipe(bL,a=>({root:a.root,withState:b=>ba.PathBuilder.dynamicQueries(a.root)({state:b}),error:b=>ba.PathBuilder.dynamicQueries(a.root)({error:b})})),recovery:bb.pipe(bM,a=>({root:a.root,verify:a("verify"),withToken:b=>ba.PathBuilder.dynamicQueries(a.root)({token:b})})),backupCodes:{root:bN.root},devices:{root:bO.root}})),acceptInvitation:bl.root,device:{root:bP.root,start:bQ.root,poll:bR.root,status:bT.root,verify:bS.root,approve:bP("approve"),denied:bP("denied"),success:bP("success"),withUserCode:a=>ba.PathBuilder.dynamicQueries(bP.root)({userCode:a})},passkey:bm.root,anonymous:bp.root,oauth:by.root,oneTimeToken:bs.root,siwe:bv.root,routes:{signIn:bb.pipe(bd,a=>({root:a.root,withCallback:b=>ba.PathBuilder.dynamicQueries(a.root)({callbackURL:b}),withMethod:b=>ba.PathBuilder.dynamicQueries(a.root)({method:b}),withCallbackAndMethod:(b,c)=>ba.PathBuilder.dynamicQueries(a.root)({callbackURL:b,method:c}),withError:b=>ba.PathBuilder.dynamicQueries(a.root)({error:b}),withState:b=>ba.PathBuilder.dynamicQueries(a.root)({state:b})})),signUp:bb.pipe(be,a=>({root:a.root,withCallback:b=>ba.PathBuilder.dynamicQueries(a.root)({callbackURL:b}),withMethod:b=>ba.PathBuilder.dynamicQueries(a.root)({method:b}),withPlan:b=>ba.PathBuilder.dynamicQueries(a.root)({plan:b}),withSource:b=>ba.PathBuilder.dynamicQueries(a.root)({source:b})})),requestResetPassword:bb.pipe(bg,a=>({root:a.root,withStatus:b=>ba.PathBuilder.dynamicQueries(a.root)({status:b}),withEmail:b=>ba.PathBuilder.dynamicQueries(a.root)({email:b})})),resetPassword:bb.pipe(bh,a=>({root:a.root,withToken:b=>ba.PathBuilder.dynamicQueries(a.root)({token:b}),withTokenAndStatus:(b,c)=>ba.PathBuilder.dynamicQueries(a.root)({token:b,status:c}),withTokenAndError:(b,c)=>ba.PathBuilder.dynamicQueries(a.root)({token:b,error:c}),withTokenAndCallback:(b,c)=>ba.PathBuilder.dynamicQueries(a.root)({token:b,callbackURL:c})})),acceptInvitation:bb.pipe(bl,a=>({root:a.root,token:ba.PathBuilder.dynamicPath(a.root),withStatus:b=>ba.PathBuilder.dynamicQueries(a.root)({status:b})})),oauth:{root:by.root,callback:bz.root,success:bA.root,error:bB.root,complete:bC.root,link:bD.root,withState:a=>ba.PathBuilder.dynamicQueries(by.root)({state:a}),provider:bb.flow(a=>by.child(a),a=>({root:a.root,callback:a("callback"),link:a("link"),complete:a("complete"),error:a("error")}))},passkey:bb.pipe(bm,a=>({root:a.root,manage:bn.root,register:bo.root,withState:b=>ba.PathBuilder.dynamicQueries(a.root)({state:b}),withError:b=>ba.PathBuilder.dynamicQueries(a.root)({error:b})})),anonymous:bb.pipe(bp,a=>({root:a.root,upgrade:bq.root,withCallback:b=>ba.PathBuilder.dynamicQueries(a.root)({callbackURL:b})})),oneTimeToken:bb.pipe(bs,a=>({root:a.root,generate:bt.root,verify:bu.root,withToken:a=>ba.PathBuilder.dynamicQueries(bu.root)({token:a}),withStatus:b=>ba.PathBuilder.dynamicQueries(a.root)({status:b})})),siwe:bb.pipe(bv,a=>({root:a.root,connect:bw.root,verify:bx.root,withRedirect:b=>ba.PathBuilder.dynamicQueries(a.root)({redirect:b})}))}},settings:{root:"/settings"},admin:{root:"/admin"},organizations:{root:"/organizations",...bb.flow(a=>ba.PathBuilder.createRoot("/organizations").child(a),a=>({root:a.root,edit:a("edit"),members:a("members"),settings:a("settings"),billing:a("billing"),invitations:a("invitations"),security:a("security")}))},account:bb.flow(a=>ba.PathBuilder.createRoot("/account").child(a),a=>({root:a.root,edit:a("edit"),security:a("security"),preferences:a("preferences"),notifications:a("notifications"),sessions:a("sessions"),devices:a("devices"),apiKeys:a("api-keys"),passkeys:a("passkeys"),twoFactor:a("two-factor"),recoveryCodes:a("recovery-codes"),jwt:a("jwt")})),fileManager:{root:cf.root},dashboard:{root:bU.root,user:{root:ce.root,account:ce("account"),edit:a=>ce.child(a)("edit")},security:{root:b_.root,sessions:b0.root,devices:b1.root,passkeys:b2.root,twoFactor:b3.root,recoveryCodes:b4.root,jwt:b5.root},billing:{root:bV.root,subscribe:bW.root,portal:bX.root,success:bY.root,cancel:bZ.root,history:b$.root},apiKeys:{root:b6.root,create:b7.root,detail:bb.flow(a=>b6.child(a),a=>({root:a.root,edit:a("edit"),rotate:a("rotate")}))},admin:{root:b8.root,permissions:cc.root,users:{root:b9.root,create:b9("create"),detail:bb.flow(a=>b9.child(a),a=>({root:a.root,edit:a("edit"),sessions:a("sessions"),impersonate:a("impersonate"),revokeSession:a("revoke-session"),revokeSessions:a("revoke-sessions"),ban:a("ban"),unban:a("unban"),permissions:a("permissions")}))},sso:{root:ca.root,create:ca("new"),provider:bb.flow(a=>ca.child(a),a=>({root:a.root,settings:a("settings"),delete:a("delete")}))},oidc:{root:cb.root,register:cb("register"),client:bb.flow(a=>cb.child(a),a=>({root:a.root,edit:a("edit"),secrets:a("secrets")}))},oauthClients:{root:cd.root,client:bb.flow(a=>cd.child(a),a=>({root:a.root,revoke:a("revoke")}))}}},oauth2:{root:cg.root,authorize:ch.root,consent:ci.root,register:cj.root,userinfo:ck.root,clients:{root:cl.root,client:bb.flow(a=>cl.child(a),a=>({root:a.root,edit:a("edit"),secrets:a("secrets")}))}},api:{root:cm.root,auth:{root:cn.root,jwks:co.root,device:{root:cp.root}},oauth2:{root:cq.root,authorize:cr.root,token:cs.root,userinfo:ct.root,register:cu.root,client:bb.flow(a=>cv.child(a),a=>({root:a.root}))}}});a.s(["paths",0,cw],164166),a.s([],569411)}];

//# sourceMappingURL=packages_shared_domain_src_index_ts_4349418f._.js.map