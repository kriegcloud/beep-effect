(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,895908,e=>{e.v(e.b(["static/chunks/3ee7248882b8d396.js","static/chunks/bbbb74bfae2059ad.js","static/chunks/ab6cde992b7d0622.js","static/chunks/fa2fae18f9161ec0.js","static/chunks/a184cbff32ba899e.js","static/chunks/d5ce2c82be1cb30d.js","static/chunks/11affdc2a94d3c14.js","static/chunks/turbopack-25f6dfb07ced4b85.js"]))},149605,e=>{"use strict";var t=e.i(632488),r=e.i(741140),n=e.i(405763),o=e.i(878753),i=e.i(980914),s=e.i(660421),a=e.i(954616),u=e.i(915838),l=e.i(874068),c=e.i(167256),p=e.i(886999),d=r,m=e.i(284445),f=e.i(532102),h=u,g=e.i(576914),y=p,b=e.i(862409);e.i(681830);var v=e.i(625290),S=e.i(449969),x=e.i(63074),w=e.i(519479),O=e.i(916142),T=e.i(552452);let _=Symbol.for("effect/Pool"),N={_E:e=>e,_A:e=>e},E=e=>S.uninterruptibleMask(t=>S.flatMap(S.context(),r=>{let n=d.get(r,O.scopeTag),o=new I(n,S.mapInputContext(e.acquire,e=>d.merge(r,e)),e.concurrency??1,e.min,e.max,e.strategy,Math.min(Math.max(e.targetUtilization??1,.1),1)),i=S.tap(O.forkDaemon(t(o.resize)),e=>n.addFinalizer(()=>S.interruptFiber(e))),s=S.tap(O.forkDaemon(t(e.strategy.run(o))),e=>n.addFinalizer(()=>S.interruptFiber(e)));return S.succeed(o).pipe(S.zipLeft(n.addFinalizer(()=>o.shutdown)),S.zipLeft(i),S.zipLeft(s))})),P=e=>E({...e,min:e.size,max:e.size,strategy:U()}),A=e=>S.flatMap("creation"===e.timeToLiveStrategy?k(e.timeToLive):L(e.timeToLive),t=>E({...e,strategy:t}));class I extends f.Class{scope;acquire;concurrency;minSize;maxSize;strategy;targetUtilization;[_];isShuttingDown=!1;semaphore;items=new Set;available=new Set;availableLatch=w.unsafeMakeLatch(!1);invalidated=new Set;waiters=0;constructor(e,t,r,n,o,i,s){super(),this.scope=e,this.acquire=t,this.concurrency=r,this.minSize=n,this.maxSize=o,this.strategy=i,this.targetUtilization=s,this[_]=N,this.semaphore=w.unsafeMakeSemaphore(r*o)}allocate=S.acquireUseRelease(O.scopeMake(),e=>this.acquire.pipe(O.scopeExtend(e),S.exit,S.flatMap(t=>{let r={exit:t,finalizer:S.catchAllCause(e.close(t),R),refCount:0,disableReclaim:!1};return this.items.add(r),this.available.add(r),S.as("Success"===t._tag?this.strategy.onAcquire(r):S.zipRight(r.finalizer,this.strategy.onAcquire(r)),r)})),(e,t)=>"Failure"===t._tag?e.close(t):S.void);get currentUsage(){let e=this.waiters;for(let t of this.items)e+=t.refCount;return e}get targetSize(){if(this.isShuttingDown)return 0;let e=Math.ceil(this.currentUsage/this.targetUtilization/this.concurrency);return Math.min(Math.max(this.minSize,e),this.maxSize)}get activeSize(){return this.items.size-this.invalidated.size}resizeLoop=S.suspend(()=>{if(this.activeSize>=this.targetSize)return S.void;let e=this.targetSize-this.activeSize;return this.strategy.reclaim(this).pipe(S.flatMap(y.match({onNone:()=>this.allocate,onSome:S.succeed})),O.replicateEffect(e,{concurrency:e}),S.zipLeft(this.availableLatch.open),S.flatMap(e=>e.some(e=>"Failure"===e.exit._tag)?S.void:this.resizeLoop))});resizeSemaphore=w.unsafeMakeSemaphore(1);resize=this.resizeSemaphore.withPermits(1)(this.resizeLoop);getPoolItem=S.uninterruptibleMask(e=>e(this.semaphore.take(1)).pipe(S.zipRight(O.scopeTag),S.flatMap(e=>S.suspend(()=>{if(this.waiters++,this.isShuttingDown)return S.interrupt;if(this.targetSize>this.activeSize){let e=this;return S.flatMap(this.resizeSemaphore.withPermitsIfAvailable(1)(w.forkIn(S.interruptible(this.resize),this.scope)),function t(){return e.isShuttingDown?S.interrupt:e.available.size>0?S.succeed(g.unsafeHead(e.available)):(e.availableLatch.unsafeClose(),S.flatMap(e.availableLatch.await,t))})}return S.succeed(g.unsafeHead(this.available))}).pipe(O.ensuring(S.sync(()=>this.waiters--)),S.tap(t=>"Failure"===t.exit._tag?(this.items.delete(t),this.invalidated.delete(t),this.available.delete(t),this.semaphore.release(1)):(t.refCount++,this.available.delete(t),t.refCount<this.concurrency&&this.available.add(t),e.addFinalizer(()=>S.zipRight(S.suspend(()=>(t.refCount--,this.invalidated.has(t))?this.invalidatePoolItem(t):(this.available.add(t),S.exitVoid)),this.semaphore.release(1))))),S.onInterrupt(()=>this.semaphore.release(1))))));commit(){return this.get}get=S.flatMap(S.suspend(()=>this.isShuttingDown?S.interrupt:this.getPoolItem),e=>e.exit);invalidate(e){return S.suspend(()=>{if(this.isShuttingDown)return S.void;for(let t of this.items)if("Success"===t.exit._tag&&t.exit.value===e)return t.disableReclaim=!0,S.uninterruptible(this.invalidatePoolItem(t));return S.void})}invalidatePoolItem(e){return S.suspend(()=>this.items.has(e)?0===e.refCount?(this.items.delete(e),this.available.delete(e),this.invalidated.delete(e),S.zipRight(e.finalizer,w.forkIn(S.interruptible(this.resize),this.scope))):(this.invalidated.add(e),this.available.delete(e),S.void):S.void)}get shutdown(){return S.suspend(()=>{if(this.isShuttingDown)return S.void;this.isShuttingDown=!0;let e=this.items.size,t=w.unsafeMakeSemaphore(e);return S.forEachSequentialDiscard(this.items,e=>e.refCount>0?(e.finalizer=S.zipLeft(e.finalizer,t.release(1)),this.invalidated.add(e),t.take(1)):(this.items.delete(e),this.available.delete(e),this.invalidated.delete(e),e.finalizer)).pipe(S.zipRight(this.semaphore.releaseAll),S.zipRight(this.availableLatch.open),S.zipRight(t.take(e)))})}pipe(){return(0,b.pipeArguments)(this,arguments)}}let U=()=>({run:e=>S.void,onAcquire:e=>S.void,reclaim:e=>v.succeedNone}),k=e=>x.clockWith(t=>S.map(T.unbounded(),r=>{let n=m.toMillis(e),o=new WeakMap;return(0,h.identity)({run:e=>{let i=r=>S.suspend(()=>{if(!e.items.has(r)||e.invalidated.has(r))return S.void;let s=n-(t.unsafeCurrentTimeMillis()-o.get(r));return s>0?v.delay(i(r),s):e.invalidatePoolItem(r)});return r.take.pipe(S.tap(i),v.forever)},onAcquire:e=>S.suspend(()=>(o.set(e,t.unsafeCurrentTimeMillis()),r.offer(e))),reclaim:e=>v.succeedNone})})),L=e=>S.map(T.unbounded(),t=>(0,h.identity)({run:r=>{let n=S.suspend(()=>r.activeSize-r.targetSize<=0?S.void:t.take.pipe(S.tap(e=>r.invalidatePoolItem(e)),S.zipRight(n)));return n.pipe(v.delay(e),v.forever)},onAcquire:e=>t.offer(e),reclaim:e=>S.suspend(()=>{if(0===e.invalidated.size)return v.succeedNone;let r=g.head(g.filter(e.invalidated,e=>!e.disableReclaim));return"None"===r._tag?v.succeedNone:(e.invalidated.delete(r.value),r.value.refCount<e.concurrency&&e.available.add(r.value),S.as(t.offer(r.value),r))})})),R=e=>S.withFiberRuntime(t=>{let r=t.getFiberRef(S.currentUnhandledErrorLogLevel);return"Some"===r._tag&&t.log("Unhandled error in pool finalizer",e,r),S.void}),j=P,M=A;var C=e.i(717729),V=e.i(213029),D=e.i(277233),B=e.i(797734),z=e.i(788339),F=e.i(732366),q=e.i(121501),G=e.i(514423);let K=Symbol.for("@effect/platform/Worker/PlatformWorker"),H=r.GenericTag("@effect/platform/Worker/PlatformWorker"),$=Symbol.for("@effect/platform/Worker/WorkerManager"),W=r.GenericTag("@effect/platform/Worker/WorkerManager"),J=r.GenericTag("@effect/platform/Worker/Spawner"),Y=o.gen(function*(){let e=yield*H,a=0;return W.of({[$]:$,spawn:({encode:u,initialMessage:l})=>o.gen(function*(){let d=a++,m=0,f=new Map,h=q.unsafeMakeCollector(),g=u?e=>o.zipRight(h.clear,o.provideService(u(e),q.Collector,h)):o.succeed,y=yield*n.make(),b=yield*e.spawn(d);yield*b.run(e=>0===e[0]?n.complete(y,o.void):v(e[1])).pipe(o.onError(e=>o.forEach(f.values(),t=>n.DeferredTypeId in t?n.failCause(t,e):t.failCause(e))),o.tapErrorCause(o.logWarning),o.retry(V.spaced(1e3)),o.annotateLogs({package:"@effect/platform",module:"Worker"}),o.interruptible,o.forkScoped),yield*o.addFinalizer(()=>o.zipRight(o.forEach(f.values(),e=>n.DeferredTypeId in e?n.interrupt(e):e.end,{discard:!0}),o.sync(()=>f.clear())));let v=e=>o.suspend(()=>{let t=f.get(e[0]);if(!t)return o.void;switch(e[1]){case 0:return n.DeferredTypeId in t?n.succeed(t,e[2][0]):t.offerAll(e[2]);case 1:if(2===e.length)return n.DeferredTypeId in t?n.interrupt(t):t.end;return n.DeferredTypeId in t?n.succeed(t,e[2][0]):o.zipRight(t.offerAll(e[2]),t.end);case 2:case 3:{if(2===e[1])return n.DeferredTypeId in t?n.fail(t,e[2]):t.fail(e[2]);let r=G.WorkerError.decodeCause(e[2]);return n.DeferredTypeId in t?n.failCause(t,r):t.failCause(r)}}}),S=(e,t)=>o.withFiberRuntime(i=>{let a=i.getFiberRef(s.currentContext),u=r.getOption(a,F.ParentSpan).pipe(p.filter(e=>"Span"===e._tag)),l=m++;return t.pipe(o.tap(t=>(f.set(l,t),g(e).pipe(o.tap(e=>b.send([l,0,e,"Some"===u._tag?[u.value.traceId,u.value.spanId,u.value.sampled]:void 0],h.unsafeRead())),o.catchAllCause(e=>c.isMailbox(t)?t.failCause(e):n.failCause(t,e))))),o.map(e=>({id:l,mailbox:e})))}),x=({id:e},t)=>{let r=o.sync(()=>f.delete(e));return i.isFailure(t)?o.zipRight(o.orDie(b.send([e,1])),r):r},w=e=>z.fromChannel(t.acquireUseRelease(S(e,c.make()),({mailbox:e})=>c.toChannel(e),x)),O=e=>o.acquireUseRelease(S(e,n.make()),({mailbox:e})=>n.await(e),x);return yield*n.await(y),l&&(yield*o.sync(l).pipe(o.flatMap(O),o.mapError(e=>new G.WorkerError({reason:"spawn",cause:e})))),{id:d,execute:w,executeEffect:O}})})}),Q=e=>l.succeed(J,e),X=()=>e=>H.of({[K]:K,spawn:t=>o.gen(function*(){let n,i=yield*J,s=[];return{run:u=>o.uninterruptibleMask(l=>o.gen(function*(){let c=yield*o.scope,p=yield*e.setup({worker:i(t),scope:c});n=p,yield*B.addFinalizer(c,o.sync(()=>{n=void 0}));let d=(yield*o.runtime()).pipe(C.updateContext(r.omit(B.Scope))),m=yield*a.make(),f=C.runFork(d);if(yield*e.listen({port:p,scope:c,emit(e){a.unsafeAdd(m,f(u(e)))},deferred:m.deferred}),s.length>0){for(let[e,t]of s)p.postMessage([0,e],t);s.length=0}return yield*l(a.join(m))}).pipe(o.scoped)),send:(e,t)=>o.try({try:()=>{void 0===n?s.push([e,t]):n.postMessage([0,e],t)},catch:e=>new G.WorkerError({reason:"send",cause:e})})}})}),Z=H,ee=Q;var et=G,er=n,en=o,eo=l,ei=B;let es=X()({setup({scope:e,worker:t}){let r="port"in t?t.port:t;return en.as(ei.addFinalizer(e,en.sync(()=>{r.postMessage([1])})),r)},listen({deferred:e,emit:t,port:r,scope:n}){function o(e){t(e.data)}function i(t){er.unsafeDone(e,new et.WorkerError({reason:"unknown",cause:t.error??t.message}))}return r.addEventListener("message",o),r.addEventListener("error",i),"start"in r&&r.start(),ei.addFinalizer(n,en.sync(()=>{r.removeEventListener("message",o),r.removeEventListener("error",i)}))}}),ea=eo.succeed(Z,es),eu=e=>eo.merge(ea,ee(e));var el=e.i(747445);e.i(927378),e.i(817261),e.i(858615),e.i(24487);var ec=q,ep=e.i(51889);e.i(777444);var ed=r,em=o,ef=i,eh=e.i(462241),eg=e.i(559238),ey=s,eb=u,ev=e.i(249646),eS=l,ex=c,ew=p,eO=C,eT=V,e_=D,eN=e.i(47342),eE=B,eP=z,eA=e.i(487992),eI=e.i(857106),eU=D;let ek=Symbol.for("@effect/rpc/RpcClientError");class eL extends eU.TaggedError("@effect/rpc/RpcClientError")("RpcClientError",{reason:eU.Literal("Protocol","Unknown"),message:eU.String,cause:eU.optional(eU.Defect)}){[ek]=ek}var eR=e.i(99899),ej=e.i(172035);e.i(470114);var eM=r;class eC extends eM.Tag("@effect/rpc/RpcWorker/InitialMessage")(){}let eV=BigInt(0),eD=em.fnUntraced(function*(e,t){let r,n=t?.spanPrefix??"RpcClient",o=t?.supportsAck??!0,i=t?.disableTracing??!1,s=t?.generateRequestId??(()=>eV++),a=yield*em.context(),u=ed.get(a,eE.Scope),l=new Map,c=!1;yield*eE.addFinalizer(u,em.fiberIdWith(e=>(c=!0,p(ef.interrupt(e)))));let p=em.fnUntraced(function*(e){for(let[t,r]of l)l.delete(t),"Mailbox"===r._tag?yield*r.mailbox.done(e):r.resume(e)}),d=e=>{let r=ej.isStreamSchema(e.successSchema),o=h(e);return(s,a)=>{let u=a?.headers?el.fromInput(a.headers):el.empty,l=a?.context??ed.empty();if(!r){let r=t=>m(e,o,t,e.payloadSchema.make?e.payloadSchema.make(s):s,u,l,a?.discard??!1);return i?r(void 0):em.useSpan(`${n}.${e._tag}`,{captureStackTrace:!1,attributes:t.spanAttributes},r)}let c=f(e,o,e.payloadSchema.make?e.payloadSchema.make(s):s,u,a?.streamBufferSize??16,l);return a?.asMailbox?c:eP.unwrapScoped(em.map(c,ex.toStream))}},m=(e,r,n,o,i,a,u)=>em.withFiberRuntime(p=>{let d;if(c)return em.interrupt;let m=s(),f=r({_tag:"Request",id:m,tag:e._tag,payload:o,traceId:n?.traceId,spanId:n?.spanId,sampled:n?.sampled,headers:el.merge(p.getFiberRef(ez),i)});if(u)return em.flatMap(f,e=>t.onFromClient({message:e,context:a,discard:u}));let h=eO.make({context:p.currentContext,fiberRefs:p.getFiberRefs(),runtimeFlags:eO.defaultRuntime.runtimeFlags});return em.onInterrupt(em.async(r=>{let o={_tag:"Effect",rpc:e,context:a,resume(e){r(e),d&&!d.unsafePoll()&&p.currentScheduler.scheduleTask(()=>{d.unsafeInterruptAsFork(p.id())},0)}};l.set(m,o),(d=f.pipe(em.flatMap(e=>t.onFromClient({message:e,context:a,discard:u})),n?em.withParentSpan(n):eb.identity,eO.runFork(h))).addObserver(e=>{if("Failure"===e._tag)return r(e)})}),e=>{l.delete(m);let t=Array.from(e).flatMap(e=>Array.from(eg.toSet(e)));return em.zipRight(eh.interrupt(d),g(m,t,a))})}),f=em.fnUntraced(function*(e,r,o,a,u,p){if(c)return yield*em.interrupt;let d=i?void 0:yield*em.makeSpanScoped(`${n}.${e._tag}`,{captureStackTrace:!1,attributes:t.spanAttributes}),m=ew.getOrThrow(eh.getCurrentFiber()),f=s(),h=ed.unsafeGet(m.currentContext,eE.Scope);yield*eE.addFinalizerExit(h,e=>l.has(f)?(l.delete(f),g(f,ef.isFailure(e)?Array.from(ep.interruptors(e.cause)).flatMap(e=>Array.from(eg.toSet(e))):[],p)):em.void);let y=yield*ex.make(u);return l.set(f,{_tag:"Mailbox",rpc:e,mailbox:y,scope:h,context:p}),yield*r({_tag:"Request",id:f,tag:e._tag,traceId:d?.traceId,payload:o,spanId:d?.spanId,sampled:d?.sampled,headers:el.merge(m.getFiberRef(ez),a)}).pipe(em.flatMap(e=>t.onFromClient({message:e,context:p,discard:!1})),d?em.withParentSpan(d):eb.identity,em.catchAllCause(e=>y.failCause(e)),em.interruptible,em.forkIn(h)),y}),h=e=>{let t=[];for(let r of e.middlewares.values()){let e=a.unsafeMap.get(`${r.key}/Client`);e&&t.push(e)}return 0===t.length?em.succeed:function(r){let n=0;return em.map(em.whileLoop({while:()=>n<t.length,body:()=>t[n]({rpc:e,request:r}),step(e){r=e,n++}}),()=>r)}},g=(e,r,n)=>em.async(o=>{let i=ew.getOrThrow(eh.getCurrentFiber()),s=eO.make({context:i.currentContext,fiberRefs:i.getFiberRefs(),runtimeFlags:eO.defaultRuntime.runtimeFlags});t.onFromClient({message:{_tag:"Interrupt",requestId:e,interruptors:r},context:n,discard:!1}).pipe(em.timeout(1e3),eO.runFork(s)).addObserver(()=>{o(em.void)})}),y=e=>{switch(e._tag){case"Chunk":{let r=e.requestId,n=l.get(r);if(!n||"Mailbox"!==n._tag)return em.void;return n.mailbox.offerAll(e.values).pipe(o?em.zipRight(t.onFromClient({message:{_tag:"Ack",requestId:e.requestId},context:n.context,discard:!1})):eb.identity,em.catchAllCause(e=>n.mailbox.done(ef.failCause(e))))}case"Exit":{let t=e.requestId,r=l.get(t);if(!r)return em.void;if(l.delete(t),"Effect"===r._tag)return r.resume(e.exit),em.void;return r.mailbox.done(ef.asVoid(e.exit))}case"Defect":return p(ef.die(e.defect));case"ClientEnd":return em.void}};if(t.flatten){let t=new Map;r=function(r,n,o){let i=t.get(r);return i||(i=d(e.requests.get(r)),t.set(r,i)),i(n,o)}}else for(let t of(r={},e.requests.values())){let e=t._tag.indexOf("."),n=-1===e?void 0:t._tag.slice(0,e);void 0===n||n in r||(r[n]={}),(void 0!==n?r[n]:r)[void 0!==n?t._tag.slice(e+1):t._tag]=d(t)}return{client:r,write:y}}),eB=em.fnUntraced(function*(e,t){let{run:r,send:n,supportsAck:o,supportsTransferables:i}=yield*eF,s=new Map,{client:a,write:u}=yield*eD(e,{...t,supportsAck:o,onFromClient({message:t}){switch(t._tag){case"Request":{let r=e.requests.get(t.tag),o=ej.getStreamSchemas(r.successSchema.ast),a=i?ec.unsafeMakeCollector():void 0,u=ew.getOrThrow(eh.getCurrentFiber()),l={rpc:r,context:a?ed.add(u.currentContext,ec.Collector,a):u.currentContext,decodeChunk:ew.isSome(o)?e_.decodeUnknown(e_.NonEmptyArray(o.value.success)):void 0};return s.set(t.id,l),e_.encode(r.payloadSchema)(t.payload).pipe(em.locally(ey.currentContext,l.context),em.orDie,em.flatMap(e=>n({...t,id:String(t.id),payload:e,headers:Object.entries(t.headers)},a&&a.unsafeClear())))}case"Ack":if(!s.get(t.requestId))return em.void;return n({_tag:"Ack",requestId:String(t.requestId)});case"Interrupt":if(!s.get(t.requestId))return em.void;return s.delete(t.requestId),n({_tag:"Interrupt",requestId:String(t.requestId)});case"Eof":return em.void}}});return yield*r(e=>{switch(e._tag){case"Chunk":{let t=(0,eR.RequestId)(e.requestId),r=s.get(t);if(!r||!r.decodeChunk)return em.void;return r.decodeChunk(e.values).pipe(em.locally(ey.currentContext,r.context),em.orDie,em.flatMap(t=>u({_tag:"Chunk",clientId:0,requestId:(0,eR.RequestId)(e.requestId),values:t})),em.onError(t=>u({_tag:"Exit",clientId:0,requestId:(0,eR.RequestId)(e.requestId),exit:ef.failCause(t)})))}case"Exit":{let t=(0,eR.RequestId)(e.requestId),r=s.get(t);if(!r)return em.void;return s.delete(t),e_.decode(eI.exitSchema(r.rpc))(e.exit).pipe(em.locally(ey.currentContext,r.context),em.orDie,em.matchCauseEffect({onSuccess:e=>u({_tag:"Exit",clientId:0,requestId:t,exit:e}),onFailure:e=>u({_tag:"Exit",clientId:0,requestId:t,exit:ef.failCause(e)})}))}case"Defect":return u({_tag:"Defect",clientId:0,defect:eK(e.defect)});case"ClientProtocolError":{let t=ef.fail(e.error);return em.forEach(s.keys(),e=>u({_tag:"Exit",clientId:0,requestId:e,exit:t}))}default:return em.void}}).pipe(em.catchAllCause(em.logError),em.interruptible,em.forkScoped),a}),ez=(0,ev.globalValue)("@effect/rpc/RpcClient/currentHeaders",()=>ey.unsafeMake(el.empty));(e,t)=>em.locallyWith(e,ez,el.merge(el.fromInput(t)));class eF extends ed.Tag("@effect/rpc/RpcClient/Protocol")(){static make=(0,eA.withRun)()}let eq=e=>eF.make(em.fnUntraced(function*(t){let r=yield*Z,n=yield*em.scope,o=0,i=yield*em.serviceOption(eC),s=new Map,a=em.gen(function*(){let e=o++,n=yield*r.spawn(e),a=yield*em.makeLatch();if(yield*n.run(e=>{if(0===e[0])return a.open;let r=e[1];if("Exit"===r._tag){let e=s.get(r.requestId);e&&(s.delete(r.requestId),e.latch.unsafeOpen())}else if("Defect"===r._tag)for(let[e,t]of s)s.delete(e),t.latch.unsafeOpen();return t(r)}).pipe(em.tapErrorCause(e=>t({_tag:"ClientProtocolError",error:new eL({reason:"Protocol",message:"Error in worker",cause:ep.squash(e)})})),em.retry(eT.spaced(1e3)),em.annotateLogs({module:"RpcClient",method:"makeProtocolWorker"}),em.interruptible,em.forkScoped),yield*a.await,ew.isSome(i)){let[e,t]=yield*i.value;yield*n.send({_tag:"InitialMessage",value:e},t)}return n}),u="minSize"in e?yield*M({acquire:a,min:e.minSize,max:e.maxSize,concurrency:e.concurrency,targetUtilization:e.targetUtilization,timeToLive:e.timeToLive}):yield*j({acquire:a,size:e.size,concurrency:e.concurrency,targetUtilization:e.targetUtilization});yield*eE.addFinalizer(n,em.sync(()=>{for(let e of s.values())e.latch.unsafeOpen();s.clear()}));let l=(e,t)=>{switch(e._tag){case"Request":return u.get.pipe(em.flatMap(r=>{let n=em.unsafeMakeLatch(!1);return s.set(e.id,{worker:r,latch:n}),em.zipRight(r.send(e,t),n.await)}),em.scoped,em.orDie);case"Interrupt":{let t=s.get(e.requestId);if(!t)return em.void;return s.delete(e.requestId),t.latch.unsafeOpen(),em.orDie(t.worker.send(e))}case"Ack":{let t=s.get(e.requestId);if(!t)return em.void;return em.orDie(t.worker.send(e))}}return em.void};return yield*em.scoped(u.get),{send:l,supportsAck:!0,supportsTransferables:!0}})),eG=e=>eS.scoped(eF,eq(e)),eK=eN.decodeSync(e_.Defect);var eH=o,e$=l,eW=e.i(370218);let eJ=eG({size:1,concurrency:1}).pipe(e$.provide(eu(()=>new Worker(e.r(895908),{type:"module",type:void 0}))),e$.orDie);class eY extends eH.Service()("@beep/runtime-client/WorkerClient",{dependencies:[eJ],scoped:eH.gen(function*(){return{client:yield*eB(eW.WorkerRpc)}})}){}e.s(["WorkerClient",()=>eY],149605)},911966,(e,t,r)=>{"use strict";t.exports=function e(e,t){for(var r=Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(o,s){r[n]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,s(e))}})}},930284,(e,t,r)=>{"use strict";var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=Array(64),i=Array(123),s=0;s<64;)i[o[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,r){for(var n,i=null,s=[],a=0,u=0;t<r;){var l=e[t++];switch(u){case 0:s[a++]=o[l>>2],n=(3&l)<<4,u=1;break;case 1:s[a++]=o[n|l>>4],n=(15&l)<<2,u=2;break;case 2:s[a++]=o[n|l>>6],s[a++]=o[63&l],u=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return(u&&(s[a++]=o[n],s[a++]=61,1===u&&(s[a++]=61)),i)?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";n.decode=function(e,t,r){for(var n,o=r,s=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=i[l]))throw Error(a);switch(s){case 0:n=l,s=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,s=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,s=3;break;case 3:t[r++]=(3&n)<<6|l,s=0}}if(1===s)throw Error(a);return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},793545,(e,t,r)=>{"use strict";function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},482253,(e,t,r)=>{"use strict";function n(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():!function(){function t(e,t,r,n){var o=+(t<0);if(o&&(t=-t),0===t)e(1/t>0?0:0x80000000,r,n);else if(isNaN(t))e(0x7fc00000,r,n);else if(t>34028234663852886e22)e((o<<31|0x7f800000)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-i)*8388608);e((o<<31|i+127<<23|s)>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=(n>>31)*2+1,i=n>>>23&255,s=8388607&n;return 255===i?s?NaN:1/0*o:0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,s),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():!function(){function t(e,t,r,n,o,i){var s,a=+(n<0);if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:0x80000000,o,i+r);else if(isNaN(n))e(0,o,i+t),e(0x7ff80000,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|0x7ff00000)>>>0,o,i+r);else if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/0x100000000)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(0x10000000000000*(s=n*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}function r(e,t,r,n,o){var i=e(n,o+t),s=e(n,o+r),a=(s>>31)*2+1,u=s>>>20&2047,l=0x100000000*(1048575&s)+i;return 2047===u?l?NaN:1/0*a:0===u?5e-324*a*l:a*Math.pow(2,u-1075)*(l+0x10000000000000)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,s,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},411166,(__turbopack_context__,module,exports)=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},352677,(e,t,r)=>{"use strict";var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],s=0;t<r;)(n=e[t++])<128?i[s++]=n:n>191&&n<224?i[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(n>>10),i[s++]=56320+(1023&n)):i[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},n.write=function(e,t,r){for(var n,o,i=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(o=e.charCodeAt(s+1)))==56320?(n=65536+((1023&n)<<10)+(1023&o),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-i}},66762,(e,t,r)=>{"use strict";t.exports=function e(e,t,r){var n=r||8192,o=n>>>1,i=null,s=n;return function(r){if(r<1||r>o)return e(r);s+r>n&&(i=e(n),s=0);var a=t.call(i,s,s+=r);return 7&s&&(s=(7|s)+1),a}}},266762,(e,t,r)=>{"use strict";t.exports=o;var n=e.r(319665);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/0x100000000>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>0xffffffff&&(r=0,++n>0xffffffff&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e))if(!n.Long)return o.fromNumber(parseInt(e,10));else e=n.Long.fromString(e);return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+0x100000000*r)}return this.lo+0x100000000*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},319665,(e,t,r)=>{"use strict";var n=r;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&o(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=e.r(911966),n.base64=e.r(930284),n.EventEmitter=e.r(793545),n.float=e.r(482253),n.inquire=e.r(411166),n.utf8=e.r(352677),n.pool=e.r(66762),n.LongBits=e.r(266762),n.isNode=!!(e.g&&e.g.process&&e.g.process.versions&&e.g.process.versions.node),n.global=n.isNode&&e.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||e.e,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},627978,(e,t,r)=>{"use strict";t.exports=p;var n,o=e.r(319665),i=o.LongBits,s=o.base64,a=o.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function p(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(p.create=function(){return new n})()}:function(){return new p}};function m(e,t,r){t[r]=255&e}function f(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}p.create=d(),p.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=f,p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},p.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},p.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},p.prototype.bool=function(e){return this._push(m,1,+!!e)},p.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(e){var t=i.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},p.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var b=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};p.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(m,1,0);if(o.isString(e)){var r=p.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(b,t,e)},p.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(m,1,0)},p.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},p.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},p._configure=function(e){n=e,p.create=d(),n._configure()}},4967,(e,t,r)=>{"use strict";t.exports=i;var n=e.r(627978);(i.prototype=Object.create(n.prototype)).constructor=i;var o=e.r(319665);function i(){n.call(this)}function s(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},573217,(e,t,r)=>{"use strict";t.exports=u;var n,o=e.r(319665),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},c=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function p(){var e=new i(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw a(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=c(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=o.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++])return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=c(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return m.call(this)[t](!0)},sfixed64:function(){return m.call(this)[t](!1)}})}},409088,(e,t,r)=>{"use strict";t.exports=i;var n=e.r(573217);(i.prototype=Object.create(n.prototype)).constructor=i;var o=e.r(319665);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},223176,(e,t,r)=>{"use strict";t.exports=o;var n=e.r(319665);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,o,i);if(!a.rpcImpl)return void setTimeout(function(){s(Error("already ended"))},0);try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null===r)return void a.end(!0);if(!(r instanceof o))try{r=o[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){s(e)},0);return}},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},811373,(e,t,r)=>{"use strict";r.Service=e.r(223176)},705612,(e,t,r)=>{"use strict";t.exports={}},746014,(e,t,r)=>{"use strict";var n=r;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=e.r(627978),n.BufferWriter=e.r(4967),n.Reader=e.r(573217),n.BufferReader=e.r(409088),n.util=e.r(319665),n.rpc=e.r(811373),n.roots=e.r(705612),n.configure=o,o()},279209,(e,t,r)=>{"use strict";t.exports=e.r(746014)},700837,(e,t,r)=>{"use strict";var n=e.r(279209),o=n.Reader,i=n.Writer,s=n.util,a=n.roots.default||(n.roots.default={});a.opentelemetry=function(){var e={};return e.proto=function(){var e={};return e.common=function(){var e={};return e.v1=function(){var e={};return e.AnyValue=function(){var e;function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.stringValue=null,t.prototype.boolValue=null,t.prototype.intValue=null,t.prototype.doubleValue=null,t.prototype.arrayValue=null,t.prototype.kvlistValue=null,t.prototype.bytesValue=null,Object.defineProperty(t.prototype,"value",{get:s.oneOfGetter(e=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=i.create()),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),null!=e.intValue&&Object.hasOwnProperty.call(e,"intValue")&&t.uint32(24).int64(e.intValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(33).double(e.doubleValue),null!=e.arrayValue&&Object.hasOwnProperty.call(e,"arrayValue")&&a.opentelemetry.proto.common.v1.ArrayValue.encode(e.arrayValue,t.uint32(42).fork()).ldelim(),null!=e.kvlistValue&&Object.hasOwnProperty.call(e,"kvlistValue")&&a.opentelemetry.proto.common.v1.KeyValueList.encode(e.kvlistValue,t.uint32(50).fork()).ldelim(),null!=e.bytesValue&&Object.hasOwnProperty.call(e,"bytesValue")&&t.uint32(58).bytes(e.bytesValue),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.common.v1.AnyValue;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.stringValue=e.string();break;case 2:i.boolValue=e.bool();break;case 3:i.intValue=e.int64();break;case 4:i.doubleValue=e.double();break;case 5:i.arrayValue=a.opentelemetry.proto.common.v1.ArrayValue.decode(e,e.uint32());break;case 6:i.kvlistValue=a.opentelemetry.proto.common.v1.KeyValueList.decode(e,e.uint32());break;case 7:i.bytesValue=e.bytes();break;default:e.skipType(7&s)}}return i},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(t.value=1,!s.isString(e.stringValue)))return"stringValue: string expected";if(null!=e.boolValue&&e.hasOwnProperty("boolValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"boolean"!=typeof e.boolValue)return"boolValue: boolean expected"}if(null!=e.intValue&&e.hasOwnProperty("intValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!s.isInteger(e.intValue)&&!(e.intValue&&s.isInteger(e.intValue.low)&&s.isInteger(e.intValue.high)))return"intValue: integer|Long expected"}if(null!=e.doubleValue&&e.hasOwnProperty("doubleValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"number"!=typeof e.doubleValue)return"doubleValue: number expected"}if(null!=e.arrayValue&&e.hasOwnProperty("arrayValue")){if(1===t.value)return"value: multiple values";t.value=1;var r=a.opentelemetry.proto.common.v1.ArrayValue.verify(e.arrayValue);if(r)return"arrayValue."+r}if(null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")){if(1===t.value)return"value: multiple values";t.value=1;var r=a.opentelemetry.proto.common.v1.KeyValueList.verify(e.kvlistValue);if(r)return"kvlistValue."+r}if(null!=e.bytesValue&&e.hasOwnProperty("bytesValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!(e.bytesValue&&"number"==typeof e.bytesValue.length||s.isString(e.bytesValue)))return"bytesValue: buffer expected"}return null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.AnyValue)return e;var t=new a.opentelemetry.proto.common.v1.AnyValue;if(null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=!!e.boolValue),null!=e.intValue&&(s.Long?(t.intValue=s.Long.fromValue(e.intValue)).unsigned=!1:"string"==typeof e.intValue?t.intValue=parseInt(e.intValue,10):"number"==typeof e.intValue?t.intValue=e.intValue:"object"==typeof e.intValue&&(t.intValue=new s.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.arrayValue){if("object"!=typeof e.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");t.arrayValue=a.opentelemetry.proto.common.v1.ArrayValue.fromObject(e.arrayValue)}if(null!=e.kvlistValue){if("object"!=typeof e.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");t.kvlistValue=a.opentelemetry.proto.common.v1.KeyValueList.fromObject(e.kvlistValue)}return null!=e.bytesValue&&("string"==typeof e.bytesValue?s.base64.decode(e.bytesValue,t.bytesValue=s.newBuffer(s.base64.length(e.bytesValue)),0):e.bytesValue.length>=0&&(t.bytesValue=e.bytesValue)),t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs&&(r.value="stringValue")),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue,t.oneofs&&(r.value="boolValue")),null!=e.intValue&&e.hasOwnProperty("intValue")&&("number"==typeof e.intValue?r.intValue=t.longs===String?String(e.intValue):e.intValue:r.intValue=t.longs===String?s.Long.prototype.toString.call(e.intValue):t.longs===Number?new s.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber():e.intValue,t.oneofs&&(r.value="intValue")),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,t.oneofs&&(r.value="doubleValue")),null!=e.arrayValue&&e.hasOwnProperty("arrayValue")&&(r.arrayValue=a.opentelemetry.proto.common.v1.ArrayValue.toObject(e.arrayValue,t),t.oneofs&&(r.value="arrayValue")),null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")&&(r.kvlistValue=a.opentelemetry.proto.common.v1.KeyValueList.toObject(e.kvlistValue,t),t.oneofs&&(r.value="kvlistValue")),null!=e.bytesValue&&e.hasOwnProperty("bytesValue")&&(r.bytesValue=t.bytes===String?s.base64.encode(e.bytesValue,0,e.bytesValue.length):t.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,t.oneofs&&(r.value="bytesValue")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.AnyValue"},t}(),e.ArrayValue=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)a.opentelemetry.proto.common.v1.AnyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.common.v1.ArrayValue;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.values&&i.values.length||(i.values=[]),i.values.push(a.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=a.opentelemetry.proto.common.v1.AnyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.ArrayValue)return e;var t=new a.opentelemetry.proto.common.v1.ArrayValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");t.values[r]=a.opentelemetry.proto.common.v1.AnyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=a.opentelemetry.proto.common.v1.AnyValue.toObject(e.values[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.ArrayValue"},e}(),e.KeyValueList=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.common.v1.KeyValueList;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.values&&i.values.length||(i.values=[]),i.values.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.KeyValueList)return e;var t=new a.opentelemetry.proto.common.v1.KeyValueList;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");t.values[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.values[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValueList"},e}(),e.KeyValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&a.opentelemetry.proto.common.v1.AnyValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.common.v1.KeyValue;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.key=e.string();break;case 2:i.value=a.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!s.isString(e.key))return"key: string expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=a.opentelemetry.proto.common.v1.AnyValue.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.KeyValue)return e;var t=new a.opentelemetry.proto.common.v1.KeyValue;if(null!=e.key&&(t.key=String(e.key)),null!=e.value){if("object"!=typeof e.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");t.value=a.opentelemetry.proto.common.v1.AnyValue.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=null),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=a.opentelemetry.proto.common.v1.AnyValue.toObject(e.value,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValue"},e}(),e.InstrumentationScope=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name=null,e.prototype.version=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(18).string(e.version),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.common.v1.InstrumentationScope;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.name=e.string();break;case 2:i.version=e.string();break;case 3:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:i.droppedAttributesCount=e.uint32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.version&&e.hasOwnProperty("version")&&!s.isString(e.version))return"version: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.InstrumentationScope)return e;var t=new a.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(r.name="",r.version="",r.droppedAttributesCount=0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.InstrumentationScope"},e}(),e.EntityRef=function(){function e(e){if(this.idKeys=[],this.descriptionKeys=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.schemaUrl=null,e.prototype.type=null,e.prototype.idKeys=s.emptyArray,e.prototype.descriptionKeys=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(10).string(e.schemaUrl),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.idKeys&&e.idKeys.length)for(var r=0;r<e.idKeys.length;++r)t.uint32(26).string(e.idKeys[r]);if(null!=e.descriptionKeys&&e.descriptionKeys.length)for(var r=0;r<e.descriptionKeys.length;++r)t.uint32(34).string(e.descriptionKeys[r]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.common.v1.EntityRef;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.schemaUrl=e.string();break;case 2:i.type=e.string();break;case 3:i.idKeys&&i.idKeys.length||(i.idKeys=[]),i.idKeys.push(e.string());break;case 4:i.descriptionKeys&&i.descriptionKeys.length||(i.descriptionKeys=[]),i.descriptionKeys.push(e.string());break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl))return"schemaUrl: string expected";if(null!=e.type&&e.hasOwnProperty("type")&&!s.isString(e.type))return"type: string expected";if(null!=e.idKeys&&e.hasOwnProperty("idKeys")){if(!Array.isArray(e.idKeys))return"idKeys: array expected";for(var t=0;t<e.idKeys.length;++t)if(!s.isString(e.idKeys[t]))return"idKeys: string[] expected"}if(null!=e.descriptionKeys&&e.hasOwnProperty("descriptionKeys")){if(!Array.isArray(e.descriptionKeys))return"descriptionKeys: array expected";for(var t=0;t<e.descriptionKeys.length;++t)if(!s.isString(e.descriptionKeys[t]))return"descriptionKeys: string[] expected"}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.EntityRef)return e;var t=new a.opentelemetry.proto.common.v1.EntityRef;if(null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),null!=e.type&&(t.type=String(e.type)),e.idKeys){if(!Array.isArray(e.idKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.idKeys: array expected");t.idKeys=[];for(var r=0;r<e.idKeys.length;++r)t.idKeys[r]=String(e.idKeys[r])}if(e.descriptionKeys){if(!Array.isArray(e.descriptionKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.descriptionKeys: array expected");t.descriptionKeys=[];for(var r=0;r<e.descriptionKeys.length;++r)t.descriptionKeys[r]=String(e.descriptionKeys[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.idKeys=[],r.descriptionKeys=[]),t.defaults&&(r.schemaUrl="",r.type=""),null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.idKeys&&e.idKeys.length){r.idKeys=[];for(var n=0;n<e.idKeys.length;++n)r.idKeys[n]=e.idKeys[n]}if(e.descriptionKeys&&e.descriptionKeys.length){r.descriptionKeys=[];for(var n=0;n<e.descriptionKeys.length;++n)r.descriptionKeys[n]=e.descriptionKeys[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.EntityRef"},e}(),e}(),e}(),e.resource=function(){var e={};return e.v1=function(){var e={};return e.Resource=function(){function e(e){if(this.attributes=[],this.entityRefs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.entityRefs=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();if(null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(16).uint32(e.droppedAttributesCount),null!=e.entityRefs&&e.entityRefs.length)for(var r=0;r<e.entityRefs.length;++r)a.opentelemetry.proto.common.v1.EntityRef.encode(e.entityRefs[r],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.resource.v1.Resource;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:i.droppedAttributesCount=e.uint32();break;case 3:i.entityRefs&&i.entityRefs.length||(i.entityRefs=[]),i.entityRefs.push(a.opentelemetry.proto.common.v1.EntityRef.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=e.entityRefs&&e.hasOwnProperty("entityRefs")){if(!Array.isArray(e.entityRefs))return"entityRefs: array expected";for(var t=0;t<e.entityRefs.length;++t){var r=a.opentelemetry.proto.common.v1.EntityRef.verify(e.entityRefs[t]);if(r)return"entityRefs."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.resource.v1.Resource)return e;var t=new a.opentelemetry.proto.resource.v1.Resource;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),e.entityRefs){if(!Array.isArray(e.entityRefs))throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: array expected");t.entityRefs=[];for(var r=0;r<e.entityRefs.length;++r){if("object"!=typeof e.entityRefs[r])throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: object expected");t.entityRefs[r]=a.opentelemetry.proto.common.v1.EntityRef.fromObject(e.entityRefs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.entityRefs=[]),t.defaults&&(r.droppedAttributesCount=0),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),e.entityRefs&&e.entityRefs.length){r.entityRefs=[];for(var n=0;n<e.entityRefs.length;++n)r.entityRefs[n]=a.opentelemetry.proto.common.v1.EntityRef.toObject(e.entityRefs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.resource.v1.Resource"},e}(),e}(),e}(),e.trace=function(){var e={};return e.v1=function(){var e={};return e.TracesData=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)a.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.TracesData;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.resourceSpans&&i.resourceSpans.length||(i.resourceSpans=[]),i.resourceSpans.push(a.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=a.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.TracesData)return e;var t=new a.opentelemetry.proto.trace.v1.TracesData;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");t.resourceSpans[r]=a.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var n=0;n<e.resourceSpans.length;++n)r.resourceSpans[n]=a.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.TracesData"},e}(),e.ResourceSpans=function(){function e(e){if(this.scopeSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeSpans=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&a.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeSpans&&e.scopeSpans.length)for(var r=0;r<e.scopeSpans.length;++r)a.opentelemetry.proto.trace.v1.ScopeSpans.encode(e.scopeSpans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.ResourceSpans;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.resource=a.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:i.scopeSpans&&i.scopeSpans.length||(i.scopeSpans=[]),i.scopeSpans.push(a.opentelemetry.proto.trace.v1.ScopeSpans.decode(e,e.uint32()));break;case 3:i.schemaUrl=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=a.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeSpans&&e.hasOwnProperty("scopeSpans")){if(!Array.isArray(e.scopeSpans))return"scopeSpans: array expected";for(var r=0;r<e.scopeSpans.length;++r){var t=a.opentelemetry.proto.trace.v1.ScopeSpans.verify(e.scopeSpans[r]);if(t)return"scopeSpans."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.ResourceSpans)return e;var t=new a.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");t.resource=a.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeSpans){if(!Array.isArray(e.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");t.scopeSpans=[];for(var r=0;r<e.scopeSpans.length;++r){if("object"!=typeof e.scopeSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");t.scopeSpans[r]=a.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(e.scopeSpans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeSpans=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=a.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeSpans&&e.scopeSpans.length){r.scopeSpans=[];for(var n=0;n<e.scopeSpans.length;++n)r.scopeSpans[n]=a.opentelemetry.proto.trace.v1.ScopeSpans.toObject(e.scopeSpans[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ResourceSpans"},e}(),e.ScopeSpans=function(){function e(e){if(this.spans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.spans=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&a.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.spans&&e.spans.length)for(var r=0;r<e.spans.length;++r)a.opentelemetry.proto.trace.v1.Span.encode(e.spans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.ScopeSpans;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:i.spans&&i.spans.length||(i.spans=[]),i.spans.push(a.opentelemetry.proto.trace.v1.Span.decode(e,e.uint32()));break;case 3:i.schemaUrl=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=a.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.spans&&e.hasOwnProperty("spans")){if(!Array.isArray(e.spans))return"spans: array expected";for(var r=0;r<e.spans.length;++r){var t=a.opentelemetry.proto.trace.v1.Span.verify(e.spans[r]);if(t)return"spans."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.ScopeSpans)return e;var t=new a.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");t.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.spans){if(!Array.isArray(e.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");t.spans=[];for(var r=0;r<e.spans.length;++r){if("object"!=typeof e.spans[r])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");t.spans[r]=a.opentelemetry.proto.trace.v1.Span.fromObject(e.spans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.spans=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.spans&&e.spans.length){r.spans=[];for(var n=0;n<e.spans.length;++n)r.spans[n]=a.opentelemetry.proto.trace.v1.Span.toObject(e.spans[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ScopeSpans"},e}(),e.Span=function(){function e(e){if(this.attributes=[],this.events=[],this.links=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.parentSpanId=null,e.prototype.flags=null,e.prototype.name=null,e.prototype.kind=null,e.prototype.startTimeUnixNano=null,e.prototype.endTimeUnixNano=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.events=s.emptyArray,e.prototype.droppedEventsCount=null,e.prototype.links=s.emptyArray,e.prototype.droppedLinksCount=null,e.prototype.status=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.parentSpanId&&Object.hasOwnProperty.call(e,"parentSpanId")&&t.uint32(34).bytes(e.parentSpanId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(42).string(e.name),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(48).int32(e.kind),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(57).fixed64(e.startTimeUnixNano),null!=e.endTimeUnixNano&&Object.hasOwnProperty.call(e,"endTimeUnixNano")&&t.uint32(65).fixed64(e.endTimeUnixNano),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();if(null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(80).uint32(e.droppedAttributesCount),null!=e.events&&e.events.length)for(var r=0;r<e.events.length;++r)a.opentelemetry.proto.trace.v1.Span.Event.encode(e.events[r],t.uint32(90).fork()).ldelim();if(null!=e.droppedEventsCount&&Object.hasOwnProperty.call(e,"droppedEventsCount")&&t.uint32(96).uint32(e.droppedEventsCount),null!=e.links&&e.links.length)for(var r=0;r<e.links.length;++r)a.opentelemetry.proto.trace.v1.Span.Link.encode(e.links[r],t.uint32(106).fork()).ldelim();return null!=e.droppedLinksCount&&Object.hasOwnProperty.call(e,"droppedLinksCount")&&t.uint32(112).uint32(e.droppedLinksCount),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&a.opentelemetry.proto.trace.v1.Status.encode(e.status,t.uint32(122).fork()).ldelim(),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(133).fixed32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.Span;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.traceId=e.bytes();break;case 2:i.spanId=e.bytes();break;case 3:i.traceState=e.string();break;case 4:i.parentSpanId=e.bytes();break;case 16:i.flags=e.fixed32();break;case 5:i.name=e.string();break;case 6:i.kind=e.int32();break;case 7:i.startTimeUnixNano=e.fixed64();break;case 8:i.endTimeUnixNano=e.fixed64();break;case 9:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 10:i.droppedAttributesCount=e.uint32();break;case 11:i.events&&i.events.length||(i.events=[]),i.events.push(a.opentelemetry.proto.trace.v1.Span.Event.decode(e,e.uint32()));break;case 12:i.droppedEventsCount=e.uint32();break;case 13:i.links&&i.links.length||(i.links=[]),i.links.push(a.opentelemetry.proto.trace.v1.Span.Link.decode(e,e.uint32()));break;case 14:i.droppedLinksCount=e.uint32();break;case 15:i.status=a.opentelemetry.proto.trace.v1.Status.decode(e,e.uint32());break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!s.isString(e.traceState))return"traceState: string expected";if(null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&!(e.parentSpanId&&"number"==typeof e.parentSpanId.length||s.isString(e.parentSpanId)))return"parentSpanId: buffer expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags))return"flags: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.kind&&e.hasOwnProperty("kind"))switch(e.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&!s.isInteger(e.endTimeUnixNano)&&!(e.endTimeUnixNano&&s.isInteger(e.endTimeUnixNano.low)&&s.isInteger(e.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=a.opentelemetry.proto.trace.v1.Span.Event.verify(e.events[t]);if(r)return"events."+r}}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&!s.isInteger(e.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=e.links&&e.hasOwnProperty("links")){if(!Array.isArray(e.links))return"links: array expected";for(var t=0;t<e.links.length;++t){var r=a.opentelemetry.proto.trace.v1.Span.Link.verify(e.links[t]);if(r)return"links."+r}}if(null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&!s.isInteger(e.droppedLinksCount))return"droppedLinksCount: integer expected";if(null!=e.status&&e.hasOwnProperty("status")){var r=a.opentelemetry.proto.trace.v1.Status.verify(e.status);if(r)return"status."+r}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Span)return e;var t=new a.opentelemetry.proto.trace.v1.Span;switch(null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),null!=e.parentSpanId&&("string"==typeof e.parentSpanId?s.base64.decode(e.parentSpanId,t.parentSpanId=s.newBuffer(s.base64.length(e.parentSpanId)),0):e.parentSpanId.length>=0&&(t.parentSpanId=e.parentSpanId)),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.name&&(t.name=String(e.name)),e.kind){default:"number"==typeof e.kind&&(t.kind=e.kind);break;case"SPAN_KIND_UNSPECIFIED":case 0:t.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:t.kind=1;break;case"SPAN_KIND_SERVER":case 2:t.kind=2;break;case"SPAN_KIND_CLIENT":case 3:t.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:t.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:t.kind=5}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.endTimeUnixNano&&(s.Long?(t.endTimeUnixNano=s.Long.fromValue(e.endTimeUnixNano)).unsigned=!1:"string"==typeof e.endTimeUnixNano?t.endTimeUnixNano=parseInt(e.endTimeUnixNano,10):"number"==typeof e.endTimeUnixNano?t.endTimeUnixNano=e.endTimeUnixNano:"object"==typeof e.endTimeUnixNano&&(t.endTimeUnixNano=new s.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber())),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),e.events){if(!Array.isArray(e.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if("object"!=typeof e.events[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");t.events[r]=a.opentelemetry.proto.trace.v1.Span.Event.fromObject(e.events[r])}}if(null!=e.droppedEventsCount&&(t.droppedEventsCount=e.droppedEventsCount>>>0),e.links){if(!Array.isArray(e.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");t.links=[];for(var r=0;r<e.links.length;++r){if("object"!=typeof e.links[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");t.links[r]=a.opentelemetry.proto.trace.v1.Span.Link.fromObject(e.links[r])}}if(null!=e.droppedLinksCount&&(t.droppedLinksCount=e.droppedLinksCount>>>0),null!=e.status){if("object"!=typeof e.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");t.status=a.opentelemetry.proto.trace.v1.Status.fromObject(e.status)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.events=[],r.links=[]),t.defaults){if(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),r.traceState="",t.bytes===String?r.parentSpanId="":(r.parentSpanId=[],t.bytes!==Array&&(r.parentSpanId=s.newBuffer(r.parentSpanId))),r.name="",r.kind=t.enums===String?"SPAN_KIND_UNSPECIFIED":0,s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.endTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.endTimeUnixNano=t.longs===String?"0":0;r.droppedAttributesCount=0,r.droppedEventsCount=0,r.droppedLinksCount=0,r.status=null,r.flags=0}if(null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&(r.parentSpanId=t.bytes===String?s.base64.encode(e.parentSpanId,0,e.parentSpanId.length):t.bytes===Array?Array.prototype.slice.call(e.parentSpanId):e.parentSpanId),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=t.enums===String?void 0===a.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]?e.kind:a.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]:e.kind),null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&("number"==typeof e.endTimeUnixNano?r.endTimeUnixNano=t.longs===String?String(e.endTimeUnixNano):e.endTimeUnixNano:r.endTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.endTimeUnixNano):t.longs===Number?new s.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber():e.endTimeUnixNano),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),e.events&&e.events.length){r.events=[];for(var o=0;o<e.events.length;++o)r.events[o]=a.opentelemetry.proto.trace.v1.Span.Event.toObject(e.events[o],t)}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&(r.droppedEventsCount=e.droppedEventsCount),e.links&&e.links.length){r.links=[];for(var o=0;o<e.links.length;++o)r.links[o]=a.opentelemetry.proto.trace.v1.Span.Link.toObject(e.links[o],t)}return null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&(r.droppedLinksCount=e.droppedLinksCount),null!=e.status&&e.hasOwnProperty("status")&&(r.status=a.opentelemetry.proto.trace.v1.Status.toObject(e.status,t)),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span"},e.SpanKind=function(){var e={},t=Object.create(e);return t[e[0]="SPAN_KIND_UNSPECIFIED"]=0,t[e[1]="SPAN_KIND_INTERNAL"]=1,t[e[2]="SPAN_KIND_SERVER"]=2,t[e[3]="SPAN_KIND_CLIENT"]=3,t[e[4]="SPAN_KIND_PRODUCER"]=4,t[e[5]="SPAN_KIND_CONSUMER"]=5,t}(),e.Event=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.name=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.Span.Event;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.timeUnixNano=e.fixed64();break;case 2:i.name=e.string();break;case 3:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:i.droppedAttributesCount=e.uint32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Span.Event)return e;var t=new a.opentelemetry.proto.trace.v1.Span.Event;if(null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;r.name="",r.droppedAttributesCount=0}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Event"},e}(),e.Link=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.flags=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(34).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(40).uint32(e.droppedAttributesCount),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(53).fixed32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.Span.Link;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.traceId=e.bytes();break;case 2:i.spanId=e.bytes();break;case 3:i.traceState=e.string();break;case 4:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 5:i.droppedAttributesCount=e.uint32();break;case 6:i.flags=e.fixed32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!s.isString(e.traceState))return"traceState: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Span.Link)return e;var t=new a.opentelemetry.proto.trace.v1.Span.Link;if(null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),r.traceState="",r.droppedAttributesCount=0,r.flags=0),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Link"},e}(),e}(),e.Status=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.message=null,e.prototype.code=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.trace.v1.Status;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 2:i.message=e.string();break;case 3:i.code=e.int32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.message&&e.hasOwnProperty("message")&&!s.isString(e.message))return"message: string expected";if(null!=e.code&&e.hasOwnProperty("code"))switch(e.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Status)return e;var t=new a.opentelemetry.proto.trace.v1.Status;switch(null!=e.message&&(t.message=String(e.message)),e.code){default:"number"==typeof e.code&&(t.code=e.code);break;case"STATUS_CODE_UNSET":case 0:t.code=0;break;case"STATUS_CODE_OK":case 1:t.code=1;break;case"STATUS_CODE_ERROR":case 2:t.code=2}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.message="",r.code=t.enums===String?"STATUS_CODE_UNSET":0),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),null!=e.code&&e.hasOwnProperty("code")&&(r.code=t.enums===String?void 0===a.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]?e.code:a.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]:e.code),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Status"},e.StatusCode=function(){var e={},t=Object.create(e);return t[e[0]="STATUS_CODE_UNSET"]=0,t[e[1]="STATUS_CODE_OK"]=1,t[e[2]="STATUS_CODE_ERROR"]=2,t}(),e}(),e.SpanFlags=function(){var e={},t=Object.create(e);return t[e[0]="SPAN_FLAGS_DO_NOT_USE"]=0,t[e[255]="SPAN_FLAGS_TRACE_FLAGS_MASK"]=255,t[e[256]="SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK"]=256,t[e[512]="SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK"]=512,t}(),e}(),e}(),e.collector=function(){var e={};return e.trace=function(){var e={};return e.v1=function(){var e={};return e.TraceService=function(){function e(e,t,r){n.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(n.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportTraceServiceRequest=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)a.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.resourceSpans&&i.resourceSpans.length||(i.resourceSpans=[]),i.resourceSpans.push(a.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=a.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return e;var t=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");t.resourceSpans[r]=a.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var n=0;n<e.resourceSpans.length;++n)r.resourceSpans[n]=a.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},e}(),e.ExportTraceServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?i.partialSuccess=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(e,e.uint32()):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return e;var t=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");t.partialSuccess=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},e}(),e.ExportTracePartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedSpans=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.rejectedSpans&&Object.hasOwnProperty.call(e,"rejectedSpans")&&t.uint32(8).int64(e.rejectedSpans),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.rejectedSpans=e.int64();break;case 2:i.errorMessage=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&!s.isInteger(e.rejectedSpans)&&!(e.rejectedSpans&&s.isInteger(e.rejectedSpans.low)&&s.isInteger(e.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!s.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return e;var t=new a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=e.rejectedSpans&&(s.Long?(t.rejectedSpans=s.Long.fromValue(e.rejectedSpans)).unsigned=!1:"string"==typeof e.rejectedSpans?t.rejectedSpans=parseInt(e.rejectedSpans,10):"number"==typeof e.rejectedSpans?t.rejectedSpans=e.rejectedSpans:"object"==typeof e.rejectedSpans&&(t.rejectedSpans=new s.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.rejectedSpans=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedSpans=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&("number"==typeof e.rejectedSpans?r.rejectedSpans=t.longs===String?String(e.rejectedSpans):e.rejectedSpans:r.rejectedSpans=t.longs===String?s.Long.prototype.toString.call(e.rejectedSpans):t.longs===Number?new s.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber():e.rejectedSpans),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},e}(),e}(),e}(),e.metrics=function(){var e={};return e.v1=function(){var e={};return e.MetricsService=function(){function e(e,t,r){n.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(n.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportMetricsServiceRequest=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)a.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.resourceMetrics&&i.resourceMetrics.length||(i.resourceMetrics=[]),i.resourceMetrics.push(a.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=a.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return e;var t=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");t.resourceMetrics[r]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var n=0;n<e.resourceMetrics.length;++n)r.resourceMetrics[n]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},e}(),e.ExportMetricsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?i.partialSuccess=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(e,e.uint32()):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return e;var t=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");t.partialSuccess=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},e}(),e.ExportMetricsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedDataPoints=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.rejectedDataPoints&&Object.hasOwnProperty.call(e,"rejectedDataPoints")&&t.uint32(8).int64(e.rejectedDataPoints),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.rejectedDataPoints=e.int64();break;case 2:i.errorMessage=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&!s.isInteger(e.rejectedDataPoints)&&!(e.rejectedDataPoints&&s.isInteger(e.rejectedDataPoints.low)&&s.isInteger(e.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!s.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return e;var t=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=e.rejectedDataPoints&&(s.Long?(t.rejectedDataPoints=s.Long.fromValue(e.rejectedDataPoints)).unsigned=!1:"string"==typeof e.rejectedDataPoints?t.rejectedDataPoints=parseInt(e.rejectedDataPoints,10):"number"==typeof e.rejectedDataPoints?t.rejectedDataPoints=e.rejectedDataPoints:"object"==typeof e.rejectedDataPoints&&(t.rejectedDataPoints=new s.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.rejectedDataPoints=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedDataPoints=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&("number"==typeof e.rejectedDataPoints?r.rejectedDataPoints=t.longs===String?String(e.rejectedDataPoints):e.rejectedDataPoints:r.rejectedDataPoints=t.longs===String?s.Long.prototype.toString.call(e.rejectedDataPoints):t.longs===Number?new s.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber():e.rejectedDataPoints),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},e}(),e}(),e}(),e.logs=function(){var e={};return e.v1=function(){var e={};return e.LogsService=function(){function e(e,t,r){n.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(n.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportLogsServiceRequest=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)a.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.resourceLogs&&i.resourceLogs.length||(i.resourceLogs=[]),i.resourceLogs.push(a.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=a.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return e;var t=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");t.resourceLogs[r]=a.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var n=0;n<e.resourceLogs.length;++n)r.resourceLogs[n]=a.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},e}(),e.ExportLogsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?i.partialSuccess=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(e,e.uint32()):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return e;var t=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");t.partialSuccess=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},e}(),e.ExportLogsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedLogRecords=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.rejectedLogRecords&&Object.hasOwnProperty.call(e,"rejectedLogRecords")&&t.uint32(8).int64(e.rejectedLogRecords),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.rejectedLogRecords=e.int64();break;case 2:i.errorMessage=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&!s.isInteger(e.rejectedLogRecords)&&!(e.rejectedLogRecords&&s.isInteger(e.rejectedLogRecords.low)&&s.isInteger(e.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!s.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return e;var t=new a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=e.rejectedLogRecords&&(s.Long?(t.rejectedLogRecords=s.Long.fromValue(e.rejectedLogRecords)).unsigned=!1:"string"==typeof e.rejectedLogRecords?t.rejectedLogRecords=parseInt(e.rejectedLogRecords,10):"number"==typeof e.rejectedLogRecords?t.rejectedLogRecords=e.rejectedLogRecords:"object"==typeof e.rejectedLogRecords&&(t.rejectedLogRecords=new s.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.rejectedLogRecords=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedLogRecords=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&("number"==typeof e.rejectedLogRecords?r.rejectedLogRecords=t.longs===String?String(e.rejectedLogRecords):e.rejectedLogRecords:r.rejectedLogRecords=t.longs===String?s.Long.prototype.toString.call(e.rejectedLogRecords):t.longs===Number?new s.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber():e.rejectedLogRecords),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},e}(),e}(),e}(),e}(),e.metrics=function(){var e={};return e.v1=function(){var e={};return e.MetricsData=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)a.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.MetricsData;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.resourceMetrics&&i.resourceMetrics.length||(i.resourceMetrics=[]),i.resourceMetrics.push(a.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=a.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.MetricsData)return e;var t=new a.opentelemetry.proto.metrics.v1.MetricsData;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");t.resourceMetrics[r]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var n=0;n<e.resourceMetrics.length;++n)r.resourceMetrics[n]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.MetricsData"},e}(),e.ResourceMetrics=function(){function e(e){if(this.scopeMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeMetrics=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&a.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeMetrics&&e.scopeMetrics.length)for(var r=0;r<e.scopeMetrics.length;++r)a.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(e.scopeMetrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.ResourceMetrics;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.resource=a.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:i.scopeMetrics&&i.scopeMetrics.length||(i.scopeMetrics=[]),i.scopeMetrics.push(a.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(e,e.uint32()));break;case 3:i.schemaUrl=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=a.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeMetrics&&e.hasOwnProperty("scopeMetrics")){if(!Array.isArray(e.scopeMetrics))return"scopeMetrics: array expected";for(var r=0;r<e.scopeMetrics.length;++r){var t=a.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(e.scopeMetrics[r]);if(t)return"scopeMetrics."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ResourceMetrics)return e;var t=new a.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");t.resource=a.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeMetrics){if(!Array.isArray(e.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");t.scopeMetrics=[];for(var r=0;r<e.scopeMetrics.length;++r){if("object"!=typeof e.scopeMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");t.scopeMetrics[r]=a.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(e.scopeMetrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeMetrics=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=a.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeMetrics&&e.scopeMetrics.length){r.scopeMetrics=[];for(var n=0;n<e.scopeMetrics.length;++n)r.scopeMetrics[n]=a.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(e.scopeMetrics[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},e}(),e.ScopeMetrics=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.metrics=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&a.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.metrics&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)a.opentelemetry.proto.metrics.v1.Metric.encode(e.metrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.ScopeMetrics;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:i.metrics&&i.metrics.length||(i.metrics=[]),i.metrics.push(a.opentelemetry.proto.metrics.v1.Metric.decode(e,e.uint32()));break;case 3:i.schemaUrl=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=a.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var r=0;r<e.metrics.length;++r){var t=a.opentelemetry.proto.metrics.v1.Metric.verify(e.metrics[r]);if(t)return"metrics."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ScopeMetrics)return e;var t=new a.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");t.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if("object"!=typeof e.metrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");t.metrics[r]=a.opentelemetry.proto.metrics.v1.Metric.fromObject(e.metrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.metrics&&e.metrics.length){r.metrics=[];for(var n=0;n<e.metrics.length;++n)r.metrics[n]=a.opentelemetry.proto.metrics.v1.Metric.toObject(e.metrics[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},e}(),e.Metric=function(){var e;function t(e){if(this.metadata=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name=null,t.prototype.description=null,t.prototype.unit=null,t.prototype.gauge=null,t.prototype.sum=null,t.prototype.histogram=null,t.prototype.exponentialHistogram=null,t.prototype.summary=null,t.prototype.metadata=s.emptyArray,Object.defineProperty(t.prototype,"data",{get:s.oneOfGetter(e=["gauge","sum","histogram","exponentialHistogram","summary"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(26).string(e.unit),null!=e.gauge&&Object.hasOwnProperty.call(e,"gauge")&&a.opentelemetry.proto.metrics.v1.Gauge.encode(e.gauge,t.uint32(42).fork()).ldelim(),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&a.opentelemetry.proto.metrics.v1.Sum.encode(e.sum,t.uint32(58).fork()).ldelim(),null!=e.histogram&&Object.hasOwnProperty.call(e,"histogram")&&a.opentelemetry.proto.metrics.v1.Histogram.encode(e.histogram,t.uint32(74).fork()).ldelim(),null!=e.exponentialHistogram&&Object.hasOwnProperty.call(e,"exponentialHistogram")&&a.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(e.exponentialHistogram,t.uint32(82).fork()).ldelim(),null!=e.summary&&Object.hasOwnProperty.call(e,"summary")&&a.opentelemetry.proto.metrics.v1.Summary.encode(e.summary,t.uint32(90).fork()).ldelim(),null!=e.metadata&&e.metadata.length)for(var r=0;r<e.metadata.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.metadata[r],t.uint32(98).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.Metric;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.name=e.string();break;case 2:i.description=e.string();break;case 3:i.unit=e.string();break;case 5:i.gauge=a.opentelemetry.proto.metrics.v1.Gauge.decode(e,e.uint32());break;case 7:i.sum=a.opentelemetry.proto.metrics.v1.Sum.decode(e,e.uint32());break;case 9:i.histogram=a.opentelemetry.proto.metrics.v1.Histogram.decode(e,e.uint32());break;case 10:i.exponentialHistogram=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(e,e.uint32());break;case 11:i.summary=a.opentelemetry.proto.metrics.v1.Summary.decode(e,e.uint32());break;case 12:i.metadata&&i.metadata.length||(i.metadata=[]),i.metadata.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!s.isString(e.description))return"description: string expected";if(null!=e.unit&&e.hasOwnProperty("unit")&&!s.isString(e.unit))return"unit: string expected";if(null!=e.gauge&&e.hasOwnProperty("gauge")){t.data=1;var r=a.opentelemetry.proto.metrics.v1.Gauge.verify(e.gauge);if(r)return"gauge."+r}if(null!=e.sum&&e.hasOwnProperty("sum")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.Sum.verify(e.sum);if(r)return"sum."+r}if(null!=e.histogram&&e.hasOwnProperty("histogram")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.Histogram.verify(e.histogram);if(r)return"histogram."+r}if(null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(e.exponentialHistogram);if(r)return"exponentialHistogram."+r}if(null!=e.summary&&e.hasOwnProperty("summary")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.Summary.verify(e.summary);if(r)return"summary."+r}if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!Array.isArray(e.metadata))return"metadata: array expected";for(var n=0;n<e.metadata.length;++n){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.metadata[n]);if(r)return"metadata."+r}}return null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Metric)return e;var t=new a.opentelemetry.proto.metrics.v1.Metric;if(null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.unit&&(t.unit=String(e.unit)),null!=e.gauge){if("object"!=typeof e.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");t.gauge=a.opentelemetry.proto.metrics.v1.Gauge.fromObject(e.gauge)}if(null!=e.sum){if("object"!=typeof e.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");t.sum=a.opentelemetry.proto.metrics.v1.Sum.fromObject(e.sum)}if(null!=e.histogram){if("object"!=typeof e.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");t.histogram=a.opentelemetry.proto.metrics.v1.Histogram.fromObject(e.histogram)}if(null!=e.exponentialHistogram){if("object"!=typeof e.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");t.exponentialHistogram=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(e.exponentialHistogram)}if(null!=e.summary){if("object"!=typeof e.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");t.summary=a.opentelemetry.proto.metrics.v1.Summary.fromObject(e.summary)}if(e.metadata){if(!Array.isArray(e.metadata))throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: array expected");t.metadata=[];for(var r=0;r<e.metadata.length;++r){if("object"!=typeof e.metadata[r])throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: object expected");t.metadata[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.metadata[r])}}return t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metadata=[]),t.defaults&&(r.name="",r.description="",r.unit=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.unit&&e.hasOwnProperty("unit")&&(r.unit=e.unit),null!=e.gauge&&e.hasOwnProperty("gauge")&&(r.gauge=a.opentelemetry.proto.metrics.v1.Gauge.toObject(e.gauge,t),t.oneofs&&(r.data="gauge")),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=a.opentelemetry.proto.metrics.v1.Sum.toObject(e.sum,t),t.oneofs&&(r.data="sum")),null!=e.histogram&&e.hasOwnProperty("histogram")&&(r.histogram=a.opentelemetry.proto.metrics.v1.Histogram.toObject(e.histogram,t),t.oneofs&&(r.data="histogram")),null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")&&(r.exponentialHistogram=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(e.exponentialHistogram,t),t.oneofs&&(r.data="exponentialHistogram")),null!=e.summary&&e.hasOwnProperty("summary")&&(r.summary=a.opentelemetry.proto.metrics.v1.Summary.toObject(e.summary,t),t.oneofs&&(r.data="summary")),e.metadata&&e.metadata.length){r.metadata=[];for(var n=0;n<e.metadata.length;++n)r.metadata[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.metadata[n],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Metric"},t}(),e.Gauge=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.Gauge;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.dataPoints&&i.dataPoints.length||(i.dataPoints=[]),i.dataPoints.push(a.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Gauge)return e;var t=new a.opentelemetry.proto.metrics.v1.Gauge;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Gauge"},e}(),e.Sum=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.prototype.aggregationTemporality=null,e.prototype.isMonotonic=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),null!=e.isMonotonic&&Object.hasOwnProperty.call(e,"isMonotonic")&&t.uint32(24).bool(e.isMonotonic),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.Sum;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.dataPoints&&i.dataPoints.length||(i.dataPoints=[]),i.dataPoints.push(a.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()));break;case 2:i.aggregationTemporality=e.int32();break;case 3:i.isMonotonic=e.bool();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&"boolean"!=typeof e.isMonotonic?"isMonotonic: boolean expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Sum)return e;var t=new a.opentelemetry.proto.metrics.v1.Sum;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return null!=e.isMonotonic&&(t.isMonotonic=!!e.isMonotonic),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,r.isMonotonic=!1),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&(r.isMonotonic=e.isMonotonic),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Sum"},e}(),e.Histogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.Histogram;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.dataPoints&&i.dataPoints.length||(i.dataPoints=[]),i.dataPoints.push(a.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(e,e.uint32()));break;case 2:i.aggregationTemporality=e.int32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Histogram)return e;var t=new a.opentelemetry.proto.metrics.v1.Histogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Histogram"},e}(),e.ExponentialHistogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.ExponentialHistogram;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.dataPoints&&i.dataPoints.length||(i.dataPoints=[]),i.dataPoints.push(a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(e,e.uint32()));break;case 2:i.aggregationTemporality=e.int32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ExponentialHistogram)return e;var t=new a.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},e}(),e.Summary=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.Summary;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.dataPoints&&i.dataPoints.length||(i.dataPoints=[]),i.dataPoints.push(a.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Summary)return e;var t=new a.opentelemetry.proto.metrics.v1.Summary;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(e.dataPoints[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Summary"},e}(),e.AggregationTemporality=function(){var e={},t=Object.create(e);return t[e[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,t[e[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,t[e[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,t}(),e.DataPointFlags=function(){var e={},t=Object.create(e);return t[e[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,t[e[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,t}(),e.NumberDataPoint=function(){var e;function t(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=s.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.asDouble=null,t.prototype.asInt=null,t.prototype.exemplars=s.emptyArray,t.prototype.flags=null,Object.defineProperty(t.prototype,"value",{get:s.oneOfGetter(e=["asDouble","asInt"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(33).double(e.asDouble),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)a.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(42).fork()).ldelim();if(null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.NumberDataPoint;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 7:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:i.startTimeUnixNano=e.fixed64();break;case 3:i.timeUnixNano=e.fixed64();break;case 4:i.asDouble=e.double();break;case 6:i.asInt=e.sfixed64();break;case 5:i.exemplars&&i.exemplars.length||(i.exemplars=[]),i.exemplars.push(a.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 8:i.flags=e.uint32();break;default:e.skipType(7&s)}}return i},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(n)return"attributes."+n}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!s.isInteger(e.asInt)&&!(e.asInt&&s.isInteger(e.asInt.low)&&s.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var n=a.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(n)return"exemplars."+n}}return null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.NumberDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.NumberDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(s.Long?(t.asInt=s.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");t.exemplars[r]=a.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.exemplars=[],r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var o=0;o<e.exemplars.length;++o)r.exemplars[o]=a.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[o],t)}if(null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?s.Long.prototype.toString.call(e.asInt):t.longs===Number?new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},t}(),e.HistogramDataPoint=function(){var e;function t(e){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=s.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.count=null,t.prototype.sum=null,t.prototype.bucketCounts=s.emptyArray,t.prototype.explicitBounds=s.emptyArray,t.prototype.exemplars=s.emptyArray,t.prototype.flags=null,t.prototype.min=null,t.prototype.max=null,Object.defineProperty(t.prototype,"_sum",{get:s.oneOfGetter(e=["sum"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_min",{get:s.oneOfGetter(e=["min"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_max",{get:s.oneOfGetter(e=["max"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(50).fork();for(var r=0;r<e.bucketCounts.length;++r)t.fixed64(e.bucketCounts[r]);t.ldelim()}if(null!=e.explicitBounds&&e.explicitBounds.length){t.uint32(58).fork();for(var r=0;r<e.explicitBounds.length;++r)t.double(e.explicitBounds[r]);t.ldelim()}if(null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)a.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(66).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(89).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(97).double(e.max),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.HistogramDataPoint;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 9:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:i.startTimeUnixNano=e.fixed64();break;case 3:i.timeUnixNano=e.fixed64();break;case 4:i.count=e.fixed64();break;case 5:i.sum=e.double();break;case 6:if(i.bucketCounts&&i.bucketCounts.length||(i.bucketCounts=[]),(7&s)==2)for(var u=e.uint32()+e.pos;e.pos<u;)i.bucketCounts.push(e.fixed64());else i.bucketCounts.push(e.fixed64());break;case 7:if(i.explicitBounds&&i.explicitBounds.length||(i.explicitBounds=[]),(7&s)==2)for(var u=e.uint32()+e.pos;e.pos<u;)i.explicitBounds.push(e.double());else i.explicitBounds.push(e.double());break;case 8:i.exemplars&&i.exemplars.length||(i.exemplars=[]),i.exemplars.push(a.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 10:i.flags=e.uint32();break;case 11:i.min=e.double();break;case 12:i.max=e.double();break;default:e.skipType(7&s)}}return i},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(n)return"attributes."+n}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!s.isInteger(e.count)&&!(e.count&&s.isInteger(e.count.low)&&s.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var r=0;r<e.bucketCounts.length;++r)if(!s.isInteger(e.bucketCounts[r])&&!(e.bucketCounts[r]&&s.isInteger(e.bucketCounts[r].low)&&s.isInteger(e.bucketCounts[r].high)))return"bucketCounts: integer|Long[] expected"}if(null!=e.explicitBounds&&e.hasOwnProperty("explicitBounds")){if(!Array.isArray(e.explicitBounds))return"explicitBounds: array expected";for(var r=0;r<e.explicitBounds.length;++r)if("number"!=typeof e.explicitBounds[r])return"explicitBounds: number[] expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var n=a.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(n)return"exemplars."+n}}return null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.HistogramDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(s.Long?(t.count=s.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)s.Long?(t.bucketCounts[r]=s.Long.fromValue(e.bucketCounts[r])).unsigned=!1:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new s.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber())}if(e.explicitBounds){if(!Array.isArray(e.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");t.explicitBounds=[];for(var r=0;r<e.explicitBounds.length;++r)t.explicitBounds[r]=Number(e.explicitBounds[r])}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");t.exemplars[r]=a.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[],r.explicitBounds=[],r.exemplars=[],r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.count=t.longs===String?"0":0;r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?s.Long.prototype.toString.call(e.count):t.longs===Number?new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var o=0;o<e.bucketCounts.length;++o)"number"==typeof e.bucketCounts[o]?r.bucketCounts[o]=t.longs===String?String(e.bucketCounts[o]):e.bucketCounts[o]:r.bucketCounts[o]=t.longs===String?s.Long.prototype.toString.call(e.bucketCounts[o]):t.longs===Number?new s.LongBits(e.bucketCounts[o].low>>>0,e.bucketCounts[o].high>>>0).toNumber():e.bucketCounts[o]}if(e.explicitBounds&&e.explicitBounds.length){r.explicitBounds=[];for(var o=0;o<e.explicitBounds.length;++o)r.explicitBounds[o]=t.json&&!isFinite(e.explicitBounds[o])?String(e.explicitBounds[o]):e.explicitBounds[o]}if(e.exemplars&&e.exemplars.length){r.exemplars=[];for(var o=0;o<e.exemplars.length;++o)r.exemplars[o]=a.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[o],t)}if(e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},t}(),e.ExponentialHistogramDataPoint=function(){var e;function t(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=s.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.count=null,t.prototype.sum=null,t.prototype.scale=null,t.prototype.zeroCount=null,t.prototype.positive=null,t.prototype.negative=null,t.prototype.flags=null,t.prototype.exemplars=s.emptyArray,t.prototype.min=null,t.prototype.max=null,t.prototype.zeroThreshold=null,Object.defineProperty(t.prototype,"_sum",{get:s.oneOfGetter(e=["sum"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_min",{get:s.oneOfGetter(e=["min"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_max",{get:s.oneOfGetter(e=["max"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();if(null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(48).sint32(e.scale),null!=e.zeroCount&&Object.hasOwnProperty.call(e,"zeroCount")&&t.uint32(57).fixed64(e.zeroCount),null!=e.positive&&Object.hasOwnProperty.call(e,"positive")&&a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.positive,t.uint32(66).fork()).ldelim(),null!=e.negative&&Object.hasOwnProperty.call(e,"negative")&&a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.negative,t.uint32(74).fork()).ldelim(),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)a.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(90).fork()).ldelim();return null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(97).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(105).double(e.max),null!=e.zeroThreshold&&Object.hasOwnProperty.call(e,"zeroThreshold")&&t.uint32(113).double(e.zeroThreshold),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:i.startTimeUnixNano=e.fixed64();break;case 3:i.timeUnixNano=e.fixed64();break;case 4:i.count=e.fixed64();break;case 5:i.sum=e.double();break;case 6:i.scale=e.sint32();break;case 7:i.zeroCount=e.fixed64();break;case 8:i.positive=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 9:i.negative=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 10:i.flags=e.uint32();break;case 11:i.exemplars&&i.exemplars.length||(i.exemplars=[]),i.exemplars.push(a.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 12:i.min=e.double();break;case 13:i.max=e.double();break;case 14:i.zeroThreshold=e.double();break;default:e.skipType(7&s)}}return i},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(n)return"attributes."+n}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!s.isInteger(e.count)&&!(e.count&&s.isInteger(e.count.low)&&s.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.scale&&e.hasOwnProperty("scale")&&!s.isInteger(e.scale))return"scale: integer expected";if(null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&!s.isInteger(e.zeroCount)&&!(e.zeroCount&&s.isInteger(e.zeroCount.low)&&s.isInteger(e.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=e.positive&&e.hasOwnProperty("positive")){var n=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.positive);if(n)return"positive."+n}if(null!=e.negative&&e.hasOwnProperty("negative")){var n=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.negative);if(n)return"negative."+n}if(null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags))return"flags: integer expected";if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var n=a.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(n)return"exemplars."+n}}return null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&"number"!=typeof e.zeroThreshold?"zeroThreshold: number expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(s.Long?(t.count=s.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),null!=e.scale&&(t.scale=0|e.scale),null!=e.zeroCount&&(s.Long?(t.zeroCount=s.Long.fromValue(e.zeroCount)).unsigned=!1:"string"==typeof e.zeroCount?t.zeroCount=parseInt(e.zeroCount,10):"number"==typeof e.zeroCount?t.zeroCount=e.zeroCount:"object"==typeof e.zeroCount&&(t.zeroCount=new s.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber())),null!=e.positive){if("object"!=typeof e.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");t.positive=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.positive)}if(null!=e.negative){if("object"!=typeof e.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");t.negative=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.negative)}if(null!=e.flags&&(t.flags=e.flags>>>0),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");t.exemplars[r]=a.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),null!=e.zeroThreshold&&(t.zeroThreshold=Number(e.zeroThreshold)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.exemplars=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.count=t.longs===String?"0":0;if(r.scale=0,s.Long){var n=new s.Long(0,0,!1);r.zeroCount=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.zeroCount=t.longs===String?"0":0;r.positive=null,r.negative=null,r.flags=0,r.zeroThreshold=0}if(e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?s.Long.prototype.toString.call(e.count):t.longs===Number?new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),null!=e.scale&&e.hasOwnProperty("scale")&&(r.scale=e.scale),null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&("number"==typeof e.zeroCount?r.zeroCount=t.longs===String?String(e.zeroCount):e.zeroCount:r.zeroCount=t.longs===String?s.Long.prototype.toString.call(e.zeroCount):t.longs===Number?new s.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber():e.zeroCount),null!=e.positive&&e.hasOwnProperty("positive")&&(r.positive=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.positive,t)),null!=e.negative&&e.hasOwnProperty("negative")&&(r.negative=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.negative,t)),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var o=0;o<e.exemplars.length;++o)r.exemplars[o]=a.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[o],t)}return null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&(r.zeroThreshold=t.json&&!isFinite(e.zeroThreshold)?String(e.zeroThreshold):e.zeroThreshold),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},t.Buckets=function(){function e(e){if(this.bucketCounts=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.offset=null,e.prototype.bucketCounts=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(8).sint32(e.offset),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(18).fork();for(var r=0;r<e.bucketCounts.length;++r)t.uint64(e.bucketCounts[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.offset=e.sint32();break;case 2:if(i.bucketCounts&&i.bucketCounts.length||(i.bucketCounts=[]),(7&s)==2)for(var u=e.uint32()+e.pos;e.pos<u;)i.bucketCounts.push(e.uint64());else i.bucketCounts.push(e.uint64());break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!s.isInteger(e.offset))return"offset: integer expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var t=0;t<e.bucketCounts.length;++t)if(!s.isInteger(e.bucketCounts[t])&&!(e.bucketCounts[t]&&s.isInteger(e.bucketCounts[t].low)&&s.isInteger(e.bucketCounts[t].high)))return"bucketCounts: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return e;var t=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=e.offset&&(t.offset=0|e.offset),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)s.Long?(t.bucketCounts[r]=s.Long.fromValue(e.bucketCounts[r])).unsigned=!0:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new s.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[]),t.defaults&&(r.offset=0),null!=e.offset&&e.hasOwnProperty("offset")&&(r.offset=e.offset),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var n=0;n<e.bucketCounts.length;++n)"number"==typeof e.bucketCounts[n]?r.bucketCounts[n]=t.longs===String?String(e.bucketCounts[n]):e.bucketCounts[n]:r.bucketCounts[n]=t.longs===String?s.Long.prototype.toString.call(e.bucketCounts[n]):t.longs===Number?new s.LongBits(e.bucketCounts[n].low>>>0,e.bucketCounts[n].high>>>0).toNumber(!0):e.bucketCounts[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},e}(),t}(),e.SummaryDataPoint=function(){function e(e){if(this.attributes=[],this.quantileValues=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=s.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.count=null,e.prototype.sum=null,e.prototype.quantileValues=s.emptyArray,e.prototype.flags=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.quantileValues&&e.quantileValues.length)for(var r=0;r<e.quantileValues.length;++r)a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(e.quantileValues[r],t.uint32(50).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 7:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:i.startTimeUnixNano=e.fixed64();break;case 3:i.timeUnixNano=e.fixed64();break;case 4:i.count=e.fixed64();break;case 5:i.sum=e.double();break;case 6:i.quantileValues&&i.quantileValues.length||(i.quantileValues=[]),i.quantileValues.push(a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(e,e.uint32()));break;case 8:i.flags=e.uint32();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!s.isInteger(e.count)&&!(e.count&&s.isInteger(e.count.low)&&s.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&"number"!=typeof e.sum)return"sum: number expected";if(null!=e.quantileValues&&e.hasOwnProperty("quantileValues")){if(!Array.isArray(e.quantileValues))return"quantileValues: array expected";for(var t=0;t<e.quantileValues.length;++t){var r=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(e.quantileValues[t]);if(r)return"quantileValues."+r}}return null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.SummaryDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(s.Long?(t.count=s.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.quantileValues){if(!Array.isArray(e.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");t.quantileValues=[];for(var r=0;r<e.quantileValues.length;++r){if("object"!=typeof e.quantileValues[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");t.quantileValues[r]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(e.quantileValues[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.quantileValues=[],r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.count=t.longs===String?"0":0;r.sum=0,r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?s.Long.prototype.toString.call(e.count):t.longs===Number?new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum),e.quantileValues&&e.quantileValues.length){r.quantileValues=[];for(var o=0;o<e.quantileValues.length;++o)r.quantileValues[o]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(e.quantileValues[o],t)}if(e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},e.ValueAtQuantile=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.quantile=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.quantile&&Object.hasOwnProperty.call(e,"quantile")&&t.uint32(9).double(e.quantile),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.quantile=e.double();break;case 2:i.value=e.double();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.quantile&&e.hasOwnProperty("quantile")&&"number"!=typeof e.quantile?"quantile: number expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return e;var t=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=e.quantile&&(t.quantile=Number(e.quantile)),null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.quantile=0,r.value=0),null!=e.quantile&&e.hasOwnProperty("quantile")&&(r.quantile=t.json&&!isFinite(e.quantile)?String(e.quantile):e.quantile),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},e}(),e}(),e.Exemplar=function(){var e;function t(e){if(this.filteredAttributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.filteredAttributes=s.emptyArray,t.prototype.timeUnixNano=null,t.prototype.asDouble=null,t.prototype.asInt=null,t.prototype.spanId=null,t.prototype.traceId=null,Object.defineProperty(t.prototype,"value",{get:s.oneOfGetter(e=["asDouble","asInt"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=i.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(17).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(25).double(e.asDouble),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(34).bytes(e.spanId),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(42).bytes(e.traceId),null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.filteredAttributes&&e.filteredAttributes.length)for(var r=0;r<e.filteredAttributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.filteredAttributes[r],t.uint32(58).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.metrics.v1.Exemplar;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 7:i.filteredAttributes&&i.filteredAttributes.length||(i.filteredAttributes=[]),i.filteredAttributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:i.timeUnixNano=e.fixed64();break;case 3:i.asDouble=e.double();break;case 6:i.asInt=e.sfixed64();break;case 4:i.spanId=e.bytes();break;case 5:i.traceId=e.bytes();break;default:e.skipType(7&s)}}return i},t.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.filteredAttributes&&e.hasOwnProperty("filteredAttributes")){if(!Array.isArray(e.filteredAttributes))return"filteredAttributes: array expected";for(var r=0;r<e.filteredAttributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.filteredAttributes[r]);if(n)return"filteredAttributes."+n}}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!s.isInteger(e.asInt)&&!(e.asInt&&s.isInteger(e.asInt.low)&&s.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}return null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId))?"spanId: buffer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId))?"traceId: buffer expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Exemplar)return e;var t=new a.opentelemetry.proto.metrics.v1.Exemplar;if(e.filteredAttributes){if(!Array.isArray(e.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");t.filteredAttributes=[];for(var r=0;r<e.filteredAttributes.length;++r){if("object"!=typeof e.filteredAttributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");t.filteredAttributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.filteredAttributes[r])}}return null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(s.Long?(t.asInt=s.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.filteredAttributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId)))}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?s.Long.prototype.toString.call(e.asInt):t.longs===Number?new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.filteredAttributes&&e.filteredAttributes.length){r.filteredAttributes=[];for(var o=0;o<e.filteredAttributes.length;++o)r.filteredAttributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.filteredAttributes[o],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Exemplar"},t}(),e}(),e}(),e.logs=function(){var e={};return e.v1=function(){var e={};return e.LogsData=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)a.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.logs.v1.LogsData;e.pos<n;){var s=e.uint32();if(s===r)break;s>>>3==1?(i.resourceLogs&&i.resourceLogs.length||(i.resourceLogs=[]),i.resourceLogs.push(a.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&s)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=a.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.LogsData)return e;var t=new a.opentelemetry.proto.logs.v1.LogsData;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");t.resourceLogs[r]=a.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var n=0;n<e.resourceLogs.length;++n)r.resourceLogs[n]=a.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogsData"},e}(),e.ResourceLogs=function(){function e(e){if(this.scopeLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeLogs=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&a.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeLogs&&e.scopeLogs.length)for(var r=0;r<e.scopeLogs.length;++r)a.opentelemetry.proto.logs.v1.ScopeLogs.encode(e.scopeLogs[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.logs.v1.ResourceLogs;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.resource=a.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:i.scopeLogs&&i.scopeLogs.length||(i.scopeLogs=[]),i.scopeLogs.push(a.opentelemetry.proto.logs.v1.ScopeLogs.decode(e,e.uint32()));break;case 3:i.schemaUrl=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=a.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeLogs&&e.hasOwnProperty("scopeLogs")){if(!Array.isArray(e.scopeLogs))return"scopeLogs: array expected";for(var r=0;r<e.scopeLogs.length;++r){var t=a.opentelemetry.proto.logs.v1.ScopeLogs.verify(e.scopeLogs[r]);if(t)return"scopeLogs."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.ResourceLogs)return e;var t=new a.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");t.resource=a.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeLogs){if(!Array.isArray(e.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");t.scopeLogs=[];for(var r=0;r<e.scopeLogs.length;++r){if("object"!=typeof e.scopeLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");t.scopeLogs[r]=a.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(e.scopeLogs[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeLogs=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=a.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeLogs&&e.scopeLogs.length){r.scopeLogs=[];for(var n=0;n<e.scopeLogs.length;++n)r.scopeLogs[n]=a.opentelemetry.proto.logs.v1.ScopeLogs.toObject(e.scopeLogs[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ResourceLogs"},e}(),e.ScopeLogs=function(){function e(e){if(this.logRecords=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.logRecords=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&a.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.logRecords&&e.logRecords.length)for(var r=0;r<e.logRecords.length;++r)a.opentelemetry.proto.logs.v1.LogRecord.encode(e.logRecords[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.logs.v1.ScopeLogs;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:i.logRecords&&i.logRecords.length||(i.logRecords=[]),i.logRecords.push(a.opentelemetry.proto.logs.v1.LogRecord.decode(e,e.uint32()));break;case 3:i.schemaUrl=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=a.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.logRecords&&e.hasOwnProperty("logRecords")){if(!Array.isArray(e.logRecords))return"logRecords: array expected";for(var r=0;r<e.logRecords.length;++r){var t=a.opentelemetry.proto.logs.v1.LogRecord.verify(e.logRecords[r]);if(t)return"logRecords."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.ScopeLogs)return e;var t=new a.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");t.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.logRecords){if(!Array.isArray(e.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");t.logRecords=[];for(var r=0;r<e.logRecords.length;++r){if("object"!=typeof e.logRecords[r])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");t.logRecords[r]=a.opentelemetry.proto.logs.v1.LogRecord.fromObject(e.logRecords[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.logRecords=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.logRecords&&e.logRecords.length){r.logRecords=[];for(var n=0;n<e.logRecords.length;++n)r.logRecords[n]=a.opentelemetry.proto.logs.v1.LogRecord.toObject(e.logRecords[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ScopeLogs"},e}(),e.SeverityNumber=function(){var e={},t=Object.create(e);return t[e[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,t[e[1]="SEVERITY_NUMBER_TRACE"]=1,t[e[2]="SEVERITY_NUMBER_TRACE2"]=2,t[e[3]="SEVERITY_NUMBER_TRACE3"]=3,t[e[4]="SEVERITY_NUMBER_TRACE4"]=4,t[e[5]="SEVERITY_NUMBER_DEBUG"]=5,t[e[6]="SEVERITY_NUMBER_DEBUG2"]=6,t[e[7]="SEVERITY_NUMBER_DEBUG3"]=7,t[e[8]="SEVERITY_NUMBER_DEBUG4"]=8,t[e[9]="SEVERITY_NUMBER_INFO"]=9,t[e[10]="SEVERITY_NUMBER_INFO2"]=10,t[e[11]="SEVERITY_NUMBER_INFO3"]=11,t[e[12]="SEVERITY_NUMBER_INFO4"]=12,t[e[13]="SEVERITY_NUMBER_WARN"]=13,t[e[14]="SEVERITY_NUMBER_WARN2"]=14,t[e[15]="SEVERITY_NUMBER_WARN3"]=15,t[e[16]="SEVERITY_NUMBER_WARN4"]=16,t[e[17]="SEVERITY_NUMBER_ERROR"]=17,t[e[18]="SEVERITY_NUMBER_ERROR2"]=18,t[e[19]="SEVERITY_NUMBER_ERROR3"]=19,t[e[20]="SEVERITY_NUMBER_ERROR4"]=20,t[e[21]="SEVERITY_NUMBER_FATAL"]=21,t[e[22]="SEVERITY_NUMBER_FATAL2"]=22,t[e[23]="SEVERITY_NUMBER_FATAL3"]=23,t[e[24]="SEVERITY_NUMBER_FATAL4"]=24,t}(),e.LogRecordFlags=function(){var e={},t=Object.create(e);return t[e[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,t[e[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,t}(),e.LogRecord=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.observedTimeUnixNano=null,e.prototype.severityNumber=null,e.prototype.severityText=null,e.prototype.body=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.flags=null,e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.eventName=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.severityNumber&&Object.hasOwnProperty.call(e,"severityNumber")&&t.uint32(16).int32(e.severityNumber),null!=e.severityText&&Object.hasOwnProperty.call(e,"severityText")&&t.uint32(26).string(e.severityText),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&a.opentelemetry.proto.common.v1.AnyValue.encode(e.body,t.uint32(42).fork()).ldelim(),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(50).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(56).uint32(e.droppedAttributesCount),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(69).fixed32(e.flags),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(74).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(82).bytes(e.spanId),null!=e.observedTimeUnixNano&&Object.hasOwnProperty.call(e,"observedTimeUnixNano")&&t.uint32(89).fixed64(e.observedTimeUnixNano),null!=e.eventName&&Object.hasOwnProperty.call(e,"eventName")&&t.uint32(98).string(e.eventName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,r){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new a.opentelemetry.proto.logs.v1.LogRecord;e.pos<n;){var s=e.uint32();if(s===r)break;switch(s>>>3){case 1:i.timeUnixNano=e.fixed64();break;case 11:i.observedTimeUnixNano=e.fixed64();break;case 2:i.severityNumber=e.int32();break;case 3:i.severityText=e.string();break;case 5:i.body=a.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;case 6:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 7:i.droppedAttributesCount=e.uint32();break;case 8:i.flags=e.fixed32();break;case 9:i.traceId=e.bytes();break;case 10:i.spanId=e.bytes();break;case 12:i.eventName=e.string();break;default:e.skipType(7&s)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&!s.isInteger(e.observedTimeUnixNano)&&!(e.observedTimeUnixNano&&s.isInteger(e.observedTimeUnixNano.low)&&s.isInteger(e.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=e.severityNumber&&e.hasOwnProperty("severityNumber"))switch(e.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=e.severityText&&e.hasOwnProperty("severityText")&&!s.isString(e.severityText))return"severityText: string expected";if(null!=e.body&&e.hasOwnProperty("body")){var t=a.opentelemetry.proto.common.v1.AnyValue.verify(e.body);if(t)return"body."+t}if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var t=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(t)return"attributes."+t}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId))?"traceId: buffer expected":null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId))?"spanId: buffer expected":null!=e.eventName&&e.hasOwnProperty("eventName")&&!s.isString(e.eventName)?"eventName: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.LogRecord)return e;var t=new a.opentelemetry.proto.logs.v1.LogRecord;switch(null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.observedTimeUnixNano&&(s.Long?(t.observedTimeUnixNano=s.Long.fromValue(e.observedTimeUnixNano)).unsigned=!1:"string"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=parseInt(e.observedTimeUnixNano,10):"number"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=e.observedTimeUnixNano:"object"==typeof e.observedTimeUnixNano&&(t.observedTimeUnixNano=new s.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber())),e.severityNumber){default:"number"==typeof e.severityNumber&&(t.severityNumber=e.severityNumber);break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:t.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:t.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:t.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:t.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:t.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:t.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:t.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:t.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:t.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:t.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:t.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:t.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:t.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:t.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:t.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:t.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:t.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:t.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:t.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:t.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:t.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:t.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:t.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:t.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:t.severityNumber=24}if(null!=e.severityText&&(t.severityText=String(e.severityText)),null!=e.body){if("object"!=typeof e.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");t.body=a.opentelemetry.proto.common.v1.AnyValue.fromObject(e.body)}if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.eventName&&(t.eventName=String(e.eventName)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(r.severityNumber=t.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,r.severityText="",r.body=null,r.droppedAttributesCount=0,r.flags=0,t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),s.Long){var n=new s.Long(0,0,!1);r.observedTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.observedTimeUnixNano=t.longs===String?"0":0;r.eventName=""}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.severityNumber&&e.hasOwnProperty("severityNumber")&&(r.severityNumber=t.enums===String?void 0===a.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]?e.severityNumber:a.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]:e.severityNumber),null!=e.severityText&&e.hasOwnProperty("severityText")&&(r.severityText=e.severityText),null!=e.body&&e.hasOwnProperty("body")&&(r.body=a.opentelemetry.proto.common.v1.AnyValue.toObject(e.body,t)),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof e.observedTimeUnixNano?r.observedTimeUnixNano=t.longs===String?String(e.observedTimeUnixNano):e.observedTimeUnixNano:r.observedTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.observedTimeUnixNano):t.longs===Number?new s.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber():e.observedTimeUnixNano),null!=e.eventName&&e.hasOwnProperty("eventName")&&(r.eventName=e.eventName),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogRecord"},e}(),e}(),e}(),e}(),e}(),t.exports=a},890171,132428,e=>{"use strict";var t=e.i(878753),r=e.i(532102),n=e.i(915838),o=e.i(979475),i=e.i(126539),s=e.i(335260),a=e.i(862409),u=e.i(681830),l=i;e.i(788339);let c=Symbol.for("effect/Subscribable"),p=e=>(0,u.hasProperty)(e,c),d={[l.TypeId]:l.TypeId,[c]:c,pipe(){return(0,a.pipeArguments)(this,arguments)}};e.s(["TypeId",0,c,"isSubscribable",0,p],132428);var m=e.i(519479),f=e.i(658360),h=e.i(820626);let g=m.SynchronizedTypeId;m.makeSynchronized,f.get,f.getAndSet,f.getAndUpdate,h.getAndUpdateEffect,f.getAndUpdateSome,h.getAndUpdateSomeEffect,h.modify,h.modifyEffect,f.modifySome,h.modifySomeEffect,f.set,f.setAndGet,f.update,h.updateEffect,f.updateAndGet,h.updateAndGetEffect,f.updateSome,h.updateSomeEffect,f.updateSomeAndGet,m.updateSomeAndGetEffectSynchronized,m.unsafeMakeSynchronized;var y=m,b=f,v=e.i(932915);let S=Symbol.for("effect/SubscriptionRef"),x={_A:e=>e};class w extends r.Class{ref;pubsub;semaphore;[i.TypeId]=i.TypeId;[c]=c;[s.RefTypeId]=b.refVariance;[g]=y.synchronizedVariance;[S]=x;constructor(e,t,r){super(),this.ref=e,this.pubsub=t,this.semaphore=r,this.get=s.get(this.ref)}commit(){return this.get}get;get changes(){return(0,n.pipe)(s.get(this.ref),t.flatMap(e=>t.map(v.fromPubSub(this.pubsub,{scoped:!0}),t=>v.concat(v.make(e),t))),this.semaphore.withPermits(1),v.unwrapScoped)}modify(e){return this.modifyEffect(r=>t.succeed(e(r)))}modifyEffect(e){return(0,n.pipe)(s.get(this.ref),t.flatMap(e),t.flatMap(([e,r])=>(0,n.pipe)(s.set(this.ref,r),t.as(e),t.zipLeft(o.publish(this.pubsub,r)))),this.semaphore.withPermits(1))}}let O=e=>(0,n.pipe)(t.all([o.unbounded(),s.make(e),t.makeSemaphore(1)]),t.map(([e,t,r])=>new w(t,e,r))),T=(0,n.dual)(2,(e,r)=>(0,n.pipe)(s.set(e.ref,r),t.zipLeft(o.publish(e.pubsub,r)),e.semaphore.withPermits(1)));var _=s;let N=S;_.getAndSet,_.getAndUpdate,_.getAndUpdateSome;let E=O;_.modifySome;let P=T;_.setAndGet;let A=_.update;_.updateAndGet,_.updateSome,_.updateSomeAndGet,e.s(["SubscriptionRefTypeId",0,N,"make",0,E,"set",0,P,"update",0,A],890171)},360443,e=>{"use strict";var t,r,n,o,i,s,a,u,l,c,p,d,m,f,h,g,y,b=e.i(190659),v=e.i(149605);let S="[object Object]",x="[object Null]",w="[object Undefined]",O=Function.prototype.toString,T=O.call(Object),_=Object.getPrototypeOf,N=Object.prototype,E=N.hasOwnProperty,P=Symbol?Symbol.toStringTag:void 0,A=N.toString;function I(e){if(!U(e)||k(e)!==S)return!1;let t=_(e);if(null===t)return!0;let r=E.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&O.call(r)===T}function U(e){return null!=e&&"object"==typeof e}function k(e){return null==e?void 0===e?w:x:P&&P in Object(e)?L(e):R(e)}function L(e){let t=E.call(e,P),r=e[P],n=!1;try{e[P]=void 0,n=!0}catch{}let o=A.call(e);return n&&(t?e[P]=r:delete e[P]),o}function R(e){return A.call(e)}let j=20;function M(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=V(t,e.shift(),0,r);return t}function C(e){return B(e)?e.slice():e}function V(e,t,r=0,n){let o;if(!(r>j)){if(r++,q(e)||q(t)||z(t))o=C(t);else if(B(e)){if(o=e.slice(),B(t))for(let e=0,r=t.length;e<r;e++)o.push(C(t[e]));else if(F(t)){let e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){let n=e[r];o[n]=C(t[n])}}}else if(F(e))if(F(t)){if(!G(e,t))return t;o=Object.assign({},e);let i=Object.keys(t);for(let s=0,a=i.length;s<a;s++){let a=i[s],u=t[a];if(q(u))void 0===u?delete o[a]:o[a]=u;else{let i=o[a],s=u;if(D(e,a,n)||D(t,a,n))delete o[a];else{if(F(i)&&F(s)){let r=n.get(i)||[],o=n.get(s)||[];r.push({obj:e,key:a}),o.push({obj:t,key:a}),n.set(i,r),n.set(s,o)}o[a]=V(o[a],u,r,n)}}}}else o=t;return o}}function D(e,t,r){let n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){let o=n[r];if(o.key===t&&o.obj===e)return!0}return!1}function B(e){return Array.isArray(e)}function z(e){return"function"==typeof e}function F(e){return!q(e)&&!B(e)&&!z(e)&&"object"==typeof e}function q(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}function G(e,t){return!!I(e)&&!!I(t)}var K="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:e.g,H="1.9.0",$=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,W=function(e){var t=new Set([e]),r=new Set,n=e.match($);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease)return function(t){return t===e};function i(e){return r.add(e),!1}function s(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match($);if(!n)return i(e);var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=a.prerelease||o.major!==a.major?i(e):0===o.major?o.minor===a.minor&&o.patch<=a.patch?s(e):i(e):o.minor<=a.minor?s(e):i(e)}}(H),J=Symbol.for("opentelemetry.js.api."+H.split(".")[0]),Y=K;function Q(e,t,r,n){void 0===n&&(n=!1);var o,i=Y[J]=null!=(o=Y[J])?o:{version:H};if(!n&&i[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==H){var s=Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+H);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+H+"."),!0}function X(e){var t,r,n=null==(t=Y[J])?void 0:t.version;if(n&&W(n))return null==(r=Y[J])?void 0:r[e]}function Z(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+H+".");var r=Y[J];r&&delete r[e]}var ee=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},et=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},er=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return en("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return en("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return en("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return en("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return en("verbose",this._namespace,e)},e}();function en(e,t,r){var n=X("diag");if(n)return r.unshift(t),n[e].apply(n,et([],ee(r),!1))}function eo(e,r){function n(t,n){var o=r[t];return"function"==typeof o&&e>=n?o.bind(r):function(){}}return e<t.NONE?e=t.NONE:e>t.ALL&&(e=t.ALL),r=r||{},{error:n("error",t.ERROR),warn:n("warn",t.WARN),info:n("info",t.INFO),debug:n("debug",t.DEBUG),verbose:n("verbose",t.VERBOSE)}}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t||(t={}));var ei=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},es=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},ea="diag",eu=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=X("diag");if(n)return n[e].apply(n,es([],ei(t),!1))}}var r=this,n=function(e,n){if(void 0===n&&(n={logLevel:t.INFO}),e===r){var o,i,s,a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error(null!=(o=a.stack)?o:a.message),!1}"number"==typeof n&&(n={logLevel:n});var u=X("diag"),l=eo(null!=(i=n.logLevel)?i:t.INFO,e);if(u&&!n.suppressOverrideMessage){var c=null!=(s=Error().stack)?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return Q("diag",l,r,!0)};r.setLogger=n,r.disable=function(){Z(ea,r)},r.createComponentLogger=function(e){return new er(e)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),el=eu.instance();let ec="exception.message",ep="exception.stacktrace",ed="exception.type",em="service.name",ef="service.version",eh="telemetry.sdk.language",eg="nodejs",ey="webjs",eb="telemetry.sdk.name",ev="telemetry.sdk.version",eS={[eb]:"opentelemetry","process.runtime.name":"browser",[eh]:ey,[ev]:"2.1.0"};function ex(){return"unknown_service"}let ew=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class eO{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let r=new eO({},t);return r._rawAttributes=eN(e),r._asyncAttributesPending=e.filter(([e,t])=>ew(t)).length>0,r}constructor(e,t){const r=e.attributes??{};this._rawAttributes=Object.entries(r).map(([e,t])=>(ew(t)&&(this._asyncAttributesPending=!0),[e,t])),this._rawAttributes=eN(this._rawAttributes),this._schemaUrl=eE(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,r]=this._rawAttributes[e];this._rawAttributes[e]=[t,ew(r)?await r:r]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&el.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,r]of this._rawAttributes){if(ew(r)){el.debug(`Unsettled resource attribute ${t} skipped`);continue}null!=r&&(e[t]??=r)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(null==e)return this;let t=eP(this,e),r=t?{schemaUrl:t}:void 0;return eO.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],r)}}function eT(e,t){return eO.FromAttributeList(Object.entries(e),t)}function e_(){return eT({[em]:ex(),[eh]:eS[eh],[eb]:eS[eb],[ev]:eS[ev]})}function eN(e){return e.map(([e,t])=>ew(t)?[e,t.catch(t=>{el.debug("promise rejection for resource attribute: %s - %s",e,t)})]:[e,t])}function eE(e){if("string"==typeof e||void 0===e)return e;el.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}function eP(e,t){let r=e?.schemaUrl,n=t?.schemaUrl,o=void 0===n||""===n;return void 0===r||""===r?n:o||r===n?r:void el.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,n)}function eA(e){return Symbol.for(e)}var eI=new(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}return e}()),eU=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},ek=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},eL=function(){function e(){}return e.prototype.active=function(){return eI},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return t.call.apply(t,ek([r],eU(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),eR=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},ej=function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},eM="context",eC=new eL,eV=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return Q(eM,e,eu.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,ej([e,t,r],eR(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return X(eM)||eC},e.prototype.disable=function(){this._getContextManager().disable(),Z(eM,eu.instance())},e}(),eD=eV.getInstance();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}));var eB="0000000000000000",ez="00000000000000000000000000000000",eF={traceId:ez,spanId:eB,traceFlags:r.NONE},eq=function(){function e(e){void 0===e&&(e=eF),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eG=eA("OpenTelemetry Context Key SPAN");function eK(e){return e.getValue(eG)||void 0}function eH(){return eK(eV.getInstance().active())}function e$(e,t){return e.setValue(eG,t)}function eW(e){return e.deleteValue(eG)}function eJ(e,t){return e$(e,new eq(t))}function eY(e){var t;return null==(t=eK(e))?void 0:t.spanContext()}var eQ=/^([0-9a-f]{32})$/i,eX=/^[0-9a-f]{16}$/i;function eZ(e){return eQ.test(e)&&e!==ez}function e0(e){return eX.test(e)&&e!==eB}function e1(e){return eZ(e.traceId)&&e0(e.spanId)}function e2(e){return new eq(e)}var e3=eV.getInstance(),e4=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=e3.active()),null==t?void 0:t.root)return new eq;var n=r&&eY(r);return e6(n)&&e1(n)?new eq(n):new eq},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(o=t,s=r):(o=t,i=r,s=n);var o,i,s,a=null!=i?i:e3.active(),u=this.startSpan(e,o,a),l=e$(a,u);return e3.with(l,s,void 0,u)}},e}();function e6(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}var e8=new e4,e5=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):e8},e}(),e7=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new e4},e}()),e9=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new e5(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:e7},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)},e}(),te="trace",tt=(function(){function e(){this._proxyTracerProvider=new e9,this.wrapSpanContext=e2,this.isSpanContextValid=e1,this.deleteSpan=eW,this.getSpan=eK,this.getActiveSpan=eH,this.getSpanContext=eY,this.setSpan=e$,this.setSpanContext=eJ}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=Q(te,this._proxyTracerProvider,eu.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return X(te)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){Z(te,eu.instance()),this._proxyTracerProvider=new e9},e})().getInstance();function tr(e){let t={};if("object"!=typeof e||null==e)return t;for(let[r,n]of Object.entries(e)){if(!tn(r)){el.warn(`Invalid attribute key: ${r}`);continue}if(!to(n)){el.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}function tn(e){return"string"==typeof e&&e.length>0}function to(e){return null==e||(Array.isArray(e)?ti(e):ts(e))}function ti(e){let t;for(let r of e)if(null!=r){if(!t){if(ts(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function ts(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={})),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(o||(o={}));let ta=eA("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function tu(e){return e.setValue(ta,!0)}function tl(e){return!0===e.getValue(ta)}!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(i||(i={}));let tc=performance,tp=1e6,td=1e9;function tm(e){return[Math.trunc(e/1e3),Math.round(e%1e3*tp)]}function tf(){let e=tc.timeOrigin;if("number"!=typeof e){let t=tc;e=t.timing&&t.timing.fetchStart}return e}function th(e){return tw(tm(tf()),tm("number"==typeof e?e:tc.now()))}function tg(e){if(tS(e))return e;if("number"==typeof e)if(e<tf())return th(e);else return tm(e);if(e instanceof Date)return tm(e.getTime());throw TypeError("Invalid input type")}function ty(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=td),[r,n]}function tb(e){return e[0]*td+e[1]}function tv(e){return 1e6*e[0]+e[1]/1e3}function tS(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function tx(e){return tS(e)||"number"==typeof e||e instanceof Date}function tw(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=td&&(r[1]-=td,r[0]+=1),r}let tO="exception";class tT{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:i.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){const t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=tc.now(),this._performanceOffset=t-(this._performanceStartTime+tf()),this._startTimeProvided=null!=e.startTime,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,null!=e.attributes&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(null==t||this._isSpanEnded())return this;if(0===e.length)return el.warn(`Invalid attribute key: ${e}`),this;if(!to(t))return el.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:r}=this._spanLimits;return void 0!==r&&Object.keys(this.attributes).length>=r&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t),this}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,t,r){if(this._isSpanEnded())return this;let{eventCountLimit:n}=this._spanLimits;if(0===n)return el.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==n&&this.events.length>=n&&(0===this._droppedEventsCount&&el.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),tx(t)&&(tx(r)||(r=t),t=void 0);let o=tr(t);return this.events.push({name:e,attributes:o,time:this._getTime(r),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()||(this.status={...e},null!=this.status.message&&"string"!=typeof e.message&&(el.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message)),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){this._isSpanEnded()?el.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`):(this._ended=!0,this.endTime=this._getTime(e),this._duration=ty(this.startTime,this.endTime),this._duration[0]<0&&(el.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&el.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this))}_getTime(e){if("number"==typeof e&&e<=tc.now())return th(e+this._performanceOffset);if("number"==typeof e)return tm(e);if(e instanceof Date)return tm(e.getTime());if(tS(e))return e;if(this._startTimeProvided)return tm(Date.now());let t=tc.now()-this._performanceStartTime;return tw(this.startTime,tm(t))}isRecording(){return!1===this._ended}recordException(e,t){let r={};"string"==typeof e?r[ec]=e:e&&(e.code?r[ed]=e.code.toString():e.name&&(r[ed]=e.name),e.message&&(r[ec]=e.message),e.stack&&(r[ep]=e.stack)),r[ed]||r[ec]?this.addEvent(tO,r,t):el.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);el.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(el.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}}function t_(e){}function tN(e){}!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(s||(s={}));class tE{shouldSample(){return{decision:s.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class tP{shouldSample(){return{decision:s.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}function tA(e){return"string"==typeof e?e:JSON.stringify(tI(e))}function tI(e){let t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach(e=>{if(t[e])return;let n=r[e];n&&(t[e]=String(n))}),r=Object.getPrototypeOf(r);return t}let tU=function(){return e=>{el.error(tA(e))}}();function tk(e){try{tU(e)}catch{}}class tL{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(tk(Error("ParentBasedSampler must have a root sampler configured")),this._root=new tP),this._remoteParentSampled=e.remoteParentSampled??new tP,this._remoteParentNotSampled=e.remoteParentNotSampled??new tE,this._localParentSampled=e.localParentSampled??new tP,this._localParentNotSampled=e.localParentNotSampled??new tE}shouldSample(e,t,n,o,i,s){let a=tt.getSpanContext(e);return a&&e1(a)?a.isRemote?a.traceFlags&r.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,o,i,s):this._remoteParentNotSampled.shouldSample(e,t,n,o,i,s):a.traceFlags&r.SAMPLED?this._localParentSampled.shouldSample(e,t,n,o,i,s):this._localParentNotSampled.shouldSample(e,t,n,o,i,s):this._root.shouldSample(e,t,n,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class tR{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(e,t){return{decision:eZ(t)&&this._accumulate(t)<this._upperBound?s.RECORD_AND_SAMPLED:s.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){let n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}}!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(a||(a={}));let tj=1;function tM(){return{sampler:tC(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:tN("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:tN("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:tN("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:tN("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:tN("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:tN("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:tN("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:tN("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function tC(){let e=t_("OTEL_TRACES_SAMPLER")??a.ParentBasedAlwaysOn;switch(e){case a.AlwaysOn:return new tP;case a.AlwaysOff:return new tE;case a.ParentBasedAlwaysOn:return new tL({root:new tP});case a.ParentBasedAlwaysOff:return new tL({root:new tE});case a.TraceIdRatio:return new tR(tV());case a.ParentBasedTraceIdRatio:return new tL({root:new tR(tV())});default:return el.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${a.ParentBasedAlwaysOn}".`),new tL({root:new tP})}}function tV(){let e=tN("OTEL_TRACES_SAMPLER_ARG");return null==e?(el.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${tj}.`),tj):e<0||e>1?(el.error(`OTEL_TRACES_SAMPLER_ARG=${e} was given, but it is out of range ([0..1]), defaulting to ${tj}.`),tj):e}let tD=128,tB=1/0;function tz(e){let t={sampler:tC()},r=tM(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}function tF(e){let t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??tN("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??tN("OTEL_ATTRIBUTE_COUNT_LIMIT")??tD,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??tN("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??tN("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??tB,Object.assign({},e,{spanLimits:t})}let tq=8,tG=16;class tK{generateTraceId=t$(tG);generateSpanId=t$(tq)}let tH=Array(32);function t$(e){return function(){for(let t=0;t<2*e;t++)tH[t]=Math.floor(16*Math.random())+48,tH[t]>=58&&(tH[t]+=39);return String.fromCharCode.apply(null,tH.slice(0,2*e))}}class tW{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,t,r,n){const o=tz(t);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new tK,this._resource=r,this._spanProcessor=n,this.instrumentationScope=e}startSpan(e,t={},i=eD.active()){let s,a,u;t.root&&(i=tt.deleteSpan(i));let l=tt.getSpan(i);if(tl(i))return el.debug("Instrumentation suppressed, returning Noop Span"),tt.wrapSpanContext(eF);let c=l?.spanContext(),p=this._idGenerator.generateSpanId();c&&tt.isSpanContextValid(c)?(a=c.traceId,u=c.traceState,s=c):a=this._idGenerator.generateTraceId();let d=t.kind??n.INTERNAL,m=(t.links??[]).map(e=>({context:e.context,attributes:tr(e.attributes)})),f=tr(t.attributes),h=this._sampler.shouldSample(i,a,e,d,f,m);u=h.traceState??u;let g={traceId:a,spanId:p,traceFlags:h.decision===o.RECORD_AND_SAMPLED?r.SAMPLED:r.NONE,traceState:u};if(h.decision===o.NOT_RECORD)return el.debug("Recording is off, propagating context in a non-recording span"),tt.wrapSpanContext(g);let y=tr(Object.assign(f,h.attributes));return new tT({resource:this._resource,scope:this.instrumentationScope,context:i,spanContext:g,name:e,kind:d,links:m,parentSpanContext:s,attributes:y,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,r,n){let o,i,s;if(arguments.length<2)return;2==arguments.length?s=t:3==arguments.length?(o=t,s=r):(o=t,i=r,s=n);let a=i??eD.active(),u=this.startSpan(e,o,a),l=tt.setSpan(a,u);return eD.with(l,s,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class tJ{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(e=>{tk(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,r)=>{Promise.all(e).then(()=>{t()},r)})}}!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(u||(u={}));class tY{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){const t=M({},tM(),tF(e));this._resource=t.resource??e_(),this._config=Object.assign({},t,{resource:this._resource});const r=[];e.spanProcessors?.length&&r.push(...e.spanProcessors),this._activeSpanProcessor=new tJ(r)}getTracer(e,t,r){let n=`${e}@${t||""}:${r?.schemaUrl||""}`;return this._tracers.has(n)||this._tracers.set(n,new tW({name:e,version:t,schemaUrl:r?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(n)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(t=>new Promise(r=>{let n,o=setTimeout(()=>{r(Error(`Span processor did not completed within timeout period of ${e} ms`)),n=u.timeout},e);t.forceFlush().then(()=>{clearTimeout(o),n!==u.timeout&&r(n=u.resolved)}).catch(e=>{clearTimeout(o),n=u.error,r(e)})}));return new Promise((e,r)=>{Promise.all(t).then(t=>{let n=t.filter(e=>e!==u.resolved);n.length>0?r(n):e()}).catch(e=>r([e]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}class tQ{_enabled=!1;_currentContext=eI;_bindFunction(e=eI,t){let r=this,n=function(...n){return r.with(e,()=>t.apply(this,n))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n}active(){return this._currentContext}bind(e,t){return(void 0===e&&(e=this.active()),"function"==typeof t)?this._bindFunction(e,t):t}disable(){return this._currentContext=eI,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=eI),this}with(e,t,r,...n){let o=this._currentContext;this._currentContext=e||eI;try{return t.call(r,...n)}finally{this._currentContext=o}}}var tX=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),tZ={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},t0={set:function(e,t,r){null!=e&&(e[t]=r)}},t1=eA("OpenTelemetry Baggage Key");function t2(e){return e.getValue(t1)||void 0}function t3(){return t2(eV.getInstance().active())}function t4(e,t){return e.setValue(t1,t)}function t6(e){return e.deleteValue(t1)}var t8=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},t5=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t7=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=t8(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new e(this._entries);try{for(var s=t5(n),a=s.next();!a.done;a=s.next()){var u=a.value;i._entries.delete(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),t9=Symbol("BaggageEntryMetadata"),re=eu.instance();function rt(e){return void 0===e&&(e={}),new t7(new Map(Object.entries(e)))}function rr(e){return"string"!=typeof e&&(re.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:t9,toString:function(){return e}}}var rn="propagation",ro=new tX,ri=(function(){function e(){this.createBaggage=rt,this.getBaggage=t2,this.getActiveBaggage=t3,this.setBaggage=t4,this.deleteBaggage=t6}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return Q(rn,e,eu.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=t0),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=tZ),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Z(rn,eu.instance())},e.prototype._getGlobalPropagator=function(){return X(rn)||ro},e})().getInstance();class rs{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(e=>"function"==typeof e.fields?e.fields():[]).reduce((e,t)=>e.concat(t),[])))}inject(e,t,r){for(let n of this._propagators)try{n.inject(e,t,r)}catch(e){el.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce((e,n)=>{try{return n.extract(e,t,r)}catch(e){el.warn(`Failed to extract with ${n.constructor.name}. Err: ${e.message}`)}return e},e)}fields(){return this._fields.slice()}}let ra="=",ru=";",rl=",",rc="baggage",rp=180,rd=4096,rm=8192;function rf(e){return e.reduce((e,t)=>{let r=`${e}${""!==e?rl:""}${t}`;return r.length>rm?e:r},"")}function rh(e){return e.getAllEntries().map(([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(r+=ru+t.metadata.toString()),r})}function rg(e){let t,r=e.split(ru);if(r.length<=0)return;let n=r.shift();if(!n)return;let o=n.indexOf(ra);if(o<=0)return;let i=decodeURIComponent(n.substring(0,o).trim()),s=decodeURIComponent(n.substring(o+1).trim());return r.length>0&&(t=rr(r.join(ru))),{key:i,value:s,metadata:t}}class ry{inject(e,t,r){let n=ri.getBaggage(e);if(!n||tl(e))return;let o=rf(rh(n).filter(e=>e.length<=rd).slice(0,rp));o.length>0&&r.set(t,rc,o)}extract(e,t,r){let n=r.get(t,rc),o=Array.isArray(n)?n.join(rl):n;if(!o)return e;let i={};return 0===o.length||(o.split(rl).forEach(e=>{let t=rg(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),i[t.key]=e}}),0===Object.entries(i).length)?e:ri.setBaggage(e,ri.createBaggage(i))}fields(){return[rc]}}let rb="[_0-9a-z-*/]",rv=`[a-z]${rb}{0,255}`,rS=`[a-z0-9]${rb}{0,240}@[a-z]${rb}{0,13}`,rx=RegExp(`^(?:${rv}|${rS})$`),rw=/^[ -~]{0,255}[!-~]$/,rO=/,|=/;function rT(e){return rx.test(e)}function r_(e){return rw.test(e)&&!rO.test(e)}let rN=32,rE=512,rP=",",rA="=";class rI{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+rA+this.get(t)),e),[]).join(rP)}_parse(e){!(e.length>rE)&&(this._internalState=e.split(rP).reverse().reduce((e,t)=>{let r=t.trim(),n=r.indexOf(rA);if(-1!==n){let o=r.slice(0,n),i=r.slice(n+1,t.length);rT(o)&&r_(i)&&e.set(o,i)}return e},new Map),this._internalState.size>rN&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,rN))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new rI;return e._internalState=new Map(this._internalState),e}}let rU="traceparent",rk="tracestate",rL="00",rR="(?!ff)[\\da-f]{2}",rj="(?![0]{32})[\\da-f]{32}",rM="(?![0]{16})[\\da-f]{16}",rC="[\\da-f]{2}",rV=RegExp(`^\\s?(${rR})-(${rj})-(${rM})-(${rC})(-.*)?\\s?$`);function rD(e){let t=rV.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}class rB{inject(e,t,n){let o=tt.getSpanContext(e);if(!o||tl(e)||!e1(o))return;let i=`${rL}-${o.traceId}-${o.spanId}-0${Number(o.traceFlags||r.NONE).toString(16)}`;n.set(t,rU,i),o.traceState&&n.set(t,rk,o.traceState.serialize())}extract(e,t,r){let n=r.get(t,rU);if(!n)return e;let o=Array.isArray(n)?n[0]:n;if("string"!=typeof o)return e;let i=rD(o);if(!i)return e;i.isRemote=!0;let s=r.get(t,rk);if(s){let e=Array.isArray(s)?s.join(","):s;i.traceState=new rI("string"==typeof e?e:void 0)}return tt.setSpanContext(e,i)}fields(){return[rU,rk]}}function rz(e){if(null!==e){if(void 0===e){let e=new tQ;e.enable(),eD.setGlobalContextManager(e);return}e.enable(),eD.setGlobalContextManager(e)}}function rF(e){if(null!==e){if(void 0===e)return void ri.setGlobalPropagator(new rs({propagators:[new rB,new ry]}));ri.setGlobalPropagator(e)}}class rq extends tY{constructor(e={}){super(e)}register(e={}){tt.setGlobalTracerProvider(this),rF(e.propagator),rz(e.contextManager)}}var rG=e.i(878753),rK=e.i(915838),rH=e.i(874068),r$=e.i(643284);let rW=1000000000n,rJ=e=>[Number(e/rW),Number(e%rW)],rY=e=>Object.entries(e).reduce((e,[t,r])=>(e[t]=rQ(r),e),{}),rQ=e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:"bigint"==typeof e?Number(e):r$.toStringUnknown(e),rX=e=>void 0!==e&&!(Array.isArray(e)&&0===e.length);class rZ{emit(e){}}let r0=new rZ;class r1{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}class r2{_callback;_that;_isCalled=!1;_deferred=new r1;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(e=>this._deferred.resolve(e),e=>this._deferred.reject(e))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}class r3{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get eventName(){return this._eventName}set eventName(e){this._isLogRecordReadonly()||(this._eventName=e)}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(e,t,r){const{timestamp:n,observedTimestamp:o,eventName:i,severityNumber:s,severityText:a,body:u,attributes:l={},context:c}=r,p=Date.now();if(this.hrTime=tg(n??p),this.hrTimeObserved=tg(o??p),c){const e=tt.getSpanContext(c);e&&e1(e)&&(this.spanContext=e)}this.severityNumber=s,this.severityText=a,this.body=u,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this._eventName=i,this.setAttributes(l)}setAttribute(e,t){return this._isLogRecordReadonly()||null===t||(0===e.length?el.warn(`Invalid attribute key: ${e}`):to(t)||"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e))?1===this.droppedAttributesCount&&el.warn("Dropping extra attributes."):to(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t:el.warn(`Invalid attribute value set for key: ${e}`)),this}setAttributes(e){for(let[t,r]of Object.entries(e))this.setAttribute(t,r);return this}setBody(e){return this.body=e,this}setEventName(e){return this.eventName=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let t=this._logRecordLimits.attributeValueLengthLimit;return t<=0?(el.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_isLogRecordReadonly(){return this._isReadonly&&el.warn("Can not execute the operation on emitted log record"),this._isReadonly}}class r4{instrumentationScope;_sharedState;constructor(e,t){this.instrumentationScope=e,this._sharedState=t}emit(e){let t=e.context||eD.active(),r=new r3(this._sharedState,this.instrumentationScope,{context:t,...e});this._sharedState.activeProcessor.onEmit(r,t),r._makeReadonly()}}function r6(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:tN("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:tN("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}function r8(e){return{attributeCountLimit:e.attributeCountLimit??tN("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??tN("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:e.attributeValueLengthLimit??tN("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??tN("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}class r5{forceFlush(){return Promise.resolve()}onEmit(e,t){}shutdown(){return Promise.resolve()}}class r7 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r7.prototype)}}function r9(e,t){let r;return Promise.race([e,new Promise(function(e,n){r=setTimeout(function(){n(new r7("Operation timed out."))},t)})]).then(e=>(clearTimeout(r),e),e=>{throw clearTimeout(r),e})}class ne{processors;forceFlushTimeoutMillis;constructor(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(t=>r9(t.forceFlush(),e)))}onEmit(e,t){this.processors.forEach(r=>r.onEmit(e,t))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}}class nt{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(e,t,r,n){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=r,this.processors=n,n.length>0?(this.registeredLogRecordProcessors=n,this.activeProcessor=new ne(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis)):this.activeProcessor=new r5}}let nr="unknown";class nn{_shutdownOnce;_sharedState;constructor(e={}){const t=M({},r6(),e),r=e.resource??e_();this._sharedState=new nt(r,t.forceFlushTimeoutMillis,r8(t.logRecordLimits),e?.processors??[]),this._shutdownOnce=new r2(this._shutdown,this)}getLogger(e,t,r){if(this._shutdownOnce.isCalled)return el.warn("A shutdown LoggerProvider cannot provide a Logger"),r0;e||el.warn("Logger requested without instrumentation scope name.");let n=e||nr,o=`${n}@${t||""}:${r?.schemaUrl||""}`;return this._sharedState.loggers.has(o)||this._sharedState.loggers.set(o,new r4({name:n,version:t,schemaUrl:r?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(o)}forceFlush(){return this._shutdownOnce.isCalled?(el.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(el.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}var no=e.i(266417),ni=e.i(741140),ns=rG,na=e.i(559238),nu=e.i(660421),nl=e.i(45526),nc=rH,np=e.i(153917),nd=e.i(732366);e.i(119075);var nm=rH;let nf=(0,ni.GenericTag)("@effect/opentelemetry/Resource"),nh=e=>nm.succeed(nf,eT(ng(e))),ng=e=>{let t={...e.attributes??void 0,[em]:e.serviceName,[eb]:"@effect/opentelemetry",[eh]:void 0===globalThis.document?eg:ey};return e.serviceVersion&&(t[ef]=e.serviceVersion),t};class ny extends ni.Tag("@effect/opentelemetry/Logger/OtelLoggerProvider")(){}let nb=ns.gen(function*(){let e=yield*ny,t=yield*ns.clock,r=e.getLogger("@effect/opentelemetry");return np.make(e=>{let n=e.date.getTime(),o={fiberId:na.threadName(e.fiberId)},i=ni.getOption(nl.getOrDefault(e.context,nu.currentContext),nd.ParentSpan);for(let[t,r]of("Some"===i._tag&&(o.spanId=i.value.spanId,o.traceId=i.value.traceId),e.annotations))o[t]=rQ(r);for(let t of e.spans)o[`logSpan.${t.label}`]=`${n-t.startTime}ms`;let s=no.ensure(e.message).map(rQ);r.emit({body:1===s.length?s[0]:s,severityText:e.logLevel.label,severityNumber:e.logLevel.ordinal,timestamp:e.date,observedTimestamp:t.unsafeCurrentTimeMillis(),attributes:o})})}),nv=np.addEffect(nb);np.defaultLogger;let nS=(e,t)=>nc.scoped(ny,ns.flatMap(nf,r=>ns.acquireRelease(ns.sync(()=>new nn({...t??void 0,processors:no.ensure(e),resource:r})),e=>ns.promise(()=>e.forceFlush().then(()=>e.shutdown())).pipe(ns.ignoreLogged,ns.interruptible,ns.timeoutOption(t?.shutdownTimeout??3e3)))));!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(l||(l={})),function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"}(c||(c={})),function(e){e.COUNTER="COUNTER",e.GAUGE="GAUGE",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(p||(p={})),function(e){e[e.HISTOGRAM=0]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",e[e.GAUGE=2]="GAUGE",e[e.SUM=3]="SUM"}(d||(d={}));var nx=no,nw=rG,nO=rH,nT=e.i(842502),n_=e.i(503046);n_.MetricKeyTypeTypeId,n_.CounterKeyTypeTypeId,n_.FrequencyKeyTypeTypeId,n_.GaugeKeyTypeTypeId,n_.HistogramKeyTypeTypeId,n_.SummaryKeyTypeTypeId,n_.counter,n_.frequency,n_.gauge,n_.histogram,n_.summary,n_.isMetricKeyType;let nN=n_.isCounterKey,nE=n_.isFrequencyKey,nP=n_.isGaugeKey,nA=n_.isHistogramKey;n_.isSummaryKey;var nI=e.i(700497);nI.MetricStateTypeId,nI.CounterStateTypeId,nI.FrequencyStateTypeId,nI.GaugeStateTypeId,nI.HistogramStateTypeId,nI.SummaryStateTypeId,nI.counter,nI.frequency,nI.gauge,nI.histogram,nI.summary,nI.isMetricState;let nU=nI.isCounterState,nk=nI.isFrequencyState,nL=nI.isGaugeState,nR=nI.isHistogramState,nj=nI.isSummaryState;var nM=e.i(886999);let nC="@effect/opentelemetry/Metrics";class nV{resource;constructor(e){this.resource=e}startTimes=new Map;startTimeFor(e,t){return this.startTimes.has(e)?this.startTimes.get(e):(this.startTimes.set(e,t),t)}collect(e){let t=nT.unsafeSnapshot(),r=nF(),n=[],o=new Map,i=e=>{n.push(e),o.set(e.descriptor.name,e)};for(let e=0,n=t.length;e<n;e++){let{metricKey:n,metricState:s}=t[e],a=nx.reduce(n.tags,{},(e,t)=>(e[t.key]=t.value,e)),u=nB(n,a),m=this.startTimeFor(u.name,r);if(nU(s)){let e={startTime:m,endTime:r,attributes:a,value:Number(s.count)};o.has(u.name)?o.get(u.name).dataPoints.push(e):i({dataPointType:d.SUM,descriptor:u,isMonotonic:u.type===p.COUNTER,aggregationTemporality:c.CUMULATIVE,dataPoints:[e]})}else if(nL(s)){let e={startTime:m,endTime:r,attributes:a,value:Number(s.value)};o.has(u.name)?o.get(u.name).dataPoints.push(e):i({dataPointType:d.GAUGE,descriptor:u,aggregationTemporality:c.CUMULATIVE,dataPoints:[e]})}else if(nR(s)){let e=s.buckets.length,t={boundaries:nx.allocate(e-1),counts:nx.allocate(e)},n=0,l=0;for(let[r,o]of s.buckets)n<e-1&&(t.boundaries[n]=r),t.counts[n]=o-l,l=o,n++;let p={startTime:m,endTime:r,attributes:a,value:{buckets:t,count:s.count,min:s.min,max:s.max,sum:s.sum}};o.has(u.name)?o.get(u.name).dataPoints.push(p):i({dataPointType:d.HISTOGRAM,descriptor:u,aggregationTemporality:c.CUMULATIVE,dataPoints:[p]})}else if(nk(s)){let e=[];for(let[t,n]of s.occurrences)e.push({startTime:m,endTime:r,attributes:{...a,key:t},value:n});o.has(u.name)?o.get(u.name).dataPoints.push(...e):i({dataPointType:d.SUM,descriptor:nB(n,a),aggregationTemporality:c.CUMULATIVE,isMonotonic:!0,dataPoints:e})}else if(nj(s)){let e=[{startTime:m,endTime:r,attributes:{...a,quantile:"min"},value:s.min}];for(let[t,n]of s.quantiles)e.push({startTime:m,endTime:r,attributes:{...a,quantile:t.toString()},value:"Some"===n._tag?n.value:0});e.push({startTime:m,endTime:r,attributes:{...a,quantile:"max"},value:s.max});let t={startTime:m,endTime:r,attributes:a,value:s.count},f={startTime:m,endTime:r,attributes:a,value:s.sum};o.has(`${u.name}_quantiles`)?(o.get(`${u.name}_quantiles`).dataPoints.push(...e),o.get(`${u.name}_count`).dataPoints.push(t),o.get(`${u.name}_sum`).dataPoints.push(f)):(i({dataPointType:d.SUM,descriptor:nB(n,a,"quantiles"),aggregationTemporality:c.CUMULATIVE,isMonotonic:!1,dataPoints:e}),i({dataPointType:d.SUM,descriptor:{...nD(n,"count"),unit:"1",type:p.COUNTER,valueType:l.INT},aggregationTemporality:c.CUMULATIVE,isMonotonic:!0,dataPoints:[t]}),i({dataPointType:d.SUM,descriptor:{...nD(n,"sum"),unit:"1",type:p.COUNTER,valueType:l.DOUBLE},aggregationTemporality:c.CUMULATIVE,isMonotonic:!0,dataPoints:[f]}))}}return Promise.resolve({resourceMetrics:{resource:this.resource,scopeMetrics:[{scope:{name:nC},metrics:n}]},errors:[]})}}let nD=(e,t)=>({name:t?`${e.name}_${t}`:e.name,description:nM.getOrElse(e.description,()=>""),advice:{}}),nB=(e,t,r)=>({...nD(e,r),unit:t.unit??t.time_unit??"1",type:nz(e),valueType:"bigint"in e.keyType&&!0===e.keyType.bigint?l.INT:l.DOUBLE}),nz=e=>nA(e.keyType)?p.HISTOGRAM:nP(e.keyType)?p.OBSERVABLE_GAUGE:nE(e.keyType)?p.COUNTER:nN(e.keyType)&&e.keyType.incremental?p.COUNTER:p.UP_DOWN_COUNTER,nF=()=>{let e=Date.now();return[Math.floor(e/1e3),e%1e3*1e6]},nq=nw.map(nf,e=>new nV(e)),nG=(e,t,r)=>nw.acquireRelease(nw.sync(()=>{let r=t(),n=Array.isArray(r)?r:[r];return n.forEach(t=>t.setMetricProducer(e)),n}),e=>nw.promise(()=>Promise.all(e.map(e=>e.shutdown()))).pipe(nw.ignoreLogged,nw.interruptible,nw.timeoutOption(r?.shutdownTimeout??3e3))),nK=(e,t)=>nO.scopedDiscard(nw.flatMap(nq,r=>nG(r,e,t)));var nH="[_0-9a-z-*/]",n$=RegExp("^(?:[a-z]"+nH+"{0,255}|"+("[a-z0-9]"+nH+"{0,240}@[a-z]"+nH)+"{0,13})$"),nW=/^[ -~]{0,255}[!-~]$/,nJ=/,|=/;function nY(e){return n$.test(e)}function nQ(e){return nW.test(e)&&!nJ.test(e)}var nX=32,nZ=512,n0=",",n1="=",n2=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+n1+e.get(r)),t},[]).join(n0)},e.prototype._parse=function(e){!(e.length>nZ)&&(this._internalState=e.split(n0).reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf(n1);if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,t.length);nY(o)&&nQ(i)&&e.set(o,i)}return e},new Map),this._internalState.size>nX&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,nX))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function n3(e){return new n2(e)}var n4=e.i(51889),n6=ni,n8=rG,n5=rH,n7=nM,n9=nd;let oe=Symbol.for("@effect/opentelemetry/Tracer/OtelSpan"),ot={internal:n.INTERNAL,client:n.CLIENT,server:n.SERVER,producer:n.PRODUCER,consumer:n.CONSUMER},or=(e,t,r)=>{let n=e.getSpan(t),o=n?n.spanContext():void 0;return o?n7.some(n9.externalSpan({spanId:o.spanId,traceId:o.traceId,sampled:(1&o.traceFlags)==1,context:r})):n7.none()};class on{name;context;links;kind;[oe];_tag="Span";span;spanId;traceId;attributes=new Map;sampled;parent;status;constructor(e,t,n,o,i,s,a,u,l,c){this.name=o,this.context=s,this.links=a,this.kind=l,this[oe]=oe;const p=e.active();this.parent="Some"===i._tag?i:c?.root!==!0?or(t,p,s):n7.none(),this.span=n.startSpan(o,{startTime:rJ(u),links:a.length>0?a.map(e=>({context:om(e.span),attributes:rY(e.attributes)})):void 0,kind:ot[this.kind]},"Some"===this.parent._tag?od(p,this.parent.value,s):tt.deleteSpan(p));const d=this.span.spanContext();this.spanId=d.spanId,this.traceId=d.traceId,this.status={_tag:"Started",startTime:u},this.sampled=(d.traceFlags&r.SAMPLED)===r.SAMPLED}attribute(e,t){this.span.setAttribute(e,rQ(t)),this.attributes.set(e,t)}addLinks(e){this.links.push(...e),this.span.addLinks(e.map(e=>({context:om(e.span),attributes:rY(e.attributes)})))}end(e,t){let r=rJ(e);if(this.status={_tag:"Ended",endTime:e,exit:t,startTime:this.status.startTime},"Success"===t._tag)this.span.setStatus({code:i.OK});else if(n4.isInterruptedOnly(t.cause))this.span.setStatus({code:i.OK,message:n4.pretty(t.cause)}),this.span.setAttribute("span.label","⚠︎ Interrupted"),this.span.setAttribute("status.interrupted",!0);else{let e=n4.prettyErrors(t.cause)[0];e?(e.stack=n4.pretty(t.cause,{renderErrorCause:!0}),this.span.recordException(e,r),this.span.setStatus({code:i.ERROR,message:e.message})):this.span.setStatus({code:i.OK})}this.span.end(r)}event(e,t,r){this.span.addEvent(e,r?rY(r):void 0,rJ(t))}}let oo=n6.GenericTag("@effect/opentelemetry/Tracer/OtelTracerProvider"),oi=n6.GenericTag("@effect/opentelemetry/Tracer/OtelTracer"),os=n8.map(oi,e=>n9.make({span:(t,r,n,o,i,s,a)=>new on(eD,tt,e,t,r,n,o.slice(),i,s,a),context(e,t){let r=t.currentSpan;return void 0===r?e():eD.with(od(eD.active(),r),e)}})),oa=n6.GenericTag("@effect/opentelemetry/Tracer/OtelTraceFlags"),ou=n6.GenericTag("@effect/opentelemetry/Tracer/OtelTraceState");n8.currentSpan,()=>tt.getTracerProvider();let ol=n5.effect(oi,n8.flatMap(n8.zip(nf,oo),([e,t])=>n8.sync(()=>t.getTracer(e.attributes[em],e.attributes[ef])))),oc=n5.unwrapEffect(n8.map(os,n5.setTracer)).pipe(n5.provideMerge(ol)),op=n7.liftThrowable(n3),od=(e,t,r)=>t instanceof on?tt.setSpan(e,t.span):tt.setSpanContext(e,om(t,r)),om=(e,t)=>({spanId:e.spanId,traceId:e.traceId,isRemote:"ExternalSpan"===e._tag,traceFlags:n7.getOrElse(t?of(e,t,oa):n6.getOption(e.context,oa),()=>r.SAMPLED),traceState:n7.getOrUndefined(t?of(e,t,ou):n6.getOption(e.context,ou))}),of=(e,t,r)=>n7.orElse(n6.getOption(t,r),()=>n6.getOption(e.context,r)),oh=oc,og=oo,oy=(e,t)=>rH.scoped(og,rG.flatMap(nf,r=>rG.acquireRelease(rG.sync(()=>new rq({...t??void 0,resource:r,spanProcessors:Array.isArray(e)?e:[e]})),e=>rG.ignoreLogged(rG.promise(()=>e.forceFlush().then(()=>e.shutdown())))))),ob=e=>rH.unwrapEffect(rG.map(rG.isEffect(e)?e:rG.sync(e),e=>{let t=nh(e.resource),r=rX(e.spanProcessor)?rH.provide(oh,oy(e.spanProcessor,e.tracerConfig)):rH.empty,n=rX(e.logRecordProcessor)?rH.provide(nv,nS(e.logRecordProcessor,e.loggerProviderConfig)):rH.empty,o=rX(e.metricReader)?nK((0,rK.constant)(e.metricReader)):rH.empty;return rH.mergeAll(r,o,n).pipe(rH.provideMerge(t))}));e.s(["layer",0,ob,"layerTracerProvider",0,oy],247350);var ov=e.i(247350),ov=ov,oS=ni,ox=rG,ow=nu,oO=e.i(788339),oT=e.i(747445),o_=e.i(200738),oN=e.i(918964),oE=e.i(48567);let oP="@effect/platform/FetchHttpClient/Fetch",oA="@effect/platform/FetchHttpClient/FetchOptions",oI=oN.make((e,t,r,n)=>{let o=n.getFiberRef(ow.currentContext),i=o.unsafeMap.get(oP)??globalThis.fetch,s=o.unsafeMap.get(oA)??{},a=s.headers?oT.merge(oT.fromInput(s.headers),e.headers):e.headers,u=n=>ox.map(ox.tryPromise({try:()=>i(t,{...s,method:e.method,headers:a,body:n,duplex:"Stream"===e.body._tag?"half":void 0,signal:r}),catch:t=>new o_.RequestError({request:e,reason:"Transport",cause:t})}),t=>oE.fromWeb(e,t));switch(e.body._tag){case"Raw":case"Uint8Array":return u(e.body.body);case"FormData":return u(e.body.formData);case"Stream":return ox.flatMap(oO.toReadableStreamEffect(e.body.stream),u)}return u(void 0)}),oU=oN.layerMergedContext(ox.succeed(oI));class ok extends oS.Tag(oP)(){}class oL extends oS.Tag(oA)(){}let oR=oU;e.s(["Fetch",()=>ok,"RequestInit",()=>oL,"layer",0,oR],899371);var oj=e.i(899371),oj=oj,oM=e.i(448961);let oC=oM.layerStorage(()=>sessionStorage),oV=oM.layerStorage(()=>localStorage),oD=oC;e.s(["layerLocalStorage",0,oV,"layerSessionStorage",0,oD],258692);var oB=e.i(258692),oB=oB;class oz{_delegate;constructor(e){this._delegate=e}export(e,t){this._delegate.export(e,t)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}}function oF(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function oq(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let o=oF(e.charCodeAt(n)),i=oF(e.charCodeAt(n+1));t[r++]=o<<4|i}return t}function oG(e){let t=BigInt(1e9);return BigInt(Math.trunc(e[0]))*t+BigInt(Math.trunc(e[1]))}function oK(e){return{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}function oH(e){return oK(oG(e))}function o$(e){return oG(e).toString()}let oW="undefined"!=typeof BigInt?o$:tb;function oJ(e){return e}function oY(e){if(void 0!==e)return oq(e)}let oQ={encodeHrTime:oH,encodeSpanContext:oq,encodeOptionalSpanContext:oY};function oX(e){if(void 0===e)return oQ;let t=e.useLongBits??!0,r=e.useHex??!1;return{encodeHrTime:t?oH:oW,encodeSpanContext:r?oJ:oq,encodeOptionalSpanContext:r?oJ:oY}}function oZ(e){let t={attributes:o1(e.attributes),droppedAttributesCount:0},r=e.schemaUrl;return r&&""!==r&&(t.schemaUrl=r),t}function o0(e){return{name:e.name,version:e.version}}function o1(e){return Object.keys(e).map(t=>o2(t,e[t]))}function o2(e,t){return{key:e,value:o3(t)}}function o3(e){let t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(o3)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map(([e,t])=>o2(e,t))}}:{}}function o4(e,t){return{resourceLogs:o8(e,oX(t))}}function o6(e){let t=new Map;for(let r of e){let{resource:e,instrumentationScope:{name:n,version:o="",schemaUrl:i=""}}=r,s=t.get(e);s||(s=new Map,t.set(e,s));let a=`${n}@${o}:${i}`,u=s.get(a);u||(u=[],s.set(a,u)),u.push(r)}return t}function o8(e,t){return Array.from(o6(e),([e,r])=>{let n=oZ(e);return{resource:n,scopeLogs:Array.from(r,([,e])=>({scope:o0(e[0].instrumentationScope),logRecords:e.map(e=>o5(e,t)),schemaUrl:e[0].instrumentationScope.schemaUrl})),schemaUrl:n.schemaUrl}})}function o5(e,t){return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:o7(e.severityNumber),severityText:e.severityText,body:o3(e.body),eventName:e.eventName,attributes:o9(e.attributes),droppedAttributesCount:e.droppedAttributesCount,flags:e.spanContext?.traceFlags,traceId:t.encodeOptionalSpanContext(e.spanContext?.traceId),spanId:t.encodeOptionalSpanContext(e.spanContext?.spanId)}}function o7(e){return e}function o9(e){return Object.keys(e).map(t=>o2(t,e[t]))}let ie={serializeRequest:e=>{let t=o4(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:e=>0===e.length?{}:JSON.parse(new TextDecoder().decode(e))},it=5,ir=1e3,io=5e3,ii=1.5,is=.2;function ia(){return 2*is*Math.random()-is}class iu{_transport;constructor(e){this._transport=e}retry(e,t,r){return new Promise((n,o)=>{setTimeout(()=>{this._transport.send(e,t).then(n,o)},r)})}async send(e,t){let r=Date.now()+t,n=await this._transport.send(e,t),o=it,i=ir;for(;"retryable"===n.status&&o>0;){o--;let t=Math.max(Math.min(i,io)+ia(),0);i*=ii;let s=n.retryInMillis??t,a=r-Date.now();if(s>a)break;n=await this.retry(e,a,s)}return n}shutdown(){return this._transport.shutdown()}}function il(e){return new iu(e.transport)}function ic(e){return[429,502,503,504].includes(e)}function ip(e){if(null==e)return;let t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?1e3*t:-1;let r=new Date(e).getTime()-Date.now();return r>=0?r:0}class id{_parameters;constructor(e){this._parameters=e}send(e,t){return new Promise(r=>{let n=new XMLHttpRequest;n.timeout=t,n.open("POST",this._parameters.url),Object.entries(this._parameters.headers()).forEach(([e,t])=>{n.setRequestHeader(e,t)}),n.ontimeout=e=>{r({status:"failure",error:Error("XHR request timed out")})},n.onreadystatechange=()=>{n.status>=200&&n.status<=299?(el.debug("XHR success"),r({status:"success"})):n.status&&ic(n.status)?r({status:"retryable",retryInMillis:ip(n.getResponseHeader("Retry-After"))}):0!==n.status&&r({status:"failure",error:Error("XHR request failed with non-retryable status")})},n.onabort=()=>{r({status:"failure",error:Error("XHR request aborted")})},n.onerror=()=>{r({status:"failure",error:Error("XHR request errored")})},n.send(e)})}shutdown(){}}function im(e){return new id(e)}class ih{_params;constructor(e){this._params=e}send(e){return new Promise(t=>{navigator.sendBeacon(this._params.url,new Blob([e],{type:this._params.blobType}))?(el.debug("SendBeacon success"),t({status:"success"})):t({status:"failure",error:Error("SendBeacon failed")})})}shutdown(){}}function ig(e){return new ih(e)}class iy{_concurrencyLimit;_sendingPromises=[];constructor(e){this._concurrencyLimit=e}pushPromise(e){if(this.hasReachedLimit())throw Error("Concurrency Limit reached");this._sendingPromises.push(e);let t=()=>{let t=this._sendingPromises.indexOf(e);this._sendingPromises.splice(t,1)};e.then(t,t)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}}function ib(e){return new iy(e.concurrencyLimit)}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(m||(m={}));class iv extends Error{code;name="OTLPExporterError";data;constructor(e,t,r){super(e),this.data=r,this.code=t}}function iS(e){return Object.prototype.hasOwnProperty.call(e,"partialSuccess")}function ix(){return{handleResponse(e){null!=e&&iS(e)&&null!=e.partialSuccess&&0!==Object.keys(e.partialSuccess).length&&el.warn("Received Partial Success response:",JSON.stringify(e.partialSuccess))}}}class iw{_transport;_serializer;_responseHandler;_promiseQueue;_timeout;_diagLogger;constructor(e,t,r,n,o){this._transport=e,this._serializer=t,this._responseHandler=r,this._promiseQueue=n,this._timeout=o,this._diagLogger=el.createComponentLogger({namespace:"OTLPExportDelegate"})}export(e,t){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit())return void t({code:m.FAILED,error:Error("Concurrent export limit reached")});let r=this._serializer.serializeRequest(e);null==r?t({code:m.FAILED,error:Error("Nothing to send")}):this._promiseQueue.pushPromise(this._transport.send(r,this._timeout).then(e=>{if("success"===e.status){if(null!=e.data)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(e.data))}catch(t){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",t,e.data)}t({code:m.SUCCESS});return}"failure"===e.status&&e.error?t({code:m.FAILED,error:e.error}):"retryable"===e.status?t({code:m.FAILED,error:new iv("Export failed with retryable status")}):t({code:m.FAILED,error:new iv("Export failed with unknown error")})},e=>t({code:m.FAILED,error:e})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}}function iO(e,t){return new iw(e.transport,e.serializer,ix(),e.promiseHandler,t.timeout)}function iT(e,t,r){return iO({transport:r,serializer:t,promiseHandler:ib(e)},{timeout:e.timeoutMillis})}class i_{_parameters;constructor(e){this._parameters=e}async send(e,t){let r=new AbortController,n=setTimeout(()=>r.abort(),t);try{let t=!!globalThis.location,n=new URL(this._parameters.url),o=await fetch(n.href,{method:"POST",headers:this._parameters.headers(),body:e,signal:r.signal,keepalive:t,mode:t?globalThis.location?.origin===n.origin?"same-origin":"cors":"no-cors"});if(o.status>=200&&o.status<=299)return el.debug("response success"),{status:"success"};if(ic(o.status)){let e=o.headers.get("Retry-After"),t=ip(e);return{status:"retryable",retryInMillis:t}}return{status:"failure",error:Error("Fetch request failed with non-retryable status")}}catch(e){if(e?.name==="AbortError")return{status:"failure",error:Error("Fetch request timed out",{cause:e})};return{status:"failure",error:Error("Fetch request errored",{cause:e})}}finally{clearTimeout(n)}}shutdown(){}}function iN(e){return new i_(e)}function iE(e,t){return iT(e,t,il({transport:im(e)}))}function iP(e,t){return iT(e,t,il({transport:iN(e)}))}function iA(e,t){return iT(e,t,il({transport:ig({url:e.url,blobType:e.headers()["Content-Type"]})}))}function iI(e){if(Number.isFinite(e)&&e>0)return e;throw Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${e}')`)}function iU(e){if(null!=e)return()=>e}function ik(e,t,r){return{timeoutMillis:iI(e.timeoutMillis??t.timeoutMillis??r.timeoutMillis),concurrencyLimit:e.concurrencyLimit??t.concurrencyLimit??r.concurrencyLimit,compression:e.compression??t.compression??r.compression}}function iL(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}function iR(e){return()=>{let t={};return Object.entries(e?.()??{}).forEach(([e,r])=>{void 0!==r?t[e]=String(r):el.warn(`Header "${e}" has invalid value (${r}) and will be ignored`)}),t}}function ij(e,t,r){let n={...r()},o={};return()=>(null!=t&&Object.assign(o,t()),null!=e&&Object.assign(o,e()),Object.assign(o,n))}function iM(e){if(null!=e)try{let t=globalThis.location?.href;return new URL(e,t).href}catch{throw Error(`Configuration: Could not parse user-provided export URL: '${e}'`)}}function iC(e,t,r){return{...ik(e,t,r),headers:ij(iR(e.headers),t.headers,r.headers),url:iM(e.url)??t.url??r.url}}function iV(e,t){return{...iL(),headers:()=>e,url:"http://localhost:4318/"+t}}function iD(e,t,r){return iC({url:e.url,timeoutMillis:e.timeoutMillis,headers:iU(e.headers),concurrencyLimit:e.concurrencyLimit},{},iV(r,t))}function iB(e,t,r,n){return iz(e.headers)(iD(e,r,n),t)}function iz(e){return e||"function"!=typeof navigator.sendBeacon?void 0!==globalThis.fetch?iP:iE:iA}class iF extends oz{constructor(e={}){super(iB(e,ie,"v1/logs",{"Content-Type":"application/json"}))}}!function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(f||(f={}));class iq{startTime;monotonic;_current;reset;constructor(e,t,r=0,n=!1){this.startTime=e,this.monotonic=t,this._current=r,this.reset=n}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}class iG{monotonic;kind=f.SUM;constructor(e){this.monotonic=e}createAccumulation(e){return new iq(e,this.monotonic)}merge(e,t){let r=e.toPointValue(),n=t.toPointValue();return t.reset?new iq(t.startTime,this.monotonic,n,t.reset):new iq(e.startTime,this.monotonic,r+n)}diff(e,t){let r=e.toPointValue(),n=t.toPointValue();return this.monotonic&&r>n?new iq(t.startTime,this.monotonic,n,!0):new iq(t.startTime,this.monotonic,n-r)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:d.SUM,dataPoints:r.map(([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()})),isMonotonic:this.monotonic}}}class iK{kind=f.DROP;createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,r,n){}}class iH{startTime;_current;sampleTime;constructor(e,t=0,r=[0,0]){this.startTime=e,this._current=t,this.sampleTime=r}record(e){this._current=e,this.sampleTime=tm(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}class i${kind=f.LAST_VALUE;createAccumulation(e){return new iH(e)}merge(e,t){let r=tv(t.sampleTime)>=tv(e.sampleTime)?t:e;return new iH(e.startTime,r.toPointValue(),r.sampleTime)}diff(e,t){let r=tv(t.sampleTime)>=tv(e.sampleTime)?t:e;return new iH(t.startTime,r.toPointValue(),r.sampleTime)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:d.GAUGE,dataPoints:r.map(([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()}))}}}class iW extends Error{constructor(e){super(e),Object.setPrototypeOf(this,iW.prototype)}}function iJ(e,t){let r;return Promise.race([e,new Promise(function(e,n){r=setTimeout(function(){n(new iW("Operation timed out."))},t)})]).then(e=>(clearTimeout(r),e),e=>{throw clearTimeout(r),e})}function iY(e,t){let r=[];return e.forEach(e=>{r.push(...t(e))}),r}function iQ(e,t){let r=0,n=e.length-1,o=e.length;for(;n>=r;){let i=r+Math.trunc((n-r)/2);e[i]<t?r=i+1:(o=i,n=i-1)}return o}function iX(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}class iZ{startTime;_boundaries;_recordMinMax;_current;constructor(e,t,r=!0,n=iX(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=r,this._current=n}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=iQ(this._boundaries,e);this._current.buckets.counts[t]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}class i0{_boundaries;_recordMinMax;kind=f.HISTOGRAM;constructor(e,t){this._boundaries=e,this._recordMinMax=t}createAccumulation(e){return new iZ(e,this._boundaries,this._recordMinMax)}merge(e,t){let r=e.toPointValue(),n=t.toPointValue(),o=r.buckets.counts,i=n.buckets.counts,s=Array(o.length);for(let e=0;e<o.length;e++)s[e]=o[e]+i[e];let a=1/0,u=-1/0;return this._recordMinMax&&(r.hasMinMax&&n.hasMinMax?(a=Math.min(r.min,n.min),u=Math.max(r.max,n.max)):r.hasMinMax?(a=r.min,u=r.max):n.hasMinMax&&(a=n.min,u=n.max)),new iZ(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:r.count+n.count,sum:r.sum+n.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||n.hasMinMax),min:a,max:u})}diff(e,t){let r=e.toPointValue(),n=t.toPointValue(),o=r.buckets.counts,i=n.buckets.counts,s=Array(o.length);for(let e=0;e<o.length;e++)s[e]=i[e]-o[e];return new iZ(t.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:n.count-r.count,sum:n.sum-r.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:d.HISTOGRAM,dataPoints:r.map(([t,r])=>{let o=r.toPointValue(),i=e.type===p.GAUGE||e.type===p.UP_DOWN_COUNTER||e.type===p.OBSERVABLE_GAUGE||e.type===p.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:void 0,max:o.hasMinMax?o.max:void 0,sum:i?void 0:o.sum,buckets:o.buckets,count:o.count}}})}}}class i1{backing;indexBase;indexStart;indexEnd;constructor(e=new i2,t=0,r=0,n=0){this.backing=e,this.indexBase=t,this.indexStart=r,this.indexEnd=n}get offset(){return this.indexStart}get length(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(0!==this.at(e)){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(0!==this.at(e)){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,r=1<<e,n=0,o=0;for(let e=this.indexStart;e<=this.indexEnd;){let i=e%r;i<0&&(i+=r);for(let s=i;s<r&&n<t;s++)this._relocateBucket(o,n),n++,e++;o++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new i1(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;0!==e&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}}class i2{_counts;constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,r){let n=Array(e).fill(0);n.splice(r,this._counts.length-t,...this._counts.slice(t)),n.splice(0,t,...this._counts.slice(0,t)),this._counts=n}reverse(e,t){let r=Math.floor((e+t)/2)-e;for(let n=0;n<r;n++){let r=this._counts[e+n];this._counts[e+n]=this._counts[t-n-1],this._counts[t-n-1]=r}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new i2([...this._counts])}}let i3=52,i4=0x7ff00000,i6=1048575,i8=1023,i5=-1022,i7=1023,i9=22250738585072014e-324;function se(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),((t.getUint32(0)&i4)>>20)-i8}function st(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),(t.getUint32(0)&i6)*0x100000000+t.getUint32(4)}function sr(e,t){return 0===e||e===1/0||e===-1/0||Number.isNaN(e)?e:e*Math.pow(2,t)}function sn(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}class so extends Error{}class si{_shift;constructor(e){this._shift=-e}mapToIndex(e){return e<i9?this._minNormalLowerBoundaryIndex():se(e)+this._rightShift(st(e)-1,i3)>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new so(`underflow: ${e} is < minimum lower boundary: ${t}`);let r=this._maxNormalLowerBoundaryIndex();if(e>r)throw new so(`overflow: ${e} is > maximum lower boundary: ${r}`);return sr(1,e<<this._shift)}get scale(){return 0===this._shift?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=i5>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return i7>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}class ss{_scale;_scaleFactor;_inverseFactor;constructor(e){this._scale=e,this._scaleFactor=sr(Math.LOG2E,e),this._inverseFactor=sr(Math.LN2,-e)}mapToIndex(e){if(e<=i9)return this._minNormalLowerBoundaryIndex()-1;if(0===st(e))return(se(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),r=this._maxNormalLowerBoundaryIndex();return t>=r?r:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new so(`overflow: ${e} is > maximum lower boundary: ${t}`)}let r=this._minNormalLowerBoundaryIndex();if(e<=r){if(e===r)return i9;if(e===r-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new so(`overflow: ${e} is < minimum lower boundary: ${r}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return i5<<this._scale}_maxNormalLowerBoundaryIndex(){return(i7+1<<this._scale)-1}}let sa=-10,su=20,sl=Array.from({length:31},(e,t)=>t>10?new ss(t-10):new si(t-10));function sc(e){if(e>su||e<sa)throw new so(`expected scale >= ${sa} && <= ${su}, got: ${e}`);return sl[e+10]}class sp{low;high;static combine(e,t){return new sp(Math.min(e.low,t.low),Math.max(e.high,t.high))}constructor(e,t){this.low=e,this.high=t}}let sd=20,sm=160,sf=2;class sh{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(e,t=sm,r=!0,n=0,o=0,i=0,s=1/0,a=-1/0,u=new i1,l=new i1,c=sc(sd)){this.startTime=e,this._maxSize=t,this._recordMinMax=r,this._sum=n,this._count=o,this._zeroCount=i,this._min=s,this._max=a,this._positive=u,this._negative=l,this._mapping=c,this._maxSize<sf&&(el.warn(`Exponential Histogram Max Size set to ${this._maxSize}, \
                changing to the minimum size of: ${sf}`),this._maxSize=sf)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,0===e){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}}merge(e){0===this._count?(this._min=e.min,this._max=e.max):0!==e.count&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new sh(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,r){let n=this._mapping.mapToIndex(t),o=!1,i=0,s=0;if(0===e.length?(e.indexStart=n,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):n<e.indexStart&&e.indexEnd-n>=this._maxSize?(o=!0,s=n,i=e.indexEnd):n>e.indexEnd&&n-e.indexStart>=this._maxSize&&(o=!0,s=e.indexStart,i=n),o){let e=this._changeScale(i,s);this._downscale(e),n=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,n,r)}_incrementIndexBy(e,t,r){if(0===r)return;if(0===e.length&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){let r=e.indexEnd-t;r>=e.backing.length&&this._grow(e,r+1),e.indexStart=t}else if(t>e.indexEnd){let r=t-e.indexStart;r>=e.backing.length&&this._grow(e,r+1),e.indexEnd=t}let n=t-e.indexBase;n<0&&(n+=e.backing.length),e.incrementBucket(n,r)}_grow(e,t){let r=e.backing.length,n=e.indexBase-e.indexStart,o=r-n,i=sn(t);i>this._maxSize&&(i=this._maxSize);let s=i-n;e.backing.growTo(i,o,s)}_changeScale(e,t){let r=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,r++;return r}_downscale(e){if(0===e)return;if(e<0)throw Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=sc(t)}_minScale(e){let t=Math.min(this.scale,e.scale),r=sp.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),n=sp.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(r.high,r.low),t-this._changeScale(n.high,n.low))}_highLowAtScale(e,t,r){if(0===e.length)return new sp(0,-1);let n=t-r;return new sp(e.indexStart>>n,e.indexEnd>>n)}_mergeBuckets(e,t,r,n){let o=r.offset,i=t.scale-n;for(let t=0;t<r.length;t++)this._incrementIndexBy(e,o+t>>i,r.at(t))}_diffBuckets(e,t,r,n){let o=r.offset,i=t.scale-n;for(let t=0;t<r.length;t++){let n=(o+t>>i)-e.indexBase;n<0&&(n+=e.backing.length),e.decrementBucket(n,r.at(t))}e.trim()}}class sg{_maxSize;_recordMinMax;kind=f.EXPONENTIAL_HISTOGRAM;constructor(e,t){this._maxSize=e,this._recordMinMax=t}createAccumulation(e){return new sh(e,this._maxSize,this._recordMinMax)}merge(e,t){let r=t.clone();return r.merge(e),r}diff(e,t){let r=t.clone();return r.diff(e),r}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:d.EXPONENTIAL_HISTOGRAM,dataPoints:r.map(([t,r])=>{let o=r.toPointValue(),i=e.type===p.GAUGE||e.type===p.UP_DOWN_COUNTER||e.type===p.OBSERVABLE_GAUGE||e.type===p.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:void 0,max:o.hasMinMax?o.max:void 0,sum:i?void 0:o.sum,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},count:o.count,scale:o.scale,zeroCount:o.zeroCount}}})}}}class sy{static DEFAULT_INSTANCE=new iK;createAggregator(e){return sy.DEFAULT_INSTANCE}}class sb{static MONOTONIC_INSTANCE=new iG(!0);static NON_MONOTONIC_INSTANCE=new iG(!1);createAggregator(e){switch(e.type){case p.COUNTER:case p.OBSERVABLE_COUNTER:case p.HISTOGRAM:return sb.MONOTONIC_INSTANCE;default:return sb.NON_MONOTONIC_INSTANCE}}}class sv{static DEFAULT_INSTANCE=new i$;createAggregator(e){return sv.DEFAULT_INSTANCE}}class sS{static DEFAULT_INSTANCE=new i0([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);createAggregator(e){return sS.DEFAULT_INSTANCE}}class sx{_recordMinMax;_boundaries;constructor(e,t=!0){if(this._recordMinMax=t,null==e)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");const r=(e=(e=e.concat()).sort((e,t)=>e-t)).lastIndexOf(-1/0);let n=e.indexOf(1/0);-1===n&&(n=void 0),this._boundaries=e.slice(r+1,n)}createAggregator(e){return new i0(this._boundaries,this._recordMinMax)}}class sw{_maxSize;_recordMinMax;constructor(e=160,t=!0){this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new sg(this._maxSize,this._recordMinMax)}}class sO{_resolve(e){switch(e.type){case p.COUNTER:case p.UP_DOWN_COUNTER:case p.OBSERVABLE_COUNTER:case p.OBSERVABLE_UP_DOWN_COUNTER:return s_;case p.GAUGE:case p.OBSERVABLE_GAUGE:return sN;case p.HISTOGRAM:if(e.advice.explicitBucketBoundaries)return new sx(e.advice.explicitBucketBoundaries);return sE}return el.warn(`Unable to recognize instrument type: ${e.type}`),sT}createAggregator(e){return this._resolve(e).createAggregator(e)}}let sT=new sy,s_=new sb,sN=new sv,sE=new sS;new sw,new sO,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.DROP=1]="DROP",e[e.SUM=2]="SUM",e[e.LAST_VALUE=3]="LAST_VALUE",e[e.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM"}(h||(h={})),function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE",e[e.LOWMEMORY=2]="LOWMEMORY"}(g||(g={}));let sP=()=>c.CUMULATIVE,sA=e=>{switch(e){case p.COUNTER:case p.OBSERVABLE_COUNTER:case p.GAUGE:case p.HISTOGRAM:case p.OBSERVABLE_GAUGE:return c.DELTA;case p.UP_DOWN_COUNTER:case p.OBSERVABLE_UP_DOWN_COUNTER:return c.CUMULATIVE}},sI=e=>{switch(e){case p.COUNTER:case p.HISTOGRAM:return c.DELTA;case p.GAUGE:case p.UP_DOWN_COUNTER:case p.OBSERVABLE_UP_DOWN_COUNTER:case p.OBSERVABLE_COUNTER:case p.OBSERVABLE_GAUGE:return c.CUMULATIVE}};function sU(){let e=(t_("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();return"cumulative"===e?sP:"delta"===e?sA:"lowmemory"===e?sI:(el.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${e}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),sP)}function sk(e){return null!=e?e===g.DELTA?sA:e===g.LOWMEMORY?sI:sP:sU()}let sL=Object.freeze({type:h.DEFAULT});function sR(e){return e?.aggregationPreference??(()=>sL)}class sj extends oz{_aggregationTemporalitySelector;_aggregationSelector;constructor(e,t){super(e),this._aggregationSelector=sR(t),this._aggregationTemporalitySelector=sk(t?.temporalityPreference)}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}}var sM=e.i(700837);function sC(e,t){let r=oX(t),n=oZ(e.resource);return{resource:n,schemaUrl:n.schemaUrl,scopeMetrics:sV(e.scopeMetrics,r)}}function sV(e,t){return Array.from(e.map(e=>({scope:o0(e.scope),metrics:e.metrics.map(e=>sD(e,t)),schemaUrl:e.scope.schemaUrl})))}function sD(e,t){let r={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},n=sG(e.aggregationTemporality);switch(e.dataPointType){case d.SUM:r.sum={aggregationTemporality:n,isMonotonic:e.isMonotonic,dataPoints:sz(e,t)};break;case d.GAUGE:r.gauge={dataPoints:sz(e,t)};break;case d.HISTOGRAM:r.histogram={aggregationTemporality:n,dataPoints:sF(e,t)};break;case d.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:n,dataPoints:sq(e,t)}}return r}function sB(e,t,r){let n={attributes:o1(e.attributes),startTimeUnixNano:r.encodeHrTime(e.startTime),timeUnixNano:r.encodeHrTime(e.endTime)};switch(t){case l.INT:n.asInt=e.value;break;case l.DOUBLE:n.asDouble=e.value}return n}function sz(e,t){return e.dataPoints.map(r=>sB(r,e.descriptor.valueType,t))}function sF(e,t){return e.dataPoints.map(e=>{let r=e.value;return{attributes:o1(e.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,min:r.min,max:r.max,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}})}function sq(e,t){return e.dataPoints.map(e=>{let r=e.value;return{attributes:o1(e.attributes),count:r.count,min:r.min,max:r.max,sum:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},scale:r.scale,zeroCount:r.zeroCount,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}})}function sG(e){switch(e){case c.DELTA:return y.AGGREGATION_TEMPORALITY_DELTA;case c.CUMULATIVE:return y.AGGREGATION_TEMPORALITY_CUMULATIVE}}function sK(e,t){return{resourceMetrics:e.map(e=>sC(e,t))}}!function(e){e[e.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",e[e.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",e[e.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE"}(y||(y={}));let sH=sM.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,s$=sM.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,sW={serializeRequest:e=>{let t=sK([e]);return s$.encode(t).finish()},deserializeResponse:e=>sH.decode(e)};class sJ extends sj{constructor(e={}){super(iB(e,sW,"v1/metrics",{"Content-Type":"application/x-protobuf"}),e)}}let sY=256,sQ=512;function sX(e,t){let r=255&e|sY;return t&&(r|=sQ),r}function sZ(e,t){let r=e.spanContext(),n=e.status,o=e.parentSpanContext?.spanId?t.encodeSpanContext(e.parentSpanContext?.spanId):void 0;return{traceId:t.encodeSpanContext(r.traceId),spanId:t.encodeSpanContext(r.spanId),parentSpanId:o,traceState:r.traceState?.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:o1(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(e=>s1(e,t)),droppedEventsCount:e.droppedEventsCount,status:{code:n.code,message:n.message},links:e.links.map(e=>s0(e,t)),droppedLinksCount:e.droppedLinksCount,flags:sX(r.traceFlags,e.parentSpanContext?.isRemote)}}function s0(e,t){return{attributes:e.attributes?o1(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:e.context.traceState?.serialize(),droppedAttributesCount:e.droppedAttributesCount||0,flags:sX(e.context.traceFlags,e.context.isRemote)}}function s1(e,t){return{attributes:e.attributes?o1(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}function s2(e,t){return{resourceSpans:s4(e,oX(t))}}function s3(e){let t=new Map;for(let r of e){let e=t.get(r.resource);e||(e=new Map,t.set(r.resource,e));let n=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,o=e.get(n);o||(o=[],e.set(n,o)),o.push(r)}return t}function s4(e,t){let r=s3(e),n=[],o=r.entries(),i=o.next();for(;!i.done;){let[e,r]=i.value,s=[],a=r.values(),u=a.next();for(;!u.done;){let e=u.value;if(e.length>0){let r=e.map(e=>sZ(e,t));s.push({scope:o0(e[0].instrumentationScope),spans:r,schemaUrl:e[0].instrumentationScope.schemaUrl})}u=a.next()}let l=oZ(e),c={resource:l,scopeSpans:s,schemaUrl:l.schemaUrl};n.push(c),i=o.next()}return n}let s6={serializeRequest:e=>{let t=s2(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:e=>0===e.length?{}:JSON.parse(new TextDecoder().decode(e))};class s8 extends oz{constructor(e={}){super(iB(e,s6,"v1/traces",{"Content-Type":"application/json"}))}}function s5(e){}let s7=function(e,t){return new Promise(r=>{eD.with(tu(eD.active()),()=>{e.export(t,e=>{r(e)})})})};class s9{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(e,t){this._exporter=e,this._maxExportBatchSize=t?.maxExportBatchSize??tN("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=t?.maxQueueSize??tN("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=t?.scheduledDelayMillis??tN("OTEL_BLRP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=t?.exportTimeoutMillis??tN("OTEL_BLRP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new r2(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(el.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let r=[],n=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let e=0;e<n;e++)r.push(this._flushOneBatch());Promise.all(r).then(()=>{e()}).catch(t)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedLogRecords.length)?Promise.resolve():new Promise((e,t)=>{r9(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(t)})}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{tk(e)})},this._scheduledDelayMillis),s5(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let t=()=>s7(this._exporter,e).then(e=>{e.code!==m.SUCCESS&&tk(e.error??Error(`BatchLogRecordProcessor: log record export failed (status ${e})`))}).catch(tk),r=e.map(e=>e.resource).filter(e=>e.asyncAttributesPending);return 0===r.length?t():Promise.all(r.map(e=>e.waitForAsyncAttributes?.())).then(t,tk)}}class ae extends s9{_visibilityChangeListener;_pageHideListener;constructor(e,t){super(e,t),this._onInit(t)}onShutdown(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}_onInit(e){e?.disableAutoFlushOnDocumentHide!==!0&&"undefined"!=typeof document&&(this._visibilityChangeListener=()=>{"hidden"===document.visibilityState&&this.forceFlush()},this._pageHideListener=()=>{this.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}}let at=e=>({type:h.DEFAULT}),ar=e=>c.CUMULATIVE;class an{_shutdown=!1;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(e){this._aggregationSelector=e?.aggregationSelector??at,this._aggregationTemporalitySelector=e?.aggregationTemporalitySelector??ar,this._metricProducers=e?.metricProducers??[],this._cardinalitySelector=e?.cardinalitySelector}setMetricProducer(e){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}selectCardinalityLimit(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3}onInitialized(){}async collect(e){if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");let[t,...r]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e?.timeoutMillis}),...this._metricProducers.map(t=>t.collect({timeoutMillis:e?.timeoutMillis}))]),n=t.errors.concat(iY(r,e=>e.errors));return{resourceMetrics:{resource:t.resourceMetrics.resource,scopeMetrics:t.resourceMetrics.scopeMetrics.concat(iY(r,e=>e.resourceMetrics.scopeMetrics))},errors:n}}async shutdown(e){this._shutdown?el.error("Cannot call shutdown twice."):(e?.timeoutMillis==null?await this.onShutdown():await iJ(this.onShutdown(),e.timeoutMillis),this._shutdown=!0)}async forceFlush(e){this._shutdown?el.warn("Cannot forceFlush on already shutdown MetricReader."):e?.timeoutMillis==null?await this.onForceFlush():await iJ(this.onForceFlush(),e.timeoutMillis)}}class ao extends an{_interval;_exporter;_exportInterval;_exportTimeout;constructor(e){if(super({aggregationSelector:e.exporter.selectAggregation?.bind(e.exporter),aggregationTemporalitySelector:e.exporter.selectAggregationTemporality?.bind(e.exporter),metricProducers:e.metricProducers}),void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=e.exportIntervalMillis??6e4,this._exportTimeout=e.exportTimeoutMillis??3e4,this._exporter=e.exporter}async _runOnce(){try{await iJ(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof iW)return void el.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);tk(e)}}async _doRun(){let{resourceMetrics:e,errors:t}=await this.collect({timeoutMillis:this._exportTimeout});if(t.length>0&&el.error("PeriodicExportingMetricReader: metrics collection errors",...t),e.resource.asyncAttributesPending)try{await e.resource.waitForAsyncAttributes?.()}catch(e){el.debug("Error while resolving async portion of resource: ",e),tk(e)}if(0===e.scopeMetrics.length)return;let r=await s7(this._exporter,e);if(r.code!==m.SUCCESS)throw Error(`PeriodicExportingMetricReader: metrics export failed (error ${r.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),s5(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this.onForceFlush(),await this._exporter.shutdown()}}class ai{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,t){this._exporter=e,this._maxExportBatchSize="number"==typeof t?.maxExportBatchSize?t.maxExportBatchSize:tN("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize="number"==typeof t?.maxQueueSize?t.maxQueueSize:tN("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis="number"==typeof t?.scheduledDelayMillis?t.scheduledDelayMillis:tN("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis="number"==typeof t?.exportTimeoutMillis?t.exportTimeoutMillis:tN("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new r2(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(el.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&r.SAMPLED)!=0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&el.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(el.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let r=[],n=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let e=0,t=n;e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then(()=>{e()}).catch(t)})}_flushOneBatch(){return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise((e,t)=>{let r=setTimeout(()=>{t(Error("Timeout"))},this._exportTimeoutMillis);eD.with(tu(eD.active()),()=>{let n;this._finishedSpans.length<=this._maxExportBatchSize?(n=this._finishedSpans,this._finishedSpans=[]):n=this._finishedSpans.splice(0,this._maxExportBatchSize);let o=()=>this._exporter.export(n,n=>{clearTimeout(r),n.code===m.SUCCESS?e():t(n.error??Error("BatchSpanProcessor: span export failed"))}),i=null;for(let e=0,t=n.length;e<t;e++){let t=n[e];t.resource.asyncAttributesPending&&t.resource.waitForAsyncAttributes&&(i??=[]).push(t.resource.waitForAsyncAttributes())}null===i?o():Promise.all(i).then(o,e=>{tk(e),t(e)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{this._isExporting=!1,tk(e)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),s5(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}class as extends ai{_visibilityChangeListener;_pageHideListener;constructor(e,t){super(e,t),this.onInit(t)}onInit(e){e?.disableAutoFlushOnDocumentHide!==!0&&"undefined"!=typeof document&&(this._visibilityChangeListener=()=>{"hidden"===document.visibilityState&&this.forceFlush().catch(e=>{tk(e)})},this._pageHideListener=()=>{this.forceFlush().catch(e=>{tk(e)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}}var aa=rG,au=rH,al=np,ac=e.i(714522),ap=e.i(777444),ad=rG,am=oO,af=e.i(890171);class ah extends ad.Service()("NetworkMonitor",{scoped:ad.gen(function*(){let e=yield*ad.makeLatch(!0),t=yield*af.make(window.navigator.onLine);return yield*am.async(e=>{let t=()=>e(ad.succeed(ap.of(!0))),r=()=>e(ad.succeed(ap.of(!1)));window.addEventListener("online",t),window.addEventListener("offline",r)}).pipe(am.tap(r=>(r?e.open:e.close).pipe(ad.zipRight(af.update(t,()=>r)))),am.runDrain,ad.forkScoped),{latch:e,ref:t}}),accessors:!0}){}let ag="dev"===b.clientEnv.env,ay=`${b.clientEnv.appName}-client`,ab=ov.layer(()=>({resource:{serviceName:ay},spanProcessor:new as(new s8({url:b.clientEnv.otlpTraceExporterUrl})),logRecordProcessor:new ae(new iF({url:b.clientEnv.otlpLogExporterUrl})),metricReader:new ao({exporter:new sJ({url:b.clientEnv.otlpMetricExporterUrl})})})).pipe(au.provideMerge(oj.layer)),av=ag?al.pretty:al.json,aS=al.minimumLogLevel(ag?ac.Debug:ac.Info),ax=au.mergeAll(av,ab),aw=oj.layer,aO=ah.Default,aT=v.WorkerClient.Default,a_=au.mergeAll(aw,ax,aO,aT,oB.layerLocalStorage).pipe(au.provide(aS)),aN=(e,t,r="clientRuntime.runPromise",n)=>e.runPromise(aa.withSpan(t,r),n),aE=(e,t="clientRuntime.runPromise",r)=>n=>aN(e,n,t,r);e.s(["clientRuntimeLayer",0,a_,"makeRunClientPromise",0,aE,"runClientPromise",0,aN],360443)},643658,e=>{"use strict";let t=e.i(514499).default.createContext(null);e.s(["RuntimeContext",0,t])},732286,e=>{"use strict";var t=e.i(681099),r=e.i(13171),n=e.i(532102),o=e.i(862409);e.i(681830);var i=e.i(797734),s=e.i(449969),a=e.i(916142),u=e.i(259434),l=e.i(837324),c=e.i(482166);function p(e,t){return s.flatMap(e.runtimeEffect,e=>s.withFiberRuntime(r=>(r.setFiberRefs(e.fiberRefs),r.currentRuntimeFlags=e.runtimeFlags,s.provideContext(t,e.context))))}let d={...n.CommitPrototype,[l.TypeId]:l.TypeId,pipe(){return(0,o.pipeArguments)(this,arguments)},commit(){return this.runtimeEffect}},m=(e,t)=>{let r;t=t??u.unsafeMakeMemoMap();let n=c.unsafeRunSyncEffect(a.scopeMake()),o=s.withFiberRuntime(o=>(r||(r=c.unsafeForkEffect(s.tap(i.extend(u.toRuntimeWithMemoMap(e,t),n),e=>{l.cachedRuntime=e}),{scope:n,scheduler:o.currentScheduler})),s.flatten(r.await))),l=Object.assign(Object.create(d),{memoMap:t,scope:n,runtimeEffect:o,cachedRuntime:void 0,runtime:()=>void 0===l.cachedRuntime?c.unsafeRunPromiseEffect(l.runtimeEffect):Promise.resolve(l.cachedRuntime),dispose:()=>c.unsafeRunPromiseEffect(l.disposeEffect),disposeEffect:s.suspend(()=>(l.runtimeEffect=s.die("ManagedRuntime disposed"),l.cachedRuntime=void 0,i.close(l.scope,s.exitVoid))),runFork:(e,t)=>void 0===l.cachedRuntime?c.unsafeForkEffect(p(l,e),t):c.unsafeFork(l.cachedRuntime)(e,t),runSyncExit:e=>void 0===l.cachedRuntime?c.unsafeRunSyncExitEffect(p(l,e)):c.unsafeRunSyncExit(l.cachedRuntime)(e),runSync:e=>void 0===l.cachedRuntime?c.unsafeRunSyncEffect(p(l,e)):c.unsafeRunSync(l.cachedRuntime)(e),runPromiseExit:(e,t)=>void 0===l.cachedRuntime?c.unsafeRunPromiseExitEffect(p(l,e),t):c.unsafeRunPromiseExit(l.cachedRuntime)(e,t),runCallback:(e,t)=>void 0===l.cachedRuntime?c.unsafeRunCallback(c.defaultRuntime)(p(l,e),t):c.unsafeRunCallback(l.cachedRuntime)(e,t),runPromise:(e,t)=>void 0===l.cachedRuntime?c.unsafeRunPromiseEffect(p(l,e),t):c.unsafeRunPromise(l.cachedRuntime)(e,t)});return l};l.TypeId;let f=m;e.i(524062);var h=e.i(514499);let g=v();function y(e,...t){if(!g)return;let r=b(e,...t);performance.mark(r);try{console.log(e,...t)}catch{console.log(r)}}function b(e,...t){return e.replace(/%[sfdO]/g,e=>{let r=t.shift();return"%O"===e&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}function v(){try{let e="nuqs-localStorage-test";if("undefined"==typeof localStorage)return!1;localStorage.setItem(e,e);let t=localStorage.getItem(e)===e;return localStorage.removeItem(e),t&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}let S={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function x(e){return`[nuqs] ${S[e]}
  See https://nuqs.dev/NUQS-${e}`}function w(e){if(0===e.size)return"";let t=[];for(let[r,n]of e.entries()){let e=r.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${O(n)}`)}let r="?"+t.join("&");return T(r),r}function O(e){return e.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,e=>encodeURIComponent(e))}function T(e){}let _=(0,h.createContext)({useAdapter(){throw Error(x(404))}});function N(e){return({children:t,defaultOptions:r,processUrlSearchParams:n,...o})=>(0,h.createElement)(_.Provider,{...o,value:{useAdapter:e,defaultOptions:r,processUrlSearchParams:n}},t)}_.displayName="NuqsAdapterContext",g&&"undefined"!=typeof window&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==_&&console.error(x(303)),window.__NuqsAdapterContext=_);var E=h;let P=function(e){return{method:"throttle",timeMs:e}}(function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}());function A(e,t,r){if("string"==typeof e)r.set(t,e);else{for(let n of(r.delete(t),e))r.append(t,n);r.has(t)||r.set(t,"")}return r}function I(){let e=new Map;return{on(t,r){let n=e.get(t)||[];return n.push(r),e.set(t,n),()=>this.off(t,r)},off(t,r){let n=e.get(t);n&&e.set(t,n.filter(e=>e!==r))},emit(t,r){e.get(t)?.forEach(e=>e(r))}}}function U(e,t,r){let n=setTimeout(function(){e(),r.removeEventListener("abort",o)},t);function o(){clearTimeout(n),r.removeEventListener("abort",o)}r.addEventListener("abort",o)}function k(){let e=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let t=()=>{},r=()=>{};return{promise:new e((e,n)=>{t=e,r=n}),resolve:t,reject:r}}function L(e,t){let r=t;for(let t=e.length-1;t>=0;t--){let n=e[t];if(!n)continue;let o=r;r=()=>n(o)}r()}function R(){return new URLSearchParams(location.search)}var j=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=P.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:e,query:t,options:r},n=P.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),y("[nuqs gtq] Enqueueing %s=%s %O",e,t,r),this.updateMap.set(e,t),"push"===r.history&&(this.options.history="push"),r.scroll&&(this.options.scroll=!0),!1===r.shallow&&(this.options.shallow=!1),r.startTransition&&this.transitions.add(r.startTransition),(!Number.isFinite(this.timeMs)||n>this.timeMs)&&(this.timeMs=n)}getQueuedQuery(e){return this.updateMap.get(e)}getPendingPromise({getSearchParamsSnapshot:e=R}){return this.resolvers?.promise??Promise.resolve(e())}flush({getSearchParamsSnapshot:e=R,rateLimitFactor:t=1,...r},n){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return y("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(e());if(this.resolvers)return this.resolvers.promise;this.resolvers=k();let o=()=>{this.lastFlushedAt=performance.now();let[t,o]=this.applyPendingUpdates({...r,autoResetQueueOnUpdate:r.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:e},n);null===o?(this.resolvers.resolve(t),this.resetQueueOnNextPush=!0):this.resolvers.reject(t),this.resolvers=null},i=()=>{let e=performance.now()-this.lastFlushedAt,r=this.timeMs,n=t*Math.max(0,r-e);y("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",n,r,t),0===n?o():U(o,n,this.controller.signal)};return U(i,0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){let e=Array.from(this.updateMap.keys());return y("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=P.timeMs,e}applyPendingUpdates(e,t){let{updateUrl:r,getSearchParamsSnapshot:n}=e,o=n();if(y("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,o.toString()),0===this.updateMap.size)return[o,null];let i=Array.from(this.updateMap.entries()),s={...this.options},a=Array.from(this.transitions);for(let[t,r]of(e.autoResetQueueOnUpdate&&this.reset(),y("[nuqs gtq] Flushing queue %O with options %O",i,s),i))null===r?o.delete(t):o=A(r,t,o);t&&(o=t(o));try{return L(a,()=>{r(o,s)}),[o,null]}catch(e){return console.error(x(429),i.map(([e])=>e).join(),e),[o,e]}}};let M=new j;function C(e,t,r){let n=(0,E.useCallback)(()=>{let t=Object.fromEntries(e.map(e=>[e,r(e)]));return[JSON.stringify(t),t]},[e.join(","),r]),o=(0,E.useRef)(null);null===o.current&&(o.current=n());let i=(0,E.useCallback)(r=>{let n=e.map(e=>t(e,r));return()=>n.forEach(e=>e())},[e.join(","),t]);return(0,E.useSyncExternalStore)(i,()=>{let[e,t]=n();return o.current[0]===e?o.current[1]:(o.current=[e,t],t)},()=>o.current[1])}var V=class{callback;resolvers=k();controller=new AbortController;queuedValue=void 0;constructor(e){this.callback=e}abort(){this.controller.abort(),this.queuedValue=void 0}push(e,t){return this.queuedValue=e,this.controller.abort(),this.controller=new AbortController,U(()=>{let t=this.resolvers;try{y("[nuqs dq] Flushing debounce queue",e);let r=this.callback(e);y("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=k(),r.then(e=>t.resolve(e)).catch(e=>t.reject(e))}catch(e){this.queuedValue=void 0,t.reject(e)}},t,this.controller.signal),this.resolvers.promise}};let D=new class{throttleQueue;queues=new Map;queuedQuerySync=I();constructor(e=new j){this.throttleQueue=e}useQueuedQueries(e){return C(e,(e,t)=>this.queuedQuerySync.on(e,t),e=>this.getQueuedQuery(e))}push(e,t,r){if(!Number.isFinite(t))return Promise.resolve((r.getSearchParamsSnapshot??R)());let n=e.key;if(!this.queues.has(n)){y("[nuqs dqc] Creating debounce queue for `%s`",n);let e=new V(e=>(this.throttleQueue.push(e),this.throttleQueue.flush(r).finally(()=>{this.queues.get(e.key)?.queuedValue===void 0&&(y("[nuqs dqc] Cleaning up empty queue for `%s`",e.key),this.queues.delete(e.key)),this.queuedQuerySync.emit(e.key)})));this.queues.set(n,e)}y("[nuqs dqc] Enqueueing debounce update %O",e);let o=this.queues.get(n).push(e,t);return this.queuedQuerySync.emit(n),o}abort(e){let t=this.queues.get(e);return t?(y("[nuqs dqc] Aborting debounce queue %s=%s",e,t.queuedValue?.query),this.queues.delete(e),t.abort(),this.queuedQuerySync.emit(e),e=>(e.then(t.resolvers.resolve,t.resolvers.reject),e)):e=>e}abortAll(){for(let[e,t]of this.queues.entries())y("[nuqs dqc] Aborting debounce queue %s=%s",e,t.queuedValue?.query),t.abort(),t.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(e);this.queues.clear()}getQueuedQuery(e){let t=this.queues.get(e)?.queuedValue?.query;return void 0!==t?t:this.throttleQueue.getQueuedQuery(e)}}(M);function B(){y("[nuqs] Aborting queues"),D.abortAll(),M.abort().forEach(e=>D.queuedQuerySync.emit(e))}function z(e){return"undefined"!=typeof history&&(history.nuqs?.version&&"0.0.0-inject-version-here"!==history.nuqs.version?(console.error(x(409),history.nuqs.version,"0.0.0-inject-version-here",e),!1):!history.nuqs?.adapters?.includes(e))}function F(e){history.nuqs=history.nuqs??{version:"0.0.0-inject-version-here",adapters:[]},history.nuqs.adapters.push(e)}var q=h,G=e.i(150629);let K=3,H=0;function $(){H=0,B()}function W(){--H<=0&&(H=0,queueMicrotask(B))}function J(){if(!z("next/app"))return;let e=history.replaceState,t=history.pushState;history.replaceState=function(t,r,n){return W(),e.call(history,t,r,n)},history.pushState=function(e,r,n){return W(),t.call(history,e,r,n)},F("next/app")}function Y(){return(0,q.useEffect)(()=>(J(),window.addEventListener("popstate",$),()=>window.removeEventListener("popstate",$)),[]),null}function Q(e){let{origin:t,pathname:r,hash:n}=location;return t+r+w(e)+n}var X=h;let Z=N(function(){let e=(0,G.useRouter)(),t=(0,G.useSearchParams)(),[r,n]=(0,q.useOptimistic)(t);return{searchParams:r,updateUrl:(0,q.useCallback)((t,r)=>{(0,q.startTransition)(()=>{r.shallow||n(t);let o=Q(t);y("[nuqs next/app] Updating url: %s",o);let i="push"===r.history?history.pushState:history.replaceState;H=K,i.call(history,null,"",o),r.scroll&&window.scrollTo(0,0),r.shallow||e.replace(o,{scroll:!1})})},[]),rateLimitFactor:K,autoResetQueueOnUpdate:!1}});function ee({children:e,...t}){return(0,X.createElement)(Z,{...t,children:[(0,X.createElement)(X.Suspense,{key:"nuqs-adapter-suspense-navspy",children:(0,X.createElement)(Y)}),e]})}var et=e.i(360443),er=t,en=r,eo=e.i(915838),ei=h,es=e.i(643658);let ea=e=>{let t,r,n,o=(0,en.c)(6),{children:i,runtime:s}=e,a=ei.default.useRef(!1);return o[0]!==s?(t=()=>a.current?()=>{s.dispose()}:(a.current=!0,eo.constVoid),r=[s],o[0]=s,o[1]=t,o[2]=r):(t=o[1],r=o[2]),ei.default.useEffect(t,r),o[3]!==i||o[4]!==s?(n=(0,er.jsx)(es.RuntimeContext.Provider,{value:s,children:i}),o[3]=i,o[4]=s,o[5]=n):n=o[5],n},eu=e=>{let n,o,i=(0,r.c)(3),{children:s}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(n=f(et.clientRuntimeLayer),i[0]=n):n=i[0];let a=n;return i[1]!==s?(o=(0,t.jsx)(ea,{runtime:a,children:(0,t.jsx)(ee,{children:s})}),i[1]=s,i[2]=o):o=i[2],o};e.s(["BeepProvider",0,eu],732286)},566936,(e,t,r)=>{"use strict";function n(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<s(o,t))e[n]=t,e[r]=o,r=n;else break}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,i=o>>>1;n<i;){var a=2*(n+1)-1,u=e[a],l=a+1,c=e[l];if(0>s(u,r))l<o&&0>s(c,u)?(e[n]=c,e[l]=r,n=l):(e[n]=u,e[a]=r,n=a);else if(l<o&&0>s(c,r))e[n]=c,e[l]=r,n=l;else break}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(r.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,u=performance;r.unstable_now=function(){return u.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var p=[],d=[],m=1,f=null,h=3,g=!1,y=!1,b=!1,v=!1,S="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function O(e){for(var t=o(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,n(p,t);else break;t=o(d)}}function T(e){if(b=!1,O(e),!y)if(null!==o(p))y=!0,_||(_=!0,a());else{var t=o(d);null!==t&&L(T,t.startTime-e)}}var _=!1,N=-1,E=5,P=-1;function A(){return!!v||!(r.unstable_now()-P<E)}function I(){if(v=!1,_){var e=r.unstable_now();P=e;var t=!0;try{e:{y=!1,b&&(b=!1,x(N),N=-1),g=!0;var n=h;try{t:{for(O(e),f=o(p);null!==f&&!(f.expirationTime>e&&A());){var s=f.callback;if("function"==typeof s){f.callback=null,h=f.priorityLevel;var u=s(f.expirationTime<=e);if(e=r.unstable_now(),"function"==typeof u){f.callback=u,O(e),t=!0;break t}f===o(p)&&i(p),O(e)}else i(p);f=o(p)}if(null!==f)t=!0;else{var l=o(d);null!==l&&L(T,l.startTime-e),t=!1}}break e}finally{f=null,h=n,g=!1}}}finally{t?a():_=!1}}}if("function"==typeof w)a=function(){w(I)};else if("undefined"!=typeof MessageChannel){var U=new MessageChannel,k=U.port2;U.port1.onmessage=I,a=function(){k.postMessage(null)}}else a=function(){S(I,0)};function L(e,t){N=S(function(){e(r.unstable_now())},t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(e){e.callback=null},r.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},r.unstable_requestPaint=function(){v=!0},r.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},r.unstable_scheduleCallback=function(e,t,i){var s=r.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=0x3fffffff;break;case 4:u=1e4;break;default:u=5e3}return u=i+u,e={id:m++,callback:t,priorityLevel:e,startTime:i,expirationTime:u,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===o(p)&&e===o(d)&&(b?(x(N),N=-1):b=!0,L(T,i-s))):(e.sortIndex=u,n(p,e),y||g||(y=!0,_||(_=!0,a()))),e},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},189499,(e,t,r)=>{"use strict";t.exports=e.r(566936)},35575,911601,840529,488043,e=>{"use strict";var t,r,n,o=e.i(878753),i=e.i(615446),s=e.i(980914),a=e.i(915838),u=e.i(249646),l=e.i(886999),c=e.i(383615),p=e.i(788339),d=e.i(51889),m=i,f=s,h=a,g=e.i(349543),y=l,b=e.i(862409),v=e.i(681830);e.i(277233);let S=Symbol.for("@effect-atom/atom/Result"),x=e=>(0,v.hasProperty)(e,S),w={[S]:{E:h.identity,A:h.identity},pipe(){return(0,b.pipeArguments)(this,arguments)},[m.symbol](e){if(this._tag!==e._tag&&this.waiting!==e.waiting)return!1;switch(this._tag){case"Initial":return!0;case"Success":return m.equals(this.value,e.value);case"Failure":return m.equals(this.cause,e.cause)}},[g.symbol](){let e=g.string(`${this._tag}:${this.waiting}`);return"Initial"===this._tag?g.cached(this,e):g.cached(this,g.combine(e)("Success"===this._tag?g.hash(this.value):g.hash(this.cause)))}},O=(e,t)=>"Success"===e._tag?A(e.value):k(e.cause,{previous:t}),T=e=>"None"===e._tag?E(!0):R(e.value),_=e=>"Initial"===e._tag,N=e=>"Initial"!==e._tag,E=(e=!1)=>{let t=Object.create(w);return t._tag="Initial",t.waiting=e,t},P=e=>"Success"===e._tag,A=(e,t)=>{let r=Object.create(w);return r._tag="Success",r.value=e,r.waiting=t?.waiting??!1,r.timestamp=t?.timestamp??Date.now(),r},I=e=>"Failure"===e._tag,U=(e,t)=>{let r=Object.create(w);return r._tag="Failure",r.cause=e,r.previousSuccess=t?.previousSuccess??y.none(),r.waiting=t?.waiting??!1,r},k=(e,t)=>U(e,{previousSuccess:y.flatMap(t.previous,e=>P(e)?y.some(e):I(e)?e.previousSuccess:y.none()),waiting:t.waiting}),L=(e,t)=>k(d.fail(e),t),R=(e,t)=>{if(e.waiting)return t?.touch?j(e):e;let r=Object.assign(Object.create(w),e);return r.waiting=!0,t?.touch&&P(r)&&(r.timestamp=Date.now()),r},j=e=>P(e)?A(e.value,{waiting:e.waiting}):e,M=(e,t)=>"Failure"===e._tag?k(e.cause,{previous:t,waiting:e.waiting}):e,C=e=>"Success"===e._tag?y.some(e.value):"Failure"===e._tag?y.map(e.previousSuccess,e=>e.value):y.none(),V=(0,h.dual)(2,(e,t)=>y.getOrElse(C(e),t)),D=e=>y.getOrThrowWith(C(e),()=>new d.NoSuchElementException("Result.getOrThrow: no value found")),B=e=>{switch(e._tag){case"Success":return f.succeed(e.value);case"Failure":return f.failCause(e.cause);default:return f.fail(new d.NoSuchElementException)}},z=(0,h.dual)(2,(e,t)=>{switch(e._tag){case"Initial":return e;case"Failure":return U(e.cause,{previousSuccess:y.map(e.previousSuccess,e=>A(t(e.value),e)),waiting:e.waiting});case"Success":return A(t(e.value),e)}});e.s(["failWithPrevious",0,L,"failureWithPrevious",0,k,"fromExitWithPrevious",0,O,"getOrElse",0,V,"getOrThrow",0,D,"initial",0,E,"isFailure",0,I,"isInitial",0,_,"isNotInitial",0,N,"isResult",0,x,"isSuccess",0,P,"map",0,z,"replacePrevious",0,M,"success",0,A,"toExit",0,B,"value",0,C,"waiting",0,R,"waitingFrom",0,T],911601);let F={immediate:!0};function q(e){}let G="~effect-atom/atom/Registry",K=e=>new W(e?.initialValues,e?.scheduleTask,e?.timeoutResolution,e?.defaultIdleTTL),H="~effect-atom/atom/Atom/Serializable",$=e=>H in e?e[H].key:e;class W{scheduleTask;defaultIdleTTL;[G];timeoutResolution;constructor(e,t=e=>queueMicrotask(e),r,n){if(this.scheduleTask=t,this.defaultIdleTTL=n,this[G]=G,void 0===r&&void 0!==n?this.timeoutResolution=Math.round(n/2):this.timeoutResolution=r??1e3,void 0!==e)for(const[t,r]of e)this.ensureNode(t).setValue(r)}nodes=new Map;preloadedSerializable=new Map;timeoutBuckets=new Map;nodeTimeoutBucket=new Map;disposed=!1;getNodes(){return this.nodes}get(e){return this.ensureNode(e).value()}set(e,t){e.write(this.ensureNode(e).writeContext,t)}setSerializable(e,t){this.preloadedSerializable.set(e,t)}modify(e,t){let r=this.ensureNode(e),n=t(r.value());return e.write(r.writeContext,n[1]),n[0]}update(e,t){let r=this.ensureNode(e);e.write(r.writeContext,t(r.value()))}refresh=e=>{void 0!==e.refresh?e.refresh(this.refresh):this.invalidateAtom(e)};subscribe(e,t,r){let n=this.ensureNode(e);r?.immediate&&t(n.value());let o=n.subscribe(function(){t(n._value)});return()=>{o(),n.canBeRemoved&&this.scheduleNodeRemoval(n)}}mount(e){return this.subscribe(e,q,F)}atomHasTtl(e){return!e.keepAlive&&0!==e.idleTTL&&(void 0!==e.idleTTL||void 0!==this.defaultIdleTTL)}ensureNode(e){let t=$(e),r=this.nodes.get(t);if(void 0===r?(r=this.createNode(e),this.nodes.set(t,r)):this.atomHasTtl(e)&&this.removeNodeTimeout(r),"string"==typeof t&&this.preloadedSerializable.has(t)){let n=this.preloadedSerializable.get(t);this.preloadedSerializable.delete(t);let o=e[H].decode(n);r.setValue(o)}return r}createNode(e){if(this.disposed)throw Error(`Cannot access Atom ${e}: registry is disposed`);return e.keepAlive||this.scheduleAtomRemoval(e),new J(this,e)}invalidateAtom=e=>{this.ensureNode(e).invalidate()};scheduleAtomRemoval(e){this.scheduleTask(()=>{let t=this.nodes.get($(e));void 0!==t&&t.canBeRemoved&&this.removeNode(t)})}scheduleNodeRemoval(e){this.scheduleTask(()=>{e.canBeRemoved&&this.removeNode(e)})}removeNode(e){this.atomHasTtl(e.atom)?this.setNodeTimeout(e):(this.nodes.delete($(e.atom)),e.remove())}setNodeTimeout(e){if(this.nodeTimeoutBucket.has(e))return;let t=e.atom.idleTTL??this.defaultIdleTTL;if(null!==this.#e&&(t-=this.#e)<=0){this.nodes.delete($(e.atom)),e.remove();return}let r=Math.ceil(t/this.timeoutResolution)*this.timeoutResolution,n=Date.now()+r,o=n-n%this.timeoutResolution+this.timeoutResolution,i=this.timeoutBuckets.get(o);void 0===i&&(i=[new Set,setTimeout(()=>this.sweepBucket(o),o-Date.now())],this.timeoutBuckets.set(o,i)),i[0].add(e),this.nodeTimeoutBucket.set(e,o)}removeNodeTimeout(e){let t=this.nodeTimeoutBucket.get(e);if(void 0===t)return;this.nodeTimeoutBucket.delete(e),this.scheduleNodeRemoval(e);let[r,n]=this.timeoutBuckets.get(t);r.delete(e),0===r.size&&(clearTimeout(n),this.timeoutBuckets.delete(t))}#e=null;sweepBucket(e){let t=this.timeoutBuckets.get(e)[0];this.timeoutBuckets.delete(e),t.forEach(e=>{e.canBeRemoved&&(this.nodeTimeoutBucket.delete(e),this.nodes.delete($(e.atom)),this.#e=e.atom.idleTTL??this.defaultIdleTTL,e.remove(),this.#e=null)})}reset(){this.timeoutBuckets.forEach(([,e])=>clearTimeout(e)),this.timeoutBuckets.clear(),this.nodeTimeoutBucket.clear(),this.nodes.forEach(e=>e.remove()),this.nodes.clear()}dispose(){this.disposed=!0,this.reset()}}!function(e){e[e.alive=1]="alive",e[e.initialized=2]="initialized",e[e.waitingForValue=4]="waitingForValue"}(t||(t={})),function(e){e[e.uninitialized=5]="uninitialized",e[e.stale=7]="stale",e[e.valid=3]="valid",e[e.removed=0]="removed"}(r||(r={}));class J{registry;atom;constructor(e,t){this.registry=e,this.atom=t,this.writeContext=new ee(e,this)}state=r.uninitialized;lifetime;writeContext;parents=[];previousParents;children=[];listeners=[];skipInvalidation=!1;get canBeRemoved(){return!this.atom.keepAlive&&0===this.listeners.length&&0===this.children.length&&0!==this.state}_value=void 0;value(){if((this.state&t.waitingForValue)!=0){this.lifetime=Z(this);let e=this.atom.read(this.lifetime);if((this.state&t.waitingForValue)!=0&&this.setValue(e),this.previousParents){let e=this.previousParents;this.previousParents=void 0;for(let t=0;t<e.length;t++)e[t].removeChild(this),e[t].canBeRemoved&&this.registry.scheduleNodeRemoval(e[t])}}return this._value}valueOption(){return(this.state&t.initialized)==0?l.none():l.some(this._value)}setValue(e){if((this.state&t.initialized)==0){this.state=r.valid,this._value=e,et.phase===n.collect?et.notify.add(this):this.notify();return}this.state=r.valid,!i.equals(this._value,e)&&(this._value=e,this.skipInvalidation?this.skipInvalidation=!1:this.invalidateChildren(),this.listeners.length>0&&(et.phase===n.collect?et.notify.add(this):this.notify()))}addParent(e){if(this.parents.push(e),void 0!==this.previousParents){let t=this.previousParents.indexOf(e);-1!==t&&(this.previousParents[t]=this.previousParents[this.previousParents.length-1],void 0===this.previousParents.pop()&&(this.previousParents=void 0))}-1===e.children.indexOf(this)&&e.children.push(this)}removeChild(e){let t=this.children.indexOf(e);-1!==t&&(this.children[t]=this.children[this.children.length-1],this.children.pop())}invalidate(){this.state===r.valid&&(this.state=r.stale,this.disposeLifetime()),et.phase===n.collect?et.stale.push(this):this.atom.lazy&&0===this.listeners.length&&!Y(this.children)?(this.invalidateChildren(),this.skipInvalidation=!0):this.value()}invalidateChildren(){if(0===this.children.length)return;let e=this.children;this.children=[];for(let t=0;t<e.length;t++)e[t].invalidate()}notify(){for(let e=0;e<this.listeners.length;e++)this.listeners[e]();et.phase===n.commit&&et.notify.delete(this)}disposeLifetime(){void 0!==this.lifetime&&(this.lifetime.dispose(),this.lifetime=void 0),0!==this.parents.length&&(this.previousParents=this.parents,this.parents=[])}remove(){if(this.state=r.removed,this.listeners=[],void 0===this.lifetime||(this.disposeLifetime(),void 0===this.previousParents))return;let e=this.previousParents;this.previousParents=void 0;for(let t=0;t<e.length;t++)e[t].removeChild(this),e[t].canBeRemoved&&this.registry.removeNode(e[t])}subscribe(e){return this.listeners.push(e),()=>{let t=this.listeners.indexOf(e);-1!==t&&(this.listeners[t]=this.listeners[this.listeners.length-1],this.listeners.pop())}}}function Y(e){let t;if(0===e.length)return!1;let r=e,n=0;for(;void 0!==r;){for(let e=0,n=r.length;e<n;e++){let n=r[e];if(!n.atom.lazy||n.listeners.length>0)return!0;n.children.length>0&&(void 0===t?t=[n.children]:t.push(n.children))}r=t?.[n++]}return!1}let Q=e=>Error(`Cannot use context of disposed Atom: ${e}`),X={get registry(){return this.node.registry},addFinalizer(e){if(this.disposed)throw Q(this.node.atom);this.finalizers??=[],this.finalizers.push(e)},get(e){if(this.disposed)throw Q(this.node.atom);let t=this.node.registry.ensureNode(e);return this.node.addParent(t),t.value()},result(e,t){if(this.disposed)throw Q(this.node.atom);if(this.isFn)return this.resultOnce(e);let r=this.get(e);if(t?.suspendOnWaiting&&r.waiting)return o.never;switch(r._tag){case"Initial":return o.never;case"Failure":return s.failCause(r.cause);case"Success":return o.succeed(r.value)}},resultOnce(e,t){if(this.disposed)throw Q(this.node.atom);return o.async(r=>{let n=this.once(e);if("Initial"!==n._tag&&!(t?.suspendOnWaiting&&n.waiting))return r(B(n));let i=this.node.registry.subscribe(e,e=>{"Initial"===e._tag||t?.suspendOnWaiting&&e.waiting||(i(),r(B(e)))},{immediate:!1});return o.sync(i)})},some(e){if(this.disposed)throw Q(this.node.atom);if(this.isFn)return this.someOnce(e);let t=this.get(e);return"None"===t._tag?o.never:o.succeed(t.value)},someOnce(e){if(this.disposed)throw Q(this.node.atom);return o.async(t=>{let r=this.once(e);if(l.isSome(r))return t(o.succeed(r.value));let n=this.node.registry.subscribe(e,e=>{l.isNone(e)||(n(),t(o.succeed(e.value)))},{immediate:!1});return o.sync(n)})},once(e){if(this.disposed)throw Q(this.node.atom);return this.node.registry.get(e)},self(){if(this.disposed)throw Q(this.node.atom);return this.node.valueOption()},refresh(e){if(this.disposed)throw Q(this.node.atom);this.node.registry.refresh(e)},refreshSelf(){if(this.disposed)throw Q(this.node.atom);this.node.invalidate()},mount(e){if(this.disposed)throw Q(this.node.atom);this.addFinalizer(this.node.registry.mount(e))},subscribe(e,t,r){if(this.disposed)throw Q(this.node.atom);this.addFinalizer(this.node.registry.subscribe(e,t,r))},setSelf(e){if(this.disposed)throw Q(this.node.atom);this.node.setValue(e)},set(e,t){if(this.disposed)throw Q(this.node.atom);this.node.registry.set(e,t)},stream(e,t){if(this.disposed)throw Q(this.node.atom);return(0,a.pipe)(o.acquireRelease(c.bounded(t?.bufferSize??16),c.shutdown),o.tap(r=>o.acquireRelease(o.sync(()=>this.node.registry.subscribe(e,e=>{c.unsafeOffer(r,e)},{immediate:t?.withoutInitialValue!==!0})),e=>o.sync(e))),o.map(e=>p.fromQueue(e)),p.unwrapScoped)},streamResult(e,t){return(0,a.pipe)(this.stream(e,t),p.filter(N),p.flatMap(e=>"Success"===e._tag?p.succeed(e.value):p.failCause(e.cause)))},dispose(){if(this.disposed=!0,void 0===this.finalizers)return;let e=this.finalizers;this.finalizers=void 0;for(let t=e.length-1;t>=0;t--)e[t]()}},Z=e=>{function t(r){if(t.disposed)throw Q(r);if(t.isFn)return e.registry.get(r);let n=e.registry.ensureNode(r);return e.addParent(n),n.value()}return Object.setPrototypeOf(t,X),t.isFn=!1,t.disposed=!1,t.finalizers=void 0,t.node=e,t};class ee{registry;node;constructor(e,t){this.registry=e,this.node=t}get(e){return this.registry.get(e)}set(e,t){return this.registry.set(e,t)}setSelf(e){return this.node.setValue(e)}refreshSelf(){return this.node.invalidate()}}!function(e){e[e.disabled=0]="disabled",e[e.collect=1]="collect",e[e.commit=2]="commit"}(n||(n={}));let et=(0,u.globalValue)("@effect-atom/atom/Registry/batchState",()=>({phase:n.disabled,depth:0,stale:[],notify:new Set}));function er(e){et.phase=n.collect,et.depth++;try{if(e(),1===et.depth){for(let e=0;e<et.stale.length;e++)en(et.stale[e]);for(let e of(et.phase=n.commit,et.notify))e.notify();et.notify.clear()}}finally{et.depth--,0===et.depth&&(et.phase=n.disabled,et.stale=[])}}function en(e){if(e.state!==r.valid){for(let t=0;t<e.parents.length;t++){let n=e.parents[t];n.state!==r.valid&&en(n)}e.state!==r.valid&&e.value()}}e.s(["batch",()=>er,"make",0,K],35575);var eo=e.i(741140),ei=o,es=(e.i(660421),a),ea=(e.i(874068),e.i(167256)),eu=v,el=e.i(797734),ec=p;let ep="~effect-atom/atom/Registry",ed=e=>(0,eu.hasProperty)(e,ep),em=K;class ef extends eo.Tag("@effect/atom/Registry/CurrentRegistry")(){}let eh=(0,es.dual)(2,(e,t)=>ec.unwrapScoped(ei.contextWithEffect(r=>{let n=eo.get(r,el.Scope);return ea.make().pipe(ei.tap(r=>{let o=e.subscribe(t,e=>r.unsafeOffer(e),{immediate:!0});return el.addFinalizer(n,ei.suspend(()=>(o(),r.shutdown)))}),ei.uninterruptible,ei.map(e=>ea.toStream(e)))}))),eg=(0,es.dual)(2,(e,t)=>eh(e,t).pipe(ec.filter(N),ec.mapEffect(e=>"Success"===e._tag?ei.succeed(e.value):ei.failCause(e.cause)))),ey=(0,es.dual)(e=>ed(e[0]),(e,t,r)=>{let n=r?.suspendOnWaiting??!1;return ei.async(r=>{let o=e.get(t);if("Initial"!==o._tag&&!(n&&o.waiting))return r(B(o));let i=e.subscribe(t,e=>{"Initial"===e._tag||n&&e.waiting||(r(B(e)),i())});return ei.sync(i)})});e.s(["AtomRegistry",()=>ef,"getResult",0,ey,"make",0,em,"toStream",0,eh,"toStreamResult",0,eg],840529);var eb=e.i(514499),ev=e.i(189499);function eS(e){ev.unstable_scheduleCallback(ev.unstable_LowPriority,e)}let ex=eb.createContext(em({scheduleTask:eS,defaultIdleTTL:400})),ew=e=>{let t=eb.useRef(null);return null===t.current&&(t.current={registry:em({scheduleTask:e.scheduleTask??eS,initialValues:e.initialValues,timeoutResolution:e.timeoutResolution,defaultIdleTTL:e.defaultIdleTTL})}),eb.useEffect(()=>(t.current?.timeout!==void 0&&clearTimeout(t.current.timeout),()=>{t.current.timeout=setTimeout(()=>{t.current?.registry.dispose(),t.current=null},500)}),[t]),eb.createElement(ex.Provider,{value:t.current.registry},e?.children)};e.s(["RegistryContext",0,ex,"RegistryProvider",0,ew,"scheduleTask",()=>eS],488043)},240786,274623,e=>{"use strict";var t=e.i(744169),r=e.i(448961),n=e.i(266417),o=e.i(51889),i=e.i(632488),s=e.i(777444),a=e.i(741140),u=e.i(284445),l=e.i(878753),c=e.i(343469),p=e.i(980914),d=e.i(462241),m=e.i(559238),f=e.i(660421),h=e.i(915838),g=e.i(249646),y=e.i(643284),b=e.i(874068),v=e.i(232999),S=e.i(886999),x=e.i(862409),w=e.i(681830),O=e.i(717729),T=e.i(47342),_=e.i(277233),N=e.i(797734),E=e.i(788339),P=e.i(132428),A=e.i(890171),I=e.i(35575),U=o,k=p,L=m,R=O,j=e.i(617712);let M=e=>{let t=e;switch(t._tag){case"Failure":case"Success":return t;case"Left":return k.fail(t.left);case"Right":return k.succeed(t.right);case"Some":return k.succeed(t.value);case"None":return k.fail(new U.NoSuchElementException)}},C=e=>{let t=R.runFork(e);return(e,r,n=!1)=>{let o=M(e);if(o)return void r(o);let i=new j.SyncScheduler,s=t(e,{scheduler:i});i.flush();let a=s.unsafePoll();return a?void r(a):(s.addObserver(r),function(){s.removeObserver(r),n||s.unsafeInterruptAsFork(L.none)})}};var V=e.i(840529),D=e.i(911601);let B="~effect-atom/atom/Atom",z=e=>(0,w.hasProperty)(e,B),F="~effect-atom/atom/Atom/Writable",q={[B]:B,pipe(){return(0,x.pipeArguments)(this,arguments)},toJSON(){return{_id:"Atom",keepAlive:this.keepAlive,lazy:this.lazy,label:this.label}},toString(){return y.format(this)},[y.NodeInspectSymbol](){return this.toJSON()}},G={...q,atom(e,t){let r=Z(e,t);return W(e=>{let t=e.self(),n=e(this);return"Success"!==n._tag?D.replacePrevious(n,t):r(e,n.value)})},fn(e,t){return 0==arguments.length?(e,t)=>K(this,e,t):K(this,e,t)},pull(e,t){let r=ee(0),n=W(n=>{let o=n.self(),i=n(this);return"Success"!==i._tag?D.replacePrevious(i,o):er(n,eO(n,r,e,t),D.initial(!0),i.value)});return eT(r,n)},subscriptionRef(e){return ec(W(t=>{let r=t.self(),n=t(this);if("Success"!==n._tag)return D.replacePrevious(n,r);let o="function"==typeof e?e(t):e;return A.SubscriptionRefTypeId in o?o:er(t,o,D.initial(!0),n.value)}),(e,t)=>{let r=D.getOrThrow(e(this));return el(e,t,r)})},subscribable(e){return em(W(t=>{let r=t.self(),n=t(this);if("Success"!==n._tag)return D.replacePrevious(n,r);let o="function"==typeof e?e(t):e;return P.isSubscribable(o)?o:er(t,o,D.initial(!0),n.value)}),(e,t)=>{let r=D.getOrThrow(e(this));return el(e,t,r)})}},K=(e,r,n)=>{let[o,i,s]=eS(n?.reactivityKeys?(e,o)=>{let i=r(e,o);return l.isEffect(i)?t.mutation(i,n.reactivityKeys):E.ensuring(i,t.invalidate(n.reactivityKeys))}:r,n);return J(t=>{t.get(s);let r=t.self(),n=t.get(e);return"Success"!==n._tag?D.replacePrevious(n,r):o(t,n.value)},i)},H={...q,[F]:F},$=e=>F in e,W=(e,t)=>{let r=Object.create(q);return r.keepAlive=!1,r.lazy=!0,r.read=e,r.refresh=t,r},J=(e,t,r)=>{let n=Object.create(H);return n.keepAlive=!1,n.lazy=!0,n.read=e,n.write=t,n.refresh=r,n};function Y(e,t){e.setSelf(t)}let Q=(e,t)=>{let r=Z(e,t);return B in r?r:W(r)},X=e=>S.TypeId in e||c.TypeId in e,Z=(e,t)=>{if("function"!=typeof e||l.isEffect(e)||E.StreamTypeId in e){if((0,w.isObject)(e)){if(X(e));else if(l.EffectTypeId in e)return function(r,n){return et(r,e,t,n)};else if(E.StreamTypeId in e)return function(r,n){return ea(r,e,t,n)}}}else{let r=e;return function(e,n){let o=r(e);if((0,w.isObject)(o)){if(X(o));else if(l.EffectTypeId in o)return et(e,o,t,n);else if(E.StreamTypeId in o)return ea(e,o,t,n)}return o}}return ee(e)},ee=e=>J(function(t){return e},Y),et=(e,t,r,n)=>er(e,t,r?.initialValue!==void 0?D.success(r.initialValue):D.initial(),n,r?.uninterruptible);function er(e,t,r,n=O.defaultRuntime,o=!1){let i,s=e.self(),u=l.runSync(N.make());e.addFinalizer(()=>{l.runFork(N.close(u,p.void))});let c=new Map(n.context.unsafeMap);c.set(N.Scope.key,u),c.set(V.AtomRegistry.key,e.registry);let d=O.make({context:a.unsafeMake(c),fiberRefs:n.fiberRefs,runtimeFlags:n.runtimeFlags}),m=!1,f=C(d)(t,function(t){i=D.fromExitWithPrevious(t,s),m&&e.setSelf(i)},o);return(m=!0,void 0!==f&&e.addFinalizer(f),void 0!==i)?i:"Some"===s._tag?D.waitingFrom(s):D.waiting(r)}let en=e=>{let r=t.layer;function n(t){let o=Object.create(G);o.keepAlive=!1,o.lazy=!0,o.refresh=void 0,o.factory=n;let i=eE("function"==typeof t?W(e=>b.provideMerge(t(e),r)):W(()=>b.provideMerge(t,r)));return o.layer=i,o.read=function(t){let r=t(i);return et(t,l.flatMap(l.flatMap(l.scope,t=>b.buildWithMemoMap(r,e.memoMap,t)),e=>l.provide(l.runtime(),e)),{uninterruptible:!0})},o}n.memoMap=e.memoMap,n.addGlobalLayer=e=>{r=b.provideMerge(r,b.provide(e,t.layer))};let o=Q(l.scopeWith(r=>b.buildWithMemoMap(t.layer,e.memoMap,r)).pipe(l.map(a.get(t.Reactivity))));return n.withReactivity=e=>t=>eL(t,r=>{let n=D.getOrThrow(r(o));return r.addFinalizer(n.unsafeRegister(e,()=>{r.refresh(t)})),r.subscribe(t,e=>r.setSelf(e)),r.once(t)}),n},eo=(0,g.globalValue)("@effect-atom/atom/Atom/defaultMemoMap",()=>l.runSync(b.makeMemoMap)),ei=(0,g.globalValue)("@effect-atom/atom/Atom/defaultContext",()=>en({memoMap:eo})),es=ei.withReactivity,ea=(e,t,r,n)=>eu(e,t,r?.initialValue!==void 0?D.success(r.initialValue):D.initial(),n);function eu(e,t,r,n=O.defaultRuntime){let u=e.self(),l=i.readWithCause({onInput:t=>i.suspend(()=>{let r=s.last(t);return"Some"===r._tag&&e.setSelf(D.success(r.value,{waiting:!0})),l}),onFailure:t=>i.sync(()=>{e.setSelf(D.failureWithPrevious(t,{previous:e.self()}))}),onDone:t=>i.sync(()=>{(0,h.pipe)(e.self(),S.flatMap(D.value),S.match({onNone:()=>e.setSelf(D.failWithPrevious(new o.NoSuchElementException,{previous:e.self()})),onSome:t=>e.setSelf(D.success(t))}))})}),c=C(O.make({context:a.add(n.context,V.AtomRegistry,e.registry),fiberRefs:n.fiberRefs,runtimeFlags:n.runtimeFlags}))(i.runDrain(i.pipeTo(E.toChannel(t),l)),h.constVoid,!1);return(void 0!==c&&e.addFinalizer(c),"Some"===u._tag)?D.waitingFrom(u):D.waiting(r)}let el=(e,t,r=O.defaultRuntime)=>P.TypeId in t?(e.addFinalizer(t.changes.pipe(E.runForEach(t=>(e.setSelf(t),l.void)),O.runCallback(r))),O.runSync(r)(t.get)):"Success"!==t._tag?t:eu(e,t.value.changes,D.initial(!0),r),ec=(e,t)=>J(r=>{let n=r(e);return A.SubscriptionRefTypeId in n||D.isSuccess(n)?t(r,n):n},function(t,r){let n=t.get(e);A.SubscriptionRefTypeId in n?l.runSync(A.set(n,r)):D.isSuccess(n)&&l.runSync(A.set(n.value,r))}),ep=e=>ec(W(t=>{let r="function"==typeof e?e(t):e;return A.SubscriptionRefTypeId in r?r:er(t,r,D.initial(!0))}),el),ed=e=>em(W(t=>{let r="function"==typeof e?e(t):e;return P.isSubscribable(r)?r:er(t,r,D.initial(!0))}),el),em=(e,t)=>W(r=>{let n=r(e);return P.isSubscribable(n)||D.isSuccess(n)?t(r,n):n}),ef=function(...e){return 0===e.length?eh:eh(...e)},eh=(e,t)=>{let r=ee([0,void 0]),n=t?.initialValue!==void 0;return J(function(o){o.isFn=!0;let[i,s]=o.get(r);return 0===i?n?t.initialValue:S.none():n?e(s,o):S.some(e(s,o))},function(e,t){eD(()=>{e.set(r,[e.get(r)[0]+1,t]),e.refreshSelf()})})},eg=Symbol.for("@effect-atom/atom/Atom/Reset"),ey=Symbol.for("@effect-atom/atom/Atom/Interrupt"),eb=function(...e){return 0===e.length?ev:ev(...e)},ev=(e,t)=>{let[r,n]=eS(e,t);return J(r,n)};function eS(e,t){let r=ee([0,void 0]),n=t?.initialValue!==void 0?D.success(t.initialValue):D.initial(),i=t?.concurrent?Q(e=>{let t=new Set;return e.addFinalizer(()=>t.forEach(e=>e.unsafeInterruptAsFork(m.none))),t}):void 0;return[function(t,s){let a=i?t(i):void 0;t.isFn=!0;let[u,c]=t.get(r);if(0===u)return n;if(c===ey)return D.failureWithPrevious(o.interrupt(m.none),{previous:t.self()});let p=e(c,t);if(l.EffectTypeId in p){if(a){let e=p;p=l.flatMap(l.runtime(),t=>{let r=O.runFork(t,e);a.add(r);let n=Array.from(a);return r.addObserver(()=>a.delete(r)),ex(n)})}return er(t,p,n,s,!1)}return eu(t,p,n,s)},function(e,t){eD(()=>{t===eg?e.set(r,[0,void 0]):t===ey?e.set(r,[e.get(r)[0]+1,ey]):e.set(r,[e.get(r)[0]+1,t]),e.refreshSelf()})},r]}let ex=e=>l.async(t=>{let r,n,i=0;function s(e,t=!1){"Failure"===e._tag?r=r?o.parallel(e.cause,r):e.cause:r||(n=e),i++,t||a()}function a(){for(;i<e.length;){let t=e[i],r=t.unsafePoll();if(!r)return t.addObserver(s);s(r,!0)}t(r?p.failCause(r):n||p.failCause(o.empty))}return a(),l.sync(()=>{i<e.length&&e[i].removeObserver(s)})}),ew=(e,t)=>{let r=ee(0),n=W(Z(function(n){return eO(n,r,e,t)}));return eT(r,n)},eO=(e,t,r,a)=>l.flatMap(i.toPull(E.toChannel("function"==typeof r?r(e):r)),r=>{let i=l.unsafeMakeSemaphore(1),u=S.getOrThrow(d.getCurrentFiber()),p=u.currentContext,m=s.empty(),h=l.flatMap(l.locally(l.suspend(()=>r),f.currentContext,p),c.match({onLeft:()=>{let e=s.toReadonlyArray(m);return n.isNonEmptyArray(e)?l.succeed({done:!0,items:e}):l.fail(new o.NoSuchElementException("Atom.pull: no items"))},onRight(e){let t;a?.disableAccumulation?t=e:m=t=s.appendAll(m,e);let r=s.toReadonlyArray(t);return n.isNonEmptyArray(r)?l.succeed({done:!1,items:r}):h}})),g=i.withPermits(1)(h),y=C(O.make({context:p,fiberRefs:u.getFiberRefs(),runtimeFlags:O.defaultRuntime.runtimeFlags})),b=new Set;return e.addFinalizer(()=>{for(let e of b)e()}),e.once(t),e.subscribe(t,()=>{let t;e.setSelf(D.waitingFrom(e.self())),(t=y(g,r=>{t&&b.delete(t);let n=D.fromExitWithPrevious(r,e.self()),o=b.size>0;e.setSelf(o?D.waiting(n):n)}))&&b.add(t)}),h}),eT=(e,t)=>J(t.read,function(t,r){t.set(e,t.get(e)+1)}),e_="undefined"==typeof WeakRef||"undefined"==typeof FinalizationRegistry?e=>{let t=v.empty();return function(r){let n=v.get(t,r);if("Some"===n._tag)return n.value;let o=e(r);return v.set(t,r,o),o}}:e=>{let t=v.empty(),r=new FinalizationRegistry(e=>{v.remove(t,e)});return function(n){let o=v.get(t,n).pipe(S.flatMapNullable(e=>e.deref()));if("Some"===o._tag)return o.value;let i=e(n);return v.set(t,n,new WeakRef(i)),r.register(i,n),i}},eN=(0,h.dual)(2,(e,t)=>{function r(r){let n=r(e);return"Initial"===n._tag?D.waiting(r(t)):n}return $(e)?J(r,e.write,e.refresh??function(t){t(e)}):W(r,e.refresh??function(t){t(e)})}),eE=e=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,keepAlive:!0}),eP=e=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,keepAlive:!1}),eA=(0,h.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,lazy:t})),eI=(0,h.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,label:[t,Error().stack?.split("\n")[5]??""]})),eU=(0,h.dual)(2,(e,t)=>{let r=u.decode(t),n=u.isFinite(r);return Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,keepAlive:!n,idleTTL:n?u.toMillis(r):void 0})}),ek=(0,h.dual)(2,(e,t)=>[e,t]),eL=(0,h.dual)(2,(e,t)=>$(e)?J(t,function(t,r){t.set(e,r)},e.refresh??function(t){t(e)}):W(t,e.refresh??function(t){t(e)})),eR=(0,h.dual)(2,(e,t)=>eL(e,r=>t(r(e)))),ej=(0,h.dual)(2,(e,t)=>eR(e,D.map(t))),eM=(0,h.dual)(2,(e,t)=>{let r=u.toMillis(t);return eL(e,function(t){let n,o=t.once(e);function i(){n=void 0,t.setSelf(o)}return t.addFinalizer(function(){n&&clearTimeout(n)}),t.subscribe(e,function(e){o=e,n&&clearTimeout(n),n=setTimeout(i,r)}),o})}),eC=e=>{let t=0,r=ee([0,void 0]);return J(t=>{let n=t.once(e),o=!1;t.subscribe(e,e=>{if(n=e,i.size>0)return;if(o=!1,!D.isResult(e))return t.setSelf(e);let r=S.getOrUndefined(t.self());switch(e._tag){case"Initial":D.isInitial(r)&&t.setSelf(e);return;case"Success":D.isSuccess(r)?!e.waiting&&e.timestamp>=r.timestamp&&t.setSelf(e):t.setSelf(e);return;case"Failure":return t.setSelf(e)}});let i=new Set,s=new Set;return t.subscribe(r,([,r])=>{let a;i.has(r)||(i.add(r),a=t.registry.subscribe(r,u=>{if(D.isSuccess(u)&&u.waiting)return t.setSelf(u.value);i.delete(r),a&&(s.delete(a),a()),o||D.isFailure(u)||(o=!0),0===i.size&&(o?(o=!1,t.refresh(e)):t.setSelf(n))},{immediate:!0}),i.has(r)?s.add(a):a())}),t.addFinalizer(()=>{for(let e of s)e();i.clear(),s.clear()}),n},(e,n)=>e.set(r,[++t,n]),t=>t(e))},eV=(0,h.dual)(2,(e,t)=>{let r=ee(D.initial());return eb((n,o)=>{let i=t.reducer(o(e),n);D.isResult(i)&&(i=D.waiting(i,{touch:!0})),o.set(r,D.success(i,{waiting:!0})),o.set(e,r);let s="function"==typeof t.fn?eP(t.fn(e=>o.set(r,D.success(D.isResult(e)?D.waiting(e):e,{waiting:!0})))):t.fn;return o.set(s,n),l.async(e=>{o.subscribe(s,t=>{"Initial"===t._tag||t.waiting||(o.set(r,D.map(t,()=>i)),e(D.toExit(t)))},{immediate:!0})})})}),eD=I.batch,eB=W(e=>{let t=0;function r(){"visible"===document.visibilityState&&e.setSelf(++t)}return window.addEventListener("visibilitychange",r),e.addFinalizer(()=>{window.removeEventListener("visibilitychange",r)}),t}),ez=e=>t=>eL(t,r=>(r.once(e),r.subscribe(e,e=>r.refresh(t)),r.subscribe(t,e=>r.setSelf(e)),r.once(t))),eF=ez(eB),eq=e=>{let t=e.runtime.fn(l.fnUntraced(function*(t){let n=(yield*r.KeyValueStore).forSchema(e.schema);yield*n.set(e.key,t)})),n=e.runtime.atom(l.flatMap(r.KeyValueStore,t=>l.flatten(t.forSchema(e.schema).get(e.key))));return J(r=>(r.mount(t),D.getOrElse(r(n),e.defaultValue)),(e,r)=>{e.set(t,r),e.setSelf(r)})},eG=(e,t)=>{let r=t?.schema&&_.decodeEither(t.schema),n=t?.schema&&_.encodeEither(t.schema);return J(t=>{let n=()=>{if(eK.updating)return;let n=new URLSearchParams(window.location.search).get(e)||"";r?t.setSelf(c.getRight(r(n))):n!==S.getOrUndefined(t.self())&&t.setSelf(n)};window.addEventListener("popstate",n),window.addEventListener("pushstate",n),t.addFinalizer(()=>{window.removeEventListener("popstate",n),window.removeEventListener("pushstate",n)});let o=new URLSearchParams(window.location.search).get(e)||"";return r?c.getRight(r(o)):o},(t,r)=>{if(n){let t=S.flatMap(r,e=>c.getRight(n(e)));eK.updates.set(e,S.getOrElse(t,()=>"")),r=S.zipRight(t,r)}else eK.updates.set(e,r);t.setSelf(r),eK.timeout&&clearTimeout(eK.timeout),eK.timeout=setTimeout(eH,500)})},eK={timeout:void 0,updates:new Map,updating:!1};function eH(){eK.timeout=void 0,eK.updating=!0;let e=new URLSearchParams(window.location.search);for(let[t,r]of eK.updates.entries())r.length>0?e.set(t,r):e.delete(t);eK.updates.clear();let t=`${window.location.pathname}?${e.toString()}`;window.history.pushState({},"",t),eK.updating=!1}let e$=e=>E.unwrap(l.map(V.AtomRegistry,V.toStream(e))),eW=e=>E.unwrap(l.map(V.AtomRegistry,V.toStreamResult(e))),eJ=e=>l.map(V.AtomRegistry,t=>t.get(e)),eY=(0,h.dual)(2,(e,t)=>l.map(V.AtomRegistry,r=>r.modify(e,t))),eQ=(0,h.dual)(2,(e,t)=>l.map(V.AtomRegistry,r=>r.set(e,t))),eX=(0,h.dual)(2,(e,t)=>l.map(V.AtomRegistry,r=>r.update(e,t))),eZ=(e,t)=>l.flatMap(V.AtomRegistry,V.getResult(e,t)),e0=e=>l.map(V.AtomRegistry,t=>t.refresh(e)),e1="~effect-atom/atom/Atom/Serializable",e2=e=>e1 in e,e3=(0,h.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,label:e.label??[t.key,Error().stack?.split("\n")[5]??""],[e1]:{key:t.key,encode:T.encodeSync(t.schema),decode:T.decodeSync(t.schema)}})),e4="~effect-atom/atom/Atom/ServerValue",e6=(0,h.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,[e4]:t})),e8=e=>e6(e,(0,h.constant)(D.initial(!0))),e5=(0,h.dual)(2,(e,t)=>e4 in e?e[e4](e=>t.get(e)):t.get(e));e.s(["Interrupt",0,ey,"Reset",0,eg,"SerializableTypeId",0,e1,"ServerValueTypeId",0,e4,"TypeId",0,B,"WritableTypeId",0,F,"autoDispose",0,eP,"batch",0,eD,"context",0,en,"debounce",0,eM,"defaultMemoMap",0,eo,"family",0,e_,"fn",0,eb,"fnSync",0,ef,"get",0,eJ,"getResult",0,eZ,"getServerValue",0,e5,"initialValue",0,ek,"isAtom",0,z,"isSerializable",0,e2,"isWritable",0,$,"keepAlive",0,eE,"kvs",0,eq,"make",0,Q,"makeRefreshOnSignal",0,ez,"map",0,eR,"mapResult",0,ej,"modify",0,eY,"optimistic",0,eC,"optimisticFn",0,eV,"pull",0,ew,"readable",0,W,"refresh",0,e0,"refreshOnWindowFocus",0,eF,"runtime",0,ei,"searchParam",0,eG,"serializable",0,e3,"set",0,eQ,"setIdleTTL",0,eU,"setLazy",0,eA,"subscribable",0,ed,"subscriptionRef",0,ep,"toStream",0,e$,"toStreamResult",0,eW,"transform",0,eL,"update",0,eX,"windowFocusSignal",0,eB,"withFallback",0,eN,"withLabel",0,eI,"withReactivity",0,es,"withServerValue",0,e6,"withServerValueInitial",0,e8,"writable",0,J],274623);var e7=V,e9=e.i(214298),te=o,tt=p,tr=g,tn=e.i(514499),to=e.i(488043);let ti=(0,tr.globalValue)("@effect-atom/atom-react/storeRegistry",()=>new WeakMap);function ts(e,t){let r=ti.get(e);void 0===r&&(r=new WeakMap,ti.set(e,r));let n=r.get(t);if(void 0!==n)return n;let o={subscribe:r=>e.subscribe(t,r),snapshot:()=>e.get(t),getServerSnapshot:()=>e5(t,e)};return r.set(t,o),o}function ta(e,t){let r=ts(e,t);return tn.useSyncExternalStore(r.subscribe,r.snapshot,r.getServerSnapshot)}let tu=(0,tr.globalValue)("@effect-atom/atom-react/initialValuesSet",()=>new WeakMap),tl=e=>{let t=tn.useContext(to.RegistryContext),r=tu.get(t);for(let[n,o]of(void 0===r&&(r=new WeakSet,tu.set(t,r)),e))r.has(n)||(r.add(n),t.ensureNode(n).setValue(o))},tc=(e,t)=>{let r=tn.useContext(to.RegistryContext);return t?ta(r,tn.useMemo(()=>eR(e,t),[e,t])):ta(r,e)};function tp(e,t){tn.useEffect(()=>e.mount(t),[t,e])}function td(e,t,r){return r?.mode==="promise"||r?.mode==="promiseExit"?tn.useCallback(n=>{e.set(t,n);let o=e9.Effect.runPromiseExit(e7.getResult(e,t,{suspendOnWaiting:!0}));return"promise"===r.mode?o.then(tm):o},[e,t,r.mode]):tn.useCallback(r=>{e.set(t,"function"==typeof r?r(e.get(t)):r)},[e,t])}let tm=e=>{if(tt.isSuccess(e))return e.value;throw te.squash(e.cause)},tf=e=>{tp(tn.useContext(to.RegistryContext),e)},th=(e,t)=>{let r=tn.useContext(to.RegistryContext);return tp(r,e),td(r,e,t)},tg=e=>{let t=tn.useContext(to.RegistryContext);return tp(t,e),tn.useCallback(()=>{t.refresh(e)},[t,e])},ty=(e,t)=>{let r=tn.useContext(to.RegistryContext);return[ta(r,e),td(r,e,t)]},tb=(0,tr.globalValue)("@effect-atom/atom-react/atomPromiseMap",()=>({suspendOnWaiting:new Map,default:new Map}));function tv(e,t,r){let n=r?tb.suspendOnWaiting:tb.default,o=n.get(t);return void 0!==o||(o=new Promise(o=>{let i=e.subscribe(t,e=>{"Initial"===e._tag||r&&e.waiting||(setTimeout(i,1e3),o(),n.delete(t))})}),n.set(t,o)),o}function tS(e,t,r){let n=ta(e,t);if("Initial"===n._tag||r&&n.waiting)throw tv(e,t,r);return n}let tx=(e,t)=>{let r=tS(tn.useContext(to.RegistryContext),e,t?.suspendOnWaiting??!1);if("Failure"===r._tag&&!t?.includeFailure)throw te.squash(r.cause);return r},tw=(e,t,r)=>{let n=tn.useContext(to.RegistryContext);tn.useEffect(()=>n.subscribe(e,t,r),[n,e,t,r?.immediate])},tO=e=>{let[,t]=tn.useState(e.value);return tn.useEffect(()=>e.subscribe(t),[e]),e.value},tT=(e,t)=>tn.useMemo(()=>e.prop(t),[e,t]),t_=(e,t)=>tO(tT(e,t));e.s(["useAtom",0,ty,"useAtomInitialValues",0,tl,"useAtomMount",0,tf,"useAtomRef",0,tO,"useAtomRefProp",0,tT,"useAtomRefPropValue",0,t_,"useAtomRefresh",0,tg,"useAtomSet",0,th,"useAtomSubscribe",0,tw,"useAtomSuspense",0,tx,"useAtomValue",0,tc],240786)},802251,868451,e=>{"use strict";var t=e.i(360443),r=e.i(274623);e.s(["Atom",0,r],868451);var r=r;let n=r.context({memoMap:r.defaultMemoMap});n.addGlobalLayer(t.clientRuntimeLayer),e.s(["makeAtomRuntime",0,n],802251)},802291,e=>{"use strict";var t=e.i(240786),r=e.i(149605);let n=(0,e.i(802251).makeAtomRuntime)(r.WorkerClient.Default),o=()=>((0,t.useAtomMount)(n),null);e.s(["KaServices",0,o])},19048,e=>{"use strict";var t=e.i(514499),r=e.i(643658);let n=()=>{let e=t.default.useContext(r.RuntimeContext);if(null===e)throw Error("useRuntime must be used within a RuntimeProvider");return e};e.s(["useRuntime",0,n])},349067,e=>{"use strict";e.i(732286),e.i(802291),e.i(360443),e.i(19048),e.s([])}]);