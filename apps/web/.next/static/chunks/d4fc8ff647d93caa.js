(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,530479,876107,852694,8675,311746,114076,662260,881528,415660,731278,62684,583080,355949,325866,539810,975053,689822,662447,789897,193748,855682,315882,639337,485177,950868,e=>{"use strict";e.i(69368);var t,i,o=e.i(527828),a=e.i(46783),n=e.i(277233);let r={createdAt:o.BS.DateTimeInsertFromDateOmittable({description:"The date and time the record was created"}),updatedAt:o.BS.DateTimeUpdateFromDateOmittable({description:"The date and time the record was last updated"}),deletedAt:o.BS.FieldOptionOmittable(o.BS.DateTimeFromDate({description:"If not null, the date and time the record was deleted"}))},s={...{createdBy:o.BS.FieldOptionOmittable(n.String),updatedBy:o.BS.FieldOptionOmittable(n.String),deletedBy:o.BS.FieldOptionOmittable(n.String)},...r,version:a.Generated(n.Int.pipe(n.greaterThanOrEqualTo(1))),source:o.BS.FieldOptionOmittable(n.String)},d=(e,t)=>({...{...{id:e.modelIdSchema,_rowId:e.modelRowIdSchema},...s},...t});var l=o,m=a,c=n,h=n;e.i(102067);var p=e.i(649813),p=p;let u=p.make("account",{brand:"AccountId",annotations:{description:"A unique identifier for an account",schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/AccountId")}}),b=p.make("apikey",{brand:"ApiKeyId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/ApiKey"),description:"A unique identifier for an api key"}}),y=p.make("invitation",{brand:"InvitationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/InvitationId"),description:"A unique identifier for an invitation"}}),f=p.make("jwks",{brand:"JwksId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/JwksId"),description:"A unique identifier for a jwks"}}),I=p.make("member",{brand:"MemberId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/MemberId"),description:"A unique identifier for a member"}}),S=p.make("oauth_access_token",{brand:"OAuthAccessTokenId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthAccessTokenId"),description:"A unique identifier for an oauth access token"}}),g=p.make("oauth_application",{brand:"OAuthApplicationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthApplicationId"),description:"A unique identifier for an oauth application"}}),B=p.make("oauth_consent",{brand:"OAuthConsentId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OAuthConsentId"),description:"A unique identifier for an oauth consent"}}),O=p.make("passkey",{brand:"Passkey",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/PasskeyId"),description:"A unique identifier for a passkey"}}),w=p.make("rate_limit",{brand:"RateLimitId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/RateLimitId"),description:"A unique identifier for a rate limit"}}),T=p.make("session",{brand:"SessionId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SessionId"),description:"A unique identifier for a session"}}),k=p.make("sso_provider",{brand:"SsoProviderId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SsoProviderId"),description:"A unique identifier for an sso provider"}}),E=p.make("subscription",{brand:"SubscriptionId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SubscriptionId"),description:"A unique identifier for a subscription"}}),v=p.make("team_member",{brand:"TeamMemberId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/TeamMemberId"),description:"A unique identifier for a team member"}}),P=p.make("two_factor",{brand:"TwoFactorId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/TwoFactorId"),description:"A unique identifier for a two factor"}}),A=p.make("verification",{brand:"VerificationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/VerificationId"),description:"A unique identifier for a verification"}}),N=p.make("wallet_address",{brand:"WalletAddressId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/WalletAddressId"),description:"A unique identifier for a wallet address"}}),U=p.make("organization_role",{brand:"OrganizationRoleId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/OrganizationRoleId"),description:"A unique identifier for an organization role"}}),F=p.make("device_code",{brand:"OrganizationRoleId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/DeviceCodeId"),description:"A unique identifier for a device code"}});e.s(["AccountId",0,u,"ApiKeyId",0,b,"DeviceCodeId",0,F,"InvitationId",0,y,"JwksId",0,f,"MemberId",0,I,"OAuthAccessTokenId",0,S,"OAuthApplicationId",0,g,"OAuthConsentId",0,B,"OrganizationRoleId",0,U,"PasskeyId",0,O,"RateLimitId",0,w,"SessionId",0,T,"SsoProviderId",0,k,"SubscriptionId",0,E,"TeamMemberId",0,v,"TwoFactorId",0,P,"VerificationId",0,A,"WalletAddressId",0,N],581880);var p=p;let x=p.make("organization",{brand:"OrganizationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/OrganizationId"),description:"A unique identifier for an organization"}}),z=p.make("team",{brand:"TeamId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/TeamId"),description:"A unique identifier for a team"}}),K=p.make("file",{brand:"FileId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/FileId"),description:"A unique identifier for a file"}}),M=p.make("audit_log",{brand:"AuditLogId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/shared/AuditLogId"),description:"A unique identifier for an audit log"}}),Q=p.make("user",{brand:"UserId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/UserId"),description:"A unique identifier for a user"}});e.s(["AuditLogId",0,M,"FileId",0,K,"OrganizationId",0,x,"TeamId",0,z,"UserId",0,Q],451075);class q extends h.Union(u,b,y,I,g,S,B,O,T,k,E,E,v,P,A,N,U,F,x,z,Q).annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/AnyEntityId"),description:"Any entity id",title:"Any Entity Id",identifier:"AnyEntityId"}){}e.s(["AnyEntityId",()=>q],620494);var D=t||(t={});D.SharedTableNameKit=o.BS.stringLiteralKit(K.tableName,z.tableName,x.tableName,Q.tableName,M.tableName);class R extends D.SharedTableNameKit.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/SharedTableName"),description:"The set of table_names for entityIds within the shared-kernel",identifier:"SharedTableName",title:"Shared Table Name"}){static Tagged=D.SharedTableNameKit.toTagged("tableName");static Enum=D.SharedTableNameKit.Enum;static Options=D.SharedTableNameKit.Options;static is=D.SharedTableNameKit.is}D.SharedTableName=R;var C=i||(i={});C.IamTableNameKit=o.BS.stringLiteralKit(u.tableName,b.tableName,y.tableName,f.tableName,I.tableName,S.tableName,g.tableName,B.tableName,O.tableName,w.tableName,T.tableName,k.tableName,E.tableName,v.tableName,P.tableName,A.tableName,N.tableName,U.tableName,F.tableName);class L extends C.IamTableNameKit.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/iam/IamTableName"),description:"The set of table_names for entityIds within the iam domain slice",identifier:"IamTableName",title:"Iam Table Name"}){static Tagged=C.IamTableNameKit.toTagged("tableName");static Enum=C.IamTableNameKit.Enum;static Options=C.IamTableNameKit.Options;static is=C.IamTableNameKit.is}C.IamTableName=L;let _=o.BS.stringLiteralKit(...i.IamTableNameKit.Options,...t.SharedTableNameKit.Options);class W extends _.Schema.annotations({schemaId:Symbol.for("@beep/shared/domain/EntityIds/AnyTableName"),description:"The set of table_names for entityIds within the shared-kernel and iam domain slices",identifier:"AnyTableName",title:"Any Table Name"}){static Tagged=_.toTagged("tableName");static Enum=_.Enum;static Options=_.Options}e.s(["AnyTableName",()=>W,"AnyTableNameKit",0,_,"IamTableNames",()=>i,"SharedTableNames",()=>t],915795);class J extends m.Class("AuditLogModel")(d(M,{entityKind:W,entityId:q,action:c.String,userSessionId:l.BS.FieldOptionOmittable(T),userId:Q,userEmail:m.Sensitive(l.BS.Email.annotations({description:"The user's email address"})),userIp:l.BS.FieldOptionOmittable(l.BS.IP),oldValues:l.BS.FieldOptionOmittable(l.BS.Json),oldValuesJson:l.BS.FieldOptionOmittable(l.BS.Json),newValues:l.BS.FieldOptionOmittable(l.BS.Json),newValuesJson:l.BS.FieldOptionOmittable(l.BS.Json),metadataJson:l.BS.FieldOptionOmittable(l.BS.Json),metadata:l.BS.FieldOptionOmittable(l.BS.Json)})){}e.s(["Model",()=>J],876107),e.s([],852694);var j=a;let V=o.BS.stringLiteralKit(...i.IamTableNameKit.Options,...t.SharedTableNameKit.Options);class G extends V.Schema.annotations({schemaId:Symbol.for("@beep/shared-domain/EntityKind"),description:"The set of entity_kinds for entityIds within the shared-kernel",title:"Entity Kind",identifier:"EntityKind"}){static Tagged=V.toTagged("__entityKind");static Options=V.Options;static Enum=V.Enum;static is=V.is}e.s(["EntityKind",()=>G,"EntityKindKit",0,V],275189);var p=p;let $=p.make("inventory",{brand:"InventoryId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/InventoryId"),description:"A unique identifier for an inventory"}}),H=p.make("item",{brand:"ItemId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/ItemId"),description:"A unique identifier for an item"}}),Y=p.make("location",{brand:"LocationId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/LocationId"),description:"A unique identifier for a location"}}),X=p.make("order",{brand:"OrderId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/OrderId"),description:"A unique identifier for an order"}}),Z=p.make("uom",{brand:"UomId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/UomId"),description:"A unique identifier for a uom"}}),ee=p.make("warehouse",{brand:"WarehouseId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/WarehouseId"),description:"A unique identifier for a warehouse"}}),et=p.make("work",{brand:"WorkId",annotations:{schemaId:Symbol.for("@beep/shared/domain/EntityIds/wms/WorkId"),description:"A unique identifier for a work"}});e.s(["InventoryId",0,$,"ItemId",0,H,"LocationId",0,Y,"OrderId",0,X,"UomId",0,Z,"WarehouseId",0,ee,"WorkId",0,et],370188),e.s([],947683),e.i(947683),e.i(620494),e.i(275189);var ei=e.i(581880),eo=e.i(451075);e.i(915795),e.i(370188),e.s(["IamEntityIds",0,ei,"SharedEntityIds",0,eo],8675);var eo=eo;class ea extends j.Class("FileModel")(d(eo.FileId,{organizationId:eo.OrganizationId})){}e.s(["Model",()=>ea],311746),e.i(299333);var en=e.i(845015),er=o,es=e.i(714419),ed=e.i(878753),el=e.i(349543),em=e.i(47342),ec=n,eo=eo,eh=o;e.i(836199);var ep=e.i(20853),eu=e.i(421488),eb=a,ey=n,eo=eo;let ef=o.BS.stringLiteralKit("individual","team","enterprise"),eI=ef.toPgEnum,eS=ef.Enum,eg=ef.Options;class eB extends ef.Schema.annotations({schemaId:Symbol.for("@beep/shared-domain/Organization/schemas/OrganizationType"),identifier:"OrganizationType",title:"Organization Type",description:"The type of organization (individual, team, enterprise)"}){static Options=ef.Options;static Enum=ef.Enum}e.s(["OrganizationType",()=>eB,"OrganizationTypeEnum",0,eS,"OrganizationTypeOptions",0,eg,"makeOrganizationTypePgEnum",0,eI,"organizationTypeKit",0,ef],114076);let eO=o.BS.stringLiteralKit("active","canceled"),ew=eO.toPgEnum,eT=eO.Enum,ek=eO.Options;class eE extends eO.Schema{static Options=eO.Options;static Enum=eO.Enum}e.s(["SubscriptionStatus",()=>eE,"SubscriptionStatusEnum",0,eT,"SubscriptionStatusOptions",0,ek,"makeSubscriptionStatusPgEnum",0,ew],662260);let ev=o.BS.stringLiteralKit("free","plus","pro","enterprise"),eP=ev.toPgEnum,eA=ev.Enum,eN=ev.Options;class eU extends ev.Schema{static Options=ev.Options;static Enum=ev.Enum}e.s(["SubscriptionTier",()=>eU,"SubscriptionTierEnum",0,eA,"SubscriptionTierOptions",0,eN,"makeSubscriptionTierPgEnum",0,eP],881528),e.s([],415660);let eF=Symbol.for("@beep/shared-domain/OrganizationModel");class ex extends eb.Class("OrganizationModel")(d(eo.OrganizationId,{name:ey.NonEmptyString.annotations({description:"The organization's display name"}),slug:ep.Slug.pipe(ey.pattern(/^[a-z0-9]+(?:-[a-z0-9]+)*$/),ey.minLength(2),ey.maxLength(50)).annotations({description:"URL-friendly identifier for the organization"}),logo:eh.BS.FieldOptionOmittable(eu.Url.annotations({description:"URL to the organization's logo"})),metadata:eh.BS.FieldOptionOmittable(ey.String.annotations({description:"JSON metadata for additional organization data"})),type:eh.BS.toOptionalWithDefault(eB)(eS.individual).annotations({description:"The type of the organization"}),ownerUserId:eo.UserId.annotations({description:"The owner of the organization"}),isPersonal:eh.BS.BoolFalse.annotations({description:"Whether this organization is auto-created for a user"}),maxMembers:eh.BS.FieldOptionOmittable(ey.NonNegativeInt.annotations({description:"The maximum number of members allowed in the organization"})),features:eh.BS.FieldOptionOmittable(eh.BS.Json),settings:eh.BS.FieldOptionOmittable(eh.BS.Json),subscriptionTier:eh.BS.toOptionalWithDefault(eU)(eU.Enum.free).annotations({description:"The subscription tier of the organization"}),subscriptionStatus:eh.BS.toOptionalWithDefault(eE)(eE.Enum.active).annotations({description:"The subscription status of the organization"})}),{title:"Organization Model",description:"Organization model representing organizations.",schemaId:eF}){}e.s(["Model",()=>ex,"OrganizationModelSchemaId",0,eF],731278),e.s([],62684);class ez extends ec.String.annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefixEncoded"),identifier:"ShardPrefixEncoded",title:"Shard Prefix Encoded",description:"Raw string representation of a two-character hexadecimal shard prefix for S3 load distribution. Used to distribute files across S3 prefixes to prevent hotspotting.",examples:["a1","f3","00","ff","2b"]}){}class eK extends ec.NonEmptyTrimmedString.pipe(ec.pattern(er.BS.Regex.make(/^[0-9a-f]{2}$/i)),ec.brand("ShardPrefixDecoded")).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefixDecoded"),identifier:"ShardPrefixDecoded",title:"Shard Prefix Decoded",description:"Validated two-character hexadecimal shard prefix with branded type safety. Ensures proper format (exactly 2 hex characters) for consistent S3 load distribution.",examples:[er.BS.makeBranded("a1"),er.BS.makeBranded("F3"),er.BS.makeBranded("00"),er.BS.makeBranded("ff"),er.BS.makeBranded("2B")]}){}class eM extends ec.transformOrFail(ez,eK,{strict:!0,decode:(e,t,i)=>em.try({try:()=>em.decodeUnknownSync(eK)(e),catch:()=>new em.Type(i,e,"Invalid shard prefix format: must be exactly 2 hexadecimal characters")}),encode:(e,t,i)=>em.try({try:()=>em.decodeUnknownSync(ez)(e),catch:()=>new em.Type(i,e,"Failed to encode shard prefix to string representation")})}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/ShardPrefix"),identifier:"ShardPrefix",title:"Shard Prefix Transformation",description:"Bidirectional transformation for shard prefixes with validation. Converts between raw strings and validated branded types while ensuring proper hexadecimal format for S3 load distribution."}){static fromFileId=e=>{let t=Math.abs(el.string(e)).toString(16).slice(0,2).padStart(2,"0");return em.decodeSync(eM)(t)}}let eQ=["/",en.EnvValue,"/","tenants","/",ez,"/",eB,"/",ec.encodedSchema(eo.OrganizationId),"/",ec.String,"/",ec.String,"/",ec.String,"/",er.BS.YearEncoded,"/",er.BS.MonthNumber,"/",ec.encodedSchema(eo.FileId),".",ec.String];class eq extends ec.TemplateLiteral(...eQ).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathEncoded"),identifier:"UploadPathEncoded",title:"Upload Path Encoded",description:"Complete S3 object key as a string following the standardized upload path format: /{env}/tenants/{shard}/{orgType}/{orgId}/{entityKind}/{entityId}/{attribute}/{year}/{month}/{fileId}.{ext}"}){}let eD=ec.TemplateLiteralParser(...eQ).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathParser"),identifier:"UploadPathParser",title:"Upload Path Parser",description:"Bidirectional parser for upload path strings. Converts between string paths and typed component arrays, validating each segment according to its schema definition."}),eR=er.BS.Struct({env:en.EnvValue,fileId:eo.FileId,organizationType:eB,organizationId:eo.OrganizationId,entityKind:G,entityIdentifier:q,entityAttribute:ec.String,fileItemExtension:er.BS.FileExtension}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPathDecoded"),identifier:"UploadPathDecoded",title:"Upload Path Decoded Structure",description:"Structured data representation for upload paths. Contains all user-provided components needed to generate S3 paths. System automatically injects timestamp and shard prefix during encoding.",examples:[{env:"dev",fileId:eo.FileId.make("file__12345678-1234-1234-1234-123456789012"),organizationType:"individual",organizationId:eo.OrganizationId.make("organization__87654321-4321-4321-4321-210987654321"),entityKind:"user",entityIdentifier:eo.UserId.make("user__12345678-1234-1234-1234-123456789012"),entityAttribute:"avatar",fileItemExtension:"jpg"}]});class eC extends ec.transformOrFail(eR,eq,{strict:!0,decode:(e,t,i)=>{let o=es.now.pipe(ed.flatMap(t=>ed.flatMap(ed.all([ed.succeed(t),ed.succeed(eM.fromFileId(e.fileId)),ec.encode(er.BS.FileExtension)(e.fileItemExtension),ec.decode(er.BS.MonthNumberFromMonthInt)(es.getPartUtc(t,"month"))]),([t,i,o,a])=>ed.flatMap(ec.encode(eD)(["/",e.env,"/","tenants","/",i,"/",e.organizationType,"/",e.organizationId,"/",e.entityKind,"/",e.entityIdentifier,"/",e.entityAttribute,"/",es.getPartUtc(t,"year"),"/",a,"/",e.fileId,".",o]),e=>ec.decode(eq)(e)))));return ed.try({try:()=>ed.runSync(o),catch:t=>new em.Type(i,e,`Invalid upload path: ${t}`)})},encode:(e,t,i)=>{let o=ed.flatMap(ec.decode(eD)(e),e=>ed.flatMap(ed.all([ed.succeed(e[1]),ed.succeed(e[7]),ec.decodeUnknown(eo.OrganizationId)(e[9]),ec.decodeUnknown(G)(e[11]),ec.decodeUnknown(q)(e[13]),ed.succeed(e[15]),ec.decodeUnknown(eo.FileId)(e[21]),ec.decodeUnknown(er.BS.FileExtension)(e[23])]),([e,t,i,o,a,n,r,s])=>ec.decode(eR)({env:e,fileId:r,organizationType:t,organizationId:i,entityKind:o,entityIdentifier:a,entityAttribute:n,fileItemExtension:s})));return ed.try({try:()=>ed.runSync(o),catch:t=>new em.Type(i,e,`Failed to parse upload path: ${t}`)})}}).annotations({schemaId:Symbol.for("@beep/shared-domain/File/schemas/FilePath/UploadPath"),identifier:"UploadPath",title:"Upload Path Transformation",description:"Complete bidirectional transformation system for S3 upload paths. Handles conversion between structured upload data and S3 object keys with automatic timestamp injection, shard generation, and comprehensive validation. Ensures consistent path format across all file operations.",documentation:"Automatic shard prefix generation using fileId hash for load distribution\n- Current timestamp injection (year/month) for temporal organization\n- Comprehensive validation of all path components and format\n- Type-safe transformations with Effect-based error handling\n- Supports all entity types: organization, user, team\n- Compatible with all environments: dev, staging, prod"}){}e.s(["ShardPrefix",()=>eM,"ShardPrefixDecoded",()=>eK,"ShardPrefixEncoded",()=>ez,"UploadPath",()=>eC,"UploadPathDecoded",0,eR,"UploadPathEncoded",()=>eq,"UploadPathParser",0,eD],583080),e.s([],355949),e.s([],325866);var eL=o,e_=a,eW=n,eo=eo;let eJ=Symbol.for("@beep/shared-domain/TeamModel");class ej extends e_.Class("TeamModel")(d(eo.TeamId,{name:eW.NonEmptyString.annotations({description:"The team's name"}),description:eL.BS.FieldOptionOmittable(eW.String.annotations({description:"Description of the team's purpose"})),slug:eL.BS.Slug.annotations({description:"URL-friendly team identifier"}),metadata:eL.BS.FieldOptionOmittable(eW.String.annotations({description:"JSON metadata for additional team data"}))}),{title:"Team Model",description:"Team model representing teams within organizations.",schemaId:eJ}){}e.s(["Model",()=>ej,"TeamModelSchemaId",0,eJ],539810),e.s([],975053);let eV=o.BS.stringLiteralKit("male","female"),eG=eV.Enum,e$=eV.toPgEnum,eH=eV.Options;class eY extends eV.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/User/UserGender"),identifier:"UserGender",title:"User Gender",description:"The user's role in the system"}){static Options=eV.Options;static Enum=eV.Enum;static DropDownOptions=eV.Options.map(e=>({label:e,value:e}))}e.s(["UserGender",()=>eY,"UserGenderEnum",0,eG,"UserGenderKit",0,eV,"UserGenderOptions",0,eH,"makeUserGenderPgEnum",0,e$],689822);let eX=o.BS.stringLiteralKit("admin","super_admin","user","tenant","guest"),eZ=eX.Enum,e0=eX.toPgEnum,e8=eX.Options;class e1 extends eX.Schema.annotations({schemaId:Symbol.for("@beep/iam-domain/User/UserRole"),identifier:"UserRole",title:"User Role",description:"The user's role in the system"}){static Options=eX.Options;static Enum=eX.Enum}e.s(["UserRole",()=>e1,"UserRoleEnum",0,eZ,"UserRoleKit",0,eX,"UserRoleOptions",0,e8,"makeUserRolePgEnum",0,e0],662447),e.s([],789897);var e3=o,e2=a,e5=n,eo=eo;class e7 extends e2.Class("UserModel")(d(eo.UserId,{name:e5.NonEmptyString.annotations({description:"The user's display name"}),email:e3.BS.Email.annotations({description:"The user's email address"}),emailVerified:e3.BS.BoolWithDefault(!1),image:e3.BS.FieldOptionOmittable(e5.String.pipe(e5.pattern(/^https?:\/\/.+/)).annotations({description:"URL to the user's profile image"})),role:e3.BS.toOptionalWithDefault(e1)(e1.Enum.user).annotations({description:"The user's role in the system"}),gender:e3.BS.toOptionalWithDefault(eY)(eY.Enum.male).annotations({description:"The user's gender"}),banned:e3.BS.BoolWithDefault(!1).annotations({description:"Whether the user is currently banned"}),banReason:e3.BS.FieldOptionOmittable(e5.NonEmptyString.annotations({description:"Reason why the user was banned"})),banExpires:e3.BS.FieldOptionOmittable(e3.BS.DateTimeFromDate({description:"When the user's ban expires"})),isAnonymous:e3.BS.BoolWithDefault(!1).annotations({description:"Whether this user is anonymous (guest user)"}),phoneNumber:e3.BS.FieldOptionOmittable(e3.BS.Phone.annotations({description:"The user's phone number"})),phoneNumberVerified:e3.BS.BoolWithDefault(!1).annotations({description:"Whether the user's phone number has been verified"}),twoFactorEnabled:e3.BS.BoolWithDefault(!1).annotations({description:"Whether two-factor authentication is enabled for this user"}),username:e3.BS.FieldOptionOmittable(e5.NonEmptyTrimmedString.pipe(e5.lowercased()).annotations({description:"The user's username"})),displayUsername:e3.BS.FieldOptionOmittable(e5.NonEmptyTrimmedString.annotations({description:"The user's display name"})),stripeCustomerId:e3.BS.FieldOptionOmittable(e5.NonEmptyString.annotations({description:"Stripe customer ID for billing integration"})),lastLoginMethod:e3.BS.FieldOptionOmittable(e5.NonEmptyString.annotations({description:"The user's last login method"}))}),{title:"User Model",description:"User model representing application users with authentication and profile data.",schemaId:Symbol.for("@beep/iam-domain/UserModel")}){}e.s(["Model",()=>e7],193748);var e6=o,e4=e.i(886999);class e9 extends e6.BS.Class("NewUser")(e7.insert.pick("email","name","username","phoneNumber","gender","displayUsername"),{schemaId:Symbol.for("@beep/iam-domain/User/NewUser"),title:"New User",description:"The shape of a new user"}){static create=e=>e7.insert.make({email:e.email,name:e.name,username:e.username,phoneNumber:e.phoneNumber,gender:e.gender,displayUsername:e.displayUsername,emailVerified:!1,phoneNumberVerified:!1,banned:!1,createdBy:e4.some("system"),updatedBy:e4.some("system"),source:e4.some("sign-up")})}e.s(["NewUser",()=>e9],855682),e.s([],315882),e.s([],639337),e.s([],485177),e.i(584575);var te=e.i(505957),tt=e.i(915838);let ti=te.PathBuilder.createRoot("/auth"),to=ti.child("sign-in"),ta=ti.child("sign-up"),tn=ti.child("update-password"),tr=ti.child("request-reset-password"),ts=ti.child("reset-password"),td=ti.child("verify-email"),tl=ti.child("verify-phone"),tm=tl.child("resend"),tc=ti.child("accept-invitation"),th=ti.child("passkey"),tp=th.child("manage"),tu=th.child("register"),tb=ti.child("anonymous"),ty=tb.child("upgrade"),tf=ti.child("sign-out"),tI=ti.child("one-time-token"),tS=tI.child("generate"),tg=tI.child("verify"),tB=ti.child("siwe"),tO=tB.child("connect"),tw=tB.child("verify"),tT=ti.child("oauth"),tk=tT.child("callback"),tE=tT.child("success"),tv=tT.child("error"),tP=tT.child("complete"),tA=tT.child("link"),tN=ti.child("callback"),tU=ti.child("status"),tF=ti.child("success"),tx=ti.child("failure"),tz=ti.child("two-factor"),tK=tz.child("challenge"),tM=tz.child("otp"),tQ=tz.child("totp"),tq=tz.child("recovery"),tD=tz.child("backup-codes"),tR=tz.child("devices"),tC=ti.child("device"),tL=tC.child("start"),t_=tC.child("poll"),tW=tC.child("verify"),tJ=tC.child("status"),tj=te.PathBuilder.createRoot("/dashboard"),tV=tj.child("billing"),tG=tV.child("subscribe"),t$=tV.child("portal"),tH=tV.child("success"),tY=tV.child("cancel"),tX=tV.child("history"),tZ=tj.child("security"),t0=tZ.child("sessions"),t8=tZ.child("devices"),t1=tZ.child("passkeys"),t3=tZ.child("two-factor"),t2=tZ.child("recovery-codes"),t5=tZ.child("jwt"),t7=tj.child("api-keys"),t6=t7.child("new"),t4=tj.child("admin"),t9=t4.child("users"),ie=t4.child("sso"),it=t4.child("oidc"),ii=t4.child("permissions"),io=t4.child("oauth-clients"),ia=tj.child("user"),ir=tj.child("file-manager"),is=te.PathBuilder.createRoot("/oauth2"),id=is.child("authorize"),il=is.child("consent"),im=is.child("register"),ic=is.child("userinfo"),ih=is.child("clients"),ip=te.PathBuilder.createRoot("/api"),iu=ip.child("auth"),ib=iu.child("jwks"),iy=iu.child("device"),iI=ip.child("oauth2"),iS=iI.child("authorize"),ig=iI.child("token"),iB=iI.child("userinfo"),iO=iI.child("register"),iw=iI.child("client"),iT=te.PathBuilder.collection({root:"/",comingSoon:"/coming-soon",maintenance:"/maintenance",pricing:"/pricing",payment:"/payment",about:"/about-us",contact:"/contact-us",faqs:"/faqs",terms:"/terms",privacy:"/privacy-policy",auth:{signIn:to.root,signUp:ta.root,signOut:tf.root,updatePassword:tn.root,requestResetPassword:tr.root,resetPassword:ts.root,status:tU.root,success:tF.root,failure:tx.root,callback:tN.root,verification:{email:tt.pipe(td,e=>({root:e.root,verify:t=>te.PathBuilder.dynamicQueries(e.root)({token:t}),callback:(t,i)=>te.PathBuilder.dynamicQueries(e.root)({token:t,callbackURL:i}),error:t=>te.PathBuilder.dynamicQueries(e.root)({error:t}),status:t=>te.PathBuilder.dynamicQueries(e.root)({status:t})})),phone:tt.pipe(tl,e=>({root:e.root,verify:t=>te.PathBuilder.dynamicQueries(e.root)({code:t}),withStatus:t=>te.PathBuilder.dynamicQueries(e.root)({status:t}),error:t=>te.PathBuilder.dynamicQueries(e.root)({error:t}),resend:tm.root}))},twoFactor:tt.pipe(tz,e=>({root:e.root,challenge:tt.pipe(tK,e=>({root:e.root,withToken:t=>te.PathBuilder.dynamicQueries(e.root)({token:t}),trustedDevice:t=>te.PathBuilder.dynamicQueries(e.root)({token:t,trustDevice:"true"})})),otp:tt.pipe(tM,e=>({root:e.root,withStatus:t=>te.PathBuilder.dynamicQueries(e.root)({status:t}),error:t=>te.PathBuilder.dynamicQueries(e.root)({error:t})})),totp:tt.pipe(tQ,e=>({root:e.root,withState:t=>te.PathBuilder.dynamicQueries(e.root)({state:t}),error:t=>te.PathBuilder.dynamicQueries(e.root)({error:t})})),recovery:tt.pipe(tq,e=>({root:e.root,verify:e("verify"),withToken:t=>te.PathBuilder.dynamicQueries(e.root)({token:t})})),backupCodes:{root:tD.root},devices:{root:tR.root}})),acceptInvitation:tc.root,device:{root:tC.root,start:tL.root,poll:t_.root,status:tJ.root,verify:tW.root,approve:tC("approve"),denied:tC("denied"),success:tC("success"),withUserCode:e=>te.PathBuilder.dynamicQueries(tC.root)({userCode:e})},passkey:th.root,anonymous:tb.root,oauth:tT.root,oneTimeToken:tI.root,siwe:tB.root,routes:{signIn:tt.pipe(to,e=>({root:e.root,withCallback:t=>te.PathBuilder.dynamicQueries(e.root)({callbackURL:t}),withMethod:t=>te.PathBuilder.dynamicQueries(e.root)({method:t}),withCallbackAndMethod:(t,i)=>te.PathBuilder.dynamicQueries(e.root)({callbackURL:t,method:i}),withError:t=>te.PathBuilder.dynamicQueries(e.root)({error:t}),withState:t=>te.PathBuilder.dynamicQueries(e.root)({state:t})})),signUp:tt.pipe(ta,e=>({root:e.root,withCallback:t=>te.PathBuilder.dynamicQueries(e.root)({callbackURL:t}),withMethod:t=>te.PathBuilder.dynamicQueries(e.root)({method:t}),withPlan:t=>te.PathBuilder.dynamicQueries(e.root)({plan:t}),withSource:t=>te.PathBuilder.dynamicQueries(e.root)({source:t})})),requestResetPassword:tt.pipe(tr,e=>({root:e.root,withStatus:t=>te.PathBuilder.dynamicQueries(e.root)({status:t}),withEmail:t=>te.PathBuilder.dynamicQueries(e.root)({email:t})})),resetPassword:tt.pipe(ts,e=>({root:e.root,withToken:t=>te.PathBuilder.dynamicQueries(e.root)({token:t}),withTokenAndStatus:(t,i)=>te.PathBuilder.dynamicQueries(e.root)({token:t,status:i}),withTokenAndError:(t,i)=>te.PathBuilder.dynamicQueries(e.root)({token:t,error:i}),withTokenAndCallback:(t,i)=>te.PathBuilder.dynamicQueries(e.root)({token:t,callbackURL:i})})),acceptInvitation:tt.pipe(tc,e=>({root:e.root,token:te.PathBuilder.dynamicPath(e.root),withStatus:t=>te.PathBuilder.dynamicQueries(e.root)({status:t})})),oauth:{root:tT.root,callback:tk.root,success:tE.root,error:tv.root,complete:tP.root,link:tA.root,withState:e=>te.PathBuilder.dynamicQueries(tT.root)({state:e}),provider:tt.flow(e=>tT.child(e),e=>({root:e.root,callback:e("callback"),link:e("link"),complete:e("complete"),error:e("error")}))},passkey:tt.pipe(th,e=>({root:e.root,manage:tp.root,register:tu.root,withState:t=>te.PathBuilder.dynamicQueries(e.root)({state:t}),withError:t=>te.PathBuilder.dynamicQueries(e.root)({error:t})})),anonymous:tt.pipe(tb,e=>({root:e.root,upgrade:ty.root,withCallback:t=>te.PathBuilder.dynamicQueries(e.root)({callbackURL:t})})),oneTimeToken:tt.pipe(tI,e=>({root:e.root,generate:tS.root,verify:tg.root,withToken:e=>te.PathBuilder.dynamicQueries(tg.root)({token:e}),withStatus:t=>te.PathBuilder.dynamicQueries(e.root)({status:t})})),siwe:tt.pipe(tB,e=>({root:e.root,connect:tO.root,verify:tw.root,withRedirect:t=>te.PathBuilder.dynamicQueries(e.root)({redirect:t})}))}},settings:{root:"/settings"},admin:{root:"/admin"},organizations:{root:"/organizations",...tt.flow(e=>te.PathBuilder.createRoot("/organizations").child(e),e=>({root:e.root,edit:e("edit"),members:e("members"),settings:e("settings"),billing:e("billing"),invitations:e("invitations"),security:e("security")}))},account:tt.flow(e=>te.PathBuilder.createRoot("/account").child(e),e=>({root:e.root,edit:e("edit"),security:e("security"),preferences:e("preferences"),notifications:e("notifications"),sessions:e("sessions"),devices:e("devices"),apiKeys:e("api-keys"),passkeys:e("passkeys"),twoFactor:e("two-factor"),recoveryCodes:e("recovery-codes"),jwt:e("jwt")})),fileManager:{root:ir.root},dashboard:{root:tj.root,user:{root:ia.root,account:ia("account"),edit:e=>ia.child(e)("edit")},security:{root:tZ.root,sessions:t0.root,devices:t8.root,passkeys:t1.root,twoFactor:t3.root,recoveryCodes:t2.root,jwt:t5.root},billing:{root:tV.root,subscribe:tG.root,portal:t$.root,success:tH.root,cancel:tY.root,history:tX.root},apiKeys:{root:t7.root,create:t6.root,detail:tt.flow(e=>t7.child(e),e=>({root:e.root,edit:e("edit"),rotate:e("rotate")}))},admin:{root:t4.root,permissions:ii.root,users:{root:t9.root,create:t9("create"),detail:tt.flow(e=>t9.child(e),e=>({root:e.root,edit:e("edit"),sessions:e("sessions"),impersonate:e("impersonate"),revokeSession:e("revoke-session"),revokeSessions:e("revoke-sessions"),ban:e("ban"),unban:e("unban"),permissions:e("permissions")}))},sso:{root:ie.root,create:ie("new"),provider:tt.flow(e=>ie.child(e),e=>({root:e.root,settings:e("settings"),delete:e("delete")}))},oidc:{root:it.root,register:it("register"),client:tt.flow(e=>it.child(e),e=>({root:e.root,edit:e("edit"),secrets:e("secrets")}))},oauthClients:{root:io.root,client:tt.flow(e=>io.child(e),e=>({root:e.root,revoke:e("revoke")}))}}},oauth2:{root:is.root,authorize:id.root,consent:il.root,register:im.root,userinfo:ic.root,clients:{root:ih.root,client:tt.flow(e=>ih.child(e),e=>({root:e.root,edit:e("edit"),secrets:e("secrets")}))}},api:{root:ip.root,auth:{root:iu.root,jwks:ib.root,device:{root:iy.root}},oauth2:{root:iI.root,authorize:iS.root,token:ig.root,userinfo:iB.root,register:iO.root,client:tt.flow(e=>iw.child(e),e=>({root:e.root}))}}});e.s(["paths",0,iT],950868),e.s([],530479)}]);