# AGENTS.md Files Inventory

Generated: 2026-01-18

## Summary
- Total AGENTS.md files: 48
- Total lines: 7,483
- Files with README.md: 48 (100%)
- Files with stale references: 1 (2%)
- Effect compliant: 30 (63%)
- Effect non-compliant: 18 (37%)

## Inventory Table

| Path | Package | Lines | package.json | README.md | Stale Refs | MCP Tools | Compliant |
|------|---------|-------|--------------|-----------|------------|-----------|-----------|
| AGENTS.md | @beep/root | 112 | Yes | Yes | 0 | No | Yes |
| apps/marketing/AGENTS.md | @beep/marketing | 63 | Yes | Yes | 0 | No | Yes |
| apps/server/AGENTS.md | @beep/server | 69 | Yes | Yes | 0 | No | No |
| apps/todox/AGENTS.md | @beep/todox | 672 | Yes | Yes | 0 | No | No |
| apps/web/AGENTS.md | @beep/web | 56 | Yes | Yes | 0 | No | Yes |
| packages/common/constants/AGENTS.md | @beep/constants | 97 | Yes | Yes | 0 | No | No |
| packages/common/errors/AGENTS.md | @beep/errors | 133 | Yes | Yes | 0 | No | No |
| packages/common/identity/AGENTS.md | @beep/identity | 78 | Yes | Yes | 0 | No | Yes |
| packages/common/invariant/AGENTS.md | @beep/invariant | 70 | Yes | Yes | 0 | No | Yes |
| packages/common/schema/AGENTS.md | @beep/schema | 96 | Yes | Yes | 0 | No | No |
| packages/common/types/AGENTS.md | @beep/types | 77 | Yes | Yes | 0 | No | Yes |
| packages/common/utils/AGENTS.md | @beep/utils | 98 | Yes | Yes | 0 | No | Yes |
| packages/comms/client/AGENTS.md | @beep/comms-client | 214 | Yes | Yes | 0 | No | Yes |
| packages/comms/domain/AGENTS.md | @beep/comms-domain | 208 | Yes | Yes | 0 | No | Yes |
| packages/comms/server/AGENTS.md | @beep/comms-server | 133 | Yes | Yes | 0 | No | Yes |
| packages/comms/tables/AGENTS.md | @beep/comms-tables | 163 | Yes | Yes | 0 | No | No |
| packages/comms/ui/AGENTS.md | @beep/comms-ui | 186 | Yes | Yes | 0 | No | No |
| packages/customization/client/AGENTS.md | @beep/customization-client | 165 | Yes | Yes | 0 | No | Yes |
| packages/customization/domain/AGENTS.md | @beep/customization-domain | 67 | Yes | Yes | 0 | No | Yes |
| packages/customization/server/AGENTS.md | @beep/customization-server | 88 | Yes | Yes | 0 | No | Yes |
| packages/customization/tables/AGENTS.md | @beep/customization-tables | 92 | Yes | Yes | 0 | No | Yes |
| packages/customization/ui/AGENTS.md | @beep/customization-ui | 106 | Yes | Yes | 0 | No | No |
| packages/documents/client/AGENTS.md | @beep/documents-client | 97 | Yes | Yes | 0 | No | Yes |
| packages/documents/domain/AGENTS.md | @beep/documents-domain | 98 | Yes | Yes | 0 | No | Yes |
| packages/documents/server/AGENTS.md | @beep/documents-server | 130 | Yes | Yes | 0 | No | Yes |
| packages/documents/tables/AGENTS.md | @beep/documents-tables | 68 | Yes | Yes | 0 | No | Yes |
| packages/documents/ui/AGENTS.md | @beep/documents-ui | 80 | Yes | Yes | 0 | No | No |
| packages/iam/client/AGENTS.md | @beep/iam-client | 309 | Yes | Yes | 0 | No | Yes |
| packages/iam/domain/AGENTS.md | @beep/iam-domain | 137 | Yes | Yes | 0 | No | Yes |
| packages/iam/server/AGENTS.md | @beep/iam-server | 131 | Yes | Yes | 0 | No | Yes |
| packages/iam/tables/AGENTS.md | @beep/iam-tables | 175 | Yes | Yes | 0 | No | No |
| packages/iam/ui/AGENTS.md | @beep/iam-ui | 225 | Yes | Yes | 0 | No | No |
| packages/_internal/db-admin/AGENTS.md | @beep/db-admin | 142 | Yes | Yes | 0 | No | Yes |
| packages/runtime/client/AGENTS.md | @beep/runtime-client | 144 | Yes | Yes | 0 | No | Yes |
| packages/runtime/server/AGENTS.md | @beep/runtime-server | 233 | Yes | Yes | 0 | No | No |
| packages/shared/client/AGENTS.md | @beep/shared-client | 314 | Yes | Yes | 0 | No | No |
| packages/shared/domain/AGENTS.md | @beep/shared-domain | 190 | Yes | Yes | 0 | No | Yes |
| packages/shared/env/AGENTS.md | @beep/shared-env | 128 | Yes | Yes | 0 | No | Yes |
| packages/shared/server/AGENTS.md | @beep/shared-server | 246 | Yes | Yes | 2 | No | Yes |
| packages/shared/tables/AGENTS.md | @beep/shared-tables | 143 | Yes | Yes | 0 | No | No |
| packages/shared/ui/AGENTS.md | @beep/shared-ui | 430 | Yes | Yes | 0 | No | No |
| packages/ui/core/AGENTS.md | @beep/ui-core | 172 | Yes | Yes | 0 | No | Yes |
| packages/ui/ui/AGENTS.md | @beep/ui | 136 | Yes | Yes | 0 | No | No |
| tooling/build-utils/AGENTS.md | @beep/build-utils | 148 | Yes | Yes | 0 | No | Yes |
| tooling/cli/AGENTS.md | @beep/repo-cli | 179 | Yes | Yes | 0 | No | No |
| tooling/repo-scripts/AGENTS.md | @beep/repo-scripts | 158 | Yes | Yes | 0 | No | No |
| tooling/testkit/AGENTS.md | @beep/testkit | 117 | Yes | Yes | 0 | No | Yes |
| tooling/utils/AGENTS.md | @beep/tooling-utils | 110 | Yes | Yes | 0 | No | Yes |

## Gap Analysis

### Missing AGENTS.md Files

The following packages have `package.json` but no `AGENTS.md`:

- packages/knowledge/server
- packages/knowledge/tables
- packages/knowledge/domain
- packages/knowledge/ui
- packages/knowledge/client
- packages/common/wrap
- packages/ui/editor
- packages/calendar/server
- packages/calendar/tables
- packages/calendar/domain
- packages/calendar/ui
- packages/calendar/client

**Note**: Build artifacts (`.next` directories) excluded from recommendations.

**Total missing**: 12 packages

### Files with Stale References

Only 1 file contains references to deleted packages:

- **packages/shared/server/AGENTS.md** (2 stale references)
  - References `@beep/core-db` (1 occurrence)
  - References `@beep/core-env` (1 occurrence)

### Non-Effect-Compliant Files (18)

The following files contain code examples that violate Effect patterns:

| Package | Issues |
|---------|--------|
| apps/server/AGENTS.md | Direct imports from 'effect' instead of namespace (1×) |
| apps/todox/AGENTS.md | Uses native .map() instead of A.map() (4×) |
| packages/common/constants/AGENTS.md | Uses native .filter() instead of A.filter() (1×) |
| packages/common/errors/AGENTS.md | Uses native .map() instead of A.map() (1×) |
| packages/common/schema/AGENTS.md | Uses native .map() instead of A.map() (1×) |
| packages/comms/tables/AGENTS.md | Uses Effect.runPromise instead of @beep/testkit (1×) |
| packages/comms/ui/AGENTS.md | Uses Effect.runPromise instead of @beep/testkit (2×) |
| packages/customization/ui/AGENTS.md | Uses Effect.runPromise instead of @beep/testkit (1×) |
| packages/documents/ui/AGENTS.md | Uses Effect.runPromise instead of @beep/testkit (1×) |
| packages/iam/tables/AGENTS.md | Uses native .map() instead of A.map() (1×) |
| packages/iam/ui/AGENTS.md | Uses native .map() (1×), .filter() (1×) |
| packages/runtime/server/AGENTS.md | Uses Effect.runPromise instead of @beep/testkit (1×) |
| packages/shared/client/AGENTS.md | Uses native .map() (1×), Effect.runPromise (1×) |
| packages/shared/tables/AGENTS.md | Uses native .map() (1×), .filter() (1×) |
| packages/shared/ui/AGENTS.md | Uses native .map() (4×), .filter() (2×) |
| packages/ui/ui/AGENTS.md | Uses Effect.runPromise instead of @beep/testkit (1×) |
| tooling/cli/AGENTS.md | Uses native .map() instead of A.map() (1×) |
| tooling/repo-scripts/AGENTS.md | Uses native .filter() (1×), .split() (1×) |

### Files with MCP Tool Shortcuts

**None detected** - No AGENTS.md files contain MCP tool shortcuts.

## Detailed Issues

### apps/server/AGENTS.md

- Direct imports from 'effect' instead of namespace (1 occurrences)

### apps/todox/AGENTS.md

- Uses native .map() instead of A.map() (4 occurrences)

### packages/common/constants/AGENTS.md

- Uses native .filter() instead of A.filter() (1 occurrences)

### packages/common/errors/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)

### packages/common/schema/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)

### packages/comms/tables/AGENTS.md

- Uses Effect.runPromise instead of @beep/testkit (1 occurrences)

### packages/comms/ui/AGENTS.md

- Uses Effect.runPromise instead of @beep/testkit (2 occurrences)

### packages/customization/ui/AGENTS.md

- Uses Effect.runPromise instead of @beep/testkit (1 occurrences)

### packages/documents/ui/AGENTS.md

- Uses Effect.runPromise instead of @beep/testkit (1 occurrences)

### packages/iam/tables/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)

### packages/iam/ui/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)
- Uses native .filter() instead of A.filter() (1 occurrences)

### packages/runtime/server/AGENTS.md

- Uses Effect.runPromise instead of @beep/testkit (1 occurrences)

### packages/shared/client/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)
- Uses Effect.runPromise instead of @beep/testkit (1 occurrences)

### packages/shared/server/AGENTS.md

- References deleted package: @beep/core-db (1 times)
- References deleted package: @beep/core-env (1 times)

### packages/shared/tables/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)
- Uses native .filter() instead of A.filter() (1 occurrences)

### packages/shared/ui/AGENTS.md

- Uses native .map() instead of A.map() (4 occurrences)
- Uses native .filter() instead of A.filter() (2 occurrences)

### packages/ui/ui/AGENTS.md

- Uses Effect.runPromise instead of @beep/testkit (1 occurrences)

### tooling/cli/AGENTS.md

- Uses native .map() instead of A.map() (1 occurrences)

### tooling/repo-scripts/AGENTS.md

- Uses native .filter() instead of A.filter() (1 occurrences)
- Uses native .split() instead of Str.split() (1 occurrences)

## Recommendations

### Immediate Actions

1. **Fix Stale References** (1 file)
   - Update `packages/shared/server/AGENTS.md` to replace:
     - `@beep/core-db` → Current database package reference
     - `@beep/core-env` → `@beep/shared-env`

2. **Create Missing AGENTS.md** (12 files)
   - Use template from `.claude/agents/templates/agents-md-template.md`
   - Priority: knowledge/* and calendar/* packages

3. **Fix Effect Pattern Violations** (18 files)
   - Replace native array methods with Effect utilities
   - Replace `Effect.runPromise` with `@beep/testkit` imports
   - Update namespace imports to follow `.claude/rules/effect-patterns.md`

### Verification Checklist

Before marking Phase 1 complete:

- [ ] All stale package references resolved
- [ ] All missing AGENTS.md files created
- [ ] All Effect pattern violations fixed
- [ ] All cross-references validated (no broken links)
- [ ] Template compliance verified for new files

## Next Steps

1. Proceed to Phase 2: Fix stale references in `packages/shared/server/AGENTS.md`
2. Proceed to Phase 3: Create 12 missing AGENTS.md files
3. Proceed to Phase 4: Fix Effect pattern violations across 18 files
4. Final verification: Run cross-reference validation script
