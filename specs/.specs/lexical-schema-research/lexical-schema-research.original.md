I've cloned the official [lexical](https://lexical.dev/) repository in ./tmp/lexical. In tmp/lexical/packages/lexical/src/LexicalNodeState.ts they define the LexicalNodeState. I plan on replacing plate in apps/notes with lexical as it is more performant & type safe. One thing that frustrates me about platejs is lack of typesafety & validation capability of blocks/nodes (see contentRich: S.optional(S.Any) in apps/notes/src/server/api/routers/document.ts lines 37 - 93.)

Before I do anything. I want to create some very robust effect/Schemas to validate the serialized lexical editor state for persistence reasons. I want you to deploy several effect-researcher & explorer agents to scour the internet & lexical source code to create a 100% typesafe effect schema representation of the lexical editor state. The schema should be a recursive discriminated union schema making use of the S.Suspend property for schemas which reference themselves.
